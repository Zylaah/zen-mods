Directory structure:
└── zen-browser-desktop/
    ├── README.md
    ├── babel.config.json
    ├── CODE_OF_CONDUCT.md
    ├── CODEOWNERS
    ├── crowdin.yml
    ├── eslint.config.mjs
    ├── LICENSE
    ├── package.json
    ├── pyproject.toml
    ├── requirements.txt
    ├── SECURITY.md
    ├── surfer.json
    ├── svgo.config.js
    ├── tsconfig.json
    ├── .dockerignore
    ├── .editorconfig
    ├── .nvmrc
    ├── .prettierignore
    ├── .prettierrc.json
    ├── .python-version
    ├── .rust-toolchain
    ├── configs/
    │   ├── common/
    │   │   └── mozconfig
    │   ├── dumps/
    │   │   └── search-config-v2.json
    │   ├── linux/
    │   │   └── mozconfig
    │   ├── macos/
    │   │   └── mozconfig
    │   └── windows/
    │       └── mozconfig
    ├── docs/
    │   ├── contribute.md
    │   ├── live-folders-specs.md
    │   └── issue-metrics/
    │       ├── 2025_2025-06-01..2025-06-30.md
    │       ├── 2025_2025-07-01..2025-07-31.md
    │       ├── 2025_2025-08-01..2025-08-31.md
    │       ├── 2025_2025-09-01..2025-09-30.md
    │       ├── 2025_2025-10-01..2025-10-31.md
    │       ├── 2025_2025-11-01..2025-11-30.md
    │       ├── 2025_2025-12-01..2025-12-31.md
    │       └── 2026_2026-01-01..2026-01-31.md
    ├── locales/
    │   ├── language-maps
    │   ├── supported-languages
    │   ├── update-supported-languages.sh
    │   ├── ar/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── bg/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── bs/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── ca/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── cs/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── cy/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── da/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── de/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── el/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── en-GB/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── en-US/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── es-ES/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── et/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── fa/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── fi/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── fr/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── ga-IE/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── he/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── hu/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── id/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── is/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── it/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── ja/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── ko/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── lt/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── nb/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── nl/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── nn-NO/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── pl/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── pt-BR/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── pt-PT/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── ro/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── ru/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── sk/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── sv-SE/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── th/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── tr/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── uk/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── vi/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   ├── zh-CN/
    │   │   └── browser/
    │   │       └── browser/
    │   │           ├── zen-folders.ftl
    │   │           ├── zen-general.ftl
    │   │           ├── zen-menubar.ftl
    │   │           ├── zen-split-view.ftl
    │   │           ├── zen-vertical-tabs.ftl
    │   │           ├── zen-web-side-panels.ftl
    │   │           ├── zen-welcome.ftl
    │   │           ├── zen-workspaces.ftl
    │   │           ├── zenAppExtensionFields.ftl
    │   │           ├── zenNewWebPanel.ftl
    │   │           └── preferences/
    │   │               └── zen-preferences.ftl
    │   └── zh-TW/
    │       └── browser/
    │           └── browser/
    │               ├── zen-folders.ftl
    │               ├── zen-general.ftl
    │               ├── zen-menubar.ftl
    │               ├── zen-split-view.ftl
    │               ├── zen-vertical-tabs.ftl
    │               ├── zen-web-side-panels.ftl
    │               ├── zen-welcome.ftl
    │               ├── zen-workspaces.ftl
    │               ├── zenAppExtensionFields.ftl
    │               ├── zenNewWebPanel.ftl
    │               └── preferences/
    │                   └── zen-preferences.ftl
    ├── prefs/
    │   ├── README.md
    │   ├── fastfox/
    │   │   └── smoothscroll.yaml
    │   ├── firefox/
    │   │   ├── ai.yaml
    │   │   ├── browser.yaml
    │   │   ├── extensions.yaml
    │   │   ├── fullscreen.yaml
    │   │   ├── multilingual.yaml
    │   │   ├── newtab.yaml
    │   │   ├── pdf.yaml
    │   │   ├── performance.yaml
    │   │   ├── pip.yaml
    │   │   └── urlbar.yaml
    │   ├── privatefox/
    │   │   ├── disablemozilla.yaml
    │   │   └── privacy.yaml
    │   └── zen/
    │       ├── compact-mode.yaml
    │       ├── downloads.yaml
    │       ├── folders.yaml
    │       ├── glance.yaml
    │       ├── gtk.yaml
    │       ├── kbs.yaml
    │       ├── macos.yaml
    │       ├── media.yaml
    │       ├── mods.yaml
    │       ├── session-store.yaml
    │       ├── share.yaml
    │       ├── split-view.yaml
    │       ├── static.yaml
    │       ├── theme.yaml
    │       ├── updates.yaml
    │       ├── view.yaml
    │       ├── watermark.yaml
    │       ├── welcome.yaml
    │       ├── window-sync.yaml
    │       ├── windows.yaml
    │       ├── workspaces.yaml
    │       ├── zen-urlbar.yaml
    │       └── zen.yaml
    ├── scripts/
    │   ├── check_rc_response.py
    │   ├── copy_language_pack.py
    │   ├── download-language-packs.sh
    │   ├── fetch-formal-git-components.sh
    │   ├── import_external_tests.py
    │   ├── json_with_comments.py
    │   ├── prepare-flatpak-release.py
    │   ├── recalculate-patches.sh
    │   ├── remove-failed-jobs.sh
    │   ├── run_tests.py
    │   ├── update-surfer.sh
    │   ├── update_en_US_packs.py
    │   ├── update_external_patches.py
    │   ├── update_ff.py
    │   ├── update_service_dumps.py
    │   └── update_ts_types.py
    ├── src/
    │   ├── Cargo-lock.patch
    │   ├── Cargo-toml.patch
    │   ├── .hgignore
    │   ├── browser/
    │   │   ├── actors/
    │   │   │   ├── EncryptedMediaParent-sys-mjs.patch
    │   │   │   └── WebRTCParent-sys-mjs.patch
    │   │   ├── app/
    │   │   │   ├── splash-rc.patch
    │   │   │   └── macbuild/
    │   │   │       └── Contents/
    │   │   │           └── Info-plist-in.patch
    │   │   ├── base/
    │   │   │   ├── jar-mn.patch
    │   │   │   ├── moz-build.patch
    │   │   │   └── content/
    │   │   │       ├── aboutDialog-js.patch
    │   │   │       ├── aboutDialog-xhtml.patch
    │   │   │       ├── browser-addons-js.patch
    │   │   │       ├── browser-box-inc-xhtml.patch
    │   │   │       ├── browser-commands-js.patch
    │   │   │       ├── browser-development-helpers-js.patch
    │   │   │       ├── browser-fullScreenAndPointerLock-js.patch
    │   │   │       ├── browser-gestureSupport-js.patch
    │   │   │       ├── browser-init-js.patch
    │   │   │       ├── browser-js.patch
    │   │   │       ├── browser-pageActions-js.patch
    │   │   │       ├── browser-places-js.patch
    │   │   │       ├── browser-profiles-js.patch
    │   │   │       ├── browser-sets-inc.patch
    │   │   │       ├── browser-sets-js.patch
    │   │   │       ├── browser-siteIdentity-js.patch
    │   │   │       ├── browser-xhtml.patch
    │   │   │       ├── main-popupset-inc-xhtml.patch
    │   │   │       ├── navigator-toolbox-inc-xhtml.patch
    │   │   │       ├── navigator-toolbox-js.patch
    │   │   │       ├── nsContextMenu-sys-mjs.patch
    │   │   │       ├── zen-assets.inc.xhtml
    │   │   │       ├── zen-assets.jar.inc.mn
    │   │   │       ├── zen-commands.inc.xhtml
    │   │   │       ├── zen-keysets.inc.xhtml
    │   │   │       ├── zen-locales.inc.xhtml
    │   │   │       ├── zen-popupset.inc.xhtml
    │   │   │       ├── zen-preloaded.inc.xhtml
    │   │   │       ├── zen-sidebar-icons.inc.xhtml
    │   │   │       ├── zen-tabbrowser-elements.inc.xhtml
    │   │   │       └── zen-panels/
    │   │   │           ├── emojis-picker.inc
    │   │   │           ├── folders-search.inc
    │   │   │           ├── gradient-generator.inc
    │   │   │           ├── popups.inc
    │   │   │           └── site-data.inc
    │   │   ├── components/
    │   │   │   ├── BrowserContentHandler-sys-mjs.patch
    │   │   │   ├── BrowserGlue-sys-mjs.patch
    │   │   │   ├── aboutlogins/
    │   │   │   │   └── content/
    │   │   │   │       └── aboutLogins-html.patch
    │   │   │   ├── asrouter/
    │   │   │   │   └── modules/
    │   │   │   │       └── FeatureCallout-sys-mjs.patch
    │   │   │   ├── controlcenter/
    │   │   │   │   └── content/
    │   │   │   │       └── identityPanel-inc-xhtml.patch
    │   │   │   ├── customizableui/
    │   │   │   │   ├── CustomizableUI-sys-mjs.patch
    │   │   │   │   ├── CustomizeMode-sys-mjs.patch
    │   │   │   │   ├── ToolbarContextMenu-sys-mjs.patch
    │   │   │   │   └── content/
    │   │   │   │       ├── panelUI-inc-xhtml.patch
    │   │   │   │       └── panelUI-js.patch
    │   │   │   ├── extensions/
    │   │   │   │   └── parent/
    │   │   │   │       ├── ext-browser-js.patch
    │   │   │   │       └── ext-tabs-js.patch
    │   │   │   ├── newtab/
    │   │   │   │   └── README.md
    │   │   │   ├── places/
    │   │   │   │   ├── PlacesUIUtils-sys-mjs.patch
    │   │   │   │   └── content/
    │   │   │   │       ├── bookmarkProperties-xhtml.patch
    │   │   │   │       ├── browserPlacesViews-js.patch
    │   │   │   │       ├── editBookmark-js.patch
    │   │   │   │       └── editBookmarkPanel-inc-xhtml.patch
    │   │   │   ├── preferences/
    │   │   │   │   ├── jar-mn.patch
    │   │   │   │   ├── main-inc-xhtml.patch
    │   │   │   │   ├── main-js.patch
    │   │   │   │   ├── preferences-js.patch
    │   │   │   │   ├── preferences-xhtml.patch
    │   │   │   │   ├── sync-inc-xhtml.patch
    │   │   │   │   ├── zen-preferences-links.xhtml
    │   │   │   │   ├── zen-settings.js
    │   │   │   │   ├── zenKeyboardShortcuts.inc.xhtml
    │   │   │   │   ├── zenLooksAndFeel.inc.xhtml
    │   │   │   │   ├── zenMarketplace.inc.xhtml
    │   │   │   │   ├── zenTabsManagement.inc.xhtml
    │   │   │   │   └── dialogs/
    │   │   │   │       ├── syncChooseWhatToSync-js.patch
    │   │   │   │       └── syncChooseWhatToSync-xhtml.patch
    │   │   │   ├── screenshots/
    │   │   │   │   └── overlay/
    │   │   │   │       └── overlay-css.patch
    │   │   │   ├── search/
    │   │   │   │   ├── SearchOneOffs-sys-mjs.patch
    │   │   │   │   └── SearchUIUtils-sys-mjs.patch
    │   │   │   ├── sessionstore/
    │   │   │   │   ├── SessionFile-sys-mjs.patch
    │   │   │   │   ├── SessionSaver-sys-mjs.patch
    │   │   │   │   ├── SessionStartup-sys-mjs.patch
    │   │   │   │   ├── SessionStore-sys-mjs.patch
    │   │   │   │   ├── TabGroupState-sys-mjs.patch
    │   │   │   │   ├── TabState-sys-mjs.patch
    │   │   │   │   └── TabStateFlusher-sys-mjs.patch
    │   │   │   ├── sidebar/
    │   │   │   │   └── browser-sidebar-js.patch
    │   │   │   ├── tabbrowser/
    │   │   │   │   ├── AsyncTabSwitcher-sys-mjs.patch
    │   │   │   │   ├── TabsList-sys-mjs.patch
    │   │   │   │   ├── TabUnloader-sys-mjs.patch
    │   │   │   │   └── content/
    │   │   │   │       ├── browser-ctrlTab-js.patch
    │   │   │   │       ├── drag-and-drop-js.patch
    │   │   │   │       ├── tab-js.patch
    │   │   │   │       ├── tabbrowser-js.patch
    │   │   │   │       ├── tabgroup-js.patch
    │   │   │   │       └── tabs-js.patch
    │   │   │   └── urlbar/
    │   │   │       ├── UrlbarController-sys-mjs.patch
    │   │   │       ├── UrlbarMuxerStandard-sys-mjs.patch
    │   │   │       ├── UrlbarPrefs-sys-mjs.patch
    │   │   │       ├── UrlbarProviderHeuristicFallback-sys-mjs.patch
    │   │   │       ├── UrlbarProvidersManager-sys-mjs.patch
    │   │   │       ├── UrlbarResult-sys-mjs.patch
    │   │   │       ├── UrlbarUtils-sys-mjs.patch
    │   │   │       ├── UrlbarValueFormatter-sys-mjs.patch
    │   │   │       ├── UrlbarView-sys-mjs.patch
    │   │   │       └── content/
    │   │   │           └── UrlbarInput-mjs.patch
    │   │   ├── extensions/
    │   │   │   └── newtab/
    │   │   │       └── lib/
    │   │   │           └── ActivityStream-sys-mjs.patch
    │   │   ├── installer/
    │   │   │   ├── package-manifest-in.patch
    │   │   │   └── windows/
    │   │   │       ├── msix/
    │   │   │       │   └── AppxManifest-xml-in.patch
    │   │   │       └── nsis/
    │   │   │           ├── defines-nsi-in.patch
    │   │   │           ├── installer-nsi.patch
    │   │   │           ├── shared-nsh.patch
    │   │   │           └── uninstaller-nsi.patch
    │   │   ├── locales/
    │   │   │   └── en-US/
    │   │   │       └── installer/
    │   │   │           └── custom-properties.patch
    │   │   ├── modules/
    │   │   │   ├── BrowserDOMWindow-sys-mjs.patch
    │   │   │   ├── BrowserWindowTracker-sys-mjs.patch
    │   │   │   ├── ExtensionsUI-sys-mjs.patch
    │   │   │   └── URILoadingHelper-sys-mjs.patch
    │   │   └── themes/
    │   │       ├── linux/
    │   │       │   └── browser-css.patch
    │   │       ├── osx/
    │   │       │   └── browser-css.patch
    │   │       ├── shared/
    │   │       │   ├── browser-shared-css.patch
    │   │       │   ├── jar-inc-mn.patch
    │   │       │   ├── toolbarbuttons-css.patch
    │   │       │   ├── urlbar-searchbar-css.patch
    │   │       │   ├── urlbarView-css.patch
    │   │       │   ├── zen-sources.inc.mn
    │   │       │   ├── identity-block/
    │   │       │   │   └── identity-block-css.patch
    │   │       │   ├── preferences/
    │   │       │   │   └── zen-preferences.css
    │   │       │   ├── tabbrowser/
    │   │       │   │   ├── content-area-css.patch
    │   │       │   │   ├── ctrlTab-css.patch
    │   │       │   │   └── tabs-css.patch
    │   │       │   └── zen-icons/
    │   │       │       ├── check_unused_icons.py
    │   │       │       ├── icons.css
    │   │       │       ├── update-resources.sh
    │   │       │       ├── common/
    │   │       │       │   └── selectable/
    │   │       │       │       └── CREDITS.md
    │   │       │       ├── fluent/
    │   │       │       │   └── NOTE.md
    │   │       │       ├── nucleo/
    │   │       │       │   └── nucleo-copyright-notice.html
    │   │       │       └── sf/
    │   │       │           └── NOTE.md
    │   │       └── windows/
    │   │           └── browser-css.patch
    │   ├── devtools/
    │   │   ├── client/
    │   │   │   └── locales/
    │   │   │       └── en-US/
    │   │   │           └── toolbox-properties.patch
    │   │   ├── server/
    │   │   │   └── actors/
    │   │   │       └── animation-type-longhand-js.patch
    │   │   └── startup/
    │   │       ├── DevToolsStartup-sys-mjs.patch
    │   │       └── locales/
    │   │           └── en-US/
    │   │               └── key-shortcuts-ftl.patch
    │   ├── docshell/
    │   │   └── base/
    │   │       └── nsAboutRedirector-cpp.patch
    │   ├── dom/
    │   │   ├── base/
    │   │   │   ├── Document-cpp.patch
    │   │   │   └── use_counter_metrics-yaml.patch
    │   │   ├── chrome-webidl/
    │   │   │   └── MediaController-webidl.patch
    │   │   └── media/
    │   │       ├── mediacontrol/
    │   │       │   ├── MediaController-cpp.patch
    │   │       │   ├── MediaController-h.patch
    │   │       │   └── MediaStatusManager-cpp.patch
    │   │       └── mediaelement/
    │   │           └── HTMLMediaElement-cpp.patch
    │   ├── external-patches/
    │   │   ├── manifest.json
    │   │   ├── firefox/
    │   │   │   ├── README.md
    │   │   │   ├── fix_macos_crash_on_shutdown_firefox_149.patch
    │   │   │   ├── no_liquid_glass_icon.patch
    │   │   │   └── .gitkeep
    │   │   └── librewolf/
    │   │       ├── README.md
    │   │       └── firefox-in-ua.patch
    │   ├── gfx/
    │   │   └── wr/
    │   │       └── webrender/
    │   │           └── src/
    │   │               └── picture-rs.patch
    │   ├── image/
    │   │   └── decoders/
    │   │       ├── nsJXLDecoder-cpp.patch
    │   │       └── nsJXLDecoder-h.patch
    │   ├── layout/
    │   │   ├── generic/
    │   │   │   └── nsIFrame-cpp.patch
    │   │   └── style/
    │   │       ├── nsStyleSheetService-h.patch
    │   │       ├── nsStyleStruct-cpp.patch
    │   │       ├── nsStyleStruct-h.patch
    │   │       └── test/
    │   │           └── ListCSSProperties-cpp.patch
    │   ├── modules/
    │   │   └── libpref/
    │   │       ├── moz-build.patch
    │   │       └── init/
    │   │           └── StaticPrefList-yaml.patch
    │   ├── security/
    │   │   └── mac/
    │   │       └── hardenedruntime/
    │   │           └── production/
    │   │               └── firefox-browser-xml.patch
    │   ├── servo/
    │   │   └── components/
    │   │       └── style/
    │   │           ├── gecko/
    │   │           │   └── media_features-rs.patch
    │   │           ├── properties/
    │   │           │   └── longhands/
    │   │           │       └── ui-mako-rs.patch
    │   │           └── queries/
    │   │               ├── feature-rs.patch
    │   │               └── feature_expression-rs.patch
    │   ├── testing/
    │   │   ├── mochitest/
    │   │   │   └── browser-test-js.patch
    │   │   └── profiles/
    │   │       ├── mochitest/
    │   │       │   └── user-js.patch
    │   │       └── profileserver/
    │   │           └── user-js.patch
    │   ├── third_party/
    │   │   └── rust/
    │   │       └── mime_guess/
    │   │           └── src/
    │   │               └── mime_types-rs.patch
    │   ├── toolkit/
    │   │   ├── moz-configure.patch
    │   │   ├── actors/
    │   │   │   └── PictureInPictureChild-sys-mjs.patch
    │   │   ├── components/
    │   │   │   ├── downloads/
    │   │   │   │   └── DownloadList-sys-mjs.patch
    │   │   │   ├── extensions/
    │   │   │   │   └── parent/
    │   │   │   │       ├── ext-downloads-js.patch
    │   │   │   │       ├── ext-runtime-js.patch
    │   │   │   │       └── ext-tabs-base-js.patch
    │   │   │   ├── pictureinpicture/
    │   │   │   │   ├── PictureInPicture-sys-mjs.patch
    │   │   │   │   └── content/
    │   │   │   │       ├── player-js.patch
    │   │   │   │       └── player-xhtml.patch
    │   │   │   └── prompts/
    │   │   │       └── content/
    │   │   │           └── commonDialog-css.patch
    │   │   ├── content/
    │   │   │   ├── filepicker-properties.patch
    │   │   │   ├── xul-css.patch
    │   │   │   └── widgets/
    │   │   │       ├── arrowscrollbox-js.patch
    │   │   │       ├── browser-custom-element-mjs.patch
    │   │   │       ├── findbar-js.patch
    │   │   │       ├── infobar-css.patch
    │   │   │       ├── panel-js.patch
    │   │   │       ├── tabbox-js.patch
    │   │   │       └── moz-toggle/
    │   │   │           └── moz-toggle-css.patch
    │   │   ├── locales/
    │   │   │   └── en-US/
    │   │   │       └── chrome/
    │   │   │           └── mozapps/
    │   │   │               └── downloads/
    │   │   │                   └── unknownContentType-properties.patch
    │   │   ├── modules/
    │   │   │   ├── AppConstants-sys-mjs.patch
    │   │   │   ├── LightweightThemeConsumer-sys-mjs.patch
    │   │   │   ├── moz-build.patch
    │   │   │   ├── ShortcutUtils-sys-mjs.patch
    │   │   │   └── UpdateUtils-sys-mjs.patch
    │   │   ├── mozapps/
    │   │   │   ├── extensions/
    │   │   │   │   ├── AddonManager-sys-mjs.patch
    │   │   │   │   ├── content/
    │   │   │   │   │   └── aboutaddons-css.patch
    │   │   │   │   └── internal/
    │   │   │   │       └── AddonUpdateChecker-sys-mjs.patch
    │   │   │   ├── installer/
    │   │   │   │   └── windows/
    │   │   │   │       └── nsis/
    │   │   │   │           └── makensis-mk.patch
    │   │   │   └── update/
    │   │   │       └── updater/
    │   │   │           └── updater-common-build.patch
    │   │   ├── profile/
    │   │   │   ├── nsToolkitProfileService-cpp.patch
    │   │   │   └── zenToolkitProfileServiceDefaultOverride.h
    │   │   ├── themes/
    │   │   │   └── shared/
    │   │   │       ├── aboutReader-css.patch
    │   │   │       ├── menulist-css.patch
    │   │   │       ├── popup-css.patch
    │   │   │       ├── in-content/
    │   │   │       │   └── common-shared-css.patch
    │   │   │       ├── pictureinpicture/
    │   │   │       │   └── player-css.patch
    │   │   │       └── tree/
    │   │   │           └── tree-css.patch
    │   │   └── xre/
    │   │       └── nsXREDirProvider-cpp.patch
    │   ├── tools/
    │   │   └── signing/
    │   │       └── macos/
    │   │           └── mach_commands-py.patch
    │   ├── widget/
    │   │   ├── SwipeTracker-cpp.patch
    │   │   ├── cocoa/
    │   │   │   ├── nsDragService-mm.patch
    │   │   │   └── VibrancyManager-mm.patch
    │   │   └── gtk/
    │   │       └── nsAppShell-cpp.patch
    │   ├── xpfe/
    │   │   └── appshell/
    │   │       └── AppWindow-cpp.patch
    │   └── zen/
    │       ├── moz.build
    │       ├── zen.globals.mjs
    │       ├── ZenComponents.manifest
    │       ├── @types/
    │       │   ├── index.d.ts
    │       │   ├── lib.gecko.darwin.d.ts
    │       │   ├── lib.gecko.linux.d.ts
    │       │   ├── lib.gecko.nsresult.d.ts
    │       │   ├── lib.gecko.services.d.ts
    │       │   ├── lib.gecko.tweaks.d.ts
    │       │   ├── lib.gecko.win32.d.ts
    │       │   ├── lib.gecko.xpidl.d.ts
    │       │   └── zen.d.ts
    │       ├── common/
    │       │   ├── Components.manifest
    │       │   ├── jar.inc.mn
    │       │   ├── moz.build
    │       │   ├── zen-sets.js
    │       │   ├── ZenPreloadedScripts.js
    │       │   ├── zenThemeModifier.js
    │       │   ├── emojis/
    │       │   │   ├── fetch_emojis.py
    │       │   │   └── ZenEmojiPicker.mjs
    │       │   ├── modules/
    │       │   │   ├── ZenCommonUtils.mjs
    │       │   │   ├── ZenHasPolyfill.mjs
    │       │   │   ├── ZenMenubar.mjs
    │       │   │   ├── ZenSessionStore.mjs
    │       │   │   ├── ZenSidebarNotification.mjs
    │       │   │   ├── ZenStartup.mjs
    │       │   │   └── ZenUpdates.mjs
    │       │   ├── styles/
    │       │   │   ├── zen-animations.css
    │       │   │   ├── zen-branding.css
    │       │   │   ├── zen-browser-container.css
    │       │   │   ├── zen-browser-ui.css
    │       │   │   ├── zen-buttons.css
    │       │   │   ├── zen-omnibox.css
    │       │   │   ├── zen-overflowing-addons.css
    │       │   │   ├── zen-panel-ui.css
    │       │   │   ├── zen-popup.css
    │       │   │   ├── zen-sidebar-notification.css
    │       │   │   ├── zen-sidebar.css
    │       │   │   ├── zen-single-components.css
    │       │   │   ├── zen-theme.css
    │       │   │   ├── zen-toolbar.css
    │       │   │   ├── schemes/
    │       │   │   │   ├── dark.inc.css
    │       │   │   │   └── light.inc.css
    │       │   │   └── zen-panels/
    │       │   │       ├── bookmarks.css
    │       │   │       ├── dialog.css
    │       │   │       └── print.css
    │       │   └── sys/
    │       │       ├── ZenActorsManager.sys.mjs
    │       │       ├── ZenCustomizableUI.sys.mjs
    │       │       └── ZenUIMigration.sys.mjs
    │       ├── compact-mode/
    │       │   ├── jar.inc.mn
    │       │   ├── sidebar.inc.css
    │       │   ├── toolbar.inc.css
    │       │   ├── windows-captions-fix-active.inc.css
    │       │   ├── windows-captions-fix-default.inc.css
    │       │   ├── zen-compact-mode.css
    │       │   └── ZenCompactMode.mjs
    │       ├── downloads/
    │       │   ├── jar.inc.mn
    │       │   ├── zen-download-arc-animation.css
    │       │   ├── zen-download-box-animation.css
    │       │   └── ZenDownloadAnimation.mjs
    │       ├── drag-and-drop/
    │       │   ├── components.conf
    │       │   ├── jar.inc.mn
    │       │   ├── moz.build
    │       │   ├── nsIZenDragAndDrop.idl
    │       │   ├── nsZenDragAndDrop.cpp
    │       │   └── nsZenDragAndDrop.h
    │       ├── folders/
    │       │   ├── jar.inc.mn
    │       │   ├── zen-folders.css
    │       │   └── ZenFolder.mjs
    │       ├── fonts/
    │       │   ├── jar.inc.mn
    │       │   ├── JunicodeVF-Italic.woff2
    │       │   └── JunicodeVF-Roman.woff2
    │       ├── glance/
    │       │   ├── jar.inc.mn
    │       │   ├── moz.build
    │       │   ├── zen-glance.css
    │       │   ├── zen-glance.inc.xhtml
    │       │   ├── actors/
    │       │   │   ├── ZenGlanceChild.sys.mjs
    │       │   │   └── ZenGlanceParent.sys.mjs
    │       │   └── tests/
    │       │       └── GlanceTestUtils.sys.mjs
    │       ├── images/
    │       │   └── jar.inc.mn
    │       ├── kbs/
    │       │   ├── jar.inc.mn
    │       │   └── ZenKeyboardShortcuts.mjs
    │       ├── media/
    │       │   ├── jar.inc.mn
    │       │   ├── zen-media-controls.css
    │       │   ├── zen-media-controls.inc.xhtml
    │       │   └── ZenMediaController.mjs
    │       ├── mods/
    │       │   ├── components.conf
    │       │   ├── jar.inc.mn
    │       │   ├── moz.build
    │       │   ├── nsIZenModsBackend.idl
    │       │   ├── nsZenModsBackend.cpp
    │       │   ├── nsZenModsBackend.h
    │       │   ├── ZenMods.mjs
    │       │   ├── ZenStyleSheetCache.cpp
    │       │   ├── ZenStyleSheetCache.h
    │       │   └── actors/
    │       │       ├── ZenModsMarketplaceChild.sys.mjs
    │       │       └── ZenModsMarketplaceParent.sys.mjs
    │       ├── sessionstore/
    │       │   ├── moz.build
    │       │   ├── SessionComponents.manifest
    │       │   ├── ZenSessionManager.sys.mjs
    │       │   └── ZenWindowSync.sys.mjs
    │       ├── share/
    │       │   ├── moz.build
    │       │   └── share.schema.json
    │       ├── split-view/
    │       │   ├── jar.inc.mn
    │       │   ├── zen-decks.css
    │       │   ├── zen-split-group.inc.css
    │       │   └── zen-splitview-overlay.inc.xhtml
    │       ├── tabs/
    │       │   ├── jar.inc.mn
    │       │   ├── zen-essentials-promo.css
    │       │   ├── zen-tabs.css
    │       │   ├── ZenEssentialsPromo.mjs
    │       │   ├── ZenPinnedTabManager.mjs
    │       │   └── zen-tabs/
    │       │       ├── vertical-tabs-topbar.inc.css
    │       │       ├── vertical-tabs-topbuttons-fix.css
    │       │       └── vertical-tabs.css
    │       ├── tests/
    │       │   ├── ignorePrefs.json
    │       │   ├── manifest.toml
    │       │   ├── moz.build
    │       │   ├── compact_mode/
    │       │   │   ├── browser.toml
    │       │   │   └── browser_compact_mode_width.js
    │       │   ├── container_essentials/
    │       │   │   ├── browser.toml
    │       │   │   ├── browser_container_auto_switch.js
    │       │   │   └── browser_container_specific_essentials.js
    │       │   ├── folders/
    │       │   │   ├── browser.toml
    │       │   │   ├── browser_folder_basic_toggle.js
    │       │   │   ├── browser_folder_create.js
    │       │   │   ├── browser_folder_density.js
    │       │   │   ├── browser_folder_empty_tab.js
    │       │   │   ├── browser_folder_issue_9885.js
    │       │   │   ├── browser_folder_issue_9981.js
    │       │   │   ├── browser_folder_level_checks.js
    │       │   │   ├── browser_folder_max_subfolders.js
    │       │   │   ├── browser_folder_multiselected.js
    │       │   │   ├── browser_folder_owner_tabs.js
    │       │   │   ├── browser_folder_reset_button.js
    │       │   │   ├── browser_folder_subfolder.js
    │       │   │   ├── browser_folder_visible_tabs.js
    │       │   │   └── head.js
    │       │   ├── glance/
    │       │   │   ├── browser.toml
    │       │   │   ├── browser_glance_basic.js
    │       │   │   ├── browser_glance_close.js
    │       │   │   ├── browser_glance_close_select.js
    │       │   │   ├── browser_glance_expand.js
    │       │   │   ├── browser_glance_next_tab.js
    │       │   │   ├── browser_glance_prev_tab.js
    │       │   │   ├── browser_glance_select_parent.js
    │       │   │   └── head.js
    │       │   ├── mochitests/
    │       │   │   ├── moz.build
    │       │   │   ├── safebrowsing/
    │       │   │   │   ├── browser.toml
    │       │   │   │   ├── browser_bug400731.js
    │       │   │   │   ├── browser_bug415846.js
    │       │   │   │   ├── browser_mixedcontent_aboutblocked.js
    │       │   │   │   ├── browser_whitelisted.js
    │       │   │   │   ├── empty_file.html
    │       │   │   │   └── head.js
    │       │   │   ├── sandbox/
    │       │   │   │   ├── browser.toml
    │       │   │   │   ├── browser_bug1393259.js
    │       │   │   │   ├── browser_bug1717599_XDG-CONFIG-DIRS.toml
    │       │   │   │   ├── browser_bug1717599_XDG-CONFIG-HOME.toml
    │       │   │   │   ├── browser_content_sandbox_bug1717599_XDG-CONFIG-DIRS.js
    │       │   │   │   ├── browser_content_sandbox_bug1717599_XDG-CONFIG-HOME.js
    │       │   │   │   ├── browser_content_sandbox_fs.js
    │       │   │   │   ├── browser_content_sandbox_fs_snap.js
    │       │   │   │   ├── browser_content_sandbox_fs_tests.js
    │       │   │   │   ├── browser_content_sandbox_fs_xdg_default.js
    │       │   │   │   ├── browser_content_sandbox_fs_xdg_mozLegacyHome.js
    │       │   │   │   ├── browser_content_sandbox_fs_xdg_xdgConfigHome.js
    │       │   │   │   ├── browser_content_sandbox_syscalls.js
    │       │   │   │   ├── browser_content_sandbox_utils.js
    │       │   │   │   ├── browser_profiler.toml
    │       │   │   │   ├── browser_sandbox_profiler.js
    │       │   │   │   ├── browser_sandbox_test.js
    │       │   │   │   ├── browser_snap.toml
    │       │   │   │   ├── browser_xdg_default.toml
    │       │   │   │   ├── browser_xdg_mozLegacyHome.toml
    │       │   │   │   ├── browser_xdg_xdgConfigHome.toml
    │       │   │   │   ├── bug1393259.html
    │       │   │   │   └── mac_register_font.py
    │       │   │   ├── shell/
    │       │   │   │   ├── browser.toml
    │       │   │   │   ├── browser_1119088.js
    │       │   │   │   ├── browser_420786.js
    │       │   │   │   ├── browser_633221.js
    │       │   │   │   ├── browser_createWindowsShortcut.js
    │       │   │   │   ├── browser_doesAppNeedPin.js
    │       │   │   │   ├── browser_headless_screenshot_1.js
    │       │   │   │   ├── browser_headless_screenshot_2.js
    │       │   │   │   ├── browser_headless_screenshot_3.js
    │       │   │   │   ├── browser_headless_screenshot_4.js
    │       │   │   │   ├── browser_headless_screenshot_cross_origin.js
    │       │   │   │   ├── browser_headless_screenshot_redirect.js
    │       │   │   │   ├── browser_processAUMID.js
    │       │   │   │   ├── browser_setDefaultBrowser.js
    │       │   │   │   ├── browser_setDefaultPDFHandler.js
    │       │   │   │   ├── browser_setDesktopBackgroundPreview.js
    │       │   │   │   ├── head.js
    │       │   │   │   ├── headless.html
    │       │   │   │   ├── headless_cross_origin.html
    │       │   │   │   ├── headless_iframe.html
    │       │   │   │   ├── headless_redirect.html
    │       │   │   │   ├── headless_redirect.html^headers^
    │       │   │   │   ├── mac_desktop_image.py
    │       │   │   │   ├── gtest/
    │       │   │   │   │   ├── LimitedAccessFeatureTests.cpp
    │       │   │   │   │   ├── moz.build
    │       │   │   │   │   └── ShellLinkTests.cpp
    │       │   │   │   └── unit/
    │       │   │   │       ├── test_macOS_showSecurityPreferences.js
    │       │   │   │       └── xpcshell.toml
    │       │   │   └── tooltiptext/
    │       │   │       ├── browser.toml
    │       │   │       ├── browser_bug329212.js
    │       │   │       ├── browser_bug331772_xul_tooltiptext_in_html.js
    │       │   │       ├── browser_bug561623.js
    │       │   │       ├── browser_bug581947.js
    │       │   │       ├── browser_input_file_tooltips.js
    │       │   │       ├── browser_nac_tooltip.js
    │       │   │       ├── browser_shadow_dom_tooltip.js
    │       │   │       └── xul_tooltiptext.xhtml
    │       │   ├── pinned/
    │       │   │   ├── browser.toml
    │       │   │   ├── browser_issue_8726.js
    │       │   │   ├── browser_pinned_changed.js
    │       │   │   ├── browser_pinned_close.js
    │       │   │   ├── browser_pinned_created.js
    │       │   │   ├── browser_pinned_nounload_reset.js
    │       │   │   ├── browser_pinned_reset_noswitch.js
    │       │   │   ├── browser_pinned_switch.js
    │       │   │   ├── browser_pinned_to_essential.js
    │       │   │   ├── browser_pinned_unload_changed.js
    │       │   │   └── browser_pinned_unload_noreset.js
    │       │   ├── split_view/
    │       │   │   ├── browser.toml
    │       │   │   ├── browser_basic_split_view.js
    │       │   │   ├── browser_split_browser_duplication.js
    │       │   │   ├── browser_split_groups.js
    │       │   │   ├── browser_split_inset_checks.js
    │       │   │   ├── browser_split_view_empty.js
    │       │   │   ├── browser_split_view_with_folders.js
    │       │   │   ├── browser_split_view_with_glance.js
    │       │   │   └── head.js
    │       │   ├── tabs/
    │       │   │   ├── browser.toml
    │       │   │   ├── browser_drag_drop_vertical.js
    │       │   │   ├── browser_tabs_close_recently.js
    │       │   │   ├── browser_tabs_cycle_by_attribute.js
    │       │   │   ├── browser_tabs_empty_checks.js
    │       │   │   ├── browser_tabs_fetch_checks.js
    │       │   │   └── head.js
    │       │   ├── ub-actions/
    │       │   │   ├── browser.toml
    │       │   │   └── browser_ub_actions_search.js
    │       │   ├── urlbar/
    │       │   │   ├── browser.toml
    │       │   │   ├── browser_floating_urlbar.js
    │       │   │   ├── browser_issue_7385.js
    │       │   │   └── head.js
    │       │   ├── welcome/
    │       │   │   ├── browser.toml
    │       │   │   ├── browser_welcome.js
    │       │   │   └── head.js
    │       │   ├── window_sync/
    │       │   │   ├── browser.toml
    │       │   │   ├── browser_sync_tab_label.js
    │       │   │   ├── browser_sync_tab_open.js
    │       │   │   └── head.js
    │       │   └── workspaces/
    │       │       ├── browser.toml
    │       │       ├── browser_basic_workspaces.js
    │       │       ├── browser_change_to_empty.js
    │       │       ├── browser_double_click_newtab.js
    │       │       ├── browser_issue_10455.js
    │       │       ├── browser_issue_8699.js
    │       │       ├── browser_issue_9900.js
    │       │       ├── browser_overflow_scrollbox.js
    │       │       ├── browser_private_mode.js
    │       │       ├── browser_private_mode_startup.js
    │       │       ├── browser_workspace_bookmarks.js
    │       │       ├── browser_workspace_unload.js
    │       │       └── head.js
    │       ├── toolkit/
    │       │   ├── moz.build
    │       │   └── common/
    │       │       ├── components.conf
    │       │       ├── moz.build
    │       │       ├── nsIZenCommonUtils.idl
    │       │       ├── ZenCommonUtils.cpp
    │       │       ├── ZenCommonUtils.h
    │       │       ├── ZenShareInternal.h
    │       │       ├── cocoa/
    │       │       │   ├── moz.build
    │       │       │   ├── ZenHapticFeedback.mm
    │       │       │   └── ZenShareInternal.mm
    │       │       └── windows/
    │       │           ├── moz.build
    │       │           └── ZenShareInternal.cpp
    │       ├── urlbar/
    │       │   ├── moz.build
    │       │   ├── ZenSiteDataPanel.sys.mjs
    │       │   ├── ZenUBActionsProvider.sys.mjs
    │       │   ├── ZenUBGlobalActions.sys.mjs
    │       │   ├── ZenUBProvider.sys.mjs
    │       │   └── ZenUBResultsLearner.sys.mjs
    │       ├── welcome/
    │       │   ├── jar.inc.mn
    │       │   ├── zen-welcome.css
    │       │   └── ZenWelcome.mjs
    │       └── workspaces/
    │           ├── create-workspace-form.css
    │           ├── jar.inc.mn
    │           ├── overflow-icons.inc.css
    │           ├── zen-gradient-generator.css
    │           ├── zen-workspaces.css
    │           ├── ZenWorkspace.mjs
    │           ├── ZenWorkspaceBookmarksStorage.js
    │           ├── ZenWorkspaceCreation.mjs
    │           └── ZenWorkspaceIcons.mjs
    ├── tools/
    │   ├── eslint-plugin-spidermonkey-js/
    │   │   ├── LICENSE
    │   │   ├── package.json
    │   │   └── lib/
    │   │       ├── index.js
    │   │       ├── environments/
    │   │       │   └── self-hosted.js
    │   │       └── processors/
    │   │           └── self-hosted.js
    │   ├── ffprefs/
    │   │   ├── Cargo.toml
    │   │   └── src/
    │   │       └── main.rs
    │   └── virustotal-checker/
    │       ├── cmake_install.cmake
    │       ├── CMakeLists.txt
    │       ├── LICENSE
    │       ├── Makefile
    │       └── src/
    │           ├── app.h
    │           ├── hasher.cc
    │           ├── hasher.h
    │           ├── main.cc
    │           ├── scanner.cc
    │           └── scanner.h
    ├── .formal-git/
    │   ├── components
    │   └── template
    ├── .github/
    │   ├── advanced-issue-labeler.yml
    │   ├── ISSUE_TEMPLATE/
    │   │   ├── bug_report.yml
    │   │   └── config.yml
    │   └── workflows/
    │       ├── build.yml
    │       ├── check-candidate-release.yml
    │       ├── clear-all-cache.yml
    │       ├── code-linter.yml
    │       ├── issue-labeler.yml
    │       ├── issue-metrics.yml
    │       ├── linux-release-build.yml
    │       ├── macos-release-build.yml
    │       ├── macos-universal-release-build.yml
    │       ├── pr-test.yml
    │       ├── sync-upstream.yml
    │       ├── twilight-release-schedule.yml
    │       ├── windows-profile-build.yml
    │       ├── windows-release-build.yml
    │       └── src/
    │           ├── generate_release_notes.sh
    │           └── release-build.sh
    ├── .husky/
    │   └── pre-commit
    └── .well-known/
        └── funding-manifest-urls

================================================
FILE: README.md
================================================
<!--
   - This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/.
   -->
<!-- TODO: Get a job -->
<img src="./docs/assets/zen-dark.svg" width="100px" align="left">

### `Zen Browser`

[![Downloads](https://img.shields.io/github/downloads/zen-browser/desktop/total.svg)](https://github.com/zen-browser/desktop/releases)
[![Crowdin](https://badges.crowdin.net/zen-browser/localized.svg)](https://crowdin.com/project/zen-browser)
[![Zen Release builds](https://github.com/zen-browser/desktop/actions/workflows/build.yml/badge.svg?branch=stable)](https://github.com/zen-browser/desktop/actions/workflows/build.yml)

Zen is a firefox-based browser with the aim of pushing your productivity to a new level!

<div flex="true">
  <a href="https://zen-browser.app/download">
    Download
  </a>
  •
  <a href="https://zen-browser.app">
    Website
  </a>
  •
  <a href="https://docs.zen-browser.app">
    Documentation
  </a>
  •
  <a href="https://zen-browser.app/release-notes/latest">
    Release Notes
  </a>
</div>

### Firefox Versions

- [`Release`](https://zen-browser.app/download) - Is currently built using Firefox version `147.0.4`! 🚀
- [`Twilight`](https://zen-browser.app/download?twilight) - Is currently built using Firefox version `RC 147.0.4`!

### Contributing

If you'd like to report a bug, please do so on our [GitHub Issues page](https://github.com/zen-browser/desktop/issues/) and for feature requests, you can use [Github Discussions](https://github.com/zen-browser/desktop/discussions).

Zen is an open-source project, and we welcome contributions from the community! Please take a look at the [contribution guidelines](./docs/contribute.md) before getting started!

#### Partners

Thanks to all the partners of Zen for their support and contributions:

<a href="https://blacksmith.sh">
  <img src="./docs/assets/blacksmith-yellow.png" width="350px"/>
</a>



================================================
FILE: babel.config.json
================================================
{
  "presets": ["@babel/preset-typescript"]
}



================================================
FILE: CODE_OF_CONDUCT.md
================================================
<!--
   - This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/.
   -->

# Contributor Covenant Code of Conduct

## Our Pledge

We as members, contributors, and leaders pledge to make participation in our
community a harassment-free experience for everyone, regardless of age, body
size, visible or invisible disability, ethnicity, sex characteristics, gender
identity and expression, level of experience, education, socio-economic status,
nationality, personal appearance, race, religion, or sexual identity
and orientation.

We pledge to act and interact in ways that contribute to an open, welcoming,
diverse, inclusive, and healthy community.

## Our Standards

Examples of behavior that contributes to a positive environment for our
community include:

- Demonstrating empathy and kindness toward other people
- Being respectful of differing opinions, viewpoints, and experiences
- Giving and gracefully accepting constructive feedback
- Accepting responsibility and apologizing to those affected by our mistakes,
  and learning from the experience
- Focusing on what is best not just for us as individuals, but for the
  overall community

Examples of unacceptable behavior include:

- The use of sexualized language or imagery, and sexual attention or
  advances of any kind
- Trolling, insulting or derogatory comments, and personal or political attacks
- Public or private harassment
- Publishing others' private information, such as a physical or email
  address, without their explicit permission
- Other conduct which could reasonably be considered inappropriate in a
  professional setting

## Enforcement Responsibilities

Community leaders are responsible for clarifying and enforcing our standards of
acceptable behavior and will take appropriate and fair corrective action in
response to any behavior that they deem inappropriate, threatening, offensive,
or harmful.

Community leaders have the right and responsibility to remove, edit, or reject
comments, commits, code, wiki edits, issues, and other contributions that are
not aligned to this Code of Conduct, and will communicate reasons for moderation
decisions when appropriate.

## Scope

This Code of Conduct applies within all community spaces, and also applies when
an individual is officially representing the community in public spaces.
Examples of representing our community include using an official e-mail address,
posting via an official social media account, or acting as an appointed
representative at an online or offline event.

## Enforcement

Instances of abusive, harassing, or otherwise unacceptable behavior may be
reported to the community leaders responsible for enforcement at
hello@zen-browser.app.
All complaints will be reviewed and investigated promptly and fairly.

All community leaders are obligated to respect the privacy and security of the
reporter of any incident.

## Enforcement Guidelines

Community leaders will follow these Community Impact Guidelines in determining
the consequences for any action they deem in violation of this Code of Conduct:

### 1. Correction

**Community Impact**: Use of inappropriate language or other behavior deemed
unprofessional or unwelcome in the community.

**Consequence**: A private, written warning from community leaders, providing
clarity around the nature of the violation and an explanation of why the
behavior was inappropriate. A public apology may be requested.

### 2. Warning

**Community Impact**: A violation through a single incident or series
of actions.

**Consequence**: A warning with consequences for continued behavior. No
interaction with the people involved, including unsolicited interaction with
those enforcing the Code of Conduct, for a specified period of time. This
includes avoiding interactions in community spaces as well as external channels
like social media. Violating these terms may lead to a temporary or
permanent ban.

### 3. Temporary Ban

**Community Impact**: A serious violation of community standards, including
sustained inappropriate behavior.

**Consequence**: A temporary ban from any sort of interaction or public
communication with the community for a specified period of time. No public or
private interaction with the people involved, including unsolicited interaction
with those enforcing the Code of Conduct, is allowed during this period.
Violating these terms may lead to a permanent ban.

### 4. Permanent Ban

**Community Impact**: Demonstrating a pattern of violation of community
standards, including sustained inappropriate behavior, harassment of an
individual, or aggression toward or disparagement of classes of individuals.

**Consequence**: A permanent ban from any sort of public interaction within
the community.

## Attribution

This Code of Conduct is adapted from the [Contributor Covenant][homepage],
version 2.0, available at
https://www.contributor-covenant.org/version/2/0/code_of_conduct.html.

Community Impact Guidelines were inspired by [Mozilla's code of conduct
enforcement ladder](https://github.com/mozilla/diversity).

[homepage]: https://www.contributor-covenant.org

For answers to common questions about this code of conduct, see the FAQ at
https://www.contributor-covenant.org/faq. Translations are available at
https://www.contributor-covenant.org/translations.



================================================
FILE: CODEOWNERS
================================================
* @mr-cheffy



================================================
FILE: crowdin.yml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

base_path: locales
files:
  - source: en-US/browser/browser/zen-general.ftl
    translation: browser/browser/zen-general.ftl
  - source: en-US/browser/browser/zen-split-view.ftl
    translation: browser/browser/zen-split-view.ftl
  - source: en-US/browser/browser/zen-menubar.ftl
    translation: browser/browser/zen-menubar.ftl
  - source: en-US/browser/browser/zen-vertical-tabs.ftl
    translation: browser/browser/zen-vertical-tabs.ftl
  - source: en-US/browser/browser/zen-welcome.ftl
    translation: browser/browser/zen-welcome.ftl
  - source: en-US/browser/browser/zen-workspaces.ftl
    translation: browser/browser/zen-workspaces.ftl
  - source: en-US/browser/browser/preferences/zen-preferences.ftl
    translation: browser/browser/preferences/zen-preferences.ftl
  - source: en-US/browser/browser/zen-folders.ftl
    translation: browser/browser/zen-folders.ftl



================================================
FILE: eslint.config.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import sdl from "@microsoft/eslint-plugin-sdl";
import eslintConfigPrettier from "eslint-config-prettier/flat";
import html from "eslint-plugin-html";
import importPlugin from "eslint-plugin-import";
import json from "@eslint/json";
import lit from "eslint-plugin-lit";
import mozilla from "eslint-plugin-mozilla";
import reactHooks from "eslint-plugin-react-hooks";
import zenGlobals from "./src/zen/zen.globals.mjs";

import globals from "globals";
import path from "path";

import globalIgnores from "./engine/eslint-ignores.config.mjs";
import testPathsConfig from "./engine/eslint-test-paths.config.mjs";
import repositoryGlobals from "./engine/eslint-file-globals.config.mjs";
import rollouts from "./engine/eslint-rollouts.config.mjs";
import subdirConfigs from "./engine/eslint-subdirs.config.mjs";
import { globalIgnores as globalIgnoresPath } from "eslint/config";

const testPaths = testPathsConfig.testPaths;

const httpTestingPaths = [
  `**/*mixedcontent*.{${mozilla.allFileExtensions.join(",")}}`,
  `**/*CrossOrigin*.{${mozilla.allFileExtensions.join(",")}}`,
  `**/*crossorigin*.{${mozilla.allFileExtensions.join(",")}}`,
  `**/*cors*.{${mozilla.allFileExtensions.join(",")}}`,
  `**/*downgrade*.{${mozilla.allFileExtensions.join(",")}}`,
  `**/*Downgrade*.{${mozilla.allFileExtensions.join(",")}}`,
];

globals.browser = {
  ...globals.browser,
  ...zenGlobals.reduce((obj, key) => {
    obj[key] = "readonly";
    return obj;
  }, {}),
};

testPaths.browser = testPaths.browser.concat("src/zen/tests/");

/**
 * Takes each path in the paths array, and expands it with the list of extensions
 * that ESLint is watching.
 *
 * @param {object} options
 * @param {string[]} options.paths
 *   The list of paths to wrap.
 * @param {string[]} [options.excludedExtensions]
 *   The list of extensions to be excluded from the wrapping.
 */
function wrapPaths({ paths, excludedExtensions }) {
  let extensions = excludedExtensions
    ? mozilla.allFileExtensions.filter((f) => !excludedExtensions.includes(f))
    : mozilla.allFileExtensions;
  return paths.map((p) => {
    if (p.endsWith("**")) {
      return p + `/*.{${extensions.join(",")}}`;
    }
    if (p.endsWith("/")) {
      return p + `**/*.{${extensions.join(",")}}`;
    }
    if (p.endsWith("*")) {
      return p + `.{${extensions.join(",")}}`;
    }
    return p;
  });
}

/**
 * Wraps the paths listed in the files section of a configuration with the
 * file extensions that ESLint is watching.
 *
 * @param {object} configs
 */
function wrapPathsInConfig(configs) {
  for (let config of configs) {
    // add "engine/" to the paths in the files section.
    config.files = wrapPaths({ paths: config.files.map((p) => "engine/" + p) });
  }
  return configs;
}
let config = [
  {
    name: "import-plugin-settings",
    settings: {
      "import/extensions": [".mjs"],
      "import/resolver": {
        [path.resolve(import.meta.dirname, "engine", "srcdir-resolver.js")]: {},
        node: {},
      },
    },
  },
  {
    name: "ignores",
    ignores: [...globalIgnores, "src/zen/vendor/*"],
  },
  {
    name: "all-files",
    files: wrapPaths({ paths: ["**"] }),
    linterOptions: {
      // With this option on, if an inline comment disables a rule, and the
      // rule is able to be automatically fixed, then ESLint will remove the
      // inline comment and apply the fix. We don't want this because we have
      // some rules that intentionally need to be turned off in specific cases,
      // e.g. @microsoft/sdl/no-insecure-url.
      reportUnusedDisableDirectives: "off",
    },
    plugins: { lit },
    rules: {
      "lit/quoted-expressions": ["error", "never"],
      "lit/no-invalid-html": "error",
      "lit/no-value-attribute": "error",
    },
  },
  {
    name: "source-type-script",
    files: ["**/*.{js,json,html,sjs,xhtml}"],
    languageOptions: {
      sourceType: "script",
    },
  },
  ...mozilla.configs["flat/recommended"],
  {
    name: "json-recommended-with-comments",
    files: ["**/*.json"],
    language: "json/jsonc",
    ...json.configs.recommended,
  },
  {
    name: "json-recommended-no-comments",
    files: ["**/package.json"],
    language: "json/json",
    ...json.configs.recommended,
  },
  {
    name: "json-empty-keys-off-for-image_builder",
    files: ["taskcluster/docker/image_builder/policy.json"],
    rules: {
      "json/no-empty-keys": "off",
    },
  },
  {
    name: "eslint-plugin-html",
    files: ["**/*.html", "**/*.xhtml"],
    plugins: { html },
  },

  {
    name: "define-globals-for-browser-env",
    // Not available for sjs files.
    files: wrapPaths({ paths: ["**"], excludedExtensions: ["sjs"] }),
    ignores: [
      // Also not available for various other scopes and tools.
      "**/*.sys.mjs",
      "**/?(*.)worker.?(m)js",
      "**/?(*.)serviceworker.?(m)js",
      ...wrapPaths({
        paths: testPaths.xpcshell,
        excludedExtensions: ["mjs", "sjs"],
      }),
      "tools/lint/eslint/**",
    ],
    languageOptions: {
      globals: globals.browser,
    },
  },
  {
    // Generally we assume that all files, except mjs ones are in our
    // privileged and specific environment. mjs are handled separately by
    // the recommended configuration in eslint-plugin-mozilla.
    name: "define-privileged-and-specific-globals-for-most-files",
    files: wrapPaths({ paths: ["**"], excludedExtensions: ["json"] }),
    ignores: ["browser/components/storybook/**", "tools"],
    languageOptions: {
      globals: {
        ...mozilla.environments.privileged.globals,
        ...mozilla.environments.specific.globals,
      },
    },
  },
  {
    name: "define-globals-for-node-files",
    files: [
      // All .eslintrc.mjs files are in the node environment, so turn that
      // on here.
      "**/.eslintrc*.mjs",
      // .js files in the top-level are generally assumed to be node.
      "\.*.js",
      // *.config.js files are generally assumed to be configuration files
      // based for node.
      "**/*.config.js",
      // The resolver for moz-src for eslint, vscode etc.
      "engine/srcdir-resolver.js",
    ],
    languageOptions: {
      globals: { ...globals.node, ...mozilla.turnOff(globals.browser) },
    },
  },

  {
    name: "browser-no-more-globals",
    files: ["browser/base/content/browser.js"],
    rules: {
      "mozilla/no-more-globals": "error",
    },
  },
  {
    name: "jsx-files",
    files: ["**/*.jsx", "browser/components/storybook/.storybook/**/*.mjs"],
    languageOptions: {
      parserOptions: {
        ecmaFeatures: {
          jsx: true,
        },
      },
    },
  },
  {
    name: "eslint-plugin-import-rules",
    files: ["**/*.mjs"],
    plugins: { import: importPlugin },
    rules: {
      "import/default": "error",
      "import/export": "error",
      "import/named": "error",
      "import/namespace": "error",
      "import/newline-after-import": "error",
      "import/no-duplicates": "error",
      "import/no-absolute-path": "error",
      "import/no-named-default": "error",
      "import/no-named-as-default": "error",
      "import/no-named-as-default-member": "error",
      "import/no-self-import": "error",
      "import/no-unassigned-import": "error",
      "import/no-unresolved": [
        "error",
        // Bug 1773473 - Ignore resolver URLs for chrome and resource as we
        // do not yet have a resolver for them.
        { ignore: ["chrome://", "resource://"] },
      ],
      "import/no-useless-path-segments": "error",
    },
  },
  {
    name: "turn-off-unassigned-import-for-stories",
    // Turn off no-unassigned-import for files that typically test our
    // custom elements, which are imported for the side effects (ie
    // the custom element being registered) rather than any particular
    // export:
    files: ["**/*.stories.mjs"],
    plugins: { import: importPlugin },
    rules: {
      "import/no-unassigned-import": "off",
    },
  },
  {
    ...mozilla.configs["flat/general-test"],
    files: wrapPaths({ paths: ["**/test/**", "**/tests/**"] }),
  },
  {
    ...mozilla.configs["flat/xpcshell-test"],
    files: wrapPaths({
      paths: testPaths.xpcshell,
      excludedExtensions: ["mjs", "sjs"],
    }),
  },
  {
    name: "no-unused-vars-disable-on-headjs",
    // If it is an xpcshell head file, we turn off global unused variable checks, as it
    // would require searching the other test files to know if they are used or not.
    // This would be expensive and slow, and it isn't worth it for head files.
    // We could get developers to declare as exported, but that doesn't seem worth it.
    files: testPaths.xpcshell.map((filePath) => `${filePath}head*.js`),
    rules: {
      "no-unused-vars": [
        "error",
        {
          argsIgnorePattern: "^_",
          caughtErrors: "none",
          vars: "local",
        },
      ],
    },
  },
  {
    name: "no-unused-vars-for-xpcshell",
    // This section enables errors of no-unused-vars globally for all test*.js
    // files in xpcshell test paths.
    // This is not done in the xpcshell-test configuration as we cannot pull
    // in overrides from there. We should at some stage, aim to enable this
    // for all files in xpcshell-tests.
    files: testPaths.xpcshell.map((filePath) => `${filePath}test*.js`),
    rules: {
      // No declaring variables that are never used
      "no-unused-vars": [
        "error",
        {
          argsIgnorePattern: "^_",
          caughtErrors: "none",
          vars: "all",
        },
      ],
    },
  },
  {
    ...mozilla.configs["flat/browser-test"],
    files: wrapPaths({
      paths: testPaths.browser,
      excludedExtensions: ["mjs", "sjs"],
    }),
  },
  {
    ...mozilla.configs["flat/mochitest-test"],
    files: wrapPaths({
      paths: testPaths.mochitest,
      excludedExtensions: ["mjs"],
    }),
    ignores: ["security/manager/ssl/tests/mochitest/browser/**"],
  },
  {
    ...mozilla.configs["flat/chrome-test"],
    files: wrapPaths({
      paths: testPaths.chrome,
      excludedExtensions: ["mjs", "sjs"],
    }),
  },
  {
    name: "simpletest",
    languageOptions: {
      globals: {
        ...mozilla.environments.simpletest.globals,
      },
    },
    files: [
      ...testPaths.mochitest.map((filePath) => `${filePath}/**/*.js`),
      ...testPaths.chrome.map((filePath) => `${filePath}/**/*.js`),
    ],
  },
  {
    name: "multiple-test-kinds",
    // Some directories have multiple kinds of tests, and some rules
    // don't work well for HTML-based mochitests, so disable those.
    files: testPaths.xpcshell
      .concat(testPaths.browser)
      .map((filePath) => [`${filePath}/**/*.html`, `${filePath}/**/*.xhtml`])
      .flat(),
    rules: {
      // plain/chrome mochitests don't automatically include Assert, so
      // autofixing `ok()` to Assert.something is bad.
      "mozilla/no-comparison-or-assignment-inside-ok": "off",
    },
  },
  {
    name: "test-file-reuse",
    // Some directories reuse `test_foo.js` files between mochitest-plain and
    // unit tests, or use custom postMessage-based assertion propagation into
    // browser tests. Ignore those too:
    files: wrapPaths({
      paths: [
        // Reuses xpcshell unit test scripts in mochitest-plain HTML files.
        "dom/indexedDB/test/**",
        // Dispatches functions to the webpage in ways that are hard to detect.
        "toolkit/components/antitracking/test/**",
      ],
    }),
    rules: {
      "mozilla/no-comparison-or-assignment-inside-ok": "off",
    },
  },
  {
    // Rules of Hooks broadly checks for camelCase "use" identifiers, so
    // enable only for paths actually using React to avoid false positives.
    name: "react-hooks",
    files: [
      "browser/components/aboutwelcome/**",
      "browser/components/asrouter/**",
      "browser/extensions/newtab/**",
      "devtools/**",
    ],
    ...reactHooks.configs["recommended-latest"],
    plugins: { "react-hooks": reactHooks },
    rules: {
      // react-hooks/recommended has exhaustive-deps as a warning, we prefer
      // errors, so that raised issues get addressed one way or the other.
      "react-hooks/exhaustive-deps": "error",
    },
  },
  {
    name: "disable-no-insecure-url-for-http-testing",
    // Exempt files with these paths since they have to use http for full coverage
    files: httpTestingPaths,
    plugins: { "@microsoft/sdl": sdl },
    rules: {
      "@microsoft/sdl/no-insecure-url": "off",
    },
  },
  {
    name: "mozilla/valid-jsdoc",
    files: wrapPaths({ paths: ["**"] }),
    ...mozilla.configs["flat/valid-jsdoc"],
  },
  {
    name: "rollout-no-browser-refs-in-toolkit",
    files: ["toolkit/**"],
    ignores: ["toolkit/**/test/**", "toolkit/**/tests/**"],
    plugins: { mozilla },
    rules: {
      "mozilla/no-browser-refs-in-toolkit": "error",
    },
  },
  {
    name: "no-newtab-refs-outside-newtab",
    files: ["**/*.mjs", "**/*.js", "**/*.sys.mjs"],
    ignores: [
      "tools/@types/generated/**",
      "tools/lint/eslint/eslint-plugin-mozilla/lib/rules/no-newtab-refs-outside-newtab.mjs",
      "tools/lint/eslint/eslint-plugin-mozilla/tests/no-newtab-refs-outside-newtab.mjs",
    ],
    plugins: { mozilla },
    rules: {
      "mozilla/no-newtab-refs-outside-newtab": "error",
    },
  },
  ...wrapPathsInConfig(subdirConfigs),
  ...wrapPathsInConfig(repositoryGlobals),

  /**
   * The items below should always be the last items in this order:
   *
   * - Enable eslint-config-prettier.
   * - Enable curly.
   * - Rollouts
   */

  // Turn off rules that conflict with Prettier.
  { name: "eslint-config-prettier", ...eslintConfigPrettier },
  {
    name: "enable-curly",
    files: wrapPaths({ paths: ["**/"] }),
    rules: {
      // Require braces around blocks that start a new line. This must be
      // configured after eslint-config-prettier is included, as otherwise
      // eslint-config-prettier disables the curly rule. Hence, we do
      // not include it in
      // `tools/lint/eslint/eslint-plugin-mozilla/lib/configs/recommended.js`.
      curly: ["error", "all"],
    },
  },
  ...wrapPathsInConfig(rollouts),
  globalIgnoresPath(["src/zen/tests/"]),
];

// The various places we get our globals from use true/false rather than
// the strings required by ESLint, so translate those here.
config.map((entry) => {
  if (entry.languageOptions?.globals) {
    let newGlobals = {};
    for (let [key, value] of Object.entries(entry.languageOptions.globals)) {
      if (typeof entry.languageOptions.globals[key] == "boolean") {
        newGlobals[key] = value ? "writable" : "readonly";
      } else {
        newGlobals[key] = value;
      }
    }
  }
  return entry;
});

export default config;



================================================
FILE: LICENSE
================================================
Mozilla Public License Version 2.0
==================================

1. Definitions
--------------

1.1. "Contributor"
    means each individual or legal entity that creates, contributes to
    the creation of, or owns Covered Software.

1.2. "Contributor Version"
    means the combination of the Contributions of others (if any) used
    by a Contributor and that particular Contributor's Contribution.

1.3. "Contribution"
    means Covered Software of a particular Contributor.

1.4. "Covered Software"
    means Source Code Form to which the initial Contributor has attached
    the notice in Exhibit A, the Executable Form of such Source Code
    Form, and Modifications of such Source Code Form, in each case
    including portions thereof.

1.5. "Incompatible With Secondary Licenses"
    means

    (a) that the initial Contributor has attached the notice described
        in Exhibit B to the Covered Software; or

    (b) that the Covered Software was made available under the terms of
        version 1.1 or earlier of the License, but not also under the
        terms of a Secondary License.

1.6. "Executable Form"
    means any form of the work other than Source Code Form.

1.7. "Larger Work"
    means a work that combines Covered Software with other material, in 
    a separate file or files, that is not Covered Software.

1.8. "License"
    means this document.

1.9. "Licensable"
    means having the right to grant, to the maximum extent possible,
    whether at the time of the initial grant or subsequently, any and
    all of the rights conveyed by this License.

1.10. "Modifications"
    means any of the following:

    (a) any file in Source Code Form that results from an addition to,
        deletion from, or modification of the contents of Covered
        Software; or

    (b) any new file in Source Code Form that contains any Covered
        Software.

1.11. "Patent Claims" of a Contributor
    means any patent claim(s), including without limitation, method,
    process, and apparatus claims, in any patent Licensable by such
    Contributor that would be infringed, but for the grant of the
    License, by the making, using, selling, offering for sale, having
    made, import, or transfer of either its Contributions or its
    Contributor Version.

1.12. "Secondary License"
    means either the GNU General Public License, Version 2.0, the GNU
    Lesser General Public License, Version 2.1, the GNU Affero General
    Public License, Version 3.0, or any later versions of those
    licenses.

1.13. "Source Code Form"
    means the form of the work preferred for making modifications.

1.14. "You" (or "Your")
    means an individual or a legal entity exercising rights under this
    License. For legal entities, "You" includes any entity that
    controls, is controlled by, or is under common control with You. For
    purposes of this definition, "control" means (a) the power, direct
    or indirect, to cause the direction or management of such entity,
    whether by contract or otherwise, or (b) ownership of more than
    fifty percent (50%) of the outstanding shares or beneficial
    ownership of such entity.

2. License Grants and Conditions
--------------------------------

2.1. Grants

Each Contributor hereby grants You a world-wide, royalty-free,
non-exclusive license:

(a) under intellectual property rights (other than patent or trademark)
    Licensable by such Contributor to use, reproduce, make available,
    modify, display, perform, distribute, and otherwise exploit its
    Contributions, either on an unmodified basis, with Modifications, or
    as part of a Larger Work; and

(b) under Patent Claims of such Contributor to make, use, sell, offer
    for sale, have made, import, and otherwise transfer either its
    Contributions or its Contributor Version.

2.2. Effective Date

The licenses granted in Section 2.1 with respect to any Contribution
become effective for each Contribution on the date the Contributor first
distributes such Contribution.

2.3. Limitations on Grant Scope

The licenses granted in this Section 2 are the only rights granted under
this License. No additional rights or licenses will be implied from the
distribution or licensing of Covered Software under this License.
Notwithstanding Section 2.1(b) above, no patent license is granted by a
Contributor:

(a) for any code that a Contributor has removed from Covered Software;
    or

(b) for infringements caused by: (i) Your and any other third party's
    modifications of Covered Software, or (ii) the combination of its
    Contributions with other software (except as part of its Contributor
    Version); or

(c) under Patent Claims infringed by Covered Software in the absence of
    its Contributions.

This License does not grant any rights in the trademarks, service marks,
or logos of any Contributor (except as may be necessary to comply with
the notice requirements in Section 3.4).

2.4. Subsequent Licenses

No Contributor makes additional grants as a result of Your choice to
distribute the Covered Software under a subsequent version of this
License (see Section 10.2) or under the terms of a Secondary License (if
permitted under the terms of Section 3.3).

2.5. Representation

Each Contributor represents that the Contributor believes its
Contributions are its original creation(s) or it has sufficient rights
to grant the rights to its Contributions conveyed by this License.

2.6. Fair Use

This License is not intended to limit any rights You have under
applicable copyright doctrines of fair use, fair dealing, or other
equivalents.

2.7. Conditions

Sections 3.1, 3.2, 3.3, and 3.4 are conditions of the licenses granted
in Section 2.1.

3. Responsibilities
-------------------

3.1. Distribution of Source Form

All distribution of Covered Software in Source Code Form, including any
Modifications that You create or to which You contribute, must be under
the terms of this License. You must inform recipients that the Source
Code Form of the Covered Software is governed by the terms of this
License, and how they can obtain a copy of this License. You may not
attempt to alter or restrict the recipients' rights in the Source Code
Form.

3.2. Distribution of Executable Form

If You distribute Covered Software in Executable Form then:

(a) such Covered Software must also be made available in Source Code
    Form, as described in Section 3.1, and You must inform recipients of
    the Executable Form how they can obtain a copy of such Source Code
    Form by reasonable means in a timely manner, at a charge no more
    than the cost of distribution to the recipient; and

(b) You may distribute such Executable Form under the terms of this
    License, or sublicense it under different terms, provided that the
    license for the Executable Form does not attempt to limit or alter
    the recipients' rights in the Source Code Form under this License.

3.3. Distribution of a Larger Work

You may create and distribute a Larger Work under terms of Your choice,
provided that You also comply with the requirements of this License for
the Covered Software. If the Larger Work is a combination of Covered
Software with a work governed by one or more Secondary Licenses, and the
Covered Software is not Incompatible With Secondary Licenses, this
License permits You to additionally distribute such Covered Software
under the terms of such Secondary License(s), so that the recipient of
the Larger Work may, at their option, further distribute the Covered
Software under the terms of either this License or such Secondary
License(s).

3.4. Notices

You may not remove or alter the substance of any license notices
(including copyright notices, patent notices, disclaimers of warranty,
or limitations of liability) contained within the Source Code Form of
the Covered Software, except that You may alter any license notices to
the extent required to remedy known factual inaccuracies.

3.5. Application of Additional Terms

You may choose to offer, and to charge a fee for, warranty, support,
indemnity or liability obligations to one or more recipients of Covered
Software. However, You may do so only on Your own behalf, and not on
behalf of any Contributor. You must make it absolutely clear that any
such warranty, support, indemnity, or liability obligation is offered by
You alone, and You hereby agree to indemnify every Contributor for any
liability incurred by such Contributor as a result of warranty, support,
indemnity or liability terms You offer. You may include additional
disclaimers of warranty and limitations of liability specific to any
jurisdiction.

4. Inability to Comply Due to Statute or Regulation
---------------------------------------------------

If it is impossible for You to comply with any of the terms of this
License with respect to some or all of the Covered Software due to
statute, judicial order, or regulation then You must: (a) comply with
the terms of this License to the maximum extent possible; and (b)
describe the limitations and the code they affect. Such description must
be placed in a text file included with all distributions of the Covered
Software under this License. Except to the extent prohibited by statute
or regulation, such description must be sufficiently detailed for a
recipient of ordinary skill to be able to understand it.

5. Termination
--------------

5.1. The rights granted under this License will terminate automatically
if You fail to comply with any of its terms. However, if You become
compliant, then the rights granted under this License from a particular
Contributor are reinstated (a) provisionally, unless and until such
Contributor explicitly and finally terminates Your grants, and (b) on an
ongoing basis, if such Contributor fails to notify You of the
non-compliance by some reasonable means prior to 60 days after You have
come back into compliance. Moreover, Your grants from a particular
Contributor are reinstated on an ongoing basis if such Contributor
notifies You of the non-compliance by some reasonable means, this is the
first time You have received notice of non-compliance with this License
from such Contributor, and You become compliant prior to 30 days after
Your receipt of the notice.

5.2. If You initiate litigation against any entity by asserting a patent
infringement claim (excluding declaratory judgment actions,
counter-claims, and cross-claims) alleging that a Contributor Version
directly or indirectly infringes any patent, then the rights granted to
You by any and all Contributors for the Covered Software under Section
2.1 of this License shall terminate.

5.3. In the event of termination under Sections 5.1 or 5.2 above, all
end user license agreements (excluding distributors and resellers) which
have been validly granted by You or Your distributors under this License
prior to termination shall survive termination.

************************************************************************
*                                                                      *
*  6. Disclaimer of Warranty                                           *
*  -------------------------                                           *
*                                                                      *
*  Covered Software is provided under this License on an "as is"       *
*  basis, without warranty of any kind, either expressed, implied, or  *
*  statutory, including, without limitation, warranties that the       *
*  Covered Software is free of defects, merchantable, fit for a        *
*  particular purpose or non-infringing. The entire risk as to the     *
*  quality and performance of the Covered Software is with You.        *
*  Should any Covered Software prove defective in any respect, You     *
*  (not any Contributor) assume the cost of any necessary servicing,   *
*  repair, or correction. This disclaimer of warranty constitutes an   *
*  essential part of this License. No use of any Covered Software is   *
*  authorized under this License except under this disclaimer.         *
*                                                                      *
************************************************************************

************************************************************************
*                                                                      *
*  7. Limitation of Liability                                          *
*  --------------------------                                          *
*                                                                      *
*  Under no circumstances and under no legal theory, whether tort      *
*  (including negligence), contract, or otherwise, shall any           *
*  Contributor, or anyone who distributes Covered Software as          *
*  permitted above, be liable to You for any direct, indirect,         *
*  special, incidental, or consequential damages of any character      *
*  including, without limitation, damages for lost profits, loss of    *
*  goodwill, work stoppage, computer failure or malfunction, or any    *
*  and all other commercial damages or losses, even if such party      *
*  shall have been informed of the possibility of such damages. This   *
*  limitation of liability shall not apply to liability for death or   *
*  personal injury resulting from such party's negligence to the       *
*  extent applicable law prohibits such limitation. Some               *
*  jurisdictions do not allow the exclusion or limitation of           *
*  incidental or consequential damages, so this exclusion and          *
*  limitation may not apply to You.                                    *
*                                                                      *
************************************************************************

8. Litigation
-------------

Any litigation relating to this License may be brought only in the
courts of a jurisdiction where the defendant maintains its principal
place of business and such litigation shall be governed by laws of that
jurisdiction, without reference to its conflict-of-law provisions.
Nothing in this Section shall prevent a party's ability to bring
cross-claims or counter-claims.

9. Miscellaneous
----------------

This License represents the complete agreement concerning the subject
matter hereof. If any provision of this License is held to be
unenforceable, such provision shall be reformed only to the extent
necessary to make it enforceable. Any law or regulation which provides
that the language of a contract shall be construed against the drafter
shall not be used to construe this License against a Contributor.

10. Versions of the License
---------------------------

10.1. New Versions

Mozilla Foundation is the license steward. Except as provided in Section
10.3, no one other than the license steward has the right to modify or
publish new versions of this License. Each version will be given a
distinguishing version number.

10.2. Effect of New Versions

You may distribute the Covered Software under the terms of the version
of the License under which You originally received the Covered Software,
or under the terms of any subsequent version published by the license
steward.

10.3. Modified Versions

If you create software not governed by this License, and you want to
create a new license for such software, you may create and use a
modified version of this License if you rename the license and remove
any references to the name of the license steward (except to note that
such modified license differs from this License).

10.4. Distributing Source Code Form that is Incompatible With Secondary
Licenses

If You choose to distribute Source Code Form that is Incompatible With
Secondary Licenses under the terms of this version of the License, the
notice described in Exhibit B of this License must be attached.

Exhibit A - Source Code Form License Notice
-------------------------------------------

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

If it is not possible or desirable to put the notice in a particular
file, then You may include the notice in a location (such as a LICENSE
file in a relevant directory) where a recipient would be likely to look
for such a notice.

You may add additional accurate notices of copyright ownership.

Exhibit B - "Incompatible With Secondary Licenses" Notice
---------------------------------------------------------

  This Source Code Form is "Incompatible With Secondary Licenses", as
  defined by the Mozilla Public License, v. 2.0.


================================================
FILE: package.json
================================================
{
  "name": "zen-desktop",
  "version": "1.0.0",
  "description": "",
  "lint-staged": {
    "**/*": ""
  },
  "type": "module",
  "scripts": {
    "build": "surfer build",
    "build:ui": "surfer build --ui",
    "start": "cd engine && python3 ./mach run --noprofile",
    "import": "npm run ffprefs && npm run import:dumps && surfer import",
    "import:dumps": "python3 scripts/update_service_dumps.py",
    "export": "surfer export",
    "init": "npm run download && npm run import && npm run bootstrap",
    "download": "surfer download",
    "bootstrap": "surfer bootstrap",
    "package": "surfer package",
    "sync": "python3 scripts/update_ff.py",
    "sync:raw": "surfer update",
    "sync:rc": "python3 scripts/update_ff.py --rc",
    "sync:l10n": "python3 scripts/update_ff.py --just-l10n",
    "pretty": "prettier . --write --cache && autopep8 -r --in-place scripts/ src/ --exclude src/zen/tests/",
    "lint": "npx eslint src/ && prettier . --check --cache",
    "lint:fix": "npm run pretty && npx eslint src/ --fix",
    "prepare": "husky",
    "reset-ff": "surfer reset",
    "surfer": "surfer",
    "test": "python3 scripts/run_tests.py",
    "test:dbg": "python3 scripts/run_tests.py --jsdebugger --debug-on-failure",
    "ffprefs": "cd tools/ffprefs && cargo run --bin ffprefs -- ../../",
    "lc": "surfer license-check",
    "lc:fix": "surfer license-check --fix",
    "use-moz-src": "cd engine && ./mach use-moz-src",
    "ci": "surfer ci --brand release --display-version"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/zen-browser/desktop.git"
  },
  "hooks": {
    "pre-commit": "npm run prepare"
  },
  "keywords": [],
  "author": "",
  "license": "MPL-2.0",
  "bugs": {
    "url": "https://github.com/zen-browser/desktop/issues"
  },
  "homepage": "https://github.com/zen-browser/desktop#readme",
  "devDependencies": {
    "@babel/preset-typescript": "^7.27.0",
    "@eslint/js": "^9.39.2",
    "@eslint/json": "^0.14.0",
    "@microsoft/eslint-plugin-sdl": "^1.1.0",
    "@zen-browser/surfer": "^1.13.1",
    "eslint": "^9.39.2",
    "eslint-config-prettier": "^10.1.8",
    "eslint-plugin-eslint-plugin": "^7.3.0",
    "eslint-plugin-html": "^8.1.3",
    "eslint-plugin-import": "^2.32.0",
    "eslint-plugin-jest": "^29.12.1",
    "eslint-plugin-json": "^4.0.1",
    "eslint-plugin-jsx-a11y": "^6.10.2",
    "eslint-plugin-lit": "^2.1.1",
    "eslint-plugin-mozilla": "^4.3.3",
    "eslint-plugin-no-unsanitized": "4.1.4",
    "eslint-plugin-promise": "7.2.1",
    "eslint-plugin-react": "7.37.5",
    "eslint-plugin-react-hooks": "^5.2.0",
    "eslint-plugin-spidermonkey-js": "file:tools/eslint-plugin-spidermonkey-js",
    "formal-git": "^1.2.9",
    "globals": "^16.3.0",
    "husky": "^9.1.7",
    "lint-staged": "^15.3.0",
    "prettier": "^3.4.2",
    "prettier-plugin-sh": "^0.14.0",
    "typescript": "^5.9.3",
    "typescript-eslint": "^8.52.0"
  }
}



================================================
FILE: pyproject.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[tool.autopep8]
max_line_length = 120
recursive = true
aggressive = 3
indent_size = 2



================================================
FILE: requirements.txt
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

autopep8==2.3.1
click==8.1.8
mypy-extensions==1.0.0
packaging==24.2
pathspec==0.12.1
platformdirs==4.3.6
pycodestyle==2.12.1
requests==2.32.5



================================================
FILE: SECURITY.md
================================================
<!--
   - This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/.
   -->

# Security Policy

## Reporting a Vulnerability

Please report security vulnerabilities [here](https://github.com/zen-browser/desktop/security/advisories/new)



================================================
FILE: surfer.json
================================================
{
  "name": "Zen Browser",
  "vendor": "Zen OSS Team",
  "appId": "zen",
  "binaryName": "zen",
  "version": {
    "product": "firefox",
    "version": "147.0.4",
    "candidate": "147.0.4",
    "candidateBuild": 1
  },
  "buildOptions": {
    "generateBranding": true
  },
  "addons": {},
  "brands": {
    "release": {
      "backgroundColor": "#282A33",
      "brandShorterName": "Zen",
      "brandShortName": "Zen",
      "brandFullName": "Zen Browser",
      "release": {
        "displayVersion": "1.18.9b",
        "github": {
          "repo": "zen-browser/desktop"
        },
        "archives": {
          "windows": "windows.mar",
          "macos-aarch64": "macos-aarch64.mar",
          "linux": "linux.mar",
          "macos-x64": "macos-x64.mar",
          "windows-arm64": "windows-arm64.mar",
          "linux-aarch64": "linux-aarch64.mar"
        }
      }
    },
    "twilight": {
      "backgroundColor": "#282A33",
      "brandShorterName": "Zen",
      "brandShortName": "Twilight",
      "brandFullName": "Zen Twilight",
      "release": {
        "displayVersion": "1.19t",
        "github": {
          "repo": "zen-browser/desktop"
        }
      }
    }
  },
  "license": {
    "ignoredFiles": [
      ".*\\.json"
    ],
    "licenseType": "MPL-2.0"
  },
  "updateHostname": "updates.zen-browser.app"
}


================================================
FILE: svgo.config.js
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

export default {
  plugins: [
    "removeMetadata",
    "removeEditorsNSData",
    "removeEmptyAttrs",
    "convertShapeToPath",
    "collapseGroups",
    "mergePaths",
    "removeXMLProcInst",
    "removeUnknownsAndDefaults",
    "removeUselessDefs",
    "reusePaths",
    "convertStyleToAttrs",
    {
      name: "removeAttrs",
      params: {
        attrs: ["version", "y", "x", "id"],
      },
    },
  ],
};



================================================
FILE: tsconfig.json
================================================
{
  "compilerOptions": {
    /* Visit https://aka.ms/tsconfig to read more about this file */

    /* Projects */
    // "incremental": true,                              /* Save .tsbuildinfo files to allow for incremental compilation of projects. */
    // "composite": true,                                /* Enable constraints that allow a TypeScript project to be used with project references. */
    // "tsBuildInfoFile": "./.tsbuildinfo",              /* Specify the path to .tsbuildinfo incremental compilation file. */
    // "disableSourceOfProjectReferenceRedirect": true,  /* Disable preferring source files instead of declaration files when referencing composite projects. */
    // "disableSolutionSearching": true,                 /* Opt a project out of multi-project reference checking when editing. */
    // "disableReferencedProjectLoad": true,             /* Reduce the number of projects loaded automatically by TypeScript. */

    /* Language and Environment */
    "target": "es2016" /* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */,
    // "lib": [],                                        /* Specify a set of bundled library declaration files that describe the target runtime environment. */
    // "jsx": "preserve",                                /* Specify what JSX code is generated. */
    // "libReplacement": true,                           /* Enable lib replacement. */
    // "experimentalDecorators": true,                   /* Enable experimental support for legacy experimental decorators. */
    // "emitDecoratorMetadata": true,                    /* Emit design-type metadata for decorated declarations in source files. */
    // "jsxFactory": "",                                 /* Specify the JSX factory function used when targeting React JSX emit, e.g. 'React.createElement' or 'h'. */
    // "jsxFragmentFactory": "",                         /* Specify the JSX Fragment reference used for fragments when targeting React JSX emit e.g. 'React.Fragment' or 'Fragment'. */
    // "jsxImportSource": "",                            /* Specify module specifier used to import the JSX factory functions when using 'jsx: react-jsx*'. */
    // "reactNamespace": "",                             /* Specify the object invoked for 'createElement'. This only applies when targeting 'react' JSX emit. */
    // "noLib": true,                                    /* Disable including any library files, including the default lib.d.ts. */
    // "useDefineForClassFields": true,                  /* Emit ECMAScript-standard-compliant class fields. */
    // "moduleDetection": "auto",                        /* Control what method is used to detect module-format JS files. */

    /* Modules */
    "module": "commonjs" /* Specify what module code is generated. */,
    // "rootDir": "./",                                  /* Specify the root folder within your source files. */
    // "moduleResolution": "node10",                     /* Specify how TypeScript looks up a file from a given module specifier. */
    // "baseUrl": "./",                                  /* Specify the base directory to resolve non-relative module names. */
    // "paths": {},                                      /* Specify a set of entries that re-map imports to additional lookup locations. */
    // "rootDirs": [],                                   /* Allow multiple folders to be treated as one when resolving modules. */
    // "typeRoots": [],                                  /* Specify multiple folders that act like './node_modules/@types'. */
    // "types": [],                                      /* Specify type package names to be included without being referenced in a source file. */
    // "allowUmdGlobalAccess": true,                     /* Allow accessing UMD globals from modules. */
    // "moduleSuffixes": [],                             /* List of file name suffixes to search when resolving a module. */
    // "allowImportingTsExtensions": true,               /* Allow imports to include TypeScript file extensions. Requires '--moduleResolution bundler' and either '--noEmit' or '--emitDeclarationOnly' to be set. */
    // "rewriteRelativeImportExtensions": true,          /* Rewrite '.ts', '.tsx', '.mts', and '.cts' file extensions in relative import paths to their JavaScript equivalent in output files. */
    // "resolvePackageJsonExports": true,                /* Use the package.json 'exports' field when resolving package imports. */
    // "resolvePackageJsonImports": true,                /* Use the package.json 'imports' field when resolving imports. */
    // "customConditions": [],                           /* Conditions to set in addition to the resolver-specific defaults when resolving imports. */
    // "noUncheckedSideEffectImports": true,             /* Check side effect imports. */
    // "resolveJsonModule": true,                        /* Enable importing .json files. */
    // "allowArbitraryExtensions": true,                 /* Enable importing files with any extension, provided a declaration file is present. */
    // "noResolve": true,                                /* Disallow 'import's, 'require's or '<reference>'s from expanding the number of files TypeScript should add to a project. */

    /* JavaScript Support */
    // "allowJs": true,                                  /* Allow JavaScript files to be a part of your program. Use the 'checkJS' option to get errors from these files. */
    // "checkJs": true,                                  /* Enable error reporting in type-checked JavaScript files. */
    // "maxNodeModuleJsDepth": 1,                        /* Specify the maximum folder depth used for checking JavaScript files from 'node_modules'. Only applicable with 'allowJs'. */

    /* Emit */
    // "declaration": true,                              /* Generate .d.ts files from TypeScript and JavaScript files in your project. */
    // "declarationMap": true,                           /* Create sourcemaps for d.ts files. */
    // "emitDeclarationOnly": true,                      /* Only output d.ts files and not JavaScript files. */
    // "sourceMap": true,                                /* Create source map files for emitted JavaScript files. */
    // "inlineSourceMap": true,                          /* Include sourcemap files inside the emitted JavaScript. */
    // "noEmit": true,                                   /* Disable emitting files from a compilation. */
    // "outFile": "./",                                  /* Specify a file that bundles all outputs into one JavaScript file. If 'declaration' is true, also designates a file that bundles all .d.ts output. */
    // "outDir": "./",                                   /* Specify an output folder for all emitted files. */
    // "removeComments": true,                           /* Disable emitting comments. */
    // "importHelpers": true,                            /* Allow importing helper functions from tslib once per project, instead of including them per-file. */
    // "downlevelIteration": true,                       /* Emit more compliant, but verbose and less performant JavaScript for iteration. */
    // "sourceRoot": "",                                 /* Specify the root path for debuggers to find the reference source code. */
    // "mapRoot": "",                                    /* Specify the location where debugger should locate map files instead of generated locations. */
    // "inlineSources": true,                            /* Include source code in the sourcemaps inside the emitted JavaScript. */
    // "emitBOM": true,                                  /* Emit a UTF-8 Byte Order Mark (BOM) in the beginning of output files. */
    // "newLine": "crlf",                                /* Set the newline character for emitting files. */
    // "stripInternal": true,                            /* Disable emitting declarations that have '@internal' in their JSDoc comments. */
    // "noEmitHelpers": true,                            /* Disable generating custom helper functions like '__extends' in compiled output. */
    // "noEmitOnError": true,                            /* Disable emitting files if any type checking errors are reported. */
    // "preserveConstEnums": true,                       /* Disable erasing 'const enum' declarations in generated code. */
    // "declarationDir": "./",                           /* Specify the output directory for generated declaration files. */

    /* Interop Constraints */
    // "isolatedModules": true,                          /* Ensure that each file can be safely transpiled without relying on other imports. */
    // "verbatimModuleSyntax": true,                     /* Do not transform or elide any imports or exports not marked as type-only, ensuring they are written in the output file's format based on the 'module' setting. */
    // "isolatedDeclarations": true,                     /* Require sufficient annotation on exports so other tools can trivially generate declaration files. */
    // "erasableSyntaxOnly": true,                       /* Do not allow runtime constructs that are not part of ECMAScript. */
    // "allowSyntheticDefaultImports": true,             /* Allow 'import x from y' when a module doesn't have a default export. */
    "esModuleInterop": true /* Emit additional JavaScript to ease support for importing CommonJS modules. This enables 'allowSyntheticDefaultImports' for type compatibility. */,
    // "preserveSymlinks": true,                         /* Disable resolving symlinks to their realpath. This correlates to the same flag in node. */
    "forceConsistentCasingInFileNames": true /* Ensure that casing is correct in imports. */,

    /* Type Checking */
    "strict": true /* Enable all strict type-checking options. */,
    // "noImplicitAny": true,                            /* Enable error reporting for expressions and declarations with an implied 'any' type. */
    // "strictNullChecks": true,                         /* When type checking, take into account 'null' and 'undefined'. */
    // "strictFunctionTypes": true,                      /* When assigning functions, check to ensure parameters and the return values are subtype-compatible. */
    // "strictBindCallApply": true,                      /* Check that the arguments for 'bind', 'call', and 'apply' methods match the original function. */
    // "strictPropertyInitialization": true,             /* Check for class properties that are declared but not set in the constructor. */
    // "strictBuiltinIteratorReturn": true,              /* Built-in iterators are instantiated with a 'TReturn' type of 'undefined' instead of 'any'. */
    // "noImplicitThis": true,                           /* Enable error reporting when 'this' is given the type 'any'. */
    // "useUnknownInCatchVariables": true,               /* Default catch clause variables as 'unknown' instead of 'any'. */
    // "alwaysStrict": true,                             /* Ensure 'use strict' is always emitted. */
    // "noUnusedLocals": true,                           /* Enable error reporting when local variables aren't read. */
    // "noUnusedParameters": true,                       /* Raise an error when a function parameter isn't read. */
    // "exactOptionalPropertyTypes": true,               /* Interpret optional property types as written, rather than adding 'undefined'. */
    // "noImplicitReturns": true,                        /* Enable error reporting for codepaths that do not explicitly return in a function. */
    // "noFallthroughCasesInSwitch": true,               /* Enable error reporting for fallthrough cases in switch statements. */
    // "noUncheckedIndexedAccess": true,                 /* Add 'undefined' to a type when accessed using an index. */
    // "noImplicitOverride": true,                       /* Ensure overriding members in derived classes are marked with an override modifier. */
    // "noPropertyAccessFromIndexSignature": true,       /* Enforces using indexed accessors for keys declared using an indexed type. */
    // "allowUnusedLabels": true,                        /* Disable error reporting for unused labels. */
    // "allowUnreachableCode": true,                     /* Disable error reporting for unreachable code. */

    /* Completeness */
    // "skipDefaultLibCheck": true,                      /* Skip type checking .d.ts files that are included with TypeScript. */
    "skipLibCheck": true /* Skip type checking all .d.ts files. */
  }
}



================================================
FILE: .dockerignore
================================================
node_modules
.git
.DS_Store
*.log
engine



================================================
FILE: .editorconfig
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

root = true

[*]
indent_style = space
indent_size = 2
end_of_line = lf
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true

[*.md]
trim_trailing_whitespace = false



================================================
FILE: .nvmrc
================================================
20



================================================
FILE: .prettierignore
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

engine/

**/*.html
**/*.xhtml
**/*.inc.xhtml
**/*.bundle.min.js
**/*.min.js
**/*.min.mjs

**/*.svg

**/*.inc.css

surfer.json

src/zen/tests/mochitests/*

src/browser/app/profile/*.js
pnpm-lock.yaml

**/engine/

docs/issue-metrics/*.md

.husky/

# Some CSS files are preprocessed and prettier doesn't handle them well
# We also dont want to format the CSS files that are generated by the build
src/zen/tabs/zen-tabs.css
src/zen/common/styles/zen-theme.css
src/zen/compact-mode/zen-compact-mode.css
src/zen/common/ZenEmojis.mjs

src/zen/split-view/zen-decks.css
src/zen/workspaces/zen-workspaces.css
src/zen/common/styles/zen-toolbar.css

*.inc



================================================
FILE: .prettierrc.json
================================================
{
  "bracketSameLine": true,
  "endOfLine": "lf",
  "trailingComma": "es5",
  "tabWidth": 2,
  "useTabs": false,
  "jsxSingleQuote": false,
  "semi": true,
  "printWidth": 100,
  "plugins": ["prettier-plugin-sh"],
  "overrides": [
    {
      "files": "*.css",
      "options": {
        "parser": "css",
        "printWidth": 160
      }
    }
  ]
}



================================================
FILE: .python-version
================================================
3.11



================================================
FILE: .rust-toolchain
================================================
1.89


================================================
FILE: configs/common/mozconfig
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Browser branding
ac_add_options --with-app-name=${binName}
ac_add_options --with-app-basename=Zen

# Localization (Must be an absolute path)
ac_add_options --with-l10n-base="${topsrcdir}/browser/locales"

export MOZ_APP_BASENAME=Zen
export MOZ_BRANDING_DIRECTORY=${brandingDir}
export MOZ_OFFICIAL_BRANDING_DIRECTORY=${brandingDir}

ac_add_options --with-distribution-id=app.zen-browser

# Uncomment if builds are too resource hungry
# mk_add_options MOZ_MAKE_FLAGS="-j4"
# ac_add_options --enable-linker=gold

# Misc
export MOZ_SOURCE_REPO=https://github.com/zen-browser/desktop
export MOZ_SOURCE_CHANGESET=${changeset}
export MOZ_INCLUDE_SOURCE_INFO=1

ac_add_options --enable-application=browser

# Anything except 'SCCACHE_GHA_ENABLED == false'
if ! test "$SCCACHE_GHA_ENABLED" = "false"; then
  if test -x "$(command -v sccache)"; then
    ac_add_options --with-ccache=sccache
  elif test -f "$HOME/.mozbuild/sccache/sccache"; then
    ac_add_options --with-ccache="$HOME"/.mozbuild/sccache/sccache
  fi
fi

# add safe browsing key if it exists on a file
if test -f "$HOME/.zen-keys/safebrowsing.dat"; then
  ac_add_options --with-google-safebrowsing-api-keyfile="$HOME/.zen-keys/safebrowsing.dat"
fi

if test "$ZEN_RELEASE"; then

  # TODO: Make this successful in builds
  # ac_add_options --enable-clang-plugin
  ac_add_options --enable-bootstrap=-sccache

  ac_add_options --enable-optimize

  ac_add_options --enable-release
  ac_add_options --disable-debug
  ac_add_options --disable-debug-symbols
  ac_add_options --disable-debug-js-modules
  ac_add_options --disable-tests

  ac_add_options --enable-rust-simd
  ac_add_options --enable-wasm-simd

  ac_add_options --disable-geckodriver
  ac_add_options --disable-rust-tests

  if ! test "$ZEN_DISABLE_LTO"; then
    # only enable full LTO when ZEN_RELEASE_BRANCH is 'release'
    if test "$ZEN_RELEASE_BRANCH" = "release"; then
      # TODO: make it "full" once we have the resources to build it
      export MOZ_LTO=cross,full
      ac_add_options --enable-lto=cross,full
    else
      export MOZ_LTO=cross,thin
      ac_add_options --enable-lto=cross,thin
    fi
  fi

  mk_add_options MOZILLA_OFFICIAL=1
  MOZILLA_OFFICIAL=1
  export MOZILLA_OFFICIAL=1

  mk_add_options AUTOCLOBBER=1
  export AUTOCLOBBER=1

  export MOZ_PACKAGE_JSSHELL=1

  ac_add_options --disable-crashreporter

  # Experimental flag, enabled only on nightly for Firefox.
  # Should bring in some nice performance improvements, 
  # but may cause stability issues.
  ac_add_options --enable-replace-malloc
fi

ac_add_options --enable-unverified-updates

ac_add_options --enable-jxl

ac_add_options --with-unsigned-addon-scopes=app,system

mk_add_options MOZ_DATA_REPORTING=
mk_add_options MOZ_SERVICES_HEALTHREPORT=
mk_add_options MOZ_TELEMETRY_REPORTING=

ac_add_options MOZ_DATA_REPORTING=
ac_add_options MOZ_TELEMETRY_REPORTING=

# Allow loading unsigned extensions
export MOZ_REQUIRE_SIGNING=
mk_add_options MOZ_REQUIRE_SIGNING=



================================================
FILE: configs/dumps/search-config-v2.json
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this file,
// You can obtain one at http://mozilla.org/MPL/2.0/.
{
  "remove": {
    "identifiers": [
      // Firefox adds Perplexity by default, we don't want it as
      // its not very privacy focused.
      "perplexity",

      // These are not search engines, Firefox adds them by default
      // but we don't want them.
      "wikipedia",
      "wikipedia-*",
      "ebay",
      "ebay-*"
    ]
  }
}



================================================
FILE: configs/linux/mozconfig
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Setting the compiler based on the existence of clang bin directory
if test -d "$HOME/.mozbuild/clang/bin"; then
    export CC="$HOME/.mozbuild/clang/bin/clang"
    export CXX="$HOME/.mozbuild/clang/bin/clang++"
else
    export CC=clang
    export CXX=clang++
fi

if test "$ZEN_RELEASE"; then
    if test "$SURFER_COMPAT" = "x86_64"; then
        ac_add_options --target=x86_64-pc-linux
        ac_add_options --enable-eme=widevine

        # Enable Profile Guided Optimization
        if ! test "$ZEN_GA_DISABLE_PGO"; then
            export MOZ_PGO=1
            ac_add_options MOZ_PGO=1
        fi
    elif test "$SURFER_COMPAT" = "aarch64"; then
        ac_add_options --target=aarch64-linux-gnu

        # override LTO settings
        export MOZ_LTO=cross,thin
        ac_add_options --enable-lto=cross,thin
    fi

    # Disable DMD and ELF hacks, enable linker lld
    ac_add_options --enable-linker=lld
    ac_add_options --disable-elf-hack

    # Stripping options for release builds
    ac_add_options --enable-install-strip
    ac_add_options --enable-strip
    export STRIP_FLAGS="--strip-debug --strip-unneeded"
fi



================================================
FILE: configs/macos/mozconfig
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

unset MOZ_STDCXX_COMPAT

ac_add_options --disable-dmd
ac_add_options --enable-eme=widevine

if test "$ZEN_RELEASE"; then
  # override LTO settings
  # TODO: Dont use LTO for now, it's causing a lot of issues
  export MOZ_LTO=cross,thin
  ac_add_options --enable-lto=cross,thin
fi

if test "$ZEN_RELEASE"; then
  if test "$ZEN_GA_DISABLE_PGO"; then
    export ZEN_DUMMY=1
  else
    export MOZ_PGO=1
    ac_add_options MOZ_PGO=1
  fi
fi

if test "$SURFER_COMPAT" = "x86_64"; then
  ac_add_options --target=x86_64-apple-darwin

  if test "$ZEN_RELEASE"; then
    ac_add_options --enable-wasm-avx
  fi
else
  ac_add_options --enable-clang-plugin
  ac_add_options --target=aarch64-apple-darwin

  if test "$ZEN_RELEASE"; then
    # As of Clang 13, the default is -mcpu=apple-m1 when using a aarch64-apple-macos target,
    # but we're using apple64-apple-darwin, which defaults to -mcpu=apple-a7, which disables
    # a bunch of # performance-enabling CPU features.
    # TODO: We'll want to switch to aarch64-apple-macos eventually.
    export CFLAGS="$CFLAGS -mcpu=apple-m1"
    export CXXFLAGS="$CXXFLAGS -mcpu=apple-m1"
  fi
fi

if test "$ZEN_RELEASE"; then
  ac_add_options --with-macos-sdk=/Library/Developer/CommandLineTools/SDKs/MacOSX26.2.sdk
fi

# Keep using ld64 on PGO/LTO builds because of performance regressions when using lld.
# Mozilla sets "MOZ_LD64_KNOWN_GOOD" to true when they do automated builds with PGO/LTO on macOS.
# See https://searchfox.org/firefox-main/rev/e61d59b5c9a651fd7bf28043f87c0dc669833496/build/moz.configure/lto-pgo.configure#261
# export MOZ_LD64_KNOWN_GOOD=1
# ac_add_options --enable-linker=ld64
# 
# if test "$ZEN_RELEASE"; then
#   mk_add_options MOZ_MAKE_FLAGS="-j4"
# fi



================================================
FILE: configs/windows/mozconfig
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

if test "$ZEN_CROSS_COMPILING"; then

  export WINSYSROOT="$(echo ~)/win-cross/vs2022"

  export WINE="$(echo ~)/win-cross/wine/bin/wine"
  export WINEDEBUG=-all

  export MOZ_STUB_INSTALLER=1
  export MOZ_PKG_FORMAT=TAR

  export CROSS_BUILD=1
  CROSS_COMPILE=1

  if test "$SURFER_COMPAT" = "aarch64"; then
    export WIN32_REDIST_DIR="$(echo ~)/win-cross/vs2022/VC/Redist/MSVC/14.38.33135/arm64/Microsoft.VC143.CRT"
  else
    export WIN32_REDIST_DIR="$(echo ~)/win-cross/vs2022/VC/Redist/MSVC/14.38.33135/x64/Microsoft.VC143.CRT"
  fi
fi

# We wrongly detect ccache on windows, which leads to build failures.
# This line should be removed once the detection is fixed.
ac_add_options --without-ccache

ac_add_options --disable-maintenance-service
ac_add_options --disable-bits-download

if test "$SURFER_COMPAT" = "x86_64"; then
  ac_add_options --target=x86_64-pc-windows-msvc
  ac_add_options --enable-eme=widevine,wmfcdm
elif test "$SURFER_COMPAT" = "aarch64"; then
  ac_add_options --target=aarch64-pc-windows-msvc
  ac_add_options --enable-eme=widevine

  # override LTO settings
  export MOZ_LTO=cross,thin
  ac_add_options --enable-lto=cross,thin
fi

if test "$ZEN_CROSS_COMPILING"; then
  if test "$ZEN_GA_GENERATE_PROFILE"; then
    mk_add_options "export MOZ_AUTOMATION_PACKAGE_GENERATED_SOURCES=0"
    ac_add_options --enable-profile-generate=cross
  elif test "$SURFER_COMPAT" = "x86_64"; then
    # Dont use PGO on aarch64 builds and the ZEN_GA_DISABLE_PGO flag is not set
    if test "$ZEN_GA_DISABLE_PGO"; then
      export ZEN_DUMMY=1
    else
      ac_add_options --enable-profile-use=cross
      ac_add_options --with-pgo-profile-path=$(echo ~)/artifact/merged.profdata
      ac_add_options --with-pgo-jarlog=$(echo ~)/artifact/en-US.log
    fi
  fi
fi



================================================
FILE: docs/contribute.md
================================================
<!--
   - This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/.
   -->

# Branch Structure

The repository is structured as follows:

```
dev (main branch)
 | |
 | \--->-- stable (release branch)
 |   ^
 ^   |
 |   \-<- Hotfix (hotfixes directly from stable)
 |
 \-<- (features branches)
```

The `dev` branch is the main branch of the repository, and it is the default branch for the repository. The `twilight` branch is the feature branch, and it is branched off from the `dev` branch. The `stable` branch is the release branch, and it is branched off from the `dev` branch.

The `stable` branch may have hotfixes directly from the `stable` branch, and the `twilight` branch may have feature branches branched off from the `twilight` branch. This is done so that we can apply hotfixes like security patches directly to the `stable` branch without having to merge the changes from the `twilight` branch.

# Local Development Setup

Before you set up your local development environment, **read our [Building Guidelines](https://docs.zen-browser.app/guides/building)**. Skipping them can lead to avoidable build errors.

# Code Of Conduct

Please read our [Code of Conduct](../CODE_OF_CONDUCT.md) before contributing.



================================================
FILE: docs/live-folders-specs.md
================================================
# Zen Live Folders - Specification

## Overview

Live Folders are dynamic, auto-updating folders in Zen.  
Unlike static folders, they fetch and refresh their contents automatically from external sources (e.g., RSS feeds, APIs).  
By default, Live Folders refresh every **30 minutes**, but this interval can be configured in preferences.

---

## Architecture

### `LiveFolderProvider`

- **Abstract base class** for all live folder implementations.
- Defines the contract for fetching and updating live folder contents.
- Responsibilities:
  - Define how to fetch items (abstract method `fetchItems()`).
  - Handle update intervals (default: 30 min).
  - Manage serialization/deserialization of folder state (cache, last update time).
  - Provide metadata (icon, label, description).

```ts
interface FolderItem {
  id: string;
  title: string;
  url: string;
}

interface FolderMetadata {
  icon: string;
  label: string;
}

interface LiveFolderProvider {
  fetchItems(): Promise<FolderItem[]>;
  getMetadata(): FolderMetadata;
}
```

### Implementations

#### `RssLiveFolderProvider`

- **Description**: Updates live folder contents from an RSS/Atom feed.
- **Configuration**:
  - `url`: URL of the RSS feed.

#### `GithubLiveFolderProvider`

- **Description**: Updates live folder contents from GitHub user's Pull Requests.
- **Configuration**:
  - `username`: GitHub username.

#### `RestAPILiveFolderProvider`

- **Description**: Updates live folder contents from a REST API endpoint.
- **Configuration**:
  - `schema`: JSON schema to validate API responses.

#### Possible future implementations

- `WebhookLiveFolderProvider`

---

# REST API Live Folder Schema

## Overview

REST-based Live Folders allow Zen to fetch JSON data from an HTTP(S) endpoint and map it into folder items.  
Each REST Live Folder must provide a **schema-compliant response** that Zen can parse into items.

- **Remote APIs (https://, http://)**: Flexible schema (mapping via config).
- **Localhost APIs (http://127.0.0.1, http://localhost)**: Must strictly follow Zen’s **Local REST Schema** for security and consistency.

---

## Common Rules

- Requests are always `GET`.
- Responses **must be JSON**.
- CORS headers are ignored (Zen fetches internally).
- Max response size: **1 MB** (to prevent abuse).
- Items exceeding `liveFolder.maxItems` (default 100) will be trimmed.

---

## Remote REST Schema

Remote APIs can return any JSON, but the Live Folder must provide a mapping configuration:

```json
{
  "type": "rest",
  "url": "https://api.example.com/posts",
  "mapping": {
    "items": "data.posts",
    "id": "id",
    "title": "headline",
    "url": "link"
  }
}
```

### Installation of REST API Live Folder

These schemas would be stored inside a marketplace on Zen's web platform, allowing users to easily discover and integrate new REST API Live Folders into their workspace.

If the user wants to create a new REST API Live Folder, they can do so by providing the necessary schema and configuration through the marketplace interface. This will enable them to customize the folder's behavior and data mapping according to their specific needs.

If it's a custom API and the schema is not publicly available, users can still create a Live Folder by defining their own mapping configuration. This allows them to integrate with proprietary APIs while adhering to Zen's Live Folder standards. This mapping configuration will be fetched via `https://example.com/zen-live-folder.schema.json`.



================================================
FILE: docs/issue-metrics/2025_2025-06-01..2025-06-30.md
================================================
# Issue Metrics

| Metric | Average | Median | 90th percentile |
| --- | --- | --- | ---: |
| Time to first response | 1 day, 2:17:01 | 3:36:55 | 2 days, 2:30:28 |
| Time to close | 1 day, 5:56:40 | 8:11:14 | 3 days, 21:11:56 |

| Metric | Count |
| --- | ---: |
| Number of items that remain open | 160 |
| Number of items closed | 159 |
| Total number of items created | 319 |

| Title | URL | Time to first response | Time to close |
| --- | --- | --- | --- |
| Tabs from all workspaces lost when new window is opened | https://github.com/zen-browser/desktop/issues/9263 | 0:53:03 | 0:53:03 |
| Theme switching broken for Zen 1.14b | https://github.com/zen-browser/desktop/issues/9262 | 0:35:58 | None |
| Compact mode being disabled for the second window | https://github.com/zen-browser/desktop/issues/9260 | None | None |
| Several Context Menus items no longer has a text. | https://github.com/zen-browser/desktop/issues/9259 | 0:36:25 | None |
| App Crashes when all tabs are closed. | https://github.com/zen-browser/desktop/issues/9255 | 1:42:32 | None |
| Multiple windows reopen on launch despite disabling "Open previous windows and tabs" | https://github.com/zen-browser/desktop/issues/9254 | 0:48:51 | None |
| Tabs scrolling becomes laggy after scrolling horizontally through workspaces | https://github.com/zen-browser/desktop/issues/9253 | None | None |
| Joyn (streaming provider) is not working with Zen | https://github.com/zen-browser/desktop/issues/9252 | 0:14:44 | 1:32:50 |
| Private Space is pink (after updating to 1.14b) | https://github.com/zen-browser/desktop/issues/9251 | 0:51:48 | None |
| Tabs are not unloaded by default when launching Zen | https://github.com/zen-browser/desktop/issues/9250 | 0:27:42 | 0:27:42 |
| The Zen Browser shortcut, for closing a single tab, is not working as expected | https://github.com/zen-browser/desktop/issues/9247 | 2:19:22 | None |
| Split Views and Tab Groups are forever lost when CTRL+W is activated to unload Zen | https://github.com/zen-browser/desktop/issues/9245 | 3:04:10 | None |
| Bookmark bar is now white | https://github.com/zen-browser/desktop/issues/9244 | 1:42:11 | 3:52:48 |
| Closing the last tab in a space quits the browser | https://github.com/zen-browser/desktop/issues/9243 | 3:36:55 | 3:36:55 |
| The Option+Cmd+ArrowRight set as Forward Workspace shortcut does not change workspace | https://github.com/zen-browser/desktop/issues/9241 | None | None |
| "Create Space" Translation error | https://github.com/zen-browser/desktop/issues/9239 | None | None |
| Zoom Indicator is always white, which is unreadable in darkmode | https://github.com/zen-browser/desktop/issues/9238 | None | None |
| In compact mode, the sidebar does not collapse on a blank page | https://github.com/zen-browser/desktop/issues/9237 | 1:48:18 | None |
| The Essential tabs cannot be uninstalled using CTRL+W | https://github.com/zen-browser/desktop/issues/9236 | 2:43:01 | 3:18:38 |
| Pressing the mouse "forward"/"backward" keys sometimes switches workspaces instead of navigating the tab history | https://github.com/zen-browser/desktop/issues/9235 | 0:10:08 | None |
| Can not restore tabs at Startup | https://github.com/zen-browser/desktop/issues/9234 | 1 day, 1:47:23 | None |
| When clicking new tab the url bar opens instead of a new page | https://github.com/zen-browser/desktop/issues/9233 | None | 0:02:26 |
| Two different dark modes in 1.14b | https://github.com/zen-browser/desktop/issues/9232 | 1:22:38 | None |
| spaces dissapear | https://github.com/zen-browser/desktop/issues/9231 | None | None |
| No way to unbind the new keybord shortcut CMD+OPT+right/left arrow to switch btween tabs | https://github.com/zen-browser/desktop/issues/9230 | None | 1:18:39 |
| Zen browser no loger has dark mode after update | https://github.com/zen-browser/desktop/issues/9229 | 0:20:16 | None |
| Text is black | https://github.com/zen-browser/desktop/issues/9228 | 0:13:01 | None |
| Dark Theme Different | https://github.com/zen-browser/desktop/issues/9225 | 0:24:22 | 0:35:32 |
| bug: open tabs on startup | https://github.com/zen-browser/desktop/issues/9222 | 0:06:54 | 0:06:54 |
| The input focus state CSS styles are wrong | https://github.com/zen-browser/desktop/issues/9220 | 2:19:22 | 8:11:14 |
| workspace windows | https://github.com/zen-browser/desktop/issues/9218 | 0:45:18 | 0:45:18 |
| Zen browser's letterboxing omits top margin, potentially weakening fingerprinting protection | https://github.com/zen-browser/desktop/issues/9217 | 0:18:19 | 1 day, 3:59:58 |
| When I open the browser, all my fixed tabs pop up and load | https://github.com/zen-browser/desktop/issues/9215 | 6:53:20 | 6:53:20 |
| Custom Search Engine Suggestion URL Doesn't Support Different Domains | https://github.com/zen-browser/desktop/issues/9214 | 9:20:22 | None |
| Picture in Picture not resizing on other monitors & not full screening | https://github.com/zen-browser/desktop/issues/9213 | None | None |
| Can't download videos from YouTube | https://github.com/zen-browser/desktop/issues/9211 | 1:01:58 | 1:58:54 |
| Can't scroll through tab list while dragging a tab | https://github.com/zen-browser/desktop/issues/9207 | 14:01:51 | 14:01:50 |
| Dragging and dropping tabs to another window sometimes sends it to the bottom of the list | https://github.com/zen-browser/desktop/issues/9206 | None | None |
| Lastpass extension error when oppening | https://github.com/zen-browser/desktop/issues/9204 | 1 day, 1:38:07 | None |
| The URL bar still get duplicated as the special character is typed | https://github.com/zen-browser/desktop/issues/9203 | None | None |
| cant sign into tiktok. after typing the email and password it loads forever. google sign-in doesnt work either. it works fine on brave and edge | https://github.com/zen-browser/desktop/issues/9202 | None | None |
| URL Bar loses focus when deleting last character | https://github.com/zen-browser/desktop/issues/9201 | None | None |
| no icon displayed in alt-tab view when running in wayland | https://github.com/zen-browser/desktop/issues/9196 | None | None |
| Terminal and Zen | https://github.com/zen-browser/desktop/issues/9195 | 14:31:09 | 2 days, 14:32:04 |
| Opening extension using shortcut or when window is not in focus crashes Zen | https://github.com/zen-browser/desktop/issues/9194 | 1 day, 1:22:06 | None |
| Fullscreening a video will start playback of another video from a different tab | https://github.com/zen-browser/desktop/issues/9193 | 1 day, 2:12:15 | None |
| Pinned tabs gets rendered incorrectly on restart | https://github.com/zen-browser/desktop/issues/9192 | 12:48:46 | None |
| SunCalc Website Doesn't Work | https://github.com/zen-browser/desktop/issues/9190 | 3:10:44 | 3:10:44 |
| The theme colors are broken after update | https://github.com/zen-browser/desktop/issues/9185 | 0:39:42 | 2 days, 12:54:41 |
| Firefox Logo in sync page | https://github.com/zen-browser/desktop/issues/9184 | None | None |
| Crash when opening Tampermonkey on Microsoft 365 Copilot | https://github.com/zen-browser/desktop/issues/9182 | 1:18:16 | None |
| Bug: Figma Canvas Zoom Shortcut Zooms Entire Page Instead of Canvas | https://github.com/zen-browser/desktop/issues/9181 | 18:47:26 | None |
| Importing from Arc Browser isn't generating spaces and pinned tabs | https://github.com/zen-browser/desktop/issues/9180 | 18:49:54 | 18:49:54 |
| Unable to clear cookies and site data | https://github.com/zen-browser/desktop/issues/9178 | None | 0:14:48 |
| Cannot restore tabs after restart | https://github.com/zen-browser/desktop/issues/9177 | 0:27:35 | 1:44:26 |
| scroll bar moves window on mac | https://github.com/zen-browser/desktop/issues/9176 | None | 22:33:55 |
| Focus not present when trying to use shortcuts - Google Calendar / Gmail etc | https://github.com/zen-browser/desktop/issues/9175 | 2:24:44 | 23:01:50 |
| If you search the selected text in a search engine from a pinned tab and then turn it into a separate tab and close it, you can't open any other tab | https://github.com/zen-browser/desktop/issues/9173 | 2:34:26 | None |
| Elements escaping page bounds | https://github.com/zen-browser/desktop/issues/9171 | 1 day, 5:00:13 | None |
| Keyboard combo broken to switch between workspaces | https://github.com/zen-browser/desktop/issues/9170 | 4:12:33 | None |
| Toolbar hover container does not account for bookmark section | https://github.com/zen-browser/desktop/issues/9169 | None | None |
| Current open tabs don't appear in the search bar sometimes when I type a word from their title | https://github.com/zen-browser/desktop/issues/9166 | None | None |
| Creating / editing names of containers does not work on Mac | https://github.com/zen-browser/desktop/issues/9164 | None | None |
| Force clicking on MacOS open new tab and opens link in current tab | https://github.com/zen-browser/desktop/issues/9162 | 11:41:01 | None |
| Ghost popup window of an addon | https://github.com/zen-browser/desktop/issues/9159 | 13:45:09 | None |
| Opening addon's popup sometimes freezes the browser | https://github.com/zen-browser/desktop/issues/9158 | None | None |
| Mouse back/forward buttons erroneously switch workspaces | https://github.com/zen-browser/desktop/issues/9157 | 14:03:54 | None |
| First install "OOBE" not showing up again after re-install | https://github.com/zen-browser/desktop/issues/9154 | 0:15:20 | 14:46:35 |
| Random Unresponsive Windows (Uncloseable) | https://github.com/zen-browser/desktop/issues/9152 | 1:49:02 | None |
| Website Appearance: Automatic broken on macOS | https://github.com/zen-browser/desktop/issues/9151 | 17:00:48 | 5 days, 13:15:43 |
| Can't make new tabs | https://github.com/zen-browser/desktop/issues/9149 | 0:20:04 | 0:36:59 |
| Create workspace does show modal for parameters, creates default workspace that does not show tabs or workspace details until restart | https://github.com/zen-browser/desktop/issues/9147 | 23:37:11 | 1 day, 17:21:28 |
| Severe Performance Degradation on Stripe Dashboard (`enqueueSetState` CPU-bound) | https://github.com/zen-browser/desktop/issues/9146 | None | None |
| KeePassXC Passkey Support | https://github.com/zen-browser/desktop/issues/9145 | 1:51:40 | None |
| The topbar buttons will still get triggered when hovering | https://github.com/zen-browser/desktop/issues/9144 | None | None |
| Problem using Kaspersky extensions | https://github.com/zen-browser/desktop/issues/9141 | 4 days, 22:50:48 | 5 days, 2:52:28 |
| Closing a tab doesnt switch focus to open essentials | https://github.com/zen-browser/desktop/issues/9140 | 3 days, 19:25:26 | None |
| Previosly opened tabs aren't being restored | https://github.com/zen-browser/desktop/issues/9139 | 1 day, 5:17:36 | 1 day, 5:17:36 |
| Can't install mods | https://github.com/zen-browser/desktop/issues/9138 | None | None |
| Flashing background blurr when using rainmeter | https://github.com/zen-browser/desktop/issues/9137 | None | None |
| Metamask extension does not inject on localhost dev | https://github.com/zen-browser/desktop/issues/9136 | None | None |
| entire browser flash white on loading sites | https://github.com/zen-browser/desktop/issues/9134 | 8:37:18 | None |
| Reopening closed tab into split/grid group causes desync | https://github.com/zen-browser/desktop/issues/9133 | None | None |
| Issue with Dictionary Upload via .zip File in Yomitan Plugin | https://github.com/zen-browser/desktop/issues/9132 | None | None |
| Multiple context menu options no longer appear in tab context menu | https://github.com/zen-browser/desktop/issues/9130 | None | 2:41:00 |
| Inappropriate shared window icon position | https://github.com/zen-browser/desktop/issues/9128 | None | None |
| Default shortcuts don't work for 60% of world population on Windows | https://github.com/zen-browser/desktop/issues/9127 | 4:07:15 | None |
| Extension items in context menu and tab menu are duplicated every time new tab is opened or switched to | https://github.com/zen-browser/desktop/issues/9125 | None | None |
| Tab list is not scrolled to new tab in compact mode | https://github.com/zen-browser/desktop/issues/9124 | None | None |
| Accent Color settings not showing in settings after 1.13.2b | https://github.com/zen-browser/desktop/issues/9122 | 4:52:30 | 7:44:33 |
| pinned extensions format weirdly with big icons and text | https://github.com/zen-browser/desktop/issues/9118 | 0:11:11 | 5:09:06 |
| Inbuilt music player not in sync with actual music | https://github.com/zen-browser/desktop/issues/9117 | None | None |
| Close multiple tabs(close other tabs) will make Zen crash while there some tabs has a ganlanced window | https://github.com/zen-browser/desktop/issues/9115 | 1:07:19 | None |
| HDR blowout/fluctuations on white screens | https://github.com/zen-browser/desktop/issues/9113 | None | None |
| Viewport doesn't resize when making the window smaller when letterboxing is enabled | https://github.com/zen-browser/desktop/issues/9111 | 1:41:49 | 3 days, 0:49:51 |
| Tab titles unreadable on light mode | https://github.com/zen-browser/desktop/issues/9108 | None | 0:18:21 |
| Zen not opening the tabs from the previous sessions. | https://github.com/zen-browser/desktop/issues/9107 | 1:29:08 | None |
| 1Password Extension not rendering popup or unlocking | https://github.com/zen-browser/desktop/issues/9106 | 5 days, 15:14:33 | 5 days, 23:56:52 |
| Compact mode breaks after browser restart on mac | https://github.com/zen-browser/desktop/issues/9103 | None | 1 day, 6:31:01 |
| Theme does not work on Zen Browser 1.13.2b (Firefox 139.0.4) (64-bit) | https://github.com/zen-browser/desktop/issues/9102 | 0:36:53 | 1 day, 23:45:28 |
| Sidebar glitching out in compact mode | https://github.com/zen-browser/desktop/issues/9101 | 1:29:06 | 1:29:06 |
| Discord website + dev tools is making zen unresponsive | https://github.com/zen-browser/desktop/issues/9100 | 5:39:40 | 8 days, 18:34:36 |
| Weird Youtube Searchbar behaviour on macOS Sequoia | https://github.com/zen-browser/desktop/issues/9096 | None | None |
| Minimized Media Player - Music Animation Cannot be Turned Off | https://github.com/zen-browser/desktop/issues/9095 | None | None |
| Tabs in workspace removed (except pinned/essentials) when I opened a link in glance | https://github.com/zen-browser/desktop/issues/9094 | None | None |
| Switching tabs no longer reveals it in the side bar | https://github.com/zen-browser/desktop/issues/9090 | None | 0:13:19 |
| https://getbootstrap.su/ is very distorted. No graphics, styles are not loaded | https://github.com/zen-browser/desktop/issues/9086 | 1:50:25 | 1:58:22 |
| Can't login to Spotify with Zen | https://github.com/zen-browser/desktop/issues/9084 | 3:27:06 | None |
| Pinned tabs closed when selecting all tabs and closing them | https://github.com/zen-browser/desktop/issues/9081 | None | None |
| Bookmarks' assigment to a workspace gets messed up from time to time | https://github.com/zen-browser/desktop/issues/9080 | None | None |
| Use "container" instead of "profile" in UI text for container features | https://github.com/zen-browser/desktop/issues/9079 | 1:06:37 | None |
| Weird behaviour on Manjaro | https://github.com/zen-browser/desktop/issues/9076 | 18:17:17 | None |
| Tap with 2 fingers on mac trackpad issue | https://github.com/zen-browser/desktop/issues/9071 | None | None |
| Bitwarden Extension crashes Zen Browser | https://github.com/zen-browser/desktop/issues/9070 | 1:56:05 | None |
| pinned tabs duplicate after start browser | https://github.com/zen-browser/desktop/issues/9069 | 9:32:56 | None |
| 1password extension not connecting to desktop app | https://github.com/zen-browser/desktop/issues/9065 | 0:01:23 | 0:01:23 |
| Sidebar Infinite expansion | https://github.com/zen-browser/desktop/issues/9064 | 12:17:29 | 12:17:29 |
| Extensions Do Not Open if no Tab is Active | https://github.com/zen-browser/desktop/issues/9063 | None | 0:51:39 |
| Closed all my tabs | https://github.com/zen-browser/desktop/issues/9062 | 12 days, 10:19:04 | None |
| Thumb Wheel "Navigate Between Tabs" no longer works, possibly triggers wrong functions instead | https://github.com/zen-browser/desktop/issues/9061 | None | 4:40:16 |
| Leave page ui problem. | https://github.com/zen-browser/desktop/issues/9060 | 17:48:19 | None |
| Reopen closed tabs with Cmd+Shift+T doesn't work in newer version. | https://github.com/zen-browser/desktop/issues/9055 | 1 day, 18:09:10 | None |
| PERDE OS SITES DEPOIS DE ALGUMAS ATUALIZAÇÕES | https://github.com/zen-browser/desktop/issues/9054 | 21:02:54 | 21:02:54 |
| Several Video Streams do not play (Netflix, Amazon, Viki) which play on standard Firefox | https://github.com/zen-browser/desktop/issues/9053 | 0:33:55 | 1 day, 20:09:59 |
| Workspaces can no longer be switched by left clicking workspace name | https://github.com/zen-browser/desktop/issues/9051 | 0:29:23 | 3:26:25 |
| Split view is glitching | https://github.com/zen-browser/desktop/issues/9049 | 0:48:32 | None |
| Strange behaviour on focus of URL Bar buttons | https://github.com/zen-browser/desktop/issues/9048 | None | None |
| Can't remove workspace switcher from the bottom menu | https://github.com/zen-browser/desktop/issues/9047 | 2:04:04 | 2:04:04 |
| Clicking workspace button does not do anything | https://github.com/zen-browser/desktop/issues/9046 | 2:12:08 | 2:12:08 |
| Floating URL bar background blur doesn't cover whole tab | https://github.com/zen-browser/desktop/issues/9045 | 2:41:58 | 5:08:14 |
| Zen Minimal Exit Menu Icon Error | https://github.com/zen-browser/desktop/issues/9044 | 3:00:40 | 3:00:40 |
| When trying to use find in settings i need to scroll manually to find anything in keyboard shortcuts section | https://github.com/zen-browser/desktop/issues/9043 | None | None |
| Exits compact mode after update | https://github.com/zen-browser/desktop/issues/9041 | None | 5:43:07 |
| Zen blocks local network connections with NS_ERR_CONNECTION_REFUSED | https://github.com/zen-browser/desktop/issues/9039 | 1 day, 11:04:01 | None |
| Google Docs doesn't respond | https://github.com/zen-browser/desktop/issues/9038 | 0:28:25 | 1 day, 1:07:21 |
| BACKGROUD COLOUR OF THE BROWSER | https://github.com/zen-browser/desktop/issues/9037 | 0:38:57 | 0:38:57 |
| When using azerty keyboard layout, the rebinding keys UI registers key presses as if on qwerty | https://github.com/zen-browser/desktop/issues/9036 | None | None |
| Can't pin split views to Essentials | https://github.com/zen-browser/desktop/issues/9035 | None | None |
| New tabs appear in pinned tabs sections after 1.13b | https://github.com/zen-browser/desktop/issues/9034 | None | None |
| Tab Bar Width Increased After Latest Update (1.13b) | https://github.com/zen-browser/desktop/issues/9033 | 4:27:51 | None |
| Mouse position offset issue (works fine after restarting zen everytime) | https://github.com/zen-browser/desktop/issues/9032 | None | 5 days, 21:09:09 |
| workspace switcher no longer working in 1.13b | https://github.com/zen-browser/desktop/issues/9031 | 1:45:56 | 10:54:25 |
| Workspace buttons sometimes stop working | https://github.com/zen-browser/desktop/issues/9029 | 14:35:26 | None |
| Context Menu: Change tab(s) to workspace not working | https://github.com/zen-browser/desktop/issues/9028 | None | 0:54:56 |
| Url bar/search bar wider than prior to updating | https://github.com/zen-browser/desktop/issues/9025 | 3:37:24 | 3:37:24 |
| Can't play streaming services like Netflix and Crunchyroll. For Netflix I get error code E100. The error occurs when trying to play a video. | https://github.com/zen-browser/desktop/issues/9024 | 2:35:36 | 2:35:36 |
| Bug with "Change Tab(s) to WorkSpace" | https://github.com/zen-browser/desktop/issues/9021 | 3:33:33 | 3:33:33 |
| Moving tabs messes up around tabs and Essentials can't be double-clicked, nor can the url bar be clicked, because of [movingtab] attribute is not deleted | https://github.com/zen-browser/desktop/issues/9020 | None | 0:48:12 |
| Workspace menu is no longer a menu on macOS 15.5 | https://github.com/zen-browser/desktop/issues/9019 | 1:19:42 | 1:51:41 |
| Overaggressive Pinned Tabs unloading even while actively using the tab | https://github.com/zen-browser/desktop/issues/9015 | 1:02:17 | 1 day, 0:20:03 |
| New tab opens in pinned tab list if other split tabs are present in pinned tabs list. | https://github.com/zen-browser/desktop/issues/9014 | None | 2:49:19 |
| Udemy Video Not Playing in Zen Browser | https://github.com/zen-browser/desktop/issues/9013 | 2:13:49 | 3:58:13 |
| Essentials getting removed when trying to close tab from recently used menu | https://github.com/zen-browser/desktop/issues/9012 | 1 day, 15:16:51 | None |
| Crunchyroll videos doesn't load | https://github.com/zen-browser/desktop/issues/9010 | 3:31:02 | 8:06:40 |
| Overflow Menu button doesn't appear in Sidebar When Single Toolbar Mode is Active | https://github.com/zen-browser/desktop/issues/9009 | None | 12:36:33 |
| Change to different workspace for a tab in the context menu not displaying workspaces list at launch | https://github.com/zen-browser/desktop/issues/9008 | 0:05:59 | 12:56:27 |
| Container tabs label not being shown on tab bar | https://github.com/zen-browser/desktop/issues/9007 | 1:15:35 | None |
| Firefox themes do not apply properly to Zen | https://github.com/zen-browser/desktop/issues/9006 | 1:14:39 | 2 days, 1:15:39 |
| Youtube will not play video on flatpak install of Zen | https://github.com/zen-browser/desktop/issues/9003 | None | 1 day, 9:03:28 |
| NVidia driver 576.52 background app max fps setting causes low performance in zen | https://github.com/zen-browser/desktop/issues/9001 | None | None |
| Compact mode: bookmark toolbar will stay present if you first hover for bookmar bar, then move cursor to screen edge to trigger tab bar, and then move off of tab bar to page content | https://github.com/zen-browser/desktop/issues/9000 | None | None |
| amazon access fingerpint authentication failure | https://github.com/zen-browser/desktop/issues/8999 | None | None |
| Unable to select element using ctrl+shift+c shortcut | https://github.com/zen-browser/desktop/issues/8998 | 1 day, 1:01:18 | None |
| Bookmarks show duplicates when browsing in private mode | https://github.com/zen-browser/desktop/issues/8995 | None | 1 day, 13:45:17 |
| RANDOM GREY BAR HAS FORMED ON TOP OF BROWSER WINDOW | https://github.com/zen-browser/desktop/issues/8994 | 0:03:10 | 11:14:07 |
| Compact mode keeps toggling of on windows. | https://github.com/zen-browser/desktop/issues/8992 | None | 13:40:50 |
| yt full screen ui out screen bug | https://github.com/zen-browser/desktop/issues/8991 | 6:12:04 | 4 days, 19:42:49 |
| Extension not seeing tabs in deselected workspaces | https://github.com/zen-browser/desktop/issues/8989 | 2 days, 19:16:31 | None |
| Unable to create new workspace | https://github.com/zen-browser/desktop/issues/8988 | None | 0:34:56 |
| Spotify is buggy. | https://github.com/zen-browser/desktop/issues/8987 | 0:53:15 | 0:53:15 |
| This is the second time Zen has crashed for the past few months that I’ve been using it. | https://github.com/zen-browser/desktop/issues/8985 | 2:06:51 | None |
| Workspaces unlink/detach themselves from their respective Profiles/Containers | https://github.com/zen-browser/desktop/issues/8983 | 2 days, 4:00:26 | None |
| open many tabs automaticly at the starting up | https://github.com/zen-browser/desktop/issues/8979 | 1:04:33 | 1:04:33 |
| Sidebar doesn't hide in compact mode after moving multiple tabs | https://github.com/zen-browser/desktop/issues/8978 | None | 1:46:34 |
| Zen settings blocked content button does not work | https://github.com/zen-browser/desktop/issues/8977 | 2 days, 4:15:20 | None |
| Some Issues related to latest twilight 1.13t | https://github.com/zen-browser/desktop/issues/8974 | 19:12:00 | 6:20:34 |
| Tab sidebar UI bug when toggling compact mode with shortcut in fullscreen mode | https://github.com/zen-browser/desktop/issues/8973 | 5 days, 20:05:11 | None |
| Possible Quizlet Social Login Buy: Login Information is not being saved | https://github.com/zen-browser/desktop/issues/8971 | None | None |
| Zen Browser isn't updating. | https://github.com/zen-browser/desktop/issues/8970 | 1 day, 1:28:03 | None |
| expand tabs on laptop | https://github.com/zen-browser/desktop/issues/8969 | 2 days, 19:58:20 | 2 days, 20:52:55 |
| Double-clicking pinned tab to rename isn't working for me | https://github.com/zen-browser/desktop/issues/8968 | 6:33:17 | 2 days, 21:09:49 |
| Suddenly, the 'hide vertical tab' and 'hide top bar' settings in Zen browser's theme settings stopped working | https://github.com/zen-browser/desktop/issues/8966 | 19:05:39 | 19:05:44 |
| Navigating to page changes pinned tab URL if set to about:blank | https://github.com/zen-browser/desktop/issues/8962 | None | None |
| [Bug] Multi-Account Containers keyboard shortcuts do not trigger on the start page | https://github.com/zen-browser/desktop/issues/8960 | None | None |
| Tab navigation is broken on macOS - can't select next / previous | https://github.com/zen-browser/desktop/issues/8959 | 1 day, 2:14:19 | 1 day, 5:09:42 |
| Multiple empty window opened in background | https://github.com/zen-browser/desktop/issues/8958 | 0:26:05 | 3 days, 23:20:26 |
| [Bug] On single toolbar mode on MacOS, the hamburger menu or the three buttons get merged with the menu bar. | https://github.com/zen-browser/desktop/issues/8957 | None | None |
| Pinned tabs get reshuffled on startup | https://github.com/zen-browser/desktop/issues/8954 | 1 day, 22:57:54 | None |
| Keyboard workspace shortcut priority not working with YouTube | https://github.com/zen-browser/desktop/issues/8953 | None | 9:02:07 |
| Gmail only loads in specific workspace | https://github.com/zen-browser/desktop/issues/8952 | 11:08:45 | 21:58:34 |
| Zen-Browser Landing Page SSL Error | https://github.com/zen-browser/desktop/issues/8948 | None | 0:04:37 |
| Can't rename tabs on Mac | https://github.com/zen-browser/desktop/issues/8947 | 6:07:22 | 20:05:59 |
| iCloud passwords extension doesn't work | https://github.com/zen-browser/desktop/issues/8944 | None | 4:19:07 |
| [Windows 11] Videos do not play at Udemy.com | https://github.com/zen-browser/desktop/issues/8943 | 4:22:25 | 4:22:25 |
| Not loading any page on Mac 15.5 (24F74) | https://github.com/zen-browser/desktop/issues/8938 | 1:26:54 | None |
| Workspaces merge when dragging to create a new window | https://github.com/zen-browser/desktop/issues/8936 | None | None |
| horizontal tab bar reset in biult-in multi tasking feature | https://github.com/zen-browser/desktop/issues/8935 | None | None |
| "iCloud Passwords" Firefox addon doesn't seem to work on Zen | https://github.com/zen-browser/desktop/issues/8933 | None | 6:06:08 |
| [meta]: High CPU / GPU / RAM usage reports | https://github.com/zen-browser/desktop/issues/8932 | 21:16:38 | None |
| ip address not working | https://github.com/zen-browser/desktop/issues/8930 | 0:45:35 | None |
| Prime Video Not Working – Missing EC-3 Support or Incomplete Widevine/CDM Integration | https://github.com/zen-browser/desktop/issues/8929 | 1:47:45 | 1:47:45 |
| High CPU usage on MacOS | https://github.com/zen-browser/desktop/issues/8928 | 0:31:15 | 3:45:07 |
| High CPU usage on Windows | https://github.com/zen-browser/desktop/issues/8925 | 5:33:23 | 8:50:37 |
| can't access pinned extensions/addons on start page | https://github.com/zen-browser/desktop/issues/8924 | None | 8 days, 19:34:45 |
| Videos won't stay in fullscreen in split view | https://github.com/zen-browser/desktop/issues/8923 | 15:34:05 | 15:34:05 |
| Tab Group Disbanded When Moved But It's Work Normally On Private Window | https://github.com/zen-browser/desktop/issues/8921 | 1:03:25 | 1:35:50 |
| Stuck in split mode when dragging and dropping tabs across windows | https://github.com/zen-browser/desktop/issues/8920 | 20 days, 14:00:37 | None |
| Double-click actions unresponsive on Instagram within Zen Browser | https://github.com/zen-browser/desktop/issues/8919 | 1 day, 23:53:40 | 1 day, 23:53:40 |
| Pinned tabs and essential tabs visible in private  mode/ Mode incognito | https://github.com/zen-browser/desktop/issues/8918 | 0:05:50 | 2:20:09 |
| bugs n mygreation n customization | https://github.com/zen-browser/desktop/issues/8916 | 9:49:45 | 9:51:33 |
| Zen crashes when using Todoist | https://github.com/zen-browser/desktop/issues/8915 | None | None |
| Auto scroll not working properly | https://github.com/zen-browser/desktop/issues/8913 | 11:50:40 | 1 day, 17:40:14 |
| pictures downloaded/copied from carbon.sh.now is bugging | https://github.com/zen-browser/desktop/issues/8912 | 22:32:40 | None |
| Black Screen Upon Closure | https://github.com/zen-browser/desktop/issues/8911 | 17:45:19 | 3 days, 2:53:18 |
| Window controls are not properly placed | https://github.com/zen-browser/desktop/issues/8910 | None | 1 day, 1:09:00 |
| Tabs not showing in vertical bar. Compact mode, windows 11 | https://github.com/zen-browser/desktop/issues/8909 | 20:15:37 | 20:27:12 |
| Extensions only open/load with "settings" open | https://github.com/zen-browser/desktop/issues/8908 | 0:18:38 | 0:18:38 |
| w11 Multiple Zen Tabs Briefly Appear on Startup | https://github.com/zen-browser/desktop/issues/8907 | 22:55:05 | 22:55:05 |
| Unable to assign Ctrl+5 as shortcut to switch to workspace | https://github.com/zen-browser/desktop/issues/8903 | 1 day, 0:45:16 | None |
| Browser freeze when restore tab using ( Ctrl/Cmd+Shift+T) | https://github.com/zen-browser/desktop/issues/8902 | None | 1 day, 0:49:18 |
| No add to Essentials | https://github.com/zen-browser/desktop/issues/8900 | 0:05:45 | 0:05:45 |
| Can't use "Ctrl" related features like word jumping, word erase, etc. | https://github.com/zen-browser/desktop/issues/8899 | 1:35:01 | 1:35:01 |
| Extension Icon Size Too Large and Visually Disruptive in Browser Toolbar | https://github.com/zen-browser/desktop/issues/8898 | 2:56:38 | 2:56:38 |
| Browser keeps freezing up - requires force quit or Mac reboot | https://github.com/zen-browser/desktop/issues/8897 | 1 day, 9:47:45 | 8 days, 20:36:50 |
| Bleeding corners | https://github.com/zen-browser/desktop/issues/8896 | 1 day, 13:34:28 | 1 day, 13:34:28 |
| Zen taking a long time to start and flickering on Startup especiallly around the sidebar and titlebar areas | https://github.com/zen-browser/desktop/issues/8895 | 10:56:13 | 5 days, 8:13:47 |
| Copy current tab URL shortcut doesn't take priority over site | https://github.com/zen-browser/desktop/issues/8894 | 5 days, 11:42:03 | None |
| Zen consistently loads certain webpages without a background color, rendering the browser theme instead | https://github.com/zen-browser/desktop/issues/8893 | 0:12:32 | 18:53:43 |
| Scrollinig through workspaces is laggy | https://github.com/zen-browser/desktop/issues/8892 | 1 day, 15:49:33 | None |
| Poorly formatted container selection menu when left clicking New Tab button | https://github.com/zen-browser/desktop/issues/8891 | 0:58:53 | None |
| Sidebar auto hide in compact mode not working when global menus are enabled on Linux/Wayland | https://github.com/zen-browser/desktop/issues/8887 | None | None |
| Touchpad swipe to switch workspace with container-specific essentials is glitchy | https://github.com/zen-browser/desktop/issues/8885 | 1 day, 22:34:43 | None |
| [Shortcut conflict - MacOS] Forward Workspace w/ Toggle Network Monitor | https://github.com/zen-browser/desktop/issues/8884 | None | None |
| Moving tab groups ungroups tabs / Tabbar stuck | https://github.com/zen-browser/desktop/issues/8883 | 20:09:47 | 20:09:47 |
| Tabs don't fade when unloaded | https://github.com/zen-browser/desktop/issues/8881 | 1:24:44 | 2 days, 5:24:54 |
| Choppy Animation in the compact mode | https://github.com/zen-browser/desktop/issues/8878 | 2 days, 2:30:28 | 2 days, 2:30:28 |
| Voice isolation option doesn't work in google meet | https://github.com/zen-browser/desktop/issues/8877 | 21 days, 7:27:34 | None |
| Frame drops when opening glance window. | https://github.com/zen-browser/desktop/issues/8874 | 1 day, 4:17:30 | None |
| Container names display vertically when written in Korean. | https://github.com/zen-browser/desktop/issues/8873 | 19:48:36 | 2 days, 9:05:01 |
| Unexpected white window border (every border except top) | https://github.com/zen-browser/desktop/issues/8869 | 3 days, 10:42:38 | None |
| Sites with `backdrop-filter` on any element break the border radius of the window | https://github.com/zen-browser/desktop/issues/8866 | 3 days, 20:39:48 | 3 days, 20:39:48 |
| Floating new tab bar closes when switching input methods | https://github.com/zen-browser/desktop/issues/8864 | 0:38:39 | 0:44:49 |
| Vimium new tab opens glance view | https://github.com/zen-browser/desktop/issues/8863 | 12:13:12 | 1 day, 18:12:34 |
| 1Password won't connect to app | https://github.com/zen-browser/desktop/issues/8860 | None | None |
| Workspace Menu Missing After 1.12.10b Update on macOS Sequoia 15.5 | https://github.com/zen-browser/desktop/issues/8859 | 1:13:38 | 20:17:03 |
| Cannot paste URL from Alfred clipboard history | https://github.com/zen-browser/desktop/issues/8858 | 2 days, 2:14:08 | None |
| Save files do not correctly remember last saving location | https://github.com/zen-browser/desktop/issues/8856 | 1:14:26 | None |
| Some default ctrl + alt + (letter) shortcuts do not work and cannot be bound either | https://github.com/zen-browser/desktop/issues/8855 | None | 4:02:22 |
| Problem loading page/Network Protocol Error | https://github.com/zen-browser/desktop/issues/8853 | 0:04:43 | None |
| Bookmark at toolbar disappeared | https://github.com/zen-browser/desktop/issues/8851 | 5:37:54 | 15:29:22 |
| Audio playback randomly stops mid-playback and requires closing/reopening tab to resume (related to but distinct from #5589) | https://github.com/zen-browser/desktop/issues/8848 | 18 days, 21:28:43 | None |
| Zen Browser unresponsive – unable to load any websites or interact with UI | https://github.com/zen-browser/desktop/issues/8846 | 0:32:50 | None |
| Can't open link in glance window | https://github.com/zen-browser/desktop/issues/8843 | None | None |
| WebGPU disabled on non-Mozilla branched builds effectively disabling WebGPU on all releases of Zen. | https://github.com/zen-browser/desktop/issues/8839 | 15:38:07 | 15:38:07 |
| Opening a new profile opens zen in Virtual Desktop 1 | https://github.com/zen-browser/desktop/issues/8837 | None | 4 days, 22:17:37 |
| Switching from a split tab to a pageless google doc messes up the position | https://github.com/zen-browser/desktop/issues/8836 | None | None |
| Can't close tabs when collapse mode is enable | https://github.com/zen-browser/desktop/issues/8834 | 18:56:20 | None |
| userChrome.css not applying in Flatpak version | https://github.com/zen-browser/desktop/issues/8833 | 21:39:51 | 23:47:44 |
| Horizontal Scrollbar Appears In augmentcode.com Website | https://github.com/zen-browser/desktop/issues/8832 | None | 14 days, 21:42:29 |
| Ctrl + T not working when watching a video in Fullscreen | https://github.com/zen-browser/desktop/issues/8830 | None | 1 day, 2:55:20 |
| Geolocation doesn't work even when permission is granted | https://github.com/zen-browser/desktop/issues/8827 | 22:35:57 | None |
| Cannot update browser: Zen is being updated by another instance. Issue persists after restarting PC | https://github.com/zen-browser/desktop/issues/8826 | None | None |
| Compact mode issue after closing the current session still exist. | https://github.com/zen-browser/desktop/issues/8824 | 7 days, 18:38:34 | 9 days, 20:21:10 |
| Tab auto unload not working with recent changes | https://github.com/zen-browser/desktop/issues/8822 | 4:49:44 | None |
| Unloaded tabs are not dimmed after browser's restart | https://github.com/zen-browser/desktop/issues/8820 | 0:11:21 | 0:11:21 |
| Shortcuts became very wide | https://github.com/zen-browser/desktop/issues/8819 | 0:16:30 | 0:16:30 |
| Dragging tab inside scrollable tab bar is buggy | https://github.com/zen-browser/desktop/issues/8818 | 1 day, 7:56:07 | None |
| Picture-in-Picture doesn't work when switching from arc to other windows/work spaces on mac | https://github.com/zen-browser/desktop/issues/8817 | 1 day, 8:30:16 | 1 day, 8:30:16 |
| Tab Search does not work correctly | https://github.com/zen-browser/desktop/issues/8816 | None | None |
| Browser window offset after debugger break point hit | https://github.com/zen-browser/desktop/issues/8814 | None | 5 days, 8:24:40 |
| Can't drag multiple tabs at once and change in context menu of selected tabs | https://github.com/zen-browser/desktop/issues/8812 | None | None |
| Mouse wheel click, ctrl/cmd+w do not close pinned tab | https://github.com/zen-browser/desktop/issues/8810 | 2:44:22 | 2:44:22 |
| Cursor preemptively selecting a tab when triggering Ctrl + Tab | https://github.com/zen-browser/desktop/issues/8809 | 2:16:56 | 2:16:56 |
| Zoom/scale too large unexpectly on 5k resolution screen. | https://github.com/zen-browser/desktop/issues/8808 | None | None |
| Sidebar looks inconsistent on certain theme gradients (when tabs on right is selected) | https://github.com/zen-browser/desktop/issues/8807 | 4:41:41 | None |
| Unable to log into the Grammarly extension | https://github.com/zen-browser/desktop/issues/8806 | 10 days, 6:51:42 | None |
| If signed in with a Mozilla account, Tabs; Pinned tabs and Essentials' favicons are not using cached after reopening Zen | https://github.com/zen-browser/desktop/issues/8805 | 6:33:31 | 6:37:57 |
| When in full screeen the bookmarks toolbar vanishes | https://github.com/zen-browser/desktop/issues/8804 | None | 7:21:19 |
| All Opened tabs were deleted | https://github.com/zen-browser/desktop/issues/8802 | None | None |
| High RAM usage with WhatsApp Web | https://github.com/zen-browser/desktop/issues/8800 | 9:32:06 | 9:32:06 |
| Issue: Cmd + Tab Opens Unopened Essentials Tab. | https://github.com/zen-browser/desktop/issues/8799 | None | None |
| iCloud Passwords extension stopped working | https://github.com/zen-browser/desktop/issues/8797 | 0:13:29 | 10:34:12 |
| Tabs aren't showing on the tabs bar. | https://github.com/zen-browser/desktop/issues/8796 | 0:53:40 | None |
| Permanent bar at the top of the window | https://github.com/zen-browser/desktop/issues/8793 | 0:02:08 | 1:43:15 |
| Visible difference in the background color on the home page when no tabs are open | https://github.com/zen-browser/desktop/issues/8791 | 0:49:13 | None |
| Local Theme Import via JSON Fails - Installation Always Fetches from Online Store | https://github.com/zen-browser/desktop/issues/8789 | None | None |
| Can not disable the "new url bar" popup | https://github.com/zen-browser/desktop/issues/8788 | None | None |
| no menu entry to just close a window | https://github.com/zen-browser/desktop/issues/8787 | 6:14:17 | None |
| Raindrop extension shortcut does not work | https://github.com/zen-browser/desktop/issues/8785 | 13 days, 20:38:44 | None |
| Select Elements | https://github.com/zen-browser/desktop/issues/8784 | 4:45:14 | None |
| close tab button not working | https://github.com/zen-browser/desktop/issues/8782 | 1:18:44 | None |
| Tab unloading feature has been removed/is missing. | https://github.com/zen-browser/desktop/issues/8781 | 5:09:53 | 22:59:59 |
| Workspace Icons Become dots After Updating to 1.12.10b | https://github.com/zen-browser/desktop/issues/8779 | 0:09:56 | 3:17:16 |
| Add clear option to enable/disable tab unloading. | https://github.com/zen-browser/desktop/issues/8778 | 0:17:15 | 0:17:15 |
| favicons for split tabs in incorrect order when switching view | https://github.com/zen-browser/desktop/issues/8777 | None | None |
| Bookmark this page icon missing rom the address bar after upgrading to Zen Browser 1.12.9b | https://github.com/zen-browser/desktop/issues/8776 | 1:26:14 | 19:08:02 |
| Mod configs get reset to defaults after updating | https://github.com/zen-browser/desktop/issues/8775 | 3 days, 21:01:11 | None |
| Context Menu Lacks "Open in Private Window" Option | https://github.com/zen-browser/desktop/issues/8772 | None | None |
| Pinned tab favicons aren't dimmend when unloaded | https://github.com/zen-browser/desktop/issues/8771 | 2:02:45 | 2:02:45 |
| Compact mode automatically turned off when starting Zen with multiple windows open | https://github.com/zen-browser/desktop/issues/8770 | None | 4:54:42 |
| Transparent UI and covered submenus | https://github.com/zen-browser/desktop/issues/8768 | None | 1 day, 12:21:33 |
| Accent colors do not show when browser is focused | https://github.com/zen-browser/desktop/issues/8766 | None | None |
| `Copy Clean Link`, `Paste and Go` missing from URL bar context menu after compact mode enabled or layout change | https://github.com/zen-browser/desktop/issues/8765 | 0:52:51 | 6 days, 0:52:30 |
| Bug Report: Application Menu Opens Automatically on Startup | https://github.com/zen-browser/desktop/issues/8764 | 5:20:27 | None |
| Basic accessibility | https://github.com/zen-browser/desktop/issues/8763 | None | None |
| Last update ruined everything | https://github.com/zen-browser/desktop/issues/8762 | 0:04:27 | 1:47:23 |
| The sidebar fails to appear on hover in compact mode when positioned on the right side | https://github.com/zen-browser/desktop/issues/8760 | 0:33:22 | None |
| Zen doesn't want to become focused when opening with Kando | https://github.com/zen-browser/desktop/issues/8759 | None | 0:22:54 |
| Container sync deletes and changes container settings | https://github.com/zen-browser/desktop/issues/8758 | None | None |
| Macos fullscreen doesn't allow to access the content at the top | https://github.com/zen-browser/desktop/issues/8757 | None | None |
| Sidebar remains open after Ctrl+T and Tab when mouse is on the left (In Floating Toolbar on) | https://github.com/zen-browser/desktop/issues/8756 | 3:34:19 | None |
| Top bar overflowing into bookmarks | https://github.com/zen-browser/desktop/issues/8755 | None | 3:55:32 |
| delete profile but switch profile | https://github.com/zen-browser/desktop/issues/8754 | 4:08:59 | 4:08:59 |
| Search for X still opens Glance despite it being disabled in about:config | https://github.com/zen-browser/desktop/issues/8752 | 0:56:03 | 5 days, 5:40:02 |
| Container indicators always show on tabs dragged out of window, even if they are opened in their containers' default workspaces | https://github.com/zen-browser/desktop/issues/8750 | None | None |
| Zen Browser can't be launched by xdg-open when set as default browser (Flatpak install) | https://github.com/zen-browser/desktop/issues/8749 | 5 days, 0:11:54 | None |
| icon to add a new bookmark disappeared | https://github.com/zen-browser/desktop/issues/8748 | 3 days, 18:25:23 | 3:18:54 |
| Cannot change profile not via about:profiles | https://github.com/zen-browser/desktop/issues/8746 | 3:13:45 | 13:46:02 |
| Never-loaded tabs are not dimmed | https://github.com/zen-browser/desktop/issues/8744 | 4:16:03 | 5:44:22 |

_This report was generated with the [Issue Metrics Action](https://github.com/github/issue-metrics)_
Search query used to find these items: `repo:zen-browser/desktop is:issue created:2025-06-01..2025-06-30`



================================================
FILE: docs/issue-metrics/2025_2025-07-01..2025-07-31.md
================================================
# Issue Metrics

| Metric | Average | Median | 90th percentile |
| --- | --- | --- | ---: |
| Time to first response | 1 day, 7:26:19 | 7:00:51 | 3 days, 7:02:20 |
| Time to close | 1 day, 20:05:35 | 10:15:28 | 5 days, 9:46:44 |

| Metric | Count |
| --- | ---: |
| Number of items that remain open | 193 |
| Number of items closed | 108 |
| Total number of items created | 301 |

| Title | URL | Time to first response | Time to close |
| --- | --- | --- | --- |
| workspace menu options, visual clutter | https://github.com/zen-browser/desktop/issues/9710 | None | None |
| It takes several minutes when opening links from some apps | https://github.com/zen-browser/desktop/issues/9709 | None | None |
| Auto Close topbar when hover between items in Bookmark toolbar | https://github.com/zen-browser/desktop/issues/9708 | 2:45:33 | None |
| Aliexpress product pages not loading | https://github.com/zen-browser/desktop/issues/9707 | None | None |
| First new tab isn't logged in into accounts | https://github.com/zen-browser/desktop/issues/9706 | None | None |
| Tik tok error on every single video "We're having trouble playing this video. Please refresh and try again." | https://github.com/zen-browser/desktop/issues/9705 | None | None |
| Infinite Loading Screen on the Twitch website | https://github.com/zen-browser/desktop/issues/9704 | None | None |
| The side bar changes color/theme after opening an incognito window | https://github.com/zen-browser/desktop/issues/9702 | 1 day, 4:34:38 | None |
| Terrible Scrolling | https://github.com/zen-browser/desktop/issues/9699 | None | None |
| When trying to use find in settings i need to scroll manually to find anything in keyboard shortcuts section | https://github.com/zen-browser/desktop/issues/9698 | None | None |
| Bookmark Search displays URL Only, Not Bookmark Name | https://github.com/zen-browser/desktop/issues/9697 | 4:32:44 | None |
| Changing Language while typing in the URL Bar | https://github.com/zen-browser/desktop/issues/9696 | None | None |
| I can't drag the sub scroll bar when it's next to the main scroll bar | https://github.com/zen-browser/desktop/issues/9695 | None | None |
| Open previous windows and tabs doesn't work some days - on mac | https://github.com/zen-browser/desktop/issues/9694 | None | None |
| Spaces & Downloads icons are not fully clickable | https://github.com/zen-browser/desktop/issues/9693 | 1:10:12 | None |
| Pick a theme color do not work | https://github.com/zen-browser/desktop/issues/9692 | 1:21:57 | 4:10:11 |
| Device simulation alert not readable | https://github.com/zen-browser/desktop/issues/9691 | None | None |
| tab (re)loading indicator is missing on 1.14 | https://github.com/zen-browser/desktop/issues/9689 | 6:56:48 | 6:56:48 |
| Recent change means we can't use Notion web clipper: login not recognized | https://github.com/zen-browser/desktop/issues/9688 | None | None |
| Zen cannot unload tabs that are in another workspace. | https://github.com/zen-browser/desktop/issues/9683 | 3:33:56 | None |
| Command T whilst in fullscreen doesn't open search window, macos. | https://github.com/zen-browser/desktop/issues/9682 | 0:03:56 | 0:10:41 |
| Transparent background on websites like Pinterest makes content unreadable | https://github.com/zen-browser/desktop/issues/9681 | 0:56:38 | 0:56:38 |
| Sidebery & Enhancer for Youtube Extensions bugging after the v1.14.9b Update, | https://github.com/zen-browser/desktop/issues/9680 | 19:12:49 | None |
| Switching and moving tabs don't work properly with split view | https://github.com/zen-browser/desktop/issues/9679 | None | None |
| Sidbar changes its position when enabling compact mode | https://github.com/zen-browser/desktop/issues/9678 | None | None |
| Can't open settings | https://github.com/zen-browser/desktop/issues/9676 | 11:41:47 | None |
| Extension installation menu gets cut off | https://github.com/zen-browser/desktop/issues/9672 | None | None |
| "Edit Theme" color picker doesn't show a hue/rainbow wheel | https://github.com/zen-browser/desktop/issues/9666 | 0:58:27 | 18:07:16 |
| Colours get washed and weird when you open a new private window | https://github.com/zen-browser/desktop/issues/9665 | 18:25:50 | 18:25:44 |
| Compact mode not persisting between sessions | https://github.com/zen-browser/desktop/issues/9663 | None | 1:05:57 |
| Manual update option? | https://github.com/zen-browser/desktop/issues/9661 | 7:00:51 | 20:38:12 |
| Pinned Tabs can only form a table with 1 column after Update | https://github.com/zen-browser/desktop/issues/9660 | 0:22:43 | 1:25:00 |
| Widevine forbidden response | https://github.com/zen-browser/desktop/issues/9659 | None | 0:01:58 |
| PIP window doesn't stay on top. | https://github.com/zen-browser/desktop/issues/9656 | 1 day, 15:29:48 | None |
| New window cause tab group ungroup | https://github.com/zen-browser/desktop/issues/9654 | None | None |
| URL bar search shows URLs instead of titles of search results | https://github.com/zen-browser/desktop/issues/9653 | 23:18:34 | None |
| URL bar not showing when the video player is in full screen mode | https://github.com/zen-browser/desktop/issues/9652 | 3 days, 14:05:24 | 3 days, 14:11:16 |
| No printers on linux | https://github.com/zen-browser/desktop/issues/9651 | 13:51:08 | None |
| Network is not work after sleep in Mac M3pro MacOS 15.5 | https://github.com/zen-browser/desktop/issues/9650 | None | None |
| Memory leak in browser on MacOS 26 | https://github.com/zen-browser/desktop/issues/9649 | 16:49:58 | None |
| "edit theme" option is unresponsive | https://github.com/zen-browser/desktop/issues/9648 | 20:01:48 | None |
| First tab is replaced by release notes on update. | https://github.com/zen-browser/desktop/issues/9646 | 9:42:54 | None |
| Zen Browser causes black screen or freeze after waking from sleep on Pop!_OS | https://github.com/zen-browser/desktop/issues/9644 | None | None |
| New tab opened via external link from a pinned tab or essentials becomes white screen and unclosable when closed via × or Command + W (macOS) | https://github.com/zen-browser/desktop/issues/9643 | 0:52:29 | 4:42:13 |
| "Hide the default container indicator in the tab bar" Option does not hide Default Workspace | https://github.com/zen-browser/desktop/issues/9642 | 5:11:51 | 5:43:03 |
| Dragging tab scroll bar /w left mouse button moves entire window. | https://github.com/zen-browser/desktop/issues/9641 | 7:21:52 | 7:21:52 |
| Minimize/Maximize/Close button missing (showing boxes only) | https://github.com/zen-browser/desktop/issues/9640 | 7:15:12 | 16:16:34 |
| Unable to install Linux (tarball) on CachyOS (Arch Linux) | https://github.com/zen-browser/desktop/issues/9639 | None | None |
| Glance doesn't work properly | https://github.com/zen-browser/desktop/issues/9635 | 0:06:05 | 0:10:24 |
| 1.14.8b created, not solved the issue with glance windows not going away properly | https://github.com/zen-browser/desktop/issues/9634 | None | 0:51:19 |
| Glance not working correctly: Close and open in new tab buttons missing; glance frame does not close after leaving glance | https://github.com/zen-browser/desktop/issues/9633 | 0:04:36 | 2:57:09 |
| tab delete not working | https://github.com/zen-browser/desktop/issues/9631 | None | None |
| broswer command (cmd + S for hiding sidebar) should have priority rather than the specific tab | https://github.com/zen-browser/desktop/issues/9628 | None | None |
| Subtitles dont show up on YouTube (macos) even when im not logged in to YouTube. Subtitles work only in Private Browsing mode regardless of login status. | https://github.com/zen-browser/desktop/issues/9627 | 7:36:54 | 17:01:43 |
| Zen UI frame and sidebar are always white, even when in "dark" mode. System has dark theme too. | https://github.com/zen-browser/desktop/issues/9626 | 10:27:04 | None |
| Automatic turning off of compact mode | https://github.com/zen-browser/desktop/issues/9624 | 1:56:46 | 2:19:48 |
| Holding down Ctrl+T repeatedly re-triggers the search popup | https://github.com/zen-browser/desktop/issues/9621 | 17:17:17 | 2 days, 11:07:15 |
| Theme colors become lighter when opening a new private window | https://github.com/zen-browser/desktop/issues/9620 | None | 9:06:48 |
| only displays Latin characters when the keyboard layout is set to Japanese (or another language that uses a writing system different from Latin) | https://github.com/zen-browser/desktop/issues/9619 | None | None |
| Color picker - Darkness is affected by the choice of theme options selectable themes | https://github.com/zen-browser/desktop/issues/9618 | 2 days, 9:57:05 | None |
| History toolbar item not showing correctly on 1.14.7b | https://github.com/zen-browser/desktop/issues/9617 | None | None |
| Bookmarks not selecting when moving cursor to top of the screen | https://github.com/zen-browser/desktop/issues/9616 | None | None |
| Toolbar randomly ignores spacings and pushes icons into the overflow menu | https://github.com/zen-browser/desktop/issues/9615 | None | None |
| Pressing any letter on my keyboard activates the find on page feature | https://github.com/zen-browser/desktop/issues/9614 | 16:29:21 | 16:36:10 |
| Linkedin Doesnt open in zen | https://github.com/zen-browser/desktop/issues/9611 | None | None |
| Asana loads the mobile web version first before it attempts to load the desktop web version | https://github.com/zen-browser/desktop/issues/9610 | None | None |
| `gfx.blacklist.dmabuf` being forcingly set to 4 breaks screen sharing on some WMs running on Nvidia | https://github.com/zen-browser/desktop/issues/9609 | None | None |
| The Bookmark toolbar doesn't hide when used a bookmark in a foolder | https://github.com/zen-browser/desktop/issues/9608 | 7:28:40 | None |
| Udemy player does not work | https://github.com/zen-browser/desktop/issues/9607 | 4:32:26 | 1 day, 10:52:21 |
| The shift + ctrl + C shortcut doesn't work | https://github.com/zen-browser/desktop/issues/9606 | 0:26:56 | 0:26:56 |
| Automatic Find and Youtube | https://github.com/zen-browser/desktop/issues/9605 | 1:54:38 | None |
| Custom theme color: support light-dark shades | https://github.com/zen-browser/desktop/issues/9604 | 1:17:59 | None |
| zen would not start my previous tab when opened. it instead open the tab below my previous tab | https://github.com/zen-browser/desktop/issues/9603 | 2:59:54 | 2 days, 23:32:21 |
| Cant open notion web | https://github.com/zen-browser/desktop/issues/9601 | None | None |
| Can't see text in "find on page" field, ctrl+f search, white text on white background, linux mint | https://github.com/zen-browser/desktop/issues/9600 | 1 day, 18:33:52 | None |
| Closing a Pinned/Essential Tab with Ctrl+W Removes it from the Bar | https://github.com/zen-browser/desktop/issues/9598 | 0:31:19 | None |
| Typing Chiense in the URL bar,  no longer accepts keyboard operations. | https://github.com/zen-browser/desktop/issues/9597 | None | None |
| In 20min.ch articles Zen Browser downloads m3u8 playlists for unknown reasons | https://github.com/zen-browser/desktop/issues/9594 | 4:20:51 | None |
| Zen Browser Shows Higher Memory Consumption Than Chrome | https://github.com/zen-browser/desktop/issues/9593 | 4:43:21 | 7:07:21 |
| Clicking any static text (e.g. labels, plain text) anywhere spawns an unexpected text cursor | https://github.com/zen-browser/desktop/issues/9592 | 7:28:04 | 15:46:32 |
| Browsers colour mode can't override windows' "Show accent colour on title bars and windows borders" | https://github.com/zen-browser/desktop/issues/9589 | None | None |
| Issues with Cloudflare - Keeps trying to veryfy but gets in a loop. Not happening with other browsers | https://github.com/zen-browser/desktop/issues/9587 | 0:49:39 | None |
| Zen Browser Reopens Multiple Instances on Startup Even When Session Restore Is Disabled | https://github.com/zen-browser/desktop/issues/9586 | 3 days, 2:10:57 | None |
| Unable to hide Toolbars | https://github.com/zen-browser/desktop/issues/9584 | 1:16:23 | 2:10:29 |
| Disable process preallocation - 30MB background processes | https://github.com/zen-browser/desktop/issues/9582 | 3:59:11 | 4 days, 10:28:06 |
| Pinned Tabs Should Be Window-Specific | https://github.com/zen-browser/desktop/issues/9581 | None | 1 day, 21:01:42 |
| Lagging browser in arch based distro | https://github.com/zen-browser/desktop/issues/9580 | None | None |
| Browser tabs gets closed when Private tab is opened | https://github.com/zen-browser/desktop/issues/9579 | None | None |
| browser.tabs.insertRelatedAfterCurrent is misbehaving while opening a new tab by middle clicking the tab bar. | https://github.com/zen-browser/desktop/issues/9578 | None | None |
| Create/Edit bookmark UI bug: text fields cannot be seen | https://github.com/zen-browser/desktop/issues/9576 | 1 day, 23:23:44 | 5 days, 21:41:02 |
| `Only show on new Tab` bookmark toolbar option is pointless as there is no `new tab` screen in zen. | https://github.com/zen-browser/desktop/issues/9575 | 6:26:54 | 2 days, 0:41:26 |
| When the `img src` is an SVG, the SVG cannot be displayed. | https://github.com/zen-browser/desktop/issues/9573 | None | None |
| The Dify node is not editable in this browser | https://github.com/zen-browser/desktop/issues/9568 | None | 0:00:21 |
| The Dify node is not editable in this browser | https://github.com/zen-browser/desktop/issues/9567 | 16:13:08 | 5 days, 23:10:19 |
| Missing loading indicator (dot animation) when page loads | https://github.com/zen-browser/desktop/issues/9566 | 12:27:01 | 12:27:01 |
| theme colors change & become lighter in original window after opening a new private window | https://github.com/zen-browser/desktop/issues/9565 | 18:52:13 | None |
| Inspect tool's hovering tool tip is wrong. | https://github.com/zen-browser/desktop/issues/9564 | None | None |
| Zen sluggish on scrimba.com (firefox side issue) | https://github.com/zen-browser/desktop/issues/9563 | None | 3 days, 20:14:47 |
| Zen freezes up, and when force closing & restarting it's frozen in a grey state | https://github.com/zen-browser/desktop/issues/9561 | 4 days, 22:11:02 | None |
| Right Sidebar in compact mode get themed gradient displayed wrongly on hover | https://github.com/zen-browser/desktop/issues/9558 | None | 0:50:37 |
| Compact Mode Topbar collapsing when hovering buttons or dragging window | https://github.com/zen-browser/desktop/issues/9557 | None | None |
| no mozfile module | https://github.com/zen-browser/desktop/issues/9556 | None | None |
| Tabs plus button de-centering in compact sidebar mode | https://github.com/zen-browser/desktop/issues/9554 | None | None |
| Sidebar pops in and out when dragged off from maximized state in compact mode with tabs on the right | https://github.com/zen-browser/desktop/issues/9551 | None | None |
| [1.15t] Download icon hard to read with new twilight accent color vibrancy | https://github.com/zen-browser/desktop/issues/9550 | None | None |
| VPN not working in zen browser | https://github.com/zen-browser/desktop/issues/9549 | None | None |
| Background color of websites is inconsistent / wrong | https://github.com/zen-browser/desktop/issues/9548 | None | 0:02:46 |
| Fullscreen menu button going offscreen on foreign language | https://github.com/zen-browser/desktop/issues/9547 | None | None |
| Browser popups not clickable if colliding with ui | https://github.com/zen-browser/desktop/issues/9546 | None | None |
| anoying popup appears everytime that try to paste external images inside of figma | https://github.com/zen-browser/desktop/issues/9545 | 0:55:39 | 0:55:39 |
| Automatic color scheme doesn't work well on Linux | https://github.com/zen-browser/desktop/issues/9544 | 3:09:07 | 3:09:07 |
| The latest update introduced random crashes to tabs | https://github.com/zen-browser/desktop/issues/9543 | 1 day, 6:11:28 | None |
| userChrome.css media query prefers-color-scheme doesn't reflect browser dark mode | https://github.com/zen-browser/desktop/issues/9542 | 9 days, 20:21:55 | None |
| Bookmarks bar is showing duplicate bookmarks | https://github.com/zen-browser/desktop/issues/9540 | 5 days, 20:03:57 | None |
| No sound in discord stream | https://github.com/zen-browser/desktop/issues/9539 | None | None |
| Reset to Default button in Shortcuts settings do not work as intended | https://github.com/zen-browser/desktop/issues/9538 | None | None |
| Essential tab gets removed (in original window) after being opened in the new window | https://github.com/zen-browser/desktop/issues/9536 | 1:15:52 | None |
| Settings Page Search Bar Defaulted to Native Firefox Input Section | https://github.com/zen-browser/desktop/issues/9535 | 9:36:10 | 6 days, 5:49:24 |
| For some reason viewport width cannot be exactly 1600px | https://github.com/zen-browser/desktop/issues/9534 | 9:44:47 | None |
| Context menu for spaces is not native in MacOS | https://github.com/zen-browser/desktop/issues/9533 | None | None |
| Can't switch spaces sometimes after I stay in a pinned tab for a long time | https://github.com/zen-browser/desktop/issues/9532 | None | None |
| Allow Toolbar Theming not instaling | https://github.com/zen-browser/desktop/issues/9531 | 17:58:35 | 17:58:35 |
| Using Zen to open links in Outlook does not work | https://github.com/zen-browser/desktop/issues/9530 | 14:22:13 | None |
| Pinned Telegram Web session keeps logging out | https://github.com/zen-browser/desktop/issues/9529 | None | None |
| Can't resize vertical tab bar on right-side mode (single toolbar) | https://github.com/zen-browser/desktop/issues/9527 | 1 day, 0:59:54 | 1 day, 2:09:15 |
| Incorrect Search Suggestions, Not Removable | https://github.com/zen-browser/desktop/issues/9526 | 0:52:15 | 0:52:15 |
| Zen fails to render visual elements (at least in Miro) | https://github.com/zen-browser/desktop/issues/9525 | 22:44:17 | None |
| additional language packs | https://github.com/zen-browser/desktop/issues/9524 | 4:26:36 | 4:26:36 |
| Visibility issue of the mute button on media-playing tabs in compact mode | https://github.com/zen-browser/desktop/issues/9523 | None | None |
| Theme removed from Zen Browser? | https://github.com/zen-browser/desktop/issues/9522 | 9:01:43 | 9:01:43 |
| Darkening of the control panel (on the left-hand side of the browser) which makes the browser unusable. | https://github.com/zen-browser/desktop/issues/9521 | 4 days, 15:22:31 | None |
| Trackpad gestures for spaces not working | https://github.com/zen-browser/desktop/issues/9520 | 3 days, 9:59:33 | None |
| Copying from URL Bar Calculator Not Working | https://github.com/zen-browser/desktop/issues/9519 | None | 5 days, 21:12:26 |
| Windows with Tabs cannot be restored from Sidebery Snapshot | https://github.com/zen-browser/desktop/issues/9518 | 3:05:22 | None |
| Extensions Menu Invisible | https://github.com/zen-browser/desktop/issues/9517 | 0:54:53 | 1:54:02 |
| Searching from the command just shows an empty screen | https://github.com/zen-browser/desktop/issues/9515 | None | None |
| Search suggestions automatically uncheck | https://github.com/zen-browser/desktop/issues/9511 | None | None |
| Closing window with "Ask before closing multiple tabs" option counts tabs from all windows | https://github.com/zen-browser/desktop/issues/9510 | None | None |
| Folders behave erratically when trying to pin | https://github.com/zen-browser/desktop/issues/9509 | 1 day, 1:00:47 | 1 day, 1:00:47 |
| Image from HTML is not visible - in Firefox it is | https://github.com/zen-browser/desktop/issues/9508 | 3 days, 5:18:30 | None |
| Dragging essentials from second to first line sometimes stops working | https://github.com/zen-browser/desktop/issues/9507 | None | None |
| [linux] When "Winkey + Space" new tab dialog closes. | https://github.com/zen-browser/desktop/issues/9506 | 11:10:11 | None |
| Compact Mode Disables On Its Own | https://github.com/zen-browser/desktop/issues/9505 | None | 1:38:43 |
| Web Developer Tools lacks complete localization/language support. | https://github.com/zen-browser/desktop/issues/9504 | None | None |
| There's No Moon Icon to Be Found (ver 1.14.5b) | https://github.com/zen-browser/desktop/issues/9503 | 2:49:18 | 3:10:47 |
| Dimming Layer on Top of Browser Backdrop | https://github.com/zen-browser/desktop/issues/9502 | None | None |
| Accidental micro window dragging when trying to get focus | https://github.com/zen-browser/desktop/issues/9501 | None | None |
| zen.urlbar.replace-newtab & zen.workspaces.open-new-tab-if-last-unpinned-tab-is-closed  - Not working as intended in combination | https://github.com/zen-browser/desktop/issues/9500 | 8 days, 10:29:57 | None |
| Zen keeps losing most of my open reasearch browser tabs | https://github.com/zen-browser/desktop/issues/9499 | 10:53:41 | None |
| Why can't I get proper Fingerprint protection in Zen Browse? | https://github.com/zen-browser/desktop/issues/9498 | 11:04:26 | 11:04:26 |
| Overflow menu, where is it? | https://github.com/zen-browser/desktop/issues/9496 | 14:45:02 | None |
| Some Icons Won't Appear | https://github.com/zen-browser/desktop/issues/9495 | None | None |
| Doesnt show certain images and replaces them with text | https://github.com/zen-browser/desktop/issues/9494 | None | None |
| Window buttons overlapp when resizing the window too small | https://github.com/zen-browser/desktop/issues/9492 | None | None |
| Change Icon selection for Workspace has "undefined" and not displayed | https://github.com/zen-browser/desktop/issues/9490 | 0:12:28 | None |
| [partially solved] Random crashes on Linux with bspwm | https://github.com/zen-browser/desktop/issues/9489 | None | 7 days, 3:31:22 |
| user fault. not an issue. | https://github.com/zen-browser/desktop/issues/9487 | None | 1:05:47 |
| closing button for comments not working on youtube shorts | https://github.com/zen-browser/desktop/issues/9486 | None | None |
| Switching between a split tab and single tab causes tabs to be very slim for a split second (up to a couple of seconds) | https://github.com/zen-browser/desktop/issues/9485 | None | None |
| Updater Broken, zen-browser.app website returns PR_CONNECT_RESET_ERROR | https://github.com/zen-browser/desktop/issues/9484 | 1:11:52 | None |
| Compact mode shortcut not working | https://github.com/zen-browser/desktop/issues/9483 | 0:54:40 | None |
| Loading local file reuses current tab | https://github.com/zen-browser/desktop/issues/9482 | 0:28:01 | None |
| Installation | https://github.com/zen-browser/desktop/issues/9476 | None | None |
| Windows BSOD (MEMORY_MANAGEMENT) triggered during fullscreen video playback | https://github.com/zen-browser/desktop/issues/9475 | 8:07:07 | None |
| Youtube stops loading a video completely | https://github.com/zen-browser/desktop/issues/9474 | 0:22:17 | None |
| Language Alternives can't set | https://github.com/zen-browser/desktop/issues/9473 | 1:00:25 | None |
| Can not Edit or Delete Profile or Profile UI is broken. | https://github.com/zen-browser/desktop/issues/9472 | 0:39:14 | None |
| extensions breaking out of sidebar | https://github.com/zen-browser/desktop/issues/9471 | None | None |
| Unable to unlock 1Password on login pages (Mac) | https://github.com/zen-browser/desktop/issues/9470 | 1 day, 6:45:45 | 1 day, 18:36:50 |
| Camera doesn't work in Microsoft Teams meetings | https://github.com/zen-browser/desktop/issues/9466 | None | 4:03:19 |
| fb: color picker | https://github.com/zen-browser/desktop/issues/9465 | 0:58:22 | None |
| Browsec extension not working | https://github.com/zen-browser/desktop/issues/9464 | 0:28:38 | 0:36:48 |
| macOS: Cmd+Tab doesn't switch to fullscreen view and Text Replacements not working | https://github.com/zen-browser/desktop/issues/9463 | None | None |
| OAuth Window Cannot Close After Error | https://github.com/zen-browser/desktop/issues/9462 | None | None |
| Zen Browser crashes after clicking custom temporary extension button (Arch Linux) | https://github.com/zen-browser/desktop/issues/9461 | None | None |
| Unexpected Plugin orientation | https://github.com/zen-browser/desktop/issues/9459 | None | None |
| 怎么支持猴子的渲染字体自用脚本 | https://github.com/zen-browser/desktop/issues/9458 | 20:28:03 | 20:28:03 |
| Cannot register keyboard shortctut with hyperkey + letter | https://github.com/zen-browser/desktop/issues/9457 | None | None |
| Dark mode enabled doesn't change to dark unless you change it from the SIDEBAR (moon icon) | https://github.com/zen-browser/desktop/issues/9454 | 4:32:30 | None |
| No unload shortcut keys option after recent updates | https://github.com/zen-browser/desktop/issues/9453 | 5:30:56 | None |
| In the macOS system, the video display size appears abnormal when playing videos in full screen with Zen Browser | https://github.com/zen-browser/desktop/issues/9450 | None | None |
| Unable to play Udemy videos on Zen browser | https://github.com/zen-browser/desktop/issues/9449 | 3:00:28 | 4:35:29 |
| Download and New Tab/Space button not working when window is maxamised | https://github.com/zen-browser/desktop/issues/9448 | None | None |
| Inconsistent theme colors on Windows | https://github.com/zen-browser/desktop/issues/9447 | None | None |
| Unexpected Zen URL bar suggestions | https://github.com/zen-browser/desktop/issues/9446 | 2 days, 9:13:48 | 15 days, 21:30:51 |
| a lot of websites tend to use the theme color as a background | https://github.com/zen-browser/desktop/issues/9445 | 1 day, 8:37:13 | 1 day, 8:37:13 |
| 1.14.4b: Zen does not close after closing last tab | https://github.com/zen-browser/desktop/issues/9444 | 3 days, 4:04:39 | None |
| Update 1.14.4b (yes b), made my background white, even though the settings say Dark Mode is enabled. | https://github.com/zen-browser/desktop/issues/9443 | 8:33:34 | None |
| Compact-Mode Flyouts Trigger on Window-Edge Pass-Through Instead of Only on Sustained Hover | https://github.com/zen-browser/desktop/issues/9442 | None | None |
| Zen looses Tabs on Mac | https://github.com/zen-browser/desktop/issues/9440 | 11 days, 1:01:09 | None |
| Zen has a unique fingerprint | https://github.com/zen-browser/desktop/issues/9439 | 8:19:41 | None |
| COMPACT MODE SHUTDOWNS IT SELF?! | https://github.com/zen-browser/desktop/issues/9438 | None | 11:47:35 |
| Tabs constantly crashing | https://github.com/zen-browser/desktop/issues/9437 | 5 days, 16:31:35 | None |
| Compact mode switching off | https://github.com/zen-browser/desktop/issues/9435 | 1:17:53 | 1:20:34 |
| Vimium-C tab close key is able to close both pinned and essential tabs. | https://github.com/zen-browser/desktop/issues/9434 | None | None |
| Sidebar is (almost) all black | https://github.com/zen-browser/desktop/issues/9431 | 0:11:32 | None |
| Websites randomly render cursor field | https://github.com/zen-browser/desktop/issues/9427 | None | 1 day, 4:53:43 |
| Closing last tab no longer opens a new tab. | https://github.com/zen-browser/desktop/issues/9426 | 1:35:32 | None |
| Videos are lagging and stutters | https://github.com/zen-browser/desktop/issues/9425 | None | None |
| Blinking cursor popping up on webpages, impacting site navigation (and looking p ugly all-around) | https://github.com/zen-browser/desktop/issues/9424 | None | 0:12:06 |
| Changing tabs with vimium is not consistent with vim motions | https://github.com/zen-browser/desktop/issues/9423 | 10 days, 7:25:02 | None |
| about:debugging still has old icons | https://github.com/zen-browser/desktop/issues/9422 | None | None |
| Sidebar for bookmarks not opening with assigned shortcut | https://github.com/zen-browser/desktop/issues/9419 | None | None |
| Transparent popups and context menu with non-hex theme colours | https://github.com/zen-browser/desktop/issues/9418 | None | None |
| Closing last tab close browser setting | https://github.com/zen-browser/desktop/issues/9417 | 10:08:08 | None |
| Infinite redirect when trying to edit Tilda zero block | https://github.com/zen-browser/desktop/issues/9416 | 4:30:20 | None |
| Google Meet widget does not appear when changing tabs | https://github.com/zen-browser/desktop/issues/9415 | None | None |
| Slow vertical scrolling of tabs | https://github.com/zen-browser/desktop/issues/9414 | None | None |
| Apple menu pops up suddenly while using google meet | https://github.com/zen-browser/desktop/issues/9413 | None | None |
| New private window doesn't autofocus the URL bar | https://github.com/zen-browser/desktop/issues/9412 | None | 21:24:40 |
| Netflix.com Any Movie cannot be played | https://github.com/zen-browser/desktop/issues/9411 | 7:08:52 | 15:43:19 |
| Workspace assigned bookmarks don't sync correctly | https://github.com/zen-browser/desktop/issues/9410 | None | None |
| `winget upgrade Zen-Team.Zen-Browser` -> Installer hash does not match. | https://github.com/zen-browser/desktop/issues/9409 | 1:19:48 | 13 days, 17:54:02 |
| App menu bar opens tabs window | https://github.com/zen-browser/desktop/issues/9407 | 2:28:28 | None |
| Missing loading dot when reloading essentials/tabs | https://github.com/zen-browser/desktop/issues/9403 | 2:00:07 | None |
| Zen browser flatpak crashes every other startup on Fedora KDE 42 | https://github.com/zen-browser/desktop/issues/9402 | 1 day, 1:27:17 | None |
| The update service is not working again | https://github.com/zen-browser/desktop/issues/9401 | 0:27:49 | None |
| Bitwarden Extension fails to open pop-up window | https://github.com/zen-browser/desktop/issues/9400 | 2:50:56 | 3 days, 23:55:08 |
| Restore Last Closed Tab is bugged | https://github.com/zen-browser/desktop/issues/9397 | 2:00:52 | 21:25:29 |
| Change Icon selection for Workspace has "undefined" as every icon tooltip | https://github.com/zen-browser/desktop/issues/9395 | 2:46:41 | 0:02:02 |
| Randomly Forgets my essentials tabs and removes all my previously opened tabs and workspaces become consolidated | https://github.com/zen-browser/desktop/issues/9394 | 6:00:12 | None |
| Mac Update Helper does not work | https://github.com/zen-browser/desktop/issues/9392 | 2:55:14 | 2:54:44 |
| Stop fking up Compact mode, why is there a margin in full compact mode | https://github.com/zen-browser/desktop/issues/9391 | 3:27:10 | 3:45:11 |
| Pinned tabs and essential tabs icons disappears when the tab is closed | https://github.com/zen-browser/desktop/issues/9389 | 1 day, 4:52:11 | None |
| "Check for updates" not working when an update is known to be available | https://github.com/zen-browser/desktop/issues/9387 | 1:47:07 | 7:19:23 |
| 选中文字，出现idm悬浮窗，右键出现菜单，浏览器会卡死 | https://github.com/zen-browser/desktop/issues/9386 | 8:17:15 | 8:17:15 |
| Sidebar size increasing each time checkbox to pin an extension is toggled | https://github.com/zen-browser/desktop/issues/9384 | None | None |
| The sidebar in normal mode has a mica effect, while the sidebar in simple mode does not have a mica effect（It seems to be a bug） | https://github.com/zen-browser/desktop/issues/9382 | 8:05:37 | 8:05:37 |
| Ctrl W to unload an essential tab no longer works after 1.14.* update | https://github.com/zen-browser/desktop/issues/9381 | 8:59:24 | 8:59:24 |
| build on Linux does not work | https://github.com/zen-browser/desktop/issues/9379 | None | 5 days, 4:57:16 |
| Logging out of all accounts | https://github.com/zen-browser/desktop/issues/9377 | 4:56:16 | 5:11:32 |
| Crash when saving toolbar positioning/layouts in new workspace | https://github.com/zen-browser/desktop/issues/9376 | None | None |
| Incorrect Inspector Keyboard Shortcut | https://github.com/zen-browser/desktop/issues/9375 | None | None |
| WebGL disabled when deactivating discrete GPU | https://github.com/zen-browser/desktop/issues/9374 | None | None |
| Zen on windows can't export mods into json file | https://github.com/zen-browser/desktop/issues/9372 | 12 days, 10:56:52 | None |
| Issue With Windows Sleep | https://github.com/zen-browser/desktop/issues/9371 | None | None |
| is it normal for the context bar to look like this? (having the dark blue outline) | https://github.com/zen-browser/desktop/issues/9369 | 1:27:15 | 9:26:29 |
| Flatpak installed dekstop file has extreneous characters in Exec that cause unwanted behaviour | https://github.com/zen-browser/desktop/issues/9367 | None | 5 days, 21:02:11 |
| Strange Behvior with M365 related areas, affecting other sites | https://github.com/zen-browser/desktop/issues/9365 | None | None |
| When a workspace is renamed, the bookmarks associated with it propagate to all workspaces. | https://github.com/zen-browser/desktop/issues/9364 | None | None |
| "Backward/Forward Workspace" shortcut is broken | https://github.com/zen-browser/desktop/issues/9363 | 0:27:33 | 0:27:32 |
| bug: Essentials are duplicated when restoring a closed tabs shortcut | https://github.com/zen-browser/desktop/issues/9362 | None | None |
| Emoji Hovertext Labels in the Space Icon Picker are 'undefined' | https://github.com/zen-browser/desktop/issues/9361 | 0:22:56 | None |
| bug: inconsistent corner radius in context menu (right-click menu) | https://github.com/zen-browser/desktop/issues/9360 | 3:36:01 | 20 days, 18:41:27 |
| Sites don't load when suing Quad9 DNS | https://github.com/zen-browser/desktop/issues/9359 | 0:15:58 | 3 days, 21:18:33 |
| Clicking on urlbar result doesn't do anything | https://github.com/zen-browser/desktop/issues/9357 | 6:44:44 | None |
| Cannot bind certain keys for shortcuts | https://github.com/zen-browser/desktop/issues/9356 | 5 days, 1:21:30 | None |
| No ui text | https://github.com/zen-browser/desktop/issues/9354 | 9:07:05 | None |
| Notification for when a pop up is blocked can't be clicked if the side bar is on the right | https://github.com/zen-browser/desktop/issues/9353 | 23 days, 2:48:43 | None |
| Adding two tabs to a group and then entering split view will remove them from their group. | https://github.com/zen-browser/desktop/issues/9349 | 1 day, 0:41:23 | 1 day, 0:41:23 |
| worked | https://github.com/zen-browser/desktop/issues/9348 | None | 4:25:21 |
| Specific extensions that bug out after some time while using the browser | https://github.com/zen-browser/desktop/issues/9346 | None | None |
| Color Picker Selection Circle overlaps Buttons | https://github.com/zen-browser/desktop/issues/9343 | None | None |
| Issue with Transparency Effect in Zen Browser | https://github.com/zen-browser/desktop/issues/9342 | 4:20:23 | 13:50:12 |
| Widevine shows up in plugins tab | https://github.com/zen-browser/desktop/issues/9341 | 6:47:35 | 6:47:35 |
| A minor delay issue switching, between 2 opened discord work spaces on the same browser window | https://github.com/zen-browser/desktop/issues/9340 | 0:22:04 | None |
| Simplify extension not working on Zen | https://github.com/zen-browser/desktop/issues/9337 | 5:29:46 | None |
| Unable to play Udemy courses in Zen Browser possibly due to DRM video playback issues but not sure. Udemy works in Microsoft Edge. | https://github.com/zen-browser/desktop/issues/9335 | 7:56:23 | 7:56:23 |
| Tabs & Workspace switching get stuck on windows | https://github.com/zen-browser/desktop/issues/9334 | 7 days, 23:05:46 | None |
| The background and the font of Bookmarks field are white | https://github.com/zen-browser/desktop/issues/9333 | 6 days, 22:51:39 | None |
| Tab Bar Scroll Handle Hitbox is cut in half, making it hard to manually scroll through tabs | https://github.com/zen-browser/desktop/issues/9331 | 23:26:27 | 23:29:44 |
| Extension window doesn't show when no tabs are open | https://github.com/zen-browser/desktop/issues/9326 | None | 2 days, 19:42:32 |
| Zen Theme is not auto syncing with System Theme | https://github.com/zen-browser/desktop/issues/9325 | None | 0:21:31 |
| Lack of browser homepage | https://github.com/zen-browser/desktop/issues/9324 | None | 0:15:24 |
| Twilight icon border radius does not follow the MacOS guidelines from the upcoming MacOS 26 Tahoe. | https://github.com/zen-browser/desktop/issues/9322 | 19 days, 20:24:00 | None |
| Viewport width is not an integer | https://github.com/zen-browser/desktop/issues/9321 | 22:05:35 | 1 day, 12:45:57 |
| Closing the last tab shouldnt necessary close the browser | https://github.com/zen-browser/desktop/issues/9319 | 8:07:58 | 3 days, 11:36:17 |
| Close tab button (x) doesnt work sometimes | https://github.com/zen-browser/desktop/issues/9318 | None | None |
| Logitech Lift side button not assigned | https://github.com/zen-browser/desktop/issues/9317 | None | None |
| userChrome is not showing up on style editor | https://github.com/zen-browser/desktop/issues/9316 | 14:07:02 | None |
| [macOS] Window control buttons appear inactive when Zen Browser is focused | https://github.com/zen-browser/desktop/issues/9315 | 0:33:46 | 3 days, 22:54:52 |
| bug: unload tabs automatically | https://github.com/zen-browser/desktop/issues/9314 | 0:06:47 | 0:06:47 |
| Losing tabs for no reason randomly. | https://github.com/zen-browser/desktop/issues/9313 | 1:12:15 | None |
| Youtube Video volume resets, when using the sidebar resume play | https://github.com/zen-browser/desktop/issues/9310 | 9:45:18 | None |
| Seperate tabs issue | https://github.com/zen-browser/desktop/issues/9309 | None | None |
| Audio not playing in localhost:3000 through audio blob url | https://github.com/zen-browser/desktop/issues/9308 | None | None |
| Favicon Issue on grok.com in tab bar | https://github.com/zen-browser/desktop/issues/9307 | 3:21:00 | 2 days, 4:57:31 |
| can't download the updates | https://github.com/zen-browser/desktop/issues/9303 | 1:34:55 | 4 days, 19:30:27 |
| Session Restore Fails for Unpinned Tabs When a Private Space is Active | https://github.com/zen-browser/desktop/issues/9302 | 20:48:54 | 20:49:24 |
| The browser gets slower and les responsive through the day | https://github.com/zen-browser/desktop/issues/9301 | 5:28:19 | None |
| [Theme] Gradient angle set to 0 and not changeable in 1.14b | https://github.com/zen-browser/desktop/issues/9300 | 4:02:19 | None |
| Theme color affect website's background color | https://github.com/zen-browser/desktop/issues/9299 | 0:38:04 | 0:53:39 |
| Firefox fix on css library don't work on Zen | https://github.com/zen-browser/desktop/issues/9298 | 3 days, 6:27:19 | 5 days, 0:37:26 |
| ⌘L doesn't select current contents of address bar after typing | https://github.com/zen-browser/desktop/issues/9296 | None | None |
| Deactivate automatic detection of dark/light mode depending on the browser background | https://github.com/zen-browser/desktop/issues/9294 | 0:34:46 | None |
| Theme colors do not match chosen colors (wrong gamma) | https://github.com/zen-browser/desktop/issues/9293 | 3 days, 7:25:40 | None |
| Zen not opening links from another application in Ubuntu | https://github.com/zen-browser/desktop/issues/9292 | None | None |
| Essentials not closing properly | https://github.com/zen-browser/desktop/issues/9291 | 0:33:34 | 9 days, 10:40:06 |
| Laggy Scrolling throughout the Browser | https://github.com/zen-browser/desktop/issues/9290 | 2 days, 9:34:59 | None |
| Window controls no longer have circle background behind buttons | https://github.com/zen-browser/desktop/issues/9286 | 1 day, 7:15:55 | None |
| Links from developer.apple.com return a 403 | https://github.com/zen-browser/desktop/issues/9285 | None | None |
| (Linux) All SDR videos just display a green image upon activating `gfx.wayland.hdr` | https://github.com/zen-browser/desktop/issues/9284 | 2 days, 17:01:46 | None |
| Zen doesn't respect Desktops | https://github.com/zen-browser/desktop/issues/9282 | 1:04:17 | None |
| The font color of the Zen Browser icons and tabs is to black | https://github.com/zen-browser/desktop/issues/9280 | 7 days, 21:07:29 | None |
| How to open a synced tab from another device as a new tab? | https://github.com/zen-browser/desktop/issues/9278 | 1:27:27 | 1:27:31 |
| Closing Zen will erase all of your tabs – Folder functionality missing/regressed | https://github.com/zen-browser/desktop/issues/9273 | 21:47:46 | None |
| Closing the last tab in one workspace closes the browser entirely, and opened tabs in other workspaces are not restored | https://github.com/zen-browser/desktop/issues/9272 | 23:36:25 | 10 days, 1:40:40 |
| Zen Browser can't update to 1.14b | https://github.com/zen-browser/desktop/issues/9270 | 0:24:21 | 4 days, 2:15:53 |
| When i'm browsing in zen browser, all the sites are slow | https://github.com/zen-browser/desktop/issues/9269 | 0:33:40 | 0:43:35 |
| Zen not opening in full screen window in Mac | https://github.com/zen-browser/desktop/issues/9267 | None | None |
| Fullscreen youtube player is going out of the visible screen area (in MacBook with Camera notch) | https://github.com/zen-browser/desktop/issues/9266 | None | None |

_This report was generated with the [Issue Metrics Action](https://github.com/github/issue-metrics)_
Search query used to find these items: `repo:zen-browser/desktop is:issue created:2025-07-01..2025-07-31`



================================================
FILE: docs/issue-metrics/2025_2025-08-01..2025-08-31.md
================================================
# Issue Metrics

| Metric | Average | Median | 90th percentile |
| --- | --- | --- | ---: |
| Time to first response | 1 day, 7:39:18 | 5:45:29 | 3 days, 0:42:51 |
| Time to close | 23:47:00 | 10:26:06 | 1 day, 23:43:47 |

| Metric | Count |
| --- | ---: |
| Number of items that remain open | 145 |
| Number of items closed | 137 |
| Total number of items created | 282 |

| Title | URL | Time to first response | Time to close |
| --- | --- | --- | --- |
| Tab hover preview has incorrect origin | https://github.com/zen-browser/desktop/issues/10173 | None | None |
| Pinned tabs reset to pinned URL at startup even with related setting unchecked | https://github.com/zen-browser/desktop/issues/10172 | None | None |
| fix: Traditional Chinese as a target language for page translation | https://github.com/zen-browser/desktop/issues/10169 | None | None |
| tab groups do not group tabs anymore | https://github.com/zen-browser/desktop/issues/10167 | 2:40:11 | 12:01:38 |
| Tab Groups stuck in an expanded default state and labels are centered | https://github.com/zen-browser/desktop/issues/10166 | 3:30:58 | 3:30:58 |
| lose all tabs when private window is open and you close the browser | https://github.com/zen-browser/desktop/issues/10163 | 5:54:05 | 5:54:05 |
| Bluescreen into couldnt load XPCOM ERROR | https://github.com/zen-browser/desktop/issues/10161 | None | None |
| Compact Mode non-persistent between session when “Hide toolbar” is enabled (Collapsed toolbar layout) | https://github.com/zen-browser/desktop/issues/10160 | None | None |
| `about:debugging` wrong connected browser warning | https://github.com/zen-browser/desktop/issues/10158 | None | None |
| Window not starting up in 1.15.2b | https://github.com/zen-browser/desktop/issues/10157 | None | 0:07:54 |
| Sidebar bugging when switching spaces too quickly / too much | https://github.com/zen-browser/desktop/issues/10156 | None | None |
| Active Tab detaches when collapsing tab folder | https://github.com/zen-browser/desktop/issues/10154 | None | None |
| Folder icon disappears in semi-open state | https://github.com/zen-browser/desktop/issues/10153 | 0:53:47 | 1:08:24 |
| Pins and Essentials and Spaces | https://github.com/zen-browser/desktop/issues/10152 | 2:13:28 | 2:13:28 |
| Essential Tabs Disappear When Switching Spaces | https://github.com/zen-browser/desktop/issues/10151 | 0:31:07 | None |
| Sidebar content disappears when turning off Compact Mode | https://github.com/zen-browser/desktop/issues/10150 | 1:27:49 | 1:56:45 |
| Split view tab inside folder unloads after browser restart | https://github.com/zen-browser/desktop/issues/10149 | None | None |
| Zen create too many unused new tab in task manager | https://github.com/zen-browser/desktop/issues/10145 | None | 3:06:48 |
| workspace icons doesnt chage | https://github.com/zen-browser/desktop/issues/10140 | 4:53:04 | None |
| Glitching Tool bar in compact mode during collapsed toolbar | https://github.com/zen-browser/desktop/issues/10138 | 5:19:26 | None |
| zen doesn't remember discord sessions | https://github.com/zen-browser/desktop/issues/10136 | None | None |
| New Tab Problem | https://github.com/zen-browser/desktop/issues/10134 | 6:20:10 | 6:20:10 |
| Browsing history reset itself unexpectedly | https://github.com/zen-browser/desktop/issues/10133 | 6:29:41 | None |
| Youtube not fully signed-in | https://github.com/zen-browser/desktop/issues/10130 | 12:08:24 | None |
| Recently closed folder is re-opened as tab group | https://github.com/zen-browser/desktop/issues/10129 | None | None |
| Essentials ordering reverts itself each time browser is relaunched | https://github.com/zen-browser/desktop/issues/10127 | 13:58:08 | None |
| Garbled text on MacOS | https://github.com/zen-browser/desktop/issues/10126 | 15:57:07 | None |
| Black broder around right/middle click | https://github.com/zen-browser/desktop/issues/10125 | 15:59:15 | None |
| Groups Not Collapsing After 1.15.2b Update | https://github.com/zen-browser/desktop/issues/10124 | 10:41:50 | 17:39:32 |
| Unable to load webextension (onetab) and webpage (https://www.youtube.com/@carlsagan42) properly. Developers tools (F12) is also broken. | https://github.com/zen-browser/desktop/issues/10123 | 17:53:26 | None |
| I can't change folder names | https://github.com/zen-browser/desktop/issues/10122 | 2:02:10 | 7:08:18 |
| Zen is not getting updated on Linux systems | https://github.com/zen-browser/desktop/issues/10119 | 1 day, 22:15:27 | None |
| All tabs within folders load automatically upon launch of browser | https://github.com/zen-browser/desktop/issues/10118 | 0:19:31 | 0:48:15 |
| Open New Tab Below replaced by New Folder | https://github.com/zen-browser/desktop/issues/10117 | None | 0:09:29 |
| CTRL + arrow does not move cursor when renaming workspace, folder or tab | https://github.com/zen-browser/desktop/issues/10115 | None | 20:44:04 |
| Long press on the "New Tab" page, the text on the multi-account container page displays abnormally in vertical format | https://github.com/zen-browser/desktop/issues/10114 | 0:59:49 | 0:59:49 |
| Issue with tradingview.com and its fullscreen chart feature | https://github.com/zen-browser/desktop/issues/10113 | 1:18:05 | 1:18:04 |
| Menu color turn gray after 1.15b | https://github.com/zen-browser/desktop/issues/10110 | None | 23:24:28 |
| Missing website backgrounds making some sites unreadable | https://github.com/zen-browser/desktop/issues/10109 | 0:14:46 | 1:28:57 |
| Crunchyroll play back failing | https://github.com/zen-browser/desktop/issues/10107 | 0:35:36 | 2:09:35 |
| Leaking/Exposing IP Address via WebRTC | https://github.com/zen-browser/desktop/issues/10106 | 1:28:42 | 2:23:03 |
| Zen Browser Does Not Uninstall Cleanly on Windows | https://github.com/zen-browser/desktop/issues/10105 | 2:31:49 | 2:31:49 |
| Do not disappear tab after close folder | https://github.com/zen-browser/desktop/issues/10104 | 1:22:59 | 2:43:23 |
| Cannot rename a folder. | https://github.com/zen-browser/desktop/issues/10103 | 0:14:12 | 2:52:44 |
| The application has failed to start because its side-by-side configuration is incorrect. Please see the application event log or use the command-line sxstrace.exe tool for more detail. | https://github.com/zen-browser/desktop/issues/10102 | 3:03:40 | None |
| Workspace to folder conversion | https://github.com/zen-browser/desktop/issues/10099 | 1:07:12 | 4:21:56 |
| Workspace changing isnt working sometimes unless i restart | https://github.com/zen-browser/desktop/issues/10098 | 20:20:44 | None |
| Profile remains locked after closing Zen (stale lock symlink to 127.0.0.1:x) | https://github.com/zen-browser/desktop/issues/10097 | None | None |
| Copy and Pasting from gemini.google.com | https://github.com/zen-browser/desktop/issues/10096 | None | None |
| Picture in Picture closes when opening a side by side tab | https://github.com/zen-browser/desktop/issues/10094 | 2 days, 9:21:19 | None |
| Keep receiving this error when trying to close Zen Browser on Mac | https://github.com/zen-browser/desktop/issues/10093 | 3:01:29 | None |
| Cannot rename folders | https://github.com/zen-browser/desktop/issues/10092 | 0:10:50 | 2:18:47 |
| Zen Crashing after update | https://github.com/zen-browser/desktop/issues/10091 | 1:33:17 | None |
| Tabs inside folders disappear when closing and reopening Zen | https://github.com/zen-browser/desktop/issues/10089 | 5:35:09 | None |
| Can't rename the folders | https://github.com/zen-browser/desktop/issues/10088 | 0:10:31 | 5:56:22 |
| Extensions don't open without loading a web page in a tab. | https://github.com/zen-browser/desktop/issues/10086 | None | None |
| Cant Rename Folders | https://github.com/zen-browser/desktop/issues/10083 | 0:13:53 | 0:15:30 |
| Tab Bar cant be resized smaller in width when on the right. On the left side it works normally. | https://github.com/zen-browser/desktop/issues/10082 | 11:09:07 | 11:09:07 |
| Unable to split view more than 4 tabs like before. | https://github.com/zen-browser/desktop/issues/10080 | 9:26:04 | 9:26:04 |
| Tab Folders jumping to the top of a space after reopening browser. | https://github.com/zen-browser/desktop/issues/10078 | None | None |
| Groups/Folders do not collapse | https://github.com/zen-browser/desktop/issues/10077 | 2:08:46 | 10:30:40 |
| Zen window going blank after new update | https://github.com/zen-browser/desktop/issues/10076 | 3:16:17 | 1 day, 23:00:52 |
| Bookmark titles/names no longer appear in Omnibar search results, only URL is shown twice. | https://github.com/zen-browser/desktop/issues/10075 | 12:09:01 | None |
| Browser are not capable of opening a full screen video on X (twitter) | https://github.com/zen-browser/desktop/issues/10074 | 0:09:19 | None |
| "delete Folder' Not Working | https://github.com/zen-browser/desktop/issues/10070 | 0:17:54 | 0:18:22 |
| Compact Mode turns off after quitting the Browser | https://github.com/zen-browser/desktop/issues/10069 | None | 1:08:15 |
| Can't delete folders with collapsed toolbar | https://github.com/zen-browser/desktop/issues/10068 | 4:28:56 | 4:28:56 |
| Picture-in-Picture Window "Migrates" When Opened | https://github.com/zen-browser/desktop/issues/10066 | 2:11:10 | None |
| Weird black bar apearing with Transparent Zen | https://github.com/zen-browser/desktop/issues/10065 | 2:24:08 | 2:24:08 |
| Unable to resize sidebar on compact mode | https://github.com/zen-browser/desktop/issues/10064 | 2:26:23 | 2:26:23 |
| When switching between a split tabs and another normal tab, the image is cut off on the left | https://github.com/zen-browser/desktop/issues/10062 | None | None |
| Incorrect theme colors in Glance mod after 1.15 update | https://github.com/zen-browser/desktop/issues/10060 | 0:38:54 | 10:26:17 |
| Crash in navigating to diffent page | https://github.com/zen-browser/desktop/issues/10059 | 1:05:23 | None |
| Cannot add tab to Essentials even when there are slots available | https://github.com/zen-browser/desktop/issues/10058 | 4:48:50 | 5:57:03 |
| Zen Browser launches in a completely invisible window | https://github.com/zen-browser/desktop/issues/10057 | None | None |
| Tabs randomly move between groups/folders when opening or relocating | https://github.com/zen-browser/desktop/issues/10056 | None | None |
| The new tab button is missing | https://github.com/zen-browser/desktop/issues/10054 | 0:03:10 | 0:03:10 |
| You can't rename folders | https://github.com/zen-browser/desktop/issues/10052 | 0:01:23 | 20:23:45 |
| Essential and pinned tab favicons aren't being cached, turn to default after browser restart | https://github.com/zen-browser/desktop/issues/10049 | 0:53:00 | 8:32:49 |
| Google Meet shows "Browser not supported" message | https://github.com/zen-browser/desktop/issues/10047 | 1:50:35 | 1:50:35 |
| MongoDB sign in page stuck after clicking login | https://github.com/zen-browser/desktop/issues/10046 | 4:18:15 | 4:18:15 |
| Pinned tabs from various spaces scrambled in consecutive windows | https://github.com/zen-browser/desktop/issues/10044 | None | None |
| New Folders always get pinned (and you can't unpin) | https://github.com/zen-browser/desktop/issues/10043 | 2:34:16 | 5:41:56 |
| Theme no working | https://github.com/zen-browser/desktop/issues/10042 | 0:51:20 | 10:33:11 |
| Can't close the historic tab | https://github.com/zen-browser/desktop/issues/10041 | 8:39:11 | 11:52:29 |
| VISUAL going to the rightmost workspace causes other icons to shift left | https://github.com/zen-browser/desktop/issues/10040 | 11:55:55 | 18:33:56 |
| Session restore almost completely disfunctional | https://github.com/zen-browser/desktop/issues/10039 | None | None |
| Trading chart not rendering properly on insilico terminal | https://github.com/zen-browser/desktop/issues/10037 | 12:48:25 | 12:48:25 |
| space name and text overallaping | https://github.com/zen-browser/desktop/issues/10036 | 13:11:14 | 19:25:14 |
| Branding: Feedback link in Help menu points to Mozilla site. | https://github.com/zen-browser/desktop/issues/10035 | None | None |
| Cannot use any of the right click options of any tab folders in compact mode | https://github.com/zen-browser/desktop/issues/10033 | None | 13:50:42 |
| Deleting folders do not work while sidebar is not expanded | https://github.com/zen-browser/desktop/issues/10032 | 0:06:20 | 13:55:12 |
| Active tabs in collapsed folders will stay in their same place after switching from Expanded Sidebar to Compacted Sidebar | https://github.com/zen-browser/desktop/issues/10031 | 1 day, 10:19:29 | 1 day, 10:19:29 |
| Tab Groups broken in v1.15b | https://github.com/zen-browser/desktop/issues/10030 | 11:33:51 | 11:51:45 |
| New Folder option not visible in private mode | https://github.com/zen-browser/desktop/issues/10029 | 15:02:27 | 15:02:27 |
| Folder context menu don't work when the sidebar is collapsed | https://github.com/zen-browser/desktop/issues/10028 | None | 15:20:22 |
| Browser crashes after downloading | https://github.com/zen-browser/desktop/issues/10027 | 22:43:29 | 1 day, 22:00:29 |
| Folder icons and names are misaligned | https://github.com/zen-browser/desktop/issues/10025 | 16:29:52 | 16:29:52 |
| Bookmark dialog opens in compact sidebar instead of floating URL bar | https://github.com/zen-browser/desktop/issues/10024 | None | None |
| Sidebar freeze when trying to switch spaces | https://github.com/zen-browser/desktop/issues/10023 | 0:04:28 | None |
| When opening a link in a new tab while inside of a collapsed Folder, the current tab disappears | https://github.com/zen-browser/desktop/issues/10022 | None | 18:17:43 |
| Can't compile: fatal: your current branch 'zen_browser' does not have any commits yet | https://github.com/zen-browser/desktop/issues/10020 | None | None |
| Workspace name and icons clasing and Overflow Menu aint working normally | https://github.com/zen-browser/desktop/issues/10018 | 1 day, 2:43:25 | None |
| Contextual menu item text should be “New Folder” not “New folder” | https://github.com/zen-browser/desktop/issues/10016 | 0:22:14 | 20:49:40 |
| Top Bar (in single bar mode) not expanding when tabs are on the right | https://github.com/zen-browser/desktop/issues/10013 | None | None |
| Close Folder and witch active Tab behaviour | https://github.com/zen-browser/desktop/issues/10012 | 1:34:22 | 1 day, 17:57:01 |
| Folders hard to drag first Items in | https://github.com/zen-browser/desktop/issues/10011 | None | None |
| YouTube videos not working — H.264 / AAC not detected on Arch Linux | https://github.com/zen-browser/desktop/issues/10010 | None | None |
| Cant download the update v1.15b | https://github.com/zen-browser/desktop/issues/10009 | 0:21:58 | 4:19:00 |
| When two windows are open, the tabs in the workspace do not sync between the two windows | https://github.com/zen-browser/desktop/issues/10008 | None | 0:00:57 |
| When two windows are open, the tabs in the workspace do not sync between the two windows | https://github.com/zen-browser/desktop/issues/10007 | 8:42:07 | 13:52:58 |
| Tabs unload only for Zammad helpdesk page | https://github.com/zen-browser/desktop/issues/10003 | None | None |
| Tab unloads only for Zammad helpdesk | https://github.com/zen-browser/desktop/issues/10002 | 0:20:37 | 0:20:37 |
| Tabs dont open when pinned | https://github.com/zen-browser/desktop/issues/9999 | None | 8:06:36 |
| "New Tab" tab bar button renders Chinese text vertically in container menu | https://github.com/zen-browser/desktop/issues/9997 | None | None |
| Can't Delete, Edit or Select different profile | https://github.com/zen-browser/desktop/issues/9996 | 5 days, 22:21:43 | None |
| Redirect Links from Apps to Browser Not Working (VSCode, GitHub Auth, etc.) | https://github.com/zen-browser/desktop/issues/9993 | None | 2 days, 2:16:42 |
| Fullscreening a video in Glance causes tab sidebar moving slightly left-ier afterwards - Twilight 1.15t (Firefox 142.0) (2025-08-24) | https://github.com/zen-browser/desktop/issues/9992 | None | None |
| Sidebar urlbar is almost unuseable with site permission and zoom icons taking up 80% of the bar | https://github.com/zen-browser/desktop/issues/9990 | 5:10:46 | 5:10:46 |
| Zen doesn't show its browser UI on the page chrome://browser/content/browser.xhtml | https://github.com/zen-browser/desktop/issues/9989 | None | 6:09:52 |
| New tab panel doesn't show tab titles | https://github.com/zen-browser/desktop/issues/9987 | 0:31:03 | 10:37:46 |
| Cursor hover style switching to default shortly after hover | https://github.com/zen-browser/desktop/issues/9984 | None | None |
| Clicking on a tab reset button hides the other tabs | https://github.com/zen-browser/desktop/issues/9981 | None | 0:01:40 |
| Text Corrupting | https://github.com/zen-browser/desktop/issues/9980 | None | None |
| Splet View windows do not restore their layout after browser restart | https://github.com/zen-browser/desktop/issues/9978 | None | None |
| Changing AccelKey Overrides Custom Shortcuts | https://github.com/zen-browser/desktop/issues/9974 | None | None |
| Button title missing for sidebar collapse | https://github.com/zen-browser/desktop/issues/9973 | None | None |
| Missing "tab rename" in the contextual menu | https://github.com/zen-browser/desktop/issues/9972 | 15:03:21 | None |
| URL bar loses focus if new tab is opened while editing | https://github.com/zen-browser/desktop/issues/9971 | None | None |
| Workspaces and Compact Mode | https://github.com/zen-browser/desktop/issues/9970 | None | None |
| Sound does not work | https://github.com/zen-browser/desktop/issues/9969 | None | None |
| Pre-loading all tabs on startup | https://github.com/zen-browser/desktop/issues/9967 | 3:05:00 | 1 day, 3:23:24 |
| Duplicate 'Stop Loading' Keyboard Shortcut fields | https://github.com/zen-browser/desktop/issues/9965 | None | None |
| Freedom Blocklist not working | https://github.com/zen-browser/desktop/issues/9964 | 11:27:00 | 11:27:00 |
| Prevent tab unload context menu entry missing on tabs | https://github.com/zen-browser/desktop/issues/9963 | None | None |
| Glance buttons (expand, exit, split screen) missing when using Zen Papercut mod | https://github.com/zen-browser/desktop/issues/9962 | 3 days, 6:00:07 | 3 days, 6:00:07 |
| Sidebar Appears Unexpectedly | https://github.com/zen-browser/desktop/issues/9961 | 0:39:14 | 5 days, 0:15:27 |
| Contrast completely broken in multiple places depending on theme color and dark/light mode | https://github.com/zen-browser/desktop/issues/9955 | 6 days, 3:55:23 | None |
| Split views not visible in sidebar when selected from folder pop-up | https://github.com/zen-browser/desktop/issues/9954 | None | None |
| Folder 3 dot state stuck after split view move | https://github.com/zen-browser/desktop/issues/9953 | None | None |
| Context menu for editing tab groups is gone in Zen Twilight | https://github.com/zen-browser/desktop/issues/9951 | 6:53:05 | 11:45:07 |
| 简洁模式启动后自己关闭 | https://github.com/zen-browser/desktop/issues/9949 | 2:20:53 | 10:20:19 |
| Tab bar and top bar are stuck, can't toggle/hide them off and minimize, close button gets clamped together in minimized window | https://github.com/zen-browser/desktop/issues/9946 | None | 1:39:32 |
| Opening links in pinned tabs creates a new pinned tab | https://github.com/zen-browser/desktop/issues/9945 | 10:45:38 | None |
| History panel not colapsing | https://github.com/zen-browser/desktop/issues/9943 | 9:12:13 | None |
| Clicking card in jira doesn't always open the card modal. | https://github.com/zen-browser/desktop/issues/9942 | None | None |
| Zen uses Windows accent color even with relevant settings set to false | https://github.com/zen-browser/desktop/issues/9940 | 17:50:40 | 1 day, 2:24:18 |
| Compact Mode keeps getting disabled randomly | https://github.com/zen-browser/desktop/issues/9939 | 1 day, 3:36:05 | None |
| [macOS] "Ask before quitting with cmd+Q" dialog box shows Firefox instead of Zen and more mentions of Firefox instead of Zen | https://github.com/zen-browser/desktop/issues/9938 | 2 days, 21:11:20 | 10 days, 6:52:44 |
| Zen Browser consistantly crashes on page | https://github.com/zen-browser/desktop/issues/9937 | 6:13:51 | None |
| Essential Tabs do not survive a restart and fail to propagate across all windows | https://github.com/zen-browser/desktop/issues/9935 | 1:43:35 | None |
| Middle click to open a link in a new tab does not preserve the previous tab's container | https://github.com/zen-browser/desktop/issues/9934 | None | 11:02:13 |
| Twighlight folders | https://github.com/zen-browser/desktop/issues/9933 | 6:40:06 | None |
| Opening new tab always shows pop-up menu rather than opening configured new tab | https://github.com/zen-browser/desktop/issues/9932 | 0:10:50 | 7 days, 11:53:34 |
| Homepage blank when first opening Zen Browser | https://github.com/zen-browser/desktop/issues/9928 | 16:41:10 | None |
| Tabs freezing, sidebar not collapsing in VS 1.14.9b | https://github.com/zen-browser/desktop/issues/9927 | 2 days, 2:43:49 | None |
| Windows control butons can be seen for a while when using compact mode | https://github.com/zen-browser/desktop/issues/9922 | None | 12:39:19 |
| Distill plugin opens persistant tabs in the Space part of the sidebar | https://github.com/zen-browser/desktop/issues/9919 | 13 days, 13:36:07 | None |
| Keyboard shortcuts like Ctrl+Shift+NumberRowKey depend on the active keyboard layout | https://github.com/zen-browser/desktop/issues/9918 | None | None |
| SPOTIFY DOESN'T WORK ON WINDOWS | https://github.com/zen-browser/desktop/issues/9917 | 0:04:16 | 5:53:18 |
| "Connection Secure >" menu won't open when Padlock is clicked inside an expanded Address Bar | https://github.com/zen-browser/desktop/issues/9913 | None | 2 days, 0:48:09 |
| Inconsistent behavior when removing essentials via drag and drop | https://github.com/zen-browser/desktop/issues/9912 | None | None |
| Essentials can't be rearranged via drag and drop | https://github.com/zen-browser/desktop/issues/9911 | 2:39:54 | 2:39:54 |
| Reset Pinned Tab doesn't work | https://github.com/zen-browser/desktop/issues/9910 | 12:56:31 | 9 days, 3:42:31 |
| when I use the Collapsed toolbar,The close button on the sidebar shows an abnormal display | https://github.com/zen-browser/desktop/issues/9905 | None | None |
| When Nerd Fonts isstelled Zen will always use them | https://github.com/zen-browser/desktop/issues/9904 | None | None |
| macOS: Zen shortcuts like Cmd+S are intercepted by websites | https://github.com/zen-browser/desktop/issues/9903 | None | None |
| Customize Toolbar issues with Extension Icons (Temporary Containers) | https://github.com/zen-browser/desktop/issues/9901 | None | None |
| Startup hang when using an invalid workspace name | https://github.com/zen-browser/desktop/issues/9900 | None | 0:58:35 |
| Spotify Web Player doesn't play songs: 'Spotify can't play this right now' error | https://github.com/zen-browser/desktop/issues/9896 | 0:18:09 | 0:57:45 |
| Header editor extensions do not work (WebRequest API for onBeforeSendHeaders) | https://github.com/zen-browser/desktop/issues/9895 | None | None |
| Essentials - "remove from Essentials" vs "Close Tab" | https://github.com/zen-browser/desktop/issues/9894 | 7:25:09 | None |
| VAAPI not working on Linux | https://github.com/zen-browser/desktop/issues/9893 | None | None |
| Browser launches up completely blank, no interface, buttons to close or minimize the tab, nothing. | https://github.com/zen-browser/desktop/issues/9890 | 3:45:59 | None |
| Annoying white margin around window contents | https://github.com/zen-browser/desktop/issues/9888 | 4 days, 12:34:56 | None |
| Zen is being recognized as using Internet Explorer 11 | https://github.com/zen-browser/desktop/issues/9887 | 10:15:03 | 10:15:03 |
| Folder unloading bug breaks whole folder tree | https://github.com/zen-browser/desktop/issues/9885 | None | 0:45:09 |
| Bug: Leftover in Default Apps | https://github.com/zen-browser/desktop/issues/9879 | 10 days, 15:06:30 | None |
| Weird rectangle behind side bar in compact mode | https://github.com/zen-browser/desktop/issues/9877 | None | None |
| On startup all previous tabs remain open | https://github.com/zen-browser/desktop/issues/9875 | 11:41:28 | None |
| Spotify skips 5 songs then plays first 5 seconds of one and frezzes. | https://github.com/zen-browser/desktop/issues/9874 | 1:56:21 | 1:56:21 |
| macOS traffic lights are grey while Zen is focused | https://github.com/zen-browser/desktop/issues/9871 | 1:49:43 | 1:49:43 |
| Background audio stops after tab switch: Spotify stalls at a specific timestamp; reload fails; only closing/reopening the tab helps | https://github.com/zen-browser/desktop/issues/9869 | 3:21:56 | 10:26:59 |
| Stripe Payment Element iFrame Performance Issues | https://github.com/zen-browser/desktop/issues/9868 | None | None |
| [1.15t]: Changing the folder icon while in collapsed mode bug | https://github.com/zen-browser/desktop/issues/9866 | None | 1 day, 7:03:54 |
| CTRL + TAB open essential tabs on start up | https://github.com/zen-browser/desktop/issues/9864 | None | None |
| Bluetooth headset device prb | https://github.com/zen-browser/desktop/issues/9863 | 1 day, 22:54:56 | None |
| Notion Crashes in Zen Browser | https://github.com/zen-browser/desktop/issues/9862 | None | None |
| Can't install mods | https://github.com/zen-browser/desktop/issues/9861 | 0:35:44 | None |
| Broken automatic updates and update checker | https://github.com/zen-browser/desktop/issues/9860 | 7 days, 22:56:36 | None |
| "Backward Workspace" and "Forward Workspace" shortcuts conflict with unchangeable tab-cycling shortcut | https://github.com/zen-browser/desktop/issues/9859 | 3:55:25 | 3:55:25 |
| Essentials favicons overlap from multiple workspaces | https://github.com/zen-browser/desktop/issues/9858 | 0:09:18 | None |
| Tap with 2 fingers on mac trackpad issue | https://github.com/zen-browser/desktop/issues/9856 | None | None |
| Compose key closes floating search input | https://github.com/zen-browser/desktop/issues/9855 | None | None |
| Critical Bug - Blackscreen on boot Intel Mac | https://github.com/zen-browser/desktop/issues/9853 | None | None |
| switching to left/upper tab is not working with shortcuts, but working if the tabs are pinned. via APIs may be couse i am uging surfing keys extension but reported here just in case. | https://github.com/zen-browser/desktop/issues/9852 | None | None |
| iCloud Passwords extension on macOS | https://github.com/zen-browser/desktop/issues/9850 | 15:37:13 | 15:37:20 |
| rpi.local:9090 don´t open | https://github.com/zen-browser/desktop/issues/9844 | 2:30:34 | 2 days, 4:55:12 |
| Laggy Scrolling Across All Sites On 120 Hz Retina Display of Macbook Pro (M3 Pro) | https://github.com/zen-browser/desktop/issues/9842 | 3:16:14 | None |
| Folders Bug on multiple windows | https://github.com/zen-browser/desktop/issues/9840 | 2 days, 19:32:00 | None |
| Twilight Updater Bug ("Update ready to install" popup will not go away, even after restarting twilight multiple times) | https://github.com/zen-browser/desktop/issues/9837 | 14 days, 15:03:33 | None |
| Windows UAC is prompted after every Zen update | https://github.com/zen-browser/desktop/issues/9836 | 3 days, 13:49:23 | None |
| Upon reopening a Zen Browser session with multiple windows, workspaces are not selected properly | https://github.com/zen-browser/desktop/issues/9835 | 6 days, 9:06:16 | None |
| When compact mode is enabled, bookmark tabs in the top toolbar fail to display fully on new pages.‌ | https://github.com/zen-browser/desktop/issues/9834 | 3 days, 9:24:00 | None |
| Dark Theme Selected, But Light Theme Appears in Some Areas | https://github.com/zen-browser/desktop/issues/9833 | 1 day, 9:15:06 | 1 day, 20:10:57 |
| Essential tabs is missing icon when browser history is disabled | https://github.com/zen-browser/desktop/issues/9832 | None | 1 day, 0:58:09 |
| [Folders] Broken reordering functionality | https://github.com/zen-browser/desktop/issues/9830 | 1 day, 2:52:11 | 1 day, 7:27:51 |
| Essential opens some new links in a new essential tab | https://github.com/zen-browser/desktop/issues/9829 | None | 0:02:42 |
| Ctrl-shift-t should restore tab folders after deletion | https://github.com/zen-browser/desktop/issues/9828 | 4 days, 14:56:02 | None |
| UrlBar suggestions of renamed tabs are broken | https://github.com/zen-browser/desktop/issues/9825 | 1 day, 14:45:17 | 1 day, 14:45:17 |
| UrlBar persists input if closed with hitting the Escape key | https://github.com/zen-browser/desktop/issues/9824 | 1 day, 17:21:19 | 1 day, 17:21:19 |
| Bookmark tab doesn't show in single toolbar mode | https://github.com/zen-browser/desktop/issues/9823 | 2 days, 2:41:34 | 2 days, 3:29:57 |
| Mouse Hover Shortcut Key Display Lacks Synchronization with User Settings | https://github.com/zen-browser/desktop/issues/9822 | None | None |
| The context menu to delete history from the URL bar suggestions needs two clicks to open | https://github.com/zen-browser/desktop/issues/9820 | None | None |
| The tab bar shows and hide quickly when leaving the search | https://github.com/zen-browser/desktop/issues/9819 | 0:25:47 | 2 days, 8:39:47 |
| Zen Browser freezes when using ChatGPT-5 Browser (especially with code-related responses) | https://github.com/zen-browser/desktop/issues/9816 | 8:28:17 | None |
| Zen hangs on contextual menu (right clicking, opening sub menus etc) on Linux | https://github.com/zen-browser/desktop/issues/9815 | None | None |
| Bookmarks, URL Bar, and Tabs Invisible Text After Update | https://github.com/zen-browser/desktop/issues/9813 | 7:26:37 | None |
| Folder tabs aren't in folders after relaunch | https://github.com/zen-browser/desktop/issues/9812 | 15:43:15 | 1 day, 19:13:37 |
| Location bar unfocused when the last character is deleted | https://github.com/zen-browser/desktop/issues/9810 | 0:18:17 | None |
| Essentials Bug | https://github.com/zen-browser/desktop/issues/9808 | 1:41:03 | None |
| Downloads button having poor visibility after downloading a file in some gradients. | https://github.com/zen-browser/desktop/issues/9807 | 1:44:14 | 1:44:14 |
| Laggy scrolling after not quiting the browser for a while | https://github.com/zen-browser/desktop/issues/9806 | 2 days, 10:50:57 | None |
| Unnecessary haptic feedback on MacOS when pinning new tab (Twilight) | https://github.com/zen-browser/desktop/issues/9805 | 6:15:46 | 6:15:46 |
| New folder renaming text too far to the right | https://github.com/zen-browser/desktop/issues/9804 | 6:17:45 | 6:17:45 |
| [Twilight] Broken haptic feedback on macOS when dragging tabs | https://github.com/zen-browser/desktop/issues/9803 | None | 1:14:26 |
| Video player not working on crunchyroll | https://github.com/zen-browser/desktop/issues/9802 | 1:16:40 | 1:16:40 |
| Switch to tab opens new tab instead of switching | https://github.com/zen-browser/desktop/issues/9801 | 12:20:40 | 12:27:21 |
| Reordering split panels via drag-and-drop does not update ordering in tab list, messes with keyboard navigation ordering. | https://github.com/zen-browser/desktop/issues/9800 | None | 1 day, 2:11:06 |
| tab bar in fullscreen mode | https://github.com/zen-browser/desktop/issues/9799 | None | 18:51:36 |
| Taskbar not showing | https://github.com/zen-browser/desktop/issues/9798 | 10:56:45 | None |
| Security key pin dialog lacks support for paste action | https://github.com/zen-browser/desktop/issues/9796 | 21:28:51 | 1 day, 6:48:45 |
| Last popup opening when submiting forms (i.e pressing enter) | https://github.com/zen-browser/desktop/issues/9795 | 21:44:10 | 1 day, 5:01:56 |
| New password updates don't work | https://github.com/zen-browser/desktop/issues/9794 | 2:53:04 | None |
| Sidebar quickly opening and closing when in compact mode | https://github.com/zen-browser/desktop/issues/9793 | 2:51:23 | None |
| Fail to import password from Brave | https://github.com/zen-browser/desktop/issues/9792 | None | 21:51:13 |
| Favicons not showing | https://github.com/zen-browser/desktop/issues/9791 | 14:44:19 | 4 days, 20:11:15 |
| The sidebar unexpectedly appears as the mouse cursor moves away from the URL bar in compact mode | https://github.com/zen-browser/desktop/issues/9790 | 11:11:16 | 23 days, 3:02:43 |
| Tab doesn't close after search (find on page) | https://github.com/zen-browser/desktop/issues/9789 | None | None |
| Weird Margin when on Fullscreen watching videos when sidebar opened | https://github.com/zen-browser/desktop/issues/9788 | None | None |
| Squashed webpages on smaller windows in hyprland | https://github.com/zen-browser/desktop/issues/9786 | 1:09:51 | None |
| Failed to check for updates | https://github.com/zen-browser/desktop/issues/9785 | 1:15:30 | None |
| Video thumbnails not fully load (YouTube) | https://github.com/zen-browser/desktop/issues/9783 | 0:07:00 | None |
| Version Compatibility Issue | https://github.com/zen-browser/desktop/issues/9782 | 1:12:07 | None |
| Setting Backward / Forward Workspace shortcuts to cmd+opt+right arrow / cmd+opt+left arrow doesn't work | https://github.com/zen-browser/desktop/issues/9779 | 3:51:07 | None |
| The close tab button fails to work when trying to close multiple tabs that are using Glance | https://github.com/zen-browser/desktop/issues/9778 | 2 days, 16:14:18 | None |
| Switching between Spaces not working | https://github.com/zen-browser/desktop/issues/9776 | 0:14:43 | 0:14:43 |
| Sidebar is much darker than the workspace's chosen theme color when in compact mode | https://github.com/zen-browser/desktop/issues/9773 | 0:03:24 | None |
| Exit menu not appearing as it should be! | https://github.com/zen-browser/desktop/issues/9771 | 1:55:10 | 1:55:10 |
| Zorin OS (sub disturbution of ubuntu): automatically unlodaded tabs' icons appear as if they are loaded. | https://github.com/zen-browser/desktop/issues/9770 | 5:45:29 | 2 days, 12:00:33 |
| No requests are shown in Network tabs in the DevTools | https://github.com/zen-browser/desktop/issues/9765 | None | 13:35:18 |
| The Youtube UI is missing | https://github.com/zen-browser/desktop/issues/9764 | 13:42:10 | None |
| Scrolling on Touch Pad not working | https://github.com/zen-browser/desktop/issues/9763 | None | 1 day, 1:06:22 |
| Problem with the translation icon | https://github.com/zen-browser/desktop/issues/9761 | None | None |
| Sidebar appearing again in ubuntu 24.04 even i already hid it | https://github.com/zen-browser/desktop/issues/9758 | None | 4:46:11 |
| Ferefox View is not working | https://github.com/zen-browser/desktop/issues/9757 | None | None |
| Google Docs (Hebrew): Selected text is not deselected after typing, leading to infinite replacement loop. | https://github.com/zen-browser/desktop/issues/9756 | None | None |
| Container tabs can't be added to essentials | https://github.com/zen-browser/desktop/issues/9753 | 10:17:57 | 17:44:03 |
| transparent custom color issue | https://github.com/zen-browser/desktop/issues/9752 | 26 days, 4:17:37 | None |
| night tb extension problem | https://github.com/zen-browser/desktop/issues/9751 | None | 2:37:24 |
| night tab extension not working | https://github.com/zen-browser/desktop/issues/9750 | 0:45:32 | None |
| Media Component showing wrong timing. | https://github.com/zen-browser/desktop/issues/9748 | 1 day, 21:23:48 | None |
| Option+Cmd+E shortcut is assigned twice in standard settings | https://github.com/zen-browser/desktop/issues/9746 | 2 days, 1:35:44 | None |
| Microphone not detected on Google Meet using Zen Browser under Wayland | https://github.com/zen-browser/desktop/issues/9745 | None | None |
| Apple Passwords extension works in firefox but not in zen | https://github.com/zen-browser/desktop/issues/9743 | None | 4:24:39 |
| [Flatpak] Maximize and Minimize button not appearing | https://github.com/zen-browser/desktop/issues/9740 | 16:43:18 | None |
| Zen Browser does not stay in Dark theme | https://github.com/zen-browser/desktop/issues/9739 | 3:02:20 | 10:26:06 |
| Sidebar Hover keeps breaking Sidebar | https://github.com/zen-browser/desktop/issues/9738 | 18:14:03 | 18:14:03 |
| WebGL not working because glxtest cannot determine the primary gpu | https://github.com/zen-browser/desktop/issues/9735 | None | 2 days, 2:10:27 |
| Critical profile and data wipe - my data is inaccessible but viewable via AppData | https://github.com/zen-browser/desktop/issues/9733 | None | None |
| Workspace bookmarks are showing across different workspaces | https://github.com/zen-browser/desktop/issues/9732 | None | None |
| Side bar takes priority over top bar in compact mode, impossible to close window in compact mode with no tabs open | https://github.com/zen-browser/desktop/issues/9730 | None | None |
| Incorrect theme context color provider in dark mode for the bottom search bar | https://github.com/zen-browser/desktop/issues/9729 | 17:05:40 | 23:37:32 |
| URLs open in wrong space | https://github.com/zen-browser/desktop/issues/9728 | 4 days, 4:26:42 | None |
| "ZenCP Isolated Web Content" process pegs all cores after media playback on MacOS | https://github.com/zen-browser/desktop/issues/9727 | 5 days, 2:14:27 | None |
| How to disable url in sidebar. | https://github.com/zen-browser/desktop/issues/9726 | None | 0:03:33 |
| Switch to tab clones tab instead of switching. | https://github.com/zen-browser/desktop/issues/9724 | 0:21:55 | 0:42:52 |
| Not supported HTML5 | https://github.com/zen-browser/desktop/issues/9723 | 3:28:34 | 3:28:34 |
| Zen browsers loses tabs every time it is restarted | https://github.com/zen-browser/desktop/issues/9718 | 15 days, 7:57:29 | 0:03:16 |
| Can't change to different workspaces after a while | https://github.com/zen-browser/desktop/issues/9717 | 5 days, 11:32:11 | None |
| Moving bookmarks in the bookmark bar is not reliable | https://github.com/zen-browser/desktop/issues/9715 | 24 days, 1:43:39 | None |
| Ctrl+Shift+T not restoring the most recent tab | https://github.com/zen-browser/desktop/issues/9714 | None | 14:28:46 |

_This report was generated with the [Issue Metrics Action](https://github.com/github/issue-metrics)_
Search query used to find these items: `repo:zen-browser/desktop is:issue created:2025-08-01..2025-08-31`



================================================
FILE: docs/issue-metrics/2025_2025-09-01..2025-09-30.md
================================================
# Issue Metrics

| Metric | Average | Median | 90th percentile |
| --- | --- | --- | ---: |
| Time to first response | 17:16:35 | 3:11:05 | 1 day, 7:58:23 |
| Time to close | 1 day, 8:59:53 | 8:32:05 | 3 days, 14:43:34 |

| Metric | Count |
| --- | ---: |
| Number of items that remain open | 123 |
| Number of items closed | 139 |
| Total number of items created | 262 |

| Title | URL | Time to first response | Time to close |
| --- | --- | --- | --- |
| Auto PIP not working upon tab switch | https://github.com/zen-browser/desktop/issues/10645 | None | None |
| URL bar Opening on the left side of the browser when clicked on new tab | https://github.com/zen-browser/desktop/issues/10642 | None | None |
| Browser opens on wrong monitor on macOS | https://github.com/zen-browser/desktop/issues/10639 | None | None |
| All tabs are lost after each update | https://github.com/zen-browser/desktop/issues/10638 | 2:25:57 | None |
| Sidebar expands independently | https://github.com/zen-browser/desktop/issues/10637 | 2:21:31 | None |
| Onboarding broken (tiny window) on flatpak version | https://github.com/zen-browser/desktop/issues/10635 | None | None |
| Bitwarden extension not synching (self hosted) | https://github.com/zen-browser/desktop/issues/10634 | None | None |
| Zen completely freezes when clicking on "New Tab" | https://github.com/zen-browser/desktop/issues/10632 | None | None |
| Zen Browser URL Bar: Search Engine Highlight Rectangle Looks Broken in Input Mode | https://github.com/zen-browser/desktop/issues/10630 | 9:01:57 | 9:01:57 |
| Url bar doesn't fully appear | https://github.com/zen-browser/desktop/issues/10629 | 1:51:21 | 9:11:03 |
| 1Password Autofill/Universal Autofill feature fails silently | https://github.com/zen-browser/desktop/issues/10627 | None | None |
| Moxfield Bug | https://github.com/zen-browser/desktop/issues/10626 | 16:58:48 | 16:58:48 |
| Tabs are not restored on Startup | https://github.com/zen-browser/desktop/issues/10625 | 0:03:14 | None |
| Zen uses `$HOME/.mozilla/native-messaging-hosts/` instead of `$HOME/.zen/native-messaging-hosts/` | https://github.com/zen-browser/desktop/issues/10622 | None | None |
| No video with supported format and MIME type found | https://github.com/zen-browser/desktop/issues/10620 | 4:38:39 | 4:38:39 |
| Youtube window size | https://github.com/zen-browser/desktop/issues/10619 | None | None |
| Webpage UI elements glitching and not fully rendering | https://github.com/zen-browser/desktop/issues/10615 | None | None |
| bookmarks toolbar failed to collapse automatically in single toolbar mode + compact mode | https://github.com/zen-browser/desktop/issues/10612 | None | 8:56:43 |
| Closing "New Tab" in the "List all tabs" toolbar widget causes zen to not exit cleanly | https://github.com/zen-browser/desktop/issues/10610 | 1:45:50 | 12:56:07 |
| Opening link in new tab switches focus to new tab instead of staying on current tab | https://github.com/zen-browser/desktop/issues/10609 | 2:14:04 | 13:39:31 |
| Webpage flickering/glitching during normal browsing | https://github.com/zen-browser/desktop/issues/10605 | None | None |
| Essentials Get jumbled when reopening the browser | https://github.com/zen-browser/desktop/issues/10602 | 0:19:34 | 0:45:36 |
| Entering ecom in URL bar shows compact mode as first suggestion. | https://github.com/zen-browser/desktop/issues/10601 | 6:27:16 | 6:27:16 |
| Loads of empty windows opening on startup and mysterious tray icon | https://github.com/zen-browser/desktop/issues/10598 | None | None |
| URLbar becomes invisible after bookmarking a tab. | https://github.com/zen-browser/desktop/issues/10597 | None | None |
| Workspace icons too small with narrow sidebar | https://github.com/zen-browser/desktop/issues/10596 | None | 8:06:55 |
| Top toolbar has no background in compact mode after changing space until the URL bar is hovered | https://github.com/zen-browser/desktop/issues/10595 | None | 1:45:30 |
| Video controls going under the screen when in fullscreen using Zen in fullscreen mode | https://github.com/zen-browser/desktop/issues/10594 | None | None |
| Multiple instances of Zen for each tab | https://github.com/zen-browser/desktop/issues/10593 | 4:55:51 | 4:55:51 |
| Tabs Disappear | https://github.com/zen-browser/desktop/issues/10592 | None | 6:02:25 |
| Cannot upgrade from `1.15.5b` to `1.16.1b` | https://github.com/zen-browser/desktop/issues/10590 | None | None |
| New windows come up with ~200 copies of the same link in the pinned tab of some workspaces | https://github.com/zen-browser/desktop/issues/10589 | None | 15:51:30 |
| on_TabGroupsCollapse is hiding currently open tabs | https://github.com/zen-browser/desktop/issues/10587 | 18:18:04 | 18:18:04 |
| websites don't properly go fullscreen in split view on Wayland and windows | https://github.com/zen-browser/desktop/issues/10586 | None | 21:23:38 |
| Active tabs and URLs not prioritized in URL bar over extensions | https://github.com/zen-browser/desktop/issues/10582 | 8:32:05 | 8:32:05 |
| Always floating URL bar does not float on new tab with replace-newtab disabled | https://github.com/zen-browser/desktop/issues/10581 | None | None |
| URL bar not respecting browser.urlbar.maxRichResults setting | https://github.com/zen-browser/desktop/issues/10580 | 0:11:00 | None |
| "Zoom" Icon is missing in the Application Menu | https://github.com/zen-browser/desktop/issues/10578 | 1 day, 2:23:42 | None |
| Search/New Tab Popup Misplaced in Compact Mode (Hidden Vertical Tab Bar) | https://github.com/zen-browser/desktop/issues/10576 | 0:50:41 | 1:38:50 |
| Essentials Tab | https://github.com/zen-browser/desktop/issues/10575 | 2:40:40 | 5:34:25 |
| Udemy - problem with movies | https://github.com/zen-browser/desktop/issues/10571 | 1:11:04 | 1:11:04 |
| Fully lost all data | https://github.com/zen-browser/desktop/issues/10568 | 9:29:58 | 10:31:54 |
| Flatpak fails to launch on Fedora 42 (clone() failure EPERM) | https://github.com/zen-browser/desktop/issues/10567 | 1:22:23 | 3:40:35 |
| The top bar in compact mode is not controlled by the theme, it appears white | https://github.com/zen-browser/desktop/issues/10566 | 1:47:24 | 1:47:24 |
| Pinned extension render bug: pinned extensions are floating on the web page | https://github.com/zen-browser/desktop/issues/10565 | None | None |
| Home link not appearing | https://github.com/zen-browser/desktop/issues/10563 | 0:42:18 | 2:59:02 |
| Connection to "incoming.telemetry.mozilla.org" on startup. | https://github.com/zen-browser/desktop/issues/10560 | 3:29:10 | 21:14:29 |
| Command bar actions not work if they are not translated to selected language | https://github.com/zen-browser/desktop/issues/10559 | None | 4:06:26 |
| the address bar does not respect the color theme when compact mode is enabled | https://github.com/zen-browser/desktop/issues/10557 | 0:14:27 | 0:14:27 |
| Browser crashing on media playback as of 1.16.1b on Nvidia Wayland (VA-API) | https://github.com/zen-browser/desktop/issues/10555 | 0:14:09 | None |
| Split View preview effect still remains after using the Escape key | https://github.com/zen-browser/desktop/issues/10554 | 3:49:15 | 1 day, 0:27:29 |
| Spotify is not working | https://github.com/zen-browser/desktop/issues/10553 | 1:42:55 | 1:42:55 |
| Command bar features doesn't work with other langage than english | https://github.com/zen-browser/desktop/issues/10551 | None | 0:01:48 |
| Nested CSS transform breaks backdrop blur | https://github.com/zen-browser/desktop/issues/10550 | 0:55:22 | 1:22:05 |
| (MINOR) URL bar: custom search engine name has uneven background fill than its icon | https://github.com/zen-browser/desktop/issues/10546 | None | None |
| Special unicode characters (Chinese, Korean, Japanese, etc.) are not showing | https://github.com/zen-browser/desktop/issues/10545 | 3:45:25 | None |
| Computer hard freezes when zen is open with performance intensive tasks going in the background | https://github.com/zen-browser/desktop/issues/10544 | None | None |
| 软件开启使用一会后，右上角关闭按钮失效 | https://github.com/zen-browser/desktop/issues/10543 | 5:28:33 | 5:28:33 |
| Bookmark menu shows up in wrong place, and its entries' context menu has weird layout problem | https://github.com/zen-browser/desktop/issues/10542 | None | None |
| Find bar changes into plain white bar when "X" is clicked | https://github.com/zen-browser/desktop/issues/10541 | 8:22:04 | 10:27:21 |
| browser.tabs.closeWindowWithLastTab doesn't work anymore on v1.16.1b | https://github.com/zen-browser/desktop/issues/10540 | 10:59:55 | None |
| Some UI Elements are Missing On Some Sites | https://github.com/zen-browser/desktop/issues/10538 | 2:19:13 | 3 days, 22:36:11 |
| Browser Freeze on Passkey Call&CallBack Failure | https://github.com/zen-browser/desktop/issues/10533 | None | None |
| Wrong sidebar color in compact mode | https://github.com/zen-browser/desktop/issues/10532 | 0:48:09 | 1 day, 17:09:58 |
| Playing Audio icon inconsistent on tabs not focused on linux | https://github.com/zen-browser/desktop/issues/10531 | None | 21:06:12 |
| Missing "Edit Theme" button in the right click menu | https://github.com/zen-browser/desktop/issues/10530 | 0:56:54 | 1 day, 17:21:25 |
| Stars are shown all over all websites | https://github.com/zen-browser/desktop/issues/10529 | 18:59:14 | None |
| v1.16b not available on flathub | https://github.com/zen-browser/desktop/issues/10528 | 3:10:02 | 5:21:21 |
| Firefox-Zen browser name inconsistency in error page | https://github.com/zen-browser/desktop/issues/10527 | None | None |
| Highlight mini window doesn't close automatically | https://github.com/zen-browser/desktop/issues/10526 | None | None |
| Zen Browser maximized window overlaps with Windows taskbar area | https://github.com/zen-browser/desktop/issues/10525 | None | 0:37:13 |
| Spotify Skipping 7 Songs | https://github.com/zen-browser/desktop/issues/10524 | 2:57:34 | 2:57:34 |
| McAfee notifactions from Zen Browser | https://github.com/zen-browser/desktop/issues/10522 | None | 0:24:17 |
| Zen Browser crashes occasionally when I download a file | https://github.com/zen-browser/desktop/issues/10520 | 13:03:32 | None |
| (SERIOUS BUG DONT IGNORE) Split tab bug report | https://github.com/zen-browser/desktop/issues/10519 | None | 0:01:36 |
| tab spliting issue | https://github.com/zen-browser/desktop/issues/10517 | None | 0:51:11 |
| Rounded window borders cause choppy scrolling. | https://github.com/zen-browser/desktop/issues/10516 | None | None |
| Closing the last tab cannot automatically create a new tab | https://github.com/zen-browser/desktop/issues/10515 | 14:08:09 | 14:08:09 |
| Pinned tabs always load from cache. | https://github.com/zen-browser/desktop/issues/10514 | 1:49:05 | None |
| Command Bar works only in english language | https://github.com/zen-browser/desktop/issues/10509 | 0:10:10 | 0:10:10 |
| Pop up windows don't close properly | https://github.com/zen-browser/desktop/issues/10506 | None | None |
| When accessing Alibaba Cloud DataWorks using the Zen browser, it will report Path Not Found: /page/errorbrowser, or Not Online? | https://github.com/zen-browser/desktop/issues/10503 | 10:29:49 | 10:30:28 |
| Floating url bar not appering where it is suposed to | https://github.com/zen-browser/desktop/issues/10502 | 3:09:03 | 11:51:16 |
| Split tabs are not aligned with other tabs | https://github.com/zen-browser/desktop/issues/10501 | 0:15:04 | 2 days, 14:12:29 |
| Microsoft Entra Platform SSO on MacOS | https://github.com/zen-browser/desktop/issues/10498 | 2 days, 12:29:33 | None |
| Dragging a split panel to the sidebar opens search for panel id | https://github.com/zen-browser/desktop/issues/10495 | 0:42:53 | None |
| After closing all tabs, cmd / ctrl + W does not close the window | https://github.com/zen-browser/desktop/issues/10493 | 1:22:58 | 1:22:58 |
| Youtube lags when adblocker is installed. [Seemingly fixed] | https://github.com/zen-browser/desktop/issues/10492 | 4:34:01 | 4:34:01 |
| URL Bar mispositioning | https://github.com/zen-browser/desktop/issues/10490 | 0:35:10 | 2:15:20 |
| Fullscreen F11 | https://github.com/zen-browser/desktop/issues/10489 | 21:42:02 | 3 days, 20:34:06 |
| Combined tabs are not shown properly in the navigation menu | https://github.com/zen-browser/desktop/issues/10488 | 0:41:09 | None |
| Translucent color codes do not appear translucent in toolbar themes | https://github.com/zen-browser/desktop/issues/10487 | 6:19:55 | None |
| Discord always requires me to log in after closing Zen | https://github.com/zen-browser/desktop/issues/10482 | 7 days, 13:26:09 | None |
| 1.16b crashes a lot on Windows 11 | https://github.com/zen-browser/desktop/issues/10481 | 0:19:54 | None |
| There is bug on perplexity.ai | https://github.com/zen-browser/desktop/issues/10480 | 2:16:15 | 1 day, 10:27:53 |
| Theme bug when Zen not focused. | https://github.com/zen-browser/desktop/issues/10479 | 2:39:03 | None |
| Hiding top bar in collapsed bar mode is white | https://github.com/zen-browser/desktop/issues/10478 | 12:23:32 | 7 days, 4:09:44 |
| URL preview in split screen always appears on focused window | https://github.com/zen-browser/desktop/issues/10477 | 1:20:54 | None |
| After the update, all loose tabs disappeared!!! | https://github.com/zen-browser/desktop/issues/10476 | None | None |
| Compact Mode Url position | https://github.com/zen-browser/desktop/issues/10475 | 2:15:11 | 4:17:47 |
| Zen captures all touchpad input and no other applications receive it, even if they're in the foreground (including desktop) | https://github.com/zen-browser/desktop/issues/10474 | None | None |
| Toolbar 'Edit Theme' features broken | https://github.com/zen-browser/desktop/issues/10473 | None | 12:09:50 |
| Camera / Microphone Permissions | https://github.com/zen-browser/desktop/issues/10471 | 0:09:35 | None |
| Cannot drag sidebar tabs | https://github.com/zen-browser/desktop/issues/10466 | 7 days, 19:48:26 | None |
| tool bar not responsive | https://github.com/zen-browser/desktop/issues/10465 | None | None |
| Zen adaptive history doesn't work (auto-suggestions don't change ranks) | https://github.com/zen-browser/desktop/issues/10464 | 6:38:12 | None |
| Udemy Videos not playing(some DRM issue) | https://github.com/zen-browser/desktop/issues/10462 | 0:26:28 | 0:26:28 |
| Clicking a link to open to a new tab from a page in a folder opens outside of the folder instead of staying inside it | https://github.com/zen-browser/desktop/issues/10461 | 1:22:00 | 1:36:41 |
| bookmark tool bar on full screen mode | https://github.com/zen-browser/desktop/issues/10460 | 7:11:57 | None |
| Compact mode: hide tab not work | https://github.com/zen-browser/desktop/issues/10459 | 7:21:59 | 7:26:31 |
| Error Building on mac, suggested fix as well | https://github.com/zen-browser/desktop/issues/10458 | None | None |
| Clicking on a duplicated tab of an essential tab causes switching to the last workspace | https://github.com/zen-browser/desktop/issues/10457 | 2 days, 11:37:42 | None |
| Very long opening times | https://github.com/zen-browser/desktop/issues/10456 | 1 day, 12:13:47 | None |
| Browser window doesn't close when closing last tab | https://github.com/zen-browser/desktop/issues/10455 | None | 22:08:46 |
| Passkeys not supported | https://github.com/zen-browser/desktop/issues/10454 | 2:29:55 | 2 days, 8:28:48 |
| Focus Bitwader | https://github.com/zen-browser/desktop/issues/10447 | 1 day, 6:48:09 | 1 day, 6:48:09 |
| Unable to change workspace name | https://github.com/zen-browser/desktop/issues/10446 | None | None |
| Udemy video's don't play in Zen. | https://github.com/zen-browser/desktop/issues/10443 | 0:52:31 | 1 day, 21:47:45 |
| SoundCloud audio stops when joining Discord voice in browser | https://github.com/zen-browser/desktop/issues/10441 | None | None |
| Calling browser.search.search (from webextensions API) opens glance window instead of new tab. | https://github.com/zen-browser/desktop/issues/10439 | 1:36:27 | None |
| Side bar expands when you remove pinned extension. | https://github.com/zen-browser/desktop/issues/10438 | 1 day, 2:34:08 | None |
| Compact mode X Bookmarks on Zen startup / Closing all pages | https://github.com/zen-browser/desktop/issues/10436 | 0:10:16 | None |
| Zen using more resources while using adblocking dns then ublock. | https://github.com/zen-browser/desktop/issues/10435 | 4:22:57 | 2 days, 3:07:53 |
| WebRender crashes and switches to Software rendering | https://github.com/zen-browser/desktop/issues/10432 | 5:25:30 | None |
| When there are 2 rows of essentials, essentials can only be moved up, not down | https://github.com/zen-browser/desktop/issues/10428 | 1:54:32 | 8 days, 4:33:00 |
| moz-extension page doesnt load for distill web monitor | https://github.com/zen-browser/desktop/issues/10427 | None | None |
| Sidebar incorrectly overlapping with address bar | https://github.com/zen-browser/desktop/issues/10426 | None | None |
| Unexpected window pops when aborting bitwarden validation | https://github.com/zen-browser/desktop/issues/10419 | 0:47:28 | 1:04:53 |
| Redundant `margin-left` on `#sidebar-box` when zen tabs are on the right | https://github.com/zen-browser/desktop/issues/10415 | None | 5:41:18 |
| Toolbar cannot be automatically hidden in the compact mode | https://github.com/zen-browser/desktop/issues/10414 | 6:26:39 | None |
| Closing and then reopening the last tab that's part of a split screen (3+ split screen tabs) breaks the split screen | https://github.com/zen-browser/desktop/issues/10413 | None | 14:22:44 |
| Opening links from external apps creates a new window but doesn’t redirect to the target URL | https://github.com/zen-browser/desktop/issues/10409 | None | None |
| No Youtube Live Chat | https://github.com/zen-browser/desktop/issues/10408 | 0:14:57 | None |
| Pinned tab is not focused when closing child tab; focus snaps to last pin instead of owner | https://github.com/zen-browser/desktop/issues/10407 | 1:28:19 | 1:28:19 |
| Huge CPU usage and RAM comsumption when idle | https://github.com/zen-browser/desktop/issues/10406 | 3:24:27 | None |
| Browsing history reset itself unexpectedly | https://github.com/zen-browser/desktop/issues/10403 | None | None |
| Opening new background tab(Middle mouse click) from within folder opens new tab outside folder | https://github.com/zen-browser/desktop/issues/10399 | 4:44:58 | 7:04:02 |
| Icons for webpages in the Essentials tab don't load on startup. | https://github.com/zen-browser/desktop/issues/10398 | None | 0:03:42 |
| Can't sign in to any Google services, says cookies are disabled | https://github.com/zen-browser/desktop/issues/10397 | 1:28:00 | 1 day, 6:18:57 |
| Zen crashes on Fedora Linux | https://github.com/zen-browser/desktop/issues/10395 | 0:53:47 | 1 day, 7:05:12 |
| Audio bugs on Google Meet | https://github.com/zen-browser/desktop/issues/10394 | 15:13:01 | None |
| Pinned split screen tabs still not preserved when opening a new window (issue #8583 remains unresolved) | https://github.com/zen-browser/desktop/issues/10388 | None | None |
| A cursor appears when I click on the screen | https://github.com/zen-browser/desktop/issues/10387 | 1:39:24 | 4:27:59 |
| Custom set images that you upload yourself for Firefox Home new tab wallpapers have been broken for a while. | https://github.com/zen-browser/desktop/issues/10384 | 15:32:44 | 3 days, 14:22:59 |
| Scrolling lag when looking at preview (glance) of a webpage when using mouse input | https://github.com/zen-browser/desktop/issues/10382 | None | 3:43:58 |
| Apple's accout verification Not Working | https://github.com/zen-browser/desktop/issues/10381 | None | 1 day, 22:20:39 |
| Find bar doesn't go away | https://github.com/zen-browser/desktop/issues/10380 | 4:16:03 | 4:16:08 |
| Cookies, data, history, and all tabs close and are deleted on every browser restart, despite turning off the settings to do so. | https://github.com/zen-browser/desktop/issues/10377 | None | None |
| Windows Navigation Icons not Showing Up on Zen | https://github.com/zen-browser/desktop/issues/10374 | None | None |
| 无法打开部分网站，显示安全问题或超时 | https://github.com/zen-browser/desktop/issues/10372 | 0:12:19 | 0:12:19 |
| Merci App extension not working - Login not working | https://github.com/zen-browser/desktop/issues/10370 | 3:56:26 | 6:10:52 |
| Compact mode tabs overlay stays fixed on top of bookmarks bar | https://github.com/zen-browser/desktop/issues/10369 | None | 4:13:01 |
| Browsing history reset itself unexpectedly | https://github.com/zen-browser/desktop/issues/10367 | 9:50:29 | 2 days, 10:39:26 |
| Choppy animation while hovering on top bar area in single toolbar compact mode with google doc file open | https://github.com/zen-browser/desktop/issues/10366 | 0:45:17 | None |
| Logged me out of everything after Restart | https://github.com/zen-browser/desktop/issues/10365 | 0:06:34 | None |
| Discord fails at uploading and playing media | https://github.com/zen-browser/desktop/issues/10364 | 1:35:04 | 17:56:18 |
| Pinned tabs inconsisntely dissapear and reappear in the sidebar | https://github.com/zen-browser/desktop/issues/10363 | 2:23:29 | None |
| 1Password no longer allowing touch ID on latest release | https://github.com/zen-browser/desktop/issues/10362 | 2:03:43 | 21:35:42 |
| [Linux: Flatpak] Can't open certain local-network URLs | https://github.com/zen-browser/desktop/issues/10360 | 4 days, 15:35:37 | None |
| Discord WebApp Issue with Audio | https://github.com/zen-browser/desktop/issues/10358 | None | 5:03:34 |
| Apple Security Blocked | https://github.com/zen-browser/desktop/issues/10354 | None | None |
| Always Blank Screen - although It's working and loading Pages | https://github.com/zen-browser/desktop/issues/10353 | 0:21:31 | 8 days, 17:02:49 |
| Tabs are lost then a workspace deletion is synced | https://github.com/zen-browser/desktop/issues/10345 | None | None |
| Fix | https://github.com/zen-browser/desktop/issues/10344 | 8:18:05 | 1 day, 9:23:10 |
| 1px white border on the top of the window which wasnt there before | https://github.com/zen-browser/desktop/issues/10342 | 2 days, 0:57:48 | None |
| zen browser isn't closing correctly | https://github.com/zen-browser/desktop/issues/10337 | 8:28:03 | 17:42:22 |
| Fix Multiple Tabs/Containers in Split View in Sidebar | https://github.com/zen-browser/desktop/issues/10335 | None | None |
| Fresh install: "Essentials" are grayed out for some sites | https://github.com/zen-browser/desktop/issues/10333 | 0:17:20 | 2:38:34 |
| Unticking 'Open Previous Tabs on Startup' messes with pinened folders | https://github.com/zen-browser/desktop/issues/10331 | None | None |
| Can't open Connection secure (certificate) 'page' anymore | https://github.com/zen-browser/desktop/issues/10330 | 1:25:14 | 4:54:22 |
| Some favicons of pins / essentials disappear when restarting without `Open previous windows and tabs` | https://github.com/zen-browser/desktop/issues/10329 | 3:12:08 | None |
| X Spaces breaks when Mic is requested | https://github.com/zen-browser/desktop/issues/10328 | 12 days, 16:06:32 | None |
| Tabs on Right , have Weird White Container that come out of nowhere | https://github.com/zen-browser/desktop/issues/10327 | None | 0:50:40 |
| Multiacccount containers + Mozilla sync deletes all custom containers | https://github.com/zen-browser/desktop/issues/10324 | None | None |
| Cannot open Links from Thunderbird emails in Zen browser | https://github.com/zen-browser/desktop/issues/10323 | 2 days, 7:50:34 | None |
| As long as the Baidu search engine exists in the search engine, the Baidu search engine in the quick search interface is at the top, regardless of whether it is checked or not. | https://github.com/zen-browser/desktop/issues/10322 | 1 day, 0:23:30 | None |
| Your tab just crashed | https://github.com/zen-browser/desktop/issues/10321 | None | None |
| Can not import bookmarks from FF | https://github.com/zen-browser/desktop/issues/10320 | None | None |
| Separate accounts across workspaces; should workspaces have different cookies and site data? | https://github.com/zen-browser/desktop/issues/10319 | 0:20:35 | None |
| folder names are a different font size | https://github.com/zen-browser/desktop/issues/10318 | 2:06:09 | 3 days, 16:05:52 |
| zen.view.experimental-no-window-controls stopped working | https://github.com/zen-browser/desktop/issues/10317 | 7:18:21 | 13:06:50 |
| Images get corrupted when uploading on Zen Browser (Flatpak + AUR, Linux + Wayland + NVIDIA) | https://github.com/zen-browser/desktop/issues/10316 | None | 4:13:56 |
| Popout Tab extensions not working | https://github.com/zen-browser/desktop/issues/10315 | None | None |
| Zen Browser freezing after waking from suspend | https://github.com/zen-browser/desktop/issues/10314 | 1 day, 7:54:39 | None |
| compact mode not working | https://github.com/zen-browser/desktop/issues/10313 | 3:21:50 | 12:27:20 |
| libnotify not used in Flatpak | https://github.com/zen-browser/desktop/issues/10310 | 19:30:48 | 19:30:48 |
| Essentials Tab order reset everytime I restart Zen Browser | https://github.com/zen-browser/desktop/issues/10309 | 1:24:30 | None |
| [ux]first keydown on fill bar is plain focus, enforce type wwhat to typeout what. on chatgpt.com | https://github.com/zen-browser/desktop/issues/10308 | 4:52:52 | 4:52:52 |
| Copying URL using shortcut when in reader mode does not work as expected | https://github.com/zen-browser/desktop/issues/10303 | 0:04:42 | None |
| Reopening Closed Tabs (Ctrl+Shift+T) Duplicates Essentials/Pinned, Causing Loss on Next Session If The Dupes Were Closed | https://github.com/zen-browser/desktop/issues/10302 | 4 days, 23:41:33 | None |
| Tabs within Folders in Workspaces switch back to the default workspace | https://github.com/zen-browser/desktop/issues/10299 | None | None |
| Can't clear the cookies and site data due to a UI bug | https://github.com/zen-browser/desktop/issues/10298 | 6:00:32 | 6:00:32 |
| Cannot move pinned tab to the top of normal tabs | https://github.com/zen-browser/desktop/issues/10295 | None | None |
| Mouse cursor position can have an undesirable effect on the tab switcher | https://github.com/zen-browser/desktop/issues/10292 | 2:12:31 | 2:29:10 |
| Essential tabs and Pinned tabs (including the ones inside a folder) do not load on startup | https://github.com/zen-browser/desktop/issues/10291 | 2:47:15 | None |
| Browser doesn't launch after update | https://github.com/zen-browser/desktop/issues/10290 | 4:30:50 | None |
| Double-click on sidebar no longer opens a new tab after recent Zen update | https://github.com/zen-browser/desktop/issues/10289 | 12:03:10 | 12:03:10 |
| ArchLinux AUR: Quellen für ‚zen-browser-bin-1.15.4b-1‘ konnten nicht heruntergeladen werden | https://github.com/zen-browser/desktop/issues/10288 | 2:39:09 | 2:39:09 |
| Ctrl+Shift+T after reopening Zen mixes tabs from multiple workspaces | https://github.com/zen-browser/desktop/issues/10286 | None | 4 days, 6:16:17 |
| Keyboard Input Delay While Typing on Monaco Editors | https://github.com/zen-browser/desktop/issues/10285 | 1 day, 6:25:04 | None |
| the top close maximize minimize are shwoing up and not going according to the theme and its just very bugged | https://github.com/zen-browser/desktop/issues/10284 | 5:13:41 | 6:27:09 |
| New Tab opens in new window. | https://github.com/zen-browser/desktop/issues/10283 | 0:29:33 | None |
| Can only open in safe mode. 1.15.5b | https://github.com/zen-browser/desktop/issues/10282 | 2:10:07 | 3:33:03 |
| Copy to Cliboard button in the url bar not working | https://github.com/zen-browser/desktop/issues/10281 | 2 days, 6:09:05 | 20 days, 2:34:28 |
| After the 1.15.4b update, the automatic hiding of the top and tab is not working | https://github.com/zen-browser/desktop/issues/10280 | 4:35:52 | 16:55:08 |
| Cannot move window when holding down left mouse button on sidebar | https://github.com/zen-browser/desktop/issues/10278 | 3 days, 19:54:46 | 3 days, 21:15:09 |
| Sidebar always visible in compact mode after right-clicking container icon when opening a new tab | https://github.com/zen-browser/desktop/issues/10276 | 1:53:46 | None |
| zen cannot play youtube livestreams | https://github.com/zen-browser/desktop/issues/10274 | 5:07:19 | None |
| Compact sidebar pops up when opening menus in menubar | https://github.com/zen-browser/desktop/issues/10273 | None | None |
| Newest Update — weird Bookmarks behavior | https://github.com/zen-browser/desktop/issues/10272 | None | 0:34:25 |
| Double-clicking no longer opens a new tab. | https://github.com/zen-browser/desktop/issues/10270 | 1:23:48 | 2:13:30 |
| Theme is inconsistent with and without focus | https://github.com/zen-browser/desktop/issues/10268 | None | None |
| Tabs inside folder goes invisible when closing folder | https://github.com/zen-browser/desktop/issues/10267 | 10:34:08 | 11:05:06 |
| Essentials/Pinned tabs are removed with middle click | https://github.com/zen-browser/desktop/issues/10266 | 2:33:21 | 11:29:40 |
| Creating split window by dragging pinned Essentials icon removes the Essential icon | https://github.com/zen-browser/desktop/issues/10264 | None | None |
| Macos: extention pop-ups open up at a different desktop in fullscreen | https://github.com/zen-browser/desktop/issues/10260 | None | None |
| Split tabs can't be moved to new workspace | https://github.com/zen-browser/desktop/issues/10256 | None | 11:32:53 |
| Google account not shared between spaces — must re-add to sign in to Figma | https://github.com/zen-browser/desktop/issues/10255 | 8:43:21 | None |
| Split tabs context menu does not show when selecting already split tabs | https://github.com/zen-browser/desktop/issues/10254 | 1 day, 8:31:56 | None |
| Netflix Error F7121-1331 | https://github.com/zen-browser/desktop/issues/10251 | 2:31:38 | 0:02:34 |
| Gradient themes get cut off if using vertical taskbar on W10 | https://github.com/zen-browser/desktop/issues/10250 | 20 days, 21:52:53 | None |
| White/Transparent search bar and bookmarks | https://github.com/zen-browser/desktop/issues/10247 | 11:15:56 | 1 day, 14:35:40 |
| Pin tabs duplication | https://github.com/zen-browser/desktop/issues/10246 | 13:43:00 | 13:43:00 |
| Zen window transparency only works when window is maximized | https://github.com/zen-browser/desktop/issues/10243 | None | None |
| Cursor rapid flickering on random places within the browser window when graphic tablet is used | https://github.com/zen-browser/desktop/issues/10242 | 21:55:18 | 21:57:24 |
| MIssing last second(s) in certain audios | https://github.com/zen-browser/desktop/issues/10240 | None | None |
| Issue with Transparency Effect in background in Zen Browser | https://github.com/zen-browser/desktop/issues/10239 | 3:36:39 | 18 days, 3:00:45 |
| Zen icon does not load even apon restart. | https://github.com/zen-browser/desktop/issues/10238 | 1 day, 7:03:03 | 1 day, 7:03:03 |
| Discord login page does not load | https://github.com/zen-browser/desktop/issues/10234 | None | None |
| Native window title doesn't show Page title(document.title) when tab is pinned and renamed, shows only profile name and app name | https://github.com/zen-browser/desktop/issues/10232 | None | None |
| Enabling "Always use private browsing mode" results in totally black UI | https://github.com/zen-browser/desktop/issues/10231 | None | None |
| After newest Update there is now a ugly white Border around the Hidden Compact Sidebar | https://github.com/zen-browser/desktop/issues/10230 | 1 day, 13:55:29 | 2 days, 20:51:00 |
| File manager not opening in Arch linux | https://github.com/zen-browser/desktop/issues/10226 | 0:12:51 | None |
| Default color back to orange | https://github.com/zen-browser/desktop/issues/10225 | 0:07:41 | 3:10:01 |
| NAVEGADOR CONSUMINDO 12 GIGAS? CARALHOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO | https://github.com/zen-browser/desktop/issues/10224 | None | 0:24:57 |
| gemini style bug | https://github.com/zen-browser/desktop/issues/10222 | 1:32:02 | 1:04:01 |
| Zen Browser opens on the last used virtual desktop instead of the current one | https://github.com/zen-browser/desktop/issues/10221 | 2:07:09 | None |
| Tabs having weird behaviour when moving them form one window to the other | https://github.com/zen-browser/desktop/issues/10220 | None | None |
| Web pages in the workspace cannot be synced | https://github.com/zen-browser/desktop/issues/10219 | 5 days, 0:56:10 | 5 days, 6:23:07 |
| Swipe workspaces gesture freezes on "Mute Tab" icon hover | https://github.com/zen-browser/desktop/issues/10217 | None | None |
| Sub-folders of Tabs, Dump Tabs when moved in a Folder List | https://github.com/zen-browser/desktop/issues/10216 | 2 days, 13:52:56 | 4 days, 22:25:16 |
| Labels rendering bug | https://github.com/zen-browser/desktop/issues/10215 | 11:10:14 | 3 days, 22:48:16 |
| Browser doesn't allow completion of TOTP number on Paypal site | https://github.com/zen-browser/desktop/issues/10214 | None | None |
| Unable to use Option+Cmd+ArrowLeft or Option+Cmd+ArrowRight to change spaces. | https://github.com/zen-browser/desktop/issues/10211 | 14:39:09 | 15:34:26 |
| The Workspace Icon can't be hided anymore | https://github.com/zen-browser/desktop/issues/10209 | 1:41:32 | 1:41:32 |
| Tabs move into Folders | https://github.com/zen-browser/desktop/issues/10208 | 0:24:03 | 7:25:32 |
| Native select low contrast theme | https://github.com/zen-browser/desktop/issues/10207 | None | None |
| Trackpad zooming on PDF no longer working | https://github.com/zen-browser/desktop/issues/10205 | None | None |
| Can’t add tab to Essentials | https://github.com/zen-browser/desktop/issues/10204 | 1:15:16 | 8:15:36 |
| Zen browser can't go through system proxies on Linux | https://github.com/zen-browser/desktop/issues/10203 | None | None |
| The Browser's adressbar is not visible because it blends into the current viewed page. | https://github.com/zen-browser/desktop/issues/10202 | 0:13:50 | 2 days, 23:44:36 |
| Wrong favicon instead of cached icons bug is back | https://github.com/zen-browser/desktop/issues/10199 | 1 day, 6:59:45 | 2 days, 21:44:37 |
| iCloud not working | https://github.com/zen-browser/desktop/issues/10192 | 6:18:44 | 11:56:51 |
| Truncated folder name in the search inside folders feature | https://github.com/zen-browser/desktop/issues/10189 | 2:31:02 | None |
| Missing translations in the search inside folders feature | https://github.com/zen-browser/desktop/issues/10188 | 2:16:01 | 2:16:01 |
| New "floadting" tab bar window covers bookmark bar | https://github.com/zen-browser/desktop/issues/10186 | 6:07:17 | 16:21:43 |
| Revert 1.15.3b!!!! | https://github.com/zen-browser/desktop/issues/10185 | 1:12:24 | 1:03:18 |
| "New Tab Below" menu item when right clicking on a tab no longer shows after upgrading from 1.14.11b | https://github.com/zen-browser/desktop/issues/10184 | None | 2:40:19 |
| Multiple bugs with new folder Feature | https://github.com/zen-browser/desktop/issues/10182 | 1:37:43 | None |
| New window bug - unpinned tabs disappear, folders expand | https://github.com/zen-browser/desktop/issues/10180 | 2:22:55 | 2:22:55 |
| Essentials not syncing across all spaces in same container | https://github.com/zen-browser/desktop/issues/10179 | 3:37:37 | 24 days, 5:11:42 |
| Macos Universal download installer | https://github.com/zen-browser/desktop/issues/10175 | 7:10:27 | 7:10:27 |

_This report was generated with the [Issue Metrics Action](https://github.com/github/issue-metrics)_
Search query used to find these items: `repo:zen-browser/desktop is:issue created:2025-09-01..2025-09-30`



================================================
FILE: docs/issue-metrics/2025_2025-10-01..2025-10-31.md
================================================
# Issue Metrics

| Metric | Average | Median | 90th percentile |
| --- | --- | --- | ---: |
| Time to first response | 15:19:48 | 2:42:07 | 1 day, 0:05:54 |
| Time to close | 22:10:13 | 4:42:08 | 2 days, 0:56:21 |

| Metric | Count |
| --- | ---: |
| Number of items that remain open | 108 |
| Number of items closed | 150 |
| Total number of items created | 258 |

| Title | URL | Time to first response | Time to close |
| --- | --- | --- | --- |
| The right click menu goes beyond the app border sometimes on arch hyprland | https://github.com/zen-browser/desktop/issues/11103 | None | None |
| Zen glance doesn't respect --margin-top-fix | https://github.com/zen-browser/desktop/issues/11098 | None | None |
| Security info button missing in url bar | https://github.com/zen-browser/desktop/issues/11093 | None | None |
| OS dark mode not detected by browser | https://github.com/zen-browser/desktop/issues/11092 | None | None |
| Zen menu is somehow showing on the "wrong" side of the app | https://github.com/zen-browser/desktop/issues/11091 | None | None |
| Volume is very low in YouTube videos. | https://github.com/zen-browser/desktop/issues/11089 | None | None |
| Opening Sidebar by Dragging URL in Compact Mode May Prevent Sidebar from Hiding | https://github.com/zen-browser/desktop/issues/11088 | None | None |
| Collapsed sidebar tab icons are misaligned when tabs are overflown | https://github.com/zen-browser/desktop/issues/11087 | 2:13:10 | None |
| Screensharing Teams over Zen instantly caused the system to hard crash | https://github.com/zen-browser/desktop/issues/11086 | None | None |
| Can't use KeePassXC-Browser in Zen (Flatpak) with KeePassXC (not FlatPak) | https://github.com/zen-browser/desktop/issues/11084 | None | None |
| PiP video reproduction makes the tab crash after a while | https://github.com/zen-browser/desktop/issues/11083 | None | None |
| Elements above the essentials tabs are in the toolbar instead of the sidebar in compact mode | https://github.com/zen-browser/desktop/issues/11082 | 1:11:28 | None |
| Select Tag missing background makes content not visible | https://github.com/zen-browser/desktop/issues/11081 | 15:01:49 | 19:55:32 |
| Hovering bookmarks toolbar causes vertical wiggle of website | https://github.com/zen-browser/desktop/issues/11080 | 0:32:11 | None |
| Custom Wallpaper on new tab does not loads in any Container | https://github.com/zen-browser/desktop/issues/11079 | 4:25:50 | 4:25:50 |
| Unable to activate the option to clear the history without the Zen interface being down. | https://github.com/zen-browser/desktop/issues/11078 | None | None |
| Zen sometimes hangs when a context menu or overlay is triggered | https://github.com/zen-browser/desktop/issues/11077 | None | None |
| Theme Editor fails to render the colour picker | https://github.com/zen-browser/desktop/issues/11076 | 1:55:40 | 19:38:53 |
| Tabs lost when closing main window before Library window | https://github.com/zen-browser/desktop/issues/11073 | None | None |
| The topbar doesn't hide in compact when the browser is closed and opening a link from outside | https://github.com/zen-browser/desktop/issues/11070 | None | None |
| Essentials tabs are no longer colored to icon accent (zen.theme.essentials-favicon-bg) | https://github.com/zen-browser/desktop/issues/11069 | None | None |
| Browser Gets Stuck in workspace. and upon restart deletes all current tabs & history. | https://github.com/zen-browser/desktop/issues/11068 | None | None |
| Unloaded tabs logos aren't dimmed | https://github.com/zen-browser/desktop/issues/11065 | None | None |
| url bar disappearing and stuttering after last update | https://github.com/zen-browser/desktop/issues/11063 | 1:01:34 | 5:21:04 |
| Unable to install any mods from the store / mods do not work anymore | https://github.com/zen-browser/desktop/issues/11062 | None | None |
| Page missing space without compact mode | https://github.com/zen-browser/desktop/issues/11060 | None | None |
| Unable to drop new tabs when using auto-hide menu | https://github.com/zen-browser/desktop/issues/11059 | None | 0:23:34 |
| Window top bar overlaps contents when expanded on hover | https://github.com/zen-browser/desktop/issues/11056 | 2:37:18 | 4:47:35 |
| SAVED WEBSITES NOT SHOWING FAVICONS ON STARTUP | https://github.com/zen-browser/desktop/issues/11050 | 5:08:35 | 6:19:52 |
| On single toolbar mode shortcut "toggle sidebar's width" doesnt change zen.view.use-single-toolbar, causing you to never be able to not hide sidebar in compact mode | https://github.com/zen-browser/desktop/issues/11049 | None | 2:09:48 |
| After every Zen Browser update, the browser automatically redirects all HTTP requests to HTTPS | https://github.com/zen-browser/desktop/issues/11048 | 1 day, 3:16:04 | None |
| Sidebar keeps moving when dragging a link to the sidebar in compact mode | https://github.com/zen-browser/desktop/issues/11045 | 1:26:22 | 1:26:22 |
| Browser auto force quits when sharing screen on Google meet | https://github.com/zen-browser/desktop/issues/11044 | 1 day, 0:37:45 | None |
| bookmark icon missing from address bar. Extenision cannot be pinned to toolbar | https://github.com/zen-browser/desktop/issues/11043 | 0:08:08 | 18:47:26 |
| Folder bug because of browser.tabs.groups.enabled was set to true when the first update about folders came out. | https://github.com/zen-browser/desktop/issues/11042 | 6:09:21 | 6:09:21 |
| Very confusing behaviour: Zen changes some keyboards keys | https://github.com/zen-browser/desktop/issues/11039 | None | None |
| Floating URL bar is off-center in Compact Mode | https://github.com/zen-browser/desktop/issues/11036 | 5:43:02 | 9:06:12 |
| severe lag when Compact Tabs mode is enabled | https://github.com/zen-browser/desktop/issues/11035 | None | None |
| Pinned/Essentials tabs are not individual for each window on restart | https://github.com/zen-browser/desktop/issues/11034 | 20:23:59 | None |
| Issue with toolbar after the update | https://github.com/zen-browser/desktop/issues/11033 | 0:30:05 | 0:30:05 |
| Url bar sometimes overlaps page | https://github.com/zen-browser/desktop/issues/11032 | 0:40:02 | None |
| Sluggish Scrolling With Winodws 11 Dynamic Refresh Rate | https://github.com/zen-browser/desktop/issues/11030 | 0:36:58 | 2:14:02 |
| [Bug] Picture-in-Picture (PiP) icon disappears from the URL bar | https://github.com/zen-browser/desktop/issues/11029 | 2:02:15 | 2 days, 1:05:37 |
| Splitter barely visible when Split View + Compact Mode are active | https://github.com/zen-browser/desktop/issues/11027 | 0:11:40 | None |
| The new unified panel has significantly affected the dragging link behavior (For example, drag and drop to save bookmarks）. | https://github.com/zen-browser/desktop/issues/11026 | None | None |
| Nextcloud passwords plugin fails to keep connection to nextcloud | https://github.com/zen-browser/desktop/issues/11025 | None | None |
| Extension symbol in toolbar | https://github.com/zen-browser/desktop/issues/11024 | 1:04:53 | None |
| bookmark is bugged | https://github.com/zen-browser/desktop/issues/11023 | None | 2:09:24 |
| Essential tab background color not adapting to icon color | https://github.com/zen-browser/desktop/issues/11022 | None | None |
| Extensions button is missing if Removed from toolbar | https://github.com/zen-browser/desktop/issues/11021 | 0:12:48 | 0:12:48 |
| Zen icon not appearing in sidebar in "only sidebar" mode in macOS | https://github.com/zen-browser/desktop/issues/11020 | 1:19:03 | None |
| White background websites render as transparent | https://github.com/zen-browser/desktop/issues/11019 | 2:00:20 | 5 days, 10:00:50 |
| Extensions menu (and its "jigsaw" button) need to be an option | https://github.com/zen-browser/desktop/issues/11013 | 1:10:36 | 1:10:36 |
| sign in with google failing | https://github.com/zen-browser/desktop/issues/11010 | 0:15:42 | None |
| Stuttering when playing 4K videos on Bilibili | https://github.com/zen-browser/desktop/issues/11007 | 0:27:17 | 1 day, 17:54:57 |
| Cannot access extension icons on sites that have DRM content in version 1.17.2b | https://github.com/zen-browser/desktop/issues/11004 | 1:05:25 | None |
| URL bar in a wrong place | https://github.com/zen-browser/desktop/issues/11002 | 1:34:49 | 1:34:49 |
| Zen slow on Linux after v1.17b | https://github.com/zen-browser/desktop/issues/11001 | None | 20:41:15 |
| Extension flagged by Mozilla as risky display broken | https://github.com/zen-browser/desktop/issues/11000 | 1:46:25 | 1:46:25 |
| Title bar of zen browser | https://github.com/zen-browser/desktop/issues/10998 | 0:46:49 | 0:47:07 |
| Glance buttons not appearing on the left side | https://github.com/zen-browser/desktop/issues/10997 | 1:06:43 | 1:06:43 |
| Compact Mode Sidebar Obfuscats Favorites (Top) in New Window | https://github.com/zen-browser/desktop/issues/10994 | None | 0:10:54 |
| Video issues (constant stuttering) On Flatpack version of Zen browser | https://github.com/zen-browser/desktop/issues/10993 | 0:10:08 | 2 days, 8:24:55 |
| Update to 1.17.2b wiped the session data | https://github.com/zen-browser/desktop/issues/10992 | 2:11:53 | None |
| Zen freezes when an image is copied on Linux | https://github.com/zen-browser/desktop/issues/10991 | 4:55:17 | None |
| Toolbar items becomes overflow menu | https://github.com/zen-browser/desktop/issues/10990 | 6:38:06 | 8:17:57 |
| Compact mode double toolbar slide over webview not appearing correctly | https://github.com/zen-browser/desktop/issues/10987 | 0:23:29 | 10:55:15 |
| Middle clicking on a pinned tab no longer removes it | https://github.com/zen-browser/desktop/issues/10984 | 2:11:56 | 2:11:56 |
| Page Reload icon | https://github.com/zen-browser/desktop/issues/10983 | 2:35:26 | 2:35:26 |
| v1.17 broke CamelCamelCamel extension | https://github.com/zen-browser/desktop/issues/10982 | 2:42:07 | 2:42:07 |
| Closing last tab individually prevents restoring window/session | https://github.com/zen-browser/desktop/issues/10981 | None | None |
| Cannot drag image to the left panel when in compact mode | https://github.com/zen-browser/desktop/issues/10979 | 0:30:59 | 6:10:19 |
| Suddenly my tabs deleted | https://github.com/zen-browser/desktop/issues/10978 | None | None |
| Release Notes tab always opens at the top of the tabs' list | https://github.com/zen-browser/desktop/issues/10976 | 0:01:36 | None |
| I cannot use the "hide toolbar" option on compact mode | https://github.com/zen-browser/desktop/issues/10975 | None | 0:12:57 |
| Mouse events not firing correctly for items under control buttons when the bar is hidden | https://github.com/zen-browser/desktop/issues/10973 | 0:36:05 | 1 day, 9:12:42 |
| Container tab name removed from URL bar | https://github.com/zen-browser/desktop/issues/10972 | 0:16:56 | 1:13:15 |
| Extensions (Puzzle Piece) Icon Missing After Update | https://github.com/zen-browser/desktop/issues/10971 | 0:12:24 | 0:28:02 |
| Top toolbar in multi-toolbar mode is shown when it shouldn’t | https://github.com/zen-browser/desktop/issues/10970 | None | 2:08:34 |
| Middle clicking on pending tab no longer closes it | https://github.com/zen-browser/desktop/issues/10969 | None | 0:01:44 |
| Reload button is hidden under menu when it is the only item in the menu | https://github.com/zen-browser/desktop/issues/10968 | None | 0:44:47 |
| Compact Mode sidebar is on the bottom of the screen rather than being in the middle. | https://github.com/zen-browser/desktop/issues/10965 | None | 0:08:13 |
| Youtube video player cropped in fullscreen | https://github.com/zen-browser/desktop/issues/10964 | None | 0:02:31 |
| New Site Control Center renders add-on warnings vertically on top of the rest of the UI | https://github.com/zen-browser/desktop/issues/10963 | None | 0:02:07 |
| Media keys (Previous, Pause, Next) don't work | https://github.com/zen-browser/desktop/issues/10962 | 0:01:20 | 6:30:56 |
| [UI] Container IDs removed from URL bar | https://github.com/zen-browser/desktop/issues/10961 | 0:09:33 | 0:12:33 |
| History | https://github.com/zen-browser/desktop/issues/10960 | 0:22:22 | 0:58:14 |
| The toolbar remains visible after following specific steps in compact mode | https://github.com/zen-browser/desktop/issues/10959 | 2:31:24 | None |
| New extensions' interface in address bar still broken for some extensions | https://github.com/zen-browser/desktop/issues/10958 | None | 8:26:44 |
| Copy current URL pop up doesn't disappear | https://github.com/zen-browser/desktop/issues/10956 | 8:56:54 | 10:51:44 |
| The icon for "Enable compact mode" is a duplicate in the sidebar. | https://github.com/zen-browser/desktop/issues/10955 | 10:48:59 | None |
| Wrong style on 4 buttons | https://github.com/zen-browser/desktop/issues/10954 | 0:27:06 | 0:27:06 |
| Poor formatting in extensions control panel | https://github.com/zen-browser/desktop/issues/10953 | 0:32:14 | 0:32:14 |
| New top border line at top of browser application window | https://github.com/zen-browser/desktop/issues/10952 | None | 0:58:56 |
| "Hide Top bar" compact mode is greyed out / impossible to select | https://github.com/zen-browser/desktop/issues/10951 | 0:07:47 | 14:26:57 |
| Cannot hide "forward" button from toolbar | https://github.com/zen-browser/desktop/issues/10949 | 0:28:05 | 0:28:05 |
| Top toolbar now covers up top of webpages | https://github.com/zen-browser/desktop/issues/10948 | 0:34:17 | 14:55:39 |
| Missing the Extensions "Jigsaw" icon next to the URL bar. | https://github.com/zen-browser/desktop/issues/10947 | 0:45:52 | 4:36:42 |
| Can't place Home button to left upper corner | https://github.com/zen-browser/desktop/issues/10946 | None | None |
| All tabs close and disappear when you open a private window | https://github.com/zen-browser/desktop/issues/10945 | None | 1:03:19 |
| Youtube Controls Only Partially Visible in Fullscreen Mode | https://github.com/zen-browser/desktop/issues/10944 | 1:21:37 | 1:21:37 |
| Sidebar Flickers/Flaps Rapidly When Dragging Text/URL to Window Edge in Compact Mode | https://github.com/zen-browser/desktop/issues/10942 | 2:43:13 | 6 days, 19:36:33 |
| Dragging tab out of window opens a new blank window instead of a new tabbed window | https://github.com/zen-browser/desktop/issues/10941 | 0:15:32 | 0:15:32 |
| Compact Mode "Hide toolbar" only works with tabs on right | https://github.com/zen-browser/desktop/issues/10940 | 0:25:59 | 0:25:58 |
| Floating URL bar not appearing on focus in compact mode | https://github.com/zen-browser/desktop/issues/10938 | 1:53:52 | None |
| Extension area layout breaks after switching between toolbar layouts | https://github.com/zen-browser/desktop/issues/10936 | 3:14:21 | 10:14:36 |
| No option to revert "new" extensions + site settings menu | https://github.com/zen-browser/desktop/issues/10935 | 3:14:19 | 3:14:19 |
| Search bar bug while compact mode on macos | https://github.com/zen-browser/desktop/issues/10934 | 1:01:13 | 1:17:41 |
| Tooltips missing for unified panel quick actions | https://github.com/zen-browser/desktop/issues/10933 | None | 4:13:23 |
| In collapsed sidebar mode you are no longer able to hide toolbar | https://github.com/zen-browser/desktop/issues/10932 | 1:51:58 | 3:53:59 |
| playerctl metadata shows firefox instead of zen browser | https://github.com/zen-browser/desktop/issues/10931 | 8:32:21 | None |
| Zen doesn't retrieve correct accent color from OS | https://github.com/zen-browser/desktop/issues/10930 | 4:19:46 | None |
| Compact Mode Issue on Windows | https://github.com/zen-browser/desktop/issues/10929 | 3:39:31 | 4:10:59 |
| Layout inconsistency between Look and Feel preview and the actual collapsed toolbar | https://github.com/zen-browser/desktop/issues/10928 | 0:30:59 | 5:17:10 |
| about:logo has wrong logo | https://github.com/zen-browser/desktop/issues/10926 | None | None |
| pinned split view tabs don't have "X" near them on hover | https://github.com/zen-browser/desktop/issues/10924 | None | 5:40:27 |
| New extention tab doesnt render right if one of the extentions violate mozilla policy | https://github.com/zen-browser/desktop/issues/10922 | None | 5:16:46 |
| Line above URL bar but not sidebar | https://github.com/zen-browser/desktop/issues/10921 | 5:57:13 | 5:57:13 |
| New menu for extensions, etc. overflows the window. | https://github.com/zen-browser/desktop/issues/10918 | 0:37:05 | 0:53:30 |
| [UI Bug?] Horizontal scrollbar appears in "Looks and Feel" settings on smaller window widths (e.g. 1280px) | https://github.com/zen-browser/desktop/issues/10915 | 3:43:21 | 1 day, 13:46:48 |
| 'New tab' button no longer at the top of unpinned tabs | https://github.com/zen-browser/desktop/issues/10914 | 3:19:00 | 11:13:57 |
| Top toolbar adopts Transparent Zen mod format in Compact Mode Double Toolbar | https://github.com/zen-browser/desktop/issues/10913 | 3:34:48 | 3:34:48 |
| Compact Mode formatting bugs when switching between Toolbar settings | https://github.com/zen-browser/desktop/issues/10912 | 3:58:57 | None |
| Compact Mode Collapsed Sidebar on hover endlessly expands | https://github.com/zen-browser/desktop/issues/10911 | None | 4:09:14 |
| Compact Mode Sidebar Only won't hide. | https://github.com/zen-browser/desktop/issues/10910 | 3:45:10 | None |
| Compact Mode Double Toolbar, Top Toolbar doesn't hide. | https://github.com/zen-browser/desktop/issues/10909 | None | 0:29:10 |
| Compact mode hide toolbar option Broken if 'Tabs on Right' | https://github.com/zen-browser/desktop/issues/10908 | 5:35:04 | 5:35:04 |
| New extensions' interface in address bar broken for some extensions | https://github.com/zen-browser/desktop/issues/10907 | 0:12:05 | 3 days, 15:02:25 |
| Missing tabs when closing and reopening Zen browser with multiple windows | https://github.com/zen-browser/desktop/issues/10906 | 0:09:30 | 0:09:30 |
| missing theme/accent settings (linux, flathub) (?) | https://github.com/zen-browser/desktop/issues/10905 | 1:06:10 | 1:06:10 |
| Battery consumption | https://github.com/zen-browser/desktop/issues/10903 | 0:29:10 | 0:29:10 |
| browser-init-js.patch error while building from zero on arch linux | https://github.com/zen-browser/desktop/issues/10902 | 3:53:18 | None |
| Addon popup window broken when no tabs opened | https://github.com/zen-browser/desktop/issues/10900 | None | 1:43:44 |
| Udemy Crash | https://github.com/zen-browser/desktop/issues/10898 | None | 0:04:29 |
| Text in sidebar becomes unreadable after switching system theme | https://github.com/zen-browser/desktop/issues/10893 | 12:10:14 | 12:11:00 |
| Extensions popup failing to render when zen is recently launched | https://github.com/zen-browser/desktop/issues/10892 | 0:06:10 | 0:33:28 |
| New tab URL popup doesn’t appear when opening a new tab using Ctrl+T while watching videos in fullscreen | https://github.com/zen-browser/desktop/issues/10891 | 9:44:27 | 15:42:30 |
| Zen Browser’s RAM usage on Arch Linux suddenly completely blew up after waking up from sleep (64GB of RAM + 32GB of Zram) | https://github.com/zen-browser/desktop/issues/10889 | 11:05:26 | 4 days, 0:26:42 |
| Holy GPU Usage (I have a 6750xt for reference {12GB VRAM} ) | https://github.com/zen-browser/desktop/issues/10888 | 13:36:41 | 5 days, 21:19:18 |
| Dragging tabs across multi-screens | https://github.com/zen-browser/desktop/issues/10875 | None | None |
| Sidbery Conflict in Zen Browser only | https://github.com/zen-browser/desktop/issues/10871 | None | 2 days, 5:59:58 |
| Bookmarks Bar Folders is incorrectly redundantly displayed | https://github.com/zen-browser/desktop/issues/10866 | 2 days, 17:12:01 | None |
| Source tarball should include zen locales | https://github.com/zen-browser/desktop/issues/10865 | None | 15:18:10 |
| Simplify extension login breaking | https://github.com/zen-browser/desktop/issues/10864 | 0:12:31 | 1:06:05 |
| Open site in container sites cannot be added to essentials | https://github.com/zen-browser/desktop/issues/10862 | 1:07:05 | None |
| 1password addon integration fails to show unlock window | https://github.com/zen-browser/desktop/issues/10859 | 0:39:20 | None |
| duplicated letters or conflict with Vietnamese keyboards | https://github.com/zen-browser/desktop/issues/10858 | 1:29:34 | 1:35:14 |
| Creating a space with multiple windows open freezes other windows | https://github.com/zen-browser/desktop/issues/10857 | 8:08:55 | None |
| Mozilla services miscredited in user menu | https://github.com/zen-browser/desktop/issues/10854 | None | 4 days, 2:52:29 |
| Website's icons not showing if not loaded | https://github.com/zen-browser/desktop/issues/10853 | 0:06:20 | 0:06:20 |
| Bookmarks Toolbar is completely blank (flatpak install) | https://github.com/zen-browser/desktop/issues/10852 | 0:58:24 | 2:24:04 |
| Closing a tab switches to a particular previously visited tab instead of the immediately previous | https://github.com/zen-browser/desktop/issues/10848 | None | None |
| A resize cursor appears. | https://github.com/zen-browser/desktop/issues/10846 | 10:28:06 | None |
| Bookmarks Toolbar can not "only show on new tab" | https://github.com/zen-browser/desktop/issues/10845 | 9:18:48 | None |
| Sound not working on browser | https://github.com/zen-browser/desktop/issues/10844 | 9:25:58 | None |
| Theme issue on the UI | https://github.com/zen-browser/desktop/issues/10835 | None | None |
| Zombie processes | https://github.com/zen-browser/desktop/issues/10834 | 0:22:17 | None |
| The URL bar flashes too often | https://github.com/zen-browser/desktop/issues/10832 | None | 0:04:01 |
| Fixed or anchored website in browser can't be removed | https://github.com/zen-browser/desktop/issues/10828 | 0:15:40 | 6:35:29 |
| The media controls at the bottom overlap important elements. | https://github.com/zen-browser/desktop/issues/10824 | 9:33:17 | 17:48:58 |
| [Twilight] Compact mode button causing top toolbar to not hide/to not appear when hovering | https://github.com/zen-browser/desktop/issues/10821 | None | 17:59:30 |
| the top bar is not functional as expexted. | https://github.com/zen-browser/desktop/issues/10820 | 0:22:50 | 14:40:32 |
| Browser Screen Goes Blank (Them color ) Randomly –No UI Visible, Audio Still play . | https://github.com/zen-browser/desktop/issues/10817 | None | None |
| Sidebar Gets Stuck After Interacting With an Exntension in Compact Mode | https://github.com/zen-browser/desktop/issues/10812 | 2:15:35 | 10:54:25 |
| website setting lost | https://github.com/zen-browser/desktop/issues/10811 | None | None |
| Scrolling cause GPU spikes | https://github.com/zen-browser/desktop/issues/10810 | 0:02:36 | 3:39:42 |
| No such native application org.gnome.chrome_gnome_shell | https://github.com/zen-browser/desktop/issues/10806 | 2:20:05 | None |
| keep crashing | https://github.com/zen-browser/desktop/issues/10804 | 1 day, 0:05:54 | None |
| Workspace-aware restore closed tab behavior for reopening tabs | https://github.com/zen-browser/desktop/issues/10803 | 1 day, 20:48:51 | 1 day, 20:48:51 |
| After activation "Zen will never remember history" all toolbars are black and the font color is also black | https://github.com/zen-browser/desktop/issues/10802 | 9:08:32 | None |
| Fullscreen mode doesn't hide toolbar and sidebar | https://github.com/zen-browser/desktop/issues/10800 | 7:38:33 | 7:38:33 |
| DOH: Zen loose connectivity when network changes | https://github.com/zen-browser/desktop/issues/10799 | None | None |
| Large Memory Leak Issue (zen.exe not properly exiting) | https://github.com/zen-browser/desktop/issues/10797 | 10:46:25 | 10:46:25 |
| Absolutely broken compact mode 1.17t | https://github.com/zen-browser/desktop/issues/10796 | 10:56:37 | 1 day, 11:24:34 |
| I am being randomly logged out of websites | https://github.com/zen-browser/desktop/issues/10792 | None | None |
| 1Password desktop app integration not working in Zen Browser | https://github.com/zen-browser/desktop/issues/10788 | 0:44:13 | 0:44:13 |
| [Bug] WebRender content becomes blurry at 5120x1440 with NVIDIA eGPU on Linux (X11) - Upstream Firefox has this issue too but not as badly | https://github.com/zen-browser/desktop/issues/10787 | None | None |
| Tab Icons not rendering for certain tabs | https://github.com/zen-browser/desktop/issues/10782 | 0:09:03 | 0:09:03 |
| Dragging sidebar moves the window | https://github.com/zen-browser/desktop/issues/10781 | 1:56:10 | 1:56:10 |
| blinking caret bug | https://github.com/zen-browser/desktop/issues/10780 | 3:09:48 | 3:09:48 |
| Freezing youtube videos when i change screens | https://github.com/zen-browser/desktop/issues/10779 | None | None |
| Browser Icons Not Showing on Toolbar or Favorites in KDE Plasma on Fedora Linux | https://github.com/zen-browser/desktop/issues/10778 | None | None |
| AUR version of Zen Browser glitches/pauses continuously | https://github.com/zen-browser/desktop/issues/10777 | 12:31:55 | None |
| When tab changes while sub-folder is closing, does not fold the tab opened | https://github.com/zen-browser/desktop/issues/10772 | 9:29:58 | 9:29:58 |
| Green artifacts appear on the scrollbar while scrolling some webpages | https://github.com/zen-browser/desktop/issues/10766 | 6:41:23 | None |
| no newtab wallpaper apart from Default Workspace with no set profile container. | https://github.com/zen-browser/desktop/issues/10764 | 1:01:42 | 5:12:31 |
| Zen is slow to update and restart on macOS | https://github.com/zen-browser/desktop/issues/10763 | None | None |
| Layout issue: Preventing window from closing, minimizing, or resizing | https://github.com/zen-browser/desktop/issues/10762 | None | 18 days, 0:27:20 |
| Url bar overflow when click fullscreen | https://github.com/zen-browser/desktop/issues/10760 | None | None |
| Updates Failing | https://github.com/zen-browser/desktop/issues/10759 | 1 day, 9:15:55 | 1 day, 10:06:37 |
| Youtube video playback noticeably dropping frames | https://github.com/zen-browser/desktop/issues/10756 | 7:33:59 | None |
| Some websites' background is missing, uses Zen's theme color instead | https://github.com/zen-browser/desktop/issues/10755 | None | 0:02:35 |
| Toolbar History icon nonfunctional | https://github.com/zen-browser/desktop/issues/10752 | 20:34:15 | None |
| Video and audio playback error after recent pacman update | https://github.com/zen-browser/desktop/issues/10751 | None | 3:41:57 |
| Twitch.tv Login Issue on Zen Browser | https://github.com/zen-browser/desktop/issues/10750 | 5:49:14 | 1 day, 1:42:41 |
| Missing translations | https://github.com/zen-browser/desktop/issues/10749 | 3:28:20 | None |
| Passbolt Password Manager doesn't work properly | https://github.com/zen-browser/desktop/issues/10748 | 12:48:48 | 12:48:48 |
| Update are broken on macos since 1.16.4b | https://github.com/zen-browser/desktop/issues/10746 | 2 days, 16:23:56 | None |
| Blank Context Menu | https://github.com/zen-browser/desktop/issues/10745 | 10:19:37 | 11:46:43 |
| Cant load beehiv login page | https://github.com/zen-browser/desktop/issues/10744 | 14:48:10 | 14:48:10 |
| Ctrl+Shift+T after deleting a folder breaks Zen | https://github.com/zen-browser/desktop/issues/10743 | None | None |
| Settings: Search -> Address bar with browsing history negates open tabs selection | https://github.com/zen-browser/desktop/issues/10741 | None | None |
| NGINX 404 of some sites | https://github.com/zen-browser/desktop/issues/10740 | 3:51:13 | 18:34:43 |
| no pop up edit bookmark pages after triggered with 1) shortcut and 2)   star icon after right click. setting "Sidebar only" of the 3 sidebar modes | https://github.com/zen-browser/desktop/issues/10738 | 4 days, 5:09:44 | 16 days, 22:20:24 |
| Sidebar resize issue when dragging the cursor beyond smallest size | https://github.com/zen-browser/desktop/issues/10737 | 1:03:24 | None |
| Can't access extensions menu from New Tab | https://github.com/zen-browser/desktop/issues/10733 | 1:46:53 | 2 days, 1:20:18 |
| Regular window tabs lost on closing if Incognito window is open | https://github.com/zen-browser/desktop/issues/10732 | 1:48:17 | 2:00:03 |
| Nested folders go back to root of workspace when opening Zen. | https://github.com/zen-browser/desktop/issues/10730 | 3:57:00 | None |
| Youtube videoplay laggy | https://github.com/zen-browser/desktop/issues/10729 | 6:03:54 | 2 days, 2:00:09 |
| Stay on page doesn't work in pinned/essential tabs | https://github.com/zen-browser/desktop/issues/10728 | None | None |
| Touch Keyboard Does Not Show | https://github.com/zen-browser/desktop/issues/10727 | 18 days, 12:51:30 | None |
| No page info in compact mode if clicked on URL | https://github.com/zen-browser/desktop/issues/10724 | None | 1:10:01 |
| Search Bar Problem | https://github.com/zen-browser/desktop/issues/10723 | 3:29:09 | 19:52:36 |
| Can't disable Hide Tab bar | https://github.com/zen-browser/desktop/issues/10722 | 0:12:09 | 2:23:39 |
| Compact Mode - Customize Toolbar - Sidebar cannot have Items | https://github.com/zen-browser/desktop/issues/10721 | 4:31:48 | 4:31:48 |
| [macOS] File upload dialog freezes Zen Browser for several seconds | https://github.com/zen-browser/desktop/issues/10719 | None | 1:29:55 |
| Mouse hover breaks Ctrl + Tab (tab switching) | https://github.com/zen-browser/desktop/issues/10715 | 4 days, 19:04:17 | 5 days, 4:09:28 |
| Spotify not working after updating to 1.16.3b | https://github.com/zen-browser/desktop/issues/10714 | 0:12:47 | 2:11:45 |
| Cursor dissapears in most online text editors | https://github.com/zen-browser/desktop/issues/10713 | 5:37:12 | None |
| Tabs dont close | https://github.com/zen-browser/desktop/issues/10710 | None | None |
| Address Bar opens on keypress right after starting zen | https://github.com/zen-browser/desktop/issues/10709 | None | None |
| Search bar wont fully disappear when trying to close it | https://github.com/zen-browser/desktop/issues/10708 | 9:51:49 | 9:51:49 |
| [Twilight] Tabs' area is reduced when enabling compact mode in collapsed toolbars layout | https://github.com/zen-browser/desktop/issues/10706 | 15:58:04 | 15:58:04 |
| Is not possible expand de tabs side bar | https://github.com/zen-browser/desktop/issues/10705 | 0:19:09 | 12:56:28 |
| Missing tab navigation keyboard shortcut | https://github.com/zen-browser/desktop/issues/10704 | 2:47:17 | 1 day, 1:48:51 |
| Switching workspace hotkey slow to repeat. | https://github.com/zen-browser/desktop/issues/10703 | 4:59:37 | None |
| DevTools warning: connected browser newer than Zen (unsupported setup message) | https://github.com/zen-browser/desktop/issues/10702 | None | 0:07:32 |
| - [Bug] High Memory & Disk Consumption on Snapdragon X Plus Device | https://github.com/zen-browser/desktop/issues/10701 | None | None |
| Youtube Live Streams Are Not Working After The Update | https://github.com/zen-browser/desktop/issues/10698 | 3:17:57 | 1 day, 3:35:02 |
| Very low performance | https://github.com/zen-browser/desktop/issues/10695 | 1:40:48 | 1:40:48 |
| Can you fucing fix the ctrashing???? | https://github.com/zen-browser/desktop/issues/10693 | 0:42:11 | 3:45:23 |
| Strange Behaviour with Context Menu Clicks | https://github.com/zen-browser/desktop/issues/10691 | 6:58:32 | None |
| Can't play DRM content on the latest release 1.16.3b | https://github.com/zen-browser/desktop/issues/10689 | 15:28:49 | None |
| On macOS, workspace swipe actions require "Swipe between pages" to be enabled in system settings | https://github.com/zen-browser/desktop/issues/10687 | None | None |
| macOS Altcodes / Modifier Keys Cause Keyboard Shortcut Issues | https://github.com/zen-browser/desktop/issues/10686 | 11 days, 13:05:50 | None |
| Mute button simply stopped functioning. | https://github.com/zen-browser/desktop/issues/10685 | None | None |
| Linux: 1Password desktop integration fails for Flatpak and Tarball installs | https://github.com/zen-browser/desktop/issues/10684 | None | None |
| Entire Program Constantly Crashes With No Discernible Reproduction Method, Making it Unusable | https://github.com/zen-browser/desktop/issues/10683 | 4:17:45 | 1 day, 10:38:49 |
| URL Bar appears cut off and onto the side (Floating URL Bar Issue) | https://github.com/zen-browser/desktop/issues/10682 | 1:31:06 | 0:02:30 |
| All tabs keep crashing on Windows | https://github.com/zen-browser/desktop/issues/10681 | 1 day, 7:25:22 | None |
| Failure to Update Zen Browser from Version 1.16.1b-1 to 1.16.2b-1 | https://github.com/zen-browser/desktop/issues/10678 | 2:02:51 | 5:04:58 |
| Cannot set hotkey for "Stop Loading" (Browser:Stop). | https://github.com/zen-browser/desktop/issues/10677 | 2 days, 0:55:20 | 2 days, 0:55:19 |
| Zen has suddenly overriden default Bitwarden keyboard shortcut and even when unbound it cannot be used for bitwarden | https://github.com/zen-browser/desktop/issues/10676 | None | None |
| Zen Browser blocks Macbook from sleep | https://github.com/zen-browser/desktop/issues/10673 | None | None |
| Cannot select text in URL bar by dragging mouse | https://github.com/zen-browser/desktop/issues/10671 | None | 1 day, 20:37:27 |
| Bookmarks bar partially obscured by sidebar | https://github.com/zen-browser/desktop/issues/10667 | 19 days, 23:45:50 | None |
| Browser freezes when tab is opened by external app with workspace switching enabled | https://github.com/zen-browser/desktop/issues/10666 | 1 day, 1:33:52 | None |
| The bookmarks bar disappears in full screen mode | https://github.com/zen-browser/desktop/issues/10665 | 18:54:47 | 20:41:21 |
| Websites rendering broken for me in 1.16 (fixed but reporting for clarity) | https://github.com/zen-browser/desktop/issues/10664 | None | None |
| cmd + option + M interferes with macOS cmd + option + H + M global command | https://github.com/zen-browser/desktop/issues/10663 | None | None |
| Zen freezes for ~3 seconds when downloading a file | https://github.com/zen-browser/desktop/issues/10657 | 18:33:18 | None |
| Twitch Video Stuttering | https://github.com/zen-browser/desktop/issues/10653 | 1 day, 0:24:44 | None |
| Recent Update Made Zen crash when using NVIDIA HW Acceleration (X11, Linux) | https://github.com/zen-browser/desktop/issues/10652 | 5 days, 18:32:13 | None |
| Search bar does not hide and stays stuck on screen | https://github.com/zen-browser/desktop/issues/10650 | 0:10:53 | 2:43:42 |
| browser stutter/halts/unresponsive | https://github.com/zen-browser/desktop/issues/10649 | 11:29:19 | None |
| Issue with `1.16.2b-1` | https://github.com/zen-browser/desktop/issues/10648 | 6:46:15 | 6:46:15 |
| Zen Sync not working | https://github.com/zen-browser/desktop/issues/10647 | 1 day, 7:52:54 | 12 days, 4:07:32 |
| Stability issue: random crashes after v1.16.2b update | https://github.com/zen-browser/desktop/issues/10646 | 3:44:53 | 10:49:23 |

_This report was generated with the [Issue Metrics Action](https://github.com/github/issue-metrics)_
Search query used to find these items: `repo:zen-browser/desktop is:issue created:2025-10-01..2025-10-31`



================================================
FILE: docs/issue-metrics/2025_2025-11-01..2025-11-30.md
================================================
# Issue Metrics

| Metric | Average | Median | 90th percentile |
| --- | --- | --- | ---: |
| Time to first response | 16:46:00 | 5:17:03 | 1 day, 12:16:08 |
| Time to close | 1 day, 16:51:17 | 10:24:05 | 6 days, 16:29:29 |

| Metric | Count |
| --- | ---: |
| Number of items that remain open | 117 |
| Number of items closed | 121 |
| Total number of items created | 238 |

| Title | URL | Time to first response | Time to close |
| --- | --- | --- | --- |
| Middle Mouse Click to close a tab with tab peek not working | https://github.com/zen-browser/desktop/issues/11492 | None | None |
| Accessing bookmarks in full screen mode on MacOS is awkward | https://github.com/zen-browser/desktop/issues/11491 | None | None |
| Youtube player going off screen at the bottom on MacOS, making the media controls harder to access | https://github.com/zen-browser/desktop/issues/11489 | None | 1:12:11 |
| browser.tabs.closeWindowWithLastTab closes the window even if you have tabs open in other workspaces | https://github.com/zen-browser/desktop/issues/11487 | None | None |
| Deleting a workspace in one window leaves the others in a strange state | https://github.com/zen-browser/desktop/issues/11486 | None | None |
| Creating a new workspace in one window breaks other windows | https://github.com/zen-browser/desktop/issues/11485 | None | None |
| Compact mode unusable on non-primary windows | https://github.com/zen-browser/desktop/issues/11484 | 0:14:09 | None |
| 1password keyboard shortcut (Cmd+.) no longer works when sidebar is collapsed | https://github.com/zen-browser/desktop/issues/11483 | None | None |
| sidebar does not popup in compact mode once the window is snapped | https://github.com/zen-browser/desktop/issues/11482 | None | None |
| Alt + number keys unexpectedly trigger Split View | https://github.com/zen-browser/desktop/issues/11481 | None | None |
| UI bug: bookmark icons invisible/missing | https://github.com/zen-browser/desktop/issues/11480 | None | 0:11:24 |
| Title Bar has a broken appearence and the Window Control buttons are in positions like on MacOS despite being on Windows | https://github.com/zen-browser/desktop/issues/11479 | 0:45:21 | 10:17:29 |
| Theme does not update when switching spaces in an inactive window | https://github.com/zen-browser/desktop/issues/11477 | 0:22:04 | None |
| Compact mode deactivate in Private Mode and can't be reactivate | https://github.com/zen-browser/desktop/issues/11475 | None | 22:01:31 |
| Flawed Search Bar & Undifferentiated Essentials for Each Workspaces | https://github.com/zen-browser/desktop/issues/11474 | 20:29:53 | 20:29:53 |
| Can't run Netflix ( Error code UI3012 ) | https://github.com/zen-browser/desktop/issues/11473 | 5:30:12 | 7:42:29 |
| I lost connectivity at all after updating to version v1.17.11b | https://github.com/zen-browser/desktop/issues/11471 | 6:39:25 | 1 day, 0:59:28 |
| Opening a private window occasionally breaks UI | https://github.com/zen-browser/desktop/issues/11470 | None | 1 day, 1:10:14 |
| Cannot switch space with trackpad swipe gestures on macOS | https://github.com/zen-browser/desktop/issues/11469 | 3:51:59 | 1 day, 4:15:09 |
| I cannot access Google's AI mode on Zen browser | https://github.com/zen-browser/desktop/issues/11468 | 2:05:10 | None |
| ico loading problem for essentials when 'Open Previous WIndows and Tabs' is disabled | https://github.com/zen-browser/desktop/issues/11466 | None | 0:05:48 |
| Session restoration mixing workspaces | https://github.com/zen-browser/desktop/issues/11465 | None | None |
| Title: URL bar loses focus when switching keyboard layout on GNOME (Linux, Arch/Manjaro) | https://github.com/zen-browser/desktop/issues/11464 | None | 0:29:03 |
| The splitscreen break the ui and ux of the browser | https://github.com/zen-browser/desktop/issues/11461 | 3:30:24 | None |
| Sound not playing on any website execpt youtube | https://github.com/zen-browser/desktop/issues/11459 | 2:18:55 | None |
| Using glance on essential tab creates duplicate of essential tab | https://github.com/zen-browser/desktop/issues/11457 | 4:22:37 | 4:22:36 |
| Sidebar getting corrupted and crashing browser | https://github.com/zen-browser/desktop/issues/11455 | 18:13:54 | 1 day, 2:55:36 |
| Double clicking the tabs list not opening a new tab on Windows (It does on Linux) | https://github.com/zen-browser/desktop/issues/11453 | 0:05:41 | 0:05:01 |
| Compact Mode resets toolbar and sidebar visibility settings after restart | https://github.com/zen-browser/desktop/issues/11452 | 1:55:49 | None |
| Bookmarks/History hidden behind side pane on new tab when compact mode used. | https://github.com/zen-browser/desktop/issues/11450 | 4:29:59 | None |
| Pinned extensions keep disappearing from sidebar after closing and opening Zen | https://github.com/zen-browser/desktop/issues/11449 | 0:38:40 | None |
| MacOS SidePanel Spaces Converge When Offline | https://github.com/zen-browser/desktop/issues/11448 | None | None |
| Cursor and address bar disappear when switching keyboard layout on GNOME (Wayland) | https://github.com/zen-browser/desktop/issues/11445 | 1 day, 8:37:33 | None |
| Telegram link | https://github.com/zen-browser/desktop/issues/11444 | 11:39:00 | 11:39:00 |
| Unable to open extensions | https://github.com/zen-browser/desktop/issues/11443 | 3:25:58 | 13:29:15 |
| Tab must be Unloaded before it can be Closed, via Cmd+W | https://github.com/zen-browser/desktop/issues/11442 | 2:10:53 | 2:10:53 |
| Update to Firefox 145.0.2 has made Zen Browser unusable | https://github.com/zen-browser/desktop/issues/11441 | 2:21:19 | 18:05:42 |
| MacOS Crash - enclosing crash log | https://github.com/zen-browser/desktop/issues/11439 | 23:30:54 | 1 day, 0:09:38 |
| Using Ctrl for Glance create extra tabs | https://github.com/zen-browser/desktop/issues/11437 | None | 0:28:39 |
| how to remove the white line? | https://github.com/zen-browser/desktop/issues/11436 | 2:58:39 | 10:37:48 |
| New tab opens in essentials area | https://github.com/zen-browser/desktop/issues/11435 | 0:43:56 | 3:46:27 |
| Bookmarks got multiplied in toolbar when opening a new window | https://github.com/zen-browser/desktop/issues/11434 | None | 10:05:27 |
| moving profile directory makes it non-functional (has fix!) | https://github.com/zen-browser/desktop/issues/11432 | None | None |
| Network login button renders beind viewport | https://github.com/zen-browser/desktop/issues/11430 | 2:18:48 | None |
| tabs not going into respective workspaces after closing zen browser window | https://github.com/zen-browser/desktop/issues/11429 | 8:31:21 | None |
| Download Animation Gone Since Upgrading To 1.17.9b | https://github.com/zen-browser/desktop/issues/11428 | 2:07:15 | 15:04:59 |
| Startup option "Continue where you left off" and "Open previous windows and tabs" synchronization issues with windows, tabs and Spaces | https://github.com/zen-browser/desktop/issues/11427 | 15:38:00 | 16:06:49 |
| Buggy CMD+Q behavior with tab glance | https://github.com/zen-browser/desktop/issues/11426 | None | None |
| Extensions button doesnt exist | https://github.com/zen-browser/desktop/issues/11423 | 0:00:56 | 0:00:56 |
| Usage Issues [Stuck Content, Ineffective Themes, and Glances] | https://github.com/zen-browser/desktop/issues/11421 | 1:36:19 | 1:37:09 |
| Zen opens two windows on startup (second window shows only the home page with no restored tabs) | https://github.com/zen-browser/desktop/issues/11420 | 2:31:45 | None |
| Pinned tabs revert to normal tabs after window restore, causing browser freeze on close | https://github.com/zen-browser/desktop/issues/11416 | 5:04:47 | 5 days, 4:53:53 |
| Address bar gets cut off in a pop out window | https://github.com/zen-browser/desktop/issues/11415 | 11:53:51 | None |
| Opening a tab in glance also opens a new window with the selected link. | https://github.com/zen-browser/desktop/issues/11414 | 9:45:31 | 13:23:52 |
| glance creating new windows | https://github.com/zen-browser/desktop/issues/11413 | None | 1:41:08 |
| Restoration of previous session is not working automatically but after Ctrl+Shift+t in windows | https://github.com/zen-browser/desktop/issues/11412 | None | None |
| duplicate tab shortcut missing | https://github.com/zen-browser/desktop/issues/11411 | 1 day, 0:23:07 | None |
| Zen 1.17.8b is really laggy in windowed mode (Arch Linux)  (not just the websites but buttons in the browser ui too) | https://github.com/zen-browser/desktop/issues/11410 | 0:52:24 | 10:41:30 |
| Opening a glance in split view also opens the link in a new window when using "Shift" as modifier | https://github.com/zen-browser/desktop/issues/11409 | 12:21:00 | 1 day, 6:44:30 |
| Browser broken after an update (pages are opened in a little stripe) | https://github.com/zen-browser/desktop/issues/11408 | 18:47:35 | 23:43:06 |
| Workspaces are not synced across different devices on a single firefox account | https://github.com/zen-browser/desktop/issues/11407 | 4:33:42 | 3 days, 10:56:38 |
| Youtube not loading ever | https://github.com/zen-browser/desktop/issues/11406 | 19:47:23 | None |
| After collapsing sidebar, layout shifts from "Only Sidebar" to "Sidebar and Top Toolbar" | https://github.com/zen-browser/desktop/issues/11405 | 1 day, 13:18:36 | 1 day, 20:49:48 |
| Open new window when already a window is open. | https://github.com/zen-browser/desktop/issues/11402 | None | None |
| Tab unpinning causes Tab Stash to crash | https://github.com/zen-browser/desktop/issues/11398 | None | None |
| Strange Pink Rendering Glitch | https://github.com/zen-browser/desktop/issues/11393 | None | None |
| Gradient line below the toolbar | https://github.com/zen-browser/desktop/issues/11391 | 8:24:14 | 8:24:14 |
| After 1.17.7b, zen browser is extremely slow | https://github.com/zen-browser/desktop/issues/11390 | 5:27:46 | None |
| Zen forgets all tabs when the main browser is closed while a private browsing window is open | https://github.com/zen-browser/desktop/issues/11389 | 2:56:12 | 3:40:47 |
| UI Issue | https://github.com/zen-browser/desktop/issues/11388 | 2:25:00 | 2:25:00 |
| Glance Stutter on Windows 10 Specifically | https://github.com/zen-browser/desktop/issues/11387 | 2:31:16 | None |
| прошу помочь решить данную проблему | https://github.com/zen-browser/desktop/issues/11386 | 6:34:42 | 6:34:42 |
| The "Slow page warning" toast is just shown in compact mode | https://github.com/zen-browser/desktop/issues/11385 | None | None |
| Zen browser opens a new instance for each tab or opens a tab inside of a tab | https://github.com/zen-browser/desktop/issues/11384 | 4:05:56 | 4:06:03 |
| Issue with extensions HUD | https://github.com/zen-browser/desktop/issues/11383 | 0:49:47 | 3:01:53 |
| about:support does not show version, build ID etc. | https://github.com/zen-browser/desktop/issues/11382 | 2:39:09 | 4:08:48 |
| Sharing screen in google meet on macOS Sequoia 15.7.2 breaks browser | https://github.com/zen-browser/desktop/issues/11380 | None | None |
| No deletion option for the folders | https://github.com/zen-browser/desktop/issues/11379 | 0:13:25 | None |
| When debugging in the console, the SSE request does not return a value. | https://github.com/zen-browser/desktop/issues/11378 | None | None |
| Bitwarden extension autofill login shortcut not auto-focusing input field when locked | https://github.com/zen-browser/desktop/issues/11377 | 1 day, 7:53:09 | None |
| In Niri in Nixos, the theme changes to light | https://github.com/zen-browser/desktop/issues/11375 | 2 days, 17:42:19 | 4 days, 14:40:38 |
| Cannot provide optional extension permissions | https://github.com/zen-browser/desktop/issues/11374 | 14:12:47 | None |
| Double click on sidebar doesn't open a new tab | https://github.com/zen-browser/desktop/issues/11373 | None | 1:36:14 |
| Zen fullscreen does not trigger KDE Plasma fullscreen state (bottom panel stays visible) | https://github.com/zen-browser/desktop/issues/11372 | None | None |
| Gap above window when maximized on monitor | https://github.com/zen-browser/desktop/issues/11369 | 4:03:49 | 9:53:29 |
| Rapid janky movement of sidebar when its width is set to certain sizes | https://github.com/zen-browser/desktop/issues/11368 | None | None |
| Media control latency and timestamp inconsistencies on YT Music | https://github.com/zen-browser/desktop/issues/11367 | None | None |
| extension toolbar gone / cant pin extensions to toolbar | https://github.com/zen-browser/desktop/issues/11366 | 3:05:26 | 3:05:26 |
| Links using text fragments (#:~:text=..." do not work | https://github.com/zen-browser/desktop/issues/11365 | 16:32:29 | 1 day, 4:18:54 |
| Passbolt Password Manager doesn't work properly | https://github.com/zen-browser/desktop/issues/11360 | None | None |
| opening a new window doesn't bring in pinned tabs on first open, and then on second open not all of the pinned tabs are in their folders | https://github.com/zen-browser/desktop/issues/11359 | 8:59:41 | None |
| Extensions box closed abruptely | https://github.com/zen-browser/desktop/issues/11358 | 2:10:35 | None |
| No return sound from discord audio input check | https://github.com/zen-browser/desktop/issues/11356 | None | None |
| Janky movement for favorites group when transitioning between first and last workspaces | https://github.com/zen-browser/desktop/issues/11355 | 10:30:48 | None |
| Viewport is slimmed down far too much | https://github.com/zen-browser/desktop/issues/11352 | 7:07:05 | 21:48:04 |
| Zen doesnt remember tabs when starting | https://github.com/zen-browser/desktop/issues/11350 | 5:29:24 | None |
| Clear tabs sidebar button is not visible if there are no pinned tabs | https://github.com/zen-browser/desktop/issues/11349 | 0:42:08 | 23:37:58 |
| ctrl+tab tab switcher (mission control tab view) not showing when holding down ctrl + tab when only essentials are open | https://github.com/zen-browser/desktop/issues/11348 | None | None |
| Modules missing top-level preference defaults can break features for new users | https://github.com/zen-browser/desktop/issues/11346 | 1:16:02 | 1:16:02 |
| 1.17.7b no longer allows hiding only the toolbar in Compact Mode | https://github.com/zen-browser/desktop/issues/11344 | 1:58:40 | 6:04:31 |
| Browser extension icons not visible | https://github.com/zen-browser/desktop/issues/11341 | 3:00:42 | 9:19:38 |
| Corner bleed bug | https://github.com/zen-browser/desktop/issues/11340 | 5:32:29 | 10 days, 4:54:09 |
| Double click the side bar now can't open "new tab" | https://github.com/zen-browser/desktop/issues/11339 | None | 0:11:54 |
| Sidebar blur (backdrop-filter) not applying in Compact Mode except in Settings Page | https://github.com/zen-browser/desktop/issues/11337 | 2:12:20 | 2:12:20 |
| Extended URL bar in the sidebar only mode. | https://github.com/zen-browser/desktop/issues/11334 | 4:41:50 | None |
| All Unloaded Tabs Closed after Every Update | https://github.com/zen-browser/desktop/issues/11330 | None | None |
| Zen Browser: blank page when accessing app.datadoghq.eu | https://github.com/zen-browser/desktop/issues/11328 | 0:05:29 | 0:56:10 |
| Double-clicking on sidebar no longer opens a new tab - 1.17.7b | https://github.com/zen-browser/desktop/issues/11327 | None | 0:37:46 |
| Unintuitive drag-and-drop behavior when moving tabs into folders | https://github.com/zen-browser/desktop/issues/11326 | 0:37:20 | 1 day, 3:01:46 |
| Moving the last tab from a window doesn't close it, even with `browser.tabs.closeWindowWithLastTab = true` | https://github.com/zen-browser/desktop/issues/11323 | 0:20:33 | None |
| Error 2069 while watching DRM protected content | https://github.com/zen-browser/desktop/issues/11322 | 3:43:18 | None |
| moving tabs among themselves breaks as the number u move them by increases | https://github.com/zen-browser/desktop/issues/11320 | 3 days, 0:34:57 | None |
| draging the window by using the sidebar | https://github.com/zen-browser/desktop/issues/11319 | 1:05:02 | 1:05:02 |
| Double-clicking on the sidebar no longer opens a new tab. | https://github.com/zen-browser/desktop/issues/11317 | 2:09:26 | 2:09:26 |
| Pinned and essentials tabs automatically unloaded on startup after updating to 1.17.7b | https://github.com/zen-browser/desktop/issues/11315 | 4 days, 4:53:59 | 12 days, 9:07:43 |
| Zen Browser opens two windows on startup after update to 1.17.7b | https://github.com/zen-browser/desktop/issues/11314 | 3 days, 5:12:02 | 8 days, 7:16:06 |
| Extensions that add themselves into the URL bar are not hidden in single mode, resulting in too little space to reliably click on the URL. | https://github.com/zen-browser/desktop/issues/11313 | None | None |
| container name is no longer visible in URL bar | https://github.com/zen-browser/desktop/issues/11312 | 3 days, 14:24:15 | None |
| Compact Toolbar: | https://github.com/zen-browser/desktop/issues/11307 | 2 days, 9:21:05 | 2 days, 23:15:20 |
| Cant install on linux (AUR) | https://github.com/zen-browser/desktop/issues/11306 | 2:13:01 | 5:09:46 |
| Maximized Window Disregards System Work Area | https://github.com/zen-browser/desktop/issues/11304 | 5:14:50 | 13:10:35 |
| CMD+TABbing away while picture-in-picture is open means PiP takes focus (does not happen in raw Firefox) | https://github.com/zen-browser/desktop/issues/11303 | None | None |
| Split View Closing Shortcut Doesn't Work And Opens Weird CSS File | https://github.com/zen-browser/desktop/issues/11301 | 5 days, 21:24:35 | None |
| Compact Mode: Top Toolbar not closing automatically after clicking away from Extensions | https://github.com/zen-browser/desktop/issues/11300 | None | None |
| Window hidden while adjusting slider on theme | https://github.com/zen-browser/desktop/issues/11299 | None | None |
| I found a very unfriendly experience | https://github.com/zen-browser/desktop/issues/11298 | 18:02:40 | 7 days, 19:19:59 |
| Simple HTML dialog closes when I click the first text box within it | https://github.com/zen-browser/desktop/issues/11297 | None | None |
| Paste and Go or Paste + Enter Key Overwriting tabs | https://github.com/zen-browser/desktop/issues/11294 | None | None |
| Collapsed Toolbar: Ctrl+T Temporarily Expands Top Toolbar in Compact Mode | https://github.com/zen-browser/desktop/issues/11291 | None | None |
| Extensions Window not opening after startup | https://github.com/zen-browser/desktop/issues/11290 | None | 1 day, 9:57:38 |
| Opening new tab with middle click leaks data via unexpected search | https://github.com/zen-browser/desktop/issues/11289 | 1 day, 10:13:56 | 1 day, 10:13:56 |
| When submitting bug reports, remove the requirement for confirming the issue can't be reproduced on Firefox. | https://github.com/zen-browser/desktop/issues/11287 | 3:58:51 | 17:59:36 |
| Application Menu overflows out of screen | https://github.com/zen-browser/desktop/issues/11284 | None | 9 days, 17:48:08 |
| Copy current URL with a keyboard shortcut missing in shortcut settings | https://github.com/zen-browser/desktop/issues/11281 | 0:04:41 | 6 days, 23:58:41 |
| tel: links : incomplete functionality - do not copy the number to default tel link handling application | https://github.com/zen-browser/desktop/issues/11280 | None | None |
| CORS Request Fails - Power Automate in Zen | https://github.com/zen-browser/desktop/issues/11279 | 6:14:35 | None |
| Tabs and essentials easy to accidentally drag off | https://github.com/zen-browser/desktop/issues/11278 | 5:34:54 | None |
| (Fixed - Client side) Minor visual clipping when scrolling with a hidden taskbar | https://github.com/zen-browser/desktop/issues/11276 | None | 0:01:03 |
| Firefox's select link feature conflicted with Zen Glance | https://github.com/zen-browser/desktop/issues/11273 | None | 13 days, 12:00:56 |
| Split screen gaps disappearing while in compact mode | https://github.com/zen-browser/desktop/issues/11269 | 3:31:14 | 6 days, 16:29:29 |
| Change Tab(s) to Workspace does not respect profile/container. | https://github.com/zen-browser/desktop/issues/11268 | 1:59:44 | None |
| Youtube Fullscreen Problem | https://github.com/zen-browser/desktop/issues/11265 | None | 5:09:01 |
| Certificate error @ learn.microsoft.com (SEC_ERROR_INVALID_TIME) | https://github.com/zen-browser/desktop/issues/11260 | 2:18:34 | 1 day, 17:17:46 |
| Extentions pin toolbar bug | https://github.com/zen-browser/desktop/issues/11257 | 1 day, 8:06:21 | None |
| Links only open in the browser if the browser is already opening, otherwise links will just launch the browser | https://github.com/zen-browser/desktop/issues/11256 | 1 day, 22:41:45 | None |
| Share menu opens again rather than closing when share button is pressed while share menu is open. | https://github.com/zen-browser/desktop/issues/11248 | None | None |
| Browser layout setting selection has low contrast in dark mode | https://github.com/zen-browser/desktop/issues/11246 | None | None |
| "Change Tab to Workspace" does not respect "Move the new tab button to the top" setting | https://github.com/zen-browser/desktop/issues/11245 | None | None |
| Cmd+Shift+B on sidebar-only mode flashes bookmarks bar | https://github.com/zen-browser/desktop/issues/11244 | None | None |
| Multiple windows reopen on launch despite disabling "Open previous windows and tabs" | https://github.com/zen-browser/desktop/issues/11243 | None | None |
| Crunchyroll doesn't work on Zen Windows on latest version 1.7.6b (Error : SHAK-6007) | https://github.com/zen-browser/desktop/issues/11237 | 0:14:37 | 10:24:05 |
| White space & transparency issues in spaces. | https://github.com/zen-browser/desktop/issues/11236 | None | None |
| Folders briefly auto-open then close on launch | https://github.com/zen-browser/desktop/issues/11235 | None | None |
| Phantom tabs present in detached Zen Window | https://github.com/zen-browser/desktop/issues/11234 | None | None |
| Trying to open a tab to amazon.de will open to amazon.com | https://github.com/zen-browser/desktop/issues/11233 | 1:53:48 | None |
| Glance icons grayed out | https://github.com/zen-browser/desktop/issues/11232 | None | None |
| Most websites dont load past initial state | https://github.com/zen-browser/desktop/issues/11231 | None | 0:10:07 |
| Keep crashing on Windows 11, it starts with the version 1.17.3b | https://github.com/zen-browser/desktop/issues/11230 | 5:57:35 | 2 days, 8:53:01 |
| Zen Browser suggests to update despite having the latest version installed | https://github.com/zen-browser/desktop/issues/11228 | 0:20:38 | 2:38:54 |
| Extensions menu not appearing in the upper right corner | https://github.com/zen-browser/desktop/issues/11227 | 23:02:30 | 0:54:37 |
| Toolbar still visible after toggling Sidebar's width | https://github.com/zen-browser/desktop/issues/11225 | 8 days, 18:39:49 | 8 days, 19:59:54 |
| Cannot install addons in compact mode | https://github.com/zen-browser/desktop/issues/11223 | None | 0:02:33 |
| Slow performance when refreshing | https://github.com/zen-browser/desktop/issues/11222 | 13:44:26 | 13:44:26 |
| When switching search engines in the address bar, the control center buttons will disappear. | https://github.com/zen-browser/desktop/issues/11221 | 7 days, 17:29:07 | 7 days, 17:29:07 |
| Browser switches to another workspace upon clicking a pinned tab | https://github.com/zen-browser/desktop/issues/11220 | 5 days, 14:59:49 | 5 days, 19:54:54 |
| DRM ISSUE (Crunchyroll, Netflix, Prime, and etc.) | https://github.com/zen-browser/desktop/issues/11218 | 6:12:26 | 6:51:11 |
| "Replace pinned URL with current" stopped working | https://github.com/zen-browser/desktop/issues/11217 | None | 3:23:47 |
| Zen high memory usage | https://github.com/zen-browser/desktop/issues/11216 | 4:09:50 | 4:09:50 |
| Visual glitches, ghosting, and screen tearing on Linux for Zen browser versions above 1.15.5b-1 | https://github.com/zen-browser/desktop/issues/11214 | None | None |
| Broken [browser&#124;chrome].tabs.query({}) making Tab Session Manager unusable | https://github.com/zen-browser/desktop/issues/11210 | None | None |
| Click interactions not working on some sites | https://github.com/zen-browser/desktop/issues/11208 | None | 0:11:33 |
| Tabs not closing properly while they are inside a folder. | https://github.com/zen-browser/desktop/issues/11207 | None | 3:59:22 |
| Management of synced tabs is split between two "sidebars" | https://github.com/zen-browser/desktop/issues/11206 | None | None |
| Tab saving broken | https://github.com/zen-browser/desktop/issues/11205 | None | None |
| URL bar focused when starting zen browser with --new-window 'url' flag | https://github.com/zen-browser/desktop/issues/11204 | None | None |
| Unable to connect to local network as of 1.17.5b | https://github.com/zen-browser/desktop/issues/11201 | 0:44:35 | None |
| After wakeup Zen queries DNS for all tabs, even unloaded ones and stalls meanwhile | https://github.com/zen-browser/desktop/issues/11200 | None | None |
| Dublicate entry in Default Apps in KDE Plasma Setting | https://github.com/zen-browser/desktop/issues/11198 | None | None |
| Extension Menu's not working in the home page. | https://github.com/zen-browser/desktop/issues/11193 | 3:04:23 | None |
| space is changed automatically when whatsapp & any other tab is in split view. | https://github.com/zen-browser/desktop/issues/11189 | None | None |
| Opening links from external apps does not work as excepted if Zen is not already running | https://github.com/zen-browser/desktop/issues/11188 | 7:34:42 | 7:57:27 |
| Top suggestion in location bar is unremovable search engine | https://github.com/zen-browser/desktop/issues/11187 | 8:08:43 | 5 days, 21:13:30 |
| Extension installation prompt rendered outside of browser frame | https://github.com/zen-browser/desktop/issues/11186 | 9:29:30 | 23:50:25 |
| Launching Zen with Reopen Previous Windows and Tabs opens outdated tab list | https://github.com/zen-browser/desktop/issues/11185 | None | None |
| Websites just outright broken | https://github.com/zen-browser/desktop/issues/11183 | 6:08:20 | 17:11:50 |
| New extensions button does not appear on blank tab | https://github.com/zen-browser/desktop/issues/11182 | 2 days, 8:40:31 | 10 days, 2:29:48 |
| Prompted to install extension, install erroneously canceled | https://github.com/zen-browser/desktop/issues/11181 | None | None |
| URL Bar history search only matches URL beginning | https://github.com/zen-browser/desktop/issues/11179 | 20:55:48 | 21:09:44 |
| Missing Visual Indicators In "Privacy & Security" Settings | https://github.com/zen-browser/desktop/issues/11178 | 22:31:51 | 9 days, 11:01:53 |
| Extension Install Menu Appears Off Screen | https://github.com/zen-browser/desktop/issues/11177 | None | 5:50:00 |
| Split view bug if switching vertical to horizontal or otherwise | https://github.com/zen-browser/desktop/issues/11176 | None | None |
| Bookmark sidebar does'nt close | https://github.com/zen-browser/desktop/issues/11174 | 0:03:15 | 0:28:44 |
| Jupyterhub terminal didn't show correctly | https://github.com/zen-browser/desktop/issues/11173 | 1 day, 12:00:31 | None |
| Split view container tabs have their highlight in the centre of the tab in compact mode. | https://github.com/zen-browser/desktop/issues/11172 | None | None |
| no extension menu/button in the url bar | https://github.com/zen-browser/desktop/issues/11171 | 11:09:25 | 17:18:29 |
| Double click to open new tab doesnt work | https://github.com/zen-browser/desktop/issues/11170 | 1 day, 9:51:08 | 3 days, 6:19:08 |
| Sidebar not closing in compact mode frequently | https://github.com/zen-browser/desktop/issues/11168 | 17:06:30 | None |
| HiDpi screen issue with Zen Browser | https://github.com/zen-browser/desktop/issues/11165 | None | None |
| With compact mode enabled, this problem occurs when trying to move a tab from one window to another. | https://github.com/zen-browser/desktop/issues/11164 | None | None |
| Microsoft Company Portal flags Zen as Firefox hence preventing it from installing on company managed devices | https://github.com/zen-browser/desktop/issues/11163 | 0:21:58 | None |
| Brew Install Hash Mismatch on MacOS Silicon | https://github.com/zen-browser/desktop/issues/11162 | 3 days, 5:01:22 | 4 days, 5:17:58 |
| Extensions that take over/replace passkeys does not work | https://github.com/zen-browser/desktop/issues/11161 | 20:42:26 | None |
| [CRASH] Segmentation fault error on macOS M4 Pro | https://github.com/zen-browser/desktop/issues/11159 | None | None |
| Upon browser close or restart, all pinned tabs and tabs from "essentials" are removed and closed. | https://github.com/zen-browser/desktop/issues/11157 | 6:21:54 | None |
| Video Lag when Laptop Charger Connected or Disconnected | https://github.com/zen-browser/desktop/issues/11156 | 1:39:07 | None |
| Multiple inconsistancies with private window theme | https://github.com/zen-browser/desktop/issues/11155 | None | None |
| Website immediately switches to blank page | https://github.com/zen-browser/desktop/issues/11152 | 7:52:22 | None |
| URL bar doesn't move back to the sidebar | https://github.com/zen-browser/desktop/issues/11150 | 0:01:40 | 0:04:56 |
| New unified panel icon not showing in sidebar only mode | https://github.com/zen-browser/desktop/issues/11149 | 0:19:16 | 1 day, 3:04:30 |
| Glance animation starts from wrong origin when triggered via right-click search | https://github.com/zen-browser/desktop/issues/11148 | 1:03:12 | 12 days, 22:48:29 |
| Zen no longer shows the Profile icon associated with the current Workspace | https://github.com/zen-browser/desktop/issues/11146 | 0:10:36 | None |
| Double-clicking on the toolbar should fill the screen. | https://github.com/zen-browser/desktop/issues/11145 | 1:08:26 | None |
| Cannot move or drag browser window when tabs are on right | https://github.com/zen-browser/desktop/issues/11142 | None | None |
| MediaSource.addSourceBuffer: Type not supported in MediaSource when playing MP3 (works in Chrome) | https://github.com/zen-browser/desktop/issues/11141 | 1:09:43 | 1:13:18 |
| Cannot access https://zen-browser.app with Zen Browser but can with Firefox, Safari and Comet on macOS Tahoe | https://github.com/zen-browser/desktop/issues/11140 | 0:34:57 | None |
| Extensions don't show up | https://github.com/zen-browser/desktop/issues/11137 | None | 0:01:49 |
| Problem with the whole browser | https://github.com/zen-browser/desktop/issues/11136 | 6:34:23 | 9:22:27 |
| Essential and Pinned don’t load after quitting with multiple windows (Ctrl+Shift+Q) on Windows | https://github.com/zen-browser/desktop/issues/11135 | None | None |
| Firefox's grouped tabs do not collapse on toggle | https://github.com/zen-browser/desktop/issues/11134 | 7:02:37 | 7:02:37 |
| Spotify is not working properly | https://github.com/zen-browser/desktop/issues/11133 | 9:28:56 | 11:23:38 |
| Picture-in-Picture (PiP) Feature Does Not Appear | https://github.com/zen-browser/desktop/issues/11132 | 5:41:39 | 11:58:40 |
| Video controls cut off in fullscreen mode, only when Zen itself is also fullscreen. | https://github.com/zen-browser/desktop/issues/11131 | None | 6:38:36 |
| Glance closing animation replays when escape is spammed during closing | https://github.com/zen-browser/desktop/issues/11130 | 19:25:23 | 22:20:06 |
| Little bit of url sticks out of top right or left side when using only sidebar style | https://github.com/zen-browser/desktop/issues/11126 | 1 day, 3:59:29 | None |
| Empty space in the tabs if close a tab in unexpected way | https://github.com/zen-browser/desktop/issues/11125 | None | None |
| Extensions icon dissapeared | https://github.com/zen-browser/desktop/issues/11121 | -1 day, 23:11:28 | 4:25:16 |
| Unable to close hisory/ download/ bookmarks/ tags window without closing the whole application. [Linux] | https://github.com/zen-browser/desktop/issues/11119 | None | None |
| Suddenly lost all of my essential tabs; Can't add container'd tabs as Essential tabs | https://github.com/zen-browser/desktop/issues/11118 | 3:07:03 | 3:07:03 |
| Onboarding unskippable with a large number of search shortcuts | https://github.com/zen-browser/desktop/issues/11117 | 14:58:00 | None |
| Newly created Workspaces are shown behind the active Workspace in existing windows | https://github.com/zen-browser/desktop/issues/11116 | None | None |
| Apple websites' font spacing broken | https://github.com/zen-browser/desktop/issues/11115 | 6 days, 15:27:12 | None |
| Allow pinned tabs to update their titles dynamically with the page, as normal | https://github.com/zen-browser/desktop/issues/11114 | 6:52:55 | None |
| Copy Me That extension stopped working with latest update | https://github.com/zen-browser/desktop/issues/11111 | 0:12:46 | 4:14:11 |
| Browser layout does not reset to previous state | https://github.com/zen-browser/desktop/issues/11109 | 5:17:03 | 5:17:03 |
| On mac bookmarks menu is not appaering then hover coursor on the top edge like it works on windows. | https://github.com/zen-browser/desktop/issues/11108 | 6:13:53 | 6:14:03 |
| Loading icon visible behind all favicons | https://github.com/zen-browser/desktop/issues/11107 | 3:39:00 | None |
| Extensions that already exist cannot be pinned to the Toolbar | https://github.com/zen-browser/desktop/issues/11106 | 7:55:13 | 11:51:53 |
| Sidebar URL is almost entirely overtaken by icons, seriously needs options to hide icons | https://github.com/zen-browser/desktop/issues/11105 | 12:24:07 | 23:18:25 |

_This report was generated with the [Issue Metrics Action](https://github.com/github/issue-metrics)_
Search query used to find these items: `repo:zen-browser/desktop is:issue created:2025-11-01..2025-11-30`



================================================
FILE: docs/issue-metrics/2025_2025-12-01..2025-12-31.md
================================================
# Issue Metrics

| Metric | Average | Median | 90th percentile |
| --- | --- | --- | ---: |
| Time to first response | 1 day, 0:30:20 | 5:02:49 | 2 days, 2:05:28 |
| Time to close | 1 day, 6:06:03 | 15:57:36 | 3 days, 0:29:29 |

| Metric | Count |
| --- | ---: |
| Number of items that remain open | 75 |
| Number of items closed | 85 |
| Total number of items created | 160 |

| Title | URL | Time to first response | Time to close |
| --- | --- | --- | --- |
| Downloads with "always ask you where to save files" occur twice -- in the downloads folder as well as in the path specified after popup | https://github.com/zen-browser/desktop/issues/11779 | None | None |
| Change tab to a different workspace option is not visible | https://github.com/zen-browser/desktop/issues/11778 | 20:10:39 | 20:10:39 |
| Closing Tab Does Not Go To Previous Tab for Pinned tabs | https://github.com/zen-browser/desktop/issues/11775 | None | None |
| Folders tab glance not working on Windows v1.17.15b (64-bit) | https://github.com/zen-browser/desktop/issues/11774 | 1 day, 2:08:49 | None |
| Browser Layout resets after Toggle Sidebar's Width | https://github.com/zen-browser/desktop/issues/11771 | 1 day, 5:27:23 | 1 day, 5:27:23 |
| PDF Download | https://github.com/zen-browser/desktop/issues/11768 | 1 day, 5:48:10 | 1 day, 5:48:10 |
| “Show search suggestions” setting unchecks itself &#124; Settings UI value not synced with about:config | https://github.com/zen-browser/desktop/issues/11767 | 1 day, 6:26:12 | 1 day, 6:26:12 |
| Full screen mode not working in YouTube while using Glance mode | https://github.com/zen-browser/desktop/issues/11766 | 1:59:37 | None |
| Guacamole paste | https://github.com/zen-browser/desktop/issues/11765 | 2:04:31 | 2:04:31 |
| Workspace icons as dots | https://github.com/zen-browser/desktop/issues/11763 | 0:03:17 | 0:23:41 |
| Printing Issue | https://github.com/zen-browser/desktop/issues/11762 | 11:29:55 | None |
| My profiles folder is not loading after the last update. | https://github.com/zen-browser/desktop/issues/11761 | 3:00:38 | None |
| Video Playback Issues | https://github.com/zen-browser/desktop/issues/11760 | 16:12:17 | 16:12:17 |
| When closing the window on mac and reopening the browser, the session isn't restored | https://github.com/zen-browser/desktop/issues/11759 | None | 17:41:15 |
| Identical filenames for clipboard images (image.png) prevents multiple uploads in Gemini | https://github.com/zen-browser/desktop/issues/11758 | 18:30:44 | 18:30:44 |
| Search suggestions cannot be hidden | https://github.com/zen-browser/desktop/issues/11755 | 1:14:56 | 1 day, 3:42:17 |
| [Bug] [Twilight] [Win 11] New window in virtual desktop bugs and opens several new windows | https://github.com/zen-browser/desktop/issues/11754 | 1 day, 10:56:04 | 2 days, 18:04:04 |
| [Twilight] Pinned tab reset when restart | https://github.com/zen-browser/desktop/issues/11751 | 2 days, 2:05:28 | 2 days, 8:02:26 |
| Profile locks are being ignored, causing weird synced behavior | https://github.com/zen-browser/desktop/issues/11750 | 11:19:12 | None |
| selecting tabs, Right Click to add them to a New Folder no longer works | https://github.com/zen-browser/desktop/issues/11745 | 2:42:55 | 3 days, 0:31:33 |
| When Zen Browser is set as the default browser, it cannot open links clicked from external applications under KDE. | https://github.com/zen-browser/desktop/issues/11743 | 7:19:40 | 7:19:40 |
| After updating all the folders and essential tabs are empty | https://github.com/zen-browser/desktop/issues/11741 | 4:15:52 | 3 days, 5:50:29 |
| Poor performance in OnShape | https://github.com/zen-browser/desktop/issues/11740 | None | None |
| Can't hide tab groups. | https://github.com/zen-browser/desktop/issues/11739 | 2:27:37 | 7:47:28 |
| Cannot install extension via local file if sidebar and toolbar are hidden | https://github.com/zen-browser/desktop/issues/11738 | None | 8:26:16 |
| [Bug] White space padding below minimized parent folder containing partially minimized subfolders | https://github.com/zen-browser/desktop/issues/11736 | 3 days, 14:36:08 | 3 days, 14:36:08 |
| Youtube Shorts Video is hidden out of view, but loaded | https://github.com/zen-browser/desktop/issues/11734 | 5:52:53 | None |
| Websites not funcationing correctly in latest version | https://github.com/zen-browser/desktop/issues/11733 | 0:15:44 | 0:15:44 |
| Sidebar not hiding when in compact mode | https://github.com/zen-browser/desktop/issues/11732 | None | None |
| Lag when restoring sessions with addons like Tab Session Manager? | https://github.com/zen-browser/desktop/issues/11731 | 10:52:46 | None |
| Crash and no load video | https://github.com/zen-browser/desktop/issues/11729 | 0:35:39 | 0:35:39 |
| Bug: Right-Click Menu Text Not Visible | https://github.com/zen-browser/desktop/issues/11728 | 5:49:57 | None |
| Firefox Extension pop-up doesnt open when side-panel is hidden | https://github.com/zen-browser/desktop/issues/11727 | None | 0:55:53 |
| Master Password Prompt on duckai | https://github.com/zen-browser/desktop/issues/11725 | None | None |
| [Twilight] Spaces are removed after updating to December 25 version | https://github.com/zen-browser/desktop/issues/11724 | 2:03:12 | None |
| Memory leak on arch linux? | https://github.com/zen-browser/desktop/issues/11721 | 5:03:16 | None |
| Upgrade to 1.18t lost everything. | https://github.com/zen-browser/desktop/issues/11720 | 5:02:49 | 5:14:44 |
| Can't show Kaomoji on Zen. (Special unicode characters Chinese, Korean, Japanese, etc) | https://github.com/zen-browser/desktop/issues/11719 | 1:28:17 | 2 days, 22:27:07 |
| Inconsistent Essential tabs unloading | https://github.com/zen-browser/desktop/issues/11717 | 3:40:23 | None |
| browser is laggy | https://github.com/zen-browser/desktop/issues/11715 | 9:19:37 | 18:42:49 |
| Duplicate “Find on Page” entry in Search & Find shortcut settings | https://github.com/zen-browser/desktop/issues/11714 | None | None |
| Zen sets itself as default | https://github.com/zen-browser/desktop/issues/11712 | 0:17:54 | None |
| Zen does not display data in IndexedDB while on localhost | https://github.com/zen-browser/desktop/issues/11711 | 10:12:55 | 18:12:11 |
| YouTube fullscreen controls are cut off when Zen Browser is in fullscreen mode | https://github.com/zen-browser/desktop/issues/11710 | None | 10:16:10 |
| Chess.com doesn't fit on a page since last update | https://github.com/zen-browser/desktop/issues/11708 | 0:14:05 | 0:14:05 |
| YouTube videos lose contrast when in full screen mode. | https://github.com/zen-browser/desktop/issues/11706 | 6:06:04 | None |
| Disappeared Font Rendering on Wayland Zen Browser | https://github.com/zen-browser/desktop/issues/11705 | None | 2:45:33 |
| TopCV website doesn't displayed correctly | https://github.com/zen-browser/desktop/issues/11704 | 7:52:49 | None |
| Zen not remembering where the tabs opened in the previous sessions. | https://github.com/zen-browser/desktop/issues/11700 | None | 3:04:19 |
| When RestoreDown/maximazing/moving browser the video in Picture-in-Picture mode is returning to the tab by itself | https://github.com/zen-browser/desktop/issues/11698 | 15:05:45 | None |
| I can't continue from where I left off; I need to log in again. | https://github.com/zen-browser/desktop/issues/11695 | 4:19:58 | 4:19:58 |
| Drag addressbar Link to Desktop no longer works | https://github.com/zen-browser/desktop/issues/11694 | 8:13:08 | None |
| opening a link from external application on zen browser | https://github.com/zen-browser/desktop/issues/11692 | 0:08:44 | 0:08:44 |
| Widow border highlight is diffrent depending of the platform | https://github.com/zen-browser/desktop/issues/11691 | 3:53:57 | 3:53:57 |
| Vertical maximize via mouse (Aero Snap) does not work in Zen Browser | https://github.com/zen-browser/desktop/issues/11690 | None | None |
| Some styles appear to be displaying abnormally (context menu, Library) | https://github.com/zen-browser/desktop/issues/11689 | None | None |
| Moving pinned tabs with media playing between windows broken | https://github.com/zen-browser/desktop/issues/11688 | None | None |
| Context menu on tabs says "workspace" instead of "space" | https://github.com/zen-browser/desktop/issues/11686 | None | 1 day, 0:02:12 |
| Can't change folder name | https://github.com/zen-browser/desktop/issues/11683 | 1:50:39 | 6:38:14 |
| Opening DevTools make the browser crash | https://github.com/zen-browser/desktop/issues/11681 | 0:35:01 | 0:35:01 |
| ZEN DOES NOT UPDATE AUTOMATICALLY | https://github.com/zen-browser/desktop/issues/11680 | 0:41:30 | 19:54:17 |
| Visual glitches while scrolling in the bottom of the page. | https://github.com/zen-browser/desktop/issues/11678 | None | None |
| Full screen mode not occupying complete available screen space. | https://github.com/zen-browser/desktop/issues/11676 | None | None |
| On Mac, first item in bookmarks toolbar disappears after closing window and reopening (without closing app) | https://github.com/zen-browser/desktop/issues/11674 | None | None |
| Some web pages freeze for aparently no reason | https://github.com/zen-browser/desktop/issues/11668 | 0:34:14 | None |
| Unable to install Browser Addons in Compact Mode | https://github.com/zen-browser/desktop/issues/11667 | 7:01:49 | None |
| WebGL2 is not working | https://github.com/zen-browser/desktop/issues/11665 | None | 0:04:30 |
| Tab dissapeared after reopening browser after lagging | https://github.com/zen-browser/desktop/issues/11662 | None | None |
| High CPU usage on idle and even higher CPU usage when opening Twitch (even in Troubleshoot Mode) | https://github.com/zen-browser/desktop/issues/11661 | 1:32:07 | 1:47:33 |
| Audio stopped working - Mac | https://github.com/zen-browser/desktop/issues/11660 | None | 23:33:37 |
| Zorin os freeze/crash on video playback | https://github.com/zen-browser/desktop/issues/11657 | None | None |
| "Material Icons" not displaying correctly (but they are in Firefox desktop app) | https://github.com/zen-browser/desktop/issues/11656 | 5:10:45 | None |
| Browser Padding top bar not removable | https://github.com/zen-browser/desktop/issues/11654 | 3:40:52 | 3:40:52 |
| Update to 1.18t: 1) unresponsive on start, 2) duplicated all pinned tabs. | https://github.com/zen-browser/desktop/issues/11653 | 4:27:05 | 4:27:05 |
| Zen doesn't save splitview configuration correctly with "open previous windows and tabs" enabled | https://github.com/zen-browser/desktop/issues/11652 | 1 day, 9:11:28 | 1 day, 9:25:45 |
| Zen reacts to system sound device changes while watching media (youtube) only after playing with the timeline | https://github.com/zen-browser/desktop/issues/11651 | None | None |
| Workspace is synchronized, but bookmarks within the Workspace are not synchronized as well. | https://github.com/zen-browser/desktop/issues/11650 | 9:24:51 | 9:24:51 |
| Zen becomes unresponsive when playing YouTube videos | https://github.com/zen-browser/desktop/issues/11649 | 1 day, 19:29:58 | None |
| proton mail sign up fails on every container except the first container | https://github.com/zen-browser/desktop/issues/11648 | None | None |
| The translation function that comes with Firefox cannot be used after I reinstall ZEN | https://github.com/zen-browser/desktop/issues/11647 | 1 day, 13:40:21 | None |
| Trackpad gesture doesn't work for switching between spaces | https://github.com/zen-browser/desktop/issues/11645 | 4:10:42 | 1 day, 20:43:04 |
| 多工具栏设置无法生效 | https://github.com/zen-browser/desktop/issues/11643 | 1 day, 6:32:46 | 1 day, 18:53:53 |
| A small section of split tabs' border is visible on glance and can be used to resize split tabs | https://github.com/zen-browser/desktop/issues/11641 | None | 2 days, 3:52:57 |
| Opening Zen via a hyperlink doesn't open the link it was given | https://github.com/zen-browser/desktop/issues/11639 | None | 2 days, 6:06:13 |
| Tabs don't show on hover in compact mode when "Tabs are on the right" setting is enabled | https://github.com/zen-browser/desktop/issues/11638 | 0:26:15 | None |
| "New split view" in command bar opens a new tab instead | https://github.com/zen-browser/desktop/issues/11637 | 12:16:48 | 3 days, 3:03:38 |
| The disappearance of the Firefox toolbar extension management icon is a bug or intentional | https://github.com/zen-browser/desktop/issues/11634 | 2:09:59 | 3 days, 0:26:24 |
| Google reverse image search doesn't work, only uploads stripes instead of the actual image | https://github.com/zen-browser/desktop/issues/11633 | 1:34:48 | 2 days, 10:21:07 |
| MacOS: Context Windows appear always on main monitor | https://github.com/zen-browser/desktop/issues/11632 | 3:02:07 | None |
| update firefox version &#124; amazon music and many more media websites not loading | https://github.com/zen-browser/desktop/issues/11631 | 0:30:37 | 0:30:37 |
| UI Scaling issue on linux desktop | https://github.com/zen-browser/desktop/issues/11629 | 3 days, 17:28:00 | None |
| Window can't shrink enough for W11 On-Screen Keyboard | https://github.com/zen-browser/desktop/issues/11628 | 0:50:10 | None |
| Split tab divider can't be moved to resize with bookmarks sidebar open | https://github.com/zen-browser/desktop/issues/11626 | 2 days, 19:07:37 | None |
| Container information cannot be saved correctly. | https://github.com/zen-browser/desktop/issues/11622 | 2:10:41 | 2:10:41 |
| Slow syncing state and browser crashes if trying to delete a space | https://github.com/zen-browser/desktop/issues/11621 | 1 day, 13:13:35 | None |
| Tabs not loaded in beforehand have full favicon transparency | https://github.com/zen-browser/desktop/issues/11620 | 3:00:50 | None |
| Browser keeps crashing when playing videos or just scrolling rapidly. | https://github.com/zen-browser/desktop/issues/11618 | 3:43:34 | 7:22:44 |
| The tab crashes when searching certain words | https://github.com/zen-browser/desktop/issues/11615 | 2 days, 0:53:45 | None |
| Zen profile problems after update and uninstall | https://github.com/zen-browser/desktop/issues/11614 | 11:21:11 | None |
| No button to access extension menu in order to pin when side and top bar enabled | https://github.com/zen-browser/desktop/issues/11612 | 1:54:17 | 1:54:31 |
| Youtube crashes Zen | https://github.com/zen-browser/desktop/issues/11610 | 17:48:03 | None |
| Scree gliches and flashes rapidly | https://github.com/zen-browser/desktop/issues/11606 | None | None |
| Perplexity disappeared in the new version and the app had to installed, all my configurations dissappeared | https://github.com/zen-browser/desktop/issues/11604 | None | 6:03:27 |
| Content under transparent menus appears frozen after menu is opened | https://github.com/zen-browser/desktop/issues/11603 | None | None |
| Nvidia RTX video is broken again for non-fullscreen video on 1.17.13b (2025-12-11) | https://github.com/zen-browser/desktop/issues/11602 | None | None |
| Perplexity gets removed even when added as custom search engine. | https://github.com/zen-browser/desktop/issues/11601 | 9:10:41 | 19:37:58 |
| No content is displaying, just transparent browser | https://github.com/zen-browser/desktop/issues/11599 | 9:27:02 | 1 day, 10:30:08 |
| Bookmarks Side-Panel Font is white on white background when using Windows 11 Dark Theme | https://github.com/zen-browser/desktop/issues/11597 | None | 9 days, 3:57:43 |
| Can't download files from Element | https://github.com/zen-browser/desktop/issues/11596 | 3:27:57 | None |
| The toolbar breaks when changing the browser layout | https://github.com/zen-browser/desktop/issues/11595 | None | None |
| Windows Explorer doesn't open after opening a file through Zen | https://github.com/zen-browser/desktop/issues/11594 | None | None |
| Zen launching instead of opening links | https://github.com/zen-browser/desktop/issues/11593 | None | None |
| Missing spacing between media controls and sidebar notification | https://github.com/zen-browser/desktop/issues/11592 | None | 3:25:48 |
| Addons (extensions) not added when side bar not open | https://github.com/zen-browser/desktop/issues/11591 | 7 days, 7:20:32 | 7 days, 7:20:32 |
| No video streaming on Twitch.TV | https://github.com/zen-browser/desktop/issues/11590 | 1:40:34 | 2:13:10 |
| Zen Browser loops when visiting pionex.us instead of loading and stopping | https://github.com/zen-browser/desktop/issues/11589 | 0:22:45 | 5:25:13 |
| Firefox add-ons fail to auto update | https://github.com/zen-browser/desktop/issues/11586 | 8:36:24 | None |
| Opening two instances (windows) of Zen Browser | https://github.com/zen-browser/desktop/issues/11585 | 1 day, 22:15:12 | None |
| Compact mode word translation(Turkish) error in right click menu in vertical tabs | https://github.com/zen-browser/desktop/issues/11583 | 10 days, 19:56:47 | None |
| Tab reordering does not trigger haptic feedback on MacOS | https://github.com/zen-browser/desktop/issues/11582 | None | None |
| Blur text and content when window is maximized (but not in full full screen) on Mac using Apple Studio display | https://github.com/zen-browser/desktop/issues/11580 | 1:53:06 | 5:20:16 |
| Closing a recently opened tab returns to the top tab, not the previously focused tab | https://github.com/zen-browser/desktop/issues/11576 | 9 days, 1:26:27 | None |
| Toolbar appearing on hover in compact mode results in jittery page | https://github.com/zen-browser/desktop/issues/11575 | 1:27:27 | None |
| Firefox Sync doesn't sync extensions to new instance | https://github.com/zen-browser/desktop/issues/11574 | None | None |
| Spotify no sound | https://github.com/zen-browser/desktop/issues/11570 | 0:02:19 | 0:35:22 |
| performance issue | https://github.com/zen-browser/desktop/issues/11569 | 1:49:29 | 1:49:28 |
| [macOS] Default Unsplit shortcut (Opt+Cmd+U) conflicts with native 'View Source' binding | https://github.com/zen-browser/desktop/issues/11568 | 6 days, 13:28:07 | None |
| pdf markup undo would undo random things a few steps prior. | https://github.com/zen-browser/desktop/issues/11567 | None | None |
| Changing keyboard language closes tab bar | https://github.com/zen-browser/desktop/issues/11563 | 3:38:59 | 3:38:59 |
| Zen started randomly crashing | https://github.com/zen-browser/desktop/issues/11562 | 3:49:51 | 4 days, 5:32:07 |
| "Show all tabs" keyboard shortcut not working | https://github.com/zen-browser/desktop/issues/11560 | 13 days, 1:31:35 | None |
| Unable to go full screen when in split view | https://github.com/zen-browser/desktop/issues/11559 | None | None |
| Closing sequence of windows, makes Zen loose all the unpinned tabs | https://github.com/zen-browser/desktop/issues/11558 | 7 days, 12:45:23 | None |
| Discord Link on https://zen-browser.app/ is Invalid | https://github.com/zen-browser/desktop/issues/11557 | 22:21:31 | 22:21:31 |
| Zen Browser not saving the tabs I had - V1.17.12b | https://github.com/zen-browser/desktop/issues/11555 | 4:07:02 | 2 days, 7:05:04 |
| Hidden Navbar Not Triggering on Hover (Compact Mode) | https://github.com/zen-browser/desktop/issues/11554 | 1 day, 0:22:48 | None |
| Dom manipulation causes massive performance issues | https://github.com/zen-browser/desktop/issues/11553 | 5:49:40 | None |
| "Unload and switch to tab" button kills navigation history | https://github.com/zen-browser/desktop/issues/11552 | None | None |
| Bookmarks in a folder open in reverse order | https://github.com/zen-browser/desktop/issues/11551 | None | 0:05:28 |
| If glance tab opens in a different container than parent tab, glance tab is moved to a regular new tab | https://github.com/zen-browser/desktop/issues/11544 | None | None |
| New tab not opening the normal homepage but opening the floating searchbar instead | https://github.com/zen-browser/desktop/issues/11543 | 0:19:37 | 1:16:54 |
| After my Mac wakes from sleep, Zen often stops loading pages for a few minutes. | https://github.com/zen-browser/desktop/issues/11541 | 7 days, 2:10:40 | None |
| Boxes in the Background | https://github.com/zen-browser/desktop/issues/11538 | None | None |
| Zen Browser Icon disappears from taskbar when the app isn't pinned | https://github.com/zen-browser/desktop/issues/11536 | 1:32:38 | None |
| The Space Icon/Name overlaps the New Tab Button when many tabs are open | https://github.com/zen-browser/desktop/issues/11531 | None | 0:01:23 |
| full screen does not hide the side/top bars | https://github.com/zen-browser/desktop/issues/11530 | 1 day, 1:45:36 | 1 day, 1:45:36 |
| Floading Bookmarks Bar Issue | https://github.com/zen-browser/desktop/issues/11529 | 2:18:35 | 13 days, 19:33:54 |
| Bug on Youtube Playing | https://github.com/zen-browser/desktop/issues/11528 | 0:26:20 | 15:57:36 |
| Site display issue on nokotime.com | https://github.com/zen-browser/desktop/issues/11525 | 7:58:19 | 1 day, 21:13:57 |
| can't load twitch page after update 1.17.12b | https://github.com/zen-browser/desktop/issues/11524 | 0:03:23 | 0:05:16 |
| Browser layout does not return to Single Toolbar after expanding Collapsed Sidebar, reverts to dual toolbars instead. | https://github.com/zen-browser/desktop/issues/11521 | 0:40:45 | 0:40:45 |
| Can't play youtube live video after update | https://github.com/zen-browser/desktop/issues/11518 | 0:42:10 | 16:06:02 |
| Mouse back/forward button didn't work anymore to switch between workspaces | https://github.com/zen-browser/desktop/issues/11517 | 0:44:38 | 0:53:37 |
| Bug on youtube | https://github.com/zen-browser/desktop/issues/11514 | 2 days, 17:49:10 | 2 days, 17:49:10 |
| Manual install issue | https://github.com/zen-browser/desktop/issues/11511 | 5:05:51 | 18:53:21 |
| Tab misplacements and Slow Internet Performance | https://github.com/zen-browser/desktop/issues/11510 | None | 0:13:33 |
| Incorrect origin point of glance animation when opening from split view | https://github.com/zen-browser/desktop/issues/11506 | None | None |
| Zen using passkey from apple keychain instead vaultwarden | https://github.com/zen-browser/desktop/issues/11498 | 1:10:26 | 1 day, 8:36:24 |
| Sidebar jitters due to trying to render more buttons than it can fit (at the top) | https://github.com/zen-browser/desktop/issues/11497 | None | None |
| z index mismatch on this page is slowing down your page modal | https://github.com/zen-browser/desktop/issues/11496 | None | 3 days, 21:12:36 |

_This report was generated with the [Issue Metrics Action](https://github.com/github/issue-metrics)_
Search query used to find these items: `repo:zen-browser/desktop is:issue created:2025-12-01..2025-12-31`



================================================
FILE: docs/issue-metrics/2026_2026-01-01..2026-01-31.md
================================================
# Issue Metrics

| Metric | Average | Median | 90th percentile |
| --- | --- | --- | ---: |
| Time to first response | 14:19:40 | 2:07:00 | 1 day, 4:29:24 |
| Time to close | 23:19:13 | 6:44:05 | 2 days, 5:35:23 |

| Metric | Count |
| --- | ---: |
| Number of items that remain open | 103 |
| Number of items closed | 141 |
| Total number of items created | 244 |

| Title | URL | Time to first response | Time to close |
| --- | --- | --- | --- |
| Filling in the search, query does not work with Ecosia | https://github.com/zen-browser/desktop/issues/12186 | None | None |
| Workspaces are not synchronized between Zen on Windows 11 and macOS. | https://github.com/zen-browser/desktop/issues/12184 | 0:13:05 | 0:13:05 |
| the 1st 2 workspaces aren't visible in the workspace bar at the bottom (SOLVED) | https://github.com/zen-browser/desktop/issues/12182 | None | 0:52:19 |
| Broken web player and descript as part of page | https://github.com/zen-browser/desktop/issues/12181 | None | None |
| Websites having wrong icons in history panel | https://github.com/zen-browser/desktop/issues/12179 | 4:54:50 | None |
| Dragging and Dropping Tabs between Windows causes weird issues with Tab Sync enabled | https://github.com/zen-browser/desktop/issues/12178 | None | 16:59:50 |
| Incorrect Text - Resetting an Essential Tab should be called "Reset Essential Tab" instead of "Reset Pinned Tab" | https://github.com/zen-browser/desktop/issues/12177 | None | None |
| Windows management is broken - they keep cloning each other. | https://github.com/zen-browser/desktop/issues/12176 | 1:26:12 | 11:12:54 |
| Application menu visual glitches on KDE Plasma 5.27.5 and Kwin | https://github.com/zen-browser/desktop/issues/12175 | None | None |
| Middle mouse button does not delete tabs inside folders | https://github.com/zen-browser/desktop/issues/12174 | None | None |
| Window Sync Extents to Unpinned and Non Essential Tabs (unexpected) | https://github.com/zen-browser/desktop/issues/12173 | 0:48:02 | None |
| Clearing all tabs in window closes window | https://github.com/zen-browser/desktop/issues/12172 | 0:52:12 | None |
| Disabling window sync prevents tabs from being re-named and dragging out tab to new window will use the blank default window instead the previous behaviour. | https://github.com/zen-browser/desktop/issues/12171 | None | None |
| Update deleted all my tabs | https://github.com/zen-browser/desktop/issues/12170 | 0:40:34 | 21:14:31 |
| Right-click > Move Tab does not always show your Workspaces | https://github.com/zen-browser/desktop/issues/12168 | 1 day, 4:29:24 | None |
| background play isnt working | https://github.com/zen-browser/desktop/issues/12167 | None | None |
| Windows 11 - Update to 1.18.3b loses all tabs and essentials | https://github.com/zen-browser/desktop/issues/12166 | 0:49:13 | 0:49:13 |
| Zen wants to set itself as default browser after each update even if it already is | https://github.com/zen-browser/desktop/issues/12164 | None | None |
| 1.18.3b AutoUpdate Lost all Tabs including Essentials | https://github.com/zen-browser/desktop/issues/12163 | 0:55:04 | 19:43:42 |
| Gaming mouse's back/forward button keeps moving Workspaces instead of page | https://github.com/zen-browser/desktop/issues/12161 | 0:27:35 | 0:46:07 |
| Dragging multiple tabs from one window to another flips their order | https://github.com/zen-browser/desktop/issues/12159 | None | None |
| The pop-up UI button options for saving or saving passwords are not functional | https://github.com/zen-browser/desktop/issues/12158 | None | None |
| I lost all my folder and essentials due to the uptdate | https://github.com/zen-browser/desktop/issues/12157 | 0:35:43 | 0:35:43 |
| Dragging tabs between windows still doesn't work right | https://github.com/zen-browser/desktop/issues/12156 | 1:46:33 | None |
| Discord Camera playback | https://github.com/zen-browser/desktop/issues/12155 | None | None |
| Custom url homepage not working | https://github.com/zen-browser/desktop/issues/12154 | 13:36:48 | None |
| Numerous "New Tabs" when restoring session | https://github.com/zen-browser/desktop/issues/12152 | 0:17:33 | None |
| Feature Request: Allow manual editing of pinned tab URLs | https://github.com/zen-browser/desktop/issues/12151 | 1:19:36 | 1:19:36 |
| "Find in page" bar has white background wth black theme | https://github.com/zen-browser/desktop/issues/12150 | None | 0:00:43 |
| Open a local index.html with zen | https://github.com/zen-browser/desktop/issues/12149 | 4:53:15 | 8:41:06 |
| No synchronization of tabs between computers | https://github.com/zen-browser/desktop/issues/12148 | 0:41:19 | 1:04:28 |
| Cursor stuck as `default` everywhere after updating to 1.18.3b | https://github.com/zen-browser/desktop/issues/12145 | None | 21:06:24 |
| An issue with custom keyboard shortcuts; Particular keys fail to work | https://github.com/zen-browser/desktop/issues/12144 | 13:30:14 | None |
| 1.18.3b broke the drag to split tabs function (with a recording to show this in TROUBLE SHOOTING mode) | https://github.com/zen-browser/desktop/issues/12143 | 0:23:19 | None |
| Loaded tabs are faded out in new windows | https://github.com/zen-browser/desktop/issues/12142 | 8:30:17 | None |
| Window Sync with multi monitors is a nightmare. | https://github.com/zen-browser/desktop/issues/12141 | 0:36:59 | 8:04:12 |
| Multiple Windows On Launch In Wayland | https://github.com/zen-browser/desktop/issues/12140 | 0:12:51 | None |
| Update Broken, Cont. | https://github.com/zen-browser/desktop/issues/12139 | 14:23:05 | None |
| Some Settings Are Not Persisting Between Restarts | https://github.com/zen-browser/desktop/issues/12138 | 2:27:50 | None |
| "What's New" page text error for 1.18b | https://github.com/zen-browser/desktop/issues/12137 | 5:46:25 | 17:40:01 |
| Grouping Tabs Together has become bugged on new update | https://github.com/zen-browser/desktop/issues/12136 | 2:38:32 | None |
| Supabase Dashboard is not loading | https://github.com/zen-browser/desktop/issues/12135 | 6:13:09 | 20:45:26 |
| Workspace bookmark | https://github.com/zen-browser/desktop/issues/12134 | None | None |
| Broken Firefox Sync: Bookmarks no longer syncing between Zen Desktop and Firefox Mobile after recent update | https://github.com/zen-browser/desktop/issues/12133 | 1:22:35 | None |
| 软件启动的时候会弹出两个窗口 | https://github.com/zen-browser/desktop/issues/12132 | 2:08:29 | 2:08:29 |
| Latest Update deleted all my Tabs | https://github.com/zen-browser/desktop/issues/12131 | 0:08:05 | 0:07:30 |
| Cannot drag tabs from window with 2 or more tabs into another window | https://github.com/zen-browser/desktop/issues/12130 | 0:06:58 | 0:06:58 |
| Window sync completely breaks my workflow | https://github.com/zen-browser/desktop/issues/12127 | 0:11:09 | 1:42:54 |
| Full screen video content cut off when browser window in full screen | https://github.com/zen-browser/desktop/issues/12126 | None | 0:39:59 |
| Passkeys do not work on GitHub | https://github.com/zen-browser/desktop/issues/12125 | None | None |
| Apple login does not work via apple.com's oauth API | https://github.com/zen-browser/desktop/issues/12124 | None | None |
| "Open previous windows and tabs" setting breaks when zen.window-sync.prefer-unsynced-windows is set to false | https://github.com/zen-browser/desktop/issues/12121 | 0:54:22 | 8:23:30 |
| Zen struggle rendering large DOM lists containing lots of child elements | https://github.com/zen-browser/desktop/issues/12119 | 2 days, 21:36:13 | None |
| Drag and drop tabs to different workspaces between two different zen windows causes the tabs to disappear after restart | https://github.com/zen-browser/desktop/issues/12116 | 0:04:16 | None |
| Windows Sync and Tabs | https://github.com/zen-browser/desktop/issues/12115 | 0:05:26 | 0:05:26 |
| Loss of open tabs after update 1.18.x | https://github.com/zen-browser/desktop/issues/12114 | 1:10:05 | 1:59:02 |
| Tab focus returns to parent tab instead of adjacent tab when closing multiple results | https://github.com/zen-browser/desktop/issues/12113 | 11:47:07 | 14:11:10 |
| New window does not auto focus url bar with zen.urlbar.replace-newtab set to false | https://github.com/zen-browser/desktop/issues/12112 | None | None |
| 1.18b completely breaks Simple Tab Groups | https://github.com/zen-browser/desktop/issues/12111 | 0:06:51 | 0:06:51 |
| Essentials icon keep disappearing | https://github.com/zen-browser/desktop/issues/12110 | 0:13:16 | 0:13:16 |
| Random Infinite Loading/Crashes when watching a YouTube video | https://github.com/zen-browser/desktop/issues/12109 | 1:23:12 | None |
| Zen icon deleted after an update | https://github.com/zen-browser/desktop/issues/12108 | 0:08:52 | 0:08:52 |
| Bug with folders with split tabs after update 1.18.2b (Mac) | https://github.com/zen-browser/desktop/issues/12107 | 0:17:10 | None |
| Weird bug when repoen zen the tabs keeps recover | https://github.com/zen-browser/desktop/issues/12106 | 0:33:42 | None |
| Notification can't be closed when tabs are on the right side (mailto notify) | https://github.com/zen-browser/desktop/issues/12104 | 2:40:15 | None |
| Cannot move tab from one window to another | https://github.com/zen-browser/desktop/issues/12103 | 0:12:36 | 0:13:32 |
| on Essential Tabs , when i recieve a message on whatsapp it gets hidden, i do get notification but it doesnt show | https://github.com/zen-browser/desktop/issues/12101 | 0:08:34 | 0:08:36 |
| Continue where you let off for bookmarks | https://github.com/zen-browser/desktop/issues/12100 | 1:16:25 | 3:48:13 |
| Essential tabs disappearing after excessive clicks | https://github.com/zen-browser/desktop/issues/12099 | 4:13:22 | 4:13:22 |
| Enhanced Tracking Protection reverts back to strict on launch | https://github.com/zen-browser/desktop/issues/12096 | 7:40:37 | 19:27:51 |
| Sidebar tab title color / contrast changed in v1.18 | https://github.com/zen-browser/desktop/issues/12095 | None | 0:13:40 |
| New window does not open correct space. | https://github.com/zen-browser/desktop/issues/12094 | 0:01:55 | None |
| Bug: Essentials tabs disappear after rapid activation | https://github.com/zen-browser/desktop/issues/12092 | 0:31:21 | 1:23:25 |
| Tabs being cloned to all windows | https://github.com/zen-browser/desktop/issues/12088 | 0:06:01 | 0:47:56 |
| Pinned extensions disappear when more than 1 is pinned | https://github.com/zen-browser/desktop/issues/12087 | 1 day, 14:00:23 | None |
| Bookmark icons not showing properly | https://github.com/zen-browser/desktop/issues/12084 | 0:03:11 | None |
| There is a problem with Zen when opening tabs: it is slow | https://github.com/zen-browser/desktop/issues/12083 | None | None |
| Jump to a blank page after closing all normal tabs | https://github.com/zen-browser/desktop/issues/12081 | None | 1 day, 21:13:35 |
| Dragging and Dropping tabs within the sidebar. Tab pops out as white box. | https://github.com/zen-browser/desktop/issues/12080 | 2:07:00 | None |
| Essential tabs dissapear from sidebar UI | https://github.com/zen-browser/desktop/issues/12078 | 0:01:44 | 0:01:44 |
| F6 doesn't float url bar | https://github.com/zen-browser/desktop/issues/12076 | 0:16:04 | 3:38:13 |
| Blank window. Completely unusable | https://github.com/zen-browser/desktop/issues/12075 | 0:05:13 | 1:07:49 |
| View Page Source opens in No Container Tab | https://github.com/zen-browser/desktop/issues/12074 | 0:04:07 | None |
| Zen starting out blank with corrupted tabs | https://github.com/zen-browser/desktop/issues/12073 | 0:05:16 | 2 days, 10:11:43 |
| Essentials becoming invisible / absent until browser restarted | https://github.com/zen-browser/desktop/issues/12072 | 0:06:59 | 0:06:59 |
| Proxmox UI Shell renders unreadable. Previously worked. | https://github.com/zen-browser/desktop/issues/12071 | None | None |
| Grid Split navigations is backwards | https://github.com/zen-browser/desktop/issues/12070 | 22:32:57 | 3 days, 7:21:01 |
| Bookmarks no longer synchronize | https://github.com/zen-browser/desktop/issues/12069 | None | None |
| Can't use MacOs specific video features (Portrait, Studio Light, Background) | https://github.com/zen-browser/desktop/issues/12068 | None | None |
| Turning off zen.window-sync.enabled to false leads to broken new window | https://github.com/zen-browser/desktop/issues/12066 | 0:37:44 | 1:57:03 |
| Can future versions please not clear out tabs and folder trees when updating/upgrade? | https://github.com/zen-browser/desktop/issues/12064 | None | 4:57:15 |
| "New Blank Window" uses wrong theme color | https://github.com/zen-browser/desktop/issues/12062 | 9:49:13 | 11:15:18 |
| [linux] Edit label/title for tab doesn't work | https://github.com/zen-browser/desktop/issues/12060 | 2:25:26 | 3 days, 18:16:00 |
| Missing option to disable synced windows | https://github.com/zen-browser/desktop/issues/12059 | None | 0:01:21 |
| Disable Window Sync option in settings? | https://github.com/zen-browser/desktop/issues/12058 | 0:12:41 | 0:12:41 |
| Tab titles not updating when window sync is disabled | https://github.com/zen-browser/desktop/issues/12057 | 0:05:48 | 0:10:29 |
| Essentials entry randomly disappeared from UI | https://github.com/zen-browser/desktop/issues/12056 | 0:12:56 | 0:12:56 |
| Pinned tabs not resseting on startup | https://github.com/zen-browser/desktop/issues/12055 | 2:00:07 | 2:30:05 |
| [Wayland] Zen browser shows white blank panel on startup | https://github.com/zen-browser/desktop/issues/12054 | 1:24:35 | 1 day, 12:37:36 |
| [Tab Sync] Tab in Glance mode opens as regular tab on other window. | https://github.com/zen-browser/desktop/issues/12051 | 1 day, 19:56:04 | None |
| workspace tabs desync across windows | https://github.com/zen-browser/desktop/issues/12050 | 0:11:59 | None |
| Essential tab stop working | https://github.com/zen-browser/desktop/issues/12045 | 0:46:10 | 0:46:10 |
| PWA apps render issue | https://github.com/zen-browser/desktop/issues/12044 | 1:32:16 | 3 days, 1:18:16 |
| MacOS - Wrong tab selected when going backwards | https://github.com/zen-browser/desktop/issues/12043 | 0:04:04 | None |
| Problem with important tabs | https://github.com/zen-browser/desktop/issues/12042 | 2 days, 4:15:21 | 2 days, 20:49:00 |
| Pinned and essential tabs randomly disappear | https://github.com/zen-browser/desktop/issues/12040 | 0:34:50 | 0:34:50 |
| Sidebar overflows in compact mode | https://github.com/zen-browser/desktop/issues/12039 | 1 day, 4:05:41 | None |
| Dragging tabs between worksapce is buggy [I think due to sync] | https://github.com/zen-browser/desktop/issues/12037 | 5 days, 11:35:22 | 5 days, 11:35:22 |
| Sidebar doesn’t close automatically after creating a new tab in Compact Mode | https://github.com/zen-browser/desktop/issues/12036 | 2 days, 6:04:10 | None |
| The extension items in the context menu multiplying with every right click | https://github.com/zen-browser/desktop/issues/12035 | 3:50:26 | None |
| Disabling zen.window-sync.enabled breaks "Open previous windows and tabs" | https://github.com/zen-browser/desktop/issues/12034 | 4:38:30 | 6:11:16 |
| Tab cannot be grabbed and taken into a different Zen browser instance | https://github.com/zen-browser/desktop/issues/12032 | 0:11:57 | 1:21:44 |
| Window sync with zoom | https://github.com/zen-browser/desktop/issues/12031 | 3:33:29 | 1 day, 17:09:02 |
| New Window doesn't work with window sync disabled. | https://github.com/zen-browser/desktop/issues/12030 | None | 1:21:07 |
| Move to space not listed in context menu | https://github.com/zen-browser/desktop/issues/12029 | 1:28:17 | 1:28:17 |
| All my workspaces and tabs just gone after update, wtf ? :) | https://github.com/zen-browser/desktop/issues/12028 | 0:31:31 | 1:41:41 |
| Global menu show but unresponsive. | https://github.com/zen-browser/desktop/issues/12024 | 0:06:03 | 6 days, 1:49:53 |
| Debian 13 &#124; Passkey doesn't show QR code | https://github.com/zen-browser/desktop/issues/12022 | 10:08:54 | None |
| Performance: Swiping across spaces with multiple tabs open is laggy | https://github.com/zen-browser/desktop/issues/12020 | 0:09:27 | 0:09:27 |
| Move to Space | https://github.com/zen-browser/desktop/issues/12019 | 0:08:00 | 0:08:00 |
| [UI Error] Zen Browser Settings UI Error | https://github.com/zen-browser/desktop/issues/12014 | 0:41:54 | 6:44:05 |
| Full-Screen PIP Mode Retains Dimmed State Indefinitely Due to Hover and System Inactivity | https://github.com/zen-browser/desktop/issues/12013 | None | None |
| "Check for Updates" Not Working | https://github.com/zen-browser/desktop/issues/12012 | 1:54:04 | 1:54:09 |
| Website lolalytics.com not working properly after updating to 1.18.1b | https://github.com/zen-browser/desktop/issues/12011 | 10:35:46 | 11:32:35 |
| No "Open a new Blank Window" action when right-clicking zen on taskbar | https://github.com/zen-browser/desktop/issues/12010 | 9:50:45 | None |
| Inconsistant capitalization in application menu | https://github.com/zen-browser/desktop/issues/12009 | None | 0:15:37 |
| Disable window/tab sync by default | https://github.com/zen-browser/desktop/issues/12008 | 0:03:34 | 17:22:46 |
| Sync not working + pinned tabs do not resert url | https://github.com/zen-browser/desktop/issues/12006 | 0:15:54 | 7:59:09 |
| Some UI elements not renderring correctly | https://github.com/zen-browser/desktop/issues/12005 | 3:40:46 | 4:36:15 |
| installer prolbem | https://github.com/zen-browser/desktop/issues/12004 | 2:13:28 | 2:13:28 |
| Issues with Sidebar Dragging Exiting Full-Screen & Legacy Ctrl+Tab Behavior | https://github.com/zen-browser/desktop/issues/12003 | 4:33:38 | None |
| Cannot Rename “New Folder” in the Sidebar | https://github.com/zen-browser/desktop/issues/12002 | 0:58:42 | 1:48:21 |
| Custom font doesn't work | https://github.com/zen-browser/desktop/issues/12001 | 1 day, 8:53:16 | 1 day, 8:53:16 |
| Windows accent coloring issue with zen | https://github.com/zen-browser/desktop/issues/12000 | 1:11:28 | 1:11:28 |
| Disabling zen.window-sync.enabled breaks new zen instances | https://github.com/zen-browser/desktop/issues/11999 | 4:34:06 | 22:44:50 |
| Pinned tabs don't scale: hundreds of pins freeze browser | https://github.com/zen-browser/desktop/issues/11997 | 6:50:35 | 1 day, 13:33:03 |
| All tabs are gone (also pinned) when updating to 1.18b | https://github.com/zen-browser/desktop/issues/11994 | 4:42:08 | None |
| "blank window" at startup | https://github.com/zen-browser/desktop/issues/11993 | 0:02:32 | 0:52:40 |
| Crashing when playing WASMGC game | https://github.com/zen-browser/desktop/issues/11990 | 0:31:55 | None |
| Pinned Tabs disappearing/invisible | https://github.com/zen-browser/desktop/issues/11989 | 11:31:45 | 11:31:45 |
| Zen process opens but the window doesn't | https://github.com/zen-browser/desktop/issues/11985 | 0:22:24 | None |
| Zen has recently got really inconsistent performance (especially after the last few updates). | https://github.com/zen-browser/desktop/issues/11982 | 0:52:04 | None |
| Twitch.tv Video Streams Not Loading | https://github.com/zen-browser/desktop/issues/11980 | 0:19:27 | None |
| Page rendering is blank white | https://github.com/zen-browser/desktop/issues/11979 | 15:04:14 | 15:04:14 |
| Zen is unusable on Cosmic Desktop Environment (unable to remove a checkbox that spawns and hinders using the browser) | https://github.com/zen-browser/desktop/issues/11978 | 0:42:40 | 17:46:00 |
| Searching with # is not searching bookmarks by tag or title | https://github.com/zen-browser/desktop/issues/11976 | 1:54:07 | 11:45:13 |
| Conflict Between Browser Page Search Shortcut and Confluence Search | https://github.com/zen-browser/desktop/issues/11975 | None | None |
| Updater repeatedly reinstalls latest twilight build despite no version change. | https://github.com/zen-browser/desktop/issues/11974 | 0:19:47 | 6:53:06 |
| Randomly Control button stop functioning | https://github.com/zen-browser/desktop/issues/11972 | None | None |
| Low refresh rate on Zen Windows version after OS update | https://github.com/zen-browser/desktop/issues/11967 | 21:19:01 | None |
| Switching workspaces to a split view will cause the area surround the view to turn black for a second | https://github.com/zen-browser/desktop/issues/11965 | 17:19:30 | None |
| [Bug] Previous session permanently lost after closing and reopening Zen Browser | https://github.com/zen-browser/desktop/issues/11964 | 4:00:54 | 4:01:24 |
| Closing a normal zen window when an incognito zen browser is opened, removes all the tabs across all my workspaces. | https://github.com/zen-browser/desktop/issues/11963 | 2:10:13 | 2:10:13 |
| Only sidebar layout -- Always show bookmarks tool bar + window buttons | https://github.com/zen-browser/desktop/issues/11962 | 0:06:53 | 3:10:47 |
| Zen randomly crashes on macOS | https://github.com/zen-browser/desktop/issues/11958 | 3:36:36 | None |
| Essentials and pinned tabs don't load automatically on open | https://github.com/zen-browser/desktop/issues/11957 | 12:57:52 | 12:57:52 |
| Readme reports Firefox 147.0.1 for Release but latest release 1.17.15b (2025-12-20) is 146.0.1 | https://github.com/zen-browser/desktop/issues/11952 | 8:47:04 | 8:47:03 |
| Non-default container indicator not showing in workspace | https://github.com/zen-browser/desktop/issues/11951 | 0:13:01 | None |
| Zen not displaying websites on Intel HD graphics 2000 | https://github.com/zen-browser/desktop/issues/11950 | None | None |
| Private window tabs are mirrored in the main (non-private) window | https://github.com/zen-browser/desktop/issues/11949 | 2:34:54 | 4:47:55 |
| Media session metadata (title/artist/cover) does not update on site without page refresh | https://github.com/zen-browser/desktop/issues/11948 | 6:32:56 | 1 day, 6:51:54 |
| Nvidia overlay "Plugin-container is preventing the desktop capture" | https://github.com/zen-browser/desktop/issues/11947 | None | None |
| Login to self-hosted Bitwarden fails after initialization in multi-account setting | https://github.com/zen-browser/desktop/issues/11946 | 1 day, 14:57:08 | None |
| Accessing any URL under bitbucket.org returns 404 | https://github.com/zen-browser/desktop/issues/11944 | 2:26:35 | 1 day, 20:58:15 |
| Acrylic turns grey | https://github.com/zen-browser/desktop/issues/11937 | 0:01:44 | None |
| lang change | https://github.com/zen-browser/desktop/issues/11934 | 2:27:46 | 3:29:15 |
| MX Master 3 Forward/Back mouse buttons don't work if zen.workspaces.swipe-actions is false | https://github.com/zen-browser/desktop/issues/11923 | 1:53:09 | 1:53:09 |
| Tabs UI bug | https://github.com/zen-browser/desktop/issues/11922 | None | None |
| Positioning of titlebar window control buttons | https://github.com/zen-browser/desktop/issues/11918 | 11:28:41 | 11:28:41 |
| Zen won't follow XDG base directories | https://github.com/zen-browser/desktop/issues/11917 | 12:43:08 | None |
| Titlebar expands on hover even if Titlebar setting is Disabled from "Configure Toolbar" in Sidebar only mode of look and feel. | https://github.com/zen-browser/desktop/issues/11915 | None | None |
| Multiple window sessions result in same tabs open in all windows | https://github.com/zen-browser/desktop/issues/11914 | 1 day, 1:41:36 | 1 day, 1:41:36 |
| Misplaced Tab (Placed a tab above the new tab button but below the line that separates the pinned tabs) | https://github.com/zen-browser/desktop/issues/11911 | None | 4:09:21 |
| Sidebar width inconsistency | https://github.com/zen-browser/desktop/issues/11909 | None | None |
| Cannot expand / fullscreen twitter videos | https://github.com/zen-browser/desktop/issues/11908 | 2 days, 5:35:23 | 2 days, 5:35:23 |
| Menu shows unsecure connections as secure | https://github.com/zen-browser/desktop/issues/11905 | 2:21:24 | 3:35:25 |
| Top Toolbar appearing when using shortcut  "Toggle Sidebar's Width" | https://github.com/zen-browser/desktop/issues/11903 | 5:08:25 | 5:08:25 |
| Only shows default icons for Google Messages for web | https://github.com/zen-browser/desktop/issues/11902 | None | 2:39:30 |
| The default section disappear from dot list at the below of the tab when swiching spaces | https://github.com/zen-browser/desktop/issues/11901 | 0:50:18 | None |
| Context menu partially hidden when right-clicking on a Bookmarks folder in the toolbar | https://github.com/zen-browser/desktop/issues/11898 | None | None |
| Refined Github(extension): Issues interface with notification header flickers / flashes | https://github.com/zen-browser/desktop/issues/11896 | None | None |
| Glance should work only for links | https://github.com/zen-browser/desktop/issues/11895 | None | 7:53:12 |
| Auto Unload Does Not And Has Never Unloaded a Single Tab Ever. | https://github.com/zen-browser/desktop/issues/11894 | None | 6:58:48 |
| Visual Bug: Line through sidebar and settings page | https://github.com/zen-browser/desktop/issues/11893 | None | 12:24:36 |
| 1password integration - not working | https://github.com/zen-browser/desktop/issues/11892 | 2:39:46 | 13:40:23 |
| Hardware acceleration worse on Zen vs others (CachyOS - NVIDIA - Wayland) | https://github.com/zen-browser/desktop/issues/11890 | 2:18:58 | 8:44:12 |
| Some tabs (inside a folder) are not drawn in the sidebar | https://github.com/zen-browser/desktop/issues/11888 | 18:13:05 | 18:13:05 |
| (macos) (twilight) pinning splitview tabs in folders causes addl tab group labels on restart/update | https://github.com/zen-browser/desktop/issues/11887 | None | 23:27:16 |
| How can I achieve window transparency on Windows (so that I can see through to the windows or desktop behind it)?/如何实现Windows下窗口透明化（可以看到后面的窗口或桌面） | https://github.com/zen-browser/desktop/issues/11885 | 11:12:00 | 11:12:00 |
| Form validation checkbox message is white text on white background | https://github.com/zen-browser/desktop/issues/11884 | None | None |
| Fullscreen with F11 doesn't work as intended | https://github.com/zen-browser/desktop/issues/11883 | 6:30:42 | 6:30:46 |
| PiP window stays open empty and buttons don’t work | https://github.com/zen-browser/desktop/issues/11881 | None | None |
| When switching browser layouts, extensions fixed to the toolbar may have display bugs | https://github.com/zen-browser/desktop/issues/11880 | None | 6:31:27 |
| Zen startup window has a transition from dark background (light background in light mode) + a flash before the mica kicks on windows 11. | https://github.com/zen-browser/desktop/issues/11876 | 1 day, 22:21:29 | None |
| Zen Hangs/Crashes - Have not been able to use for several months. | https://github.com/zen-browser/desktop/issues/11875 | 2 days, 0:58:56 | None |
| Settings modal is not in the right place! | https://github.com/zen-browser/desktop/issues/11873 | None | None |
| Macos: extention pop-ups open up at a different desktop in fullscreen | https://github.com/zen-browser/desktop/issues/11872 | 7:25:14 | 7:25:14 |
| Close Tab shortcut can close the window | https://github.com/zen-browser/desktop/issues/11871 | 2 days, 6:59:58 | 2 days, 6:59:58 |
| When on the login page, the extension icon in the address bar cannot be clicked | https://github.com/zen-browser/desktop/issues/11870 | 2 days, 8:04:14 | 19 days, 3:16:59 |
| Showing multiple empthy pages | https://github.com/zen-browser/desktop/issues/11869 | 4:22:38 | None |
| Control + click is not opening links in a new tab. | https://github.com/zen-browser/desktop/issues/11868 | 3 days, 21:19:59 | None |
| Folders and tabs of a workspace are not synced. | https://github.com/zen-browser/desktop/issues/11865 | 1:58:13 | 1:58:13 |
| No save button | https://github.com/zen-browser/desktop/issues/11864 | 0:15:11 | None |
| No Icon For Files | https://github.com/zen-browser/desktop/issues/11860 | 5:02:04 | 20:21:37 |
| Compatibility issue with aarch64 AppImage starting from v1.17b (GLIBCXX_3.4.26 not found) | https://github.com/zen-browser/desktop/issues/11859 | None | None |
| Adding New Bookmark in Compact Mode No Longer Pops Up Edit Panel | https://github.com/zen-browser/desktop/issues/11858 | 1 day, 18:54:21 | None |
| 什么时候能支持网页驱动 | https://github.com/zen-browser/desktop/issues/11857 | 12:28:29 | 12:28:29 |
| Workspace Switching Becomes Laggy with 4+ Workspaces and many pinned Tabs on Windows (NVIDIA GPU). | https://github.com/zen-browser/desktop/issues/11851 | 2:00:50 | None |
| Closing a recently opened tab returns to the top tab, not the previously focused tab | https://github.com/zen-browser/desktop/issues/11845 | 19:10:53 | 1 day, 17:02:53 |
| Wrong italian translation of "Workspace forward" in shortcuts settings | https://github.com/zen-browser/desktop/issues/11841 | 1:17:18 | None |
| Cannot close pinned tabs | https://github.com/zen-browser/desktop/issues/11838 | 0:21:08 | 0:23:33 |
| Copy URL shortcut does not copy URL before page has loaded | https://github.com/zen-browser/desktop/issues/11835 | None | None |
| Extensions not showing up in toolbar. | https://github.com/zen-browser/desktop/issues/11834 | 1:33:29 | 9:20:29 |
| Multiple duplicated Bookmarks | https://github.com/zen-browser/desktop/issues/11832 | None | None |
| [BUG] Closing and re-opening zen twighlight turns a bunch of tabs into 'New Tab's | https://github.com/zen-browser/desktop/issues/11831 | 15:57:31 | 7 days, 8:27:19 |
| Indent issue on active pinned tab in collapsed workspace | https://github.com/zen-browser/desktop/issues/11830 | 17:46:11 | 1 day, 6:07:21 |
| High Ram Usage | https://github.com/zen-browser/desktop/issues/11828 | None | 0:20:29 |
| Unable to install extentions in compact mode | https://github.com/zen-browser/desktop/issues/11827 | None | 1:11:29 |
| Extension icons display inconsitently when switching toolbar modes or resizing window | https://github.com/zen-browser/desktop/issues/11826 | 2:31:13 | None |
| MS Entra auth not working | https://github.com/zen-browser/desktop/issues/11825 | 3:14:28 | 20:29:41 |
| "Restore pinned tabs to their originally pinned URL on startup' option doesn't reset Pinned Tabs go back to Originally Pinned URL, i.e. doesn't reset them | https://github.com/zen-browser/desktop/issues/11823 | 2 days, 12:40:16 | None |
| Crashes when signing into aws console MFA passkey via lastpassword | https://github.com/zen-browser/desktop/issues/11820 | None | None |
| Using the dev console in glance causes weird ui | https://github.com/zen-browser/desktop/issues/11815 | 1:43:58 | None |
| The VS Code integrated extension “Live Server” does not automatically detect the Zen Browser, even when it is set as the default browser. | https://github.com/zen-browser/desktop/issues/11813 | 2:56:35 | 2 days, 12:21:43 |
| Ctrl+T does not open new tab if shortcuts are removed | https://github.com/zen-browser/desktop/issues/11811 | 0:40:23 | None |
| Sidebar title is overlapping with essential tabs after screen unlock | https://github.com/zen-browser/desktop/issues/11808 | None | 15:50:26 |
| button alignment does not change in pop-up window | https://github.com/zen-browser/desktop/issues/11805 | 0:10:14 | None |
| "Focus on <space>" action not available | https://github.com/zen-browser/desktop/issues/11804 | 0:03:34 | 1 day, 0:35:28 |
| Split View and Floating URL bugs when a Youtube video is in Full Screen and Ctrl + Shift  + * is pressed. | https://github.com/zen-browser/desktop/issues/11803 | None | 7 days, 0:58:59 |
| Trackpad diagonal scroll unintentionally switches workspaces instead of scrolling tabs | https://github.com/zen-browser/desktop/issues/11802 | 2:20:42 | None |
| New tab opens when Alt+Tabbing or pressing Windows key while YouTube is playing | https://github.com/zen-browser/desktop/issues/11801 | 8:57:44 | None |
| Broken Installer (fixed) | https://github.com/zen-browser/desktop/issues/11800 | None | 1 day, 22:57:03 |
| subfolder collapse state issue when collapsing pinned area | https://github.com/zen-browser/desktop/issues/11799 | 11:27:53 | 1 day, 12:52:10 |
| Glance opens a new window for local file URLs (file://) | https://github.com/zen-browser/desktop/issues/11797 | None | None |
| acronis.com nginx  a header or cookie larger than permitted | https://github.com/zen-browser/desktop/issues/11795 | None | None |
| Cannot listen to songs using the spotify integration on Musixmatch for lyric syncing in Zen | https://github.com/zen-browser/desktop/issues/11792 | 0:15:31 | 0:15:31 |
| Adding Split Tab Groups to a folder Makes the folder disappear | https://github.com/zen-browser/desktop/issues/11791 | 15 days, 4:38:37 | 15 days, 4:38:37 |
| Clear tabs button's separator is missing on Linux | https://github.com/zen-browser/desktop/issues/11789 | None | 3 days, 10:41:55 |
| [Twilight] Cannot add tab to bottom of folder | https://github.com/zen-browser/desktop/issues/11788 | 21:08:12 | 21:08:12 |
| Flathub version doesn’t work on Debian 13 | https://github.com/zen-browser/desktop/issues/11787 | 25 days, 12:50:21 | None |
| Split View sidebar shows extra tab after restoring a closed tab (Ctrl+Shift+T) | https://github.com/zen-browser/desktop/issues/11785 | None | None |
| Cursor moved far right of window does not grab scrollbar when window is maximised | https://github.com/zen-browser/desktop/issues/11783 | 6:07:23 | 6:07:23 |
| HMR Not Working Correctly for Frontend Development | https://github.com/zen-browser/desktop/issues/11782 | 7:57:34 | 9:05:06 |
| Failing to obtain location | https://github.com/zen-browser/desktop/issues/11781 | 15:43:36 | 1 day, 17:23:10 |

_This report was generated with the [Issue Metrics Action](https://github.com/github/issue-metrics)_
Search query used to find these items: `repo:zen-browser/desktop is:issue created:2026-01-01..2026-01-31`



================================================
FILE: locales/language-maps
================================================
nb:nb-NO


================================================
FILE: locales/supported-languages
================================================
ar
bg
bs
ca
cs
cy
da
de
el
en-GB
es-ES
et
fa
fi
fr
ga-IE
he
hu
id
is
it
ja
ko
lt
nb
nl
nn-NO
pl
pt-BR
pt-PT
ro
ru
sk
sv-SE
th
tr
uk
vi
zh-CN
zh-TW


================================================
FILE: locales/update-supported-languages.sh
================================================
LANGS_FILE="./supported-languages"

# Clean up the file
echo -n > $LANGS_FILE

# Iterate the directories in the current path
for d in */; do
  # ignore assets and .github directories
  if [ "$d" != "assets/" ] && [ "$d" != ".github/" ] && [ "$d" != "en-US/" ] && [ -d "$d" ]; then
    # Get the directory name
    lang=$(basename $d)
    echo "Added $lang"
    echo -n "$lang" >> $LANGS_FILE
    # if the language is not the last one, add a new line
    if [ "$d" != "zh-TW/" ]; then
      echo >> $LANGS_FILE
    fi
  fi
done



================================================
FILE: locales/ar/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/ar/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = الملف الشخصي الحالي
unified-extensions-description = تستخدم الإضافات لجلب المزيد من الوظائف الإضافية إلى { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = إعادة تعيين علامة التبويب المثبتة
    .accesskey = ر
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = استبدال الرابط المثبت بالرابط الحالي
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = ملف التعديل { -brand-short-name } الخاص بك تالف. تم إعادة تعيينه إلى السمة الافتراضية.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    The new URL bar has been enabled, removing the need for new tab pages.<br/><br/>
    Try opening a new tab to see the new URL bar in action!
zen-disable = Disable
pictureinpicture-minimize-btn = 
    .aria-label = Minimize
    .tooltip = Minimize
zen-panel-ui-gradient-generator-custom-color = لون مخصص
zen-copy-current-url-confirmation = Copied current URL!
zen-general-cancel-label = 
    .label = Cancel
zen-general-confirm = 
    .label = Confirm
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL.
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!
zen-toggle-compact-mode-button = 
    .label = Compact Mode
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = إلى المزيد تعرف
zen-close-label = Close
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Search...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Icons
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Settings
zen-generic-manage = Manage
zen-generic-more = More
zen-generic-next = Next
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Allowed
zen-site-data-setting-block = Blocked
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Extension
zen-site-data-security-info-secure = 
    .label = Secure
zen-site-data-security-info-not-secure = 
    .label = Not Secure
zen-site-data-manage-addons = 
    .label = Manage Extensions
zen-site-data-get-addons = 
    .label = Add Extensions
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copy URL
zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/ar/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/ar/browser/browser/zen-split-view.ftl
================================================
[Binary file]


================================================
FILE: locales/ar/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = علامات التبويب على اليسار
    .accesskey = ر
zen-toolbar-context-compact-mode = 
    .label = الوضع المدمج
zen-toolbar-context-compact-mode-enable = 
    .label = تمكين الوضع المدمج
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Hide sidebar
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = إخفاء شريط الأدوات
zen-toolbar-context-compact-mode-hide-both = 
    .label = إخفاء كليهما
    .accesskey = خ
zen-toolbar-context-new-folder = 
    .label = New Folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Expand Sidebar
sidebar-zen-create-new = 
    .label = Create New...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Unload and switch to tab
           *[other] Unload { $tabCount } tabs and switch to the first
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset and pin tab
           *[other] Reset and pin { $tabCount } tabs
        }
tab-reset-pin-label = Back to pinned url



================================================
FILE: locales/ar/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = كتم لوحة الويب
    .accesskey = م
zen-web-side-panel-context-unmute-panel = 
    .label = إلغاء كتم لوحة الويب
    .accesskey = د
zen-web-side-panel-context-disable-ua = 
    .label = تعطيل وكيل مستخدم الجوال
    .accesskey = يو
zen-web-side-panel-context-enable-ua = 
    .label = تمكين وكيل مستخدم الجوال
    .accesskey = م
zen-web-side-panel-context-unload = 
    .label = إلغاء تحميل لوحة الويب
    .accesskey = ق
zen-web-side-panel-context-delete = 
    .label = حذف لوحة الويب
    .accesskey = د
zen-web-side-panel-open-in-new-tab = 
    .label = فتح في علامة تبويب جديدة
    .accesskey = ن
zen-web-side-panel-context-open-in-container-tab = 
    .label = فتح في علامة تبويب الحاوية
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = إضافة إلى لوحات الويب
    .accesskey = أ
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/ar/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = مرحبا بك في
zen-welcome-title-line2 = إنترنت أكثر هدوء
zen-welcome-import-title = بداية جديدة، نفس المفضّلات
zen-welcome-import-description-1 = المفضّلات، سجل التصفح، وكلمات السر هي أثر خطواتك على الإنترنت…خليها معاك!
zen-welcome-import-description-2 = أحضرهم بسهولة من متصفح آخر وكمل من حيث انتهيت.
zen-welcome-import-button = "استردهم الآن
zen-welcome-set-default-browser = اجعل { -brand-short-name } المتصفح الافتراضي لديك
zen-welcome-dont-set-default-browser = لا تجعل { -brand-short-name } المتصفح الافتراضي لديك
zen-welcome-initial-essentials-title = تبويباتك، دائمًا في متناول يدك
zen-welcome-initial-essentials-description-1 = احرص على أن تظل تبويباتك الأهم سهلة الوصول وفي متناول يدك دائمًا، مهما كان عددها.
zen-welcome-initial-essentials-description-2 = التبويبات الأساسية تبقى مرئية دائمًا، مهما كانت المساحة التي تعمل فيها.
zen-welcome-workspace-colors-title = مساحات عملك، ألوانك
zen-welcome-workspace-colors-description = خصص متصفحك بمنح كل مساحة عمل هُوِيَّة.
zen-welcome-start-browsing-title =
    كل شيء تمام؟<br/>
    يلا نبدأ!
zen-welcome-start-browsing-description-1 = كل حاجة جاهزة، دوس على الزر تحت وابدأ التصفح بـ { -brand-short-name }.
zen-welcome-start-browsing = انطلق!
zen-welcome-default-search-title = محرك البحث الافتراضي
zen-welcome-default-search-description = اختر محرك البحث الافتراضي. يمكنك تغييره لاحقًا!
zen-welcome-skip-button = تخطي
zen-welcome-finished = تم إعداد نسختك بشكل صحيح!



================================================
FILE: locales/ar/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = مساحات العمل
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = إنشاء مساحة عمل
zen-panel-ui-folder-create = 
    .label = إنشاء مِلف
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = حذف مساحة العمل
    .accesskey = د
zen-workspaces-panel-change-name = 
    .label = Change Name
zen-workspaces-panel-change-icon = 
    .label = تغيير الأيقونة
zen-workspaces-panel-context-default-profile = 
    .label = Set Profile
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them
zen-workspaces-change-theme = 
    .label = Edit Theme
zen-workspaces-panel-context-open = 
    .label = فتح فضاء العمل
    .accesskey = ع
zen-workspaces-panel-context-edit = 
    .label = تعديل فضاء العمل
    .accesskey = ه
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a color
zen-workspace-creation-name = 
    .placeholder = Space Name
zen-move-tab-to-workspace-button = 
    .label = نقل إلى...
    .tooltiptext = نقل جميع علامات التبويب في هذه النافذة إلى مساحة
zen-workspaces-panel-context-reorder = 
    .label = Reorder Spaces
zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.
zen-workspaces-delete-workspace-title = Delete Workspace?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = إغلاق جميع علامات التبويب الغير مثبتة
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/ar/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = موضوع مع مخطط ألوان مظلمة و مجرة لطيفة!
extension-firefox-compact-dream-name = زين حلم
extension-firefox-compact-dream-description = موضوع ذو لون خفيف ولمس جميل للأحلام!



================================================
FILE: locales/ar/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = الرابط الأولي
    .accesskey = ص
zen-new-web-panel-user-agent = 
    .value = عرض لوحة الويب هذه في وضع الجوال
    .accesskey = د



================================================
FILE: locales/ar/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = مظهر وشعور
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = تغيير اللغة الافتراضية يمكن أن يجعل من الأسهل على المواقع أن تتبعك.
zen-vertical-tabs-layout-header = Browser Layout
zen-vertical-tabs-layout-description = Choose the layout that suits you best
zen-layout-single-toolbar = Single toolbar
zen-layout-multiple-toolbar = Multiple toolbars
zen-layout-collapsed-toolbar = Collapsed toolbar
sync-currently-syncing-workspaces = Other Workspaces
sync-engine-workspaces = 
    .label = Other Workspaces
    .tooltiptext = مزامنة مساحات العمل الخاصة بك عبر الأجهزة
    .accesskey = W
zen-glance-title = لمحة
zen-glance-header = الإعدادات العامة للنظرة
zen-glance-description = احصل على نظرة عامة سريعة للروابط الخاصة بك دون فتحها في علامة تبويب جديدة
zen-glance-trigger-label = طريقة المشغل
zen-glance-enabled = 
    .label = Enable Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + انقر
zen-glance-trigger-shift-click = 
    .label = المناوبة + انقر
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = إظهار في العرض المدمج
zen-look-and-feel-compact-view-description = فقط إظهار أشرطة الأدوات التي تستخدمها!
zen-look-and-feel-compact-view-enabled = 
    .label = تمكين الوضع المدمج لـ { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = إخفاء شريط الأدوات العلوي أيضا في الوضع المدمج
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = اجعل شريط الأدوات منبثقا عند التبديل أو فتح علامات تبويب جديدة في الوضع المدمج
pane-zen-tabs-title = إدارة علامة التبويب
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = مساحات العمل
zen-tabs-unloader-enabled = 
    .label = تمكين إلغاء تحميل علامة التبويب
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Use themed background for compact toolbar
zen-workspace-continue-where-left-off = 
    .label = Continue where you left off
pane-zen-pinned-tab-manager-title = علامات التبويب المثبتة
zen-pinned-tab-manager-header = الإعدادات العامة لعلامات التبويب المثبتة
zen-pinned-tab-manager-description = إدارة سلوك إضافي من علامات التبويب المثبتة
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = استعادة علامات التبويب المثبتة إلى عنوان URL المثبت أصلاً عند بدء التشغيل
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Enable container-specific essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = إغلاق علامة التبويب سلوك الاختصار
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = إعادة تعيين URL، إلغاء التحميل والتبديل إلى التبويب التالي
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = إلغاء التحميل والتبديل إلى التبويب التالي
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = إعادة تعيين عنوان URL والتبديل إلى علامة التبويب التالية
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = التبديل إلى التبويب التالي
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Reset URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = إغلاق علامة التبويب
pane-zen-workspaces-header = مساحات العمل
zen-settings-workspaces-header = الإعدادات العامة لمساحات العمل
zen-settings-workspaces-description = مع مساحات العمل، يمكنك أن تحصل على عدة جلسات تصفح في وقت واحد!
zen-settings-workspaces-enabled = 
    .label = تمكين مساحات العمل (تجريبي)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = إخفاء مؤشر الحاوية الافتراضي في شريط التبويب
zen-key-unsaved = اختصار غير محفوظ! الرجاء تأمين ذلك بالنقر على مفتاح "الهروب من الخدمة" بعد إعادة الكتابة.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = إعدادات السمة
zen-vertical-tabs-title = تخطيط الشريط الجانبي وعلامات التبويب
zen-vertical-tabs-header = علامات التبويب العمودية
zen-vertical-tabs-description = إدارة علامات التبويب الخاصة بك في تخطيط عمودي
zen-vertical-tabs-show-expand-button = 
    .label = إظهار زر التمديد
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Show New Tab Button on Tab List
zen-vertical-tabs-newtab-top-button-up = 
    .label = Move the new tab button to the top
zen-vertical-tabs-expand-tabs-by-default = توسيع علامات التبويب بشكل افتراضي
zen-vertical-tabs-dont-expand-tabs-by-default = عدم توسيع علامات التبويب بشكل افتراضي
zen-vertical-tabs-expand-tabs-on-hover = توسيع علامات التبويب على Hover (لا تعمل على الوضع المدمج)
zen-vertical-tabs-expand-tabs-header = كيفية توسيع علامات التبويب
zen-vertical-tabs-expand-tabs-description = اختر كيفية توسيع علامات التبويب في الشريط الجانبي
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = تعطيل جميع السمات
zen-theme-disable-all-disabled = 
    .title = تمكين جميع السمات
zen-theme-marketplace-description = البحث عن الثيمات وتثبيتها من المتجر.
zen-theme-marketplace-remove-button = 
    .label = إزالة السمة
zen-theme-marketplace-check-for-updates-button = 
    .label = التحقق من وجود تحديثات
zen-theme-marketplace-import-button = 
    .label = Import mods
zen-theme-marketplace-export-button = 
    .label = Export Mods
zen-theme-marketplace-import-success = Mods imported successfully
zen-theme-marketplace-import-failure = There was an error importing the mods
zen-theme-marketplace-export-success = Mods exported successfully
zen-theme-marketplace-export-failure = There was an error exporting the mods
zen-theme-marketplace-updates-success = تم تحديث السمة بنجاح
zen-theme-marketplace-updates-failure = Couldn't find any updates!
zen-theme-marketplace-toggle-enabled-button = 
    .title = تعطيل السمة
zen-theme-marketplace-toggle-disabled-button = 
    .title = تمكين السمة
zen-theme-marketplace-remove-confirmation = هل أنت متأكد من أنك تريد إزالة هذا الوضع؟
zen-theme-marketplace-close-modal = أغلق
zen-theme-marketplace-theme-header-title = 
    .title = محدد CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = لا
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = اكتب شيئاً...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Automatically update installed mods on startup
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = التبديل إلى فضاء العمل حيث يتم تعيين الحاوية بشكل افتراضي عند فتح علامات التبويب الحاوية
zen-theme-marketplace-link = زيارة المتجر
zen-dark-theme-styles-header = أنماط السمة المظلمة
zen-dark-theme-styles-description = تخصيص السمة المظلمة لإعجابك
zen-dark-theme-styles-amoled = السمة الليلية
zen-dark-theme-styles-default = سمة الظلام الافتراضية
zen-dark-theme-styles-colorful = سمة مظلمة ملونة
zen-compact-mode-styles-left = إخفاء شريط التبويب
zen-compact-mode-styles-top = إخفاء أعلى شريط
zen-compact-mode-styles-both = إخفاء كليهما
zen-urlbar-title = Zen URL Bar
zen-urlbar-header = General settings for the URL bar
zen-urlbar-description = Customize the URL bar to your liking
zen-urlbar-behavior-label = Behavior
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Floating only when typing
zen-urlbar-behavior-float = 
    .label = Always floating
pane-zen-CKS-title = اختصارات لوحة المفاتيح
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } اختصارات لوحة المفاتيح
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = تخصيص اختصارات لوحة المفاتيح
zen-settings-CKS-description = تغيير اختصارات لوحة المفاتيح الافتراضية إلى إعجابك وتحسين تجربة التصفح
zen-settings-CKS-disable-firefox = 
    .label = تعطيل اختصارات لوحة المفاتيح الافتراضية { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicate Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = إعادة التعيين إلى الافتراضي
zenCKSOption-group-other = اخرى
zenCKSOption-group-windowAndTabManagement = إدارة النافذة و التبويب
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = البحث والبحث
zenCKSOption-group-pageOperations = عمليات الصفحة
zenCKSOption-group-historyAndBookmarks = المحفوظات والعلامات
zenCKSOption-group-mediaAndDisplay = الوسائط و العرض
zenCKSOption-group-zen-compact-mode = الوضع المضغوط
zenCKSOption-group-zen-workspace = Other Workspaces
zenCKSOption-group-zen-other = ميزات زين أخرى
zenCKSOption-group-zen-split-view = تقسيم العرض
zenCKSOption-group-devTools = أدوات المطور
zen-key-quick-restart = إعادة تشغيل سريعة
zen-window-new-shortcut = نافذة جديدة
zen-tab-new-shortcut = New Tab
zen-key-redo = إعادة
zen-restore-last-closed-tab-shortcut = استعادة آخر علامة تبويب مغلقة
zen-location-open-shortcut = فتح الموقع
zen-location-open-shortcut-alt = فتح الموقع (بديل)
zen-key-undo-close-window = التراجع عن إغلاق النافذة
zen-text-action-undo-shortcut = التراجع
zen-text-action-redo-shortcut = إعادة
zen-text-action-cut-shortcut = قطع
zen-text-action-copy-shortcut = نسخ
zen-text-action-copy-url-shortcut = Copy current URL
zen-text-action-copy-url-markdown-shortcut = نسخ الرابط الحالي كـ Markdown
zen-text-action-paste-shortcut = لصق
zen-text-action-select-all-shortcut = حدد الكل
zen-text-action-delete-shortcut = حذف
zen-history-show-all-shortcut-mac = إظهار كل المحفوظات (ماك)
zen-full-screen-shortcut = تبديل ملء الشاشة
zen-reader-mode-toggle-shortcut-windows = تبديل وضع القارئ (ويندوز)
zen-picture-in-picture-toggle-shortcut-alt = تبديل الصورة في الصورة (بديل)
zen-picture-in-picture-toggle-shortcut-mac = تبديل الصورة في الصورة (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = تبديل الصورة في الصورة (Mac Alt)
zen-page-source-shortcut-safari = عرض مصدر الصفحة (سفاري)
zen-nav-stop-shortcut = إيقاف التحميل
zen-history-sidebar-shortcut = Show History Sidebar
zen-window-minimize-shortcut = تصغير النافذة
zen-help-shortcut = فتح المساعدة
zen-preferences-shortcut = فتح التفضيلات
zen-hide-app-shortcut = إخفاء التطبيق
zen-hide-other-apps-shortcut = إخفاء التطبيقات الأخرى
zen-search-focus-shortcut = بحث التركيز
zen-search-focus-shortcut-alt = بحث التركيز (بديل)
zen-downloads-shortcut = Open Downloads
zen-addons-shortcut = افتح الإضافات
zen-file-open-shortcut = فتح ملف
zen-save-page-shortcut = Save Page
zen-print-shortcut = Print Page
zen-close-shortcut-2 = Close Tab
zen-mute-toggle-shortcut = تبديل كتم الصوت
zen-key-delete = حذف المفتاح
zen-key-go-back = العودة إلى الوراء
zen-key-go-forward = الذهاب إلى الأمام
zen-nav-back-shortcut-alt = الانتقال إلى الوراء (بديل)
zen-nav-fwd-shortcut-alt = الانتقال إلى الأمام (بديل)
zen-history-show-all-shortcut = إظهار كل المحفوظات
zen-key-enter-full-screen = أدخل ملء الشاشة
zen-key-exit-full-screen = الخروج من ملء الشاشة
zen-ai-chatbot-sidebar-shortcut = Toggle AI Chatbot Sidebar
zen-key-inspector-mac = Toggle Inspector (Mac)
zen-toggle-sidebar-shortcut = Toggle Firefox Sidebar
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = تبديل وضع القراءة
zen-picture-in-picture-toggle-shortcut = تبديل الصورة في الصورة
zen-nav-reload-shortcut-2 = إعادة تحميل الصفحة
zen-key-about-processes = حول العمليات
zen-page-source-shortcut = عرض مصدر الصفحة
zen-page-info-shortcut = عرض معلومات الصفحة
zen-find-shortcut = البحث في الصفحة
zen-search-find-again-shortcut = البحث مرة أخرى
zen-search-find-again-shortcut-prev = البحث عن السابق
zen-search-find-again-shortcut-2 = ابحث مرة أخرى (بديل)
zen-bookmark-this-page-shortcut = Bookmark This Page
zen-bookmark-show-library-shortcut = إظهار مكتبة الإشارات المرجعية
zen-key-stop = إيقاف التحميل
zen-full-zoom-reduce-shortcut = Zoom Out
zen-full-zoom-enlarge-shortcut = Zoom In
zen-full-zoom-reset-shortcut = Reset Zoom
zen-full-zoom-reset-shortcut-alt = Reset Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom In (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom In (Alt 2)
zen-bidi-switch-direction-shortcut = تبديل اتجاه النص
zen-private-browsing-shortcut = تصفح خاص
zen-screenshot-shortcut = التقاط لقطة الشاشة
zen-key-sanitize = مسح بيانات التصفح
zen-quit-app-shortcut = Quit Application
zen-key-wr-capture-cmd = أمر القبض على WR
zen-key-wr-toggle-capture-sequence-cmd = تبديل تسلسل التقاط WR
zen-nav-reload-shortcut = إعادة تحميل الصفحة
zen-nav-reload-shortcut-skip-cache = Reload Page (Skip Cache)
zen-close-shortcut = Close Window
zen-close-tab-shortcut = Close Tab
zen-compact-mode-shortcut-show-sidebar = تبديل الشريط الجانبي العائم
zen-compact-mode-shortcut-show-toolbar = تبديل شريط الأدوات العائم
zen-compact-mode-shortcut-toggle = Toggle Compact Mode
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = التبديل إلى مساحة العمل 1
zen-workspace-shortcut-switch-2 = التبديل إلى مساحة العمل 2
zen-workspace-shortcut-switch-3 = التبديل إلى مساحة العمل 3
zen-workspace-shortcut-switch-4 = التبديل إلى مساحة العمل 4
zen-workspace-shortcut-switch-5 = التبديل إلى مساحة العمل 5
zen-workspace-shortcut-switch-6 = التبديل إلى مساحة العمل 6
zen-workspace-shortcut-switch-7 = التبديل إلى مساحة العمل 7
zen-workspace-shortcut-switch-8 = التبديل إلى مساحة العمل 8
zen-workspace-shortcut-switch-9 = التبديل إلى مساحة العمل 9
zen-workspace-shortcut-switch-10 = التبديل إلى مساحة العمل 10
zen-workspace-shortcut-forward = إلى الأمام فضاء العمل
zen-workspace-shortcut-backward = مساحة العمل الخلفية
zen-sidebar-shortcut-toggle = تبديل عرض شريط العرض
zen-pinned-tab-shortcut-reset = إعادة تعيين علامة التبويب المثبتة إلى عنوان URL المثبت
zen-split-view-shortcut-grid = تبديل عرض تقسيم الشبكة
zen-split-view-shortcut-vertical = تبديل العرض العمودي للتقسيم
zen-split-view-shortcut-horizontal = تبديل عرض تقسيم أفقي
zen-split-view-shortcut-unsplit = Close Split View
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Select tab #1
zen-key-select-tab-2 = Select tab #2
zen-key-select-tab-3 = Select tab #3
zen-key-select-tab-4 = حدد علامة التبويب #4
zen-key-select-tab-5 = حدد علامة التبويب #5
zen-key-select-tab-6 = Select tab #6
zen-key-select-tab-7 = حدد علامة التبويب #7
zen-key-select-tab-8 = Select tab #8
zen-key-select-tab-last = حدد علامة التبويب الأخيرة
zen-key-show-all-tabs = إظهار جميع علامات التبويب
zen-key-goto-history = الذهاب إلى المحفوظات
zen-key-go-home = الذهاب إلى المنزل
zen-bookmark-show-sidebar-shortcut = إظهار شريط الإشارات الجانبي
zen-bookmark-show-toolbar-shortcut = إظهار شريط أدوات الإشارات المرجعية
zen-devtools-toggle-shortcut = Toggle DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Toggle Browser Toolbox
zen-devtools-toggle-browser-console-shortcut = Toggle Browser Console
zen-devtools-toggle-responsive-design-mode-shortcut = Toggle Responsive Design Mode
zen-devtools-toggle-inspector-shortcut = Toggle Inspector
zen-devtools-toggle-web-console-shortcut = Toggle Web Console
zen-devtools-toggle-js-debugger-shortcut = Toggle JavaScript Debugger
zen-devtools-toggle-net-monitor-shortcut = Toggle Network Monitor
zen-devtools-toggle-style-editor-shortcut = Toggle Style Editor
zen-devtools-toggle-performance-shortcut = Toggle Performance
zen-devtools-toggle-storage-shortcut = Toggle Storage
zen-devtools-toggle-dom-shortcut = Toggle DOM
zen-devtools-toggle-accessibility-shortcut = Toggle Accessibility
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/bg/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/bg/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = current profile
unified-extensions-description = Extensions are used to bring more extra functionality into { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Reset Pinned Tab
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Replace Pinned URL with Current
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Your { -brand-short-name } mods file is corrupted. They have been reset to the default theme.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    The new URL bar has been enabled, removing the need for new tab pages.<br/><br/>
    Try opening a new tab to see the new URL bar in action!
zen-disable = Disable
pictureinpicture-minimize-btn = 
    .aria-label = Minimize
    .tooltip = Minimize
zen-panel-ui-gradient-generator-custom-color = Custom Color
zen-copy-current-url-confirmation = Copied current URL!
zen-general-cancel-label = 
    .label = Cancel
zen-general-confirm = 
    .label = Confirm
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL!
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!
zen-toggle-compact-mode-button = 
    .label = Compact Mode
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Learn More
zen-close-label = Close
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Search...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Icons
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Settings
zen-generic-manage = Manage
zen-generic-more = More
zen-generic-next = Next
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Allowed
zen-site-data-setting-block = Blocked
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Extension
zen-site-data-security-info-secure = 
    .label = Secure
zen-site-data-security-info-not-secure = 
    .label = Not Secure
zen-site-data-manage-addons = 
    .label = Manage Extensions
zen-site-data-get-addons = 
    .label = Add Extensions
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copy URL
zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/bg/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/bg/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Tab (multiple selected tabs needed)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S
zen-split-link = 
    .label = Split link to new tab
    .accesskey = S
zen-split-view-modifier-header = Split View
zen-split-view-modifier-activate-reallocation = 
    .label = Activate reallocation
zen-split-view-modifier-enabled-toast = Split view rearrange is ON.
zen-split-view-modifier-enabled-toast-description = Drag and drop the view to rearrange. Press Esc to exit.
zen-split-view-modifier-disabled-toast = Split view rearrange is OFF.



================================================
FILE: locales/bg/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabs on the right
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Compact Mode
zen-toolbar-context-compact-mode-enable = 
    .label = Enable compact mode
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Hide sidebar
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Hide toolbar
zen-toolbar-context-compact-mode-hide-both = 
    .label = Hide both
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = New Folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Expand Sidebar
sidebar-zen-create-new = 
    .label = Create New...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Unload and switch to tab
           *[other] Unload { $tabCount } tabs and switch to the first
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset and pin tab
           *[other] Reset and pin { $tabCount } tabs
        }
tab-reset-pin-label = Back to pinned url



================================================
FILE: locales/bg/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Welcome to
zen-welcome-title-line2 = a calmer internet
zen-welcome-import-title = A Fresh Start, Same Bookmarks
zen-welcome-import-description-1 = Your bookmarks, history, and passwords are like a trail of breadcrumbs through the internet—don’t leave them behind!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off.
zen-welcome-import-button = Import now
zen-welcome-set-default-browser = Set { -brand-short-name } as your default browser
zen-welcome-dont-set-default-browser = DON’T set { -brand-short-name } as your default browser
zen-welcome-initial-essentials-title = Your Key Tabs, Always Within Reach
zen-welcome-initial-essentials-description-1 = Keep your most important tabs easily accessible and always at hand, no matter how many you open.
zen-welcome-initial-essentials-description-2 = Essential tabs are always visible, no matter what workspace you are in.
zen-welcome-workspace-colors-title = Your Workspaces, Your Colors
zen-welcome-workspace-colors-description = Personalize your browser by giving each workspace its own unique color identity.
zen-welcome-start-browsing-title =
    All set?<br/>
    Let’s get rolling!
zen-welcome-start-browsing-description-1 = You’re all set up and ready to go. Click the button below to start browsing with { -brand-short-name }.
zen-welcome-start-browsing = Dive in!
zen-welcome-default-search-title = Your Default Search Engine
zen-welcome-default-search-description = Choose your default search engine. You can always change it later!
zen-welcome-skip-button = Skip
zen-welcome-finished = Your Zen has been set up correctly!



================================================
FILE: locales/bg/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Spaces
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Create Space
zen-panel-ui-folder-create = 
    .label = Create Folder
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = Delete Space
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Change Name
zen-workspaces-panel-change-icon = 
    .label = Change Icon
zen-workspaces-panel-context-default-profile = 
    .label = Set Profile
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them
zen-workspaces-change-theme = 
    .label = Edit Theme
zen-workspaces-panel-context-open = 
    .label = Open Workspace
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Edit Space
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a color
zen-workspace-creation-name = 
    .placeholder = Space Name
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Reorder Spaces
zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.
zen-workspaces-delete-workspace-title = Delete Space?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/bg/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Look and Feel
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Changing the default language could make it easier for Websites to track you.
zen-vertical-tabs-layout-header = Browser Layout
zen-vertical-tabs-layout-description = Choose the layout that suits you best
zen-layout-single-toolbar = Only Sidebar
zen-layout-multiple-toolbar = Sidebar and Top Toolbar
zen-layout-collapsed-toolbar = Collapsed Sidebar
sync-currently-syncing-workspaces = Workspaces
sync-engine-workspaces = 
    .label = Workspaces
    .tooltiptext = Sync your workspaces across devices
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = General settings for glance
zen-glance-description = Get a quick overview of your links without opening them in a new tab
zen-glance-trigger-label = Trigger method
zen-glance-enabled = 
    .label = Enable Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + Click
zen-glance-trigger-shift-click = 
    .label = Shift + Click
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = Show in compact view
zen-look-and-feel-compact-view-description = Only show the toolbars you use!
zen-look-and-feel-compact-view-enabled = 
    .label = Enable { -brand-short-name }'s compact mode
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Hide the top toolbar as well in compact mode
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Briefly make the toolbar popup when switching or opening new tabs in compact mode
pane-zen-tabs-title = Tab Management
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Workspaces
zen-tabs-unloader-enabled = 
    .label = Enable Tab Unloader
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Use themed background for compact toolbar
zen-workspace-continue-where-left-off = 
    .label = Continue where you left off
pane-zen-pinned-tab-manager-title = Pinned Tabs
zen-pinned-tab-manager-header = General settings for pinned tabs
zen-pinned-tab-manager-description = Manage additional behavior of pinned tabs
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restore pinned tabs to their originally pinned URL on startup
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Enable container-specific essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Close Tab Shortcut Behavior
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Reset URL, unload and switch to next tab
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Unload and switch to next tab
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Reset URL and switch to next tab
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Switch to next tab
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Reset URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Close tab
pane-zen-workspaces-header = Workspaces
zen-settings-workspaces-header = General settings for workspaces
zen-settings-workspaces-description = With workspaces, you can have multiple browsing sessions at once!
zen-settings-workspaces-enabled = 
    .label = Enable Workspaces
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Hide the default container indicator in the tab bar
zen-key-unsaved = Unsaved shortcut! Please save it by clicking the "Escape" key after retyping it.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = Theme Settings
zen-vertical-tabs-title = Sidebar and tabs layout
zen-vertical-tabs-header = Vertical Tabs
zen-vertical-tabs-description = Manage your tabs in a vertical layout
zen-vertical-tabs-show-expand-button = 
    .label = Show Expand Button
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Show New Tab Button on Tab List
zen-vertical-tabs-newtab-top-button-up = 
    .label = Move the new tab button to the top
zen-vertical-tabs-expand-tabs-by-default = Expand Tabs by Default
zen-vertical-tabs-dont-expand-tabs-by-default = Don't Expand Tabs by Default
zen-vertical-tabs-expand-tabs-on-hover = Expand Tabs on Hover (Won't work on compact mode)
zen-vertical-tabs-expand-tabs-header = How to expand tabs
zen-vertical-tabs-expand-tabs-description = Choose how to expand tabs in the sidebar
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Disable all mods
zen-theme-disable-all-disabled = 
    .title = Enable all mods
zen-theme-marketplace-description = Find and install mods from the store.
zen-theme-marketplace-remove-button = 
    .label = Remove mod
zen-theme-marketplace-check-for-updates-button = 
    .label = Check for Updates
zen-theme-marketplace-import-button = 
    .label = Import mods
zen-theme-marketplace-export-button = 
    .label = Export Mods
zen-theme-marketplace-import-success = Mods imported successfully
zen-theme-marketplace-import-failure = There was an error importing the mods
zen-theme-marketplace-export-success = Mods exported successfully
zen-theme-marketplace-export-failure = There was an error exporting the mods
zen-theme-marketplace-updates-success = Mods updated successfully
zen-theme-marketplace-updates-failure = Couldn't find any updates!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Disable mod
zen-theme-marketplace-toggle-disabled-button = 
    .title = Enable mod
zen-theme-marketplace-remove-confirmation = Are you sure you want to remove this mod?
zen-theme-marketplace-close-modal = Close
zen-theme-marketplace-theme-header-title = 
    .title = CSS Selector: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = None
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Type something...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Automatically update installed mods on startup
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Switch to workspace where container is set as default when opening container tabs
zen-theme-marketplace-link = Visit Store
zen-dark-theme-styles-header = Dark Theme Styles
zen-dark-theme-styles-description = Customize the dark theme to your liking
zen-dark-theme-styles-amoled = Night Theme
zen-dark-theme-styles-default = Default Dark Theme
zen-dark-theme-styles-colorful = Colorful Dark Theme
zen-compact-mode-styles-left = Hide Tab bar
zen-compact-mode-styles-top = Hide Top bar
zen-compact-mode-styles-both = Hide Both
zen-urlbar-title = Zen URL Bar
zen-urlbar-header = General settings for the URL bar
zen-urlbar-description = Customize the URL bar to your liking
zen-urlbar-behavior-label = Behavior
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Floating only when typing
zen-urlbar-behavior-float = 
    .label = Always floating
pane-zen-CKS-title = Keyboard Shortcuts
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Keyboard Shortcuts
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Customize your keyboard shortcuts
zen-settings-CKS-description = Change the default keyboard shortcuts to your liking and improve your browsing experience
zen-settings-CKS-disable-firefox = 
    .label = Disable { -brand-short-name }'s default keyboard shortcuts
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicate Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = Reset to Default
zenCKSOption-group-other = Other
zenCKSOption-group-windowAndTabManagement = Window & Tab Management
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Search & Find
zenCKSOption-group-pageOperations = Page Operations
zenCKSOption-group-historyAndBookmarks = History & Bookmarks
zenCKSOption-group-mediaAndDisplay = Media & Display
zenCKSOption-group-zen-compact-mode = Compact Mode
zenCKSOption-group-zen-workspace = Workspaces
zenCKSOption-group-zen-other = Other Zen Features
zenCKSOption-group-zen-split-view = Split View
zenCKSOption-group-devTools = Developer Tools
zen-key-quick-restart = Quick Restart
zen-window-new-shortcut = New Window
zen-tab-new-shortcut = New Tab
zen-key-redo = Redo
zen-restore-last-closed-tab-shortcut = Restore Last Closed Tab
zen-location-open-shortcut = Open Location
zen-location-open-shortcut-alt = Open Location (Alt)
zen-key-undo-close-window = Undo Close Window
zen-text-action-undo-shortcut = Undo
zen-text-action-redo-shortcut = Redo
zen-text-action-cut-shortcut = Cut
zen-text-action-copy-shortcut = Copy
zen-text-action-copy-url-shortcut = Copy current URL
zen-text-action-copy-url-markdown-shortcut = Copy current URL as Markdown
zen-text-action-paste-shortcut = Paste
zen-text-action-select-all-shortcut = Select All
zen-text-action-delete-shortcut = Delete
zen-history-show-all-shortcut-mac = Show All History (Mac)
zen-full-screen-shortcut = Toggle Full Screen
zen-reader-mode-toggle-shortcut-windows = Toggle Reader Mode (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Toggle Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Toggle Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Toggle Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = View Page Source (Safari)
zen-nav-stop-shortcut = Stop Loading
zen-history-sidebar-shortcut = Show History Sidebar
zen-window-minimize-shortcut = Minimize Window
zen-help-shortcut = Open Help
zen-preferences-shortcut = Open Preferences
zen-hide-app-shortcut = Hide Application
zen-hide-other-apps-shortcut = Hide Other Applications
zen-search-focus-shortcut = Focus Search
zen-search-focus-shortcut-alt = Focus Search (Alt)
zen-downloads-shortcut = Open Downloads
zen-addons-shortcut = Open Add-ons
zen-file-open-shortcut = Open File
zen-save-page-shortcut = Save Page
zen-print-shortcut = Print Page
zen-close-shortcut-2 = Close Tab
zen-mute-toggle-shortcut = Toggle Mute
zen-key-delete = Delete Key
zen-key-go-back = Go Back
zen-key-go-forward = Go Forward
zen-nav-back-shortcut-alt = Navigate Back (Alt)
zen-nav-fwd-shortcut-alt = Navigate Forward (Alt)
zen-history-show-all-shortcut = Show All History
zen-key-enter-full-screen = Enter Full Screen
zen-key-exit-full-screen = Exit Full Screen
zen-ai-chatbot-sidebar-shortcut = Toggle AI Chatbot Sidebar
zen-key-inspector-mac = Toggle Inspector (Mac)
zen-toggle-sidebar-shortcut = Toggle Firefox Sidebar
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = Toggle Reader Mode
zen-picture-in-picture-toggle-shortcut = Toggle Picture-in-Picture
zen-nav-reload-shortcut-2 = Reload Page
zen-key-about-processes = About Processes
zen-page-source-shortcut = View Page Source
zen-page-info-shortcut = View Page Info
zen-find-shortcut = Find on Page
zen-search-find-again-shortcut = Find Again
zen-search-find-again-shortcut-prev = Find Previous
zen-search-find-again-shortcut-2 = Find Again (Alt)
zen-bookmark-this-page-shortcut = Bookmark This Page
zen-bookmark-show-library-shortcut = Show Bookmarks Library
zen-key-stop = Stop Loading
zen-full-zoom-reduce-shortcut = Zoom Out
zen-full-zoom-enlarge-shortcut = Zoom In
zen-full-zoom-reset-shortcut = Reset Zoom
zen-full-zoom-reset-shortcut-alt = Reset Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom In (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom In (Alt 2)
zen-bidi-switch-direction-shortcut = Switch Text Direction
zen-private-browsing-shortcut = Private Browsing
zen-screenshot-shortcut = Take Screenshot
zen-key-sanitize = Clear Browsing Data
zen-quit-app-shortcut = Quit Application
zen-key-wr-capture-cmd = WR Capture Command
zen-key-wr-toggle-capture-sequence-cmd = Toggle WR Capture Sequence
zen-nav-reload-shortcut = Reload Page
zen-nav-reload-shortcut-skip-cache = Reload Page (Skip Cache)
zen-close-shortcut = Close Window
zen-close-tab-shortcut = Close Tab
zen-compact-mode-shortcut-show-sidebar = Toggle Floating Sidebar
zen-compact-mode-shortcut-show-toolbar = Toggle Floating Toolbar
zen-compact-mode-shortcut-toggle = Toggle Compact Mode
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = Switch to Workspace 1
zen-workspace-shortcut-switch-2 = Switch to Workspace 2
zen-workspace-shortcut-switch-3 = Switch to Workspace 3
zen-workspace-shortcut-switch-4 = Switch to Workspace 4
zen-workspace-shortcut-switch-5 = Switch to Workspace 5
zen-workspace-shortcut-switch-6 = Switch to Workspace 6
zen-workspace-shortcut-switch-7 = Switch to Workspace 7
zen-workspace-shortcut-switch-8 = Switch to Workspace 8
zen-workspace-shortcut-switch-9 = Switch to Workspace 9
zen-workspace-shortcut-switch-10 = Switch to Workspace 10
zen-workspace-shortcut-forward = Forward Workspace
zen-workspace-shortcut-backward = Backward Workspace
zen-sidebar-shortcut-toggle = Toggle Sidebar's Width
zen-pinned-tab-shortcut-reset = Reset Pinned Tab to Pinned URL
zen-split-view-shortcut-grid = Toggle Split View Grid
zen-split-view-shortcut-vertical = Toggle Split View Vertical
zen-split-view-shortcut-horizontal = Toggle Split View Horizontal
zen-split-view-shortcut-unsplit = Close Split View
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Select tab #1
zen-key-select-tab-2 = Select tab #2
zen-key-select-tab-3 = Select tab #3
zen-key-select-tab-4 = Select tab #4
zen-key-select-tab-5 = Select tab #5
zen-key-select-tab-6 = Select tab #6
zen-key-select-tab-7 = Select tab #7
zen-key-select-tab-8 = Select tab #8
zen-key-select-tab-last = Select last tab
zen-key-show-all-tabs = Show all tabs
zen-key-goto-history = Go to history
zen-key-go-home = Go Home
zen-bookmark-show-sidebar-shortcut = Show Bookmarks Sidebar
zen-bookmark-show-toolbar-shortcut = Show Bookmarks Toolbar
zen-devtools-toggle-shortcut = Toggle DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Toggle Browser Toolbox
zen-devtools-toggle-browser-console-shortcut = Toggle Browser Console
zen-devtools-toggle-responsive-design-mode-shortcut = Toggle Responsive Design Mode
zen-devtools-toggle-inspector-shortcut = Toggle Inspector
zen-devtools-toggle-web-console-shortcut = Toggle Web Console
zen-devtools-toggle-js-debugger-shortcut = Toggle JavaScript Debugger
zen-devtools-toggle-net-monitor-shortcut = Toggle Network Monitor
zen-devtools-toggle-style-editor-shortcut = Toggle Style Editor
zen-devtools-toggle-performance-shortcut = Toggle Performance
zen-devtools-toggle-storage-shortcut = Toggle Storage
zen-devtools-toggle-dom-shortcut = Toggle DOM
zen-devtools-toggle-accessibility-shortcut = Toggle Accessibility
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/bs/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/bs/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = current profile
unified-extensions-description = Extensions are used to bring more extra functionality into { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Reset Pinned Tab
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Replace Pinned URL with Current
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Your { -brand-short-name } mods file is corrupted. They have been reset to the default theme.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    The new URL bar has been enabled, removing the need for new tab pages.<br/><br/>
    Try opening a new tab to see the new URL bar in action!
zen-disable = Disable
pictureinpicture-minimize-btn = 
    .aria-label = Minimize
    .tooltip = Minimize
zen-panel-ui-gradient-generator-custom-color = Custom Color
zen-copy-current-url-confirmation = Copied current URL!
zen-general-cancel-label = 
    .label = Cancel
zen-general-confirm = 
    .label = Confirm
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL!
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!
zen-toggle-compact-mode-button = 
    .label = Compact Mode
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Learn More
zen-close-label = Close
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Search...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Icons
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Settings
zen-generic-manage = Manage
zen-generic-more = More
zen-generic-next = Next
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Allowed
zen-site-data-setting-block = Blocked
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Extension
zen-site-data-security-info-secure = 
    .label = Secure
zen-site-data-security-info-not-secure = 
    .label = Not Secure
zen-site-data-manage-addons = 
    .label = Manage Extensions
zen-site-data-get-addons = 
    .label = Add Extensions
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copy URL
zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/bs/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/bs/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Tab (multiple selected tabs needed)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S
zen-split-link = 
    .label = Split link to new tab
    .accesskey = S
zen-split-view-modifier-header = Split View
zen-split-view-modifier-activate-reallocation = 
    .label = Activate reallocation
zen-split-view-modifier-enabled-toast = Split view rearrange is ON.
zen-split-view-modifier-enabled-toast-description = Drag and drop the view to rearrange. Press Esc to exit.
zen-split-view-modifier-disabled-toast = Split view rearrange is OFF.



================================================
FILE: locales/bs/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabs on the right
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Compact Mode
zen-toolbar-context-compact-mode-enable = 
    .label = Enable compact mode
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Hide sidebar
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Hide toolbar
zen-toolbar-context-compact-mode-hide-both = 
    .label = Hide both
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = New Folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Expand Sidebar
sidebar-zen-create-new = 
    .label = Create New...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Unload and switch to tab
           *[other] Unload { $tabCount } tabs and switch to the first
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset and pin tab
           *[other] Reset and pin { $tabCount } tabs
        }
tab-reset-pin-label = Back to pinned url



================================================
FILE: locales/bs/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Welcome to
zen-welcome-title-line2 = a calmer internet
zen-welcome-import-title = A Fresh Start, Same Bookmarks
zen-welcome-import-description-1 = Your bookmarks, history, and passwords are like a trail of breadcrumbs through the internet—don’t leave them behind!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off.
zen-welcome-import-button = Import now
zen-welcome-set-default-browser = Set { -brand-short-name } as your default browser
zen-welcome-dont-set-default-browser = DON’T set { -brand-short-name } as your default browser
zen-welcome-initial-essentials-title = Your Key Tabs, Always Within Reach
zen-welcome-initial-essentials-description-1 = Keep your most important tabs easily accessible and always at hand, no matter how many you open.
zen-welcome-initial-essentials-description-2 = Essential tabs are always visible, no matter what workspace you are in.
zen-welcome-workspace-colors-title = Your Workspaces, Your Colors
zen-welcome-workspace-colors-description = Personalize your browser by giving each workspace its own unique color identity.
zen-welcome-start-browsing-title =
    All set?<br/>
    Let’s get rolling!
zen-welcome-start-browsing-description-1 = You’re all set up and ready to go. Click the button below to start browsing with { -brand-short-name }.
zen-welcome-start-browsing = Dive in!
zen-welcome-default-search-title = Your Default Search Engine
zen-welcome-default-search-description = Choose your default search engine. You can always change it later!
zen-welcome-skip-button = Skip
zen-welcome-finished = Your Zen has been set up correctly!



================================================
FILE: locales/bs/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Spaces
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Create Space
zen-panel-ui-folder-create = 
    .label = Create Folder
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = Delete Space
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Change Name
zen-workspaces-panel-change-icon = 
    .label = Change Icon
zen-workspaces-panel-context-default-profile = 
    .label = Set Profile
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them
zen-workspaces-change-theme = 
    .label = Edit Theme
zen-workspaces-panel-context-open = 
    .label = Open Workspace
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Edit Space
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a color
zen-workspace-creation-name = 
    .placeholder = Space Name
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Reorder Spaces
zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.
zen-workspaces-delete-workspace-title = Delete Space?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/bs/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Look and Feel
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Changing the default language could make it easier for Websites to track you.
zen-vertical-tabs-layout-header = Browser Layout
zen-vertical-tabs-layout-description = Choose the layout that suits you best
zen-layout-single-toolbar = Only Sidebar
zen-layout-multiple-toolbar = Sidebar and Top Toolbar
zen-layout-collapsed-toolbar = Collapsed Sidebar
sync-currently-syncing-workspaces = Workspaces
sync-engine-workspaces = 
    .label = Workspaces
    .tooltiptext = Sync your workspaces across devices
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = General settings for glance
zen-glance-description = Get a quick overview of your links without opening them in a new tab
zen-glance-trigger-label = Trigger method
zen-glance-enabled = 
    .label = Enable Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + Click
zen-glance-trigger-shift-click = 
    .label = Shift + Click
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = Show in compact view
zen-look-and-feel-compact-view-description = Only show the toolbars you use!
zen-look-and-feel-compact-view-enabled = 
    .label = Enable { -brand-short-name }'s compact mode
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Hide the top toolbar as well in compact mode
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Briefly make the toolbar popup when switching or opening new tabs in compact mode
pane-zen-tabs-title = Tab Management
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Workspaces
zen-tabs-unloader-enabled = 
    .label = Enable Tab Unloader
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Use themed background for compact toolbar
zen-workspace-continue-where-left-off = 
    .label = Continue where you left off
pane-zen-pinned-tab-manager-title = Pinned Tabs
zen-pinned-tab-manager-header = General settings for pinned tabs
zen-pinned-tab-manager-description = Manage additional behavior of pinned tabs
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restore pinned tabs to their originally pinned URL on startup
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Enable container-specific essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Close Tab Shortcut Behavior
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Reset URL, unload and switch to next tab
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Unload and switch to next tab
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Reset URL and switch to next tab
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Switch to next tab
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Reset URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Close tab
pane-zen-workspaces-header = Workspaces
zen-settings-workspaces-header = General settings for workspaces
zen-settings-workspaces-description = With workspaces, you can have multiple browsing sessions at once!
zen-settings-workspaces-enabled = 
    .label = Enable Workspaces
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Hide the default container indicator in the tab bar
zen-key-unsaved = Unsaved shortcut! Please save it by clicking the "Escape" key after retyping it.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = Theme Settings
zen-vertical-tabs-title = Sidebar and tabs layout
zen-vertical-tabs-header = Vertical Tabs
zen-vertical-tabs-description = Manage your tabs in a vertical layout
zen-vertical-tabs-show-expand-button = 
    .label = Show Expand Button
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Show New Tab Button on Tab List
zen-vertical-tabs-newtab-top-button-up = 
    .label = Move the new tab button to the top
zen-vertical-tabs-expand-tabs-by-default = Expand Tabs by Default
zen-vertical-tabs-dont-expand-tabs-by-default = Don't Expand Tabs by Default
zen-vertical-tabs-expand-tabs-on-hover = Expand Tabs on Hover (Won't work on compact mode)
zen-vertical-tabs-expand-tabs-header = How to expand tabs
zen-vertical-tabs-expand-tabs-description = Choose how to expand tabs in the sidebar
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Disable all mods
zen-theme-disable-all-disabled = 
    .title = Enable all mods
zen-theme-marketplace-description = Find and install mods from the store.
zen-theme-marketplace-remove-button = 
    .label = Remove mod
zen-theme-marketplace-check-for-updates-button = 
    .label = Check for Updates
zen-theme-marketplace-import-button = 
    .label = Import mods
zen-theme-marketplace-export-button = 
    .label = Export Mods
zen-theme-marketplace-import-success = Mods imported successfully
zen-theme-marketplace-import-failure = There was an error importing the mods
zen-theme-marketplace-export-success = Mods exported successfully
zen-theme-marketplace-export-failure = There was an error exporting the mods
zen-theme-marketplace-updates-success = Mods updated successfully
zen-theme-marketplace-updates-failure = Couldn't find any updates!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Disable mod
zen-theme-marketplace-toggle-disabled-button = 
    .title = Enable mod
zen-theme-marketplace-remove-confirmation = Are you sure you want to remove this mod?
zen-theme-marketplace-close-modal = Close
zen-theme-marketplace-theme-header-title = 
    .title = CSS Selector: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = None
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Type something...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Automatically update installed mods on startup
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Switch to workspace where container is set as default when opening container tabs
zen-theme-marketplace-link = Visit Store
zen-dark-theme-styles-header = Dark Theme Styles
zen-dark-theme-styles-description = Customize the dark theme to your liking
zen-dark-theme-styles-amoled = Night Theme
zen-dark-theme-styles-default = Default Dark Theme
zen-dark-theme-styles-colorful = Colorful Dark Theme
zen-compact-mode-styles-left = Hide Tab bar
zen-compact-mode-styles-top = Hide Top bar
zen-compact-mode-styles-both = Hide Both
zen-urlbar-title = Zen URL Bar
zen-urlbar-header = General settings for the URL bar
zen-urlbar-description = Customize the URL bar to your liking
zen-urlbar-behavior-label = Behavior
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Floating only when typing
zen-urlbar-behavior-float = 
    .label = Always floating
pane-zen-CKS-title = Keyboard Shortcuts
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Keyboard Shortcuts
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Customize your keyboard shortcuts
zen-settings-CKS-description = Change the default keyboard shortcuts to your liking and improve your browsing experience
zen-settings-CKS-disable-firefox = 
    .label = Disable { -brand-short-name }'s default keyboard shortcuts
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicate Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = Reset to Default
zenCKSOption-group-other = Other
zenCKSOption-group-windowAndTabManagement = Window & Tab Management
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Search & Find
zenCKSOption-group-pageOperations = Page Operations
zenCKSOption-group-historyAndBookmarks = History & Bookmarks
zenCKSOption-group-mediaAndDisplay = Media & Display
zenCKSOption-group-zen-compact-mode = Compact Mode
zenCKSOption-group-zen-workspace = Workspaces
zenCKSOption-group-zen-other = Other Zen Features
zenCKSOption-group-zen-split-view = Split View
zenCKSOption-group-devTools = Developer Tools
zen-key-quick-restart = Quick Restart
zen-window-new-shortcut = New Window
zen-tab-new-shortcut = New Tab
zen-key-redo = Redo
zen-restore-last-closed-tab-shortcut = Restore Last Closed Tab
zen-location-open-shortcut = Open Location
zen-location-open-shortcut-alt = Open Location (Alt)
zen-key-undo-close-window = Undo Close Window
zen-text-action-undo-shortcut = Undo
zen-text-action-redo-shortcut = Redo
zen-text-action-cut-shortcut = Cut
zen-text-action-copy-shortcut = Copy
zen-text-action-copy-url-shortcut = Copy current URL
zen-text-action-copy-url-markdown-shortcut = Copy current URL as Markdown
zen-text-action-paste-shortcut = Paste
zen-text-action-select-all-shortcut = Select All
zen-text-action-delete-shortcut = Delete
zen-history-show-all-shortcut-mac = Show All History (Mac)
zen-full-screen-shortcut = Toggle Full Screen
zen-reader-mode-toggle-shortcut-windows = Toggle Reader Mode (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Toggle Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Toggle Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Toggle Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = View Page Source (Safari)
zen-nav-stop-shortcut = Stop Loading
zen-history-sidebar-shortcut = Show History Sidebar
zen-window-minimize-shortcut = Minimize Window
zen-help-shortcut = Open Help
zen-preferences-shortcut = Open Preferences
zen-hide-app-shortcut = Hide Application
zen-hide-other-apps-shortcut = Hide Other Applications
zen-search-focus-shortcut = Focus Search
zen-search-focus-shortcut-alt = Focus Search (Alt)
zen-downloads-shortcut = Open Downloads
zen-addons-shortcut = Open Add-ons
zen-file-open-shortcut = Open File
zen-save-page-shortcut = Save Page
zen-print-shortcut = Print Page
zen-close-shortcut-2 = Close Tab
zen-mute-toggle-shortcut = Toggle Mute
zen-key-delete = Delete Key
zen-key-go-back = Go Back
zen-key-go-forward = Go Forward
zen-nav-back-shortcut-alt = Navigate Back (Alt)
zen-nav-fwd-shortcut-alt = Navigate Forward (Alt)
zen-history-show-all-shortcut = Show All History
zen-key-enter-full-screen = Enter Full Screen
zen-key-exit-full-screen = Exit Full Screen
zen-ai-chatbot-sidebar-shortcut = Toggle AI Chatbot Sidebar
zen-key-inspector-mac = Toggle Inspector (Mac)
zen-toggle-sidebar-shortcut = Toggle Firefox Sidebar
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = Toggle Reader Mode
zen-picture-in-picture-toggle-shortcut = Toggle Picture-in-Picture
zen-nav-reload-shortcut-2 = Reload Page
zen-key-about-processes = About Processes
zen-page-source-shortcut = View Page Source
zen-page-info-shortcut = View Page Info
zen-find-shortcut = Find on Page
zen-search-find-again-shortcut = Find Again
zen-search-find-again-shortcut-prev = Find Previous
zen-search-find-again-shortcut-2 = Find Again (Alt)
zen-bookmark-this-page-shortcut = Bookmark This Page
zen-bookmark-show-library-shortcut = Show Bookmarks Library
zen-key-stop = Stop Loading
zen-full-zoom-reduce-shortcut = Zoom Out
zen-full-zoom-enlarge-shortcut = Zoom In
zen-full-zoom-reset-shortcut = Reset Zoom
zen-full-zoom-reset-shortcut-alt = Reset Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom In (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom In (Alt 2)
zen-bidi-switch-direction-shortcut = Switch Text Direction
zen-private-browsing-shortcut = Private Browsing
zen-screenshot-shortcut = Take Screenshot
zen-key-sanitize = Clear Browsing Data
zen-quit-app-shortcut = Quit Application
zen-key-wr-capture-cmd = WR Capture Command
zen-key-wr-toggle-capture-sequence-cmd = Toggle WR Capture Sequence
zen-nav-reload-shortcut = Reload Page
zen-nav-reload-shortcut-skip-cache = Reload Page (Skip Cache)
zen-close-shortcut = Close Window
zen-close-tab-shortcut = Close Tab
zen-compact-mode-shortcut-show-sidebar = Toggle Floating Sidebar
zen-compact-mode-shortcut-show-toolbar = Toggle Floating Toolbar
zen-compact-mode-shortcut-toggle = Toggle Compact Mode
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = Switch to Workspace 1
zen-workspace-shortcut-switch-2 = Switch to Workspace 2
zen-workspace-shortcut-switch-3 = Switch to Workspace 3
zen-workspace-shortcut-switch-4 = Switch to Workspace 4
zen-workspace-shortcut-switch-5 = Switch to Workspace 5
zen-workspace-shortcut-switch-6 = Switch to Workspace 6
zen-workspace-shortcut-switch-7 = Switch to Workspace 7
zen-workspace-shortcut-switch-8 = Switch to Workspace 8
zen-workspace-shortcut-switch-9 = Switch to Workspace 9
zen-workspace-shortcut-switch-10 = Switch to Workspace 10
zen-workspace-shortcut-forward = Forward Workspace
zen-workspace-shortcut-backward = Backward Workspace
zen-sidebar-shortcut-toggle = Toggle Sidebar's Width
zen-pinned-tab-shortcut-reset = Reset Pinned Tab to Pinned URL
zen-split-view-shortcut-grid = Toggle Split View Grid
zen-split-view-shortcut-vertical = Toggle Split View Vertical
zen-split-view-shortcut-horizontal = Toggle Split View Horizontal
zen-split-view-shortcut-unsplit = Close Split View
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Select tab #1
zen-key-select-tab-2 = Select tab #2
zen-key-select-tab-3 = Select tab #3
zen-key-select-tab-4 = Select tab #4
zen-key-select-tab-5 = Select tab #5
zen-key-select-tab-6 = Select tab #6
zen-key-select-tab-7 = Select tab #7
zen-key-select-tab-8 = Select tab #8
zen-key-select-tab-last = Select last tab
zen-key-show-all-tabs = Show all tabs
zen-key-goto-history = Go to history
zen-key-go-home = Go Home
zen-bookmark-show-sidebar-shortcut = Show Bookmarks Sidebar
zen-bookmark-show-toolbar-shortcut = Show Bookmarks Toolbar
zen-devtools-toggle-shortcut = Toggle DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Toggle Browser Toolbox
zen-devtools-toggle-browser-console-shortcut = Toggle Browser Console
zen-devtools-toggle-responsive-design-mode-shortcut = Toggle Responsive Design Mode
zen-devtools-toggle-inspector-shortcut = Toggle Inspector
zen-devtools-toggle-web-console-shortcut = Toggle Web Console
zen-devtools-toggle-js-debugger-shortcut = Toggle JavaScript Debugger
zen-devtools-toggle-net-monitor-shortcut = Toggle Network Monitor
zen-devtools-toggle-style-editor-shortcut = Toggle Style Editor
zen-devtools-toggle-performance-shortcut = Toggle Performance
zen-devtools-toggle-storage-shortcut = Toggle Storage
zen-devtools-toggle-dom-shortcut = Toggle DOM
zen-devtools-toggle-accessibility-shortcut = Toggle Accessibility
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/ca/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Cerca { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Reanomena la carpeta
zen-folders-panel-unpack-folder = 
    .label = Desempaqueta la carpeta
zen-folders-new-subfolder = 
    .label = Subcarpeta nova
zen-folders-panel-delete-folder = 
    .label = Suprimeix la carpeta
zen-folders-panel-convert-folder-to-space = 
    .label = Converteix la carpeta en un espai
zen-folders-panel-change-folder-space = 
    .label = Canvia l'espai...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Hiberna les pestanyes actives d'aquesta carpeta
zen-folders-unload-folder = 
    .label = Hiberna totes les pestanyes
zen-folders-search-no-results = No hi ha pestanyes que coincideixin amb aquesta cerca 🤔



================================================
FILE: locales/ca/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = perfil actual
unified-extensions-description = Les extensions aporten funcionalitats addicionals a { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Restableix la pestanya fixada
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Afegeix als essencials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } espais ocupats
tab-context-zen-remove-essential = 
    .label = Elimina dels essencials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Substitueix l'URL fixat per l'actual
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Canvia l'etiqueta...
tab-context-zen-edit-icon = 
    .label = Canvia la icona...
zen-themes-corrupted = El vostre fitxer de modificacions { -brand-short-name } està malmès. S'ha restablert al tema per defecte.
zen-shortcuts-corrupted = El vostre fitxer de dreceres { -brand-short-name } està malmès. S'ha restablert a les dreceres per defecte.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    La nova barra d'URL s'ha activat, eliminant la necessitat de noves pàgines de pestanya.<br/><br/>
    Proveu d'obrir una pestanya nova per veure la nova barra d'URL en acció!
zen-disable = Deshabilita
pictureinpicture-minimize-btn = 
    .aria-label = Minimitza
    .tooltip = Minimitza
zen-panel-ui-gradient-generator-custom-color = Color personalitzat
zen-copy-current-url-confirmation = L'URL actual s'ha copiat.
zen-general-cancel-label = 
    .label = Cancel·la
zen-general-confirm = 
    .label = Confirma
zen-pinned-tab-replaced = L'URL de la pestanya fixada s'ha substituït per l'URL actual.
zen-tabs-renamed = S'ha canviat el nom de la pestanya correctament
zen-background-tab-opened-toast = S'ha obert una nova pestanya de fons
zen-workspace-renamed-toast = S'ha canviat el nom de l'espai de treball correctament
zen-toggle-compact-mode-button = 
    .label = Mode compacte
    .tooltiptext = Commuta el mode compacte

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Més informació
zen-close-label = Tanca
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Cerca...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Icones
urlbar-search-mode-zen_actions = Accions
zen-site-data-settings = Configuració
zen-generic-manage = Gestiona
zen-generic-more = Més
zen-generic-next = Següent
zen-essentials-promo-label = Afegeix als essencials
zen-essentials-promo-sublabel = Mantingueu les vostres pestanyes preferides a només un clic de distància
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Permès
zen-site-data-setting-block = Bloquejat
zen-site-data-protections-enabled = Habilitat
zen-site-data-protections-disabled = Deshabilitat
zen-site-data-setting-cross-site = Galetes entre llocs
zen-site-data-security-info-extension = 
    .label = Extensió
zen-site-data-security-info-secure = 
    .label = Segur
zen-site-data-security-info-not-secure = 
    .label = No és segur
zen-site-data-manage-addons = 
    .label = Gestiona les extensions
zen-site-data-get-addons = 
    .label = Afegeix extensions
zen-site-data-site-settings = 
    .label = Totes les configuracions del lloc
zen-site-data-header-share = 
    .tooltiptext = Comparteix aquesta pàgina
zen-site-data-header-reader-mode = 
    .tooltiptext = Accedeix al mode lectura
zen-site-data-header-screenshot = 
    .tooltiptext = Fes una captura de pantalla
zen-site-data-header-bookmark = 
    .tooltiptext = Afegeix la pàgina a les adreces d'interès
zen-urlbar-copy-url-button = 
    .tooltiptext = Copia l'URL
zen-site-data-setting-site-protection = Protecció contra el seguiment

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Una nova ubicació per a les extenions, permisos i molt més
zen-site-data-panel-feature-callout-subtitle = Feu clic a la icona per gestionar la configuració del lloc, veure la informació de seguretat, accedir a les extensions i dur a terme accions habituals.
zen-open-link-in-glance = 
    .label = Obre l'enllaç en un cop d'ull
    .accesskey = G
zen-sidebar-notification-updated-heading = Actualització completada!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Novetats a { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Mostra les notes de la versió
zen-sidebar-notification-restart-safe-mode-label = Alguna cosa no funciona?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Reinici en mode segur
zen-window-sync-migration-dialog-title = Mantingueu les finestres sincronitzades
zen-window-sync-migration-dialog-message = El Zen ara sincronitza les finestres del mateix dispositiu, de manera que els canvis en una finestra es reflecteixen a les altres a l'instant.
zen-window-sync-migration-dialog-learn-more = Més informació
zen-window-sync-migration-dialog-accept = D'acord



================================================
FILE: locales/ca/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expandeix les pestanyes fixades
           *[false] Col·lapsa les pestanyes fixades
        }
zen-menubar-appearance = 
    .label = Aparença
zen-menubar-appearance-description = 
    .label = Els llocs web utilitzaran:
zen-menubar-appearance-auto = 
    .label = Automàtica
zen-menubar-appearance-light = 
    .label = Clara
zen-menubar-appearance-dark = 
    .label = Fosca
zen-menubar-new-unsynced-window = 
    .label = Nova finestra en blanc



================================================
FILE: locales/ca/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Pestanya dividida (calen diverses pestanyes seleccionades)
           *[other] Divideix { $tabCount } pestanyes
        }
    .accesskey = S
zen-split-link = 
    .label = Divideix l'enllaç en una pestanya nova
    .accesskey = S
zen-split-view-modifier-header = Vista dividida
zen-split-view-modifier-activate-reallocation = 
    .label = Activa la reassignació
zen-split-view-modifier-enabled-toast = La reordenació de la vista dividida està habilitada.
zen-split-view-modifier-enabled-toast-description = Arrossegueu i deixeu anar la vista per reordenar. Premeu Esc per sortir.
zen-split-view-modifier-disabled-toast = La reordenació de la vista dividida està deshabilitada.



================================================
FILE: locales/ca/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Pestanyes a la dreta
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Mode compacte
zen-toolbar-context-compact-mode-enable = 
    .label = Habilita el mode compacte
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Amaga la barra lateral
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Amaga la barra d'eines
zen-toolbar-context-compact-mode-hide-both = 
    .label = Amaga les dues
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Carpeta nova
    .accesskey = N
sidebar-zen-expand = 
    .label = Expandeix la barra lateral
sidebar-zen-create-new = 
    .label = Crea una nova...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Hiberna i canvia a la pestanya
           *[other] Hiberna { $tabCount } pestanyes i canvia a la primera
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Restableix i fixa la pestanya
           *[other] Restableix i fixa les { $tabCount } pestanyes
        }
tab-reset-pin-label = Torna a l'URL fixat



================================================
FILE: locales/ca/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Mute Web Panel
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Unmute Web Panel
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Disable Mobile UserAgent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Enable Mobile UserAgent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Unload Web Panel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Delete Web Panel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Obri en una pestanya nova
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Open in Container Tab
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Add to Web Panels
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/ca/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Us donem la benvingut
zen-welcome-title-line2 = a un internet més tranquil
zen-welcome-import-title = Un nou començament, els mateixos marcadors
zen-welcome-import-description-1 = Els vostres marcadors, historial i contrasenyes són com un rastre de molles de pa a través d'Internet: no les deixis enrere
zen-welcome-import-description-2 = Porteu-los fàcilment des d'un altre navegador i repreneu exactament on ho vau deixar.
zen-welcome-import-button = Importa ara
zen-welcome-set-default-browser = Estableix el { -brand-short-name } com a navegador per defecte
zen-welcome-dont-set-default-browser = NO estableixis el { -brand-short-name } com a navegador per defecte
zen-welcome-initial-essentials-title = Les vostres pestanyes essencials, sempre a mà
zen-welcome-initial-essentials-description-1 = Manteniu les vostres pestanyes més importants fàcilment accessibles i sempre a mà, per molt que n'obris.
zen-welcome-initial-essentials-description-2 = Les pestanyes essencials sempre són visibles, independentment de l'espai de treball on us trobeu.
zen-welcome-workspace-colors-title = Els vostres espais de treball, els vostres colors
zen-welcome-workspace-colors-description = Personalitzeu el vostre navegador donant a cada espai de treball la seva pròpia identitat de color única.
zen-welcome-start-browsing-title =
    Tot a punt?<br/>
    Som-hi!
zen-welcome-start-browsing-description-1 = Ja esteu llestos i preparats per començar. Feu clic al botó següent per començar a navegar amb el { -brand-short-name }.
zen-welcome-start-browsing = Som-hi!
zen-welcome-default-search-title = El vostre motor de cerca per defecte
zen-welcome-default-search-description = Trieu el vostre motor de cerca per defecte. Sempre el podeu canviar més tard
zen-welcome-skip-button = Omet
zen-welcome-finished = El Zen s'ha configurat correctament



================================================
FILE: locales/ca/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Espais de treball
zen-panel-ui-spaces-label = 
    .label = Espais
zen-panel-ui-workspaces-create = 
    .label = Crea un espai
zen-panel-ui-folder-create = 
    .label = Crea una carpeta
zen-panel-ui-new-empty-split = 
    .label = Nova divisió
zen-workspaces-panel-context-delete = 
    .label = Suprimeix l'espai de treball
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Canvia el nom
zen-workspaces-panel-change-icon = 
    .label = Canvia la icona
zen-workspaces-panel-context-default-profile = 
    .label = Estableix el perfil
zen-workspaces-panel-unload = 
    .label = Hiberna l'espai
zen-workspaces-how-to-reorder-title = Com reordenar els espais?
zen-workspaces-how-to-reorder-desc = Arrossegueu les icones d'espais a la part inferior de la barra lateral per reordenar-les
zen-workspaces-change-theme = 
    .label = Edita el tema
zen-workspaces-panel-context-open = 
    .label = Obre l'espai de treball
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Edita l'espai de treball
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Espais
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementari
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Divideix
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Anàleg
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triàdic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Flotant
zen-panel-ui-gradient-click-to-add = Feu clic per afegir un color
zen-workspace-creation-name = 
    .placeholder = Nom de l'espai
zen-move-tab-to-workspace-button = 
    .label = Mou a...
    .tooltiptext = Mou totes les pestanyes d'aquesta finestra a un espai
zen-workspaces-panel-context-reorder = 
    .label = Reordena els espais
zen-workspace-creation-profile = Perfil
    .tooltiptext = Els perfils s'utilitzen per separar les galetes i les dades del lloc entre espais.
zen-workspace-creation-header = Creació d'un espai
zen-workspace-creation-label = Els espais s'utilitzen per organitzar les pestanyes i les sessions.
zen-workspaces-delete-workspace-title = Voleu suprimir l'espai de treball?
zen-workspaces-delete-workspace-body = Esteu segur que voleu suprimir { $name }? Aquesta acció no es pot desfer.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Pestanyes tancades. Feu servir <span>{ $shortcut }</span> per desfer-ho.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Esborra
    .tooltiptext = Tanca totes les pestanyes no fixades
zen-panel-ui-workspaces-change-forward = 
    .label = Espai següent
zen-panel-ui-workspaces-change-back = 
    .label = Espai anterior



================================================
FILE: locales/ca/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = A theme with a dark color scheme and a nice galaxy touch!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = A theme with a light color scheme and a nice dream-y touch!



================================================
FILE: locales/ca/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Initial URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Display this web panel in mobile mode
    .accesskey = m



================================================
FILE: locales/ca/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Aspecte i comportament
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Canviar l'idioma per defecte podria facilitar que els llocs web us facin seguiment.
zen-vertical-tabs-layout-header = Disposició del navegador
zen-vertical-tabs-layout-description = Trieu la disposició que més us convingui
zen-layout-single-toolbar = Barra d'eines única
zen-layout-multiple-toolbar = Múltiples barres d'eines
zen-layout-collapsed-toolbar = Barra d'eines col·lapsada
sync-currently-syncing-workspaces = Other Workspaces
sync-engine-workspaces = 
    .label = Other Workspaces
    .tooltiptext = Sincronitza l'espai de treball entre dispositius
    .accesskey = W
zen-glance-title = Cop d'ull
zen-glance-header = Configuració general per al cop d'ull
zen-glance-description = Obteniu una visió general ràpida dels vostres enllaços sense obrir-los en una pestanya nova
zen-glance-trigger-label = Mètode d'activació
zen-glance-enabled = 
    .label = Habilita el cop d'ull
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Clic
zen-glance-trigger-alt-click = 
    .label = Alt + Clic
zen-glance-trigger-shift-click = 
    .label = Bloc. maj. + Clic
zen-glance-trigger-meta-click = 
    .label = Meta (Comandament) + Clic
zen-look-and-feel-compact-view-header = Mostra en vista compacta
zen-look-and-feel-compact-view-description = Mostreu només les barres d'eines que feu servir
zen-look-and-feel-compact-view-enabled = 
    .label = Habilita el mode compacte de { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Amaga també la barra d'eines superior en el mode compacte
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Fa que la barra d'eines aparegui breument quan canvieu o obriu noves pestanyes en el mode compacte
pane-zen-tabs-title = Gestió de pestanyes
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Espais de treball
zen-tabs-unloader-enabled = 
    .label = Habilita la hibernació de pestanyes
zen-tabs-close-on-back-with-no-history = 
    .label = Tanca la pestanya i canvia a la pestanya del propietari (o a la pestanya utilitzada més recentment) quan torneu enrere sense historial
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab permet només canviar entre les pestanyes essencials o de l'espai de treball
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignora les pestanyes pendents mentre es canvia amb Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab anirà canviant per ordre d'ús recent, quan estigui habilitat
zen-look-and-feel-compact-toolbar-themed = 
    .label = Utilitza un fons temàtic per a la barra d'eines compacta
zen-workspace-continue-where-left-off = 
    .label = Continua on ho vau deixar
pane-zen-pinned-tab-manager-title = Pestanyes fixades
zen-pinned-tab-manager-header = Configuració general de les pestanyes fixades
zen-pinned-tab-manager-description = Gestioneu el comportament addicional de les pestanyes fixades
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restaura les pestanyes fixades al seu URL fixat originalment a l'inici
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Habilita els elements essencials específics del contenidor
zen-pinned-tab-manager-close-shortcut-behavior-label = Comportament de la drecera de tancar la pestanya
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Restableix l'URL, hiberna i canvia a la pestanya següent
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Hiberna i canvia a la pestanya següent
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Restableix l'URL i canvia a la pestanya següent
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Canvia a la pestanya següent
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Restableix l'URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Tanca la pestanya
pane-zen-workspaces-header = Espais de treball
zen-settings-workspaces-header = Configuració general dels espais de treball
zen-settings-workspaces-description = Amb els espais de treball, podeu tenir diverses sessions de navegació alhora!
zen-settings-workspaces-enabled = 
    .label = Habilita els espais de treball
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Amaga l'indicador de contenidor per defecte a la barra de pestanyes
zen-key-unsaved = Drecera no desada. Deseu-la fent clic a la tecla «Esc» després de tornar-la a escriure.
zen-key-conflict = Conflicte amb { $group } -> { $shortcut }
pane-zen-theme-title = Configuració del tema
zen-vertical-tabs-title = Disseny de la barra lateral i pestanyes
zen-vertical-tabs-header = Pestanyes verticals
zen-vertical-tabs-description = Gestioneu les vostres pestanyes en un disseny vertical
zen-vertical-tabs-show-expand-button = 
    .label = Mostra el botó d'expansió
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Mostra el botó de pestanya nova a la llista de pestanyes
zen-vertical-tabs-newtab-top-button-up = 
    .label = Mou el botó de la pestanya nova a la part superior
zen-vertical-tabs-expand-tabs-by-default = Expandeix les pestanyes per defecte
zen-vertical-tabs-dont-expand-tabs-by-default = No expandeixis les pestanyes per defecte
zen-vertical-tabs-expand-tabs-on-hover = Expandeix les pestanyes en passar el cursor (no funcionarà en el mode compacte)
zen-vertical-tabs-expand-tabs-header = Com expandir les pestanyes?
zen-vertical-tabs-expand-tabs-description = Trieu com expandir les pestanyes a la barra lateral
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Deshabilita totes les modificacions
zen-theme-disable-all-disabled = 
    .title = Habilita totes les modificacions
zen-theme-marketplace-description = Cerqueu i instal·leu modificacions de la botiga.
zen-theme-marketplace-remove-button = 
    .label = Elimina la modificació
zen-theme-marketplace-check-for-updates-button = 
    .label = Cerca actualitzacions
zen-theme-marketplace-import-button = 
    .label = Importa les modificacions
zen-theme-marketplace-export-button = 
    .label = Exporta les modificacions
zen-theme-marketplace-import-success = Les modificacions s'han importat correctament
zen-theme-marketplace-import-failure = Hi ha hagut un error en importar les modificacions
zen-theme-marketplace-export-success = Les modificacions s'han exportat correctament
zen-theme-marketplace-export-failure = Hi ha hagut un error en exportar les modificacions
zen-theme-marketplace-updates-success = Les modificacions s'han actualitzat correctament
zen-theme-marketplace-updates-failure = No s'ha trobat cap actualització
zen-theme-marketplace-toggle-enabled-button = 
    .title = Deshabilita la modificació
zen-theme-marketplace-toggle-disabled-button = 
    .title = Habilita la modificació
zen-theme-marketplace-remove-confirmation = Esteu segur que voleu eliminar aquesta modificació?
zen-theme-marketplace-close-modal = Tanca
zen-theme-marketplace-theme-header-title = 
    .title = Selector CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Cap
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Escriviu alguna cosa...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Actualitza automàticament les modificacions instal·lades a l'inici
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Canvia a l'espai de treball on el contenidor està configurat per defecte en obrir les pestanyes del contenidor
zen-theme-marketplace-link = Visita la botiga
zen-dark-theme-styles-header = Estils del tema fosc
zen-dark-theme-styles-description = Personalitzeu el tema fosc al vostre gust
zen-dark-theme-styles-amoled = Tema nocturn
zen-dark-theme-styles-default = Tema fosc per defecte
zen-dark-theme-styles-colorful = Tema fosc colorit
zen-compact-mode-styles-left = Amaga la barra de pestanyes
zen-compact-mode-styles-top = Amaga la barra superior
zen-compact-mode-styles-both = Amaga les dues
zen-urlbar-title = Barra d'URL del Zen
zen-urlbar-header = Configuració general de la barra d'URL
zen-urlbar-description = Personalitzeu la barra d'URL al vostre gust
zen-urlbar-behavior-label = Comportament
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Flotant només quan s'escriu
zen-urlbar-behavior-float = 
    .label = Sempre flotant
pane-zen-CKS-title = Dreceres de teclat
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Dreceres de teclat de { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Personalitzeu les vostres dreceres de teclat
zen-settings-CKS-description = Canvieu les dreceres de teclat per defecte al vostre gust i milloreu la vostra experiència de navegació
zen-settings-CKS-disable-firefox = 
    .label = Deshabilita les dreceres de teclat per defecte de { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Drecera duplicada
zen-settings-CKS-reset-shortcuts = 
    .label = Restableix els valors per defecte
zenCKSOption-group-other = Altres
zenCKSOption-group-windowAndTabManagement = Gestió de finestres i pestanyes
zenCKSOption-group-navigation = Navegació
zenCKSOption-group-searchAndFind = Cerca i troba
zenCKSOption-group-pageOperations = Operacions de la pàgina
zenCKSOption-group-historyAndBookmarks = Historial i marcadors
zenCKSOption-group-mediaAndDisplay = Multimèdia i visualització
zenCKSOption-group-zen-compact-mode = Mode compacte
zenCKSOption-group-zen-workspace = Other Workspaces
zenCKSOption-group-zen-other = Altres característiques del Zen
zenCKSOption-group-zen-split-view = Vista dividida
zenCKSOption-group-devTools = Eines per a desenvolupadors
zen-key-quick-restart = Reinici ràpid
zen-window-new-shortcut = Finestra nova
zen-tab-new-shortcut = Pestanya nova
zen-key-redo = Refés
zen-restore-last-closed-tab-shortcut = Restaura la darrera pestanya tancada
zen-location-open-shortcut = Obre la ubicació
zen-location-open-shortcut-alt = Obre la ubicació (Alt)
zen-key-undo-close-window = Desfés «Tanca la finestra»
zen-text-action-undo-shortcut = Desfés
zen-text-action-redo-shortcut = Refés
zen-text-action-cut-shortcut = Retalla
zen-text-action-copy-shortcut = Copia
zen-text-action-copy-url-shortcut = Copia l'URL actual
zen-text-action-copy-url-markdown-shortcut = Copia l'URL actual com a Markdown
zen-text-action-paste-shortcut = Enganxa
zen-text-action-select-all-shortcut = Selecciona-ho tot
zen-text-action-delete-shortcut = Suprimeix
zen-history-show-all-shortcut-mac = Mostra tot l'historial (Mac)
zen-full-screen-shortcut = Commuta a pantalla completa
zen-reader-mode-toggle-shortcut-windows = Commuta al mode lector (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Commuta al mode imatge en imatge (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Commuta al mode imatge en imatge (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Commuta al mode imatge en imatge (Mac Alt)
zen-page-source-shortcut-safari = Mostra la font de la pàgina (Safari)
zen-nav-stop-shortcut = Atura la càrrega
zen-history-sidebar-shortcut = Mostra la barra lateral d'historial
zen-window-minimize-shortcut = Minimitza la finestra
zen-help-shortcut = Obre l'ajuda
zen-preferences-shortcut = Obre les preferències
zen-hide-app-shortcut = Amaga l'aplicació
zen-hide-other-apps-shortcut = Amaga altres aplicacions
zen-search-focus-shortcut = Enfoca la cerca
zen-search-focus-shortcut-alt = Enfoca la cerca (Alt)
zen-downloads-shortcut = Obre les descàrregues
zen-addons-shortcut = Obre les extensions
zen-file-open-shortcut = Obre el fitxer
zen-save-page-shortcut = Desa la pàgina
zen-print-shortcut = Imprimeix la pàgina
zen-close-shortcut-2 = Tanca la pestanya
zen-mute-toggle-shortcut = Commuta el silenci
zen-key-delete = Suprimeix la clau
zen-key-go-back = Enrere
zen-key-go-forward = Endavant
zen-nav-back-shortcut-alt = Navega enrere (Alt)
zen-nav-fwd-shortcut-alt = Navega endavant (Alt)
zen-history-show-all-shortcut = Mostra tota l'historial
zen-key-enter-full-screen = Pantalla completa
zen-key-exit-full-screen = Surt de la pantalla completa
zen-ai-chatbot-sidebar-shortcut = Commuta la barra lateral del bot de conversa d'IA
zen-key-inspector-mac = Commuta l'inspector (Mac)
zen-toggle-sidebar-shortcut = Commuta la barra lateral del Firefox
zen-toggle-pin-tab-shortcut = Commuta la pestanya fixa
zen-reader-mode-toggle-shortcut-other = Commuta al mode lector
zen-picture-in-picture-toggle-shortcut = Commuta al mode imatge en imatge
zen-nav-reload-shortcut-2 = Recarrega la pàgina
zen-key-about-processes = Quant als processos
zen-page-source-shortcut = Mostra el codi font de la pàgina
zen-page-info-shortcut = Mostra la informació de la pàgina
zen-find-shortcut = Cerca a la pàgina
zen-search-find-again-shortcut = Cerca-ho un altre cop
zen-search-find-again-shortcut-prev = Cerca l'anterior
zen-search-find-again-shortcut-2 = Cerca-ho un altre cop (Alt)
zen-bookmark-this-page-shortcut = Afegeix aquesta pàgina als marcadors
zen-bookmark-show-library-shortcut = Mostra la biblioteca de marcadors
zen-key-stop = Atura la càrrega
zen-full-zoom-reduce-shortcut = Redueix el zoom
zen-full-zoom-enlarge-shortcut = Augmenta el zoom
zen-full-zoom-reset-shortcut = Restableix el zoom
zen-full-zoom-reset-shortcut-alt = Restableix el zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Apropa (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Apropa (Alt 2)
zen-bidi-switch-direction-shortcut = Canvia la direcció del text
zen-private-browsing-shortcut = Navegació privada
zen-screenshot-shortcut = Fes una captura de pantalla
zen-key-sanitize = Esborra les dades de navegació
zen-quit-app-shortcut = Sortir de l'aplicació
zen-key-wr-capture-cmd = Ordre de captura WR
zen-key-wr-toggle-capture-sequence-cmd = Commuta la seqüència de captura WR
zen-nav-reload-shortcut = Recarrega la pàgina
zen-nav-reload-shortcut-skip-cache = Torna a carregar la pàgina (omet la memòria cau)
zen-close-shortcut = Tanca la finestra
zen-close-tab-shortcut = Tanca la pestanya
zen-compact-mode-shortcut-show-sidebar = Commuta la barra lateral flotant
zen-compact-mode-shortcut-show-toolbar = Commuta la barra d'eines flotant
zen-compact-mode-shortcut-toggle = Canvia el mode compacte
zen-glance-expand = Amplia el cop d'ull
zen-workspace-shortcut-switch-1 = Canvia a l'espai de treball 1
zen-workspace-shortcut-switch-2 = Canvia a l'espai de treball 2
zen-workspace-shortcut-switch-3 = Canvia a l'espai de treball 3
zen-workspace-shortcut-switch-4 = Canvia a l'espai de treball 4
zen-workspace-shortcut-switch-5 = Canvia a l'espai de treball 5
zen-workspace-shortcut-switch-6 = Canvia a l'espai de treball 6
zen-workspace-shortcut-switch-7 = Canvia a l'espai de treball 7
zen-workspace-shortcut-switch-8 = Canvia a l'espai de treball 8
zen-workspace-shortcut-switch-9 = Canvia a l'espai de treball 9
zen-workspace-shortcut-switch-10 = Canvia a l'espai de treball 10
zen-workspace-shortcut-forward = Espai de treball següent
zen-workspace-shortcut-backward = Espai de treball anterior
zen-sidebar-shortcut-toggle = Commuta l'amplada de la barra lateral
zen-pinned-tab-shortcut-reset = Restableix la pestanya fixada a l'URL fixat
zen-split-view-shortcut-grid = Commuta la quadrícula de la vista dividida
zen-split-view-shortcut-vertical = Commuta la vista dividida vertical
zen-split-view-shortcut-horizontal = Commuta la vista dividida horitzontal
zen-split-view-shortcut-unsplit = Tanca la vista dividida
zen-new-empty-split-view-shortcut = Nova vista dividida buida
zen-key-select-tab-1 = Selecciona la pestanya 1
zen-key-select-tab-2 = Selecciona la pestanya 2
zen-key-select-tab-3 = Selecciona la pestanya 3
zen-key-select-tab-4 = Selecciona la pestanya 4
zen-key-select-tab-5 = Selecciona la pestanya 5
zen-key-select-tab-6 = Selecciona la pestanya 6
zen-key-select-tab-7 = Selecciona la pestanya 7
zen-key-select-tab-8 = Selecciona la pestanya 8
zen-key-select-tab-last = Selecciona l'última pestanya
zen-key-show-all-tabs = Mostra totes les pestanyes
zen-key-goto-history = Ves a l'historial
zen-key-go-home = Ves a l'inici
zen-bookmark-show-sidebar-shortcut = Mostra la barra lateral dels marcadors
zen-bookmark-show-toolbar-shortcut = Mostra la barra dels marcadors
zen-devtools-toggle-shortcut = Commuta les eines per a desenvolupadors
zen-devtools-toggle-browser-toolbox-shortcut = Commuta la caixa d'eines del navegador
zen-devtools-toggle-browser-console-shortcut = Commuta la consola del navegador
zen-devtools-toggle-responsive-design-mode-shortcut = Commuta el mode de disseny responsiu
zen-devtools-toggle-inspector-shortcut = Commuta l'inspector
zen-devtools-toggle-web-console-shortcut = Commuta la consola web
zen-devtools-toggle-js-debugger-shortcut = Commuta el depurador de JavaScript
zen-devtools-toggle-net-monitor-shortcut = Commuta el monitor de xarxa
zen-devtools-toggle-style-editor-shortcut = Commuta l'editor d'estils
zen-devtools-toggle-performance-shortcut = Commuta el rendiment
zen-devtools-toggle-storage-shortcut = Commuta l'emmagatzematge
zen-devtools-toggle-dom-shortcut = Commuta el DOM
zen-devtools-toggle-accessibility-shortcut = Commuta l'accessibilitat
zen-close-all-unpinned-tabs-shortcut = Tanca totes les pestanyes no fixades
zen-new-unsynced-window-shortcut = Nova finestra en blanc



================================================
FILE: locales/cs/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Hledat v { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Přejmenovat složku
zen-folders-panel-unpack-folder = 
    .label = Rozbalit složku
zen-folders-new-subfolder = 
    .label = Nová podsložka
zen-folders-panel-delete-folder = 
    .label = Smazat složku
zen-folders-panel-convert-folder-to-space = 
    .label = Převést složku na prostor
zen-folders-panel-change-folder-space = 
    .label = Změnit prostor...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Uspat aktivní panely v této složce
zen-folders-unload-folder = 
    .label = Uspat všechny panely
zen-folders-search-no-results = Žádný panel neodpovídá tomuto hledání 🤔



================================================
FILE: locales/cs/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = aktuální profil
unified-extensions-description = Rozšíření slouží k přidání dalších funkcí do prohlížeče { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Resetovat připnutý panel
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Přidat do Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } zaplněných slotů
tab-context-zen-remove-essential = 
    .label = Odstranit z Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Nahradit připnutou URL adresu aktuální adresou
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Změnit název...
tab-context-zen-edit-icon = 
    .label = Změnit ikonu...
zen-themes-corrupted = Váš { -brand-short-name } mods soubor je poškozen. Byl obnoven na výchozí motiv.
zen-shortcuts-corrupted = Soubor se zkratky prohlížeče { -brand-short-name } je poškozen. Zkratky byly resetovány na výchozí nastavení.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Nový adresní řádek je nyní zapnutý, takže už není potřeba otevírat nové karty.<br/><br/>
    Zkuste otevřít nový panel a podívejte se, jak funguje!
zen-disable = Zavřít
pictureinpicture-minimize-btn = 
    .aria-label = Minimalizovat
    .tooltip = Minimalizovat
zen-panel-ui-gradient-generator-custom-color = Vlastní barva
zen-copy-current-url-confirmation = URL adresa byla zkopírována!
zen-general-cancel-label = 
    .label = Zrušit
zen-general-confirm = 
    .label = Potvrdit
zen-pinned-tab-replaced = Připnutá URL adresa panelu byla nahrazena aktuální URL adresou.
zen-tabs-renamed = Panel byl úspěšně přejmenován!
zen-background-tab-opened-toast = Nový panel na pozadí byl otevřen!
zen-workspace-renamed-toast = Pracovní prostor byl úspěšně přejmenován!
zen-toggle-compact-mode-button = 
    .label = Kompaktní režim
    .tooltiptext = Přepnout kompaktní režim

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Zjistit více
zen-close-label = Zavřít
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Hledat...
zen-icons-picker-emoji = 
    .label = Emodži
zen-icons-picker-svg = 
    .label = Ikony
urlbar-search-mode-zen_actions = Akce
zen-site-data-settings = Nastavení
zen-generic-manage = Spravovat
zen-generic-more = Více
zen-generic-next = Další
zen-essentials-promo-label = Přídat do Essentials
zen-essentials-promo-sublabel = Mějte oblíbené panely na dosah jedním kliknutím
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Povoleno
zen-site-data-setting-block = Blokováno
zen-site-data-protections-enabled = Zapnuto
zen-site-data-protections-disabled = Vypnuto
zen-site-data-setting-cross-site = Mezi stránkové cookies
zen-site-data-security-info-extension = 
    .label = Rozšíření
zen-site-data-security-info-secure = 
    .label = Bezpečné
zen-site-data-security-info-not-secure = 
    .label = Nezabezpečeno
zen-site-data-manage-addons = 
    .label = Spravovat rozšíření
zen-site-data-get-addons = 
    .label = Přidat rozšíření
zen-site-data-site-settings = 
    .label = Nastavení všech stránek
zen-site-data-header-share = 
    .tooltiptext = Sdílet tuto stránku
zen-site-data-header-reader-mode = 
    .tooltiptext = Zapnout čtecí režim
zen-site-data-header-screenshot = 
    .tooltiptext = Pořídit snímek obrazovky
zen-site-data-header-bookmark = 
    .tooltiptext = Přidat tuto stránku do záložek
zen-urlbar-copy-url-button = 
    .tooltiptext = Kopírovat URL
zen-site-data-setting-site-protection = Ochrana proti sledování

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Nový domov pro doplňky, oprávnění a další
zen-site-data-panel-feature-callout-subtitle = Klikněte na ikonu pro správu nastavení webu, zobrazení bezpečnostních informací, přístup k rozšíření a provádění běžných akcí.
zen-open-link-in-glance = 
    .label = Otevřít odkaz v Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Aktualizace byla dokončena!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Co je nového v prohlížeči { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Zobrazit změny
zen-sidebar-notification-restart-safe-mode-label = Něco se rozbilo?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restartovat v Nouzovém Režimu
zen-window-sync-migration-dialog-title = Mějte svá okna synchronizovaná
zen-window-sync-migration-dialog-message = Zen nyní synchronizuje okna na stejném zařízení. Změny provedené v jednom okně se okamžitě projeví v ostatních.
zen-window-sync-migration-dialog-learn-more = Zjistit více
zen-window-sync-migration-dialog-accept = Rozumím



================================================
FILE: locales/cs/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Vzhled
zen-menubar-appearance-description = 
    .label = Webové stránky budou používat:
zen-menubar-appearance-auto = 
    .label = Automatický
zen-menubar-appearance-light = 
    .label = Světlý
zen-menubar-appearance-dark = 
    .label = Tmavý
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/cs/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Rozdělit kartu (je třeba více vybraných karet)
            [2] Rozdělit { $tabCount } karty
            [3] Rozdělit { $tabCount } karty
            [4] Rozdělit { $tabCount } karty
           *[other] Rozdělit { $tabCount } karet
        }
    .accesskey = S
zen-split-link = 
    .label = Otevřít odkaz v rozděleném zobrazení
    .accesskey = S
zen-split-view-modifier-header = Rozdělený režim
zen-split-view-modifier-activate-reallocation = 
    .label = Aktivovat uspořádání
zen-split-view-modifier-enabled-toast = Uspořádání rozděleného režimu je ZAPNUTÉ.
zen-split-view-modifier-enabled-toast-description = Přetáhněte zobrazení pro změnu uspořádání. Stisknutím Esc ukončíte.
zen-split-view-modifier-disabled-toast = Úprava rozděleného režimu je zapnuta VYPNUTÁ.



================================================
FILE: locales/cs/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Panely napravo
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Kompaktní režim
zen-toolbar-context-compact-mode-enable = 
    .label = Povolit kompaktní režim
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Skrýt boční panel
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Skrýt panel nástrojů
zen-toolbar-context-compact-mode-hide-both = 
    .label = Skrýt obojí
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Nová složka
    .accesskey = N
sidebar-zen-expand = 
    .label = Zvětšit boční panel
sidebar-zen-create-new = 
    .label = Vytvořit nový...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Uspat a přepnout na panel
            [few] Uspat { $tabCount } panely a přepnout na první
           *[other] Uspat { $tabCount } panelů a přepnout na první
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Resetovat a připnout kartu
            [few] Resetovat a připnout { $tabCount } panely
           *[other] Resetovat a připnout { $tabCount } panelů
        }
tab-reset-pin-label = Zpět na původní adresu



================================================
FILE: locales/cs/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Ztlumit webový panel
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Zrušit ztlumení webového panelu
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Zakázat mobilní UserAgent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Povolit mobilní UserAgent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Uspat webový panel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Odstranit webový panel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Otevřít v nové kartě
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Otevřít v kontejnerové kartě
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Přidat do webových panelů
    .accesskey = A
zen-webpanel-introduction-title = Vítejte v Zen Webovém panelu
zen-webpanel-introduction-description = Díky webovým panelům můžete mít vaše oblíbené webové stránky na dosah ruky.



================================================
FILE: locales/cs/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Přivítejte
zen-welcome-title-line2 = klidnější internet
zen-welcome-import-title = Nový začátek, stejné záložky
zen-welcome-import-description-1 = Vaše záložky, historie a hesla jsou jako stopa drobků po internetu—nenechávejte je za sebou!
zen-welcome-import-description-2 = Snadno je přeneste z jiného prohlížeče a pokračujte přesně tam, kde jste skončili..
zen-welcome-import-button = Importovat nyní
zen-welcome-set-default-browser = Nastavit { -brand-short-name } jako výchozí prohlížeč
zen-welcome-dont-set-default-browser = NENASTAVOVAT { -brand-short-name } jako výchozí prohlížeč
zen-welcome-initial-essentials-title = Vaše klíčové panely vždy na dosah
zen-welcome-initial-essentials-description-1 = Mějte své nejdůležitější panely snadno dostupné a vždy po ruce, bez ohledu na to, kolik jich otevřete.
zen-welcome-initial-essentials-description-2 = Essential panely jsou vždy viditelné, bez ohledu na to, ve kterém pracovním prostoru se nacházíte.
zen-welcome-workspace-colors-title = Vaše pracovní prostory, vaše barvy
zen-welcome-workspace-colors-description = Přizpůsobte si prohlížeč a dejte každému pracovnímu prostoru jeho vlastní barvu.
zen-welcome-start-browsing-title =
    Všechno připraveno?<br/> 
    Tak pojďme na to!
zen-welcome-start-browsing-description-1 = Všechno máte nastaveno a jste připraveni vyrazit. Klikněte na tlačítko níže a začněte prohlížet s prohlížečem { -brand-short-name }.
zen-welcome-start-browsing = Pustit se do toho!
zen-welcome-default-search-title = Váš výchozí vyhledávač
zen-welcome-default-search-description = Vyberte si svůj výchozí vyhledávač. Později jej můžete změnit!
zen-welcome-skip-button = Přeskočit
zen-welcome-finished = Váš Zen byl úspěšně nastaven!



================================================
FILE: locales/cs/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Prostory
zen-panel-ui-spaces-label = 
    .label = Prostory
zen-panel-ui-workspaces-create = 
    .label = Vytvořit prostor
zen-panel-ui-folder-create = 
    .label = Vytvořit složku
zen-panel-ui-new-empty-split = 
    .label = Nové rozdělení
zen-workspaces-panel-context-delete = 
    .label = Odstranit pracovní prostor
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Změnit název
zen-workspaces-panel-change-icon = 
    .label = Změnit ikonu
zen-workspaces-panel-context-default-profile = 
    .label = Nastavit profil
zen-workspaces-panel-unload = 
    .label = Uspat prostor
zen-workspaces-how-to-reorder-title = Jak změnit pořadí prostorů
zen-workspaces-how-to-reorder-desc = Pořadí prostorů změníte přetažením jejich ikon dole v postranním panelu
zen-workspaces-change-theme = 
    .label = Upravit motiv
zen-workspaces-panel-context-open = 
    .label = Otevřít pracovní prostor
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Upravit prostor
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Prostory
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Protilehlé
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Rozdělené
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Příbuzné
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Trojbarevné
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Plovoucí
zen-panel-ui-gradient-click-to-add = Kliknutím přidáte barvu
zen-workspace-creation-name = 
    .placeholder = Název prostoru
zen-move-tab-to-workspace-button = 
    .label = Přesunout do...
    .tooltiptext = Přesunout všechny panely v tomto okně do pracovního prostoru
zen-workspaces-panel-context-reorder = 
    .label = Změnit pořadí prostorů
zen-workspace-creation-profile = Profil
    .tooltiptext = Profily se používají k oddělení cookies a údajů webových stránek mezi prostory.
zen-workspace-creation-header = Vytvořte si prostor
zen-workspace-creation-label = Prostory slouží k organizaci Vašich karet a relací.
zen-workspaces-delete-workspace-title = Odstranit prostor?
zen-workspaces-delete-workspace-body = Opravdu chcete smazat { $name }? Tuto akci nelze vrátit zpět.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Panely byly zavřeny! Použijte <span>{ $shortcut }</span> pro zrušení.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Vyčistit
    .tooltiptext = Zavřít všechny nepřipnuté panely
zen-panel-ui-workspaces-change-forward = 
    .label = Další prostor
zen-panel-ui-workspaces-change-back = 
    .label = Předchozí prostor



================================================
FILE: locales/cs/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Tmavý motiv s nádechem galaxie!
extension-firefox-compact-dream-name = Zen sen
extension-firefox-compact-dream-description = Světlý režim se snovým nádechem!



================================================
FILE: locales/cs/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Počáteční URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Zobrazit tento webový panel v mobilním režimu
    .accesskey = m



================================================
FILE: locales/cs/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Vzhled a dojem
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Změna výchozího jazyka usnadní webovým stránkám vás sledovat.
zen-vertical-tabs-layout-header = Uspořádání prohlížeče
zen-vertical-tabs-layout-description = Vyberte si uspořádání které vám sedí nejlépe
zen-layout-single-toolbar = Jeden panel nástrojů
zen-layout-multiple-toolbar = Více panelů nástrojů
zen-layout-collapsed-toolbar = Sbalený panel nástrojů
sync-currently-syncing-workspaces = Pracovní prostory
sync-engine-workspaces = 
    .label = Pracovní prostory
    .tooltiptext = Synchronizujte pracovní prostory napříč zařízeními
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = Obecná nastavení pro Glance
zen-glance-description = Prohlédněte si své odkazy rychle, bez otevírání v novém panelu
zen-glance-trigger-label = Spuštění
zen-glance-enabled = 
    .label = Zapnout Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Kliknutí
zen-glance-trigger-alt-click = 
    .label = Alt + Kliknutí
zen-glance-trigger-shift-click = 
    .label = Shift + Kliknutí
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Kliknutí
zen-look-and-feel-compact-view-header = Zobrazit v kompaktním režimu
zen-look-and-feel-compact-view-description = Zobrazte pouze panely nástrojů, které používáte!
zen-look-and-feel-compact-view-enabled = 
    .label = Povolit kompaktní režim prohlížeče { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Skrýt horní panel nástrojů i v kompaktním režimu
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Krátce zobrazit vyskakovací panel nástrojů při přepínání nebo otevírání nových panelů v kompaktním režimu
pane-zen-tabs-title = Správa karet
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Pracoviště
zen-tabs-unloader-enabled = 
    .label = Povolit uspání karet
zen-tabs-close-on-back-with-no-history = 
    .label = Zavřít panel a přepnout na jeho nadřazený panel (nebo naposledy použitý panel), když se vracíte zpět bez historie
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab zahrnuje Essentials v pracovních panelech
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignorovat čekající panely při cyklování s Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab bude cyklovat v nedávno použitém pořadí
zen-look-and-feel-compact-toolbar-themed = 
    .label = Použít tématické pozadí pro kompaktní panel karet
zen-workspace-continue-where-left-off = 
    .label = Pokračovat tam, kde jste skončili
pane-zen-pinned-tab-manager-title = Připnuté panely
zen-pinned-tab-manager-header = Obecné nastavení připnutých karet
zen-pinned-tab-manager-description = Spravovat další chování připnutých karet
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Při spuštění obnovit připnuté panely na jejich původní URL adresu
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Povolit Essentials pro konkrétní kontejner
zen-pinned-tab-manager-close-shortcut-behavior-label = Chování při zavírání připnutého panelu
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Obnovit URL adresu, uspat a přepnout na další panel
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Uspat a přepnout na další panel
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Obnovit URL adresu a přepnout na další panel
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Přepnout na další panel
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Resetovat adresu URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Zavřít panel
pane-zen-workspaces-header = Pracoviště
zen-settings-workspaces-header = Obecná nastavení pro pracovní prostory
zen-settings-workspaces-description = S pacovišti můžete mít více relací najednou!
zen-settings-workspaces-enabled = 
    .label = Povolit pracovní prostory (experimentální)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Skrýt výchozí indikátor kontejneru v panelu záložek
zen-key-unsaved = Neuložený zástupce! Ubezpečte jej po repsaní kliknutím na klávesu "Escap".
zen-key-conflict = Je v konfliktu s { $group } -> { $shortcut }
pane-zen-theme-title = Nastavení motivu
zen-vertical-tabs-title = Boční panel a rozložení karet
zen-vertical-tabs-header = Vertikální panely
zen-vertical-tabs-description = Spravujte vaše panely ve vertikálním rozložení
zen-vertical-tabs-show-expand-button = 
    .label = Zobrazit tlačítko Rozbalit
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Zobrazit tlačítko pro vytvoření nového panelu v panelu záložek
zen-vertical-tabs-newtab-top-button-up = 
    .label = Přesunout tlačítko pro vytvoření nového panelu nahoru
zen-vertical-tabs-expand-tabs-by-default = Rozbalit záložky ve výchozím nastavení
zen-vertical-tabs-dont-expand-tabs-by-default = Nerozšiřovat záložky ve výchozím nastavení
zen-vertical-tabs-expand-tabs-on-hover = Rozbalit panely při přejetí myší (nefunguje v kompaktním režimu)
zen-vertical-tabs-expand-tabs-header = Jak rozbalit panely
zen-vertical-tabs-expand-tabs-description = Vyberte si jak rozbalit panely v postranním panelu
zen-theme-marketplace-header = Zen Módy
zen-theme-disable-all-enabled = 
    .title = Zakázat všechny módy
zen-theme-disable-all-disabled = 
    .title = Povolit všechny módy
zen-theme-marketplace-description = Najít a nainstalovat módy z obchodu.
zen-theme-marketplace-remove-button = 
    .label = Odstranit mód
zen-theme-marketplace-check-for-updates-button = 
    .label = Zkontrolovat dostupné aktualizace
zen-theme-marketplace-import-button = 
    .label = Importovat módy
zen-theme-marketplace-export-button = 
    .label = Exportovat módy
zen-theme-marketplace-import-success = Módy byly úspěšně importovány
zen-theme-marketplace-import-failure = Při importování modů došlo k chybě
zen-theme-marketplace-export-success = Módy byly úspěšně exportovány
zen-theme-marketplace-export-failure = Při exportování modů došlo k chybě
zen-theme-marketplace-updates-success = Módy byly úspěšně aktualizovány
zen-theme-marketplace-updates-failure = Nebyly nalezeny žádné aktualizace!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Zakázat mód
zen-theme-marketplace-toggle-disabled-button = 
    .title = Povolit mód
zen-theme-marketplace-remove-confirmation = Opravdu chcete tento mód odstranit?
zen-theme-marketplace-close-modal = Zavřít
zen-theme-marketplace-theme-header-title = 
    .title = CSS selektor: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Žádný
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Napište něco...
pane-zen-marketplace-title = Zen Módy
zen-themes-auto-update = 
    .label = Automaticky aktualizovat nainstalované mody při spuštění
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Přepnout na pracovní prostor, kde je kontejner nastaven jako výchozí při otevírání záložek kontejneru
zen-theme-marketplace-link = Navštívit obchod
zen-dark-theme-styles-header = Styly tmavého motivu
zen-dark-theme-styles-description = Přizpůsobte si tmavý motiv podle vašich přání
zen-dark-theme-styles-amoled = Noční motiv
zen-dark-theme-styles-default = Výchozí tmavý motiv
zen-dark-theme-styles-colorful = Barevný tmavý motiv
zen-compact-mode-styles-left = Skrýt panel karet
zen-compact-mode-styles-top = Skrýt horní lištu
zen-compact-mode-styles-both = Skrýt obojí
zen-urlbar-title = Zen adresní řádek
zen-urlbar-header = Obecné nastavení adresního řádku
zen-urlbar-description = Přizpůsobte si adresní řádek podle svých představ
zen-urlbar-behavior-label = Chování
zen-urlbar-behavior-normal = 
    .label = Normální
zen-urlbar-behavior-floating-on-type = 
    .label = Vznášející pouze při psaní
zen-urlbar-behavior-float = 
    .label = Vždy vznášející
pane-zen-CKS-title = Klávesové zkratky
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Klávesové zkratky { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Zen Módy
zen-settings-CKS-header = Přizpůsobte si klávesové zkratky
zen-settings-CKS-description = Změňte výchozí klávesové zkratky podle vašich přání a zlepšete svůj zážitek z prohlížení
zen-settings-CKS-disable-firefox = 
    .label = Zakázat výchozí klávesové zkratky prohlížeče { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplikovat zkratku
zen-settings-CKS-reset-shortcuts = 
    .label = Obnovit výchozí
zenCKSOption-group-other = Ostatní
zenCKSOption-group-windowAndTabManagement = Okno a správa karet
zenCKSOption-group-navigation = Navigace
zenCKSOption-group-searchAndFind = Vyhledávání a hledání
zenCKSOption-group-pageOperations = Operace stránky
zenCKSOption-group-historyAndBookmarks = Historie a záložky
zenCKSOption-group-mediaAndDisplay = Média a zobrazení
zenCKSOption-group-zen-compact-mode = Kompaktní režim
zenCKSOption-group-zen-workspace = Pracovní prostory
zenCKSOption-group-zen-other = Ostatní funkce Zenu
zenCKSOption-group-zen-split-view = Rozdělit zobrazení
zenCKSOption-group-devTools = Vývojářské nástroje
zen-key-quick-restart = Rychlý restart
zen-window-new-shortcut = Nové okno
zen-tab-new-shortcut = Nová karta
zen-key-redo = Znovu
zen-restore-last-closed-tab-shortcut = Obnovit poslední zavřený panel
zen-location-open-shortcut = Otevřít polohu
zen-location-open-shortcut-alt = Otevřít polohu (Alt)
zen-key-undo-close-window = Vrátit zavřené okno
zen-text-action-undo-shortcut = Zpět
zen-text-action-redo-shortcut = Vrátit
zen-text-action-cut-shortcut = Vyjmout
zen-text-action-copy-shortcut = Kopírovat
zen-text-action-copy-url-shortcut = Kopírovat aktuální URL adresu
zen-text-action-copy-url-markdown-shortcut = Kopírovat aktuální URL jako Markdown
zen-text-action-paste-shortcut = Vložit
zen-text-action-select-all-shortcut = Vybrat vše
zen-text-action-delete-shortcut = Vymazat
zen-history-show-all-shortcut-mac = Zobrazit celou historii (Mac)
zen-full-screen-shortcut = Přepnout na celou obrazovku
zen-reader-mode-toggle-shortcut-windows = Přepnout režim čtení (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Přepnout obraz v obraze (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Přepnout obraz v obraze (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Přepnout obraz v obraze (Mac Alt)
zen-page-source-shortcut-safari = Zobrazit zdroj stránky (Safari)
zen-nav-stop-shortcut = Zastavit načítání
zen-history-sidebar-shortcut = Zobrazit boční panel historie
zen-window-minimize-shortcut = Minimalizovat okno
zen-help-shortcut = Otevřít nápovědu
zen-preferences-shortcut = Otevřít předvolby
zen-hide-app-shortcut = Skrýt aplikaci
zen-hide-other-apps-shortcut = Skrýt ostatní aplikace
zen-search-focus-shortcut = Zaměřit hledání
zen-search-focus-shortcut-alt = Zaměřit vyhledávání (Alt)
zen-downloads-shortcut = Otevřít soubor ke stažení
zen-addons-shortcut = Otevřít doplňky
zen-file-open-shortcut = Otevřít soubor
zen-save-page-shortcut = Uložit stránku
zen-print-shortcut = Vytisknout stránku
zen-close-shortcut-2 = Zavřít panel
zen-mute-toggle-shortcut = Přepnout ztlumení
zen-key-delete = Odstranit klíč
zen-key-go-back = Zpět
zen-key-go-forward = Přejít vpřed
zen-nav-back-shortcut-alt = Přejít zpět (Alt)
zen-nav-fwd-shortcut-alt = Přejít vpřed (Alt)
zen-history-show-all-shortcut = Zobrazit celou historii
zen-key-enter-full-screen = Zadejte celou obrazovku
zen-key-exit-full-screen = Ukončit režim celé obrazovky
zen-ai-chatbot-sidebar-shortcut = Přepnout postranní panel AI chatbota
zen-key-inspector-mac = Přepnout inspektor (Mac)
zen-toggle-sidebar-shortcut = Přepnout postranní panel Firefoxu
zen-toggle-pin-tab-shortcut = Přepnout připnutí záložky
zen-reader-mode-toggle-shortcut-other = Přepnout čtecí režim
zen-picture-in-picture-toggle-shortcut = Přepnout obraz v obraze
zen-nav-reload-shortcut-2 = Znovu načíst stránku
zen-key-about-processes = O procesech
zen-page-source-shortcut = Zobrazit zdroj stránky
zen-page-info-shortcut = Zobrazit informace o stránce
zen-find-shortcut = Najít na stránce
zen-search-find-again-shortcut = Najít znovu
zen-search-find-again-shortcut-prev = Najít předchozí
zen-search-find-again-shortcut-2 = Najít znovu (Alt)
zen-bookmark-this-page-shortcut = Přidat záložku
zen-bookmark-show-library-shortcut = Zobrazit knihovnu záložek
zen-key-stop = Zastavit načítání
zen-full-zoom-reduce-shortcut = Oddálit
zen-full-zoom-enlarge-shortcut = Přiblížit
zen-full-zoom-reset-shortcut = Obnovit velikost
zen-full-zoom-reset-shortcut-alt = Obnovit přiblížení (Alt)
zen-full-zoom-enlarge-shortcut-alt = Přiblížit (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Oddálit (Alt 2)
zen-bidi-switch-direction-shortcut = Přepnout směr textu
zen-private-browsing-shortcut = Soukromé prohlížení
zen-screenshot-shortcut = Pořídit snímek obrazovky
zen-key-sanitize = Vymazat data prohlížení
zen-quit-app-shortcut = Opustit aplikaci
zen-key-wr-capture-cmd = WR příkaz pro zachytávání
zen-key-wr-toggle-capture-sequence-cmd = Přepnout sekvence zachytávání WR
zen-nav-reload-shortcut = Znovu načíst stránku
zen-nav-reload-shortcut-skip-cache = Obnovit stránku (Přeskočit Cache)
zen-close-shortcut = Zavřít okno
zen-close-tab-shortcut = Zavřít panel
zen-compact-mode-shortcut-show-sidebar = Přepnout plovoucí postranní panel
zen-compact-mode-shortcut-show-toolbar = Přepnout plovoucí panel nástrojů
zen-compact-mode-shortcut-toggle = Přepnout kompaktní režim
zen-glance-expand = Rozšířit Glance
zen-workspace-shortcut-switch-1 = Přepnout do pracovního prostoru 1
zen-workspace-shortcut-switch-2 = Přepnout do pracovního prostoru 2
zen-workspace-shortcut-switch-3 = Přepnout do pracovního prostoru 3
zen-workspace-shortcut-switch-4 = Přepnout do pracovního prostoru 4
zen-workspace-shortcut-switch-5 = Přepnout do pracovního prostoru 5
zen-workspace-shortcut-switch-6 = Přepnout do pracovního prostoru 6
zen-workspace-shortcut-switch-7 = Přepnout do pracovního prostoru 7
zen-workspace-shortcut-switch-8 = Přepnout do pracovního prostoru 8
zen-workspace-shortcut-switch-9 = Přepnout na pracovní prostor 9
zen-workspace-shortcut-switch-10 = Přepnout do pracovního prostoru 10
zen-workspace-shortcut-forward = Přeposlat pracovní prostor
zen-workspace-shortcut-backward = Zpětný pracovní prostor
zen-sidebar-shortcut-toggle = Přepnout šířku postranního panelu
zen-pinned-tab-shortcut-reset = Obnovit připnuté záložky na připnuté URL
zen-split-view-shortcut-grid = Přepnout rozdělený pohled v mřížce
zen-split-view-shortcut-vertical = Přepnout rozdělené zobrazení vertikálně
zen-split-view-shortcut-horizontal = Přepnout horizontální zobrazení rozdělení
zen-split-view-shortcut-unsplit = Zavřít rozdělené zobrazení
zen-new-empty-split-view-shortcut = Nové prázdné rozdělené zobrazení
zen-key-select-tab-1 = Vybrat první panel
zen-key-select-tab-2 = Vybrat druhý panel
zen-key-select-tab-3 = Vybrat třetí panel
zen-key-select-tab-4 = Vybrat čtvrtý panel
zen-key-select-tab-5 = Vybrat pátý panel
zen-key-select-tab-6 = Vybrat šestý panel
zen-key-select-tab-7 = Vybrat sedmý panel
zen-key-select-tab-8 = Vybrat osmý panel
zen-key-select-tab-last = Vybrat poslední panel
zen-key-show-all-tabs = Zobrazit všechny panely
zen-key-goto-history = Přejít na historii
zen-key-go-home = Návrat domů
zen-bookmark-show-sidebar-shortcut = Zobrazit postranní panel záložek
zen-bookmark-show-toolbar-shortcut = Zobrazit panel záložek
zen-devtools-toggle-shortcut = Přepnout vývojářské nástroje
zen-devtools-toggle-browser-toolbox-shortcut = Přepnout nástroje prohlížeče
zen-devtools-toggle-browser-console-shortcut = Přepnout konzoli prohlížeče
zen-devtools-toggle-responsive-design-mode-shortcut = Přepnout režim responzivního designu
zen-devtools-toggle-inspector-shortcut = Přepnout inspektor
zen-devtools-toggle-web-console-shortcut = Přepnout webovou konzoli
zen-devtools-toggle-js-debugger-shortcut = Přepnout Debugger JavaScriptu
zen-devtools-toggle-net-monitor-shortcut = Přepnout sledování sítě
zen-devtools-toggle-style-editor-shortcut = Přepnout editor stylů
zen-devtools-toggle-performance-shortcut = Přepnout výkon
zen-devtools-toggle-storage-shortcut = Přepnout úložiště
zen-devtools-toggle-dom-shortcut = Přepnout DOM
zen-devtools-toggle-accessibility-shortcut = Přepnout přístupnost
zen-close-all-unpinned-tabs-shortcut = Zavřít všechny nepřipnuté panely
zen-new-unsynced-window-shortcut = Nové nesynchronizované okno



================================================
FILE: locales/cy/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Chwilio { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Ail-enwi Ffolder
zen-folders-panel-unpack-folder = 
    .label = Dadbacio Ffolder
zen-folders-new-subfolder = 
    .label = Is-ffolder Newydd
zen-folders-panel-delete-folder = 
    .label = Dileu Ffolder
zen-folders-panel-convert-folder-to-space = 
    .label = Trosi ffolder i Ofod
zen-folders-panel-change-folder-space = 
    .label = Newid Gofod...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Dadlwytho gweithredol yn y ffolder hon
zen-folders-unload-folder = 
    .label = Dadlwytho Pob Tab
zen-folders-search-no-results = Dim tabiau sy'n cyfateb i'r chwiliad hwnnw 🤔



================================================
FILE: locales/cy/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = y proffil cyfredol
unified-extensions-description = Mae estyniadau'n cael ei defnyddio er mwyn ychwanegu fwy o swyddogaeth i { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Ailosod Tab wedi'i Binio
    .accesskey = A
tab-context-zen-add-essential = 
    .label = Ychwanegu at Hanfodion
    .accesskey = H
tab-context-zen-add-essential-badge = { $num } / { $max } slotiau wedi'u llenwi
tab-context-zen-remove-essential = 
    .label = Dileu o'r Hanfodion
    .accesskey = D
tab-context-zen-replace-pinned-url-with-current = 
    .label = Ailosod URL wedi'i Binio gyda'r Cyfredol
    .accesskey = P
tab-context-zen-edit-title = 
    .label = Newid Label...
tab-context-zen-edit-icon = 
    .label = Newid Eicon...
zen-themes-corrupted = Mae eich ffeil addasiadau { -brand-short-name } wedi'i llygru. Maen nhw wedi cael eu hailosod i'r thema rhagosodedig.
zen-shortcuts-corrupted = Mae eich ffeil llwybr-byr { -brand-short-name } wedi'i llygru. Maen nhw wedi cael eu hailosod i'r llwybr byr rhagosodedig.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Mae'r bar URL newydd wedi'i alluogi, sydd yn dileu'r angen am dudalennau tab newydd.<br/><br/>
    Ceisiwch agor tab newydd i weld y bar URL newydd ar waith!
zen-disable = Analluogi
pictureinpicture-minimize-btn = 
    .aria-label = Lleihau
    .tooltip = Lleihau
zen-panel-ui-gradient-generator-custom-color = Lliw Cyfaddas
zen-copy-current-url-confirmation = Wedi copïo'r URL cyfredol!
zen-general-cancel-label = 
    .label = Na
zen-general-confirm = 
    .label = Cadarnhau
zen-pinned-tab-replaced = Mae URL y tab wedi'i binio wedi'i newid i'r URL gyfredol!
zen-tabs-renamed = Mae'r tab wedi cael ei ailenwi'n llwyddiannus!
zen-background-tab-opened-toast = Tab cefndir newydd wedi'i agor!
zen-workspace-renamed-toast = Mae'r Man Gwaith wedi cael ei ailenwi'n llwyddiannus!
zen-toggle-compact-mode-button = 
    .label = Modd Cryno
    .tooltiptext = Togglo Modd Cryno

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Dysgu Rhagor
zen-close-label = Cau
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Chwilio...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Eiconau
urlbar-search-mode-zen_actions = Gweithredoedd
zen-site-data-settings = Gosodiadau
zen-generic-manage = Rheoli
zen-generic-more = Rhagor
zen-generic-next = Nesaf
zen-essentials-promo-label = Ychwanegu at Hanfodion
zen-essentials-promo-sublabel = Cadwch eich hoff dabiau dim ond un clic i ffwrdd
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Caniatawyd
zen-site-data-setting-block = Rhwystrwyd
zen-site-data-protections-enabled = Galluogwyd
zen-site-data-protections-disabled = Analluogwyd
zen-site-data-setting-cross-site = Cwci Traws-Gwefan
zen-site-data-security-info-extension = 
    .label = Estyniad
zen-site-data-security-info-secure = 
    .label = Diogel
zen-site-data-security-info-not-secure = 
    .label = Ddim yn Ddiogel
zen-site-data-manage-addons = 
    .label = Rheoli Estyniadau
zen-site-data-get-addons = 
    .label = Ychwanegu Estyniadau
zen-site-data-site-settings = 
    .label = Pob Gosodiad Gwefan
zen-site-data-header-share = 
    .tooltiptext = Rhannu'r Dudalen Hon
zen-site-data-header-reader-mode = 
    .tooltiptext = Mynd i'r Modd Darllenydd
zen-site-data-header-screenshot = 
    .tooltiptext = Cymryd Llun Sgrin
zen-site-data-header-bookmark = 
    .tooltiptext = Nodi'r Dudalen Hon
zen-urlbar-copy-url-button = 
    .tooltiptext = Copïo URL
zen-site-data-setting-site-protection = Diogelu Rhag Tracio

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Cartref newydd ar gyfer ychwanegiadau, caniatâd, a mwy
zen-site-data-panel-feature-callout-subtitle = Cliciwch yr eicon i reoli gosodiadau'r wefan, gweld manylion diogelwch, cael mynediad at estyniadau, a chyflawni gweithredoedd cyffredin.
zen-open-link-in-glance = 
    .label = Agor y Ddolen yn Cipolwg
    .accesskey = C
zen-sidebar-notification-updated-heading = Diweddariad Wedi'i Gwblhau!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Beth sy'n newydd yn { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Gweld Nodiadau Rhyddhau
zen-sidebar-notification-restart-safe-mode-label = Rhywbeth wedi torri?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Ailgychwyn yn y Modd Diogel
zen-window-sync-migration-dialog-title = Cadw Eich Ffenestr Wedi'u Cydweddu
zen-window-sync-migration-dialog-message = Mae Zen bellach yn cydweddu ffenestri ar yr un ddyfais, felly mae newidiadau mewn un ffenestr yn cael eu dangos ar y lleill yn syth.
zen-window-sync-migration-dialog-learn-more = Dysgu Rhagor
zen-window-sync-migration-dialog-accept = Iawn



================================================
FILE: locales/cy/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [gwir] Ehangu Tabiau wedi'u Pinio
           *[ffug] Lleihau Tabiau wedi'u Pinio
        }
zen-menubar-appearance = 
    .label = Gwedd
zen-menubar-appearance-description = 
    .label = Bydd gwefannau’n defnyddio:
zen-menubar-appearance-auto = 
    .label = Awtomatig
zen-menubar-appearance-light = 
    .label = Golau
zen-menubar-appearance-dark = 
    .label = Tywyll
zen-menubar-new-unsynced-window = 
    .label = Ffenestr Wag Newydd



================================================
FILE: locales/cy/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Tab Hollt (angen sawl tab wedi'u dewis)
           *[other] Hollti { $tabCount } Tab
        }
    .accesskey = H
zen-split-link = 
    .label = Rhannu dolen i dab newydd
    .accesskey = D
zen-split-view-modifier-header = Golwg Hollt
zen-split-view-modifier-activate-reallocation = 
    .label = Galluogi ailddyrannu
zen-split-view-modifier-enabled-toast = Mae aildrefnu'r olwg hollt YMLAEN
zen-split-view-modifier-enabled-toast-description = Llusgwch a gollwng y golwg i'w haildrefnu. Pwyswch Esc i adael.
zen-split-view-modifier-disabled-toast = Mae aildrefnu'r olwg hollt i FFWRDD.



================================================
FILE: locales/cy/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabiau ar y dde
    .accesskey = D
zen-toolbar-context-compact-mode = 
    .label = Modd Cryno
zen-toolbar-context-compact-mode-enable = 
    .label = Galluogi modd cryno
    .accesskey = G
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Cuddio'r bar ochr
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Cuddio'r bar offer
zen-toolbar-context-compact-mode-hide-both = 
    .label = Cuddio'r ddau
    .accesskey = C
zen-toolbar-context-new-folder = 
    .label = Ffolder Newydd
    .accesskey = N
sidebar-zen-expand = 
    .label = Ehangu'r Bar Ochr
sidebar-zen-create-new = 
    .label = Creu Newydd...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [un] Dadlwytho a newid i dab
           *[arall] Dadlwytho { $tabCount } tab a newid i'r cyntaf
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [un] Ailosod a phinio tab
           *[arall] Ailosod a phinio { $tabCount } tab
        }
tab-reset-pin-label = Nôl i'r url wedi'i binio



================================================
FILE: locales/cy/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Mudydd Panel Gwe
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Dad-mud y Panel Gwe
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Analluogi Cyfrwng-Defnyddiwr ffôn
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Galluogi Cyfrwng-Defnyddiwr ffôn
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Dadlwytho'r Panel Gwe
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Dileu'r Panel Gwe
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Agor yn Tab Newydd
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Agor yn Tab Cynhwysydd
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Adio i'r Panel Gwe
    .accesskey = A
zen-webpanel-introduction-title = Croeso i Paneli Gwe Zen
zen-webpanel-introduction-description = Mae Paneli Gwe yn ffordd o gadw eich hoff wefannau ar flaenau eich bysedd.



================================================
FILE: locales/cy/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Croeso i
zen-welcome-title-line2 = rhyngrwyd llonyddach
zen-welcome-import-title = Dechrau Newydd, Yr Un Nodau Tudalen
zen-welcome-import-description-1 = Mae eich nodau tudalen, hanes a chyfrineiriau fel llwybr o friwsion ar draws y rhyngrwyd—peidiwch eu gadael ar eich hôl!
zen-welcome-import-description-2 = Dewch â nhw drosodd yn hawdd o borwr arall a phara ymlaen o le roeddech chi.
zen-welcome-import-button = Mewnforio nawr
zen-welcome-set-default-browser = Gosod { -brand-short-name } fel eich porwr arferol
zen-welcome-dont-set-default-browser = PEIDIO gosod { -brand-short-name } fel eich porwr arferol
zen-welcome-initial-essentials-title = Eich Tabiau Allweddol, Bob Tro o Fewn Gafael
zen-welcome-initial-essentials-description-1 = Cadwch eich tabiau pwysicaf yn hawdd eu cyrraedd ac wrth law bob amser, faint bynnag rydych chi'n eu hagor.
zen-welcome-initial-essentials-description-2 = Mae tabiau hanfodol bob amser yn weladwy, pa bynnag man gwaith rydych chi ynddo.
zen-welcome-workspace-colors-title = Eich Mannau Gwaith, Eich Lliwiau
zen-welcome-workspace-colors-description = Personolwch eich porwr trwy roi lliw unigryw i bob gweithle.
zen-welcome-start-browsing-title =
    Yn barod?<br/>
    Ffwrdd â ni!
zen-welcome-start-browsing-description-1 = Rydych chi wedi'ch paratoi ac yn barod i fynd. Cliciwch y botwm isod i ddechrau pori gyda { -brand-short-name }.
zen-welcome-start-browsing = Ymlaen!
zen-welcome-default-search-title = Eich Peiriant Chwilio Arferol
zen-welcome-default-search-description = Dewiswch eich peiriant chwilio arferol. Gallwch chi ei newid yn nes ymlaen!
zen-welcome-skip-button = Hepgor
zen-welcome-finished = Mae eich Zen wedi'i osog yn gywir!



================================================
FILE: locales/cy/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Gofodau Gwaith
zen-panel-ui-spaces-label = 
    .label = Gofodau
zen-panel-ui-workspaces-create = 
    .label = Creu Gofod
zen-panel-ui-folder-create = 
    .label = Creu Ffolder
zen-panel-ui-new-empty-split = 
    .label = Hollt Newydd
zen-workspaces-panel-context-delete = 
    .label = Dileu Gofod Gwaith
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Newid Enw
zen-workspaces-panel-change-icon = 
    .label = Newid Eicon
zen-workspaces-panel-context-default-profile = 
    .label = Gosod Proffil
zen-workspaces-panel-unload = 
    .label = Dadlwytho Gofod
zen-workspaces-how-to-reorder-title = Sut i aildrefnu gofodau
zen-workspaces-how-to-reorder-desc = Llusgwch yr eiconau gofod ar waelod y bar ochr i'w haildrefnu
zen-workspaces-change-theme = 
    .label = Golygu Thema
zen-workspaces-panel-context-open = 
    .label = Agor Gofod Gwaith
    .accesskey = G
zen-workspaces-panel-context-edit = 
    .label = Golygu Gofod
    .accesskey = G
zen-bookmark-edit-panel-workspace-selector = 
    .value = Gofodau
    .accesskey = o
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Cyflenwol
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Hollti
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Cyfatebol
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadig
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Arnofiol
zen-panel-ui-gradient-click-to-add = Cliciwch i ychwanegu lliw
zen-workspace-creation-name = 
    .placeholder = Enw'r Gofod
zen-move-tab-to-workspace-button = 
    .label = Symud I...
    .tooltiptext = Symud pob tab yn y ffenestr hon i Ofod
zen-workspaces-panel-context-reorder = 
    .label = Aildrefnu Gofodau
zen-workspace-creation-profile = Proffil
    .tooltiptext = Mae proffiliau'n cael eu defnyddio i wahanu cwcis a data gwefan rhwng gofodau.
zen-workspace-creation-header = Creu Gofod
zen-workspace-creation-label = Mae gofodau'n cael eu defnyddio i drefnu eich tabiau a'ch sesiynau.
zen-workspaces-delete-workspace-title = Dileu Gofod Gwaith?
zen-workspaces-delete-workspace-body = Ydych chi'n siŵr eich bod chi eisiau dileu { $name }? Does dim modd dadwneud y weithred hon.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabiau wedi'u Cau! Defnyddiwch <span>{ $shortcut }</span> i'w hailagor.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clirio
    .tooltiptext = Cau pob tab heb ei binio
zen-panel-ui-workspaces-change-forward = 
    .label = Gofod Nesaf
zen-panel-ui-workspaces-change-back = 
    .label = Gofod Blaenorol



================================================
FILE: locales/cy/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = A theme with a dark color scheme and a nice galaxy touch!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = A theme with a light color scheme and a nice dream-y touch!



================================================
FILE: locales/cy/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Initial URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Display this web panel in mobile mode
    .accesskey = m



================================================
FILE: locales/cy/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Edrych a Theimlo
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Gall newid yr iaith rhagosodedig ei gwneud hi'n haws i Wefannau eich tracio.
zen-vertical-tabs-layout-header = Cynllun Porwr
zen-vertical-tabs-layout-description = Dewiswch y cynllun sy orau i chi
zen-layout-single-toolbar = Unig Far Ochr
zen-layout-multiple-toolbar = Bar Ochr a Bar Offer Uchaf
zen-layout-collapsed-toolbar = Bar Ochr wedi'i Leihau
sync-currently-syncing-workspaces = Gofodau Gwaith
sync-engine-workspaces = 
    .label = Gofodau Gwaith
    .tooltiptext = Cydweddu eich gofodau gwaith ar draws dyfeisiau
    .accesskey = G
zen-glance-title = Cipolwg
zen-glance-header = Gosodiadau cyffredinol ar gyfer cipolwg
zen-glance-description = Cael trosolwg cyflym o'ch dolenni heb eu hagor mewn tab newydd
zen-glance-trigger-label = Dull sbarduno
zen-glance-enabled = 
    .label = Galluogi Cipolwg
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Clic
zen-glance-trigger-alt-click = 
    .label = Alt + Clic
zen-glance-trigger-shift-click = 
    .label = Shift + Clic
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Clic
zen-look-and-feel-compact-view-header = Dangos mewn golwg gryno
zen-look-and-feel-compact-view-description = Dim ond dangos y bariau offer rydych chi'n eu defnyddio!
zen-look-and-feel-compact-view-enabled = 
    .label = Galluogi modd cryno { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Cuddio'r bar offer uchaf hefyd yn y modd cryno
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Gwneud i'r bar offer ymddangos yn fyr wrth newid neu agor tabiau newydd yn y modd cryno
pane-zen-tabs-title = Rheoli Tabiau
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Gofodau Gwaith
zen-tabs-unloader-enabled = 
    .label = Galluogi Dadlwytho Tabiau
zen-tabs-close-on-back-with-no-history = 
    .label = Cau'r tab a newid i'w dab perchennog (neu'r tab ddefnyddiwyd fwyaf diweddar) wrth fynd yn ôl heb dim hanes
zen-tabs-cycle-by-attribute = 
    .label = Mae Ctrl+Tab yn o fewn y tabiau Hanfodol neu Waith yn unig
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Anwybyddu tabiau sy'n Aros wrth gylchdroi gyda Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Bydd Ctrl+Tab yn cylchdroi yn ôl trefn defnyddiwyd yn ddiweddar, gan ei fod wedi'i alluogi
zen-look-and-feel-compact-toolbar-themed = 
    .label = Defnyddio cefndir thema ar gyfer bar offer cryno
zen-workspace-continue-where-left-off = 
    .label = Parhau lle gwnaethoch chi adael
pane-zen-pinned-tab-manager-title = Tabiau wedi'u Pinio
zen-pinned-tab-manager-header = Gosodiadau cyffredinol ar gyfer tabiau wedi'u pinio
zen-pinned-tab-manager-description = Rheoli ymddygiad ychwanegol tabiau wedi'u pinio
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Adfer tabiau wedi'u pinio i'w URL gwreiddiol wedi'i binio wrth gychwyn
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Galluogi hanfodion penodol i gynwysyddion
zen-pinned-tab-manager-close-shortcut-behavior-label = Cau Ymddygiad Llwybr Byr Tabiau
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Ailosod URL, dadlwytho a newid i'r tab nesaf
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Dadlwytho a newid i'r tab nesaf
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Ailosod yr URL a newid i'r tab nesaf
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Newid i'r tab nesaf
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Ailosod URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Cau'r tab
pane-zen-workspaces-header = Gofodau Gwaith
zen-settings-workspaces-header = Gosodiadau cyffredinol ar gyfer gofodau gwaith
zen-settings-workspaces-description = Gyda gofodau gwaith, gallwch gael sawl sesiwn pori ar unwaith!
zen-settings-workspaces-enabled = 
    .label = Galluogi Gofodau Gwaith
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Cuddio'r dangosydd cynhwysydd rhagosodedig yn y bar tabiau
zen-key-unsaved = Llwybr byr heb ei gadw! Cadwch ef drwy glicio'r allwedd "Escape" ar ôl ei aildeipio.
zen-key-conflict = Yn gwrthdaro â { $group } -> { $shortcut }
pane-zen-theme-title = Gosodiadau Thema
zen-vertical-tabs-title = Cynllun y bar ochr a'r tabiau
zen-vertical-tabs-header = Tabiau Fertigol
zen-vertical-tabs-description = Rheoli eich tabiau mewn cynllun fertigol
zen-vertical-tabs-show-expand-button = 
    .label = Dangos y Botwm Ehangu
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Dangos Botwm Tab Newydd ar y Rhestr Tabiau
zen-vertical-tabs-newtab-top-button-up = 
    .label = Symud y botwm tab newydd i'r brig
zen-vertical-tabs-expand-tabs-by-default = Ehangu Tabiau yn Rhagosodedig
zen-vertical-tabs-dont-expand-tabs-by-default = Peidiwch ag Ehangu Tabiau yn Ragosodedig
zen-vertical-tabs-expand-tabs-on-hover = Yn Ehangu Tabiau wrth Hofran (Ond nid yn y modd cryno)
zen-vertical-tabs-expand-tabs-header = Sut i ehangu tabiau
zen-vertical-tabs-expand-tabs-description = Dewiswch sut i ehangu tabiau yn y bar ochr
zen-theme-marketplace-header = Addasiadau Zen
zen-theme-disable-all-enabled = 
    .title = Analluogi pob addasiad
zen-theme-disable-all-disabled = 
    .title = Galluogi pob addasiad
zen-theme-marketplace-description = Dewch o hyd i addasiadau o'r storfa a'u gosod.
zen-theme-marketplace-remove-button = 
    .label = Dileu addasiad
zen-theme-marketplace-check-for-updates-button = 
    .label = Chwilio am Ddiweddariadau
zen-theme-marketplace-import-button = 
    .label = Mewnforio addasiadau
zen-theme-marketplace-export-button = 
    .label = Allforio Addasiadau
zen-theme-marketplace-import-success = Addasiadau wedi'u mewnforio'n llwyddiannus
zen-theme-marketplace-import-failure = Bu gwall wrth fewnforio'r addasiadau
zen-theme-marketplace-export-success = Addasiadau wedi'u hallforio'n llwyddiannus
zen-theme-marketplace-export-failure = Bu gwall wrth allforio'r addasiadau
zen-theme-marketplace-updates-success = Diweddarwyd yr addasiadau'n llwyddiannus
zen-theme-marketplace-updates-failure = Methu dod o hyd i unrhyw ddiweddariadau!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Analluogi addasiad
zen-theme-marketplace-toggle-disabled-button = 
    .title = Galluogi addasiad
zen-theme-marketplace-remove-confirmation = Ydych chi'n siŵr eich bod chi eisiau tynnu'r addasiad hwn?
zen-theme-marketplace-close-modal = Cau
zen-theme-marketplace-theme-header-title = 
    .title = Dewisydd CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Dim
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Teipiwch rywbeth...
pane-zen-marketplace-title = Addasiadau Zen
zen-themes-auto-update = 
    .label = Diweddaru addasiadau wedi'u gosod yn awtomatig wrth gychwyn
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Newid i'r gofod gwith lle mae'r cynhwysydd wedi'i osod fel y rhagosodyn wrth agor tabiau cynhwysydd
zen-theme-marketplace-link = Ymweld â'r Storfa
zen-dark-theme-styles-header = Arddulliau Thema Tywyll
zen-dark-theme-styles-description = Addaswch y thema dywyll i'r hyn rydych yn ei hoffi
zen-dark-theme-styles-amoled = Thema Nos
zen-dark-theme-styles-default = Thema Dywyll Rhagosodedig
zen-dark-theme-styles-colorful = Thema Dywyll Lliwgar
zen-compact-mode-styles-left = Cuddio Bar Tab
zen-compact-mode-styles-top = Cuddio Bar Uchaf
zen-compact-mode-styles-both = Cuddio'r Ddau
zen-urlbar-title = Bar URL Zen
zen-urlbar-header = Gosodiadau cyffredinol ar gyfer y bar URL
zen-urlbar-description = Addaswch y bar URL i'r hyn rydych yn ei hoffi
zen-urlbar-behavior-label = Ymddygiad
zen-urlbar-behavior-normal = 
    .label = Arferol
zen-urlbar-behavior-floating-on-type = 
    .label = Arnofiodim ond wrth deipio
zen-urlbar-behavior-float = 
    .label = Bob amser yn arnofio
pane-zen-CKS-title = Llwybrau Byr Bysellfwrdd
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Llwybrau Byr Bysellfwrdd { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Addasiadau Zen
zen-settings-CKS-header = Cyfaddasu eich llwybrau byr bysellfwrdd
zen-settings-CKS-description = Newidiwch y llwybrau byr bysellfwrdd arferol i'r hyn rydych yn ei hoffi a gwella'ch profiad pori
zen-settings-CKS-disable-firefox = 
    .label = Analluogi llwybrau byr bysellfwrdd arferol { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Llwybr Byr Dyblyg
zen-settings-CKS-reset-shortcuts = 
    .label = Ailosod i'r Arferol
zenCKSOption-group-other = Arall
zenCKSOption-group-windowAndTabManagement = Rheoli Ffenestri a Thabiau
zenCKSOption-group-navigation = Llywio
zenCKSOption-group-searchAndFind = Chwilio a Chanfod
zenCKSOption-group-pageOperations = Gweithrediadau Tudalen
zenCKSOption-group-historyAndBookmarks = Hanes a Nodau Tudalen
zenCKSOption-group-mediaAndDisplay = Cyfryngau a Dangos
zenCKSOption-group-zen-compact-mode = Modd Cryno
zenCKSOption-group-zen-workspace = Gofodau Gwaith
zenCKSOption-group-zen-other = Nodweddion Zen Eraill
zenCKSOption-group-zen-split-view = Golwg Hollt
zenCKSOption-group-devTools = Offer Datblygwyr
zen-key-quick-restart = Ailgychwyn Cyflym
zen-window-new-shortcut = Ffenestr Newydd
zen-tab-new-shortcut = Tab Newydd
zen-key-redo = Ailwneud
zen-restore-last-closed-tab-shortcut = Adfer y Tab Ar Gau Diwethaf
zen-location-open-shortcut = Agor Lleoliad
zen-location-open-shortcut-alt = Agor Lleoliad (Alt)
zen-key-undo-close-window = Dadwneud Cau Ffenestr
zen-text-action-undo-shortcut = Dadwneud
zen-text-action-redo-shortcut = Ailwneud
zen-text-action-cut-shortcut = Torri
zen-text-action-copy-shortcut = Copïo
zen-text-action-copy-url-shortcut = Copïo'r URL cyfredol
zen-text-action-copy-url-markdown-shortcut = Copïo'r URL cyfredol fel Markdown
zen-text-action-paste-shortcut = Gludo
zen-text-action-select-all-shortcut = Dewis y Cyfan
zen-text-action-delete-shortcut = Dileu
zen-history-show-all-shortcut-mac = Dangos yr Holl Hanes (Mac)
zen-full-screen-shortcut = Togglo Sgrin Llawn
zen-reader-mode-toggle-shortcut-windows = Togglo Modd Darllenydd (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Togglo Llun-mewn-Llun (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Togglo Llun-mewn-Llun (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Togglo Llun-mewn-Llun (Mac Alt)
zen-page-source-shortcut-safari = Gweld Ffynhonnell y Dudalen (Safari)
zen-nav-stop-shortcut = Stopio Llwytho
zen-history-sidebar-shortcut = Dangos Bar Ochr Hanes
zen-window-minimize-shortcut = Lleihau Ffenestr
zen-help-shortcut = Agor Cymorth
zen-preferences-shortcut = Agor Dewisiadau
zen-hide-app-shortcut = Cuddio Rhaglen
zen-hide-other-apps-shortcut = Cuddio Rhaglenni Eraill
zen-search-focus-shortcut = Ffocws Chwilio
zen-search-focus-shortcut-alt = Ffocws Chwilio (Alt)
zen-downloads-shortcut = Agor Llwythi
zen-addons-shortcut = Agor Ychwanegiadau
zen-file-open-shortcut = Agor Ffeil
zen-save-page-shortcut = Cadw Tudalen
zen-print-shortcut = Argraffu Tudalen
zen-close-shortcut-2 = Cau'r Tab
zen-mute-toggle-shortcut = Togglo Mudo
zen-key-delete = Dileu Allwedd
zen-key-go-back = Nôl
zen-key-go-forward = Ymlaen
zen-nav-back-shortcut-alt = Llywio Nôl (Alt)
zen-nav-fwd-shortcut-alt = Llywio Ymlaen (Alt)
zen-history-show-all-shortcut = Dangos yr Holl Hanes
zen-key-enter-full-screen = Mynd i'r Sgrin Llawn
zen-key-exit-full-screen = Gadael y Sgrin Llawn
zen-ai-chatbot-sidebar-shortcut = Toglo Bar Ochr Sgwrsfot AI
zen-key-inspector-mac = Toglo Arolygydd (Mac)
zen-toggle-sidebar-shortcut = Toglo Bar Ochr Firefox
zen-toggle-pin-tab-shortcut = Toglo Pinio Tab
zen-reader-mode-toggle-shortcut-other = Toglo Modd Darllenydd
zen-picture-in-picture-toggle-shortcut = Toglo Llun-mewn-Llun
zen-nav-reload-shortcut-2 = Ail-lwytho Tudalen
zen-key-about-processes = Ynglŷn â Phrosesau
zen-page-source-shortcut = Gweld Ffynhonnell Tudalen
zen-page-info-shortcut = Gweld Manylion Tudalen
zen-find-shortcut = Canfod ar y Dudalen
zen-search-find-again-shortcut = Canfod Eto
zen-search-find-again-shortcut-prev = Canfod y Blaenorol
zen-search-find-again-shortcut-2 = Canfod Eto (Alt)
zen-bookmark-this-page-shortcut = Gosod Nod Tudalen i'r Dudalen Hon
zen-bookmark-show-library-shortcut = Dangos Llyfrgell Nodau Tudalen
zen-key-stop = Stopio Llwytho
zen-full-zoom-reduce-shortcut = Chwyddo Allan
zen-full-zoom-enlarge-shortcut = Chwyddo i Mewn
zen-full-zoom-reset-shortcut = Ailosod Chwyddo
zen-full-zoom-reset-shortcut-alt = Ailosod Chwyddo (Alt)
zen-full-zoom-enlarge-shortcut-alt = Chwyddo i Mewn (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Chwyddo i Mewn (Alt 2)
zen-bidi-switch-direction-shortcut = Newid Cyfeiriad y Testun
zen-private-browsing-shortcut = Pori Preifat
zen-screenshot-shortcut = Tynnu Llun Sgrin
zen-key-sanitize = Clirio Data Pori
zen-quit-app-shortcut = Gadael y Rhaglen
zen-key-wr-capture-cmd = Gorchymyn Cipio WR
zen-key-wr-toggle-capture-sequence-cmd = Toglo Dilyniant Cipio WR
zen-nav-reload-shortcut = Ail-lwytho Tudalen
zen-nav-reload-shortcut-skip-cache = Ail-lwytho Tudalen (Hepgor Storfa Gof)
zen-close-shortcut = Cau Ffenestr
zen-close-tab-shortcut = Cau Tab
zen-compact-mode-shortcut-show-sidebar = Toglo Bar Ochr Arnofiol
zen-compact-mode-shortcut-show-toolbar = Toglo Bar Offer Arnofiol
zen-compact-mode-shortcut-toggle = Toglo Modd Cryno
zen-glance-expand = Ehangu Cipolwg
zen-workspace-shortcut-switch-1 = Symud i Gofod Gwaith 1
zen-workspace-shortcut-switch-2 = Symud i Gofod Gwaith 2
zen-workspace-shortcut-switch-3 = Symud i Gofod Gwaith 3
zen-workspace-shortcut-switch-4 = Symud i Gofod Gwaith 4
zen-workspace-shortcut-switch-5 = Symud i Gofod Gwaith 5
zen-workspace-shortcut-switch-6 = Symud i Gofod Gwaith 6
zen-workspace-shortcut-switch-7 = Symud i Gofod Gwaith 7
zen-workspace-shortcut-switch-8 = Symud i Gofod Gwaith 8
zen-workspace-shortcut-switch-9 = Symud i Gofod Gwaith 9
zen-workspace-shortcut-switch-10 = Symud i Gofod Gwaith 10
zen-workspace-shortcut-forward = Gofod Gwaith Ymlaen
zen-workspace-shortcut-backward = Gofod Gwaith Nôl
zen-sidebar-shortcut-toggle = Toglo Lled y Bar Ochr
zen-pinned-tab-shortcut-reset = Ailosod y Tab wedi'i Binio i URL wedi'i Binio
zen-split-view-shortcut-grid = Toglo Grid Golwg Hollt
zen-split-view-shortcut-vertical = Toglo Golwg Hollt Fertigol
zen-split-view-shortcut-horizontal = Toglo Golwg Hollt Llorweddol
zen-split-view-shortcut-unsplit = Cau Golwg Hollt
zen-new-empty-split-view-shortcut = Golwg Hollt Gwag Newydd
zen-key-select-tab-1 = Dewis tab #1
zen-key-select-tab-2 = Dewis tab #2
zen-key-select-tab-3 = Dewis tab #3
zen-key-select-tab-4 = Dewis tab #4
zen-key-select-tab-5 = Dewis tab #5
zen-key-select-tab-6 = Dewis tab #6
zen-key-select-tab-7 = Dewis tab #7
zen-key-select-tab-8 = Dewis tab #8
zen-key-select-tab-last = Dewis y tab olaf
zen-key-show-all-tabs = Dangos pob tab
zen-key-goto-history = Mynd i hanes
zen-key-go-home = Mynd Adref
zen-bookmark-show-sidebar-shortcut = Dangos Bar Ochr Nodau Tudalen
zen-bookmark-show-toolbar-shortcut = Dangos Bar Offer Nodau Tudalen
zen-devtools-toggle-shortcut = Toglo Offer Datblygu
zen-devtools-toggle-browser-toolbox-shortcut = Toglo Blwch Offer Porwr
zen-devtools-toggle-browser-console-shortcut = Toglo Consol Porwr
zen-devtools-toggle-responsive-design-mode-shortcut = Toglo Modd Dylunio Ymatebol
zen-devtools-toggle-inspector-shortcut = Toglo Arolygydd
zen-devtools-toggle-web-console-shortcut = Toglo Consol Gwe
zen-devtools-toggle-js-debugger-shortcut = Toglo Dadfygiwr JavaScript
zen-devtools-toggle-net-monitor-shortcut = Toglo Monitor Rhwydwaith
zen-devtools-toggle-style-editor-shortcut = Toglo Golygydd Arddull
zen-devtools-toggle-performance-shortcut = Toglo Perfformiad
zen-devtools-toggle-storage-shortcut = Toglo Storio
zen-devtools-toggle-dom-shortcut = Toglo DOM
zen-devtools-toggle-accessibility-shortcut = Toglo Hygyrchedd
zen-close-all-unpinned-tabs-shortcut = Cau Pob Tab Heb ei Binio
zen-new-unsynced-window-shortcut = Ffenestr Wag Newydd



================================================
FILE: locales/da/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Søg i { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Omdøb mappe
zen-folders-panel-unpack-folder = 
    .label = Udpak mappe
zen-folders-new-subfolder = 
    .label = Ny undermappe
zen-folders-panel-delete-folder = 
    .label = Slet mappe
zen-folders-panel-convert-folder-to-space = 
    .label = Konverter mappe til Rum
zen-folders-panel-change-folder-space = 
    .label = Skift rum...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Stop indlæsning af aktive i denne mappe
zen-folders-unload-folder = 
    .label = Stop indlæsning af alle faner
zen-folders-search-no-results = Ingen faner matcher den søgning 🤔



================================================
FILE: locales/da/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = nuværende profil
unified-extensions-description = Udvidelser bruges til at bringe ekstra funktionalitet ind i { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Nulstil fastgjort fane
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Fjern fra Essentielle
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Erstat fastgjort URL med nuværende
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Din { -brand-short-name } mods-fil er beskadiget. De er blevet nulstillet til standardtemaet.
zen-shortcuts-corrupted = Din { -brand-short-name }-genvejsfil er beskadiget. De er blevet nulstillet til standardgenvejene.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Den nye URL-linje er aktiveret og fjerner dermed behovet for nye fanesider.<br/><br/>
    Prøv at åbne en ny fane for at se den i aktion!
zen-disable = Deaktiver
pictureinpicture-minimize-btn = 
    .aria-label = Minimer
    .tooltip = Minimer
zen-panel-ui-gradient-generator-custom-color = Brugerdefineret Farve
zen-copy-current-url-confirmation = Kopieret nuværende URL!
zen-general-cancel-label = 
    .label = Annuller
zen-general-confirm = 
    .label = Bekræft
zen-pinned-tab-replaced = Den fastgjorte fane-URL blev erstattet med den aktuelle.
zen-tabs-renamed = Fanen blev omdøbt!
zen-background-tab-opened-toast = Ny baggrundsfane åbnet!
zen-workspace-renamed-toast = Arbejdsområde blev omdøbt!
zen-toggle-compact-mode-button = 
    .label = Kompakt tilstand
    .tooltiptext = Kompakt tilstand til/fra

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Lær mere
zen-close-label = Luk
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Søg...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Ikoner
urlbar-search-mode-zen_actions = Handlinger
zen-site-data-settings = Indstillinger
zen-generic-manage = Administrer
zen-generic-more = Mere
zen-generic-next = Næste
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Tilladt
zen-site-data-setting-block = Blokeret
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Udvidelse
zen-site-data-security-info-secure = 
    .label = Sikker
zen-site-data-security-info-not-secure = 
    .label = Ikke sikker
zen-site-data-manage-addons = 
    .label = Administrer udvidelser
zen-site-data-get-addons = 
    .label = Tilføj udvidelser
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Kopiér URL
zen-site-data-setting-site-protection = Sporingsbeskyttelse

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Et nyt hjem for tilføjelser, tilladelser og mere
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/da/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/da/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Opdel fane (flere faner skal vælges)
           *[other] Opdel { $tabCount } faner
        }
    .accesskey = S
zen-split-link = 
    .label = Opdel link til ny fane
    .accesskey = S
zen-split-view-modifier-header = Opdelt visning
zen-split-view-modifier-activate-reallocation = 
    .label = Aktiver gentildeling
zen-split-view-modifier-enabled-toast = Omarrangering af delt visning er TIL.
zen-split-view-modifier-enabled-toast-description = Træk og slip visningen for at omarrangere. Tryk på Esc for at afslutte.
zen-split-view-modifier-disabled-toast = Omarrangering af delt visning er FRA.



================================================
FILE: locales/da/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Faner til højre
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Kompakt tilstand
zen-toolbar-context-compact-mode-enable = 
    .label = Aktivér kompakt tilstand
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Skjul sidepanel
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Skjul værktøjslinje
zen-toolbar-context-compact-mode-hide-both = 
    .label = Skjul begge
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Ny mappe
    .accesskey = N
sidebar-zen-expand = 
    .label = Udvid Sidepanel
sidebar-zen-create-new = 
    .label = Opret ny...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Stop indlæsning og skift til fane
           *[other] Stop indlæsning af { $tabCount } faner og skift til den første
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Nulstil og fastgør fane
           *[other] Nulstil og fastgør { $tabCount } faner
        }
tab-reset-pin-label = Tilbage til fastgjort URL



================================================
FILE: locales/da/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Slå lyden fra i webpanel
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Slå lyden til i webpanel
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Deaktiver mobil brugeragent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Aktiver mobil brugeragent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Stop indlæsning af webpanel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Slet webpanel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Åbn i ny fane
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Åbn i beholderfane
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Føj til webpaneler
    .accesskey = A
zen-webpanel-introduction-title = Velkommen til Zen Webpaneler
zen-webpanel-introduction-description = Webpaneler er en måde at have dine yndlingssider lige ved hånden.



================================================
FILE: locales/da/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Velkommen til
zen-welcome-title-line2 = et roligere internet
zen-welcome-import-title = En frisk start, samme bogmærker
zen-welcome-import-description-1 = Dine bogmærker, din historik og dine adgangskoder er som et spor af brødkrummer på internettet—efterlad dem ikke!
zen-welcome-import-description-2 = Bring dem nemt over fra en anden browser og fortsæt, hvor du slap.
zen-welcome-import-button = Importér nu
zen-welcome-set-default-browser = Indstil { -brand-short-name } som din standardbrowser
zen-welcome-dont-set-default-browser = Indstil IKKE { -brand-short-name } som din standardbrowser
zen-welcome-initial-essentials-title = Dine vigtigste faner, altid lige ved hånden
zen-welcome-initial-essentials-description-1 = Hold dine vigtigste faner let tilgængelige og altid lige ved hånden, uanset hvor mange du åbner.
zen-welcome-initial-essentials-description-2 = Vigtige faner er altid synlige, uanset hvilket arbejdsområde du er i.
zen-welcome-workspace-colors-title = Dine arbejdsområder, dine farver
zen-welcome-workspace-colors-description = Tilpas din browser ved at give hvert arbejdsområde sin egen unikke farveidentitet.
zen-welcome-start-browsing-title =
    Er du klar?<br/>
    Lad os komme i gang!
zen-welcome-start-browsing-description-1 = Du er klar til at gå i gang. Klik på knappen nedenfor for at browse med { -brand-short-name }.
zen-welcome-start-browsing = Kom i gang!
zen-welcome-default-search-title = Din standardsøgemaskine
zen-welcome-default-search-description = Vælg din standardsøgemaskine. Du kan altid ændre det senere!
zen-welcome-skip-button = Spring over
zen-welcome-finished = Din Zen er blevet opsat korrekt!



================================================
FILE: locales/da/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Arbejdsområder
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Opret rum
zen-panel-ui-folder-create = 
    .label = Opret mappe
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = Slet arbejdsområde
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Skift navn
zen-workspaces-panel-change-icon = 
    .label = Skift ikon
zen-workspaces-panel-context-default-profile = 
    .label = Indstil profil
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = Sådan omarrangerer du rum
zen-workspaces-how-to-reorder-desc = Træk rumikonerne nederst i sidepanelet for at omarrangere dem
zen-workspaces-change-theme = 
    .label = Rediger tema
zen-workspaces-panel-context-open = 
    .label = Åbn arbejdsområde
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Rediger arbejdsområde
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Komplementær
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analog
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadisk
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Flydende
zen-panel-ui-gradient-click-to-add = Klik for at tilføje en farve
zen-workspace-creation-name = 
    .placeholder = Rumnavn
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Omarranger rum
zen-workspace-creation-profile = Profil
    .tooltiptext = Profiler bruges til at adskille cookies og webstedsdata mellem forskellige rum.
zen-workspace-creation-header = Opret et rum
zen-workspace-creation-label = Rum bruges til at organisere dine faner og sessioner.
zen-workspaces-delete-workspace-title = Slet arbejdsområde?
zen-workspaces-delete-workspace-body = Er du sikker på, at du vil slette { $name }? Dette kan ikke fortrydes.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/da/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Et tema med en mørk farvesammensætning og en flot galakse berøring!
extension-firefox-compact-dream-name = Zen Drøm
extension-firefox-compact-dream-description = Et tema med en lys farve ordning og en dejlig drømme-y touch!



================================================
FILE: locales/da/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Oprindelig URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Vis dette webpanel i mobiltilstand
    .accesskey = m



================================================
FILE: locales/da/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Udseende
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Ændring af standardsproget kan gøre det lettere for hjemmesider at spore dig.
zen-vertical-tabs-layout-header = Browserlayout
zen-vertical-tabs-layout-description = Vælg det layout, der passer dig bedst
zen-layout-single-toolbar = Én værktøjslinje
zen-layout-multiple-toolbar = Flere værktøjslinjer
zen-layout-collapsed-toolbar = Foldet værktøjslinje
sync-currently-syncing-workspaces = Arbejdsområder
sync-engine-workspaces = 
    .label = Arbejdsområder
    .tooltiptext = Synkroniser dine arbejdsområder på tværs af enheder
    .accesskey = W
zen-glance-title = Glimt
zen-glance-header = Generelle indstillinger for glimt
zen-glance-description = Få et hurtigt overblik over dine links uden at åbne dem i en ny fane
zen-glance-trigger-label = Udløsermetode
zen-glance-enabled = 
    .label = Aktiver glimt
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + klik
zen-glance-trigger-alt-click = 
    .label = Alt + klik
zen-glance-trigger-shift-click = 
    .label = Shift + klik
zen-glance-trigger-meta-click = 
    .label = Meta (Kommando) + Klik
zen-look-and-feel-compact-view-header = Vis i kompakt visning
zen-look-and-feel-compact-view-description = Vis kun de værktøjslinjer, du bruger!
zen-look-and-feel-compact-view-enabled = 
    .label = Aktiver { -brand-short-name }'s kompakt tilstand
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Skjul også den øverste værktøjslinje i kompakt tilstand
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Vis kortvarigt værktøjslinjen ved skift eller åbning af nye faner i kompakt tilstand
pane-zen-tabs-title = Fanehåndtering
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Arbejdsområder
zen-tabs-unloader-enabled = 
    .label = Aktiver fanedeaktivering
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Use themed background for compact toolbar
zen-workspace-continue-where-left-off = 
    .label = Fortsæt, hvor du slap
pane-zen-pinned-tab-manager-title = Fastgjorte Faner
zen-pinned-tab-manager-header = Generelle indstillinger for fastgjorte faner
zen-pinned-tab-manager-description = Administrer yderligere adfærd for fastgjorte faner
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Gendan fastgjorte faner til deres oprindeligt fastgjorte URL ved opstart
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Aktiver beholderspecifikke essentielle
zen-pinned-tab-manager-close-shortcut-behavior-label = Adfærd for Genvejen Luk Fane
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Nulstil URL, fjern og skift til næste fane
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Fjern og skift til næste fane
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Nulstil URL og skift til næste fane
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Skift til næste fane
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Nulstil URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Luk fane
pane-zen-workspaces-header = Arbejdsområder
zen-settings-workspaces-header = Generelle indstillinger for arbejdsområder
zen-settings-workspaces-description = Med arbejdsområder kan du have flere browsing-sessioner på én gang!
zen-settings-workspaces-enabled = 
    .label = Aktiver arbejdsområder
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Skjul standardindikatoren for beholdere i fanelinjen
zen-key-unsaved = Ikke-gemt genvej! Gem den ved at klikke på "Escape"-tasten efter at have indtastet den igen.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = Temaindstillinger
zen-vertical-tabs-title = Layout for sidepanel og faner
zen-vertical-tabs-header = Lodrette Faner
zen-vertical-tabs-description = Håndter dine faner i et lodret layout
zen-vertical-tabs-show-expand-button = 
    .label = Vis knappen Udvid
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Vis knappen Ny Fane på fanelisten
zen-vertical-tabs-newtab-top-button-up = 
    .label = Flyt knappen for ny fane øverst
zen-vertical-tabs-expand-tabs-by-default = Udvid faner som standard
zen-vertical-tabs-dont-expand-tabs-by-default = Udvid ikke faner som standard
zen-vertical-tabs-expand-tabs-on-hover = Udvid faner ved at holde musen over (virker ikke i kompakt tilstand)
zen-vertical-tabs-expand-tabs-header = Sådan udvider du faneblade
zen-vertical-tabs-expand-tabs-description = Vælg hvordan du udvider faner i sidepanelet
zen-theme-marketplace-header = Zen-temaer
zen-theme-disable-all-enabled = 
    .title = Deaktivér alle temaer
zen-theme-disable-all-disabled = 
    .title = Aktivér alle temaer
zen-theme-marketplace-description = Find og installer temaer fra butikken.
zen-theme-marketplace-remove-button = 
    .label = Fjern Tema
zen-theme-marketplace-check-for-updates-button = 
    .label = Søg efter opdateringer
zen-theme-marketplace-import-button = 
    .label = Importér mods
zen-theme-marketplace-export-button = 
    .label = Eksportér mods
zen-theme-marketplace-import-success = Mods blev importeret
zen-theme-marketplace-import-failure = Der opstod en fejl ved import af mods
zen-theme-marketplace-export-success = Mods blev eksporteret
zen-theme-marketplace-export-failure = Der opstod en fejl ved eksport af mods
zen-theme-marketplace-updates-success = Tema opdateret
zen-theme-marketplace-updates-failure = Kunne ikke finde nogen opdateringer!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Deaktivér Tema
zen-theme-marketplace-toggle-disabled-button = 
    .title = Aktivér Tema
zen-theme-marketplace-remove-confirmation = Er du sikker på, at du vil fjerne denne mod?
zen-theme-marketplace-close-modal = Luk
zen-theme-marketplace-theme-header-title = 
    .title = CSS-vælger: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Ingen
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Skriv noget...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Opdater automatisk installerede mods ved opstart
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Skift til et arbejdsområde, hvor beholderen er indstillet som standard, når du åbner beholderfaner
zen-theme-marketplace-link = Besøg Butik
zen-dark-theme-styles-header = Mørke Tema Stilarter
zen-dark-theme-styles-description = Tilpas det mørke tema til din smag
zen-dark-theme-styles-amoled = Nat Tema
zen-dark-theme-styles-default = Standard Mørkt Tema
zen-dark-theme-styles-colorful = Farverigt Mørkt Tema
zen-compact-mode-styles-left = Skjul fanelinje
zen-compact-mode-styles-top = Skjul øverste bjælke
zen-compact-mode-styles-both = Skjul Begge
zen-urlbar-title = Zen URL-linje
zen-urlbar-header = Generelle indstillinger for URL-linjen
zen-urlbar-description = Tilpas URL-linjen til din smag
zen-urlbar-behavior-label = Adfærd
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Flydende kun ved skrivning
zen-urlbar-behavior-float = 
    .label = Altid flydende
pane-zen-CKS-title = Tastaturgenveje
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Tastaturgenveje
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Tilpas dine tastaturgenveje
zen-settings-CKS-description = Skift standardtastaturgenveje efter din smag, og forbedr din browseroplevelse
zen-settings-CKS-disable-firefox = 
    .label = Deaktivér { -brand-short-name }'s standardtastaturgenveje
zen-settings-CKS-duplicate-shortcut = 
    .label = Dupliker genvej
zen-settings-CKS-reset-shortcuts = 
    .label = Nulstil til standard
zenCKSOption-group-other = Andet
zenCKSOption-group-windowAndTabManagement = Vindue- & Fanehåndtering
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Søg & Find
zenCKSOption-group-pageOperations = Sidehandlinger
zenCKSOption-group-historyAndBookmarks = Historik & Bogmærker
zenCKSOption-group-mediaAndDisplay = Medie & Visning
zenCKSOption-group-zen-compact-mode = Kompakt Tilstand
zenCKSOption-group-zen-workspace = Arbejdsområder
zenCKSOption-group-zen-other = Andre Zen-funktioner
zenCKSOption-group-zen-split-view = Delt Visning
zenCKSOption-group-devTools = Udviklerværktøjer
zen-key-quick-restart = Hurtig Genstart
zen-window-new-shortcut = Nyt Vindue
zen-tab-new-shortcut = Ny Fane
zen-key-redo = Gendan
zen-restore-last-closed-tab-shortcut = Gendan Sidst Lukket Fane
zen-location-open-shortcut = Åbn Placering
zen-location-open-shortcut-alt = Åbn Placering (Alt)
zen-key-undo-close-window = Fortryd Lukning af Vindue
zen-text-action-undo-shortcut = Fortryd
zen-text-action-redo-shortcut = Gendan
zen-text-action-cut-shortcut = Klip
zen-text-action-copy-shortcut = Kopiér
zen-text-action-copy-url-shortcut = Kopiér nuværende URL
zen-text-action-copy-url-markdown-shortcut = Kopiér nuværende URL som Markdown
zen-text-action-paste-shortcut = Indsæt
zen-text-action-select-all-shortcut = Vælg Alle
zen-text-action-delete-shortcut = Slet
zen-history-show-all-shortcut-mac = Vis Al Historik (Mac)
zen-full-screen-shortcut = Slå Fuld Skærm Til/Fra
zen-reader-mode-toggle-shortcut-windows = Slå Læsertilstand Til/Fra (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Slå Billede-i-Billede Til/Fra (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Slå Billede-i-Billede Til/Fra (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Slå Billede-i-Billede Til/Fra (Mac Alt)
zen-page-source-shortcut-safari = Vis Sidekilde (Safari)
zen-nav-stop-shortcut = Stop Indlæsning
zen-history-sidebar-shortcut = Vis sidepanel for historik
zen-window-minimize-shortcut = Minimer Vindue
zen-help-shortcut = Åbn Hjælp
zen-preferences-shortcut = Åbn Indstillinger
zen-hide-app-shortcut = Skjul Applikation
zen-hide-other-apps-shortcut = Skjul Andre Applikationer
zen-search-focus-shortcut = Fokuseret Søgning
zen-search-focus-shortcut-alt = Fokuseret Søgning (Alt)
zen-downloads-shortcut = Åbn downloads
zen-addons-shortcut = Åbn tilføjelser
zen-file-open-shortcut = Åbn fil
zen-save-page-shortcut = Gem side
zen-print-shortcut = Udskriv side
zen-close-shortcut-2 = Luk fane
zen-mute-toggle-shortcut = Slå Lyden Til/Fra
zen-key-delete = Slet nøgle
zen-key-go-back = Gå tilbage
zen-key-go-forward = Gå frem
zen-nav-back-shortcut-alt = Naviger tilbage (Alt)
zen-nav-fwd-shortcut-alt = Naviger frem (Alt)
zen-history-show-all-shortcut = Vis al historik
zen-key-enter-full-screen = Gå Ind i Fuld Skærm
zen-key-exit-full-screen = Afslut fuld skærm
zen-ai-chatbot-sidebar-shortcut = Slå sidepanel for AI-chatbot til/fra
zen-key-inspector-mac = Slå inspektør til/fra (Mac)
zen-toggle-sidebar-shortcut = Slå Firefox-sidepanel til/fra
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = Slå Læsertilstand Til/Fra
zen-picture-in-picture-toggle-shortcut = Slå Billede-i-Billede Til/Fra
zen-nav-reload-shortcut-2 = Genindlæs side
zen-key-about-processes = Om processer
zen-page-source-shortcut = Vis sidekilde
zen-page-info-shortcut = Se sideoplysninger
zen-find-shortcut = Find på side
zen-search-find-again-shortcut = Find igen
zen-search-find-again-shortcut-prev = Find forrige
zen-search-find-again-shortcut-2 = Find igen (Alt)
zen-bookmark-this-page-shortcut = Bogmærk denne side
zen-bookmark-show-library-shortcut = Vis Bogmærkebibliotek
zen-key-stop = Stop indlæsning
zen-full-zoom-reduce-shortcut = Zoom ud
zen-full-zoom-enlarge-shortcut = Zoom ind
zen-full-zoom-reset-shortcut = Nulstil zoom
zen-full-zoom-reset-shortcut-alt = Nulstil zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom ind (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom ind (Alt 2)
zen-bidi-switch-direction-shortcut = Skift tekstretning
zen-private-browsing-shortcut = Privat browsing
zen-screenshot-shortcut = Tag skærmbillede
zen-key-sanitize = Ryd browserdata
zen-quit-app-shortcut = Afslut applikation
zen-key-wr-capture-cmd = WR-optagelseskommando
zen-key-wr-toggle-capture-sequence-cmd = Slå WR-optagelsessekvens Til/Fra
zen-nav-reload-shortcut = Genindlæs side
zen-nav-reload-shortcut-skip-cache = Genindlæs Side (Spring Cache Over)
zen-close-shortcut = Luk vindue
zen-close-tab-shortcut = Luk fane
zen-compact-mode-shortcut-show-sidebar = Flydende sidepanel til/fra
zen-compact-mode-shortcut-show-toolbar = Flydende værktøjslinje til/fra
zen-compact-mode-shortcut-toggle = Kompakt tilstand til/fra
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = Skift til arbejdsområde 1
zen-workspace-shortcut-switch-2 = Skift til arbejdsområde 2
zen-workspace-shortcut-switch-3 = Skift til arbejdsområde 3
zen-workspace-shortcut-switch-4 = Skift til arbejdsområde 4
zen-workspace-shortcut-switch-5 = Skift til arbejdsområde 5
zen-workspace-shortcut-switch-6 = Skift til arbejdsområde 6
zen-workspace-shortcut-switch-7 = Skift til arbejdsområde 7
zen-workspace-shortcut-switch-8 = Skift til arbejdsområde 8
zen-workspace-shortcut-switch-9 = Skift til arbejdsområde 9
zen-workspace-shortcut-switch-10 = Skift til arbejdsområde 10
zen-workspace-shortcut-forward = Fremad Arbejdsområde
zen-workspace-shortcut-backward = Bagudrettet Arbejdsrum
zen-sidebar-shortcut-toggle = Skift sidepanelets bredde
zen-pinned-tab-shortcut-reset = Nulstil fastgjort fane til fastgjort URL
zen-split-view-shortcut-grid = Opdelt visning i gitter til/fra
zen-split-view-shortcut-vertical = Lodret opdelt visning til/fra
zen-split-view-shortcut-horizontal = Vandret opdelt visning til/fra
zen-split-view-shortcut-unsplit = Luk opdelt visning
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Vælg fane #1
zen-key-select-tab-2 = Vælg fane #2
zen-key-select-tab-3 = Vælg fane #3
zen-key-select-tab-4 = Vælg fane #4
zen-key-select-tab-5 = Vælg fane #5
zen-key-select-tab-6 = Vælg fane #6
zen-key-select-tab-7 = Vælg fane #7
zen-key-select-tab-8 = Vælg fane #8
zen-key-select-tab-last = Vælg sidste fane
zen-key-show-all-tabs = Vis alle faner
zen-key-goto-history = Gå til historik
zen-key-go-home = Gå hjem
zen-bookmark-show-sidebar-shortcut = Vis Bogmærker-sidepanel
zen-bookmark-show-toolbar-shortcut = Vis bogmærkelinje
zen-devtools-toggle-shortcut = Vis/skjul Udviklerværktøjer
zen-devtools-toggle-browser-toolbox-shortcut = Vis/skjul Browserværktøjskasse
zen-devtools-toggle-browser-console-shortcut = Vis/skjul Browserkonsol
zen-devtools-toggle-responsive-design-mode-shortcut = Responsiv designtilstand til/fra
zen-devtools-toggle-inspector-shortcut = Vis/skjul Inspektør
zen-devtools-toggle-web-console-shortcut = Vis/skjul Webkonsol
zen-devtools-toggle-js-debugger-shortcut = Vis/skjul JavaScript-fejlfinding
zen-devtools-toggle-net-monitor-shortcut = Vis/skjul Netværksmonitor
zen-devtools-toggle-style-editor-shortcut = Vis/skjul Stileditor
zen-devtools-toggle-performance-shortcut = Vis/skjul Ydeevne
zen-devtools-toggle-storage-shortcut = Vis/skjul Lager
zen-devtools-toggle-dom-shortcut = Vis/skjul DOM
zen-devtools-toggle-accessibility-shortcut = Vis/skjul Tilgængelighed
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/de/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = { $folder-name } durchsuchen...
zen-folders-panel-rename-folder = 
    .label = Ordner umbenennen
zen-folders-panel-unpack-folder = 
    .label = Ordner auflösen
zen-folders-new-subfolder = 
    .label = Neuer Unterordner
zen-folders-panel-delete-folder = 
    .label = Ordner löschen
zen-folders-panel-convert-folder-to-space = 
    .label = In Arbeitsbereich umwandeln
zen-folders-panel-change-folder-space = 
    .label = Arbeitsbereich wechseln...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Alle aktiven Tabs in diesem Ordner entladen
zen-folders-unload-folder = 
    .label = Alle Tabs entladen
zen-folders-search-no-results = Keine Tabs gefunden



================================================
FILE: locales/de/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = Dein aktuelles Profil
unified-extensions-description = Mit Erweiterungen kannst du { -brand-short-name } um zusätzliche Funktionen erweitern.
tab-context-zen-reset-pinned-tab = 
    .label = Angehefteten Tab zurücksetzen
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Zu Essentials hinzufügen
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } Plätzen belegt
tab-context-zen-remove-essential = 
    .label = Aus Essentials entfernen
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Angeheftete URL durch aktuelle ersetzen
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Titel ändern...
tab-context-zen-edit-icon = 
    .label = Symbol ändern...
zen-themes-corrupted = Deine { -brand-short-name }-Mods-Datei ist beschädigt. Wir haben sie auf das Standard-Design zurückgesetzt.
zen-shortcuts-corrupted = Deine { -brand-short-name }-Tastenkombinationsdatei ist beschädigt. Sie wurde auf die Standard-Tastenkombinationen zurückgesetzt.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Die neue Adressleiste wurde aktiviert und macht neue Tab-Seiten überflüssig.<br/><br/>
    Öffne einfach einen neuen Tab, um die neue Adressleiste auszuprobieren!
zen-disable = Deaktivieren
pictureinpicture-minimize-btn = 
    .aria-label = Minimieren
    .tooltip = Minimieren
zen-panel-ui-gradient-generator-custom-color = Eigene Farbe
zen-copy-current-url-confirmation = URL kopiert!
zen-general-cancel-label = 
    .label = Abbrechen
zen-general-confirm = 
    .label = Bestätigen
zen-pinned-tab-replaced = Die URL des angehefteten Tabs wurde aktualisiert!
zen-tabs-renamed = Tab umbenannt!
zen-background-tab-opened-toast = Neuer Tab im Hintergrund geöffnet!
zen-workspace-renamed-toast = Arbeitsbereich umbenannt!
zen-toggle-compact-mode-button = 
    .label = Kompakter Modus
    .tooltiptext = Kompakten Modus umschalten

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Mehr erfahren
zen-close-label = Schließen
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Suchen...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Symbole
urlbar-search-mode-zen_actions = Aktionen
zen-site-data-settings = Einstellungen
zen-generic-manage = Verwalten
zen-generic-more = Mehr
zen-generic-next = Weiter
zen-essentials-promo-label = Hinzufügen zu Essentials
zen-essentials-promo-sublabel = Behalte deine Lieblings-Tabs nur einen Klick entfernt
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Erlaubt
zen-site-data-setting-block = Blockiert
zen-site-data-protections-enabled = Aktiviert
zen-site-data-protections-disabled = Deaktiviert
zen-site-data-setting-cross-site = Seitenübergreifendes Cookie
zen-site-data-security-info-extension = 
    .label = Erweiterung
zen-site-data-security-info-secure = 
    .label = Sicher
zen-site-data-security-info-not-secure = 
    .label = Nicht sicher
zen-site-data-manage-addons = 
    .label = Erweiterungen verwalten
zen-site-data-get-addons = 
    .label = Erweiterungen hinzufügen
zen-site-data-site-settings = 
    .label = Alle Website-Einstellungen
zen-site-data-header-share = 
    .tooltiptext = Diese Seite teilen
zen-site-data-header-reader-mode = 
    .tooltiptext = Lesemodus aktivieren
zen-site-data-header-screenshot = 
    .tooltiptext = Bildschirmfoto erstellen
zen-site-data-header-bookmark = 
    .tooltiptext = Diese Seite als Lesezeichen speichern
zen-urlbar-copy-url-button = 
    .tooltiptext = URL kopieren
zen-site-data-setting-site-protection = Tracking-Schutz

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Hier findest du Add-ons, Berechtigungen und mehr
zen-site-data-panel-feature-callout-subtitle = Klicke auf das Symbol, um Website-Einstellungen anzupassen, Sicherheitsinfos anzuzeigen, auf Erweiterungen zuzugreifen und häufige Aktionen auszuführen.
zen-open-link-in-glance = 
    .label = Link in Glance öffnen
    .accesskey = G
zen-sidebar-notification-updated-heading = Update abgeschlossen!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Was in { -brand-short-name } neu ist
zen-sidebar-notification-updated-tooltip = 
    .title = Versionshinweise anzeigen
zen-sidebar-notification-restart-safe-mode-label = Funktioniert etwas nicht?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Im abgesicherten Modus neu starten
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/de/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Fixierte Tabs ausklappen
           *[false] Fixierte Tabs einklappen
        }
zen-menubar-appearance = 
    .label = Erscheinungsbild
zen-menubar-appearance-description = 
    .label = Webseiten werden nutzen:
zen-menubar-appearance-auto = 
    .label = Automatisch
zen-menubar-appearance-light = 
    .label = Hell
zen-menubar-appearance-dark = 
    .label = Dunkel
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/de/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Tab aufteilen (wähle mehrere Tabs aus)
           *[other] { $tabCount } Tabs aufteilen
        }
    .accesskey = S
zen-split-link = 
    .label = Link in geteiltem Tab öffnen
    .accesskey = S
zen-split-view-modifier-header = Geteilte Ansicht
zen-split-view-modifier-activate-reallocation = 
    .label = Anordnung ändern
zen-split-view-modifier-enabled-toast = Anordnung der geteilten Ansicht aktiv.
zen-split-view-modifier-enabled-toast-description = Ziehe die Ansicht per Drag & Drop, um sie neu anzuordnen. Drücke Esc zum Beenden.
zen-split-view-modifier-disabled-toast = Anordnung der geteilten Ansicht deaktiviert.



================================================
FILE: locales/de/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabs rechts anzeigen
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Kompaktmodus
zen-toolbar-context-compact-mode-enable = 
    .label = Kompaktmodus einschalten
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Nur Seitenleiste ausblenden
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Nur Symbolleiste ausblenden
zen-toolbar-context-compact-mode-hide-both = 
    .label = Beides ausblenden
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Neuer Ordner
    .accesskey = N
sidebar-zen-expand = 
    .label = Seitenleiste ausklappen
sidebar-zen-create-new = 
    .label = Neu erstellen...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Tab entladen und öffnen
           *[other] { $tabCount } Tabs entladen und zum ersten wechseln
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Tab zurücksetzen und anheften
           *[other] { $tabCount } Tabs zurücksetzen und anheften
        }
tab-reset-pin-label = Zur ursprünglichen URL zurückkehren



================================================
FILE: locales/de/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Web-Panel stummschalten
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Web-Panel entsperren
    .accesskey = M
zen-web-side-panel-context-disable-ua = 
    .label = Mobile UserAgent deaktivieren
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Mobile UserAgent aktivieren
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Web-Panel entladen
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Web-Panel löschen
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = In neuem Tab öffnen
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Im Container Tab öffnen
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Zu Web-Panels hinzufügen
    .accesskey = A
zen-webpanel-introduction-title = Willkommen zu Zen Web-Panels
zen-webpanel-introduction-description = Web-Panels sind ein Weg deine liebsten Webseiten abgreifbar zu halten.



================================================
FILE: locales/de/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Willkommen zu
zen-welcome-title-line2 = einem ruhigeren Internet
zen-welcome-import-title = Ein neuer Anfang, dieselben Lesezeichen
zen-welcome-import-description-1 = Deine Lesezeichen, dein Verlauf und deine Passwörter sind wie eine Spur durch das Internet – lass sie nicht zurück!
zen-welcome-import-description-2 = Übertrage sie ganz einfach aus einem anderen Browser und mache genau dort weiter, wo du aufgehört hast.
zen-welcome-import-button = Jetzt importieren
zen-welcome-set-default-browser = { -brand-short-name } als Standardbrowser festlegen
zen-welcome-dont-set-default-browser = { -brand-short-name } nicht als Standardbrowser festlegen
zen-welcome-initial-essentials-title = Deine wichtigsten Tabs, immer in Reichweite
zen-welcome-initial-essentials-description-1 = Halte deine wichtigsten Tabs leicht zugänglich und immer griffbereit, egal wie viele du öffnest.
zen-welcome-initial-essentials-description-2 = Essential-Tabs sind immer sichtbar, unabhängig davon, in welchem Arbeitsbereich du dich befindest.
zen-welcome-workspace-colors-title = Deine Arbeitsbereiche, deine Farben
zen-welcome-workspace-colors-description = Personalisiere deinen Browser, indem du jedem Arbeitsbereich eine eigene Farbidentität gibst.
zen-welcome-start-browsing-title =
    Alles bereit?<br/>
    Los geht’s!
zen-welcome-start-browsing-description-1 = Du bist startklar! Klicke auf den Button unten, um mit { -brand-short-name } loszulegen.
zen-welcome-start-browsing = Los geht's!
zen-welcome-default-search-title = Deine Standard-Suchmaschine
zen-welcome-default-search-description = Wähle deine Standard-Suchmaschine. Du kannst sie jederzeit später ändern!
zen-welcome-skip-button = Überspringen
zen-welcome-finished = Dein Zen wurde erfolgreich eingerichtet!



================================================
FILE: locales/de/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Arbeitsbereiche
zen-panel-ui-spaces-label = 
    .label = Arbeitsbereiche
zen-panel-ui-workspaces-create = 
    .label = Arbeitsbereich erstellen
zen-panel-ui-folder-create = 
    .label = Ordner erstellen
zen-panel-ui-new-empty-split = 
    .label = Neuen Split erstellen
zen-workspaces-panel-context-delete = 
    .label = Arbeitsbereich löschen
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Namen ändern
zen-workspaces-panel-change-icon = 
    .label = Symbol ändern
zen-workspaces-panel-context-default-profile = 
    .label = Profil festlegen
zen-workspaces-panel-unload = 
    .label = Arbeitsbereich entladen
zen-workspaces-how-to-reorder-title = So ordnest du Arbeitsbereiche neu an
zen-workspaces-how-to-reorder-desc = Zieh die Arbeitsbereich-Symbole am unteren Rand der Seitenleiste, um sie neu anzuordnen
zen-workspaces-change-theme = 
    .label = Design anpassen
zen-workspaces-panel-context-open = 
    .label = Arbeitsbereich öffnen
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Arbeitsbereich bearbeiten
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Arbeitsbereiche
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Komplementär
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Geteilt-Komplementär
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analog
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadisch
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Fließend
zen-panel-ui-gradient-click-to-add = Klick hier, um eine Farbe hinzuzufügen
zen-workspace-creation-name = 
    .placeholder = Name des Arbeitsbereichs
zen-move-tab-to-workspace-button = 
    .label = Verschieben nach...
    .tooltiptext = Alle Tabs in diesem Fenster in einen Arbeitsbereich verschieben
zen-workspaces-panel-context-reorder = 
    .label = Arbeitsbereiche neu anordnen
zen-workspace-creation-profile = Profil
    .tooltiptext = Profile trennen Cookies und Website-Daten zwischen verschiedenen Arbeitsbereichen.
zen-workspace-creation-header = Arbeitsbereich erstellen
zen-workspace-creation-label = Arbeitsbereiche helfen dir, deine Tabs und Sitzungen zu organisieren.
zen-workspaces-delete-workspace-title = Arbeitsbereich löschen?
zen-workspaces-delete-workspace-body = Möchtest du { $name } wirklich löschen? Das lässt sich nicht rückgängig machen.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs geschlossen! Nutze <span>{ $shortcut }</span>, um das rückgängig zu machen.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Aufräumen
    .tooltiptext = Alle nicht angehefteten Tabs schließen
zen-panel-ui-workspaces-change-forward = 
    .label = Nächster Arbeitsbereich
zen-panel-ui-workspaces-change-back = 
    .label = Vorheriger Arbeitsbereich



================================================
FILE: locales/de/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Ein Thema mit einem dunklen Farbschema und einer schönen Galaxieberührung!
extension-firefox-compact-dream-name = Zen Traum
extension-firefox-compact-dream-description = Ein Thema mit einem hellen Farbschema und einem schönen Traum-Touch!



================================================
FILE: locales/de/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Initiale URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Zeige dieses Web Panel im mobilen Modus
    .accesskey = m



================================================
FILE: locales/de/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Aussehen
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Das Ändern der Standardsprache könnte es Websites erleichtern, dich zu verfolgen.
zen-vertical-tabs-layout-header = Browser-Layout
zen-vertical-tabs-layout-description = Wähle das Layout, das am besten zu dir passt
zen-layout-single-toolbar = Einzelne Symbolleiste
zen-layout-multiple-toolbar = Mehrere Symbolleisten
zen-layout-collapsed-toolbar = Eingeklappte Symbolleiste
sync-currently-syncing-workspaces = Arbeitsbereiche
sync-engine-workspaces = 
    .label = Arbeitsbereiche
    .tooltiptext = Arbeitsbereiche zwischen Geräten synchronisieren
    .accesskey = W
zen-glance-title = Schnellansicht
zen-glance-header = Allgemeine Einstellungen für die Schnellansicht
zen-glance-description = Verschaffe dir einen schnellen Überblick über deine Links, ohne sie in einem neuen Tab zu öffnen
zen-glance-trigger-label = Auslösemethode
zen-glance-enabled = 
    .label = Schnellansicht aktivieren
zen-glance-trigger-ctrl-click = 
    .label = Strg + Klick
zen-glance-trigger-alt-click = 
    .label = Alt + Klick
zen-glance-trigger-shift-click = 
    .label = Umschalt + Klick
zen-glance-trigger-meta-click = 
    .label = Meta (Befehlstaste) + Klick
zen-look-and-feel-compact-view-header = In der Kompaktansicht anzeigen
zen-look-and-feel-compact-view-description = Zeige nur die Symbolleisten an, die du verwendest!
zen-look-and-feel-compact-view-enabled = 
    .label = { -brand-short-name }-Kompaktmodus aktivieren
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Die obere Symbolleiste auch im Kompaktmodus ausblenden
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Symbolleiste im Kompaktmodus beim Wechseln oder Öffnen neuer Tabs kurz einblenden
pane-zen-tabs-title = Tab-Verwaltung
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Arbeitsbereiche
zen-tabs-unloader-enabled = 
    .label = Tab-Entlader aktivieren
zen-tabs-close-on-back-with-no-history = 
    .label = Tab schließen und zum Besitzer-Tab (oder dem zuletzt benutzten Tab) wechseln, wenn kein Tab-Verlauf vorhanden ist
zen-tabs-cycle-by-attribute = 
    .label = Strg+Tab wechselt nur zwischen Essential- oder Arbeitsbereich-Tabs
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ausstehende Tabs beim Wechseln mit Strg+Tab ignorieren
zen-tabs-cycle-by-attribute-warning = Strg+Tab wechselt in der zuletzt verwendeten Reihenfolge, da diese Option aktiviert ist
zen-look-and-feel-compact-toolbar-themed = 
    .label = Theme-Hintergrund für kompakte Symbolleiste verwenden
zen-workspace-continue-where-left-off = 
    .label = Dort fortfahren, wo du aufgehört hast
pane-zen-pinned-tab-manager-title = Angepinnte Tabs
zen-pinned-tab-manager-header = Allgemeine Einstellungen für angepinnte Tabs
zen-pinned-tab-manager-description = Zusätzliches Verhalten von angepinnten Tabs verwalten
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Angepinnte Tabs beim Start auf ihre ursprünglich angepinnte URL zurücksetzen
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Container-spezifische Essentials aktivieren
zen-pinned-tab-manager-close-shortcut-behavior-label = Verhalten der Tastenkombination zum Schließen von Tabs
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = URL zurücksetzen, entladen und zum nächsten Tab wechseln
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Entladen und zum nächsten Tab wechseln
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = URL zurücksetzen und zum nächsten Tab wechseln
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Zum nächsten Tab wechseln
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = URL zurücksetzen
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Tab schließen
pane-zen-workspaces-header = Arbeitsbereiche
zen-settings-workspaces-header = Allgemeine Einstellungen für Arbeitsbereiche
zen-settings-workspaces-description = Mit Arbeitsbereichen kannst du mehrere Browser-Sitzungen gleichzeitig haben
zen-settings-workspaces-enabled = 
    .label = Arbeitsbereiche aktivieren (experimentell)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Container-Indikator in der Tab-Leiste ausblenden
zen-key-unsaved = Nicht gespeichertes Tastenkürzel! Bitte speichere es, indem du nach der Eingabe die „Escape“-Taste drückst.
zen-key-conflict = Konflikt mit { $group } -> { $shortcut }
pane-zen-theme-title = Design-Einstellungen
zen-vertical-tabs-title = Seitenleiste und Tab-Layout
zen-vertical-tabs-header = Vertikale Tabs
zen-vertical-tabs-description = Verwalte die Ausrichtung der Tabs und andere Layout-Einstellungen
zen-vertical-tabs-show-expand-button = 
    .label = Erweitern-Schaltfläche anzeigen
zen-vertical-tabs-newtab-on-tab-list = 
    .label = "Neuer Tab"-Button in der Tab-Liste anzeigen
zen-vertical-tabs-newtab-top-button-up = 
    .label = Schaltfläche „Neuer Tab“ nach oben verschieben
zen-vertical-tabs-expand-tabs-by-default = Tabs standardmäßig erweitern
zen-vertical-tabs-dont-expand-tabs-by-default = Tabs standardmäßig nicht erweitern
zen-vertical-tabs-expand-tabs-on-hover = Tabs beim Drüberfahren erweitern (funktioniert nicht im Kompaktmodus)
zen-vertical-tabs-expand-tabs-header = Wie Tabs erweitert werden sollen
zen-vertical-tabs-expand-tabs-description = Wähle aus, wie Tabs in der Seitenleiste erweitert werden sollen
zen-theme-marketplace-header = Zen-Mods
zen-theme-disable-all-enabled = 
    .title = Alle Mods deaktivieren
zen-theme-disable-all-disabled = 
    .title = Alle Mods aktivieren
zen-theme-marketplace-description = Finde und installiere Designs aus dem Store.
zen-theme-marketplace-remove-button = 
    .label = Design entfernen
zen-theme-marketplace-check-for-updates-button = 
    .label = Nach Updates suchen
zen-theme-marketplace-import-button = 
    .label = Mods importieren
zen-theme-marketplace-export-button = 
    .label = Mods exportieren
zen-theme-marketplace-import-success = Mods erfolgreich importiert
zen-theme-marketplace-import-failure = Beim Importieren der Mods ist ein Fehler aufgetreten
zen-theme-marketplace-export-success = Mods erfolgreich exportiert
zen-theme-marketplace-export-failure = Beim Exportieren der Mods ist ein Fehler aufgetreten
zen-theme-marketplace-updates-success = Design erfolgreich aktualisiert
zen-theme-marketplace-updates-failure = Es konnten keine Updates gefunden werden!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Design deaktivieren
zen-theme-marketplace-toggle-disabled-button = 
    .title = Design aktivieren
zen-theme-marketplace-remove-confirmation = Möchtest du dieses Mod wirklich entfernen?
zen-theme-marketplace-close-modal = Schließen
zen-theme-marketplace-theme-header-title = 
    .title = CSS-Selektor: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Keine
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Gib etwas ein...
pane-zen-marketplace-title = Zen-Mods
zen-themes-auto-update = 
    .label = Installierte Mods beim Start automatisch aktualisieren
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Zum Arbeitsbereich wechseln, in dem Container als Standard gesetzt ist, wenn Container-Tabs geöffnet werden
zen-theme-marketplace-link = Store besuchen
zen-dark-theme-styles-header = Dunkles Design – Stile
zen-dark-theme-styles-description = Passe das dunkle Design nach deinen Wünschen an
zen-dark-theme-styles-amoled = Nacht-Design
zen-dark-theme-styles-default = Standardmäßiges dunkles Design
zen-dark-theme-styles-colorful = Farbenfrohes dunkles Design
zen-compact-mode-styles-left = Tab-Leiste ausblenden
zen-compact-mode-styles-top = Obere Leiste ausblenden
zen-compact-mode-styles-both = Beides ausblenden
zen-urlbar-title = Zen-Adressleiste
zen-urlbar-header = Allgemeine Einstellungen für die Adressleiste
zen-urlbar-description = Passen Sie die Adressleiste nach Ihren Wünschen an
zen-urlbar-behavior-label = Verhalten
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Schwebend nur beim Eingeben
zen-urlbar-behavior-float = 
    .label = Immer schwebend
pane-zen-CKS-title = Tastenkürzel
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name }-Tastenkürzel
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Passen Sie Ihre Tastenkürzel an
zen-settings-CKS-description = Ändere die Standard-Tastenkürzel nach deinen Wünschen und verbessere dein Browser-Erlebnis
zen-settings-CKS-disable-firefox = 
    .label = { -brand-short-name }-Standard-Tastenkürzel deaktivieren
zen-settings-CKS-duplicate-shortcut = 
    .label = Doppeltes Tastenkürzel
zen-settings-CKS-reset-shortcuts = 
    .label = Auf Standard zurücksetzen
zenCKSOption-group-other = Sonstiges
zenCKSOption-group-windowAndTabManagement = Fenster- und Tab-Verwaltung
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Suchen und Finden
zenCKSOption-group-pageOperations = Seitenoperationen
zenCKSOption-group-historyAndBookmarks = Verlauf & Lesezeichen
zenCKSOption-group-mediaAndDisplay = Medien & Anzeige
zenCKSOption-group-zen-compact-mode = Kompaktmodus
zenCKSOption-group-zen-workspace = Zen-Arbeitsbereiche
zenCKSOption-group-zen-other = Andere Zen-Funktionen
zenCKSOption-group-zen-split-view = Geteilte Ansicht
zenCKSOption-group-devTools = Entwicklerwerkzeuge
zen-key-quick-restart = Schneller Neustart
zen-window-new-shortcut = Neues Fenster
zen-tab-new-shortcut = Neuer Tab
zen-key-redo = Wiederholen
zen-restore-last-closed-tab-shortcut = Letzten geschlossenen Tab wiederherstellen
zen-location-open-shortcut = Adresse öffnen
zen-location-open-shortcut-alt = Adresse öffnen (Alt)
zen-key-undo-close-window = Geschlossenes Fenster wiederherstellen
zen-text-action-undo-shortcut = Rückgängig
zen-text-action-redo-shortcut = Wiederholen
zen-text-action-cut-shortcut = Ausschneiden
zen-text-action-copy-shortcut = Kopieren
zen-text-action-copy-url-shortcut = Aktuelle URL kopieren
zen-text-action-copy-url-markdown-shortcut = Aktuelle URL als Markdown kopieren
zen-text-action-paste-shortcut = Einfügen
zen-text-action-select-all-shortcut = Alles auswählen
zen-text-action-delete-shortcut = Löschen
zen-history-show-all-shortcut-mac = Verlauf anzeigen (Mac)
zen-full-screen-shortcut = Vollbild umschalten
zen-reader-mode-toggle-shortcut-windows = Lesemodus umschalten (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Bild-im-Bild umschalten (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Bild-im-Bild umschalten (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Bild-im-Bild umschalten (Mac Alternative)
zen-page-source-shortcut-safari = Seitenquelltext (Safari)
zen-nav-stop-shortcut = Navigation stoppen
zen-history-sidebar-shortcut = Verlaufs-Seitenleiste
zen-window-minimize-shortcut = Fenster minimieren
zen-help-shortcut = Hilfe öffnen
zen-preferences-shortcut = Einstellungen öffnen
zen-hide-app-shortcut = Anwendung ausblenden
zen-hide-other-apps-shortcut = Andere Anwendungen ausblenden
zen-search-focus-shortcut = Suche fokussieren
zen-search-focus-shortcut-alt = Suche fokussieren (Alt)
zen-downloads-shortcut = Downloads öffnen
zen-addons-shortcut = Add-ons öffnen
zen-file-open-shortcut = Datei öffnen
zen-save-page-shortcut = Seite speichern
zen-print-shortcut = Seite drucken
zen-close-shortcut-2 = Tab schließen
zen-mute-toggle-shortcut = Stummschalten umschalten
zen-key-delete = Löschen-Taste
zen-key-go-back = Zurückgehen
zen-key-go-forward = Vorwärts gehen
zen-nav-back-shortcut-alt = Zurücknavigieren (Alt)
zen-nav-fwd-shortcut-alt = Vorwärts navigieren (Alt)
zen-history-show-all-shortcut = Gesamten Verlauf anzeigen
zen-key-enter-full-screen = Vollbild aktivieren
zen-key-exit-full-screen = Vollbild verlassen
zen-ai-chatbot-sidebar-shortcut = KI-Chatbot-Seitenleiste umschalten
zen-key-inspector-mac = Inspektor umschalten (Mac)
zen-toggle-sidebar-shortcut = Firefox-Seitenleiste umschalten
zen-toggle-pin-tab-shortcut = Tab anheften/lösen
zen-reader-mode-toggle-shortcut-other = Lesemodus umschalten
zen-picture-in-picture-toggle-shortcut = Bild-im-Bild umschalten
zen-nav-reload-shortcut-2 = Seite neu laden
zen-key-about-processes = Über Prozesse
zen-page-source-shortcut = Seitenquelltext anzeigen
zen-page-info-shortcut = Seiteninformationen anzeigen
zen-find-shortcut = Auf Seite suchen
zen-search-find-again-shortcut = Weitersuchen
zen-search-find-again-shortcut-prev = Vorheriges suchen
zen-search-find-again-shortcut-2 = Weitersuchen (Alt)
zen-bookmark-this-page-shortcut = Diese Seite zu Lesezeichen hinzufügen
zen-bookmark-show-library-shortcut = Lesezeichen-Bibliothek anzeigen
zen-key-stop = Laden stoppen
zen-full-zoom-reduce-shortcut = Herauszoomen
zen-full-zoom-enlarge-shortcut = Hineinzoomen
zen-full-zoom-reset-shortcut = Zoom zurücksetzen
zen-full-zoom-reset-shortcut-alt = Zoom zurücksetzen (Alt)
zen-full-zoom-enlarge-shortcut-alt = Hineinzoomen (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Hineinzoomen (Alt 2)
zen-bidi-switch-direction-shortcut = Text-Richtung wechseln
zen-private-browsing-shortcut = Privaten Modus öffnen
zen-screenshot-shortcut = Screenshot machen
zen-key-sanitize = Browser-Daten löschen
zen-quit-app-shortcut = Anwendung beenden
zen-key-wr-capture-cmd = WR-Aufnahme-Befehl
zen-key-wr-toggle-capture-sequence-cmd = WR-Aufnahmesequenz umschalten
zen-nav-reload-shortcut = Seite neu laden
zen-nav-reload-shortcut-skip-cache = Seite neu laden (Cache überspringen)
zen-close-shortcut = Fenster schließen
zen-close-tab-shortcut = Tab schließen
zen-compact-mode-shortcut-show-sidebar = Schwebende Seitenleiste umschalten
zen-compact-mode-shortcut-show-toolbar = Schwebende Symbolleiste umschalten
zen-compact-mode-shortcut-toggle = Kompaktmodus umschalten
zen-glance-expand = Glance erweitern
zen-workspace-shortcut-switch-1 = Zu Arbeitsbereich 1 wechseln
zen-workspace-shortcut-switch-2 = Zu Arbeitsbereich 2 wechseln
zen-workspace-shortcut-switch-3 = Zu Arbeitsbereich 3 wechseln
zen-workspace-shortcut-switch-4 = Zu Arbeitsbereich 4 wechseln
zen-workspace-shortcut-switch-5 = Zu Arbeitsbereich 5 wechseln
zen-workspace-shortcut-switch-6 = Zu Arbeitsbereich 6 wechseln
zen-workspace-shortcut-switch-7 = Zu Arbeitsbereich 7 wechseln
zen-workspace-shortcut-switch-8 = Zu Arbeitsbereich 8 wechseln
zen-workspace-shortcut-switch-9 = Zu Arbeitsbereich 9 wechseln
zen-workspace-shortcut-switch-10 = Zu Arbeitsbereich 10 wechseln
zen-workspace-shortcut-forward = Zum nächsten Arbeitsbereich wechseln
zen-workspace-shortcut-backward = Zum vorherigen Arbeitsbereich wechseln
zen-sidebar-shortcut-toggle = Seitenleisten-Breite umschalten
zen-pinned-tab-shortcut-reset = Angehefteten Tab zurücksetzen
zen-split-view-shortcut-grid = Raster-Layout für geteilte Ansicht umschalten
zen-split-view-shortcut-vertical = Vertikales Layout für geteilte Ansicht umschalten
zen-split-view-shortcut-horizontal = Horizontales Layout für geteilte Ansicht umschalten
zen-split-view-shortcut-unsplit = Geteilte Ansicht schließen
zen-new-empty-split-view-shortcut = Neue leere geteilte Ansicht
zen-key-select-tab-1 = Tab #1 auswählen
zen-key-select-tab-2 = Tab #2 auswählen
zen-key-select-tab-3 = Tab #3 auswählen
zen-key-select-tab-4 = Tab #4 auswählen
zen-key-select-tab-5 = Tab #5 auswählen
zen-key-select-tab-6 = Tab #6 auswählen
zen-key-select-tab-7 = Tab #7 auswählen
zen-key-select-tab-8 = Tab #8 auswählen
zen-key-select-tab-last = Letzten Tab auswählen
zen-key-show-all-tabs = Alle Tabs anzeigen
zen-key-goto-history = Zum Verlauf gehen
zen-key-go-home = Zur Startseite gehen
zen-bookmark-show-sidebar-shortcut = Lesezeichen-Seitenleiste anzeigen
zen-bookmark-show-toolbar-shortcut = Lesezeichen-Symbolleiste anzeigen
zen-devtools-toggle-shortcut = Entwicklertools umschalten
zen-devtools-toggle-browser-toolbox-shortcut = Browser-Toolbox umschalten
zen-devtools-toggle-browser-console-shortcut = Browser-Konsole umschalten
zen-devtools-toggle-responsive-design-mode-shortcut = Responsive-Design-Modus umschalten
zen-devtools-toggle-inspector-shortcut = Inspektor umschalten
zen-devtools-toggle-web-console-shortcut = Web-Konsole umschalten
zen-devtools-toggle-js-debugger-shortcut = JavaScript-Debugger umschalten
zen-devtools-toggle-net-monitor-shortcut = Netzwerk-Monitor umschalten
zen-devtools-toggle-style-editor-shortcut = Stil-Editor umschalten
zen-devtools-toggle-performance-shortcut = Performance umschalten
zen-devtools-toggle-storage-shortcut = Speicher umschalten
zen-devtools-toggle-dom-shortcut = DOM umschalten
zen-devtools-toggle-accessibility-shortcut = Barrierefreiheit umschalten
zen-close-all-unpinned-tabs-shortcut = Alle nicht angehefteten Tabs schließen
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/el/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/el/browser/browser/zen-general.ftl
================================================
[Binary file]


================================================
FILE: locales/el/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/el/browser/browser/zen-split-view.ftl
================================================
[Binary file]


================================================
FILE: locales/el/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Καρτέλες στα δεξιά
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Συμπαγής λειτουργία
zen-toolbar-context-compact-mode-enable = 
    .label = Ενεργοποίηση συμπαγούς λειτουργίας
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Απόκρυψη πλαϊνής γραμμής
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Απόκρυψη γραμμής εργαλείων
zen-toolbar-context-compact-mode-hide-both = 
    .label = Απόκρυψη όλων
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = New Folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Επέκταση Πλαϊνής στήλης
sidebar-zen-create-new = 
    .label = Δημιουργία Νέας...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Εκφόρτωση και μετάβαση στη καρτέλα
           *[other] Εκφόρτωση { $tabCount } καρτελών και μετάβαση στη πρώτη
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Επαναφορά και καρφίτσωμα καρτέλας
           *[other] Επαναφορά και καρφίτσωμα { $tabCount } καρτελών
        }
tab-reset-pin-label = Πίσω στο καρφιτσωμένο url



================================================
FILE: locales/el/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Σίγαση Πίνακα Ιστού
    .accesskey = Μ
zen-web-side-panel-context-unmute-panel = 
    .label = Άρση Σίγασης Πίνακα Ιστού
    .accesskey = μ
zen-web-side-panel-context-disable-ua = 
    .label = Απενεργοποίηση UserAgent κινητής συσκευής
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Ενεργοποίηση UserAgent κινητής συσκευής
    .accesskey = Μ
zen-web-side-panel-context-unload = 
    .label = Αποφόρτωση Πίνακα Ιστού
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Διαγραφή Πίνακα Ιστού
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Άνοιγμα σε Νέα Καρτέλα
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Άνοιγμα στην Καρτέλα Περιέκτη
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Προσθήκη σε Πίνακες Ιστού
    .accesskey = A
zen-webpanel-introduction-title = Καλώς ήρθατε στους Πίνακες Ιστού Zen
zen-webpanel-introduction-description = Οι πίνακες Ιστού είναι ένας τρόπος για να κρατήσετε τις αγαπημένες σας ιστοσελίδες στα δάχτυλά σας.



================================================
FILE: locales/el/browser/browser/zen-welcome.ftl
================================================
[Binary file]


================================================
FILE: locales/el/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Χώροι Εργασίας
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Δημιουργία Χώρου
zen-panel-ui-folder-create = 
    .label = Create Folder
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = Διαγραφή Χώρου Εργασίας
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Αλλαγή Ονόματος
zen-workspaces-panel-change-icon = 
    .label = Αλλαγή Εικονιδίου
zen-workspaces-panel-context-default-profile = 
    .label = Ορισμός Προφίλ
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = Πώς να αναδιατάξετε τους χώρους
zen-workspaces-how-to-reorder-desc = Σύρετε τα εικονίδια χώρου στο κάτω μέρος της πλαϊνής μπάρας για να τα αναδιατάξετε
zen-workspaces-change-theme = 
    .label = Επεξεργασία Θέματος
zen-workspaces-panel-context-open = 
    .label = Άνοιγμα Χώρου Εργασίας
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Επεξεργασία Χώρου Εργασίας
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Συμπληρωματικό
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Διάσπαση
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Ανάλογο
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Τριαδικό
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Αιωρούμενο
zen-panel-ui-gradient-click-to-add = Κλικ για προσθήκη χρώματος
zen-workspace-creation-name = 
    .placeholder = Όνομα Χώρου
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Αναδιάταξη Χώρων
zen-workspace-creation-profile = Προφίλ
    .tooltiptext = Τα προφίλ χρησιμοποιούνται για να διαχωρίζουν τα cookies και τα δεδομένα του ιστότοπου μεταξύ των χώρων.
zen-workspace-creation-header = Δημιουργία Χώρου
zen-workspace-creation-label = Οι χώροι χρησιμοποιούνται για την οργάνωση των καρτελών και των συνεδριών σας.
zen-workspaces-delete-workspace-title = Διαγραφή Χώρου Εργασίας;
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/el/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Γαλαξίας Zen
extension-firefox-compact-galaxy-description = Ενα θέμα με σκούρο χρωματικό σχήμα και μια ωραία πινελιά γαλαξία!
extension-firefox-compact-dream-name = Όνειρο Zen
extension-firefox-compact-dream-description = Ενα θέμα με ανοιχτό χρωματικό σχήμα και μια ωραία ονειρική πινελιά!



================================================
FILE: locales/el/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Αρχικό URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Εμφάνιση αυτού του πίνακα ιστού σε λειτουργία κινητού
    .accesskey = μ



================================================
FILE: locales/el/browser/browser/preferences/zen-preferences.ftl
================================================
[Binary file]


================================================
FILE: locales/en-GB/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/en-GB/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = Current profile
unified-extensions-description = Extensions are used to bring more extra functionality into { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Reset Pinned Tab
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Replace Pinned URL with Current
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Your { -brand-short-name } mods file is corrupted. They have been reset to the default theme.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification = The new URL bar has been enabled, removing the need for new tab pages. Try opening a new tab to see the new URL bar in action!<br/><br/>
zen-disable = Disable
pictureinpicture-minimize-btn = 
    .aria-label = Minimize
    .tooltip = Minimize
zen-panel-ui-gradient-generator-custom-color = Custom colour
zen-copy-current-url-confirmation = Copied current URL!
zen-general-cancel-label = 
    .label = Cancel
zen-general-confirm = 
    .label = Confirm
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL.
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!
zen-toggle-compact-mode-button = 
    .label = Compact Mode
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Learn More
zen-close-label = Close
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Search...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Icons
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Settings
zen-generic-manage = Manage
zen-generic-more = More
zen-generic-next = Next
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Allowed
zen-site-data-setting-block = Blocked
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Extension
zen-site-data-security-info-secure = 
    .label = Secure
zen-site-data-security-info-not-secure = 
    .label = Not Secure
zen-site-data-manage-addons = 
    .label = Manage Extensions
zen-site-data-get-addons = 
    .label = Add Extensions
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copy URL
zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/en-GB/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/en-GB/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Tab (multiple selected tabs needed)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S
zen-split-link = 
    .label = Split link to new tab
    .accesskey = S
zen-split-view-modifier-header = Zen-split-view-modifier-header
zen-split-view-modifier-activate-reallocation = 
    .label = Activate reallocation
zen-split-view-modifier-enabled-toast = Split view rearrange is ON.
zen-split-view-modifier-enabled-toast-description = Drag and drop the view to rearrange. Press Esc to exit.
zen-split-view-modifier-disabled-toast = Split view rearrange is OFF.



================================================
FILE: locales/en-GB/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabs on the right
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Compact mode
zen-toolbar-context-compact-mode-enable = 
    .label = Enable compact mode
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Hide sidebar
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Hide toolbar
zen-toolbar-context-compact-mode-hide-both = 
    .label = Hide both
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = New Folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Expand Sidebar
sidebar-zen-create-new = 
    .label = Create New...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Unload and switch to tab
           *[other] Unload { $tabCount } tabs and switch to the first
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset and pin tab
           *[other] Reset and pin { $tabCount } tabs
        }
tab-reset-pin-label = Back to pinned URL



================================================
FILE: locales/en-GB/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Mute Web Panel
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Unmute Web Panel
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Disable Mobile UserAgent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Enable Mobile UserAgent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Unload Web Panel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Delete Web Panel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Open in New Tab
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Open in Container Tab
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Add to Web Panels
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/en-GB/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Welcome to
zen-welcome-title-line2 = A calmer internet
zen-welcome-import-title = A Fresh Start, Same Bookmarks
zen-welcome-import-description-1 = Your bookmarks, history and passwords are like a trail of breadcrumbs through the internet don't leave them behind!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off.
zen-welcome-import-button = Import Now
zen-welcome-set-default-browser = Set { -brand-short-name } as your default browser
zen-welcome-dont-set-default-browser = DON’T set { -brand-short-name } as your default browser
zen-welcome-initial-essentials-title = Your Key Tabs, Always Within Reach
zen-welcome-initial-essentials-description-1 = Keep your most important tabs easily accessible and always at hand, no matter how many you open.
zen-welcome-initial-essentials-description-2 = Essential tabs are always visible, no matter what workspace you are in.
zen-welcome-workspace-colors-title = Your Workspaces, Your Colours
zen-welcome-workspace-colors-description = Personalize your browser by giving each workspace its own unique colour identity.
zen-welcome-start-browsing-title = All set? Let get rolling!
zen-welcome-start-browsing-description-1 = You’re all set up and ready to go. Click the button below to start browsing with { -brand-short-name }.
zen-welcome-start-browsing = Dive in!
zen-welcome-default-search-title = Your Default Search Engine
zen-welcome-default-search-description = Choose your default search engine. You can always change it later!
zen-welcome-skip-button = Skip
zen-welcome-finished = Your Zen has been set up correctly!



================================================
FILE: locales/en-GB/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Other workspaces
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Create Space
zen-panel-ui-folder-create = 
    .label = Create Folder
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = Delete Workspace
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Change Name
zen-workspaces-panel-change-icon = 
    .label = Change Icon
zen-workspaces-panel-context-default-profile = 
    .label = Set Profile
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them
zen-workspaces-change-theme = 
    .label = Edit Theme
zen-workspaces-panel-context-open = 
    .label = Open Workspace
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Edit Workspace
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a colour
zen-workspace-creation-name = 
    .placeholder = Space Name
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Reorder Spaces
zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.
zen-workspaces-delete-workspace-title = Delete Workspace?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/en-GB/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = A theme with a dark color scheme and a nice galaxy touch!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = A theme with a light color scheme and a nice dream-y touch!



================================================
FILE: locales/en-GB/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Initial URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Display this web panel in mobile mode
    .accesskey = m



================================================
FILE: locales/en-GB/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Look and Feel
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Changing the default language could make it easier for Websites to track you.
zen-vertical-tabs-layout-header = Browser Layout
zen-vertical-tabs-layout-description = Choose the layout that suits you best
zen-layout-single-toolbar = Single toolbar
zen-layout-multiple-toolbar = Multiple toolbars
zen-layout-collapsed-toolbar = Collapsed toolbar
sync-currently-syncing-workspaces = Other Workspaces
sync-engine-workspaces = 
    .label = Other Workspaces
    .tooltiptext = Sync your workspaces across devices
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = General settings for glance
zen-glance-description = Get a quick overview of your links without opening them in a new tab
zen-glance-trigger-label = Trigger method
zen-glance-enabled = 
    .label = Enable Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + Click
zen-glance-trigger-shift-click = 
    .label = Shift + Click
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = Show in compact view
zen-look-and-feel-compact-view-description = Only show the toolbars you use!
zen-look-and-feel-compact-view-enabled = 
    .label = Enable { -brand-short-name }'s compact mode
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Hide the top toolbar as well in compact mode
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Briefly make the toolbar pop-up when switching or opening new tabs in compact mode
pane-zen-tabs-title = Tab Management
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Workspaces
zen-tabs-unloader-enabled = 
    .label = Enable Tab Unload
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Use themed background for compact toolbar
zen-workspace-continue-where-left-off = 
    .label = Continue where you left off
pane-zen-pinned-tab-manager-title = Pinned Tabs
zen-pinned-tab-manager-header = General settings for pinned tabs
zen-pinned-tab-manager-description = Manage additional behaviour of pinned tabs
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restore pinned tabs to their originally pinned URL on startup
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Enable container-specific essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Close Tab Shortcut Behaviour
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Reset URL, unload and switch to next tab
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Unload and switch to next tab
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Reset URL and switch to next tab
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Switch to next tab
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Reset URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Close tab
pane-zen-workspaces-header = Workspaces
zen-settings-workspaces-header = General settings for workspaces
zen-settings-workspaces-description = With workspaces, you can have multiple browsing sessions at once!
zen-settings-workspaces-enabled = 
    .label = Enable Workspaces
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Hide the default container indicator in the tab bar
zen-key-unsaved = Unsaved shortcut! Please save it by clicking the "Escape" key after retyping it.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = Theme Settings
zen-vertical-tabs-title = Sidebar and tabs layout
zen-vertical-tabs-header = Vertical Tabs
zen-vertical-tabs-description = Manage your tabs in a vertical layout
zen-vertical-tabs-show-expand-button = 
    .label = Show Expand Button
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Show New Tab Button on Tab List
zen-vertical-tabs-newtab-top-button-up = 
    .label = Move the new tab button to the top
zen-vertical-tabs-expand-tabs-by-default = Expand Tabs by Default
zen-vertical-tabs-dont-expand-tabs-by-default = Don't Expand Tabs by Default
zen-vertical-tabs-expand-tabs-on-hover = Expand Tabs on Hover (Won't work on compact mode)
zen-vertical-tabs-expand-tabs-header = How to expand tabs
zen-vertical-tabs-expand-tabs-description = Choose how to expand tabs in the sidebar
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Disable all themes
zen-theme-disable-all-disabled = 
    .title = Enable all themes
zen-theme-marketplace-description = Find and install themes from the store.
zen-theme-marketplace-remove-button = 
    .label = Remove Theme
zen-theme-marketplace-check-for-updates-button = 
    .label = Check for Updates
zen-theme-marketplace-import-button = 
    .label = Import mods
zen-theme-marketplace-export-button = 
    .label = Export Mods
zen-theme-marketplace-import-success = Mods imported successfully
zen-theme-marketplace-import-failure = There was an error importing the mods
zen-theme-marketplace-export-success = Mods exported successfully
zen-theme-marketplace-export-failure = There was an error exporting the mods
zen-theme-marketplace-updates-success = Theme updated successfully
zen-theme-marketplace-updates-failure = Couldn't find any updates!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Disable Theme
zen-theme-marketplace-toggle-disabled-button = 
    .title = Enable Theme
zen-theme-marketplace-remove-confirmation = Are you sure you want to remove this mod?
zen-theme-marketplace-close-modal = Close
zen-theme-marketplace-theme-header-title = 
    .title = CSS Selector: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = None
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Type something...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Automatically update installed mods on startup
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Switch to workspace where container is set as default when opening container tabs
zen-theme-marketplace-link = Visit Store
zen-dark-theme-styles-header = Dark Theme Styles
zen-dark-theme-styles-description = Customize the dark theme to your liking
zen-dark-theme-styles-amoled = Night Theme
zen-dark-theme-styles-default = Default Dark Theme
zen-dark-theme-styles-colorful = Colourful Dark Theme
zen-compact-mode-styles-left = Hide Tab bar
zen-compact-mode-styles-top = Hide Top bar
zen-compact-mode-styles-both = Hide Both
zen-urlbar-title = Zen URL Bar
zen-urlbar-header = General settings for the URL bar
zen-urlbar-description = Customize the URL bar to your liking
zen-urlbar-behavior-label = Behaviour
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Floating only when typing
zen-urlbar-behavior-float = 
    .label = Always floating
pane-zen-CKS-title = Keyboard Shortcuts
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Keyboard Shortcuts
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Customize your keyboard shortcuts
zen-settings-CKS-description = Change the default keyboard shortcuts to your liking and improve your browsing experience
zen-settings-CKS-disable-firefox = 
    .label = Disable { -brand-short-name }'s default keyboard shortcuts
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicate Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = Reset to Default
zenCKSOption-group-other = Other
zenCKSOption-group-windowAndTabManagement = Window & Tab Management
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Search & Find
zenCKSOption-group-pageOperations = Page Operations
zenCKSOption-group-historyAndBookmarks = History & Bookmarks
zenCKSOption-group-mediaAndDisplay = Media & Display
zenCKSOption-group-zen-compact-mode = Compact Mode
zenCKSOption-group-zen-workspace = Other Workspaces
zenCKSOption-group-zen-other = Other Zen Features
zenCKSOption-group-zen-split-view = Zen-split-view-modifier-header
zenCKSOption-group-devTools = Developer Tools
zen-key-quick-restart = Quick Restart
zen-window-new-shortcut = New Window
zen-tab-new-shortcut = New Tab
zen-key-redo = Redo
zen-restore-last-closed-tab-shortcut = Restore Last Closed Tab
zen-location-open-shortcut = Open Location
zen-location-open-shortcut-alt = Open Location (Alt)
zen-key-undo-close-window = Undo Close Window
zen-text-action-undo-shortcut = Undo
zen-text-action-redo-shortcut = Redo
zen-text-action-cut-shortcut = Cut
zen-text-action-copy-shortcut = Copy
zen-text-action-copy-url-shortcut = Copy current URL
zen-text-action-copy-url-markdown-shortcut = Copy current URL as Markdown
zen-text-action-paste-shortcut = Paste
zen-text-action-select-all-shortcut = Select All
zen-text-action-delete-shortcut = Delete
zen-history-show-all-shortcut-mac = Show All History (Mac)
zen-full-screen-shortcut = Toggle Full Screen
zen-reader-mode-toggle-shortcut-windows = Toggle Reader Mode (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Toggle Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Toggle Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Toggle Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = View Page Source (Safari)
zen-nav-stop-shortcut = Stop Loading
zen-history-sidebar-shortcut = Show History Sidebar
zen-window-minimize-shortcut = Minimize Window
zen-help-shortcut = Open Help
zen-preferences-shortcut = Open Preferences
zen-hide-app-shortcut = Hide Application
zen-hide-other-apps-shortcut = Hide Other Applications
zen-search-focus-shortcut = Focus Search
zen-search-focus-shortcut-alt = Focus Search (Alt)
zen-downloads-shortcut = Open Downloads
zen-addons-shortcut = Open Add-ons
zen-file-open-shortcut = Open File
zen-save-page-shortcut = Save Page
zen-print-shortcut = Print Page
zen-close-shortcut-2 = Close Tab
zen-mute-toggle-shortcut = Toggle Mute
zen-key-delete = Delete Key
zen-key-go-back = Go Back
zen-key-go-forward = Go Forward
zen-nav-back-shortcut-alt = Navigate Back (Alt)
zen-nav-fwd-shortcut-alt = Navigate Forward (Alt)
zen-history-show-all-shortcut = Show All History
zen-key-enter-full-screen = Enter Full Screen
zen-key-exit-full-screen = Exit Full Screen
zen-ai-chatbot-sidebar-shortcut = Toggle AI Chatbot Sidebar
zen-key-inspector-mac = Toggle Inspector (Mac)
zen-toggle-sidebar-shortcut = Toggle Firefox Sidebar
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = Toggle Reader Mode
zen-picture-in-picture-toggle-shortcut = Toggle Picture-in-Picture
zen-nav-reload-shortcut-2 = Reload Page
zen-key-about-processes = About Processes
zen-page-source-shortcut = View Page Source
zen-page-info-shortcut = View Page Info
zen-find-shortcut = Find on Page
zen-search-find-again-shortcut = Find Again
zen-search-find-again-shortcut-prev = Find Previous
zen-search-find-again-shortcut-2 = Find Again (Alt)
zen-bookmark-this-page-shortcut = Bookmark This Page
zen-bookmark-show-library-shortcut = Show Bookmarks Library
zen-key-stop = Stop Loading
zen-full-zoom-reduce-shortcut = Zoom Out
zen-full-zoom-enlarge-shortcut = Zoom In
zen-full-zoom-reset-shortcut = Reset Zoom
zen-full-zoom-reset-shortcut-alt = Reset Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom In (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom In (Alt 2)
zen-bidi-switch-direction-shortcut = Switch Text Direction
zen-private-browsing-shortcut = Private Browsing
zen-screenshot-shortcut = Take Screenshot
zen-key-sanitize = Clear Browsing Data
zen-quit-app-shortcut = Quit Application
zen-key-wr-capture-cmd = WR Capture Command
zen-key-wr-toggle-capture-sequence-cmd = Toggle WR Capture Sequence
zen-nav-reload-shortcut = Reload Page
zen-nav-reload-shortcut-skip-cache = Reload Page (Skip Cache)
zen-close-shortcut = Close Window
zen-close-tab-shortcut = Close Tab
zen-compact-mode-shortcut-show-sidebar = Toggle Floating Sidebar
zen-compact-mode-shortcut-show-toolbar = Toggle Floating Toolbar
zen-compact-mode-shortcut-toggle = Toggle Compact Mode
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = Switch to Workspace 1
zen-workspace-shortcut-switch-2 = Switch to Workspace 2
zen-workspace-shortcut-switch-3 = Switch to Workspace 3
zen-workspace-shortcut-switch-4 = Switch to Workspace 4
zen-workspace-shortcut-switch-5 = Switch to Workspace 5
zen-workspace-shortcut-switch-6 = Switch to Workspace 6
zen-workspace-shortcut-switch-7 = Switch to Workspace 7
zen-workspace-shortcut-switch-8 = Switch to Workspace 8
zen-workspace-shortcut-switch-9 = Switch to Workspace 9
zen-workspace-shortcut-switch-10 = Switch to Workspace 10
zen-workspace-shortcut-forward = Forward Workspace
zen-workspace-shortcut-backward = Backward Workspace
zen-sidebar-shortcut-toggle = Toggle Sidebar's Width
zen-pinned-tab-shortcut-reset = Reset Pinned Tab to Pinned URL
zen-split-view-shortcut-grid = Toggle Split View Grid
zen-split-view-shortcut-vertical = Toggle Split View Vertical
zen-split-view-shortcut-horizontal = Toggle Split View Horizontal
zen-split-view-shortcut-unsplit = Close Split View
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Select tab #1
zen-key-select-tab-2 = Select tab #2
zen-key-select-tab-3 = Select tab #3
zen-key-select-tab-4 = Select tab #4
zen-key-select-tab-5 = Select tab #5
zen-key-select-tab-6 = Select tab #6
zen-key-select-tab-7 = Select tab #7
zen-key-select-tab-8 = Select tab #8
zen-key-select-tab-last = Select last tab
zen-key-show-all-tabs = Show all tabs
zen-key-goto-history = Go to history
zen-key-go-home = Go Home
zen-bookmark-show-sidebar-shortcut = Show Bookmarks Sidebar
zen-bookmark-show-toolbar-shortcut = Show Bookmarks Toolbar
zen-devtools-toggle-shortcut = Toggle DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Toggle Browser Toolbox
zen-devtools-toggle-browser-console-shortcut = Toggle Browser Console
zen-devtools-toggle-responsive-design-mode-shortcut = Toggle Responsive Design Mode
zen-devtools-toggle-inspector-shortcut = Toggle Inspector
zen-devtools-toggle-web-console-shortcut = Toggle Web Console
zen-devtools-toggle-js-debugger-shortcut = Toggle JavaScript Debugger
zen-devtools-toggle-net-monitor-shortcut = Toggle Network Monitor
zen-devtools-toggle-style-editor-shortcut = Toggle Style Editor
zen-devtools-toggle-performance-shortcut = Toggle Performance
zen-devtools-toggle-storage-shortcut = Toggle Storage
zen-devtools-toggle-dom-shortcut = Toggle DOM
zen-devtools-toggle-accessibility-shortcut = Toggle Accessibility
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/en-US/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder =
    .placeholder = Search { $folder-name }...

zen-folders-panel-rename-folder =
    .label = Rename Folder

zen-folders-panel-unpack-folder =
    .label = Unpack Folder

zen-folders-new-subfolder =
    .label = New Subfolder

zen-folders-panel-delete-folder =
    .label = Delete Folder

zen-folders-panel-convert-folder-to-space =
    .label = Convert folder to Space

zen-folders-panel-change-folder-space =
    .label = Change Space...

zen-folders-unload-all-tooltip =
    .tooltiptext = Unload active in this folder

zen-folders-unload-folder =
    .label = Unload All Tabs

zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/en-US/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = current profile

unified-extensions-description = Extensions are used to bring more extra functionality into { -brand-short-name }.
tab-context-zen-reset-pinned-tab =
    .label =
        { $isEssential ->
            [true] Reset Essential Tab
           *[false] Reset Pinned Tab
        }
    .accesskey = R
tab-context-zen-add-essential =
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential =
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current =
    .label =
        { $isEssential ->
            [true] Replace Essential URL with Current
           *[false] Replace Pinned URL with Current
        }
    .accesskey = C
tab-context-zen-edit-title =
    .label = Change Label...
tab-context-zen-edit-icon =
    .label = Change Icon...

zen-themes-corrupted = Your { -brand-short-name } mods file is corrupted. They have been reset to the default theme.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.

# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification = The new URL bar has been enabled, removing the need for new tab pages.<br/><br/>
    Try opening a new tab to see the new URL bar in action!

zen-disable = Disable

pictureinpicture-minimize-btn =
  .aria-label = Minimize
  .tooltip = Minimize

zen-panel-ui-gradient-generator-custom-color = Custom Color

zen-copy-current-url-confirmation = Copied current URL!

zen-general-cancel-label =
    .label = Cancel
zen-general-confirm =
    .label = Confirm

zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL!
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!

zen-toggle-compact-mode-button =
    .label = Compact Mode
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Learn More

zen-close-label = Close

zen-singletoolbar-urlbar-placeholder-with-name =
  .placeholder = Search...

zen-icons-picker-emoji =
  .label = Emojis
zen-icons-picker-svg =
  .label = Icons

urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Settings

zen-generic-manage = Manage
zen-generic-more = More
zen-generic-next = Next

zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away

# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Allowed
zen-site-data-setting-block = Blocked
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension =
    .label = Extension
zen-site-data-security-info-secure =
    .label = Secure
zen-site-data-security-info-not-secure =
    .label = Not Secure

zen-site-data-manage-addons =
    .label = Manage Extensions
zen-site-data-get-addons =
    .label = Add Extensions
zen-site-data-site-settings =
    .label = All Site Settings


zen-site-data-header-share =
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode =
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot =
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark =
    .tooltiptext = Bookmark This Page

zen-urlbar-copy-url-button =
  .tooltiptext = Copy URL

zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.

zen-open-link-in-glance =
    .label = Open Link in Glance
    .accesskey = G

zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip =
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip =
    .title = Restart in Safe Mode

zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It

zen-appmenu-new-blank-window =
    .label = New blank window




================================================
FILE: locales/en-US/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs =
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }

zen-menubar-appearance =
    .label = Appearance

zen-menubar-appearance-description =
    .label = Websites will use:

zen-menubar-appearance-auto =
    .label = Automatic
zen-menubar-appearance-light =
    .label = Light
zen-menubar-appearance-dark =
    .label = Dark

zen-menubar-new-blank-window =
    .label = New Blank Window



================================================
FILE: locales/en-US/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs =
    .label =
        { $tabCount ->
            [1] Split Tab (multiple selected tabs needed)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S

zen-split-link =
    .label = Split link to new tab
    .accesskey = S

zen-split-view-modifier-header = Split View
zen-split-view-modifier-activate-reallocation =
    .label = Activate reallocation


================================================
FILE: locales/en-US/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right =
    .label = Tabs on the right
    .accesskey = R

zen-toolbar-context-compact-mode =
    .label = Compact Mode
zen-toolbar-context-compact-mode-enable =
    .label = Enable compact mode
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs =
    .label = Hide sidebar
zen-toolbar-context-compact-mode-just-toolbar =
    .label = Hide toolbar
zen-toolbar-context-compact-mode-hide-both =
    .label = Hide both
    .accesskey = H

zen-toolbar-context-new-folder =
    .label = New Folder
    .accesskey = N

sidebar-zen-expand =
  .label = Expand Sidebar

sidebar-zen-create-new =
  .label = Create New...

tabbrowser-unload-tab-button =
.tooltiptext =
    { $tabCount ->
        [one] Unload and switch to tab
        *[other] Unload { $tabCount } tabs and switch to the first
    }

tabbrowser-reset-pin-button =
.tooltiptext =
    { $tabCount ->
        [one] Reset and pin tab
        *[other] Reset and pin { $tabCount } tabs
    }
tab-reset-pin-label = Back to pinned url



================================================
FILE: locales/en-US/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Welcome to
zen-welcome-title-line2 = a calmer internet

zen-welcome-import-title = A Fresh Start, Same Bookmarks
zen-welcome-import-description-1 = Your bookmarks, history, and passwords are like a trail of breadcrumbs through the internet—don’t leave them behind!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off.
zen-welcome-import-button = Import now

zen-welcome-set-default-browser = Set { -brand-short-name } as your default browser
zen-welcome-dont-set-default-browser = DON’T set { -brand-short-name } as your default browser

zen-welcome-initial-essentials-title = Your Key Tabs, Always Within Reach
zen-welcome-initial-essentials-description-1 = Keep your most important tabs easily accessible and always at hand, no matter how many you open.
zen-welcome-initial-essentials-description-2 = Essential tabs are always visible, no matter what workspace you are in.

zen-welcome-workspace-colors-title = Your Workspaces, Your Colors
zen-welcome-workspace-colors-description = Personalize your browser by giving each workspace its own unique color identity.

zen-welcome-start-browsing-title = All set?<br/>
    Let’s get rolling!
zen-welcome-start-browsing-description-1 = You’re all set up and ready to go. Click the button below to start browsing with { -brand-short-name }.
zen-welcome-start-browsing = Dive in!

zen-welcome-default-search-title = Your Default Search Engine
zen-welcome-default-search-description = Choose your default search engine. You can always change it later!

zen-welcome-skip-button = Skip

zen-welcome-finished = Your Zen has been set up correctly!



================================================
FILE: locales/en-US/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Spaces

zen-panel-ui-spaces-label =
    .label = Spaces

zen-panel-ui-workspaces-create =
    .label = Create Space

zen-panel-ui-folder-create =
    .label = Create Folder

zen-panel-ui-new-empty-split =
    .label = New Split

zen-workspaces-panel-context-delete =
    .label = Delete Space
    .accesskey = D

zen-workspaces-panel-change-name =
    .label = Change Name

zen-workspaces-panel-change-icon =
    .label = Change Icon

zen-workspaces-panel-context-default-profile =
    .label = Set Profile

zen-workspaces-panel-unload =
    .label = Unload Space

zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them

zen-workspaces-change-theme =
    .label = Edit Theme

zen-workspaces-panel-context-open =
    .label = Open Workspace
    .accesskey = O

zen-workspaces-panel-context-edit =
    .label = Edit Space
    .accesskey = E

zen-bookmark-edit-panel-workspace-selector =
    .value = Spaces
    .accesskey = W

zen-panel-ui-gradient-generator-algo-complementary =
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary =
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous =
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic =
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating =
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a color

zen-workspace-creation-name =
    .placeholder = Space Name

zen-move-tab-to-workspace-button =
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space

zen-workspaces-panel-context-reorder =
    .label = Reorder Spaces

zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.

zen-workspaces-delete-workspace-title = Delete Space?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.

# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title =
    .label = Clear
    .tooltiptext = Close all unpinned tabs

zen-panel-ui-workspaces-change-forward =
    .label = Next Space

zen-panel-ui-workspaces-change-back =
    .label = Previous Space



================================================
FILE: locales/en-US/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Look and Feel
category-zen-looks =
    .tooltiptext = { pane-zen-looks-title }

zen-warning-language = Changing the default language could make it easier for Websites to track you.

zen-vertical-tabs-layout-header = Browser Layout
zen-vertical-tabs-layout-description = Choose the layout that suits you best

zen-layout-single-toolbar = Only Sidebar
zen-layout-multiple-toolbar = Sidebar and Top Toolbar
zen-layout-collapsed-toolbar = Collapsed Sidebar

sync-currently-syncing-workspaces = Workspaces
sync-engine-workspaces =
    .label = Workspaces
    .tooltiptext = Sync your workspaces across devices
    .accesskey = W

zen-glance-title = Glance
zen-glance-header = General settings for glance
zen-glance-description = Get a quick overview of your links without opening them in a new tab
zen-glance-trigger-label = Trigger method
zen-glance-enabled =
    .label = Enable Glance

zen-glance-trigger-ctrl-click =
    .label = Ctrl + Click
zen-glance-trigger-alt-click =
    .label = Alt + Click
zen-glance-trigger-shift-click =
    .label = Shift + Click
zen-glance-trigger-meta-click =
    .label = Meta (Command) + Click

zen-look-and-feel-compact-view-header = Show in compact view
zen-look-and-feel-compact-view-description = Only show the toolbars you use!
zen-look-and-feel-compact-view-enabled =
    .label = Enable { -brand-short-name }'s compact mode

zen-look-and-feel-compact-view-top-toolbar =
    .label = Hide the top toolbar as well in compact mode

zen-look-and-feel-compact-toolbar-flash-popup =
    .label = Briefly make the toolbar popup when switching or opening new tabs in compact mode

pane-zen-tabs-title = Tab Management
category-zen-workspaces =
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Workspaces

zen-tabs-select-recently-used-on-close =
    .label = When closing a tab, switch to the most recently used tab instead of the next tab

zen-tabs-close-on-back-with-no-history =
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history

zen-settings-workspaces-sync-unpinned-tabs =
    .label = Sync only pinned tabs in workspaces

zen-tabs-cycle-by-attribute =
  .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs =
  .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled

zen-look-and-feel-compact-toolbar-themed =
    .label = Use themed background for compact toolbar

zen-workspace-continue-where-left-off =
    .label = Continue where you left off

pane-zen-pinned-tab-manager-title = Pinned Tabs
zen-pinned-tab-manager-header = General settings for pinned tabs
zen-pinned-tab-manager-description = Manage additional behavior of pinned tabs
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url =
    .label = Restore pinned tabs to their originally pinned URL on startup
zen-pinned-tab-manager-container-specific-essentials-enabled =
    .label = Enable container-specific essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Close Tab Shortcut Behavior
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option =
    .label = Reset URL, unload and switch to next tab
zen-pinned-tab-manager-unload-switch-close-shortcut-option =
    .label = Unload and switch to next tab
zen-pinned-tab-manager-reset-switch-close-shortcut-option =
    .label = Reset URL and switch to next tab
zen-pinned-tab-manager-switch-close-shortcut-option =
    .label = Switch to next tab
zen-pinned-tab-manager-reset-close-shortcut-option =
    .label = Reset URL
zen-pinned-tab-manager-close-close-shortcut-option =
    .label = Close tab

pane-zen-workspaces-header = Workspaces
zen-settings-workspaces-header = General settings for workspaces
zen-settings-workspaces-description = With workspaces, you can have multiple browsing sessions at once!
zen-settings-workspaces-enabled =
    .label = Enable Workspaces
zen-settings-workspaces-hide-default-container-indicator =
    .label = Hide the default container indicator in the tab bar

zen-key-unsaved = Unsaved shortcut! Please save it by clicking the "Escape" key after retyping it.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }

pane-zen-theme-title = Theme Settings

zen-vertical-tabs-title = Sidebar and tabs layout
zen-vertical-tabs-header = Vertical Tabs
zen-vertical-tabs-description = Manage your tabs in a vertical layout
zen-vertical-tabs-show-expand-button =
    .label = Show Expand Button
zen-vertical-tabs-newtab-on-tab-list =
    .label = Show New Tab Button on Tab List
zen-vertical-tabs-newtab-top-button-up =
    .label = Move the new tab button to the top

zen-vertical-tabs-expand-tabs-by-default = Expand Tabs by Default
zen-vertical-tabs-dont-expand-tabs-by-default = Don't Expand Tabs by Default
zen-vertical-tabs-expand-tabs-on-hover = Expand Tabs on Hover (Won't work on compact mode)

zen-vertical-tabs-expand-tabs-header = How to expand tabs
zen-vertical-tabs-expand-tabs-description = Choose how to expand tabs in the sidebar

zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled =
    .title = Disable all mods
zen-theme-disable-all-disabled =
    .title = Enable all mods
zen-theme-marketplace-description = Find and install mods from the store.
zen-theme-marketplace-remove-button =
    .label = Remove mod
zen-theme-marketplace-check-for-updates-button =
    .label = Check for Updates
zen-theme-marketplace-import-button=
    .label = Import mods
zen-theme-marketplace-export-button =
    .label = Export Mods
zen-theme-marketplace-import-success = Mods imported successfully
zen-theme-marketplace-import-failure = There was an error importing the mods
zen-theme-marketplace-export-success = Mods exported successfully
zen-theme-marketplace-export-failure = There was an error exporting the mods
zen-theme-marketplace-updates-success = Mods updated successfully
zen-theme-marketplace-updates-failure = Couldn't find any updates!
zen-theme-marketplace-toggle-enabled-button =
    .title = Disable mod
zen-theme-marketplace-toggle-disabled-button =
    .title = Enable mod
zen-theme-marketplace-remove-confirmation = Are you sure you want to remove this mod?
zen-theme-marketplace-close-modal = Close
zen-theme-marketplace-theme-header-title =
    .title = CSS Selector: { $name }
zen-theme-marketplace-dropdown-default-label =
    .label = None
zen-theme-marketplace-input-default-placeholder =
    .placeholder = Type something...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update =
   .label = Automatically update installed mods on startup

zen-settings-workspaces-force-container-tabs-to-workspace =
    .label = Switch to workspace where container is set as default when opening container tabs

zen-theme-marketplace-link = Visit Store

zen-dark-theme-styles-header = Dark Theme Styles
zen-dark-theme-styles-description = Customize the dark theme to your liking

zen-dark-theme-styles-amoled = Night Theme
zen-dark-theme-styles-default = Default Dark Theme
zen-dark-theme-styles-colorful = Colorful Dark Theme

zen-compact-mode-styles-left = Hide Tab bar
zen-compact-mode-styles-top = Hide Top bar
zen-compact-mode-styles-both = Hide Both

zen-urlbar-title = Zen URL Bar
zen-urlbar-header = General settings for the URL bar
zen-urlbar-description = Customize the URL bar to your liking

zen-urlbar-behavior-label = Behavior
zen-urlbar-behavior-normal =
    .label = Normal
zen-urlbar-behavior-floating-on-type =
    .label = Floating only when typing
zen-urlbar-behavior-float =
    .label = Always floating

pane-zen-CKS-title = Keyboard Shortcuts
category-zen-CKS =
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Keyboard Shortcuts

category-zen-marketplace =
    .tooltiptext = Zen Mods

zen-settings-CKS-header = Customize your keyboard shortcuts
zen-settings-CKS-description = Change the default keyboard shortcuts to your liking and improve your browsing experience

zen-settings-CKS-disable-firefox =
    .label = Disable { -brand-short-name }'s default keyboard shortcuts

zen-settings-CKS-duplicate-shortcut =
    .label = Duplicate Shortcut

zen-settings-CKS-reset-shortcuts =
    .label = Reset to Default

zenCKSOption-group-other = Other
zenCKSOption-group-windowAndTabManagement = Window & Tab Management
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Search & Find
zenCKSOption-group-pageOperations = Page Operations
zenCKSOption-group-historyAndBookmarks = History & Bookmarks
zenCKSOption-group-mediaAndDisplay = Media & Display
zenCKSOption-group-zen-compact-mode = Compact Mode
zenCKSOption-group-zen-workspace = Workspaces
zenCKSOption-group-zen-other = Other Zen Features
zenCKSOption-group-zen-split-view = Split View
zenCKSOption-group-devTools = Developer Tools

zen-key-quick-restart = Quick Restart
zen-window-new-shortcut = New Window
zen-tab-new-shortcut = New Tab
zen-key-redo = Redo
zen-restore-last-closed-tab-shortcut = Restore Last Closed Tab
zen-location-open-shortcut = Open Location
zen-location-open-shortcut-alt = Open Location (Alt)
zen-key-undo-close-window = Undo Close Window
zen-text-action-undo-shortcut = Undo
zen-text-action-redo-shortcut = Redo
zen-text-action-cut-shortcut = Cut
zen-text-action-copy-shortcut = Copy
zen-text-action-copy-url-shortcut = Copy current URL
zen-text-action-copy-url-markdown-shortcut = Copy current URL as Markdown
zen-text-action-paste-shortcut = Paste
zen-text-action-select-all-shortcut = Select All
zen-text-action-delete-shortcut = Delete
zen-history-show-all-shortcut-mac = Show All History (Mac)
zen-full-screen-shortcut = Toggle Full Screen
zen-reader-mode-toggle-shortcut-windows = Toggle Reader Mode (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Toggle Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Toggle Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Toggle Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = View Page Source (Safari)
zen-nav-stop-shortcut = Stop Loading
zen-history-sidebar-shortcut = Show History Sidebar
zen-window-minimize-shortcut = Minimize Window
zen-help-shortcut = Open Help
zen-preferences-shortcut = Open Preferences
zen-hide-app-shortcut = Hide Application
zen-hide-other-apps-shortcut = Hide Other Applications
zen-search-focus-shortcut = Focus Search
zen-search-focus-shortcut-alt = Focus Search (Alt)
zen-downloads-shortcut = Open Downloads
zen-addons-shortcut = Open Add-ons
zen-file-open-shortcut = Open File
zen-save-page-shortcut = Save Page
zen-print-shortcut = Print Page
zen-close-shortcut-2 = Close Tab
zen-mute-toggle-shortcut = Toggle Mute
zen-key-delete = Delete Key
zen-key-go-back = Go Back
zen-key-go-forward = Go Forward
zen-nav-back-shortcut-alt = Navigate Back (Alt)
zen-nav-fwd-shortcut-alt = Navigate Forward (Alt)
zen-history-show-all-shortcut = Show All History
zen-key-enter-full-screen = Enter Full Screen
zen-key-exit-full-screen = Exit Full Screen
zen-ai-chatbot-sidebar-shortcut = Toggle AI Chatbot Sidebar
zen-key-inspector-mac = Toggle Inspector (Mac)
zen-toggle-sidebar-shortcut = Toggle Firefox Sidebar
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = Toggle Reader Mode
zen-picture-in-picture-toggle-shortcut = Toggle Picture-in-Picture
zen-nav-reload-shortcut-2 = Reload Page
zen-key-about-processes = About Processes
zen-page-source-shortcut = View Page Source
zen-page-info-shortcut = View Page Info
zen-find-shortcut = Find on Page
zen-search-find-again-shortcut = Find Again
zen-search-find-again-shortcut-prev = Find Previous
zen-search-find-again-shortcut-2 = Find Again (Alt)
zen-bookmark-this-page-shortcut = Bookmark This Page
zen-bookmark-show-library-shortcut = Show Bookmarks Library
zen-key-stop = Stop Loading
zen-full-zoom-reduce-shortcut = Zoom Out
zen-full-zoom-enlarge-shortcut = Zoom In
zen-full-zoom-reset-shortcut = Reset Zoom
zen-full-zoom-reset-shortcut-alt = Reset Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom In (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom In (Alt 2)

zen-bidi-switch-direction-shortcut = Switch Text Direction
zen-private-browsing-shortcut = Private Browsing
zen-screenshot-shortcut = Take Screenshot
zen-key-sanitize = Clear Browsing Data
zen-quit-app-shortcut = Quit Application
zen-key-wr-capture-cmd = WR Capture Command
zen-key-wr-toggle-capture-sequence-cmd = Toggle WR Capture Sequence
zen-nav-reload-shortcut = Reload Page
zen-nav-reload-shortcut-skip-cache = Reload Page (Skip Cache)
zen-close-shortcut = Close Window
zen-close-tab-shortcut = Close Tab
zen-compact-mode-shortcut-show-sidebar = Toggle Floating Sidebar
zen-compact-mode-shortcut-show-toolbar = Toggle Floating Toolbar
zen-compact-mode-shortcut-toggle = Toggle Compact Mode
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = Switch to Workspace 1
zen-workspace-shortcut-switch-2 = Switch to Workspace 2
zen-workspace-shortcut-switch-3 = Switch to Workspace 3
zen-workspace-shortcut-switch-4 = Switch to Workspace 4
zen-workspace-shortcut-switch-5 = Switch to Workspace 5
zen-workspace-shortcut-switch-6 = Switch to Workspace 6
zen-workspace-shortcut-switch-7 = Switch to Workspace 7
zen-workspace-shortcut-switch-8 = Switch to Workspace 8
zen-workspace-shortcut-switch-9 = Switch to Workspace 9
zen-workspace-shortcut-switch-10 = Switch to Workspace 10
zen-workspace-shortcut-forward = Forward Workspace
zen-workspace-shortcut-backward = Backward Workspace
zen-sidebar-shortcut-toggle = Toggle Sidebar's Width
zen-pinned-tab-shortcut-reset = Reset Pinned Tab to Pinned URL
zen-split-view-shortcut-grid = Toggle Split View Grid
zen-split-view-shortcut-vertical = Toggle Split View Vertical
zen-split-view-shortcut-horizontal = Toggle Split View Horizontal
zen-split-view-shortcut-unsplit = Close Split View
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Select tab #1
zen-key-select-tab-2 = Select tab #2
zen-key-select-tab-3 = Select tab #3
zen-key-select-tab-4 = Select tab #4
zen-key-select-tab-5 = Select tab #5
zen-key-select-tab-6 = Select tab #6
zen-key-select-tab-7 = Select tab #7
zen-key-select-tab-8 = Select tab #8
zen-key-select-tab-last = Select last tab
zen-key-show-all-tabs = Show all tabs
zen-key-goto-history = Go to history
zen-key-go-home = Go Home
zen-bookmark-show-sidebar-shortcut = Show Bookmarks Sidebar
zen-bookmark-show-toolbar-shortcut = Show Bookmarks Toolbar
zen-devtools-toggle-shortcut = Toggle DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Toggle Browser Toolbox
zen-devtools-toggle-browser-console-shortcut = Toggle Browser Console
zen-devtools-toggle-responsive-design-mode-shortcut = Toggle Responsive Design Mode
zen-devtools-toggle-inspector-shortcut = Toggle Inspector
zen-devtools-toggle-web-console-shortcut = Toggle Web Console
zen-devtools-toggle-js-debugger-shortcut = Toggle JavaScript Debugger
zen-devtools-toggle-net-monitor-shortcut = Toggle Network Monitor
zen-devtools-toggle-style-editor-shortcut = Toggle Style Editor
zen-devtools-toggle-performance-shortcut = Toggle Performance
zen-devtools-toggle-storage-shortcut = Toggle Storage
zen-devtools-toggle-dom-shortcut = Toggle DOM
zen-devtools-toggle-accessibility-shortcut = Toggle Accessibility
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Blank Window



================================================
FILE: locales/es-ES/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Buscar { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Renombrar carpeta
zen-folders-panel-unpack-folder = 
    .label = Desempaquetar carpeta
zen-folders-new-subfolder = 
    .label = Nueva subcarpeta
zen-folders-panel-delete-folder = 
    .label = Eliminar carpeta
zen-folders-panel-convert-folder-to-space = 
    .label = Convertir carpeta en espacio
zen-folders-panel-change-folder-space = 
    .label = Cambiar espacio...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Suspensión activa en esta carpeta
zen-folders-unload-folder = 
    .label = Suspender todas las pestañas
zen-folders-search-no-results = Ninguna pestaña coincide con esa búsqueda 🤔



================================================
FILE: locales/es-ES/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = perfil actual
unified-extensions-description = Las extensiones se utilizan para agregar más funcionalidades a { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Restablecer pestaña fijada
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Añadir a esenciales
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } huecos llenos
tab-context-zen-remove-essential = 
    .label = Quitar de esenciales
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Reemplazar la URL fijada con la actual
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Cambiar etiqueta...
tab-context-zen-edit-icon = 
    .label = Cambiar icono...
zen-themes-corrupted = Su archivo de mods de { -brand-short-name } está dañado. Se ha restablecido el tema por defecto.
zen-shortcuts-corrupted = Su archivo de atajos de { -brand-short-name } está dañado. Se han restablecido los atajos por defecto.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Se ha habilitado la nueva barra de direcciones, eliminando la necesidad de la página de nueva pestaña.<br/><br/>
    ¡Pruebe a abrir una nueva pestaña para ver la nueva barra de direcciones en acción!
zen-disable = Deshabilitar
pictureinpicture-minimize-btn = 
    .aria-label = Minimizar
    .tooltip = Minimizar
zen-panel-ui-gradient-generator-custom-color = Color personalizado
zen-copy-current-url-confirmation = ¡URL actual copiada!
zen-general-cancel-label = 
    .label = Cancelar
zen-general-confirm = 
    .label = Confirmar
zen-pinned-tab-replaced = La URL de la pestaña fijada se ha reemplazado por la URL actual.
zen-tabs-renamed = ¡La pestaña se ha renombrado con éxito!
zen-background-tab-opened-toast = ¡Nueva pestaña abierta en segundo plano!
zen-workspace-renamed-toast = ¡El espacio de trabajo ha sido renombrado con éxito!
zen-toggle-compact-mode-button = 
    .label = Modo compacto
    .tooltiptext = Alternar modo compacto

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Más información
zen-close-label = Cerrar
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Buscar...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Iconos
urlbar-search-mode-zen_actions = Acciones
zen-site-data-settings = Ajustes
zen-generic-manage = Administrar
zen-generic-more = Más
zen-generic-next = Siguiente
zen-essentials-promo-label = Añadir a esenciales
zen-essentials-promo-sublabel = Mantenga sus pestañas favoritas a solo un clic de distancia
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Permitido
zen-site-data-setting-block = Bloqueado
zen-site-data-protections-enabled = Activada
zen-site-data-protections-disabled = Desactivada
zen-site-data-setting-cross-site = Cookie de terceros
zen-site-data-security-info-extension = 
    .label = Extensión
zen-site-data-security-info-secure = 
    .label = Seguro
zen-site-data-security-info-not-secure = 
    .label = No seguro
zen-site-data-manage-addons = 
    .label = Administrar extensiones
zen-site-data-get-addons = 
    .label = Añadir extensión
zen-site-data-site-settings = 
    .label = Todas las configuraciones del sitio
zen-site-data-header-share = 
    .tooltiptext = Compartir esta página
zen-site-data-header-reader-mode = 
    .tooltiptext = Entrar en modo lectura
zen-site-data-header-screenshot = 
    .tooltiptext = Tomar una captura de pantalla
zen-site-data-header-bookmark = 
    .tooltiptext = Añadir esta página a marcadores
zen-urlbar-copy-url-button = 
    .tooltiptext = Copiar URL
zen-site-data-setting-site-protection = Protección contra el rastreo

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Un nuevo hogar para complementos, permisos y más
zen-site-data-panel-feature-callout-subtitle = Haga clic en el icono para administrar la configuración del sitio, ver información de seguridad, acceder a extensiones, y realizar acciones comunes.
zen-open-link-in-glance = 
    .label = Abrir enlace en Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = ¡Actualización completada!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Novedades en { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Ver notas de la versión
zen-sidebar-notification-restart-safe-mode-label = ¿Algo dejó de funcionar?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Reiniciar en modo seguro
zen-window-sync-migration-dialog-title = Mantenga sus ventanas sincronizadas
zen-window-sync-migration-dialog-message = Ahora Zen sincroniza las ventanas en el mismo dispositivo, por lo que los cambios en una ventana se reflejan en las demás instantáneamente.
zen-window-sync-migration-dialog-learn-more = Más información
zen-window-sync-migration-dialog-accept = Entendido



================================================
FILE: locales/es-ES/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expandir pestañas fijadas
           *[false] Colapsar pestañas fijadas
        }
zen-menubar-appearance = 
    .label = Apariencia
zen-menubar-appearance-description = 
    .label = Los sitios web usarán:
zen-menubar-appearance-auto = 
    .label = Automático
zen-menubar-appearance-light = 
    .label = Claro
zen-menubar-appearance-dark = 
    .label = Oscuro
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/es-ES/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Vista dividida (se necesitan varias pestañas seleccionadas)
           *[other] Añadir { $tabCount } pestañas a vista dividida
        }
    .accesskey = S
zen-split-link = 
    .label = Añadir enlace a vista dividida
    .accesskey = S
zen-split-view-modifier-header = Vista dividida
zen-split-view-modifier-activate-reallocation = 
    .label = Activar reorganización
zen-split-view-modifier-enabled-toast = La reorganización de la vista dividida está encendida.
zen-split-view-modifier-enabled-toast-description = Arrastre y suelte la vista para reorganizar. Presione Esc para salir.
zen-split-view-modifier-disabled-toast = La reorganización de la vista dividida está apagada.



================================================
FILE: locales/es-ES/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Pestañas a la derecha
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Modo compacto
zen-toolbar-context-compact-mode-enable = 
    .label = Habilitar modo compacto
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Ocultar barra lateral
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Ocultar barra de herramientas
zen-toolbar-context-compact-mode-hide-both = 
    .label = Ocultar ambas
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Nueva carpeta
    .accesskey = N
sidebar-zen-expand = 
    .label = Expandir barra lateral
sidebar-zen-create-new = 
    .label = Crear nuevo...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Suspender y cambiar de pestaña
           *[other] Suspender { $tabCount } pestañas y cambiar a la primera
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Restablecer y fijar pestaña
           *[other] Restablecer y fijar { $tabCount } pestañas
        }
tab-reset-pin-label = Volver a la URL fijada



================================================
FILE: locales/es-ES/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Silenciar panel web
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Activar sonido de panel web
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Deshabilitar agente de usuario móvil
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Habilitar agente de usuario móvil
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Suspender panel web
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Eliminar panel web
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Abrir en nueva pestaña
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Abrir en pestaña contenedora
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Añadir a paneles web
    .accesskey = A
zen-webpanel-introduction-title = Bienvenido a los paneles web de Zen
zen-webpanel-introduction-description = Los paneles web son una forma de mantener sus sitios web favoritos al alcance de la mano.



================================================
FILE: locales/es-ES/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Bienvenido a
zen-welcome-title-line2 = un Internet más tranquilo
zen-welcome-import-title = Un nuevo comienzo, los mismos marcadores
zen-welcome-import-description-1 = Sus marcadores, historial, y contraseñas son como un rastro de migas de pan a través de Internet—¡no las deje atrás!
zen-welcome-import-description-2 = Tráigalos fácilmente desde otro navegador y continúe justo donde lo dejó.
zen-welcome-import-button = Importar ahora
zen-welcome-set-default-browser = Establecer { -brand-short-name } como su navegador predeterminado
zen-welcome-dont-set-default-browser = NO establecer { -brand-short-name } como su navegador predeterminado
zen-welcome-initial-essentials-title = Sus pestañas esenciales, siempre a su alcance
zen-welcome-initial-essentials-description-1 = Mantenga sus pestañas más importantes fácilmente accesibles y siempre a mano, sin importar cuantas abra.
zen-welcome-initial-essentials-description-2 = Las pestañas esenciales están siempre a la vista, sin importar en que espacio de trabajo esté.
zen-welcome-workspace-colors-title = Sus espacios de trabajo, sus colores
zen-welcome-workspace-colors-description = Personalice su navegador dándole a cada espacio de trabajo su propia identidad de color única.
zen-welcome-start-browsing-title =
    ¿Listo?<br/>
    ¡Pongámonos en marcha!
zen-welcome-start-browsing-description-1 = Está listo y preparado para continuar. Haga clic en el botón de abajo para comenzar a navegar con { -brand-short-name }.
zen-welcome-start-browsing = ¡Comencemos!
zen-welcome-default-search-title = Su motor de búsqueda predeterminado
zen-welcome-default-search-description = Elija su motor de búsqueda predeterminado. ¡Siempre puede cambiarlo más tarde!
zen-welcome-skip-button = Omitir
zen-welcome-finished = ¡Su Zen se ha configurado correctamente!



================================================
FILE: locales/es-ES/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Espacios de trabajo
zen-panel-ui-spaces-label = 
    .label = Espacios
zen-panel-ui-workspaces-create = 
    .label = Crear espacio
zen-panel-ui-folder-create = 
    .label = Crear carpeta
zen-panel-ui-new-empty-split = 
    .label = Nueva división
zen-workspaces-panel-context-delete = 
    .label = Eliminar espacio de trabajo
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Cambiar nombre
zen-workspaces-panel-change-icon = 
    .label = Cambiar icono
zen-workspaces-panel-context-default-profile = 
    .label = Establecer perfil
zen-workspaces-panel-unload = 
    .label = Suspender espacio
zen-workspaces-how-to-reorder-title = Cómo reordenar espacios
zen-workspaces-how-to-reorder-desc = Arrastre los iconos de los espacios en la parte inferior de la barra lateral para reordenarlos
zen-workspaces-change-theme = 
    .label = Editar tema
zen-workspaces-panel-context-open = 
    .label = Abrir espacio de trabajo
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Editar espacio de trabajo
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Espacios
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementario
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Dividir
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Análogo
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triádico
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Flotante
zen-panel-ui-gradient-click-to-add = Haga clic para añadir un color
zen-workspace-creation-name = 
    .placeholder = Nombre del espacio
zen-move-tab-to-workspace-button = 
    .label = Mover a...
    .tooltiptext = Mover todas las pestañas de esta ventana a un espacio
zen-workspaces-panel-context-reorder = 
    .label = Reordenar espacios
zen-workspace-creation-profile = Perfil
    .tooltiptext = Los perfiles se utilizan para separar las cookies y los datos de sitios entre espacios.
zen-workspace-creation-header = Crear un espacio
zen-workspace-creation-label = Los espacios se utilizan para organizar sus pestañas y sesiones.
zen-workspaces-delete-workspace-title = ¿Eliminar espacio de trabajo?
zen-workspaces-delete-workspace-body = ¿Seguro que quiere eliminar { $name }? Esta acción no se puede deshacer.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = ¡Pestañas cerradas! Use <span>{ $shortcut }</span> para deshacerlo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Limpiar
    .tooltiptext = Cerrar todas las pestañas sin fijar
zen-panel-ui-workspaces-change-forward = 
    .label = Espacio siguiente
zen-panel-ui-workspaces-change-back = 
    .label = Espacio anterior



================================================
FILE: locales/es-ES/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = ¡Un tema con un esquema de color oscuro y un agradable toque galáctico!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = ¡Un tema con un esquema de color claro y un agradable toque de ensueño!



================================================
FILE: locales/es-ES/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = URL inicial
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Mostrar este panel web en modo móvil
    .accesskey = m



================================================
FILE: locales/es-ES/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Apariencia
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Cambiar el idioma por defecto podría facilitar el seguimiento de los sitios web.
zen-vertical-tabs-layout-header = Diseño del navegador
zen-vertical-tabs-layout-description = Elija el diseño que más le convenga
zen-layout-single-toolbar = Barra de herramientas única
zen-layout-multiple-toolbar = Múltiples barras de herramientas
zen-layout-collapsed-toolbar = Barra de herramientas contraída
sync-currently-syncing-workspaces = Espacios de trabajo
sync-engine-workspaces = 
    .label = Espacios de trabajo
    .tooltiptext = Sincronice sus espacios de trabajo en todos sus dispositivos
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = Ajustes generales de Glance
zen-glance-description = Eche un vistazo rápido a sus enlaces sin abrirlos en una nueva pestaña
zen-glance-trigger-label = Método de activación
zen-glance-enabled = 
    .label = Habilitar Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Clic
zen-glance-trigger-alt-click = 
    .label = Alt + Clic
zen-glance-trigger-shift-click = 
    .label = Mayús + Clic
zen-glance-trigger-meta-click = 
    .label = Meta (Comando) + Clic
zen-look-and-feel-compact-view-header = Mostrar en vista compacta
zen-look-and-feel-compact-view-description = ¡Muestre solo las barras de herramientas que usa!
zen-look-and-feel-compact-view-enabled = 
    .label = Habilita el modo compacto de { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Ocultar también la barra de herramientas superior en el modo compacto
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Hacer emerger brevemente la barra de herramientas al cambiar o abrir nuevas pestañas en el modo compacto
pane-zen-tabs-title = Administración de pestañas
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Espacios de trabajo
zen-tabs-unloader-enabled = 
    .label = Habilitar suspensión de pestañas
zen-tabs-close-on-back-with-no-history = 
    .label = Cerrar pestaña y cambiar a su pestaña propietaria (o la pestaña usada más recientemente) al volver sin historial
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab solo alterna dentro de las pestañas esenciales o de espacio de trabajo
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignorar pestañas pendientes cuando alterna con Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab alternará según el orden de uso reciente, cuando está habilitado
zen-look-and-feel-compact-toolbar-themed = 
    .label = Usar fondo temático para la barra de herramientas compacta
zen-workspace-continue-where-left-off = 
    .label = Continúe donde lo dejó
pane-zen-pinned-tab-manager-title = Pestañas fijadas
zen-pinned-tab-manager-header = Ajustes generales de las pestañas fijadas
zen-pinned-tab-manager-description = Controle el comportamiento adicional de las pestañas fijadas
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restaurar pestañas fijadas a la URL fijada inicialmente, al iniciar el navegador
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Habilitar esenciales específicos del contenedor
zen-pinned-tab-manager-close-shortcut-behavior-label = Comportamiento del atajo de cierre de las pestañas
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Restablecer URL, suspender y cambiar a la pestaña siguiente
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Suspender y cambiar a la pestaña siguiente
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Restablecer URL y cambiar a la pestaña siguiente
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Cambiar a la pestaña siguiente
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Restablecer URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Cerrar pestaña
pane-zen-workspaces-header = Espacios de trabajo
zen-settings-workspaces-header = Ajustes generales de los espacios de trabajo
zen-settings-workspaces-description = Con los espacios de trabajo, ¡puede tener múltiples sesiones de navegación a la vez!
zen-settings-workspaces-enabled = 
    .label = Habilitar espacios de trabajo
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Ocultar el indicador de contenedor por defecto en la barra de pestañas
zen-key-unsaved = ¡Atajo sin guardar! Por favor guárdelo pulsando la tecla "Escape" después de reescribirlo.
zen-key-conflict = Conflicto con { $group } -> { $shortcut }
pane-zen-theme-title = Ajustes del tema
zen-vertical-tabs-title = Diseño de la barra lateral y pestañas
zen-vertical-tabs-header = Pestañas verticales
zen-vertical-tabs-description = Administre sus pestañas en disposición vertical
zen-vertical-tabs-show-expand-button = 
    .label = Mostrar botón de expandir
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Mostrar botón de nueva pestaña en la lista de pestañas
zen-vertical-tabs-newtab-top-button-up = 
    .label = Mover el botón de nueva pestaña a la parte superior
zen-vertical-tabs-expand-tabs-by-default = Expandir por defecto las pestañas
zen-vertical-tabs-dont-expand-tabs-by-default = No expandir por defecto las pestañas
zen-vertical-tabs-expand-tabs-on-hover = Expandir las pestañas al pasar el cursor por encima (No funcionará en modo compacto)
zen-vertical-tabs-expand-tabs-header = Cómo expandir las pestañas
zen-vertical-tabs-expand-tabs-description = Elija cómo expandir las pestañas en la barra lateral
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Deshabilitar todos los mods
zen-theme-disable-all-disabled = 
    .title = Habilitar todos los mods
zen-theme-marketplace-description = Busque e instale mods del almacén.
zen-theme-marketplace-remove-button = 
    .label = Eliminar mod
zen-theme-marketplace-check-for-updates-button = 
    .label = Buscar actualizaciones
zen-theme-marketplace-import-button = 
    .label = Importar mods
zen-theme-marketplace-export-button = 
    .label = Exportar mods
zen-theme-marketplace-import-success = Mods importados con éxito
zen-theme-marketplace-import-failure = Hubo un error al importar los mods
zen-theme-marketplace-export-success = Mods exportados con éxito
zen-theme-marketplace-export-failure = Hubo un error al exportar los mods
zen-theme-marketplace-updates-success = Mods actualizados correctamente
zen-theme-marketplace-updates-failure = ¡No se han encontrado actualizaciones!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Deshabilitar mod
zen-theme-marketplace-toggle-disabled-button = 
    .title = Habilitar mod
zen-theme-marketplace-remove-confirmation = ¿Está seguro de que quiere eliminar este mod?
zen-theme-marketplace-close-modal = Cerrar
zen-theme-marketplace-theme-header-title = 
    .title = Selector de CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Ninguno
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Escriba algo...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Actualizar automáticamente los mods instalados al iniciar el navegador
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Cambiar al espacio de trabajo donde el contenedor esté establecido por defecto al abrir las pestañas contenedoras
zen-theme-marketplace-link = Visitar almacén
zen-dark-theme-styles-header = Estilos del tema oscuro
zen-dark-theme-styles-description = Personalice el tema oscuro a su gusto
zen-dark-theme-styles-amoled = Tema nocturno
zen-dark-theme-styles-default = Tema oscuro predeterminado
zen-dark-theme-styles-colorful = Tema oscuro colorido
zen-compact-mode-styles-left = Ocultar barra de pestañas
zen-compact-mode-styles-top = Ocultar barra superior
zen-compact-mode-styles-both = Ocultar ambas
zen-urlbar-title = Barra de direcciones de Zen
zen-urlbar-header = Ajustes generales de la barra de direcciones
zen-urlbar-description = Personalice la barra de direcciones a su gusto
zen-urlbar-behavior-label = Comportamiento
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Flotante solo al escribir
zen-urlbar-behavior-float = 
    .label = Flotante siempre
pane-zen-CKS-title = Atajos de teclado
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Atajos de teclado de { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Modificaciones de Zen
zen-settings-CKS-header = Personalice sus atajos de teclado
zen-settings-CKS-description = Cambie los atajos de teclado predeterminados a su gusto y mejore su experiencia de navegación
zen-settings-CKS-disable-firefox = 
    .label = Deshabilita los atajos de teclado predeterminados de { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicar atajo
zen-settings-CKS-reset-shortcuts = 
    .label = Restablecer valores predeterminados
zenCKSOption-group-other = Otros
zenCKSOption-group-windowAndTabManagement = Manejo de ventanas y pestañas
zenCKSOption-group-navigation = Navegación
zenCKSOption-group-searchAndFind = Buscar y encontrar
zenCKSOption-group-pageOperations = Operaciones de página
zenCKSOption-group-historyAndBookmarks = Historial y marcadores
zenCKSOption-group-mediaAndDisplay = Medios y visualización
zenCKSOption-group-zen-compact-mode = Modo compacto
zenCKSOption-group-zen-workspace = Espacios de trabajo
zenCKSOption-group-zen-other = Otras características de Zen
zenCKSOption-group-zen-split-view = Vista dividida
zenCKSOption-group-devTools = Herramientas de desarrollador
zen-key-quick-restart = Reinicio rápido
zen-window-new-shortcut = Nueva ventana
zen-tab-new-shortcut = Nueva pestaña
zen-key-redo = Rehacer
zen-restore-last-closed-tab-shortcut = Restaurar última pestaña cerrada
zen-location-open-shortcut = Abrir ubicación
zen-location-open-shortcut-alt = Abrir ubicación (Alt)
zen-key-undo-close-window = Deshacer cerrar ventana
zen-text-action-undo-shortcut = Deshacer
zen-text-action-redo-shortcut = Rehacer
zen-text-action-cut-shortcut = Cortar
zen-text-action-copy-shortcut = Copiar
zen-text-action-copy-url-shortcut = Copiar URL actual
zen-text-action-copy-url-markdown-shortcut = Copiar URL actual como Markdown
zen-text-action-paste-shortcut = Pegar
zen-text-action-select-all-shortcut = Seleccionar todo
zen-text-action-delete-shortcut = Eliminar
zen-history-show-all-shortcut-mac = Mostrar todo el historial (Mac)
zen-full-screen-shortcut = Cambiar a pantalla completa
zen-reader-mode-toggle-shortcut-windows = Cambiar a modo lectura (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Cambiar a modo Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Cambiar a modo Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Cambiar a modo Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = Ver código fuente de la página (Safari)
zen-nav-stop-shortcut = Detener carga
zen-history-sidebar-shortcut = Mostrar barra lateral del historial
zen-window-minimize-shortcut = Minimizar ventana
zen-help-shortcut = Abrir ayuda
zen-preferences-shortcut = Abrir preferencias
zen-hide-app-shortcut = Ocultar aplicación
zen-hide-other-apps-shortcut = Ocultar otras aplicaciones
zen-search-focus-shortcut = Enfocar barra de direcciones
zen-search-focus-shortcut-alt = Enfocar barra de direcciones (Alt)
zen-downloads-shortcut = Abrir descargas
zen-addons-shortcut = Abrir extensiones
zen-file-open-shortcut = Abrir archivo
zen-save-page-shortcut = Guardar página
zen-print-shortcut = Imprimir página
zen-close-shortcut-2 = Cerrar pestaña
zen-mute-toggle-shortcut = Activar sonido/Silenciar
zen-key-delete = Borrar carácter
zen-key-go-back = Ir a la página anterior
zen-key-go-forward = Ir a la página siguiente
zen-nav-back-shortcut-alt = Navegar hacia atrás (Alt)
zen-nav-fwd-shortcut-alt = Navegar hacia delante (Alt)
zen-history-show-all-shortcut = Mostrar todo el historial
zen-key-enter-full-screen = Pantalla completa
zen-key-exit-full-screen = Salir de pantalla completa
zen-ai-chatbot-sidebar-shortcut = Alternar barra lateral del chatbot de IA
zen-key-inspector-mac = Alternar inspector (Mac)
zen-toggle-sidebar-shortcut = Alternar barra lateral de Firefox
zen-toggle-pin-tab-shortcut = Alternar fijar pestaña
zen-reader-mode-toggle-shortcut-other = Cambiar a modo lectura
zen-picture-in-picture-toggle-shortcut = Cambiar a modo Picture-in-Picture
zen-nav-reload-shortcut-2 = Recargar página
zen-key-about-processes = Abrir administrador de procesos
zen-page-source-shortcut = Ver código fuente de la página
zen-page-info-shortcut = Ver información de la página
zen-find-shortcut = Encontrar en la página
zen-search-find-again-shortcut = Encontrar de nuevo
zen-search-find-again-shortcut-prev = Encontrar anterior
zen-search-find-again-shortcut-2 = Encontrar de nuevo (Alt)
zen-bookmark-this-page-shortcut = Añadir página a marcadores
zen-bookmark-show-library-shortcut = Mostrar catálogo de marcadores
zen-key-stop = Detener carga
zen-full-zoom-reduce-shortcut = Alejar
zen-full-zoom-enlarge-shortcut = Acercar
zen-full-zoom-reset-shortcut = Restablecer zoom
zen-full-zoom-reset-shortcut-alt = Restablecer zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Acercar (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Acercar (Alt 2)
zen-bidi-switch-direction-shortcut = Cambiar dirección del texto
zen-private-browsing-shortcut = Navegación privada
zen-screenshot-shortcut = Captura de pantalla
zen-key-sanitize = Borrar datos de navegación
zen-quit-app-shortcut = Salir de la aplicación
zen-key-wr-capture-cmd = Comando de captura WR
zen-key-wr-toggle-capture-sequence-cmd = Cambiar a secuencia de captura WR
zen-nav-reload-shortcut = Recargar página
zen-nav-reload-shortcut-skip-cache = Recargar página (Omitir caché)
zen-close-shortcut = Cerrar ventana
zen-close-tab-shortcut = Cerrar pestaña
zen-compact-mode-shortcut-show-sidebar = Alternar barra lateral flotante
zen-compact-mode-shortcut-show-toolbar = Alternar barra de herramientas flotante
zen-compact-mode-shortcut-toggle = Alternar modo compacto
zen-glance-expand = Expandir Glance
zen-workspace-shortcut-switch-1 = Cambiar a espacio de trabajo 1
zen-workspace-shortcut-switch-2 = Cambiar a espacio de trabajo 2
zen-workspace-shortcut-switch-3 = Cambiar a espacio de trabajo 3
zen-workspace-shortcut-switch-4 = Cambiar a espacio de trabajo 4
zen-workspace-shortcut-switch-5 = Cambiar a espacio de trabajo 5
zen-workspace-shortcut-switch-6 = Cambiar a espacio de trabajo 6
zen-workspace-shortcut-switch-7 = Cambiar a espacio de trabajo 7
zen-workspace-shortcut-switch-8 = Cambiar a espacio de trabajo 8
zen-workspace-shortcut-switch-9 = Cambiar a espacio de trabajo 9
zen-workspace-shortcut-switch-10 = Cambiar a espacio de trabajo 10
zen-workspace-shortcut-forward = Espacio de trabajo siguiente
zen-workspace-shortcut-backward = Espacio de trabajo anterior
zen-sidebar-shortcut-toggle = Cambiar el ancho de la barra lateral
zen-pinned-tab-shortcut-reset = Restablecer pestaña fijada a la URL fijada
zen-split-view-shortcut-grid = Cambiar a vista dividida en cuadrícula
zen-split-view-shortcut-vertical = Cambiar a vista dividida vertical
zen-split-view-shortcut-horizontal = Cambiar a vista dividida horizontal
zen-split-view-shortcut-unsplit = Cerrar vista dividida
zen-new-empty-split-view-shortcut = Nueva vista dividida vacía
zen-key-select-tab-1 = Seleccionar pestaña 1
zen-key-select-tab-2 = Seleccionar pestaña 2
zen-key-select-tab-3 = Seleccionar pestaña 3
zen-key-select-tab-4 = Seleccionar pestaña 4
zen-key-select-tab-5 = Seleccionar pestaña 5
zen-key-select-tab-6 = Seleccionar pestaña 6
zen-key-select-tab-7 = Seleccionar pestaña 7
zen-key-select-tab-8 = Seleccionar pestaña 8
zen-key-select-tab-last = Seleccionar última pestaña
zen-key-show-all-tabs = Mostrar todas las pestañas
zen-key-goto-history = Ir al historial
zen-key-go-home = Ir a la página de inicio
zen-bookmark-show-sidebar-shortcut = Mostrar barra lateral de marcadores
zen-bookmark-show-toolbar-shortcut = Mostrar barra de marcadores
zen-devtools-toggle-shortcut = Alternar herramientas de desarrollador
zen-devtools-toggle-browser-toolbox-shortcut = Alternar caja de herramientas del navegador
zen-devtools-toggle-browser-console-shortcut = Alternar consola del navegador
zen-devtools-toggle-responsive-design-mode-shortcut = Alternar modo de diseño adaptable
zen-devtools-toggle-inspector-shortcut = Alternar inspector
zen-devtools-toggle-web-console-shortcut = Alternar consola web
zen-devtools-toggle-js-debugger-shortcut = Alternar depurador de JavaScript
zen-devtools-toggle-net-monitor-shortcut = Alternar monitor de red
zen-devtools-toggle-style-editor-shortcut = Alternar editor de estilos
zen-devtools-toggle-performance-shortcut = Alternar rendimiento
zen-devtools-toggle-storage-shortcut = Alternar almacenamiento
zen-devtools-toggle-dom-shortcut = Alternar DOM
zen-devtools-toggle-accessibility-shortcut = Alternar accesibilidad
zen-close-all-unpinned-tabs-shortcut = Cerrar todas las pestañas sin fijar
zen-new-unsynced-window-shortcut = Nueva ventana no sincronizada



================================================
FILE: locales/et/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Otsi kaustast { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Nimeta kaust ümber
zen-folders-panel-unpack-folder = 
    .label = Paki kaust lahti
zen-folders-new-subfolder = 
    .label = Uus alamkaust
zen-folders-panel-delete-folder = 
    .label = Kustuta kaust
zen-folders-panel-convert-folder-to-space = 
    .label = Teisenda kaust tööruumiks
zen-folders-panel-change-folder-space = 
    .label = Liiguta tööruumi...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Eemalda mälust selle kausta aktiivsed kaardid
zen-folders-unload-folder = 
    .label = Eemalda mälust kõik kaardid
zen-folders-search-no-results = Otsingule ei vasta ühtegi kaarti 🤔



================================================
FILE: locales/et/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = praegune profiil
unified-extensions-description = Laiendusi kasutatakse täiendava funktsionaalsuse lisamiseks { -brand-short-name }i.
tab-context-zen-reset-pinned-tab = 
    .label = Lähtesta püsikaart
    .accesskey = p
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = o
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Eemalda olulistest
    .accesskey = o
tab-context-zen-replace-pinned-url-with-current = 
    .label = Asenda püsikaardi URL praegusega
    .accesskey = p
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Sinu { -brand-short-name } mods-ide fail on vigane. See on nüüd lähtestatud vaikimisi teemaks.
zen-shortcuts-corrupted = Sinu { -brand-short-name } otseteede fail on vigane. See on nüüd lähtestatud vaikimisi otseteedeks.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Uus asukohariba on sisse lülitatud, mistõttu pole enam uue kaardi lehte tarvis.<br/><br/>
    Proovi avada uut kaarti, et näha uut asukohariba!
zen-disable = Lülita välja
pictureinpicture-minimize-btn = 
    .aria-label = Minimeeri
    .tooltip = Minimeeri
zen-panel-ui-gradient-generator-custom-color = Kohandatud värv
zen-copy-current-url-confirmation = Copied current URL!
zen-general-cancel-label = 
    .label = Tühista
zen-general-confirm = 
    .label = Kinnita
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL.
zen-tabs-renamed = Kaart on edukalt ümber nimetatud!
zen-background-tab-opened-toast = Taustal avati uus kaart!
zen-workspace-renamed-toast = Tööruum on edukalt ümber nimetatud!
zen-toggle-compact-mode-button = 
    .label = Compact Mode
    .tooltiptext = Lülita kompaktne režiim sisse/välja

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Rohkem teavet
zen-close-label = Sulge
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Otsi...
zen-icons-picker-emoji = 
    .label = Emojid
zen-icons-picker-svg = 
    .label = Ikoonid
urlbar-search-mode-zen_actions = Tegevused
zen-site-data-settings = Sätted
zen-generic-manage = Halda
zen-generic-more = Rohkem
zen-generic-next = Next
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Lubatud
zen-site-data-setting-block = Keelatud
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Laiendus
zen-site-data-security-info-secure = 
    .label = Turvaline
zen-site-data-security-info-not-secure = 
    .label = Ebaturvaline
zen-site-data-manage-addons = 
    .label = Halda laiendusi
zen-site-data-get-addons = 
    .label = Lisa laiendusi
zen-site-data-site-settings = 
    .label = Kõik saidi sätted
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copy URL
zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/et/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/et/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Jaota kaart (mitu kaarti peab olema valitud)
           *[other] Jaota { $tabCount } kaarti
        }
    .accesskey = J
zen-split-link = 
    .label = Ava link uuel jaotatud kaardil
    .accesskey = A
zen-split-view-modifier-header = Jaotatud vaade
zen-split-view-modifier-activate-reallocation = 
    .label = Aktiveeri ümberkorraldamine
zen-split-view-modifier-enabled-toast = Jaotatud vaate ümberkorraldamine on SISSE LÜLITATUD.
zen-split-view-modifier-enabled-toast-description = Lohista vaatel, et see ümber tõsta. Režiimist väljumiseks vajuta klahvile Esc.
zen-split-view-modifier-disabled-toast = Jaotatud vaate ümberkorraldamine on VÄLJA LÜLITATUD.



================================================
FILE: locales/et/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Kaardid paremal
    .accesskey = p
zen-toolbar-context-compact-mode = 
    .label = Kompaktne režiim
zen-toolbar-context-compact-mode-enable = 
    .label = Luba kompaktne režiim
    .accesskey = r
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Peida külgriba
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Peida tööriistariba
zen-toolbar-context-compact-mode-hide-both = 
    .label = Peida mõlemad
    .accesskey = P
zen-toolbar-context-new-folder = 
    .label = Uus kaust
    .accesskey = U
sidebar-zen-expand = 
    .label = Laienda külgriba
sidebar-zen-create-new = 
    .label = Loo uus...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Eemalda mälust ning vaheta kaarti
           *[other] Eemalda mälust { $tabCount } kaarti ning vaheta esimesele kaardile
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Lähtesta ja tee püsikaardiks
           *[other] Lähtesta ja tee püsikaardiks { $tabCount } kaarti
        }
tab-reset-pin-label = Tagasi püsikaardi URL-ile



================================================
FILE: locales/et/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Vaigista veebipaneeli heli
    .accesskey = V
zen-web-side-panel-context-unmute-panel = 
    .label = Lõpeta veebipaneeli heli vaigistamine
    .accesskey = v
zen-web-side-panel-context-disable-ua = 
    .label = Lülita mobiilibrauseri UserAgent välja
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Lülita mobiilibrauseri UserAgent sisse
    .accesskey = m
zen-web-side-panel-context-unload = 
    .label = Sulge veebipaneel täielikult
    .accesskey = v
zen-web-side-panel-context-delete = 
    .label = Kustuta veebipaneel
    .accesskey = K
zen-web-side-panel-open-in-new-tab = 
    .label = Ava uuel kaardil
    .accesskey = u
zen-web-side-panel-context-open-in-container-tab = 
    .label = Ava uuel konteinerkaardil
    .accesskey = k
zen-web-side-panel-context-add-to-panel = 
    .label = Lisa veebipaneelide hulka
    .accesskey = L
zen-webpanel-introduction-title = Tere tulemast Zen-i veebipaneelidesse
zen-webpanel-introduction-description = Veebipaneelid on viis kuidas hoida lemmikud veebilehed enda käeulatuses.



================================================
FILE: locales/et/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Tere tulemast
zen-welcome-title-line2 = rahulikumasse internetti
zen-welcome-import-title = Värske algus, samad järjehoidjad
zen-welcome-import-description-1 = Sinu järjehoidjad, ajalugu ja paroolid on nagu seni läbitud rada internetis—ära jäta seda maha!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off..
zen-welcome-import-button = Impordi nüüd
zen-welcome-set-default-browser = Määra { -brand-short-name } oma vaikebrauseriks
zen-welcome-dont-set-default-browser = ÄRA määra { -brand-short-name } oma vaikebrauseriks
zen-welcome-initial-essentials-title = Sinu põhilised kaardid, alati käeulatuses
zen-welcome-initial-essentials-description-1 = Hoia oma kõige olulisemad kaardid hõlpsalt juurdepääsetavad ning käeulatuses, hoolimata sellest, kui mitu neid avad.
zen-welcome-initial-essentials-description-2 = Olulised kaardid on alati nähtavad sõltumata sellest, millises tööruumis hetkel oled.
zen-welcome-workspace-colors-title = Sinu tööruumid, sinu värvid
zen-welcome-workspace-colors-description = Isikupärasta oma brauser, andes igale tööruumile omapärase värvitooni.
zen-welcome-start-browsing-title =
    Valmis?<br/>
    Alustame!
zen-welcome-start-browsing-description-1 = Kõik on valmis. { -brand-short-name }iga sirvimise alustamiseks klõpsake alloleval nupul.
zen-welcome-start-browsing = Hakkame pihta!
zen-welcome-default-search-title = Sinu vaikimisi otsingumootor
zen-welcome-default-search-description = Vali oma vaikimisi otsingumootor. Saad seda alati hiljem muuta!
zen-welcome-skip-button = Jäta vahele
zen-welcome-finished = Zen on edukalt seadistatud!



================================================
FILE: locales/et/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Tööruumid
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Uus tööruum
zen-panel-ui-folder-create = 
    .label = Uus kaust
zen-panel-ui-new-empty-split = 
    .label = Uus jaotatud vaade
zen-workspaces-panel-context-delete = 
    .label = Kustuta tööruum
    .accesskey = K
zen-workspaces-panel-change-name = 
    .label = Nimeta ümber
zen-workspaces-panel-change-icon = 
    .label = Muuda ikooni
zen-workspaces-panel-context-default-profile = 
    .label = Määra profiil
zen-workspaces-panel-unload = 
    .label = Tööruumi mälust eemaldamine
zen-workspaces-how-to-reorder-title = Kuidas vahetada tööruumide järjestust
zen-workspaces-how-to-reorder-desc = Lohista tööruumide ikoone külgriba alumises servas, et nende järjestust muuta
zen-workspaces-change-theme = 
    .label = Muuda teemat
zen-workspaces-panel-context-open = 
    .label = Ava tööruum
    .accesskey = A
zen-workspaces-panel-context-edit = 
    .label = Muuda tööruumi
    .accesskey = M
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = T
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Täiendvärvid
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Täiendvärvide kolmik
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Lähedased värvid
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Kolmkõla
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Hõljuv
zen-panel-ui-gradient-click-to-add = Klõpsa värvi lisamiseks
zen-workspace-creation-name = 
    .placeholder = Tööruumi nimi
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Muuda tööruumide järjestust
zen-workspace-creation-profile = Profiil
    .tooltiptext = Profiile kasutatakse küpsiste ning saidi andmete eraldamiseks tööruumide vahel.
zen-workspace-creation-header = Loo uus tööruum
zen-workspace-creation-label = Tööruume kasutatakse kaartide ja sessioonide organiseerimiseks.
zen-workspaces-delete-workspace-title = Delete Workspace?
zen-workspaces-delete-workspace-body = Kas oled kindel, et soovid kustutada tööruumi { $name }? Seda tegevust ei saa tagasi võtta.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/et/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Teema tumeda värviskeemi ja mõnusa galaktilise ilmega!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = Teema heleda värviskeemi ja mõnusa unenäolise ilmega!



================================================
FILE: locales/et/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Algne URL
    .accesskey = A
zen-new-web-panel-user-agent = 
    .value = Kuva see veebipaneel mobiilirežiimis
    .accesskey = m



================================================
FILE: locales/et/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Ilme
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Vaikimisi keele muutmine võib teha teid veebisaitidel kergemini jälgitavaks.
zen-vertical-tabs-layout-header = Brauseri paigutus
zen-vertical-tabs-layout-description = Vali paigutus, mis sobib sulle kõige paremini
zen-layout-single-toolbar = Ühe tööriistaribaga
zen-layout-multiple-toolbar = Mitme tööriistaribaga
zen-layout-collapsed-toolbar = Ahendatud tööriistaribaga
sync-currently-syncing-workspaces = Tööruumid
sync-engine-workspaces = 
    .label = Tööruumid
    .tooltiptext = Sünkroniseeri tööruume seadmete vahel
    .accesskey = t
zen-glance-title = Glance
zen-glance-header = Pilgu üldised sätted
zen-glance-description = Saa kiire ülevaade linkidest ilma uut kaarti avamata
zen-glance-trigger-label = Aktiveerimise viis
zen-glance-enabled = 
    .label = Luba Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Klõps
zen-glance-trigger-alt-click = 
    .label = Alt + Klõps
zen-glance-trigger-shift-click = 
    .label = Shift + Klõps
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Klõps
zen-look-and-feel-compact-view-header = Näita kompaktses vaates
zen-look-and-feel-compact-view-description = Näita ainult tööriistaribasid, mida aktiivselt kasutad!
zen-look-and-feel-compact-view-enabled = 
    .label = Luba { -brand-short-name }i kompaktne vaade
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Peida ka ülemine tööriistariba kompaktses vaates
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Lühidalt kuva tööriistariba hüpikut kui lülitutakse kaartide vahel või avatakse uus kaart kompaktses režiimis
pane-zen-tabs-title = Kaartide haldamine
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Tööruumid
zen-tabs-unloader-enabled = 
    .label = Luba kaartide mälust eemaldamine
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Kasuta kompaktsel tööriistaribal teema poolt küljendatud tausta
zen-workspace-continue-where-left-off = 
    .label = Jätka sealt, kus eelmine kord pooleli jäi
pane-zen-pinned-tab-manager-title = Püsikaardid
zen-pinned-tab-manager-header = Püsikaartide üldised sätted
zen-pinned-tab-manager-description = Halda püsikaartide täiendavat käitumist
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Brauseri käivitamisel taasta püsikaardid algselt määratud URL-ile
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Luba konteineripõhised olulised lehed
zen-pinned-tab-manager-close-shortcut-behavior-label = Kaardi sulgemise otsetee käitumine
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Lähtesta URL, eemalda mälust ja lülitu järgmisele kaardile
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Eemalda mälust ja lülitu järgmisele kaardile
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Lähtesta URL ja lülitu järgmisele kaardile
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Lülitu järgmisele kaardile
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Lähtesta URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Sulge kaart
pane-zen-workspaces-header = Tööruumid
zen-settings-workspaces-header = Tööruumide üldised sätted
zen-settings-workspaces-description = Tööruumidega saad kasutada mitut sirvimise sessiooni korraga!
zen-settings-workspaces-enabled = 
    .label = Luba tööruumid (katseline)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Peida vaikimisi konteineri indikaator kaartide ribal
zen-key-unsaved = Salvestamata otsetee! Salvetamiseks kasuta "Esc" klahvi pärast otsetee sisestamist.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = Teema sätted
zen-vertical-tabs-title = Külgriba ja kaartide paigutus
zen-vertical-tabs-header = Vertikaalsed kaardid
zen-vertical-tabs-description = Kaartide haldamine vertikaalpaigutuses
zen-vertical-tabs-show-expand-button = 
    .label = Kuva laiendamise nuppu
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Kuva uue kaardi nuppu kaartide nimekirjas
zen-vertical-tabs-newtab-top-button-up = 
    .label = Liiguta uue kaardi nupp algusesse
zen-vertical-tabs-expand-tabs-by-default = Kaardid on vaikimisi laiendatud
zen-vertical-tabs-dont-expand-tabs-by-default = Ära laienda kaarte vaikimisi
zen-vertical-tabs-expand-tabs-on-hover = Laienda kaardid kursorit peal hoides (ei tööta kompaktses režiimis)
zen-vertical-tabs-expand-tabs-header = Kuidas kaarte laiendatakse
zen-vertical-tabs-expand-tabs-description = Vali kuidas laiendatakse kaarte külgribal
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Keela kõik mods-id
zen-theme-disable-all-disabled = 
    .title = Luba kõik muudatused
zen-theme-marketplace-description = Otsi ja paigalda mods-e veebipoest.
zen-theme-marketplace-remove-button = 
    .label = Eemalda mod
zen-theme-marketplace-check-for-updates-button = 
    .label = Kontrolli uuendusi
zen-theme-marketplace-import-button = 
    .label = Impordi Mods-id
zen-theme-marketplace-export-button = 
    .label = Ekspordi Mods-id
zen-theme-marketplace-import-success = Mods-id on edukalt imporditud
zen-theme-marketplace-import-failure = Mods-ide importimisel tekkis viga
zen-theme-marketplace-export-success = Mods-id on edukalt eksporditud
zen-theme-marketplace-export-failure = Mods-ide eksportimisel tekkis viga
zen-theme-marketplace-updates-success = Mods-id on edukalt uuendatud
zen-theme-marketplace-updates-failure = Uuendusi ei leitud!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Keela mod
zen-theme-marketplace-toggle-disabled-button = 
    .title = Luba mod
zen-theme-marketplace-remove-confirmation = Oled sa kindel, et soovid eemaldada selle mod-i?
zen-theme-marketplace-close-modal = Sulge
zen-theme-marketplace-theme-header-title = 
    .title = CSS selektor: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Puudub
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Sisesta midagi...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Uuenda paigaldatud mods-e brauseri avamisel automaatselt
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Konteineri kaartide avamisel lülitu tööruumi kuhu konteiner on vaikimisi määratud
zen-theme-marketplace-link = Külasta veebipoodi
zen-dark-theme-styles-header = Tumeda teema stiilid
zen-dark-theme-styles-description = Kohanda tume teema oma maitsele
zen-dark-theme-styles-amoled = Ööteema
zen-dark-theme-styles-default = Vaikimisi tume teema
zen-dark-theme-styles-colorful = Värviline tume teema
zen-compact-mode-styles-left = Peida kaartide riba
zen-compact-mode-styles-top = Peida ülemine riba
zen-compact-mode-styles-both = Peida mõlemad
zen-urlbar-title = Zen-i asukohariba
zen-urlbar-header = Üldised asukohariba sätted
zen-urlbar-description = Kohanda asukohariba endale meelepäraseks
zen-urlbar-behavior-label = Käitumine
zen-urlbar-behavior-normal = 
    .label = Tavapärane
zen-urlbar-behavior-floating-on-type = 
    .label = Hõljuv ainult teksti sisestamisel
zen-urlbar-behavior-float = 
    .label = Alati hõljuv
pane-zen-CKS-title = Klaviatuuri otseteed
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name }i klaviatuuri otseteed
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Kohanda oma klaviatuuri otseteid
zen-settings-CKS-description = Muuda vaikimisi klaviatuuri otseteid oma eelistustele ning paranda veebisirvimise kogemust
zen-settings-CKS-disable-firefox = 
    .label = Keela { -brand-short-name }i vaikimisi klaviatuuri otseteed
zen-settings-CKS-duplicate-shortcut = 
    .label = Korduv otsetee
zen-settings-CKS-reset-shortcuts = 
    .label = Lähtesta
zenCKSOption-group-other = Varia
zenCKSOption-group-windowAndTabManagement = Akna ja kaartide haldamine
zenCKSOption-group-navigation = Navigeerimine
zenCKSOption-group-searchAndFind = Otsimine
zenCKSOption-group-pageOperations = Lehekülje toimingud
zenCKSOption-group-historyAndBookmarks = Ajalugu ja järjehoidjad
zenCKSOption-group-mediaAndDisplay = Meedia ja kuva
zenCKSOption-group-zen-compact-mode = Kompaktne režiim
zenCKSOption-group-zen-workspace = Tööruumid
zenCKSOption-group-zen-other = Muud Zeni funktsioonid
zenCKSOption-group-zen-split-view = Jaotatud vaade
zenCKSOption-group-devTools = Arendaja tööriistad
zen-key-quick-restart = Kiirtaaskävitus
zen-window-new-shortcut = Uus aken
zen-tab-new-shortcut = Uus kaart
zen-key-redo = Tee uuesti
zen-restore-last-closed-tab-shortcut = Taasta viimati suletud kaart
zen-location-open-shortcut = Ava Asukoht
zen-location-open-shortcut-alt = Ava Asukoht (alternatiivne)
zen-key-undo-close-window = Ava viimati suletud aken
zen-text-action-undo-shortcut = Võta tagasi
zen-text-action-redo-shortcut = Tee uuesti
zen-text-action-cut-shortcut = Lõika
zen-text-action-copy-shortcut = Kopeeri
zen-text-action-copy-url-shortcut = Kopeeri praegune URL
zen-text-action-copy-url-markdown-shortcut = Kopeeri praegune URL Markdown-i märgendina
zen-text-action-paste-shortcut = Aseta
zen-text-action-select-all-shortcut = Vali kõik
zen-text-action-delete-shortcut = Kustuta
zen-history-show-all-shortcut-mac = Näita kogu ajalugu (Mac)
zen-full-screen-shortcut = Lülita täisekraanirežiim sisse/välja
zen-reader-mode-toggle-shortcut-windows = Lülita lugemisvaade sisse/välja (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Lülita pilt-pildis režiim sisse/välja (alternatiivne)
zen-picture-in-picture-toggle-shortcut-mac = Lülita pilt-pildis režiim sisse/välja (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Lülita pilt-pildis režiim sisse/välja (Alternatiivne)
zen-page-source-shortcut-safari = Vaata veebilehe lähtekoodi (Safari)
zen-nav-stop-shortcut = Peata laadimine
zen-history-sidebar-shortcut = Näita ajaloo külgriba
zen-window-minimize-shortcut = Minimeeri aken
zen-help-shortcut = Ava abi
zen-preferences-shortcut = Ava sätted
zen-hide-app-shortcut = Peida rakendus
zen-hide-other-apps-shortcut = Peida teised rakendused
zen-search-focus-shortcut = Ava otsing
zen-search-focus-shortcut-alt = Ava otsing (alternatiivne)
zen-downloads-shortcut = Ava allalaadimised
zen-addons-shortcut = Ava lisad
zen-file-open-shortcut = Ava fail
zen-save-page-shortcut = Salvesta leht
zen-print-shortcut = Prindi
zen-close-shortcut-2 = Sulge kaart
zen-mute-toggle-shortcut = Lülita vaigistus sisse/välja
zen-key-delete = Kustutamise klahv
zen-key-go-back = Mine tagasi
zen-key-go-forward = Mine edasi
zen-nav-back-shortcut-alt = Navigeeri tagasi (alternatiivne)
zen-nav-fwd-shortcut-alt = Navigeeri edasi (alternatiivne)
zen-history-show-all-shortcut = Näita kogu ajalugu
zen-key-enter-full-screen = Täisekraanirežiim
zen-key-exit-full-screen = Välju täisekraanirežiimist
zen-ai-chatbot-sidebar-shortcut = Lülita AI vestlusroboti külgriba sisse/välja
zen-key-inspector-mac = Lülita inspekteerija sisse/välja (Mac)
zen-toggle-sidebar-shortcut = Lülita Firefoxi külgriba sisse/välja
zen-toggle-pin-tab-shortcut = Lülita püsikaardiks märkimine sisse/välja
zen-reader-mode-toggle-shortcut-other = Lülita lugejarežiim sisse/välja
zen-picture-in-picture-toggle-shortcut = Lülita pilt-pildis sisse/välja
zen-nav-reload-shortcut-2 = Laadi leht uuesti
zen-key-about-processes = Tegumihaldur
zen-page-source-shortcut = Vaata veebilehe lähtekoodi
zen-page-info-shortcut = Vaata veebilehe infot
zen-find-shortcut = Otsi lehelt
zen-search-find-again-shortcut = Otsi järgmist
zen-search-find-again-shortcut-prev = Otsi eelmist
zen-search-find-again-shortcut-2 = Otsi järgmist (alternatiivne)
zen-bookmark-this-page-shortcut = Lisa järjehoidjatesse
zen-bookmark-show-library-shortcut = Näita järjehoidjaid
zen-key-stop = Peata laadimine
zen-full-zoom-reduce-shortcut = Vähenda
zen-full-zoom-enlarge-shortcut = Suurenda
zen-full-zoom-reset-shortcut = Lähtesta suurendamine
zen-full-zoom-reset-shortcut-alt = Lähtesta suurendamine (Alternatiivne)
zen-full-zoom-enlarge-shortcut-alt = Suurenda (Alternatiivne)
zen-full-zoom-enlarge-shortcut-alt2 = Suurenda (Alternatiivne 2)
zen-bidi-switch-direction-shortcut = Muuda teksti suunda
zen-private-browsing-shortcut = Ava privaatne aken
zen-screenshot-shortcut = Tee ekraanipilt
zen-key-sanitize = Kustuta hiljutine ajalugu
zen-quit-app-shortcut = Sulge rakendus
zen-key-wr-capture-cmd = WR jäädvustamise käsk
zen-key-wr-toggle-capture-sequence-cmd = WR jäädvustatud järjekorra sisse/välja lülitamine
zen-nav-reload-shortcut = Laadi leht uuesti
zen-nav-reload-shortcut-skip-cache = Laadi leht uuesti (vahemäluta)
zen-close-shortcut = Sulge aken
zen-close-tab-shortcut = Sulge kaart
zen-compact-mode-shortcut-show-sidebar = Lülita hõljuv külgriba sisse/välja
zen-compact-mode-shortcut-show-toolbar = Lülita hõljuv tööriistariba sisse/välja
zen-compact-mode-shortcut-toggle = Lülita kompaktne režiim sisse/välja
zen-glance-expand = Laienda Glance
zen-workspace-shortcut-switch-1 = Lülitu tööruumi 1
zen-workspace-shortcut-switch-2 = Lülitu tööruumi 2
zen-workspace-shortcut-switch-3 = Lülitu tööruumi 3
zen-workspace-shortcut-switch-4 = Lülitu tööruumi 4
zen-workspace-shortcut-switch-5 = Lülitu tööruumi 5
zen-workspace-shortcut-switch-6 = Lülitu tööruumi 6
zen-workspace-shortcut-switch-7 = Lülitu tööruumi 7
zen-workspace-shortcut-switch-8 = Lülitu tööruumi 8
zen-workspace-shortcut-switch-9 = Lülitu tööruumi 9
zen-workspace-shortcut-switch-10 = Lülitu tööruumi 10
zen-workspace-shortcut-forward = Järgmine tööruum
zen-workspace-shortcut-backward = Eelmine tööruum
zen-sidebar-shortcut-toggle = Laienda/ahenda külgriba
zen-pinned-tab-shortcut-reset = Lähtesta püsikaart algsele URL-ile
zen-split-view-shortcut-grid = Lülita jaotatud vaate ruudustik sisse/välja
zen-split-view-shortcut-vertical = Lülita vertikaalne jaotatud vaade sisse/välja
zen-split-view-shortcut-horizontal = Lülita horisontaalne jaotatud vaade sisse/välja
zen-split-view-shortcut-unsplit = Sulge jaotatud vaade
zen-new-empty-split-view-shortcut = Uus tühi jaotatud vaade
zen-key-select-tab-1 = Lülitu kaardile 1
zen-key-select-tab-2 = Lülitu kaardile 2
zen-key-select-tab-3 = Lülitu kaardile 3
zen-key-select-tab-4 = Lülitu kaardile 4
zen-key-select-tab-5 = Lülitu kaardile 5
zen-key-select-tab-6 = Lülitu kaardile 6
zen-key-select-tab-7 = Lülitu kaardile 7
zen-key-select-tab-8 = Lülitu kaardile 8
zen-key-select-tab-last = Lülitu viimasele kaardile
zen-key-show-all-tabs = Näita kõiki kaarte
zen-key-goto-history = Ava ajalugu
zen-key-go-home = Avaleht
zen-bookmark-show-sidebar-shortcut = Kuva järjehoidjate külgriba
zen-bookmark-show-toolbar-shortcut = Kuva järjehoidjariba
zen-devtools-toggle-shortcut = Lülita arendaja tööriistad sisse/välja
zen-devtools-toggle-browser-toolbox-shortcut = Lülita brauseri tööriistakast sisse/välja
zen-devtools-toggle-browser-console-shortcut = Lülita brauseri konsool sisse/välja
zen-devtools-toggle-responsive-design-mode-shortcut = Lülita reageeriva disaini režiim sisse/välja
zen-devtools-toggle-inspector-shortcut = Lülita inspekteerija sisse/välja
zen-devtools-toggle-web-console-shortcut = Lülita veebikonsool sisse/välja
zen-devtools-toggle-js-debugger-shortcut = Lülita JavaScripti siluja sisse/välja
zen-devtools-toggle-net-monitor-shortcut = Lülita võrgu jälgija sisse/välja
zen-devtools-toggle-style-editor-shortcut = Lülita stiilide redaktor sisse/välja
zen-devtools-toggle-performance-shortcut = Lülita jõudluse sektsioon sisse/välja
zen-devtools-toggle-storage-shortcut = Lülita mälu sektsioon sisse/välja
zen-devtools-toggle-dom-shortcut = Lülita DOM sisse/välja
zen-devtools-toggle-accessibility-shortcut = Lülita ligipääsetavuse sektsioon sisse/välja
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/fa/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/fa/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = نمایهٔ کنونی
unified-extensions-description = افزونه‌های در حال استفاده عملکردهای بیشتری به { -brand-short-name } می‌دهند.
tab-context-zen-reset-pinned-tab = 
    .label = بازنشانی زبانهٔ سنجاق شده
    .accesskey = ب
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = جایگزینی URL سنجاق شده با فعلی
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Your { -brand-short-name } mods file is corrupted. They have been reset to the default theme.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    The new URL bar has been enabled, removing the need for new tab pages.<br/><br/>
    Try opening a new tab to see the new URL bar in action!
zen-disable = غیرفعال
pictureinpicture-minimize-btn = 
    .aria-label = کمینه
    .tooltip = کمینه
zen-panel-ui-gradient-generator-custom-color = رنگ دلخواه
zen-copy-current-url-confirmation = رونوشت از URL فعلی!
zen-general-cancel-label = 
    .label = لغو
zen-general-confirm = 
    .label = تایید
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL.
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!
zen-toggle-compact-mode-button = 
    .label = Compact Mode
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = یادگیری بیشتر
zen-close-label = بستن
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = جستجو...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Icons
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Settings
zen-generic-manage = Manage
zen-generic-more = More
zen-generic-next = Next
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Allowed
zen-site-data-setting-block = Blocked
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Extension
zen-site-data-security-info-secure = 
    .label = Secure
zen-site-data-security-info-not-secure = 
    .label = Not Secure
zen-site-data-manage-addons = 
    .label = Manage Extensions
zen-site-data-get-addons = 
    .label = Add Extensions
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copy URL
zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/fa/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/fa/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Tab (multiple selected tabs needed)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S
zen-split-link = 
    .label = بازکردن پیوند در نمای چندپاره‌ای
    .accesskey = S
zen-split-view-modifier-header = Split View
zen-split-view-modifier-activate-reallocation = 
    .label = Activate reallocation
zen-split-view-modifier-enabled-toast = Split view rearrange is ON.
zen-split-view-modifier-enabled-toast-description = Drag and drop the view to rearrange. Press Esc to exit.
zen-split-view-modifier-disabled-toast = Split view rearrange is OFF.



================================================
FILE: locales/fa/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabs on the right
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Compact mode
zen-toolbar-context-compact-mode-enable = 
    .label = Enable compact mode
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Hide sidebar
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Hide toolbar
zen-toolbar-context-compact-mode-hide-both = 
    .label = Hide both
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = New Folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Expand Sidebar
sidebar-zen-create-new = 
    .label = Create New...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Unload and switch to tab
           *[other] Unload { $tabCount } tabs and switch to the first
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset and pin tab
           *[other] Reset and pin { $tabCount } tabs
        }
tab-reset-pin-label = Back to pinned url



================================================
FILE: locales/fa/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Mute Web Panel
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Unmute Web Panel
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = غیرفعال کردن عاملِ‌کاربر(UserAgent) موبایل
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = فعال کردن عاملِ‌کاربر(UserAgent) موبایل
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Unload Web Panel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Delete Web Panel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Open in New Tab
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Open in Container Tab
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Add to Web Panels
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/fa/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Welcome to
zen-welcome-title-line2 = a calmer internet
zen-welcome-import-title = A Fresh Start, Same Bookmarks
zen-welcome-import-description-1 = Your bookmarks, history, and passwords are like a trail of breadcrumbs through the internet—don’t leave them behind!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off..
zen-welcome-import-button = Import now
zen-welcome-set-default-browser = Set { -brand-short-name } as your default browser
zen-welcome-dont-set-default-browser = DON’T set { -brand-short-name } as your default browser
zen-welcome-initial-essentials-title = Your Key Tabs, Always Within Reach
zen-welcome-initial-essentials-description-1 = Keep your most important tabs easily accessible and always at hand, no matter how many you open.
zen-welcome-initial-essentials-description-2 = Essential tabs are always visible, no matter what workspace you are in.
zen-welcome-workspace-colors-title = Your Workspaces, Your Colors
zen-welcome-workspace-colors-description = Personalize your browser by giving each workspace its own unique color identity.
zen-welcome-start-browsing-title =
    All set?<br/>
    Let’s get rolling!
zen-welcome-start-browsing-description-1 = You’re all set up and ready to go. Click the button below to start browsing with { -brand-short-name }.
zen-welcome-start-browsing = Dive in!
zen-welcome-default-search-title = Your Default Search Engine
zen-welcome-default-search-description = Choose your default search engine. You can always change it later!
zen-welcome-skip-button = Skip
zen-welcome-finished = Your Zen has been set up correctly!



================================================
FILE: locales/fa/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = دیگر فضاهای کاری
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Create Space
zen-panel-ui-folder-create = 
    .label = Create Folder
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = حذف فضای کاری
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Change Name
zen-workspaces-panel-change-icon = 
    .label = Change Icon
zen-workspaces-panel-context-default-profile = 
    .label = Set Profile
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them
zen-workspaces-change-theme = 
    .label = Edit Theme
zen-workspaces-panel-context-open = 
    .label = Open Workspace
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = ویرایش فضای کاری
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a color
zen-workspace-creation-name = 
    .placeholder = Space Name
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Reorder Spaces
zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.
zen-workspaces-delete-workspace-title = Delete Workspace?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/fa/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = A theme with a dark color scheme and a nice galaxy touch!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = A theme with a light color scheme and a nice dream-y touch!



================================================
FILE: locales/fa/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Initial URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Display this web panel in mobile mode
    .accesskey = m



================================================
FILE: locales/fa/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Look and Feel
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Changing the default language could make it easier for Websites to track you.
zen-vertical-tabs-layout-header = Browser Layout
zen-vertical-tabs-layout-description = Choose the layout that suits you best
zen-layout-single-toolbar = Single toolbar
zen-layout-multiple-toolbar = بخش (نوار) ابزار کوچک شده
zen-layout-collapsed-toolbar = Collapsed toolbar
sync-currently-syncing-workspaces = دیگر فضاهای کاری
sync-engine-workspaces = 
    .label = دیگر فضاهای کاری
    .tooltiptext = Sync your workspaces across devices
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = General settings for glance
zen-glance-description = Get a quick overview of your links without opening them in a new tab
zen-glance-trigger-label = Trigger method
zen-glance-enabled = 
    .label = Enable Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + Click
zen-glance-trigger-shift-click = 
    .label = Shift + Click
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = نمایش در حالت فشرده
zen-look-and-feel-compact-view-description = Only show the toolbars you use!
zen-look-and-feel-compact-view-enabled = 
    .label = فعال‌کردن حالت فشردهٔ { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = پنهان‌کردن نوار ابزار بالا در حالت فشرده
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Briefly make the toolbar popup when switching or opening new tabs in compact mode
pane-zen-tabs-title = Tab Management
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = فضاهای کاری
zen-tabs-unloader-enabled = 
    .label = Enable Tab Unloader
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Use themed background for compact toolbar
zen-workspace-continue-where-left-off = 
    .label = Continue where you left off
pane-zen-pinned-tab-manager-title = Pinned Tabs
zen-pinned-tab-manager-header = General settings for pinned tabs
zen-pinned-tab-manager-description = Manage additional behavior of pinned tabs
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restore pinned tabs to their originally pinned URL on startup
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Enable container-specific essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Close Tab Shortcut Behavior
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Reset URL, unload and switch to next tab
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Unload and switch to next tab
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Reset URL and switch to next tab
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Switch to next tab
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Reset URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Close tab
pane-zen-workspaces-header = فضاهای کاری
zen-settings-workspaces-header = تنظیمات اصلی برای فضاهای کاری
zen-settings-workspaces-description = با فضاهای کاری، شما می‌توانید چندین نشست را در یک نشست تجربه کنید!
zen-settings-workspaces-enabled = 
    .label = فعال‌سازی فضاهای کاری (آزمایشی)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Hide the default container indicator in the tab bar
zen-key-unsaved = Unsaved shortcut! Please save it by clicking the "Escape" key after retyping it.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = تنظیمات پوسته
zen-vertical-tabs-title = نوارکناری و چینش برگه‌ها
zen-vertical-tabs-header = برگه‌های عمودی
zen-vertical-tabs-description = برگه‌هایتان را در یک چینش عمودی مدیریت کنید
zen-vertical-tabs-show-expand-button = 
    .label = نمایش دکمه گسترش
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Show New Tab Button on Tab List
zen-vertical-tabs-newtab-top-button-up = 
    .label = Move the new tab button to the top
zen-vertical-tabs-expand-tabs-by-default = گسترش برگه‌ها به‌صورت پیش‌فرض
zen-vertical-tabs-dont-expand-tabs-by-default = گسترش‌ندادن برگه‌ها را به‌صورت پیش‌فرض
zen-vertical-tabs-expand-tabs-on-hover = Expand Tabs on Hover (Won't work on compact mode)
zen-vertical-tabs-expand-tabs-header = How to expand tabs
zen-vertical-tabs-expand-tabs-description = Choose how to expand tabs in the sidebar
zen-theme-marketplace-header = افزودنی‌های ذن
zen-theme-disable-all-enabled = 
    .title = Disable all themes
zen-theme-disable-all-disabled = 
    .title = Enable all themes
zen-theme-marketplace-description = یافتن و نصب‌کردن پوسته‌ها از فروشگاه.
zen-theme-marketplace-remove-button = 
    .label = حذف پوسته
zen-theme-marketplace-check-for-updates-button = 
    .label = بررسی برای بروزرسانی
zen-theme-marketplace-import-button = 
    .label = Import mods
zen-theme-marketplace-export-button = 
    .label = Export Mods
zen-theme-marketplace-import-success = Mods imported successfully
zen-theme-marketplace-import-failure = There was an error importing the mods
zen-theme-marketplace-export-success = Mods exported successfully
zen-theme-marketplace-export-failure = There was an error exporting the mods
zen-theme-marketplace-updates-success = پوسته با موفقیت بروز شد
zen-theme-marketplace-updates-failure = Couldn't find any updates!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Disable Theme
zen-theme-marketplace-toggle-disabled-button = 
    .title = Enable Theme
zen-theme-marketplace-remove-confirmation = Are you sure you want to remove this mod?
zen-theme-marketplace-close-modal = Close
zen-theme-marketplace-theme-header-title = 
    .title = CSS Selector: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = None
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Type something...
pane-zen-marketplace-title = افزودنی‌های ذن
zen-themes-auto-update = 
    .label = Automatically update installed mods on startup
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Switch to workspace where container is set as default when opening container tabs
zen-theme-marketplace-link = Visit Store
zen-dark-theme-styles-header = Dark Theme Styles
zen-dark-theme-styles-description = Customize the dark theme to your liking
zen-dark-theme-styles-amoled = Night Theme
zen-dark-theme-styles-default = Default Dark Theme
zen-dark-theme-styles-colorful = Colorful Dark Theme
zen-compact-mode-styles-left = Hide Tab bar
zen-compact-mode-styles-top = Hide Top bar
zen-compact-mode-styles-both = Hide Both
zen-urlbar-title = Zen URL Bar
zen-urlbar-header = General settings for the URL bar
zen-urlbar-description = Customize the URL bar to your liking
zen-urlbar-behavior-label = Behavior
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Floating only when typing
zen-urlbar-behavior-float = 
    .label = Always floating
pane-zen-CKS-title = Keyboard Shortcuts
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Keyboard Shortcuts
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Customize your keyboard shortcuts
zen-settings-CKS-description = Change the default keyboard shortcuts to your liking and improve your browsing experience
zen-settings-CKS-disable-firefox = 
    .label = Disable { -brand-short-name }'s default keyboard shortcuts
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicate Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = Reset to Default
zenCKSOption-group-other = Other
zenCKSOption-group-windowAndTabManagement = Window & Tab Management
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Search & Find
zenCKSOption-group-pageOperations = Page Operations
zenCKSOption-group-historyAndBookmarks = History & Bookmarks
zenCKSOption-group-mediaAndDisplay = Media & Display
zenCKSOption-group-zen-compact-mode = Compact Mode
zenCKSOption-group-zen-workspace = دیگر فضاهای کاری
zenCKSOption-group-zen-other = Other Zen Features
zenCKSOption-group-zen-split-view = Split View
zenCKSOption-group-devTools = Developer Tools
zen-key-quick-restart = Quick Restart
zen-window-new-shortcut = New Window
zen-tab-new-shortcut = New Tab
zen-key-redo = Redo
zen-restore-last-closed-tab-shortcut = Restore Last Closed Tab
zen-location-open-shortcut = Open Location
zen-location-open-shortcut-alt = Open Location (Alt)
zen-key-undo-close-window = Undo Close Window
zen-text-action-undo-shortcut = Undo
zen-text-action-redo-shortcut = Redo
zen-text-action-cut-shortcut = Cut
zen-text-action-copy-shortcut = Copy
zen-text-action-copy-url-shortcut = Copy current URL
zen-text-action-copy-url-markdown-shortcut = Copy current URL as Markdown
zen-text-action-paste-shortcut = Paste
zen-text-action-select-all-shortcut = Select All
zen-text-action-delete-shortcut = Delete
zen-history-show-all-shortcut-mac = Show All History (Mac)
zen-full-screen-shortcut = Toggle Full Screen
zen-reader-mode-toggle-shortcut-windows = Toggle Reader Mode (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Toggle Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Toggle Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Toggle Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = View Page Source (Safari)
zen-nav-stop-shortcut = Stop Loading
zen-history-sidebar-shortcut = Show History Sidebar
zen-window-minimize-shortcut = Minimize Window
zen-help-shortcut = Open Help
zen-preferences-shortcut = Open Preferences
zen-hide-app-shortcut = Hide Application
zen-hide-other-apps-shortcut = Hide Other Applications
zen-search-focus-shortcut = Focus Search
zen-search-focus-shortcut-alt = Focus Search (Alt)
zen-downloads-shortcut = Open Downloads
zen-addons-shortcut = Open Add-ons
zen-file-open-shortcut = Open File
zen-save-page-shortcut = Save Page
zen-print-shortcut = Print Page
zen-close-shortcut-2 = Close Tab
zen-mute-toggle-shortcut = Toggle Mute
zen-key-delete = Delete Key
zen-key-go-back = Go Back
zen-key-go-forward = Go Forward
zen-nav-back-shortcut-alt = Navigate Back (Alt)
zen-nav-fwd-shortcut-alt = Navigate Forward (Alt)
zen-history-show-all-shortcut = Show All History
zen-key-enter-full-screen = Enter Full Screen
zen-key-exit-full-screen = Exit Full Screen
zen-ai-chatbot-sidebar-shortcut = Toggle AI Chatbot Sidebar
zen-key-inspector-mac = Toggle Inspector (Mac)
zen-toggle-sidebar-shortcut = Toggle Firefox Sidebar
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = Toggle Reader Mode
zen-picture-in-picture-toggle-shortcut = Toggle Picture-in-Picture
zen-nav-reload-shortcut-2 = Reload Page
zen-key-about-processes = About Processes
zen-page-source-shortcut = View Page Source
zen-page-info-shortcut = View Page Info
zen-find-shortcut = Find on Page
zen-search-find-again-shortcut = Find Again
zen-search-find-again-shortcut-prev = Find Previous
zen-search-find-again-shortcut-2 = Find Again (Alt)
zen-bookmark-this-page-shortcut = Bookmark This Page
zen-bookmark-show-library-shortcut = Show Bookmarks Library
zen-key-stop = Stop Loading
zen-full-zoom-reduce-shortcut = Zoom Out
zen-full-zoom-enlarge-shortcut = Zoom In
zen-full-zoom-reset-shortcut = Reset Zoom
zen-full-zoom-reset-shortcut-alt = Reset Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom In (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom In (Alt 2)
zen-bidi-switch-direction-shortcut = Switch Text Direction
zen-private-browsing-shortcut = Private Browsing
zen-screenshot-shortcut = Take Screenshot
zen-key-sanitize = Clear Browsing Data
zen-quit-app-shortcut = Quit Application
zen-key-wr-capture-cmd = WR Capture Command
zen-key-wr-toggle-capture-sequence-cmd = Toggle WR Capture Sequence
zen-nav-reload-shortcut = Reload Page
zen-nav-reload-shortcut-skip-cache = Reload Page (Skip Cache)
zen-close-shortcut = Close Window
zen-close-tab-shortcut = Close Tab
zen-compact-mode-shortcut-show-sidebar = Toggle Floating Sidebar
zen-compact-mode-shortcut-show-toolbar = Toggle Floating Toolbar
zen-compact-mode-shortcut-toggle = Toggle Compact Mode
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = Switch to Workspace 1
zen-workspace-shortcut-switch-2 = Switch to Workspace 2
zen-workspace-shortcut-switch-3 = Switch to Workspace 3
zen-workspace-shortcut-switch-4 = Switch to Workspace 4
zen-workspace-shortcut-switch-5 = Switch to Workspace 5
zen-workspace-shortcut-switch-6 = Switch to Workspace 6
zen-workspace-shortcut-switch-7 = Switch to Workspace 7
zen-workspace-shortcut-switch-8 = Switch to Workspace 8
zen-workspace-shortcut-switch-9 = Switch to Workspace 9
zen-workspace-shortcut-switch-10 = Switch to Workspace 10
zen-workspace-shortcut-forward = Forward Workspace
zen-workspace-shortcut-backward = Backward Workspace
zen-sidebar-shortcut-toggle = Toggle Sidebar's Width
zen-pinned-tab-shortcut-reset = Reset Pinned Tab to Pinned URL
zen-split-view-shortcut-grid = Toggle Split View Grid
zen-split-view-shortcut-vertical = Toggle Split View Vertical
zen-split-view-shortcut-horizontal = Toggle Split View Horizontal
zen-split-view-shortcut-unsplit = Close Split View
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Select tab #1
zen-key-select-tab-2 = Select tab #2
zen-key-select-tab-3 = Select tab #3
zen-key-select-tab-4 = Select tab #4
zen-key-select-tab-5 = Select tab #5
zen-key-select-tab-6 = Select tab #6
zen-key-select-tab-7 = Select tab #7
zen-key-select-tab-8 = Select tab #8
zen-key-select-tab-last = Select last tab
zen-key-show-all-tabs = Show all tabs
zen-key-goto-history = Go to history
zen-key-go-home = Go Home
zen-bookmark-show-sidebar-shortcut = Show Bookmarks Sidebar
zen-bookmark-show-toolbar-shortcut = Show Bookmarks Toolbar
zen-devtools-toggle-shortcut = Toggle DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Toggle Browser Toolbox
zen-devtools-toggle-browser-console-shortcut = Toggle Browser Console
zen-devtools-toggle-responsive-design-mode-shortcut = Toggle Responsive Design Mode
zen-devtools-toggle-inspector-shortcut = Toggle Inspector
zen-devtools-toggle-web-console-shortcut = Toggle Web Console
zen-devtools-toggle-js-debugger-shortcut = Toggle JavaScript Debugger
zen-devtools-toggle-net-monitor-shortcut = Toggle Network Monitor
zen-devtools-toggle-style-editor-shortcut = Toggle Style Editor
zen-devtools-toggle-performance-shortcut = Toggle Performance
zen-devtools-toggle-storage-shortcut = Toggle Storage
zen-devtools-toggle-dom-shortcut = Toggle DOM
zen-devtools-toggle-accessibility-shortcut = Toggle Accessibility
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/fi/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Etsi { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Nimeä kansio uudelleen
zen-folders-panel-unpack-folder = 
    .label = Pura Kansio
zen-folders-new-subfolder = 
    .label = Uusi Alikansio
zen-folders-panel-delete-folder = 
    .label = Poista kansio
zen-folders-panel-convert-folder-to-space = 
    .label = Muunna kansio työtilaksi
zen-folders-panel-change-folder-space = 
    .label = Muuta Työtilaa...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Poista käytöstä aktiivinen kansio
zen-folders-unload-folder = 
    .label = Tyhjennä Kaikki Välilehdet
zen-folders-search-no-results = Ei hakua vastaavia välilehtiä 🤔



================================================
FILE: locales/fi/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = nykyinen profiili
unified-extensions-description = Laajennuksia käytetään tuomaan enemmän ylimääräisiä toimintoja { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Nollaa Kiinnitetty Välilehti
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Lisää olennaisiin
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } täytetty paikka
tab-context-zen-remove-essential = 
    .label = Poista olennaisista
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Korvaa kiinnitetty URL-osoite nykyisellä
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = { -brand-short-name } modejasi tiedosto on vioittunut. Ne on palautettu oletusteemaan.
zen-shortcuts-corrupted = { -brand-short-name } Oikotietä sisältävä tiedosto on korruptoitunut. Ne on palautettu oletus oikoteihin.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Uusi URL-palkki on otettu käyttöön, uusia välilehtisivuja ei enää tarvita.<br/><br/>
    Kokeile avata uusi välilehti nähdäksesi uuden URL-palkin toiminnassa!
zen-disable = Poista käytöstä
pictureinpicture-minimize-btn = 
    .aria-label = Minimoi
    .tooltip = Minimoi
zen-panel-ui-gradient-generator-custom-color = Muokattu Väri
zen-copy-current-url-confirmation = Nykyinen URL-osoite kopioitu!
zen-general-cancel-label = 
    .label = Peruuta
zen-general-confirm = 
    .label = Vahvista
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL.
zen-tabs-renamed = Välilehti on nimetty uudelleen!
zen-background-tab-opened-toast = Uusi taustavälilehti avattu!
zen-workspace-renamed-toast = Työtila on nimetty uudelleen!
zen-toggle-compact-mode-button = 
    .label = Kompakti Tila
    .tooltiptext = Ota käyttöön Kompakti tila

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Lue Lisää
zen-close-label = Sulje
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Hae...
zen-icons-picker-emoji = 
    .label = Emojit
zen-icons-picker-svg = 
    .label = Kuvakkeet
urlbar-search-mode-zen_actions = Toiminnot
zen-site-data-settings = Asetukset
zen-generic-manage = Hallitse
zen-generic-more = Lisää
zen-generic-next = Seuraava
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Sallittu
zen-site-data-setting-block = Estetty
zen-site-data-protections-enabled = Käytössä
zen-site-data-protections-disabled = Pois käytöstä
zen-site-data-setting-cross-site = Sivuston välinen eväste
zen-site-data-security-info-extension = 
    .label = Laajennus
zen-site-data-security-info-secure = 
    .label = Turvallinen
zen-site-data-security-info-not-secure = 
    .label = Ei turvallinen
zen-site-data-manage-addons = 
    .label = Hallita Laajennuksia
zen-site-data-get-addons = 
    .label = Lisää Laajennuksia
zen-site-data-site-settings = 
    .label = Kaikki Sivuston Asetukset
zen-site-data-header-share = 
    .tooltiptext = Jaa Tämä Sivu
zen-site-data-header-reader-mode = 
    .tooltiptext = Siirry lukutilaan
zen-site-data-header-screenshot = 
    .tooltiptext = Ota kuvakaappaus
zen-site-data-header-bookmark = 
    .tooltiptext = Lisää Tämä Sivu Kirjanmerkkeihin
zen-urlbar-copy-url-button = 
    .tooltiptext = Kopioi URL
zen-site-data-setting-site-protection = Seuranta Suojaus

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Uusi koti lisäosille, käyttöoikeuksille ja paljon muuta
zen-site-data-panel-feature-callout-subtitle = Klikkaa kuvaketta hallitaksesi sivuston asetuksia, tarkastella tietoturvatietoja, käyttää laajennuksia ja suorittaa yhteisiä toimintoja.
zen-open-link-in-glance = 
    .label = Avaa linkki vilkaisussa
    .accesskey = G
zen-sidebar-notification-updated-heading = Päivitys valmis!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Mitä uutta { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Katso Julkaisutiedot
zen-sidebar-notification-restart-safe-mode-label = Jotain rikki?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Käynnistä uudelleen vianmääritystilassa
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/fi/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/fi/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Välilehti (tarvitaan useita valittuja välilehtiä)
           *[other] Split { $tabCount } Välilehdet
        }
    .accesskey = S
zen-split-link = 
    .label = Jaa linkki uuteen välilehteen
    .accesskey = S
zen-split-view-modifier-header = Jaettu Näkymä
zen-split-view-modifier-activate-reallocation = 
    .label = Aktivoi uudelleenkohdentaminen
zen-split-view-modifier-enabled-toast = Jaettu näkymän uudelleenjärjestely on päällä.
zen-split-view-modifier-enabled-toast-description = Vedä ja pudota näkymä järjestääksesi näkymän uudelleen. Poistu painamalla Esc
zen-split-view-modifier-disabled-toast = Split näkymän uudelleenjärjestely on OFF.



================================================
FILE: locales/fi/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Välilehdet oikealla puolella
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Kompakti tila
zen-toolbar-context-compact-mode-enable = 
    .label = Ota kompakti tila käyttöön
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Piilota sivupalkki
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Piilota työkalupalkki
zen-toolbar-context-compact-mode-hide-both = 
    .label = Piilota molemmat
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Uusi kansio
    .accesskey = N
sidebar-zen-expand = 
    .label = Laajenna sivupalkkia
sidebar-zen-create-new = 
    .label = Luo uusi...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Pura ja vaihda välilehteen
           *[other] Pura { $tabCount } välilehdet ja vaihda ensimmäiseen
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Nollaa ja kiinnitä välilehti
           *[other] Nollaa ja kiinnitä { $tabCount } välilehdet
        }
tab-reset-pin-label = Takaisin kiinnitettyyn URL-osoitteeseen



================================================
FILE: locales/fi/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Mykistä Web-paneeli
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Poista Mykistys Web-paneelista
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Poista Mobiili-Käyttäjäagentti Käytöstä
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Ota Mobiili-Käyttäjäagentti Käyttöön
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Poista Web-paneeli
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Poista Web-paneeli
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Avaa uudessa välilehdessä
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Avaa konttien välilehdessä
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Lisää Web-paneeleihin
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/fi/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Tervetuloa
zen-welcome-title-line2 = rauhellisempaan internettiin
zen-welcome-import-title = Tuore Aloitus, Samat Kirjanmerkit
zen-welcome-import-description-1 = Kirjanmerkit, historia ja salasanat ovat kuin polku leivänmurteita Internetin kautta - älä jätä niitä taakse!
zen-welcome-import-description-2 = Tuo ne helposti toisesta selaimesta ja jatka eteenpäin siitä, mihin jäit.
zen-welcome-import-button = Tuo nyt
zen-welcome-set-default-browser = Aseta { -brand-short-name } oletusselaimeksi
zen-welcome-dont-set-default-browser = ÄLÄ asettanut { -brand-short-name } oletusselaimeksi
zen-welcome-initial-essentials-title = Tärkeimmät Välilehtesi, Aina Saavutuksen Sisällä
zen-welcome-initial-essentials-description-1 = Pidä tärkeimmät välilehdet helposti saatavilla riippumatta siitä, kuinka monta olet avannut.
zen-welcome-initial-essentials-description-2 = Olennaiset välilehdet ovat aina näkyvissä, riippumatta siitä, missä työtilassa olet.
zen-welcome-workspace-colors-title = Sinun Työtilasi, Sinun Värisi
zen-welcome-workspace-colors-description = Mukauta selainta antamalla jokaiselle työtilalle oma väri-identiteetti.
zen-welcome-start-browsing-title =
    Kaikki asetettu?<br/>
    Aletaan toimiin!
zen-welcome-start-browsing-description-1 = Kaikki on asetettu ja olet valmis menemään. Napsauta alla olevaa painiketta aloittaaksesi selailun { -brand-short-name } -sovelluksella.
zen-welcome-start-browsing = Sukella sisään!
zen-welcome-default-search-title = Sinun Oletushakukone
zen-welcome-default-search-description = Valitse oletushakukone. Voit aina muuttaa sitä myöhemmin!
zen-welcome-skip-button = Ohita
zen-welcome-finished = Zen on määritetty oikein!



================================================
FILE: locales/fi/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Työtilat
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Luo työtila
zen-panel-ui-folder-create = 
    .label = Luo kansio
zen-panel-ui-new-empty-split = 
    .label = Uusi Jako
zen-workspaces-panel-context-delete = 
    .label = Poista Työtila
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Vaihda nimi
zen-workspaces-panel-change-icon = 
    .label = Vaihda kuvake
zen-workspaces-panel-context-default-profile = 
    .label = Aseta Profiili
zen-workspaces-panel-unload = 
    .label = Poista Työtila
zen-workspaces-how-to-reorder-title = Kuinka järjestää työtiloja
zen-workspaces-how-to-reorder-desc = Vedä työtilan kuvakkeet sivupalkin alareunaan järjestääksesi ne uudelleen
zen-workspaces-change-theme = 
    .label = Muokkaa teemaa
zen-workspaces-panel-context-open = 
    .label = Avaa Työtila
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Muokkaa Työtilaa
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Täydentävä
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Jaa osiin
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analoginen
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadiikki
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Kelluva
zen-panel-ui-gradient-click-to-add = Klikkaa lisätäksesi väri
zen-workspace-creation-name = 
    .placeholder = Työtilan nimi
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Järjestä Työtilat Uudelleen
zen-workspace-creation-profile = Profiili
    .tooltiptext = Profiileja käytetään erottamaan evästeet ja sivustontiedot tiloihin.
zen-workspace-creation-header = Luo työtila
zen-workspace-creation-label = Työtiloja käytetään järjestämään sinun välilehtiä ja istuntoja.
zen-workspaces-delete-workspace-title = Poista Työtila?
zen-workspaces-delete-workspace-body = Oletko varma, että haluat poistaa { $name }? Tätä toimintoa ei voi peruuttaa.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Välilehdet suljettu! Peruuta toiminto käyttämällä <span>{ $shortcut }</span>.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Tyhjennä
    .tooltiptext = Sulje kaikki kiinnittämättömät välilehdet
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/fi/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Teemana tumma väriteema ja mukava galaksi kosketus!
extension-firefox-compact-dream-name = Zenin Unelma
extension-firefox-compact-dream-description = Teema vaalealla väriteemalla ja mukava unelmointi-y kosketus!



================================================
FILE: locales/fi/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Alkuperäinen URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Näytä tämä web-paneeli mobiilitilassa
    .accesskey = m



================================================
FILE: locales/fi/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Katso ja tunne
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Muuttaminen oletuskieli voisi helpottaa Websites seurata sinua.
zen-vertical-tabs-layout-header = Selaimen asettelu
zen-vertical-tabs-layout-description = Valitse asettelu, joka sopii sinulle parhaiten
zen-layout-single-toolbar = Single toolbar
zen-layout-multiple-toolbar = Multiple toolbars
zen-layout-collapsed-toolbar = Collapsed toolbar
sync-currently-syncing-workspaces = Työtilat
sync-engine-workspaces = 
    .label = Työtilat
    .tooltiptext = Synkronoi työtilat eri laitteiden välillä
    .accesskey = W
zen-glance-title = Vilkaisu
zen-glance-header = Yleiset asetukset vilkaisulle
zen-glance-description = Hanki nopea yleiskatsaus linkeistäsi avaamatta niitä uudessa välilehdessä
zen-glance-trigger-label = Käynnistimen menetelmä
zen-glance-enabled = 
    .label = Ota käyttöön Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + klikkaus
zen-glance-trigger-alt-click = 
    .label = Alt + Klikkaa
zen-glance-trigger-shift-click = 
    .label = Shift + klikkaa
zen-glance-trigger-meta-click = 
    .label = Meta (komento) + klikkaus
zen-look-and-feel-compact-view-header = Näytä kompaktissa näkymätilassa
zen-look-and-feel-compact-view-description = Näytä vain käyttämäsi työkalupalkit!
zen-look-and-feel-compact-view-enabled = 
    .label = Ota käyttöön { -brand-short-name }kompakti tila
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Piilota työkalupalkki niin myös kompaktissa tilassa
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Tee työkalurivin ponnahdusikkuna lyhyesti, kun vaihdat tai avaat uusia välilehtiä kompaktitilassa
pane-zen-tabs-title = Välilehtien Hallinta
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Työtilat
zen-tabs-unloader-enabled = 
    .label = Ota Käyttöön välilehden purkaminen
zen-tabs-close-on-back-with-no-history = 
    .label = Sulje välilehti ja vaihda sen omistajavälilehteen (tai viimeksi käytettyyn välilehteen) kun palataan ilman historiaa
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab kiertää vain keskeisissä tai Työtilojen välilehdissä
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ohita odottavat välilehdet Ctrl+Tab kanssa
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab selaa välilehtiä käyttöjärjestyksessä alkaen viimeisimmästä
zen-look-and-feel-compact-toolbar-themed = 
    .label = Käytä teemoitettua taustaa kompaktissa työkalupalkissa
zen-workspace-continue-where-left-off = 
    .label = Jatka siitä, mihin jäit
pane-zen-pinned-tab-manager-title = Kiinnitetyt Välilehdet
zen-pinned-tab-manager-header = Yleiset asetukset kiinnitettäville välilehteille
zen-pinned-tab-manager-description = Hallitse lisäkäyttäytymistä kiinnitettyjen välilehtien osalta
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Palauta kiinnitetyt välilehdet niiden alkuperäiseen URL osoitteeseen käynnistyksessä
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Ota käyttöön konttikohtaiset olennaiset
zen-pinned-tab-manager-close-shortcut-behavior-label = Sulje Pikakuvakkeen Käyttäytyminen
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Nollaa URL, pura ja vaihda seuraavaan välilehteen
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Pura ja vaihda seuraavaan välilehteen
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Nollaa URL ja vaihda seuraavaan välilehteen
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Siirry seuraavaan välilehteen
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Resetoi URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Sulje välilehti
pane-zen-workspaces-header = Työtilat
zen-settings-workspaces-header = Työtilojen yleiset asetukset
zen-settings-workspaces-description = Työtiloilla voi olla kerralla useita selaustilaisuuksia!
zen-settings-workspaces-enabled = 
    .label = Ota Käyttöön Työtilat (Kokeellinen)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Piilota säiliön oletusmerkkivalo välilehdessä - palkki
zen-key-unsaved = Tallentamaton pikakuvake! Ole hyvä ja turvaa se painamalla "Escape" -näppäintä kirjoittamisen jälkeen.
zen-key-conflict = Ristiriidat { $group } -> { $shortcut }
pane-zen-theme-title = Teeman Asetukset
zen-vertical-tabs-title = Sivupalkin ja välilehtien asettelu
zen-vertical-tabs-header = Pystysuorat Välilehdet
zen-vertical-tabs-description = Hallitse välilehteäsi pystysuoraan asetteluun
zen-vertical-tabs-show-expand-button = 
    .label = Näytä Laajenna Painike
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Näytä uusi välilehti painike välilehti listassa
zen-vertical-tabs-newtab-top-button-up = 
    .label = Siirrä uuden välilehden painike ylös
zen-vertical-tabs-expand-tabs-by-default = Laajenna välilehdet oletuksena
zen-vertical-tabs-dont-expand-tabs-by-default = Älä laajenna välilehtiä oletuksena
zen-vertical-tabs-expand-tabs-on-hover = Laajenna välilehdet leijailemalla (Ei toimi kompaktitilassa)
zen-vertical-tabs-expand-tabs-header = Kuinka laajentaa välilehdet
zen-vertical-tabs-expand-tabs-description = Valitse, miten voit laajentaa välilehtiä sivupalkissa
zen-theme-marketplace-header = Zen modit
zen-theme-disable-all-enabled = 
    .title = Poista kaikki teemat käytöstä
zen-theme-disable-all-disabled = 
    .title = Ota käyttöön kaikki teemat
zen-theme-marketplace-description = Etsi ja asenna teemoja kaupasta.
zen-theme-marketplace-remove-button = 
    .label = Poista Teema
zen-theme-marketplace-check-for-updates-button = 
    .label = Tarkista päivitykset
zen-theme-marketplace-import-button = 
    .label = Tuo modeja
zen-theme-marketplace-export-button = 
    .label = Vie Modit
zen-theme-marketplace-import-success = Modit tuotu onnistuneesti
zen-theme-marketplace-import-failure = Modeja tuodessa tapahtui virhe
zen-theme-marketplace-export-success = Modit viety onnistuneesti
zen-theme-marketplace-export-failure = Modien viennissä tapahtui virhe
zen-theme-marketplace-updates-success = Teema päivitetty onnistuneesti
zen-theme-marketplace-updates-failure = Päivityksiä ei löytynt!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Poista Teema Käytöstä
zen-theme-marketplace-toggle-disabled-button = 
    .title = Ota Teema Käyttöön
zen-theme-marketplace-remove-confirmation = Oletko varma, että haluat poistaa tämän tilan?
zen-theme-marketplace-close-modal = Sulje
zen-theme-marketplace-theme-header-title = 
    .title = CSS Valitin: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Ei Mitään
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Kirjoita jotain...
pane-zen-marketplace-title = Zen modit
zen-themes-auto-update = 
    .label = Päivitä asennetut modit automaattisesti käynnistyksessä
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Vaihda työtilaan, jossa säiliö on asetettu oletusarvoiseksi avattaessa säiliön välilehtiä
zen-theme-marketplace-link = Vieraile Kaupassa
zen-dark-theme-styles-header = Tumma Teeman Tyylit
zen-dark-theme-styles-description = Mukauta tumma teema mieleesi
zen-dark-theme-styles-amoled = Yön Teema
zen-dark-theme-styles-default = Tumman Oletusteema
zen-dark-theme-styles-colorful = Värikäs Tumma Teema
zen-compact-mode-styles-left = Piilota välilehti
zen-compact-mode-styles-top = Piilota yläpalkki
zen-compact-mode-styles-both = Piilota Molemmat
zen-urlbar-title = Zen URL-palkki
zen-urlbar-header = URL palkin yleiset asetukset
zen-urlbar-description = Muokkaa URL-palkkia sinun mielesi mukaan
zen-urlbar-behavior-label = Toiminnot
zen-urlbar-behavior-normal = 
    .label = Normaali
zen-urlbar-behavior-floating-on-type = 
    .label = Kelluva vain kirjoittaessasi
zen-urlbar-behavior-float = 
    .label = Aina kelluva
pane-zen-CKS-title = Näppäimistön Pikanäppäimet
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Näppäimistön Pikakuvakkeet
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Muokkaa näppäimistön pikakuvakkeita
zen-settings-CKS-description = Muuta oletus näppäimistön pikakuvakkeet mieltymykseesi ja paranna selauskokemustasi
zen-settings-CKS-disable-firefox = 
    .label = Poista { -brand-short-name }oletusnäppäimistön pikakuvakkeet käytöstä
zen-settings-CKS-duplicate-shortcut = 
    .label = Monista pikakuvake
zen-settings-CKS-reset-shortcuts = 
    .label = Palauta oletukset
zenCKSOption-group-other = Muu
zenCKSOption-group-windowAndTabManagement = Ikkunan & Välilehden Hallinta
zenCKSOption-group-navigation = Navigaatio
zenCKSOption-group-searchAndFind = Etsi & Löydä
zenCKSOption-group-pageOperations = Sivun Toiminnot
zenCKSOption-group-historyAndBookmarks = Historia Ja Kirjanmerkit
zenCKSOption-group-mediaAndDisplay = Media & Näyttö
zenCKSOption-group-zen-compact-mode = Kompakti Tila
zenCKSOption-group-zen-workspace = Työtilat
zenCKSOption-group-zen-other = Muut Zen-ominaisuudet
zenCKSOption-group-zen-split-view = Jaettu Näkymä
zenCKSOption-group-devTools = Kehitystyökalut
zen-key-quick-restart = Nopea Uudelleenkäynnistys
zen-window-new-shortcut = Uusi Ikkuna
zen-tab-new-shortcut = Uusi välilehti
zen-key-redo = Toista
zen-restore-last-closed-tab-shortcut = Palauta Viimeksi Suljettu Välilehti
zen-location-open-shortcut = Avaa Sijainti
zen-location-open-shortcut-alt = Avaa Sijainti (Alt)
zen-key-undo-close-window = Kumoa Sulje Ikkuna
zen-text-action-undo-shortcut = Kumoa
zen-text-action-redo-shortcut = Toista
zen-text-action-cut-shortcut = Leikkaa
zen-text-action-copy-shortcut = Kopioi
zen-text-action-copy-url-shortcut = Kopioi nykyinen URL-osoite
zen-text-action-copy-url-markdown-shortcut = Kopioi nykyinen URL-osoite Markdownina
zen-text-action-paste-shortcut = Liitä
zen-text-action-select-all-shortcut = Valitse Kaikki
zen-text-action-delete-shortcut = Poista
zen-history-show-all-shortcut-mac = Näytä koko Historia (Mac)
zen-full-screen-shortcut = Vaihda Kokoruututilaan
zen-reader-mode-toggle-shortcut-windows = Vaihda Lukijatilaan (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Ota käyttöön kuva-kuvassa (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Ota käyttöön kuva-kuvassa (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Ota käyttöön kuva-kuvassa (Mac Alt)
zen-page-source-shortcut-safari = Näytä Sivulähde (Safari)
zen-nav-stop-shortcut = Lopeta Lataaminen
zen-history-sidebar-shortcut = Näytä historia sivupalkissa
zen-window-minimize-shortcut = Pienennä Ikkuna
zen-help-shortcut = Avaa Ohje
zen-preferences-shortcut = Avoimet Asetukset
zen-hide-app-shortcut = Piilota Sovellus
zen-hide-other-apps-shortcut = Piilota Muut Sovellukset
zen-search-focus-shortcut = Tarkenna Haku
zen-search-focus-shortcut-alt = Kohdistus Haku (Alt)
zen-downloads-shortcut = Avaa Lataukset
zen-addons-shortcut = Avaa Lisäosat
zen-file-open-shortcut = Avaa Tiedosto
zen-save-page-shortcut = Tallenna Sivu
zen-print-shortcut = Tulosta sivu
zen-close-shortcut-2 = Sulje Välilehti
zen-mute-toggle-shortcut = Vaihda Mykistystä
zen-key-delete = Poista Avain
zen-key-go-back = Siirry Takaisin
zen-key-go-forward = Siirry Eteenpäin
zen-nav-back-shortcut-alt = Navigoi Takaisin (Alt)
zen-nav-fwd-shortcut-alt = Siirry Eteenpäin (Alt)
zen-history-show-all-shortcut = Näytä Kaikki Historia
zen-key-enter-full-screen = Anna Koko Näyttö
zen-key-exit-full-screen = Poistu Koko Näyttötilasta
zen-ai-chatbot-sidebar-shortcut = Ota käyttöön AI chatbot sivupalkkiin
zen-key-inspector-mac = Vaihda Tarkastaja (Mac)
zen-toggle-sidebar-shortcut = Vaihda Firefoxin Sivupalkkia
zen-toggle-pin-tab-shortcut = Kiinnitä välilehti
zen-reader-mode-toggle-shortcut-other = Vaihda Lukijan Tila
zen-picture-in-picture-toggle-shortcut = Vaihda Kuva Kuvaksi
zen-nav-reload-shortcut-2 = Lataa Sivu Uudelleen
zen-key-about-processes = Tietoja Prosesseista
zen-page-source-shortcut = Näytä Sivun Lähdekoodi
zen-page-info-shortcut = Näytä Sivun Tiedot
zen-find-shortcut = Etsi sivulta
zen-search-find-again-shortcut = Etsi Uudelleen
zen-search-find-again-shortcut-prev = Etsi Edellinen
zen-search-find-again-shortcut-2 = Etsi Uudelleen (Alt)
zen-bookmark-this-page-shortcut = Lisää Tämä Sivu Kirjanmerkkeihin
zen-bookmark-show-library-shortcut = Näytä Kirjanmerkkikirjasto
zen-key-stop = Lopeta Lataaminen
zen-full-zoom-reduce-shortcut = Zoomaa Ulos
zen-full-zoom-enlarge-shortcut = Zoomaa Sisään
zen-full-zoom-reset-shortcut = Resetoi Zoomaus
zen-full-zoom-reset-shortcut-alt = Nollaa Zoomaus (Alt)
zen-full-zoom-enlarge-shortcut-alt = Suurenna (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Suurenna (Alt 2)
zen-bidi-switch-direction-shortcut = Vaihda Tekstin Suuntaa
zen-private-browsing-shortcut = Yksityinen Selaus
zen-screenshot-shortcut = Ota Kuvakaappaus
zen-key-sanitize = Tyhjennä Selaustiedot
zen-quit-app-shortcut = Lopeta Sovellus
zen-key-wr-capture-cmd = Wr Kaappaus Komento
zen-key-wr-toggle-capture-sequence-cmd = Vaihda Wr Kaappausjärjestystä
zen-nav-reload-shortcut = Lataa Sivu Uudelleen
zen-nav-reload-shortcut-skip-cache = Lataa Sivu uudelleen (Ohita Välimuisti)
zen-close-shortcut = Sulje Ikkuna
zen-close-tab-shortcut = Sulje Välilehti
zen-compact-mode-shortcut-show-sidebar = Ota käyttöön Kelluva Sivupalkki
zen-compact-mode-shortcut-show-toolbar = Ota käyttöön Kelluva Työkalurivi
zen-compact-mode-shortcut-toggle = Ota käyttöön Kompaktitila
zen-glance-expand = Laajenna Vilkaisu
zen-workspace-shortcut-switch-1 = Vaihda työtilaan 1
zen-workspace-shortcut-switch-2 = Vaihda työtilaan 2
zen-workspace-shortcut-switch-3 = Vaihda työtilaan 3
zen-workspace-shortcut-switch-4 = Vaihda työtilaan 4
zen-workspace-shortcut-switch-5 = Vaihda työtilaan 5
zen-workspace-shortcut-switch-6 = Vaihda työtilaan 6
zen-workspace-shortcut-switch-7 = Vaihda työtilaan 7
zen-workspace-shortcut-switch-8 = Vaihda työtilaan 8
zen-workspace-shortcut-switch-9 = Vaihda työtilaan 9
zen-workspace-shortcut-switch-10 = Vaihda työtilaan 10
zen-workspace-shortcut-forward = Eteenpäin Työtila
zen-workspace-shortcut-backward = Taaksepäin Työtila
zen-sidebar-shortcut-toggle = Vaihda Sivupalkin Leveys
zen-pinned-tab-shortcut-reset = Nollaa kiinnitetty välilehti kiinnitettyyn URL-osoitteeseen
zen-split-view-shortcut-grid = Vaihda Jaettu Näkymä ruudukkoon
zen-split-view-shortcut-vertical = Vaihda Jaettu Näkymä Pystysuunnassa
zen-split-view-shortcut-horizontal = Vaihda Jaettu Näkymä Vaakasuoraan
zen-split-view-shortcut-unsplit = Sulje Jaettu Näkymä
zen-new-empty-split-view-shortcut = Uusi Tyhjä Jaettu Näkymä
zen-key-select-tab-1 = Valitse välilehti #1
zen-key-select-tab-2 = Valitse välilehti #2
zen-key-select-tab-3 = Valitse välilehti #3
zen-key-select-tab-4 = Valitse välilehti #4
zen-key-select-tab-5 = Valitse välilehti #5
zen-key-select-tab-6 = Valitse välilehti #6
zen-key-select-tab-7 = Valitse välilehti #7
zen-key-select-tab-8 = Valitse välilehti #8
zen-key-select-tab-last = Valitse viimeinen välilehti
zen-key-show-all-tabs = Näytä kaikki välilehdet
zen-key-goto-history = Siirry historiaan
zen-key-go-home = Siirry Kotiin
zen-bookmark-show-sidebar-shortcut = Näytä Kirjanmerkkien Sivupalkki
zen-bookmark-show-toolbar-shortcut = Näytä Kirjanmerkkipalkki
zen-devtools-toggle-shortcut = Vaihda DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Vaihda Selaimen Työkalupakkia
zen-devtools-toggle-browser-console-shortcut = Vaihda Selaimen Konsoli
zen-devtools-toggle-responsive-design-mode-shortcut = Vaihda Reagoiva Suunnittelu -tila
zen-devtools-toggle-inspector-shortcut = Vaihda Tarkastajaa
zen-devtools-toggle-web-console-shortcut = Vaihda Selaimen Konsoli
zen-devtools-toggle-js-debugger-shortcut = Vaihda Javascript- Debuggeria
zen-devtools-toggle-net-monitor-shortcut = Vaihda Verkon Valvontaa
zen-devtools-toggle-style-editor-shortcut = Vaihda Tyylin Muokkausohjelmaa
zen-devtools-toggle-performance-shortcut = Vaihda Suorituskykyä
zen-devtools-toggle-storage-shortcut = Vaihda Tallennustilaa
zen-devtools-toggle-dom-shortcut = Vaihda DOM:ia
zen-devtools-toggle-accessibility-shortcut = Vaihda Esteettömyystilaan
zen-close-all-unpinned-tabs-shortcut = Sulje kaikki kiinnittämättömät välilehdet
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/fr/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Rechercher dans { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Renommer le dossier
zen-folders-panel-unpack-folder = 
    .label = Défaire le dossier
zen-folders-new-subfolder = 
    .label = Nouveau sous-dossier
zen-folders-panel-delete-folder = 
    .label = Supprimer le dossier
zen-folders-panel-convert-folder-to-space = 
    .label = Convertir le dossier en espace
zen-folders-panel-change-folder-space = 
    .label = Changer d'espace...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Décharger les onglets actifs de ce dossier
zen-folders-unload-folder = 
    .label = Décharger tous les onglets
zen-folders-search-no-results = Aucun onglet ne correspond à cette recherche 🤔



================================================
FILE: locales/fr/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = profil actuel
unified-extensions-description = Les extensions sont utilisées pour ajouter plus de fonctionnalités à { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Réinitialiser l’onglet épinglé
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Ajouter aux Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } emplacements occupés
tab-context-zen-remove-essential = 
    .label = Retirer des Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Remplacer l’URL épinglée par l’actuelle
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Changer le libellé...
tab-context-zen-edit-icon = 
    .label = Changer l'icône...
zen-themes-corrupted = Votre fichier de thèmes { -brand-short-name } est corrompu. Il a été réinitialisé au thème par défaut.
zen-shortcuts-corrupted = Votre fichier de raccourcis { -brand-short-name } est corrompu. Ils ont été réinitialisés aux raccourcis par défaut.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    La nouvelle barre d’adresse a été activée, supprimant la nécessité de nouvelles pages d’onglets.<br/><br/>
    Essayez d’ouvrir un nouvel onglet pour voir la nouvelle barre d’adresse en action !
zen-disable = Désactiver
pictureinpicture-minimize-btn = 
    .aria-label = Minimiser
    .tooltip = Minimiser
zen-panel-ui-gradient-generator-custom-color = Couleur personnalisée
zen-copy-current-url-confirmation = URL actuelle copiée !
zen-general-cancel-label = 
    .label = Annuler
zen-general-confirm = 
    .label = Confirmer
zen-pinned-tab-replaced = L’adresse de l'onglet épinglé a été remplacée par l’adresse actuelle.
zen-tabs-renamed = L’onglet a été renommé avec succès !
zen-background-tab-opened-toast = Nouvel onglet ouvert en arrière-plan !
zen-workspace-renamed-toast = L'espace de travail a été renommé avec succès !
zen-toggle-compact-mode-button = 
    .label = Mode compact
    .tooltiptext = Activer/Désactiver le mode compact

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = En savoir plus
zen-close-label = Fermer
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Rechercher...
zen-icons-picker-emoji = 
    .label = Émojis
zen-icons-picker-svg = 
    .label = Icônes
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Paramètres
zen-generic-manage = Gérer
zen-generic-more = Plus
zen-generic-next = Suivant
zen-essentials-promo-label = Ajouter aux Essentials
zen-essentials-promo-sublabel = Accédez à vos onglets favoris en un clic
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Autorisé
zen-site-data-setting-block = Bloqué
zen-site-data-protections-enabled = Activé
zen-site-data-protections-disabled = Désactivé
zen-site-data-setting-cross-site = Cookie intersite
zen-site-data-security-info-extension = 
    .label = Extension
zen-site-data-security-info-secure = 
    .label = Sécurisé
zen-site-data-security-info-not-secure = 
    .label = Non sécurisé
zen-site-data-manage-addons = 
    .label = Gérer les extensions
zen-site-data-get-addons = 
    .label = Ajouter des extensions
zen-site-data-site-settings = 
    .label = Tous les paramètres du site
zen-site-data-header-share = 
    .tooltiptext = Partager cette page
zen-site-data-header-reader-mode = 
    .tooltiptext = Entrer en mode lecture
zen-site-data-header-screenshot = 
    .tooltiptext = Prendre une capture d'écran
zen-site-data-header-bookmark = 
    .tooltiptext = Marquer cette page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copier l'URL
zen-site-data-setting-site-protection = Protection contre le pistage

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Un nouvel endroit pour vos extensions, permissions et plus encore
zen-site-data-panel-feature-callout-subtitle = Cliquez sur l'icône pour gérer les paramètres du site, afficher les infos de sécurité, accéder aux extensions et effectuer d'autres actions.
zen-open-link-in-glance = 
    .label = Ouvrir le lien dans Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Mise à jour terminée !

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Quoi de neuf dans { -brand-short-name } ?
zen-sidebar-notification-updated-tooltip = 
    .title = Voir les notes de version
zen-sidebar-notification-restart-safe-mode-label = Un problème est survenu ?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Redémarrer en mode de dépannage
zen-window-sync-migration-dialog-title = Gardez vos fenêtres synchronisées
zen-window-sync-migration-dialog-message = Zen synchronise désormais les fenêtres sur le même appareil, de sorte que les modifications apportées à une fenêtre sont instantanément répercutées sur les autres.
zen-window-sync-migration-dialog-learn-more = En savoir plus
zen-window-sync-migration-dialog-accept = J'ai compris



================================================
FILE: locales/fr/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Développer les onglets épinglés
           *[false] Réduire les onglets épinglés
        }
zen-menubar-appearance = 
    .label = Apparence
zen-menubar-appearance-description = 
    .label = Les sites Web utiliseront :
zen-menubar-appearance-auto = 
    .label = Automatique
zen-menubar-appearance-light = 
    .label = Clair
zen-menubar-appearance-dark = 
    .label = Sombre
zen-menubar-new-unsynced-window = 
    .label = Nouvelle fenêtre non synchronisée



================================================
FILE: locales/fr/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Fractionner (sélectionner plusieurs onglets)
           *[other] Fractionner { $tabCount } onglets
        }
    .accesskey = S
zen-split-link = 
    .label = Fractionner le lien vers un nouvel onglet
    .accesskey = S
zen-split-view-modifier-header = Vue fractionnée
zen-split-view-modifier-activate-reallocation = 
    .label = Activer le réarrangement
zen-split-view-modifier-enabled-toast = La réorganisation de la vue fractionnée est activée.
zen-split-view-modifier-enabled-toast-description = Glissez-déposez les onglets pour réorganiser. Appuyez sur Échap pour quitter.
zen-split-view-modifier-disabled-toast = La réorganisation de la vue fractionnée est désactivée.



================================================
FILE: locales/fr/browser/browser/zen-vertical-tabs.ftl
================================================
[Binary file]


================================================
FILE: locales/fr/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Rendre muet le panneau Web
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Rétablir le son du panneau Web
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Désactiver l’UserAgent mobile
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Activer l’UserAgent mobile
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Décharger le panneau web
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Supprimer le panneau web
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Ouvrir dans un nouvel onglet
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Ouvrir dans un onglet conteneur
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Ajouter aux panneaux web
    .accesskey = A
zen-webpanel-introduction-title = Bienvenue dans les panneaux web de Zen
zen-webpanel-introduction-description = Les panneaux web sont un moyen de garder vos sites préférés à portée de main.



================================================
FILE: locales/fr/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Bienvenue dans
zen-welcome-title-line2 = un Internet plus calme
zen-welcome-import-title = Un nouveau départ, les mêmes favoris
zen-welcome-import-description-1 = Vos favoris, votre historique, et vos mots de passe sont comme des miettes sur internet. Ne les laissez pas trainer derrière vous !
zen-welcome-import-description-2 = Importez-les facilement depuis un autre navigateur et reprenez là où vous vous êtes arrêté.
zen-welcome-import-button = Importer maintenant
zen-welcome-set-default-browser = Définir { -brand-short-name } comme votre navigateur par défaut
zen-welcome-dont-set-default-browser = NE PAS définir { -brand-short-name } comme votre navigateur par défaut
zen-welcome-initial-essentials-title = Vos onglets principaux, toujours à portée de main
zen-welcome-initial-essentials-description-1 = Gardez vos onglets les plus importants facilement accessibles et toujours à portée de main, peu importe combien vous en ouvrez.
zen-welcome-initial-essentials-description-2 = Les onglets Essentials sont toujours visibles, peu importe l’espace de travail où vous êtes.
zen-welcome-workspace-colors-title = Vos espaces de travail, vos couleurs
zen-welcome-workspace-colors-description = Personnalisez votre navigateur en donnant à chaque espace de travail sa propre identité de couleur.
zen-welcome-start-browsing-title =
    Tout est prêt ?<br/>
    Alors allons-y !
zen-welcome-start-browsing-description-1 = Vous êtes prêt à naviguer. Cliquez sur le bouton ci-dessous pour commencer à naviguer avec { -brand-short-name }.
zen-welcome-start-browsing = C’est parti !
zen-welcome-default-search-title = Votre moteur de recherche par défaut
zen-welcome-default-search-description = Sélectionnez votre moteur de recherche par défaut. Vous pouvez toujours le modifier plus tard !
zen-welcome-skip-button = Ignorer
zen-welcome-finished = Votre navigateur Zen a été configuré correctement !



================================================
FILE: locales/fr/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Espaces
zen-panel-ui-spaces-label = 
    .label = Espaces
zen-panel-ui-workspaces-create = 
    .label = Créer un espace
zen-panel-ui-folder-create = 
    .label = Créer un dossier
zen-panel-ui-new-empty-split = 
    .label = Nouvelle vue fractionnée
zen-workspaces-panel-context-delete = 
    .label = Supprimer l’espace
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Modifier le nom
zen-workspaces-panel-change-icon = 
    .label = Changer d'icône
zen-workspaces-panel-context-default-profile = 
    .label = Définir le profil
zen-workspaces-panel-unload = 
    .label = Décharger l'espace
zen-workspaces-how-to-reorder-title = Comment réordonner les espaces
zen-workspaces-how-to-reorder-desc = Faites glisser les icônes d'espace en bas de la barre latérale pour les réorganiser
zen-workspaces-change-theme = 
    .label = Modifier le thème
zen-workspaces-panel-context-open = 
    .label = Ouvrir un espace de travail
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Modifier l’espace
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Espaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complémentaire
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Fractionné
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogue
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadique
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Flottant
zen-panel-ui-gradient-click-to-add = Cliquez pour ajouter une couleur
zen-workspace-creation-name = 
    .placeholder = Nom de l'espace
zen-move-tab-to-workspace-button = 
    .label = Déplacer vers...
    .tooltiptext = Déplacer tous les onglets de cette fenêtre vers un espace
zen-workspaces-panel-context-reorder = 
    .label = Réorganiser les espaces
zen-workspace-creation-profile = Profil
    .tooltiptext = Les profils sont utilisés pour séparer les cookies et les données des sites entre les Espaces.
zen-workspace-creation-header = Créer un espace
zen-workspace-creation-label = Les espaces sont utilisés pour organiser vos onglets et sessions.
zen-workspaces-delete-workspace-title = Supprimer l’espace ?
zen-workspaces-delete-workspace-body = Êtes-vous sûr de vouloir supprimer { $name } ? Cette action ne peut pas être annulée.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Onglets fermés ! Utiliser <span>{ $shortcut }</span> pour annuler.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Nettoyer
    .tooltiptext = Fermer tous les onglets non épinglés
zen-panel-ui-workspaces-change-forward = 
    .label = Espace suivant
zen-panel-ui-workspaces-change-back = 
    .label = Espace précédent



================================================
FILE: locales/fr/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Un thème avec un jeu de couleurs sombres et une belle touche de galaxie !
extension-firefox-compact-dream-name = Rêve zen
extension-firefox-compact-dream-description = Un thème avec une palette de couleurs claires et une belle touche de rêve!



================================================
FILE: locales/fr/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = URL d’origine
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Afficher ce panneau web en mode mobile
    .accesskey = m



================================================
FILE: locales/fr/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Apparence
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Si vous changez la langue par défaut, il peut être plus facile pour des sites Web de vous traquer.
zen-vertical-tabs-layout-header = Disposition du navigateur
zen-vertical-tabs-layout-description = Choisissez la disposition qui vous convient le mieux
zen-layout-single-toolbar = Barre d’outils unique
zen-layout-multiple-toolbar = Barres d’outils multiples
zen-layout-collapsed-toolbar = Barre d’outils réduite
sync-currently-syncing-workspaces = Espaces de travail
sync-engine-workspaces = 
    .label = Espaces de travail
    .tooltiptext = Synchronisez vos espaces de travail sur plusieurs appareils
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = Paramètres généraux de Glance
zen-glance-description = Obtenez un aperçu rapide de vos liens, sans les ouvrir dans un nouvel onglet
zen-glance-trigger-label = Méthode de déclenchement
zen-glance-enabled = 
    .label = Activer Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + clic
zen-glance-trigger-alt-click = 
    .label = Alt + clic
zen-glance-trigger-shift-click = 
    .label = Maj + clic
zen-glance-trigger-meta-click = 
    .label = Super (Command) + clic
zen-look-and-feel-compact-view-header = Afficher en mode compact
zen-look-and-feel-compact-view-description = Affichez uniquement les barres d’outils que vous utilisez !
zen-look-and-feel-compact-view-enabled = 
    .label = Activer le mode compact de { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Masquer aussi la barre d’outils du haut en mode compact
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = En mode compact, faire brièvement apparaitre la barre d’outils au changement ou à l’ouverture de nouveaux onglets
pane-zen-tabs-title = Gestion des onglets
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Espaces de travail
zen-tabs-unloader-enabled = 
    .label = Activer le déchargement des onglets
zen-tabs-close-on-back-with-no-history = 
    .label = Fermer l'onglet et passer à l'onglet parent (ou à l'onglet le plus récemment utilisé) lorsque vous revenez en arrière sans historique
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab permet de passer d'un onglet Essential ou d'un espace de travail à l'autre uniquement
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignorer les onglets déchargés lors du défilement avec Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab permet de passer d'un onglet à l'autre dans l'ordre d'utilisation récente, lorsqu'il est activé
zen-look-and-feel-compact-toolbar-themed = 
    .label = Utiliser l’arrière-plan du thème pour la barre d’outils en mode compact
zen-workspace-continue-where-left-off = 
    .label = Continuez là où vous vous êtes arrêté
pane-zen-pinned-tab-manager-title = Onglets épinglés
zen-pinned-tab-manager-header = Paramètres généraux pour les onglets épinglés
zen-pinned-tab-manager-description = Gérer le comportement supplémentaire des onglets épinglés
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Au démarrage, restaurer les onglets épinglés à leur URL d’origine
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Activer les Essentials spécifiques aux conteneurs
zen-pinned-tab-manager-close-shortcut-behavior-label = Comportement du raccourci pour fermer l'onglet
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Réinitialiser l’URL, décharger et passer à l’onglet suivant
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Décharger et passer à l’onglet suivant
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Réinitialiser l’URL et passer à l’onglet suivant
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Passer à l’onglet suivant
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Réinitialiser l’URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Fermer l’onglet
pane-zen-workspaces-header = Espaces de travail
zen-settings-workspaces-header = Paramètres généraux des espaces de travail
zen-settings-workspaces-description = Avec les espaces de travail, vous pouvez avoir plusieurs sessions de navigation à la fois !
zen-settings-workspaces-enabled = 
    .label = Activer les espaces de travail
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Dans la barre d’onglets, masquer l’indicateur de conteneur par défaut
zen-key-unsaved = Raccourci non sauvegardé ! Pour l’enregistrer, veuillez le resaisir et en appuyer sur Échap.
zen-key-conflict = En conflit avec { $group } → { $shortcut }
pane-zen-theme-title = Paramètres de thème
zen-vertical-tabs-title = Disposition de la barre latérale et des onglets
zen-vertical-tabs-header = Onglets verticaux
zen-vertical-tabs-description = Gérez vos onglets dans une disposition verticale
zen-vertical-tabs-show-expand-button = 
    .label = Afficher le bouton Étendre
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Afficher le bouton Nouvel onglet dans la liste des onglets
zen-vertical-tabs-newtab-top-button-up = 
    .label = Déplacer le bouton Nouvel onglet vers le haut
zen-vertical-tabs-expand-tabs-by-default = Étendre les onglets par défaut
zen-vertical-tabs-dont-expand-tabs-by-default = Ne pas étendre les onglets par défaut
zen-vertical-tabs-expand-tabs-on-hover = Étendre les onglets au survol (ne fonctionne pas en mode compact)
zen-vertical-tabs-expand-tabs-header = Comment étendre les onglets
zen-vertical-tabs-expand-tabs-description = Choisissez comment étendre les onglets dans la barre latérale
zen-theme-marketplace-header = Mods Zen
zen-theme-disable-all-enabled = 
    .title = Désactiver tous les mods
zen-theme-disable-all-disabled = 
    .title = Activer tous les mods
zen-theme-marketplace-description = Trouvez et installez des mods à partir du magasin.
zen-theme-marketplace-remove-button = 
    .label = Supprimer le mod
zen-theme-marketplace-check-for-updates-button = 
    .label = Vérifier les mises à jour
zen-theme-marketplace-import-button = 
    .label = Importer des mods
zen-theme-marketplace-export-button = 
    .label = Exporter des mods
zen-theme-marketplace-import-success = Les mods ont été importés avec succès
zen-theme-marketplace-import-failure = Une erreur s'est produite lors de l'importation des mods
zen-theme-marketplace-export-success = Les mods ont été exportés avec succès
zen-theme-marketplace-export-failure = Une erreur s'est produite lors de l'exportation des mods
zen-theme-marketplace-updates-success = Mods mis à jour avec succès
zen-theme-marketplace-updates-failure = Impossible de trouver des mises à jour !
zen-theme-marketplace-toggle-enabled-button = 
    .title = Désactiver le mod
zen-theme-marketplace-toggle-disabled-button = 
    .title = Activer le mod
zen-theme-marketplace-remove-confirmation = Êtes-vous sûr de vouloir supprimer ce mod ?
zen-theme-marketplace-close-modal = Fermer
zen-theme-marketplace-theme-header-title = 
    .title = Sélecteur CSS : { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Aucun
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Tapez quelque chose…
pane-zen-marketplace-title = Mods Zen
zen-themes-auto-update = 
    .label = Mettre à jour automatiquement les mods installés lors du démarrage
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = À l'ouverture des onglets du conteneur, basculer vers l’espace de travail où le conteneur est défini par défaut
zen-theme-marketplace-link = Visiter le magasin
zen-dark-theme-styles-header = Styles de thème sombre
zen-dark-theme-styles-description = Personnalisez le thème sombre selon vos préférences
zen-dark-theme-styles-amoled = Thème nuit
zen-dark-theme-styles-default = Thème sombre par défaut
zen-dark-theme-styles-colorful = Thème sombre coloré
zen-compact-mode-styles-left = Masquer la barre d’onglets
zen-compact-mode-styles-top = Cacher la barre du haut
zen-compact-mode-styles-both = Cacher les deux
zen-urlbar-title = Barre d'adresse de Zen
zen-urlbar-header = Paramètres généraux de la barre d’adresse
zen-urlbar-description = Personnaliser la barre d'adresse selon vos préférences
zen-urlbar-behavior-label = Comportement
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Flottant uniquement lors de la saisie
zen-urlbar-behavior-float = 
    .label = Toujours flottant
pane-zen-CKS-title = Raccourcis clavier
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Raccourcis clavier { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Mods Zen
zen-settings-CKS-header = Personnaliser les raccourcis clavier
zen-settings-CKS-description = Changez les raccourcis clavier par défaut selon vos préférences et améliorez votre expérience de navigation
zen-settings-CKS-disable-firefox = 
    .label = Désactiver les raccourcis clavier par défaut de { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Dupliquer le raccourci
zen-settings-CKS-reset-shortcuts = 
    .label = Revenir aux valeurs par défaut
zenCKSOption-group-other = Autres
zenCKSOption-group-windowAndTabManagement = Gestion des fenêtres et des onglets
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Recherche
zenCKSOption-group-pageOperations = Opérations de page
zenCKSOption-group-historyAndBookmarks = Historique et favoris
zenCKSOption-group-mediaAndDisplay = Médias et affichage
zenCKSOption-group-zen-compact-mode = Mode compact
zenCKSOption-group-zen-workspace = Espaces de travail
zenCKSOption-group-zen-other = Autres fonctionnalités de Zen
zenCKSOption-group-zen-split-view = Vue fractionnée
zenCKSOption-group-devTools = Outils de développement
zen-key-quick-restart = Redémarrage rapide
zen-window-new-shortcut = Nouvelle fenêtre
zen-tab-new-shortcut = Nouvel onglet
zen-key-redo = Refaire
zen-restore-last-closed-tab-shortcut = Restaurer le dernier onglet fermé
zen-location-open-shortcut = Ouvrir l’emplacement
zen-location-open-shortcut-alt = Ouvrir l’emplacement (alternatif)
zen-key-undo-close-window = Rouvrir la fenêtre fermée
zen-text-action-undo-shortcut = Annuler
zen-text-action-redo-shortcut = Refaire
zen-text-action-cut-shortcut = Couper
zen-text-action-copy-shortcut = Copie
zen-text-action-copy-url-shortcut = Copier l’adresse actuelle
zen-text-action-copy-url-markdown-shortcut = Copier l’adresse actuelle au format Markdown
zen-text-action-paste-shortcut = Coller
zen-text-action-select-all-shortcut = Tout sélectionner
zen-text-action-delete-shortcut = Supprimer
zen-history-show-all-shortcut-mac = Afficher tout l’historique (macOS)
zen-full-screen-shortcut = Activer/désactiver le mode plein écran
zen-reader-mode-toggle-shortcut-windows = Activer/désactiver le mode lecture (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Activer/désactiver le mode incrustation d’image (alternatif)
zen-picture-in-picture-toggle-shortcut-mac = Activer/désactiver le mode inscrustation d’image (macOS)
zen-picture-in-picture-toggle-shortcut-mac-alt = Activer/désactiver le mode inscrustation d’image (alternatif macOS)
zen-page-source-shortcut-safari = Voir la source de la page (Safari)
zen-nav-stop-shortcut = Arrêter le chargement
zen-history-sidebar-shortcut = Afficher la barre latérale d'historique
zen-window-minimize-shortcut = Réduire la fenêtre
zen-help-shortcut = Ouvrir l’aide
zen-preferences-shortcut = Ouvrir les préférences
zen-hide-app-shortcut = Masquer l'application
zen-hide-other-apps-shortcut = Masquer les autres applications
zen-search-focus-shortcut = Recherche Focus
zen-search-focus-shortcut-alt = Recherche Focus (Alt)
zen-downloads-shortcut = Ouvrir les téléchargements
zen-addons-shortcut = Ouvrir les extensions
zen-file-open-shortcut = Ouvrir un fichier
zen-save-page-shortcut = Enregistrer la page
zen-print-shortcut = Imprimer la page
zen-close-shortcut-2 = Fermer l'onglet
zen-mute-toggle-shortcut = Activer/désactiver le mode muet
zen-key-delete = Touche supprimer
zen-key-go-back = Précédent
zen-key-go-forward = Suivant
zen-nav-back-shortcut-alt = Précédent (alternatif)
zen-nav-fwd-shortcut-alt = Suivant (alternatif)
zen-history-show-all-shortcut = Afficher tout l’historique
zen-key-enter-full-screen = Passer en mode plein écran
zen-key-exit-full-screen = Quitter le mode plein écran
zen-ai-chatbot-sidebar-shortcut = Activer/désactiver la barre latérale de discussion IA
zen-key-inspector-mac = Activer/désactiver l’inspecteur (macOS)
zen-toggle-sidebar-shortcut = Activer/désactiver la barre latérale de Firefox
zen-toggle-pin-tab-shortcut = Activer/désactiver Épingler l'onglet
zen-reader-mode-toggle-shortcut-other = Activer/désactiver le mode lecture
zen-picture-in-picture-toggle-shortcut = Activer/désactiver le mode inscrutation
zen-nav-reload-shortcut-2 = Recharger la page
zen-key-about-processes = À propos des processus
zen-page-source-shortcut = Voir la source de la page
zen-page-info-shortcut = Voir les informations de la page
zen-find-shortcut = Rechercher dans la page
zen-search-find-again-shortcut = Retrouver
zen-search-find-again-shortcut-prev = Rechercher le précédent
zen-search-find-again-shortcut-2 = Rechercher à nouveau (alternatif)
zen-bookmark-this-page-shortcut = Ajouter cette page aux favoris
zen-bookmark-show-library-shortcut = Afficher la bibliothèque des favoris
zen-key-stop = Arrêter le chargement
zen-full-zoom-reduce-shortcut = Zoom arrière
zen-full-zoom-enlarge-shortcut = Zoom avant
zen-full-zoom-reset-shortcut = Réinitialiser le zoom
zen-full-zoom-reset-shortcut-alt = Réinitialiser le zoom (alternatif)
zen-full-zoom-enlarge-shortcut-alt = Zoom avant (alternatif nᵒ 1)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom avant (alternatif nᵒ 2)
zen-bidi-switch-direction-shortcut = Changer la direction du texte
zen-private-browsing-shortcut = Navigation privée
zen-screenshot-shortcut = Prendre une capture d’écran
zen-key-sanitize = Effacer les données de navigation
zen-quit-app-shortcut = Quitter l’application
zen-key-wr-capture-cmd = Commande de capture de rendu web
zen-key-wr-toggle-capture-sequence-cmd = Activer/désactiver la capture de rendu web
zen-nav-reload-shortcut = Recharger la page
zen-nav-reload-shortcut-skip-cache = Recharger la page (ignorer le cache)
zen-close-shortcut = Fermer la fenêtre
zen-close-tab-shortcut = Fermer l’onglet
zen-compact-mode-shortcut-show-sidebar = Activer/désactiver la barre latérale flottante
zen-compact-mode-shortcut-show-toolbar = Activer/désactiver la barre d’outils flottante
zen-compact-mode-shortcut-toggle = Activer/désactiver le mode compact
zen-glance-expand = Agrandir Glance
zen-workspace-shortcut-switch-1 = Basculer vers l’espace de travail 1
zen-workspace-shortcut-switch-2 = Basculer vers l’espace de travail 2
zen-workspace-shortcut-switch-3 = Basculer vers l’espace de travail 3
zen-workspace-shortcut-switch-4 = Basculer vers l’espace de travail 4
zen-workspace-shortcut-switch-5 = Basculer vers l’espace de travail 5
zen-workspace-shortcut-switch-6 = Basculer vers l’espace de travail 6
zen-workspace-shortcut-switch-7 = Basculer vers l’espace de travail 7
zen-workspace-shortcut-switch-8 = Basculer vers l’espace de travail 8
zen-workspace-shortcut-switch-9 = Basculer vers l’espace de travail 9
zen-workspace-shortcut-switch-10 = Basculer vers l’espace de travail 10
zen-workspace-shortcut-forward = Espace de travail suivant
zen-workspace-shortcut-backward = Espace de travail précédent
zen-sidebar-shortcut-toggle = Afficher/Masquer la largeur de la barre latérale
zen-pinned-tab-shortcut-reset = Réinitialiser l’onglet épinglé à l’URL d’origine
zen-split-view-shortcut-grid = Activer/désactiver la vue fractionnée en grille
zen-split-view-shortcut-vertical = Activer/désactiver la vue fractionnée verticale
zen-split-view-shortcut-horizontal = Activer/désactiver la vue fractionnée horizontale
zen-split-view-shortcut-unsplit = Fermer la vue fractionnée
zen-new-empty-split-view-shortcut = Nouvelle vue fractionnée vide
zen-key-select-tab-1 = Sélectionner l’onglet nᵒ1
zen-key-select-tab-2 = Sélectionner l’onglet nᵒ2
zen-key-select-tab-3 = Sélectionner l’onglet nᵒ3
zen-key-select-tab-4 = Sélectionner l’onglet nᵒ4
zen-key-select-tab-5 = Sélectionner l’onglet nᵒ5
zen-key-select-tab-6 = Sélectionner l’onglet nᵒ6
zen-key-select-tab-7 = Sélectionner l’onglet nᵒ7
zen-key-select-tab-8 = Sélectionner l’onglet nᵒ8
zen-key-select-tab-last = Sélectionner le dernier onglet
zen-key-show-all-tabs = Afficher tous les onglets
zen-key-goto-history = Aller à l’historique
zen-key-go-home = Aller à la page d’accueil
zen-bookmark-show-sidebar-shortcut = Afficher les favoris dans la barre latérale
zen-bookmark-show-toolbar-shortcut = Afficher la barre d’outils des favoris
zen-devtools-toggle-shortcut = Activer/désactiver les outils de développement
zen-devtools-toggle-browser-toolbox-shortcut = Activer/désactiver la boite à outils du navigateur
zen-devtools-toggle-browser-console-shortcut = Activer/désactiver la console du navigateur
zen-devtools-toggle-responsive-design-mode-shortcut = Activer/désactiver le mode d’affichage adaptatif
zen-devtools-toggle-inspector-shortcut = Afficher l’onglet Inspecteur
zen-devtools-toggle-web-console-shortcut = Afficher l’onglet Console web
zen-devtools-toggle-js-debugger-shortcut = Afficher l’onglet Débogueur JavaScript
zen-devtools-toggle-net-monitor-shortcut = Afficher l’onglet Moniteur réseau
zen-devtools-toggle-style-editor-shortcut = Afficher l’onglet Éditeur de style
zen-devtools-toggle-performance-shortcut = Afficher l’onglet Performances
zen-devtools-toggle-storage-shortcut = Afficher l’onglet Stockage
zen-devtools-toggle-dom-shortcut = Afficher l’onglet DOM
zen-devtools-toggle-accessibility-shortcut = Afficher l’onglet Accessibilité
zen-close-all-unpinned-tabs-shortcut = Fermer tous les onglets non épinglés
zen-new-unsynced-window-shortcut = Nouvelle fenêtre non synchronisée



================================================
FILE: locales/ga-IE/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Cuardaigh { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Athainmnigh Fillteán
zen-folders-panel-unpack-folder = 
    .label = Díphacáil an Fillteán
zen-folders-new-subfolder = 
    .label = Fo-fhillteán Nua
zen-folders-panel-delete-folder = 
    .label = Scrios Fillteán
zen-folders-panel-convert-folder-to-space = 
    .label = Tiontaigh fillteán go Spás
zen-folders-panel-change-folder-space = 
    .label = Athraigh Spás...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Díluchtaigh gníomhach sa fhillteán seo
zen-folders-unload-folder = 
    .label = Díluchtaigh Gach Cluaisín
zen-folders-search-no-results = Níl aon chluaisíní ann a mheaitseálann an cuardach sin 🤔



================================================
FILE: locales/ga-IE/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = próifíl reatha
unified-extensions-description = Úsáidtear síntí chun níos mó feidhmiúlachta breise a thabhairt isteach i { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Athshocraigh an Cluaisín Prionáilte
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Cuir leis na Bunriachtanais
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } sliotán líonta
tab-context-zen-remove-essential = 
    .label = Bain de na Bunriachtanais
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Cuir URL Prionáilte in ionad an URL Reatha
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Athraigh Lipéad...
tab-context-zen-edit-icon = 
    .label = Athraigh Deilbhín...
zen-themes-corrupted = Tá do chomhad mods { -brand-short-name } truaillithe. Tá siad athshocraithe chuig an téama réamhshocraithe.
zen-shortcuts-corrupted = Tá do chomhad aicearraí { -brand-short-name } truaillithe. Tá siad athshocraithe chuig na haicearraí réamhshocraithe.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Tá an barra URL nua cumasaithe, rud a fhágann nach bhfuil gá le leathanaigh cluaisín nua.<br/><br/>
    Bain triail as cluaisín nua a oscailt chun an barra URL nua i mbun oibre a fheiceáil!
zen-disable = Díchumasaigh
pictureinpicture-minimize-btn = 
    .aria-label = Íoslaghdaigh
    .tooltip = Íoslaghdaigh
zen-panel-ui-gradient-generator-custom-color = Dath Saincheaptha
zen-copy-current-url-confirmation = Cóipeáladh an URL reatha!
zen-general-cancel-label = 
    .label = Cealaigh
zen-general-confirm = 
    .label = Deimhnigh
zen-pinned-tab-replaced = Tá URL an chluaisín phinnáilte curtha in ionad an URL reatha!
zen-tabs-renamed = Athainmníodh an cluaisín go rathúil!
zen-background-tab-opened-toast = Tá cluaisín cúlra nua oscailte!
zen-workspace-renamed-toast = Athainmníodh an spás oibre go rathúil!
zen-toggle-compact-mode-button = 
    .label = Mód Dlúth
    .tooltiptext = Mód Dlúth a Athrú

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Foghlaim Tuilleadh
zen-close-label = Dún
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Cuardaigh...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Deilbhíní
urlbar-search-mode-zen_actions = Gníomhartha
zen-site-data-settings = Socruithe
zen-generic-manage = Bainistigh
zen-generic-more = Tuilleadh
zen-generic-next = Ar Aghaidh
zen-essentials-promo-label = Cuir leis na Bunriachtanais
zen-essentials-promo-sublabel = Coinnigh do chluaisíní is fearr leat cliceáil amháin uait
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Ceadaithe
zen-site-data-setting-block = Blocáilte
zen-site-data-protections-enabled = Cumasaithe
zen-site-data-protections-disabled = Díchumasaithe
zen-site-data-setting-cross-site = Fianán Tras-Láithreáin
zen-site-data-security-info-extension = 
    .label = Síneadh
zen-site-data-security-info-secure = 
    .label = Slán
zen-site-data-security-info-not-secure = 
    .label = Ní Slán
zen-site-data-manage-addons = 
    .label = Bainistigh Síneadh
zen-site-data-get-addons = 
    .label = Cuir Síneadh leis
zen-site-data-site-settings = 
    .label = Gach Socrú Suímh
zen-site-data-header-share = 
    .tooltiptext = Comhroinn an Leathanach seo
zen-site-data-header-reader-mode = 
    .tooltiptext = Téigh isteach i Mód Léitheora
zen-site-data-header-screenshot = 
    .tooltiptext = Glac Seat scáileáin
zen-site-data-header-bookmark = 
    .tooltiptext = Leabharmharc an Leathanach seo
zen-urlbar-copy-url-button = 
    .tooltiptext = Cóipeáil URL
zen-site-data-setting-site-protection = Cosaint Rianaithe

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Baile nua do bhreiseáin, ceadanna agus tuilleadh
zen-site-data-panel-feature-callout-subtitle = Cliceáil an deilbhín chun socruithe suímh a bhainistiú, faisnéis slándála a fheiceáil, rochtain a fháil ar shínteáin, agus gníomhartha coitianta a dhéanamh.
zen-open-link-in-glance = 
    .label = Oscail an Nasc i Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Nuashonrú críochnaithe!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Cad atá nua i { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Féach ar Nótaí Eisiúna
zen-sidebar-notification-restart-safe-mode-label = Bhris rud éigin?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Atosaigh i Mód Sábháilte
zen-window-sync-migration-dialog-title = Coinnigh Do Windows Sioncrónaithe
zen-window-sync-migration-dialog-message = Déanann Zen sioncrónú ar fhuinneoga ar an ngléas céanna anois, mar sin léirítear athruithe i bhfuinneog amháin sna fuinneoga eile láithreach.
zen-window-sync-migration-dialog-learn-more = Foghlaim Tuilleadh
zen-window-sync-migration-dialog-accept = Tuigim é



================================================
FILE: locales/ga-IE/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Leathnaigh Cluaisíní Priontáilte
           *[false] Laghdaigh Cluaisíní Priontáilte
        }
zen-menubar-appearance = 
    .label = Dealramh
zen-menubar-appearance-description = 
    .label = Úsáidfidh suíomhanna gréasáin:
zen-menubar-appearance-auto = 
    .label = Uathoibríoch
zen-menubar-appearance-light = 
    .label = Solas
zen-menubar-appearance-dark = 
    .label = Dorcha
zen-menubar-new-unsynced-window = 
    .label = Fuinneog Nua Bán



================================================
FILE: locales/ga-IE/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Scoilt Cluaisín (tá gá le roinnt cluaisíní roghnaithe)
           *[other] Scoilt { $tabCount } Cluaisíní
        }
    .accesskey = S
zen-split-link = 
    .label = Scoilt nasc chuig cluaisín nua
    .accesskey = S
zen-split-view-modifier-header = Radharc Scoilte
zen-split-view-modifier-activate-reallocation = 
    .label = Gníomhachtaigh athleithdháileadh
zen-split-view-modifier-enabled-toast = Tá athchóiriú radhairc scoilte AR SIÚL.
zen-split-view-modifier-enabled-toast-description = Tarraing agus scaoil an radharc chun é a ath-eagrú. Brúigh Esc chun imeacht.
zen-split-view-modifier-disabled-toast = Tá athchóiriú radhairc scoilte AS.



================================================
FILE: locales/ga-IE/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Cluaisíní ar an dheis
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Mód dlúth
zen-toolbar-context-compact-mode-enable = 
    .label = Cumasaigh mód dlúth
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Folaigh an barra taoibh
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Folaigh an barra uirlisí
zen-toolbar-context-compact-mode-hide-both = 
    .label = Folaigh an dá cheann
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Fillteán Nua
    .accesskey = N
sidebar-zen-expand = 
    .label = Barra Taoibh a Leathnú
sidebar-zen-create-new = 
    .label = Cruthaigh Nua...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Díluchtaigh agus aistrigh go cluaisín
           *[other] Díluchtaigh { $tabCount } cluaisín agus aistrigh go dtí an chéad cheann
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Athshocraigh agus priontáil an cluaisín
           *[other] Athshocraigh agus priontáil an cluaisín { $tabCount }
        }
tab-reset-pin-label = Ar ais chuig an url bioráilte



================================================
FILE: locales/ga-IE/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Mute Web Panel
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Unmute Web Panel
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Disable Mobile UserAgent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Enable Mobile UserAgent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Unload Web Panel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Delete Web Panel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Open in New Tab
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Open in Container Tab
    .accesskey = D’Athraigh Chluaisíní(s) go Spás Oibre
zen-web-side-panel-context-add-to-panel = 
    .label = Add to Web Panels
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/ga-IE/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Fáilte go
zen-welcome-title-line2 = idirlíon níos ciúine
zen-welcome-import-title = Tús Úr, Leabharmharcanna Céanna
zen-welcome-import-description-1 = Tá do leabharmharcanna, do stair agus do phasfhocail cosúil le rian brioscaí aráin tríd an idirlíon—ná fág i do dhiaidh iad!
zen-welcome-import-description-2 = Tabhair anonn iad go héasca ó bhrabhsálaí eile agus lean ar aghaidh díreach san áit ar fhág tú iad.
zen-welcome-import-button = Iompórtáil anois
zen-welcome-set-default-browser = Socraigh { -brand-short-name } mar do bhrabhsálaí réamhshocraithe
zen-welcome-dont-set-default-browser = NÁ socraigh { -brand-short-name } mar do bhrabhsálaí réamhshocraithe
zen-welcome-initial-essentials-title = D'Eochairchluaisíní, Laistigh de Shroicheann I gCónaí
zen-welcome-initial-essentials-description-1 = Coinnigh do chluaisíní is tábhachtaí inrochtana go héasca agus i gcónaí ar láimh, is cuma cé mhéad a osclaíonn tú.
zen-welcome-initial-essentials-description-2 = Bíonn cluaisíní riachtanacha le feiceáil i gcónaí, is cuma cén spás oibre ina bhfuil tú.
zen-welcome-workspace-colors-title = Do Spásanna Oibre, Do Dathanna
zen-welcome-workspace-colors-description = Pearsanaigh do bhrabhsálaí trí chéannacht datha uathúil a thabhairt do gach spás oibre.
zen-welcome-start-browsing-title =
    Réidh go léir?<br/>
    Tosaímis ag obair!
zen-welcome-start-browsing-description-1 = Tá tú réidh le tosú. Cliceáil an cnaipe thíos chun tús a chur le brabhsáil le { -brand-short-name }.
zen-welcome-start-browsing = Tum isteach!
zen-welcome-default-search-title = D'Inneall Cuardaigh Réamhshocraithe
zen-welcome-default-search-description = Roghnaigh d'inneall cuardaigh réamhshocraithe. Is féidir leat é a athrú níos déanaí!
zen-welcome-skip-button = Scipeáil
zen-welcome-finished = Tá do Zen socraithe i gceart!



================================================
FILE: locales/ga-IE/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Spásanna
zen-panel-ui-spaces-label = 
    .label = Spásanna
zen-panel-ui-workspaces-create = 
    .label = Cruthaigh Spás
zen-panel-ui-folder-create = 
    .label = Cruthaigh Fillteán
zen-panel-ui-new-empty-split = 
    .label = Scoilt Nua
zen-workspaces-panel-context-delete = 
    .label = Scrios Spás
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Athraigh Ainm
zen-workspaces-panel-change-icon = 
    .label = Athraigh Deilbhín
zen-workspaces-panel-context-default-profile = 
    .label = Socraigh Próifíl
zen-workspaces-panel-unload = 
    .label = Díluchtaigh Spás
zen-workspaces-how-to-reorder-title = Conas spásanna a athordú
zen-workspaces-how-to-reorder-desc = Tarraing na deilbhíní spáis ag bun an bharra taoibh chun iad a athordú
zen-workspaces-change-theme = 
    .label = Cuir an Téama in Eagar
zen-workspaces-panel-context-open = 
    .label = Oscail Spás Oibre
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Cuir Spás in Eagar
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spásanna
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Comhlántach
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Scoilt
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analógach
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadach
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Ar snámh
zen-panel-ui-gradient-click-to-add = Cliceáil chun dath a chur leis
zen-workspace-creation-name = 
    .placeholder = Ainm an Spáis
zen-move-tab-to-workspace-button = 
    .label = Bog go...
    .tooltiptext = Bog gach cluaisín sa fhuinneog seo go Spás
zen-workspaces-panel-context-reorder = 
    .label = Athordaigh Spásanna
zen-workspace-creation-profile = Próifíl
    .tooltiptext = Úsáidtear próifílí chun fianáin agus sonraí suímh a dheighilt idir spásanna.
zen-workspace-creation-header = Cruthaigh Spás
zen-workspace-creation-label = Úsáidtear spásanna chun do chluaisíní agus do sheisiúin a eagrú.
zen-workspaces-delete-workspace-title = Scrios an spás?
zen-workspaces-delete-workspace-body = An bhfuil tú cinnte gur mian leat { $name } a scriosadh? Ní féidir an gníomh seo a chealú.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Cluaisíní Dúnta! Úsáid <span>{ $shortcut }</span> chun é a chealú.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Glan
    .tooltiptext = Dún gach cluaisín neamhphionáilte
zen-panel-ui-workspaces-change-forward = 
    .label = An Chéad Spás Eile
zen-panel-ui-workspaces-change-back = 
    .label = Spás Roimhe Seo



================================================
FILE: locales/ga-IE/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Réaltra Den
extension-firefox-compact-galaxy-description = Téama le scéim dathanna dorcha agus teagmháil réaltra deas!
extension-firefox-compact-dream-name = D’Aisling Den
extension-firefox-compact-dream-description = Téama le scéim dathanna éadrom agus teagmháil dheas aisling-y!



================================================
FILE: locales/ga-IE/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = URL tosaigh
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Taispeáin an painéal gréasáin seo i mód soghluaiste
    .accesskey = m



================================================
FILE: locales/ga-IE/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Cuma agus Mothú
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = D’fhéadfadh sé a bheith níos fusa do shuíomhanna gréasáin tú a rianú má athraíonn tú an teanga réamhshocraithe.
zen-vertical-tabs-layout-header = Leagan Amach Brabhsálaí
zen-vertical-tabs-layout-description = Roghnaigh an leagan amach is fearr a oireann duit
zen-layout-single-toolbar = Barra uirlisí aonair
zen-layout-multiple-toolbar = Barraí uirlisí iolracha
zen-layout-collapsed-toolbar = Barra uirlisí fillte
sync-currently-syncing-workspaces = Spásanna Oibre Eile
sync-engine-workspaces = 
    .label = Spásanna Oibre Eile
    .tooltiptext = Sioncrónaigh do spásanna oibre trasna gléasanna
    .accesskey = W
zen-glance-title = Sracfhéachaint
zen-glance-header = Socruithe ginearálta le haghaidh glance
zen-glance-description = Faigh forbhreathnú tapa ar do naisc gan iad a oscailt i gcluaisín nua
zen-glance-trigger-label = Modh spreagtha
zen-glance-enabled = 
    .label = Cumasaigh sracfhéachaint
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Cliceáil
zen-glance-trigger-alt-click = 
    .label = Alt + Cliceáil
zen-glance-trigger-shift-click = 
    .label = Shift + Cliceáil
zen-glance-trigger-meta-click = 
    .label = Meta (Ordú) + Cliceáil
zen-look-and-feel-compact-view-header = Taispeáin i ndlúth d’amharc
zen-look-and-feel-compact-view-description = Ná taispeáin ach na barraí uirlisí a úsáideann tú!
zen-look-and-feel-compact-view-enabled = 
    .label = Cumasaigh { -brand-short-name } mód dlúth
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Folaigh an barra uirlisí barr chomh maith i mód dlúth
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Déan preabfhuinneog an bharra uirlisí go hachomair agus cluaisíní nua á n-athrú nó á n-oscailt i mód dlúth
pane-zen-tabs-title = Bainistíocht Cluaisíní
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Spásanna Oibre Eile
zen-tabs-unloader-enabled = 
    .label = Cumasaigh Díluchtóir Cluaisíní
zen-tabs-close-on-back-with-no-history = 
    .label = Dún an cluaisín agus aistrigh go dtí an cluaisín úinéara (nó an cluaisín is déanaí a úsáideadh) nuair a théann tú ar ais gan aon stair
zen-tabs-cycle-by-attribute = 
    .label = Timthriallta Ctrl+Tab laistigh de na cluaisíní Riachtanach nó Spás Oibre amháin
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Déan neamhaird de na cluaisíní atá ar feitheamh agus tú ag rothlú le Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Roghnóidh Ctrl+Tab an t-ord a úsáideadh le déanaí, toisc go bhfuil sé cumasaithe
zen-look-and-feel-compact-toolbar-themed = 
    .label = Úsáid cúlra téamach don bharra uirlisí dlúth
zen-workspace-continue-where-left-off = 
    .label = Lean ar aghaidh san áit ar fhág tú
pane-zen-pinned-tab-manager-title = Cluaisíní Prionáilte
zen-pinned-tab-manager-header = Socruithe ginearálta le haghaidh cluaisíní bioráilte
zen-pinned-tab-manager-description = Bainistigh iompar breise na gcluaisíní bioráilte
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Athchóirigh cluaisíní bioráilte chuig a URL bioráilte bunaidh ag an am tosaithe
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Cumasaigh bunriachtanais shonracha don choimeádán
zen-pinned-tab-manager-close-shortcut-behavior-label = Iompar Aicearra Dún Cluaisín
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Athshocraigh an URL, díluchtaigh agus aistrigh go dtí an chéad chluaisín eile
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Díluchtaigh agus aistrigh go dtí an chéad chluaisín eile
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Athshocraigh an URL agus aistrigh go dtí an chéad chluaisín eile
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Athraigh go dtí an chéad chluaisín eile
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Athshocraigh URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Dún an cluaisín
pane-zen-workspaces-header = Spásanna Oibre Eile
zen-settings-workspaces-header = Socruithe ginearálta le haghaidh spásanna oibre
zen-settings-workspaces-description = Le spásanna oibre, is féidir leat roinnt seisiún brabhsála a bheith agat ag an am céanna!
zen-settings-workspaces-enabled = 
    .label = Cumasaigh Spásanna Oibre
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Folaigh an táscaire coimeádáin réamhshocraithe sa bharra cluaisíní
zen-key-unsaved = Aicearra gan sábháil! Sábháil é trí chliceáil ar an eochair "Escape" tar éis é a athchlóscríobh.
zen-key-conflict = Coimhlintí le { $group } -> { $shortcut }
pane-zen-theme-title = Socruithe Téama
zen-vertical-tabs-title = Leagan amach barra taobh agus cluaisíní
zen-vertical-tabs-header = Cluaisíní Ingearacha
zen-vertical-tabs-description = Bainistigh do chluaisíní i leagan amach ingearach
zen-vertical-tabs-show-expand-button = 
    .label = Taispeáin an Cnaipe Leathnaithe
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Taispeáin an Cnaipe Cluaisín Nua ar an Liosta Cluaisíní
zen-vertical-tabs-newtab-top-button-up = 
    .label = Bog an cnaipe cluaisín nua go dtí an barr
zen-vertical-tabs-expand-tabs-by-default = Leathnaigh na Cluaisíní de réir Réamhshocraithe
zen-vertical-tabs-dont-expand-tabs-by-default = Ná Leathnaigh na Cluaisíní de réir Réamhshocraithe
zen-vertical-tabs-expand-tabs-on-hover = Leathnaigh na Cluaisíní ar an Luamhán (Ní oibreoidh sé ar mhodh dlúth)
zen-vertical-tabs-expand-tabs-header = Conas cluaisíní a leathnú
zen-vertical-tabs-expand-tabs-description = Roghnaigh conas cluaisíní a leathnú sa bharra taoibh
zen-theme-marketplace-header = Modhanna Zen
zen-theme-disable-all-enabled = 
    .title = Díchumasaigh gach modhanna
zen-theme-disable-all-disabled = 
    .title = Cumasaigh gach modhanna
zen-theme-marketplace-description = Aimsigh agus suiteáil modhanna ón siopa.
zen-theme-marketplace-remove-button = 
    .label = Bain an mod
zen-theme-marketplace-check-for-updates-button = 
    .label = Seiceáil le haghaidh Nuashonruithe
zen-theme-marketplace-import-button = 
    .label = Iompórtáil modhanna
zen-theme-marketplace-export-button = 
    .label = Easpórtáil Modhanna
zen-theme-marketplace-import-success = Iompórtáladh na modhanna go rathúil
zen-theme-marketplace-import-failure = Tharla earráid agus na modanna á n-iompórtáil
zen-theme-marketplace-export-success = Easpórtáladh na modanna go rathúil
zen-theme-marketplace-export-failure = Tharla earráid agus na modanna á n-easpórtáil
zen-theme-marketplace-updates-success = Nuashonraíodh na modanna go rathúil
zen-theme-marketplace-updates-failure = Ní bhfuarthas aon nuashonruithe!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Díchumasaigh an mod
zen-theme-marketplace-toggle-disabled-button = 
    .title = Cumasaigh mod
zen-theme-marketplace-remove-confirmation = An bhfuil tú cinnte gur mian leat an mod seo a bhaint?
zen-theme-marketplace-close-modal = Dún
zen-theme-marketplace-theme-header-title = 
    .title = Roghnóir CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Dada
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Clóscríobh rud éigin...
pane-zen-marketplace-title = Modhanna Zen
zen-themes-auto-update = 
    .label = Nuashonraigh mods suiteáilte go huathoibríoch ag am tosaithe
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Athraigh go dtí an spás oibre ina bhfuil an coimeádán socraithe mar réamhshocrú agus cluaisíní coimeádáin á n-oscailt
zen-theme-marketplace-link = Tabhair cuairt ar an Siopa
zen-dark-theme-styles-header = Stíleanna Téama Dorcha
zen-dark-theme-styles-description = Saincheap an téama dorcha de réir do thaitin
zen-dark-theme-styles-amoled = Téama Oíche
zen-dark-theme-styles-default = Téama Dorcha Réamhshocraithe
zen-dark-theme-styles-colorful = Téama Dorcha Ildaite
zen-compact-mode-styles-left = Folaigh barra na gCluaisíní
zen-compact-mode-styles-top = Folaigh an barra barra
zen-compact-mode-styles-both = Folaigh an dá cheann
zen-urlbar-title = Barra URL Zen
zen-urlbar-header = Socruithe ginearálta don bharra URL
zen-urlbar-description = Saincheap an barra URL de réir mar is mian leat
zen-urlbar-behavior-label = Iompraíocht
zen-urlbar-behavior-normal = 
    .label = Gnáth
zen-urlbar-behavior-floating-on-type = 
    .label = Ar snámh amháin agus tú ag clóscríobh
zen-urlbar-behavior-float = 
    .label = I gcónaí ag snámh
pane-zen-CKS-title = Aicearraí Méarchláir
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Aicearraí Méarchláir { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Modanna Zen
zen-settings-CKS-header = Saincheap do aicearraí méarchláir
zen-settings-CKS-description = Athraigh na haicearraí méarchláir réamhshocraithe de réir mar is mian leat agus feabhsaigh do thaithí brabhsála
zen-settings-CKS-disable-firefox = 
    .label = Díchumasaigh aicearraí méarchláir réamhshocraithe { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Aicearra Dúblach
zen-settings-CKS-reset-shortcuts = 
    .label = Athshocraigh go Réamhshocrú
zenCKSOption-group-other = Eile
zenCKSOption-group-windowAndTabManagement = Bainistíocht Fuinneog & Cluaisíní
zenCKSOption-group-navigation = Loingseoireacht
zenCKSOption-group-searchAndFind = Cuardaigh & Aimsigh
zenCKSOption-group-pageOperations = Oibríochtaí Leathanaigh
zenCKSOption-group-historyAndBookmarks = Stair agus Leabharmharcanna
zenCKSOption-group-mediaAndDisplay = Meáin & Taispeántas
zenCKSOption-group-zen-compact-mode = Mód Dlúth
zenCKSOption-group-zen-workspace = Spásanna Oibre Eile
zenCKSOption-group-zen-other = Gnéithe Zen Eile
zenCKSOption-group-zen-split-view = Radharc Scoilte
zenCKSOption-group-devTools = Uirlisí Forbróra
zen-key-quick-restart = Atosú Tapa
zen-window-new-shortcut = Fuinneog Nua
zen-tab-new-shortcut = Cluaisín Nua
zen-key-redo = Athdhéan
zen-restore-last-closed-tab-shortcut = Athchóirigh an Cluaisín Deiridh Dúnta
zen-location-open-shortcut = Oscail Suíomh
zen-location-open-shortcut-alt = Oscail Suíomh (Alt)
zen-key-undo-close-window = Cealaigh Dún Fuinneog
zen-text-action-undo-shortcut = Cealaigh
zen-text-action-redo-shortcut = Athdhéan
zen-text-action-cut-shortcut = Gearr
zen-text-action-copy-shortcut = Cóipeáil
zen-text-action-copy-url-shortcut = Cóipeáil an URL reatha
zen-text-action-copy-url-markdown-shortcut = Cóipeáil an URL reatha mar Markdown
zen-text-action-paste-shortcut = Greamaigh
zen-text-action-select-all-shortcut = Roghnaigh Uile
zen-text-action-delete-shortcut = Scrios
zen-history-show-all-shortcut-mac = Taispeáin an Stair Uile (Mac)
zen-full-screen-shortcut = Athraigh an Scáileán Lán
zen-reader-mode-toggle-shortcut-windows = Mód Léitheora a Athrú (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Athraigh Pictiúr-i-Pictiúr (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Scoránaigh Pictiúr-i-Pictiúr (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Scoránaigh Pictiúr-i-Pictiúr (Mac Alt)
zen-page-source-shortcut-safari = Féach ar Fhoinse an Leathanaigh (Safari)
zen-nav-stop-shortcut = Stop ag Lódáil
zen-history-sidebar-shortcut = Taispeáin Barra Taobh na Staire
zen-window-minimize-shortcut = Íoslaghdaigh an Fhuinneog
zen-help-shortcut = Oscail Cabhair
zen-preferences-shortcut = Oscail Roghanna
zen-hide-app-shortcut = Folaigh an Feidhmchlár
zen-hide-other-apps-shortcut = Folaigh Feidhmchláir Eile
zen-search-focus-shortcut = Cuardach Fócais
zen-search-focus-shortcut-alt = Fócas ar Chuardach (Alt)
zen-downloads-shortcut = Íoslódálacha Oscailte
zen-addons-shortcut = Oscail Breiseáin
zen-file-open-shortcut = Oscail Comhad
zen-save-page-shortcut = Sábháil Leathanach
zen-print-shortcut = Priontáil Leathanach
zen-close-shortcut-2 = Dún an Cluaisín
zen-mute-toggle-shortcut = Scoránaigh Balbhaithe
zen-key-delete = Eochair Scriosta
zen-key-go-back = Téigh Ar Ais
zen-key-go-forward = Téigh Ar Aghaidh
zen-nav-back-shortcut-alt = Nascleanúint Ar Ais (Alt)
zen-nav-fwd-shortcut-alt = Nascleanúint Ar Aghaidh (Alt)
zen-history-show-all-shortcut = Taispeáin an Stair Uile
zen-key-enter-full-screen = Téigh isteach sa Lánscáileán
zen-key-exit-full-screen = Scoir Lánscáileáin
zen-ai-chatbot-sidebar-shortcut = Barra Taobh Comhrá AI a Athrú
zen-key-inspector-mac = Scoránaigh Cigire (Mac)
zen-toggle-sidebar-shortcut = Scoránaigh an Taobhbharra Firefox
zen-toggle-pin-tab-shortcut = Cluaisín bioráin a scoránaigh
zen-reader-mode-toggle-shortcut-other = Scoránaigh Mód Léitheoir
zen-picture-in-picture-toggle-shortcut = Scoránaigh Pictiúr-i-Pictiúr
zen-nav-reload-shortcut-2 = Athlódáil an Leathanach
zen-key-about-processes = Maidir le Próisis
zen-page-source-shortcut = Féach ar Fhoinse an Leathanaigh
zen-page-info-shortcut = Féach ar Fhaisnéis an Leathanaigh
zen-find-shortcut = Aimsigh ar Leathanach
zen-search-find-again-shortcut = Aimsigh Arís
zen-search-find-again-shortcut-prev = Aimsigh Roimhe Seo
zen-search-find-again-shortcut-2 = Aimsigh Arís (Alt)
zen-bookmark-this-page-shortcut = Leabharmharc an Leathanach seo
zen-bookmark-show-library-shortcut = Taispeáin Leabharlann Leabharmharcanna
zen-key-stop = Stop ag Lódáil
zen-full-zoom-reduce-shortcut = Zúmáil Amach
zen-full-zoom-enlarge-shortcut = Zúmáil Isteach
zen-full-zoom-reset-shortcut = Athshocraigh Zúmáil
zen-full-zoom-reset-shortcut-alt = Athshocraigh Zúmáil (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zúmáil Isteach (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zúmáil Isteach (Alt 2)
zen-bidi-switch-direction-shortcut = Athraigh Treo an Téacs
zen-private-browsing-shortcut = Brabhsáil Phríobháideach
zen-screenshot-shortcut = Tóg Scáileán den Scáileán
zen-key-sanitize = Glan Sonraí Brabhsála
zen-quit-app-shortcut = Scoir an Feidhmchlár
zen-key-wr-capture-cmd = Ordú Gabhála WR
zen-key-wr-toggle-capture-sequence-cmd = Seicheamh Gabhála WR a Athrú
zen-nav-reload-shortcut = Athlódáil an Leathanach
zen-nav-reload-shortcut-skip-cache = Athlódáil an Leathanach (Scipeáil an Taisce)
zen-close-shortcut = Dún an Fhuinneog
zen-close-tab-shortcut = Dún an Cluaisín
zen-compact-mode-shortcut-show-sidebar = Scoránaigh Barra Taoibh Snámh
zen-compact-mode-shortcut-show-toolbar = Scoránaigh Barra Uirlisí Snámh
zen-compact-mode-shortcut-toggle = Scoránaigh Mód Dlúth
zen-glance-expand = Leathnaigh an Súil
zen-workspace-shortcut-switch-1 = Athraigh go Spás Oibre 1
zen-workspace-shortcut-switch-2 = Athraigh go Spás Oibre 2
zen-workspace-shortcut-switch-3 = Athraigh go Spás Oibre 3
zen-workspace-shortcut-switch-4 = Athraigh go Spás Oibre 4
zen-workspace-shortcut-switch-5 = Athraigh go Spás Oibre 5
zen-workspace-shortcut-switch-6 = Athraigh go Spás Oibre 6
zen-workspace-shortcut-switch-7 = Athraigh go Spás Oibre 7
zen-workspace-shortcut-switch-8 = Athraigh go Spás Oibre 8
zen-workspace-shortcut-switch-9 = Athraigh go Spás Oibre 9
zen-workspace-shortcut-switch-10 = Athraigh go Spás Oibre 10
zen-workspace-shortcut-forward = Spás Oibre Ar Aghaidh
zen-workspace-shortcut-backward = Spás Oibre Ar Ais
zen-sidebar-shortcut-toggle = Leithead an Bharra Taoibh a Scoránaigh
zen-pinned-tab-shortcut-reset = Athshocraigh an Cluaisín Prionáilte go dtí an URL Prionáilte
zen-split-view-shortcut-grid = Eangach Radharc Scoilte a Athsholáthar
zen-split-view-shortcut-vertical = Athraigh an Radharc Scoilte Ingearach
zen-split-view-shortcut-horizontal = Amharc Scoilte Cothrománach a Athrú
zen-split-view-shortcut-unsplit = Dún Radharc Scoilte
zen-new-empty-split-view-shortcut = Radharc Scoilte Folamh Nua
zen-key-select-tab-1 = Roghnaigh cluaisín #1
zen-key-select-tab-2 = Roghnaigh cluaisín #2
zen-key-select-tab-3 = Roghnaigh cluaisín #3
zen-key-select-tab-4 = Roghnaigh cluaisín #4
zen-key-select-tab-5 = Roghnaigh cluaisín #5
zen-key-select-tab-6 = Roghnaigh cluaisín #6
zen-key-select-tab-7 = Roghnaigh cluaisín #7
zen-key-select-tab-8 = Roghnaigh cluaisín #8
zen-key-select-tab-last = Roghnaigh an cluaisín deireanach
zen-key-show-all-tabs = Taispeáin na cluaisíní go léir
zen-key-goto-history = Téigh go dtí an stair
zen-key-go-home = Téigh Abhaile
zen-bookmark-show-sidebar-shortcut = Taispeáin Barra Taobh Leabharmharcanna
zen-bookmark-show-toolbar-shortcut = Taispeáin Barra Uirlisí Leabharmharcanna
zen-devtools-toggle-shortcut = Scoránaigh DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Scoránaigh Bosca Uirlisí Brabhsálaí
zen-devtools-toggle-browser-console-shortcut = Scoránaigh Consól Brabhsálaí
zen-devtools-toggle-responsive-design-mode-shortcut = Scoránaigh Mód Dearaidh Sofhreagrach
zen-devtools-toggle-inspector-shortcut = Scoránaigh Cigire
zen-devtools-toggle-web-console-shortcut = Scoránaigh Console Gréasáin
zen-devtools-toggle-js-debugger-shortcut = Scoránaigh JavaScript Dífhabhtóir
zen-devtools-toggle-net-monitor-shortcut = Scoránaigh Monatóireacht a dhéanamh ar Líonra
zen-devtools-toggle-style-editor-shortcut = Scoránaigh Eagarthóir Stíl
zen-devtools-toggle-performance-shortcut = Scoránaigh Feidhmíochta
zen-devtools-toggle-storage-shortcut = Scoránaigh Stóráil
zen-devtools-toggle-dom-shortcut = Scoránaigh DOM
zen-devtools-toggle-accessibility-shortcut = Scoránaigh Inrochtaineacht
zen-close-all-unpinned-tabs-shortcut = Dún Gach Cluaisín Gan Phionáil
zen-new-unsynced-window-shortcut = Fuinneog Nua Neamhshioncrónaithe



================================================
FILE: locales/he/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = חיפוש { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = שינוי שם תיקייה
zen-folders-panel-unpack-folder = 
    .label = חילוץ תיקייה
zen-folders-new-subfolder = 
    .label = תת תיקייה חדשה
zen-folders-panel-delete-folder = 
    .label = מחיקת תיקייה
zen-folders-panel-convert-folder-to-space = 
    .label = המרת תיקייה למרחב
zen-folders-panel-change-folder-space = 
    .label = שינוי מרחב...
zen-folders-unload-all-tooltip = 
    .tooltiptext = פינוי כל הפעילים בתיקייה הזו
zen-folders-unload-folder = 
    .label = כיבוי כל הלשוניות
zen-folders-search-no-results = לא נמצאו לשוניות שתואמות לחיפוש זה 🤔



================================================
FILE: locales/he/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = פרופיל נוכחי
unified-extensions-description = הרחבות מוסיפות פונקציונליות נוספת ל{ -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = איפוס לשונית מוצמדת
    .accesskey = ר
tab-context-zen-add-essential = 
    .label = הוספה לחיוניות
    .accesskey = ק
tab-context-zen-add-essential-badge = { $num } / { $max } מקומות מלאים
tab-context-zen-remove-essential = 
    .label = הסרה מהחיוניות
    .accesskey = ר
tab-context-zen-replace-pinned-url-with-current = 
    .label = החלפת הכתובת המוצמדת בנוכחית
    .accesskey = ב
tab-context-zen-edit-title = 
    .label = שינוי תווית...
tab-context-zen-edit-icon = 
    .label = שינוי סמל...
zen-themes-corrupted = קובץ השפצור { -brand-short-name } שלך פגום. בוצע איפוס לערכת הנושא ברירת המחדל.
zen-shortcuts-corrupted = קיצורי דרך { -brand-short-name } פגום. הם אופסו לקיצורי דרך ברירת מחדל.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification = הופעלה שורת הכתובת החדשה, כך שאין צורך בעמודי לשונית חדשה.<br/><br/>אפשר לפתוח לשונית חדשה ולראות את שורת הכתובת החדשה בפעולה!
zen-disable = השבתה
pictureinpicture-minimize-btn = 
    .aria-label = מזעור
    .tooltip = מזעור
zen-panel-ui-gradient-generator-custom-color = צבע מותאם אישית
zen-copy-current-url-confirmation = הכתובת הנוכחית הועתקה!
zen-general-cancel-label = 
    .label = ביטול
zen-general-confirm = 
    .label = אישור
zen-pinned-tab-replaced = כתובת הלשונית המוצמדת הוחלפה בכתובת הנוכחית!
zen-tabs-renamed = שם הלשונית השתנה בהצלחה!
zen-background-tab-opened-toast = לשונית נפתחה ברקע!
zen-workspace-renamed-toast = שם מרחב העבודה השתנה בהצלחה!
zen-toggle-compact-mode-button = 
    .label = מצב חסכוני
    .tooltiptext = הפעלת/כיבוי מצב חסכוני

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = מידע נוסף
zen-close-label = סגירה
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = חיפוש...
zen-icons-picker-emoji = 
    .label = אימוג׳י
zen-icons-picker-svg = 
    .label = סמלים
urlbar-search-mode-zen_actions = פעולות
zen-site-data-settings = הגדרות
zen-generic-manage = ניהול
zen-generic-more = עוד
zen-generic-next = הבא
zen-essentials-promo-label = הוספה לחיוניות
zen-essentials-promo-sublabel = שומרים את הלשוניות המועדפות במרחק לחיצה
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = אושר
zen-site-data-setting-block = חסום
zen-site-data-protections-enabled = מופעל
zen-site-data-protections-disabled = מושבת
zen-site-data-setting-cross-site = עוגיות חוצות אתרים
zen-site-data-security-info-extension = 
    .label = הרחבה
zen-site-data-security-info-secure = 
    .label = מאובטח
zen-site-data-security-info-not-secure = 
    .label = לא מאובטח
zen-site-data-manage-addons = 
    .label = ניהול הרחבות
zen-site-data-get-addons = 
    .label = הוספת הרחבות
zen-site-data-site-settings = 
    .label = הגדרות כל האתרים
zen-site-data-header-share = 
    .tooltiptext = שיתוף עמוד זה
zen-site-data-header-reader-mode = 
    .tooltiptext = כניסה למצב קריאה
zen-site-data-header-screenshot = 
    .tooltiptext = צילום מסך
zen-site-data-header-bookmark = 
    .tooltiptext = הוספת עמוד זה לסימניות
zen-urlbar-copy-url-button = 
    .tooltiptext = העתקת כתובת
zen-site-data-setting-site-protection = הגנת מעקב

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = בית חדש לתוספים, הרשאות, ועוד
zen-site-data-panel-feature-callout-subtitle = ניתן ללחוץ על הסמל כדי לנהל הגדרות אתר, לצפות במידע אבטחה, לגשת לתוספים, ולבצע פעולות נפוצות.
zen-open-link-in-glance = 
    .label = קישור חדש במבט מהיר
    .accesskey = ע
zen-sidebar-notification-updated-heading = העדכון הושלם!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = מה חדש ב־{ -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = צפייה בהערות שחרור הגרסה
zen-sidebar-notification-restart-safe-mode-label = משהו השתבש?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = הפעלה מחדש במצב בטוח
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = מידע נוסף
zen-window-sync-migration-dialog-accept = הבנתי



================================================
FILE: locales/he/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] הרחבת לשוניות מוצמדות
           *[false] צמצום לשוניות מוצמדות
        }
zen-menubar-appearance = 
    .label = מראה
zen-menubar-appearance-description = 
    .label = האתרים ישתמשו ב:
zen-menubar-appearance-auto = 
    .label = אוטומטי
zen-menubar-appearance-light = 
    .label = בהיר
zen-menubar-appearance-dark = 
    .label = כהה
zen-menubar-new-unsynced-window = 
    .label = חלון ריק חדש



================================================
FILE: locales/he/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] פיצול לשונית (נדרש מספר לשוניות מסומנות)
           *[other] פיצול { $tabCount } לשוניות
        }
    .accesskey = ד
zen-split-link = 
    .label = פיצול הקישור ללשונית חדשה
    .accesskey = ד
zen-split-view-modifier-header = תצוגה מפוצלת
zen-split-view-modifier-activate-reallocation = 
    .label = הזזה בפעולה
zen-split-view-modifier-enabled-toast = הזזת תצוגה מפוצלת פעילה.
zen-split-view-modifier-enabled-toast-description = גרירה ושחרור כדי להזיז. Esc ליציאה.
zen-split-view-modifier-disabled-toast = הזזת תצוגה מפוצלת כבויה.



================================================
FILE: locales/he/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = לשוניות בצד שמאל
    .accesskey = ר
zen-toolbar-context-compact-mode = 
    .label = מצב חסכוני
zen-toolbar-context-compact-mode-enable = 
    .label = הפעלת מצב חסכוני
    .accesskey = ג
zen-toolbar-context-compact-mode-just-tabs = 
    .label = הסתרת סרגל צידי
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = הסתרת סרגל
zen-toolbar-context-compact-mode-hide-both = 
    .label = הסתרת שני הסרגלים
    .accesskey = י
zen-toolbar-context-new-folder = 
    .label = תיקייה חדשה
    .accesskey = מ
sidebar-zen-expand = 
    .label = הרחבת סרגל הצד
sidebar-zen-create-new = 
    .label = יצירת חדש...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] כיבוי לשונית ומעבר ללשונית
           *[other] כיבוי { $tabCount } לשוניות ומעבר ללשונית הראשונה
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] איפוס והצמדת לשונית
           *[other] איפוס והצמדת { $tabCount } לשוניות
        }
tab-reset-pin-label = חזרה לכתובת המוצמדת



================================================
FILE: locales/he/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = השתק פאנל אתר
    .accesskey = צ
zen-web-side-panel-context-unmute-panel = 
    .label = בטל השתקת פאנל אתר
    .accesskey = צ
zen-web-side-panel-context-disable-ua = 
    .label = בטל UserAgent נייד
    .accesskey = ו
zen-web-side-panel-context-enable-ua = 
    .label = הפעל UserAgent נייד
    .accesskey = צ
zen-web-side-panel-context-unload = 
    .label = פנה פאנל אתר
    .accesskey = '
zen-web-side-panel-context-delete = 
    .label = מחק פאנל אתר
    .accesskey = ג
zen-web-side-panel-open-in-new-tab = 
    .label = פתח בכרטיסייה חדשה
    .accesskey = מ
zen-web-side-panel-context-open-in-container-tab = 
    .label = בפתח בכרטיסיית מכל
    .accesskey = ב
zen-web-side-panel-context-add-to-panel = 
    .label = הוסף לפאנלים לאתרים
    .accesskey = ש
zen-webpanel-introduction-title = שמחים להציג פאנלים לאתרים
zen-webpanel-introduction-description = פאנלים לאתרים עוזרים לך לשמור את האתרים האהובים עליך בקצות האצבעות.



================================================
FILE: locales/he/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = ברוך בואך אל
zen-welcome-title-line2 = אינטרנט רגוע יותר
zen-welcome-import-title = התחלה חדשה, אותן סימניות
zen-welcome-import-description-1 = הסימניות, ההיסטוריה, והסיסמאות שלך הן כמו שביל פירורי לחם דרך האינטרנט—לא להשאיר אותן מאחור!
zen-welcome-import-description-2 = אפשר להחזיר אותן בקלות מדפדפן אחר ולהמשיך בדיוק מאיפה שהפסקת..
zen-welcome-import-button = ייבוא כעת
zen-welcome-set-default-browser = הגדרת { -brand-short-name } כדפדפן ברירת מחדל
zen-welcome-dont-set-default-browser = לא להגדיר את { -brand-short-name } כדפדפן ברירת מחדל
zen-welcome-initial-essentials-title = הלשוניות החשובות, תמיד במרחק לחיצה
zen-welcome-initial-essentials-description-1 = הלשוניות הכי חשובות שלך תמיד זמינות וקל לגשת אליהן, לא משנה כמה לשוניות פתוחות.
zen-welcome-initial-essentials-description-2 = הלשוניות הנחוצות מוצגות תמיד, לא משנה באיזה מרחב עבודה משתמשים.
zen-welcome-workspace-colors-title = מרחבי העבודה שלך, בצבעים שלך
zen-welcome-workspace-colors-description = אפשר להתאים אישית את הדפדפן שלך ולתת לכל מרחב עבודה צבע ייחודי.
zen-welcome-start-browsing-title =
    הכול מוכן?<br/>
    יוצאים לדרך!
zen-welcome-start-browsing-description-1 = הכול מוגדר והדפדפן מוכן לשימוש. יש ללחוץ על הכפתור למטה בשביל להתחיל לגלוש עם { -brand-short-name }.
zen-welcome-start-browsing = מתחילים!
zen-welcome-default-search-title = מנוע חיפוש ברירת מחדל
zen-welcome-default-search-description = נא לבחור מנוע החיפוש ברירת מחדל. תמיד ניתן לשנות הגדרה זו!
zen-welcome-skip-button = דילוג
zen-welcome-finished = דפדפן Zen שלך הוגדר בהצלחה!



================================================
FILE: locales/he/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = מרחבים
zen-panel-ui-spaces-label = 
    .label = מרחבים
zen-panel-ui-workspaces-create = 
    .label = יצירת מרחב
zen-panel-ui-folder-create = 
    .label = יצירת תיקייה
zen-panel-ui-new-empty-split = 
    .label = פיצול חדש
zen-workspaces-panel-context-delete = 
    .label = מחיקת מרחב
    .accesskey = ג
zen-workspaces-panel-change-name = 
    .label = שינוי שם
zen-workspaces-panel-change-icon = 
    .label = שינוי סמל
zen-workspaces-panel-context-default-profile = 
    .label = הגדרת פרופיל
zen-workspaces-panel-unload = 
    .label = כיבוי מרחב
zen-workspaces-how-to-reorder-title = איך לסדר מרחבים מחדש
zen-workspaces-how-to-reorder-desc = גרירה והזזה של סמלי המרחבים בתחתית סרגל הצד תשנה את הסדר שלהם
zen-workspaces-change-theme = 
    .label = עריכת ערכת נושא
zen-workspaces-panel-context-open = 
    .label = פתיחת מרחב עבודה
    .accesskey = ם
zen-workspaces-panel-context-edit = 
    .label = עריכת מרחב עבודה
    .accesskey = ק
zen-bookmark-edit-panel-workspace-selector = 
    .value = מרחבים
    .accesskey = '
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = משלים
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = חצוי
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = אנלוגי
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = טריאדי
zen-panel-ui-gradient-generator-algo-floating = 
    .label = מרחף
zen-panel-ui-gradient-click-to-add = יש ללחוץ כדי להוסיף צבע
zen-workspace-creation-name = 
    .placeholder = שם מרחב
zen-move-tab-to-workspace-button = 
    .label = העברה אל...
    .tooltiptext = העברת כל הלשוניות בחלון זה למרחב
zen-workspaces-panel-context-reorder = 
    .label = שינוי סדר מרחבים
zen-workspace-creation-profile = פרופיל
    .tooltiptext = פרופילים משמשים להפרדת קובצי Cookie ונתוני אתר בין מרחבים שונים.
zen-workspace-creation-header = יצירת מרחב
zen-workspace-creation-label = המרחבים משמשים לסידור לשוניות והפעלות.
zen-workspaces-delete-workspace-title = למחוק את המרחב?
zen-workspaces-delete-workspace-body = למחוק את { $name }? לא ניתן לבטל פעולה זו.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = הלשוניות נסגרו! לחיצה על <span>{ $shortcut }</span> תבטל את הסגירה.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = ניקוי
    .tooltiptext = סגירת כל הלשוניות שאינן מוצמדות
zen-panel-ui-workspaces-change-forward = 
    .label = מרחב הבא
zen-panel-ui-workspaces-change-back = 
    .label = מרחב קודם



================================================
FILE: locales/he/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen גלקסיה
extension-firefox-compact-galaxy-description = עיצוב עם ערכת צבעים כהה עם טיפה יפה של גלקסיה!
extension-firefox-compact-dream-name = Zen חלום
extension-firefox-compact-dream-description = עיצוב עם ערכת צבעים בהירה עם טיפה יפה של חלום!



================================================
FILE: locales/he/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = קישור התחלתי
    .accesskey = ן
zen-new-web-panel-user-agent = 
    .value = הצג את פאנל האתר הזה במצב נייד
    .accesskey = צ



================================================
FILE: locales/he/browser/browser/preferences/zen-preferences.ftl
================================================
[Binary file]


================================================
FILE: locales/hu/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Keresés { $folder-name } mappában...
zen-folders-panel-rename-folder = 
    .label = Mappa átnevezése
zen-folders-panel-unpack-folder = 
    .label = Mappa kibontása
zen-folders-new-subfolder = 
    .label = Új almappa
zen-folders-panel-delete-folder = 
    .label = Mappa törlése
zen-folders-panel-convert-folder-to-space = 
    .label = Mappa konvertálása környezetté
zen-folders-panel-change-folder-space = 
    .label = Környezet váltása...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Aktív lapok ürítése ebben a mappában
zen-folders-unload-folder = 
    .label = Minden lap ürítése
zen-folders-search-no-results = Nincsenek a keresésnek megfelelő lapok 🤔



================================================
FILE: locales/hu/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = jelenlegi profil
unified-extensions-description = A bővítmények a { -brand-short-name }-t új funkciókkal látják el.
tab-context-zen-reset-pinned-tab = 
    .label = Kitűzött lap visszaállítása
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Felvétel az alapvetőkbe
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } hely foglalt
tab-context-zen-remove-essential = 
    .label = Eltávolítás az alapvetőkből
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Kitűzött lap cseréje a jelenlegi URL-el
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Címke módosítása...
tab-context-zen-edit-icon = 
    .label = Ikon módosítása...
zen-themes-corrupted = A te { -brand-short-name } mod fájljaid károsodtak. Vissza lettek állítva az eredeti témára.
zen-shortcuts-corrupted = A te { -brand-short-name } parancsikonok fájlod károsodott. Vissza lettek állítva az eredeti parancsikonokra.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Az új URL sáv engedélyezve lett, így nincs szükség új lapokra.<br/><br/>
    Próbáljon ki egy új lapot nyitni, hogy láthassa az új URL-sávot működés közben!
zen-disable = Kikapcsolás
pictureinpicture-minimize-btn = 
    .aria-label = Minimalizálás
    .tooltip = Minimalizálás
zen-panel-ui-gradient-generator-custom-color = Egyedi szín
zen-copy-current-url-confirmation = Jelenlegi URL másolva!
zen-general-cancel-label = 
    .label = Mégsem
zen-general-confirm = 
    .label = Megerősítés
zen-pinned-tab-replaced = A rögzített lap URL címe helyébe az aktuális URL cím lépett!
zen-tabs-renamed = A lap sikeresen át lett nevezve!
zen-background-tab-opened-toast = Új lap megnyitva!
zen-workspace-renamed-toast = A munkakörnyezet sikeresen át lett nevezve!
zen-toggle-compact-mode-button = 
    .label = Kompakt mód
    .tooltiptext = Kompakt mód ki-/bekapcsolása

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Tudjon meg többet
zen-close-label = Bezárás
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Keresés...
zen-icons-picker-emoji = 
    .label = Emojik
zen-icons-picker-svg = 
    .label = Ikonok
urlbar-search-mode-zen_actions = Műveletek
zen-site-data-settings = Beállítások
zen-generic-manage = Kezelés
zen-generic-more = Több
zen-generic-next = Következő
zen-essentials-promo-label = Felvétel az alapvetőkbe
zen-essentials-promo-sublabel = Tartsd kedvenc lapjaid egy kattintásnyira
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Engedélyezve
zen-site-data-setting-block = Blokkolva
zen-site-data-protections-enabled = Engedélyezve
zen-site-data-protections-disabled = Letiltva
zen-site-data-setting-cross-site = Webhelyek közötti sütik
zen-site-data-security-info-extension = 
    .label = Kiegészítő
zen-site-data-security-info-secure = 
    .label = Biztonságos
zen-site-data-security-info-not-secure = 
    .label = Nem biztonságos
zen-site-data-manage-addons = 
    .label = Kiegészítők kezelése
zen-site-data-get-addons = 
    .label = Kiegészítő hozzáadása
zen-site-data-site-settings = 
    .label = Minden webhelybeállítás
zen-site-data-header-share = 
    .tooltiptext = Oldal megosztása
zen-site-data-header-reader-mode = 
    .tooltiptext = Olvasó módba lépés
zen-site-data-header-screenshot = 
    .tooltiptext = Képernyőkép készítése
zen-site-data-header-bookmark = 
    .tooltiptext = Oldal mentése a könyvjelzők közé
zen-urlbar-copy-url-button = 
    .tooltiptext = URL másolása
zen-site-data-setting-site-protection = Nyomkövetés védelem

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Új hely az add-onok, engedélyek és egyéb elemek számára
zen-site-data-panel-feature-callout-subtitle = Kattints az ikonra a webhely beállításainak kezeléséhez, a biztonsági információk megtekintéséhez, a kiegészítők eléréséhez és a gyakori műveletek végrehajtásához.
zen-open-link-in-glance = 
    .label = Link megnyitása a bepillantóban
    .accesskey = G
zen-sidebar-notification-updated-heading = Frissítés befejezve!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = { -brand-short-name } újdonságai
zen-sidebar-notification-updated-tooltip = 
    .title = Változások listájának megtekintése
zen-sidebar-notification-restart-safe-mode-label = Valami elromlott?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Újraindítás biztonságos módban
zen-window-sync-migration-dialog-title = Tartsad szinkronban az ablakaid
zen-window-sync-migration-dialog-message = A Zen mostantól szinkronizálja az ugyanazon eszközön található ablakokat, így az egyik ablakban végzett módosítások azonnal megjelennek a többiben is.
zen-window-sync-migration-dialog-learn-more = Tudj meg többet
zen-window-sync-migration-dialog-accept = Értettem



================================================
FILE: locales/hu/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Rögzített lapok kibontása
           *[false] Rögzített lapok összecsukása
        }
zen-menubar-appearance = 
    .label = Megjelenés
zen-menubar-appearance-description = 
    .label = A weboldalak ezt fogják használni:
zen-menubar-appearance-auto = 
    .label = Automatikus
zen-menubar-appearance-light = 
    .label = Világos
zen-menubar-appearance-dark = 
    .label = Sötét
zen-menubar-new-unsynced-window = 
    .label = Új üres lap



================================================
FILE: locales/hu/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Felosztott lapok (válassz ki több lapot)
           *[other] { $tabCount } lap felosztása
        }
    .accesskey = S
zen-split-link = 
    .label = Hivatkozás felosztása új lapban
    .accesskey = S
zen-split-view-modifier-header = Osztott nézet
zen-split-view-modifier-activate-reallocation = 
    .label = Újraosztás aktiválása
zen-split-view-modifier-enabled-toast = Osztott nézet átrendezése BEKAPCSOLVA.
zen-split-view-modifier-enabled-toast-description = Fogd és vidd a nézetet az átrendezéshez. Nyomd meg az ESC gombot a kilépéshez.
zen-split-view-modifier-disabled-toast = Osztott nézet átrendezése KIKAPCSOLVA.



================================================
FILE: locales/hu/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Lapok a jobb oldalon
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Kompakt mód
zen-toolbar-context-compact-mode-enable = 
    .label = Kompakt mód engedélyezése
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Oldalsáv elrejtése
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Eszköztár elrejtése
zen-toolbar-context-compact-mode-hide-both = 
    .label = Mindkettő elrejtése
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Új mappa
    .accesskey = N
sidebar-zen-expand = 
    .label = Oldalsáv kibontása
sidebar-zen-create-new = 
    .label = Új létrehozása...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Ürítés és lap váltás
           *[other] { $tabCount } lap ürítése és első lapra váltás
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Lap visszaállítása és rögzítése
           *[other] { $tabCount } lap visszaállítása és rögzítése
        }
tab-reset-pin-label = Vissza a rögzített url címre



================================================
FILE: locales/hu/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Webpanel némítása
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Webpanel némításának feloldása
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Mobilos UserAgent kikapcsolása
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Mobilos UserAgent bekapcsolása
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Webpanel leállítása
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Webpanel törlése
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Megnyitás új lapon
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Megnyitás konténer lapon
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Hozzáadás a webpanelekhez
    .accesskey = A
zen-webpanel-introduction-title = Üdvözöljük a Zen webpaneleknél
zen-webpanel-introduction-description = A webpanelek segítségével kedvenc webhelyeit mindig kéznél tarthatja.



================================================
FILE: locales/hu/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Üdvözöljük
zen-welcome-title-line2 = egy nyugodtabb interneten
zen-welcome-import-title = Egy új kezdet, ugyanazok a könyvjelzők
zen-welcome-import-description-1 = A könyvjelzői, előzményei és jelszavai olyanok, mint a kenyérmorzsák az interneten - ne hagyja hátra őket!
zen-welcome-import-description-2 = Könnyedén áthozhatja őket egy másik böngészőből, és ott folytathatja, ahol abbahagyta..
zen-welcome-import-button = Importálás most
zen-welcome-set-default-browser = { -brand-short-name } beállítása alapértelmezett böngészőnek
zen-welcome-dont-set-default-browser = NE állítsa be a { -brand-short-name } böngészőt alapértelmezett böngészőként
zen-welcome-initial-essentials-title = A legfontosabb lapok, mindig kéznél
zen-welcome-initial-essentials-description-1 = A legfontosabb lapokat könnyen elérhetővé és mindig kéznél tarthatja, függetlenül attól, hogy hányat nyit meg.
zen-welcome-initial-essentials-description-2 = Az alapvető lapok mindig láthatóak, függetlenül attól, hogy milyen munkaterületen van.
zen-welcome-workspace-colors-title = Az Ön munkakörnyezetei, az Ön színei
zen-welcome-workspace-colors-description = Személyre szabhatja böngészőjét azáltal, hogy minden munkaterületnek saját, egyedi színt ad.
zen-welcome-start-browsing-title =
    Minden kész?<br/>
    Kezdjük!
zen-welcome-start-browsing-description-1 = Minden előkészítve és készen áll az indulásra. Kattintson az alábbi gombra a böngészés megkezdéséhez a { -brand-short-name } használatával.
zen-welcome-start-browsing = Merüljön el!
zen-welcome-default-search-title = Az Ön alapértelmezett keresőmotorja
zen-welcome-default-search-description = Válassza ki az alapértelmezett keresőmotort. Később bármikor megváltoztathatja!
zen-welcome-skip-button = Kihagyás
zen-welcome-finished = A Zen helyesen lett beállítva!



================================================
FILE: locales/hu/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Más munkakörnyezetek
zen-panel-ui-spaces-label = 
    .label = Környezetek
zen-panel-ui-workspaces-create = 
    .label = Környezet létrehozása
zen-panel-ui-folder-create = 
    .label = Mappa létrehozása
zen-panel-ui-new-empty-split = 
    .label = Új osztott nézet
zen-workspaces-panel-context-delete = 
    .label = Környezet törlése
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Átnevezés
zen-workspaces-panel-change-icon = 
    .label = Ikon módosítása
zen-workspaces-panel-context-default-profile = 
    .label = Profil beállítása
zen-workspaces-panel-unload = 
    .label = Környezet ürítése
zen-workspaces-how-to-reorder-title = Hogyan rendezhetők át a munkakörnyezetek
zen-workspaces-how-to-reorder-desc = Húzza az oldalsáv alján lévő ikonokat az átrendezéshez
zen-workspaces-change-theme = 
    .label = Téma szerkesztése
zen-workspaces-panel-context-open = 
    .label = Munkakörnyezet megnyitása
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Környezet módosítása
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Környezetek
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Komplementer
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Szétválasztás
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analóg
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triád
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Lebegő
zen-panel-ui-gradient-click-to-add = Kattintson egy szín hozzáadásához
zen-workspace-creation-name = 
    .placeholder = Környezet neve
zen-move-tab-to-workspace-button = 
    .label = Áthelyezés...
    .tooltiptext = Az ablak összes lapjának áthelyezése egy környezetbe
zen-workspaces-panel-context-reorder = 
    .label = Környezetek átrendezése
zen-workspace-creation-profile = Profil
    .tooltiptext = A profilok arra szolgálnak, hogy a sütiket és a webhelyadatokat elkülönítsék a munkakörnyezetek között.
zen-workspace-creation-header = Környezet létrehozása
zen-workspace-creation-label = A munkakörnyezetek a lapok és munkamenetek rendszerezésére szolgálnak.
zen-workspaces-delete-workspace-title = Munkakörnyezet törlése?
zen-workspaces-delete-workspace-body = Biztosan törölni szeretnéd ezt: { $name }? Ez a művelet visszafordíthatatlan.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Lapok bezárva! A visszavonáshoz használd a(z) <span>{ $shortcut }</span>.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Törlés
    .tooltiptext = Összes rögzítetlen lap bezárása
zen-panel-ui-workspaces-change-forward = 
    .label = Következő környezet
zen-panel-ui-workspaces-change-back = 
    .label = Előző környezet



================================================
FILE: locales/hu/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Egy téma sötét színnel és egy remek galaxisos érzéssel!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = Egy téma világos színnel és egy remek álomból való érzéssel!



================================================
FILE: locales/hu/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Kezdeti URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Jelenítsd meg ezt a webpanelt telefonos módban
    .accesskey = m



================================================
FILE: locales/hu/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Megjelenés és hangulat
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Az alapértelmezett nyelv átállításával a weboldalak könnyebben nyomon tudnak követni.
zen-vertical-tabs-layout-header = Böngésző elrendezés
zen-vertical-tabs-layout-description = Válassza ki az önnek legmegfelelőbb elrendezést
zen-layout-single-toolbar = Egyetlen eszköztár
zen-layout-multiple-toolbar = Több eszköztár
zen-layout-collapsed-toolbar = Összecsukott eszköztár
sync-currently-syncing-workspaces = Munkakörnyezetek
sync-engine-workspaces = 
    .label = Munkakörnyezetek
    .tooltiptext = Munkakörnyezetek szinkronizálása eszközök között
    .accesskey = W
zen-glance-title = Bepillantás
zen-glance-header = Általános beállítások a bepillantásnak
zen-glance-description = Gyors áttekintést kaphat a hivatkozásairól anélkül, hogy új lapon nyitná meg őket
zen-glance-trigger-label = Kiváltó módszer
zen-glance-enabled = 
    .label = Bepillantás engedélyezése
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Kattintás
zen-glance-trigger-alt-click = 
    .label = Alt + Kattintás
zen-glance-trigger-shift-click = 
    .label = Shift + Kattintás
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Kattintás
zen-look-and-feel-compact-view-header = Kompakt nézet
zen-look-and-feel-compact-view-description = Csak azokat az eszköztárakat lásd amit használsz!
zen-look-and-feel-compact-view-enabled = 
    .label = A { -brand-short-name } kompakt módjának bekapcsolása
zen-look-and-feel-compact-view-top-toolbar = 
    .label = A felső eszköztár is legyen elrejtve kompakt módban
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Eszköztár megjelenítése rövid ideig lap váltás vagy új megnyitása során kompakt módban
pane-zen-tabs-title = Lap kezelés
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Munkakörnyezetek
zen-tabs-unloader-enabled = 
    .label = Lap ürítő engedélyezése
zen-tabs-close-on-back-with-no-history = 
    .label = A lap bezárása után váltson a tulajdonos lapra (vagy a legutóbb használt lapra), ha nincs előzmény, amihez vissza lehetne lépni
zen-tabs-cycle-by-attribute = 
    .label = A Ctrl+Tab csak az alapvető vagy a munkakörnyezetbeli lapok között lehet váltani
zen-tabs-cycle-ignore-pending-tabs = 
    .label = A Ctrl+Tab-al történő váltáskor a várakozó lapok figyelmen kívül hagyása
zen-tabs-cycle-by-attribute-warning = A Ctrl+Tab a legutóbb használt sorrendben vált a lapok között, mivel ez a beállítás engedélyezve van
zen-look-and-feel-compact-toolbar-themed = 
    .label = Tematikus háttér használata a kompakt eszköztárhoz
zen-workspace-continue-where-left-off = 
    .label = Folytassa ott, ahol abbahagyta
pane-zen-pinned-tab-manager-title = Kitűzött lapok
zen-pinned-tab-manager-header = Általános beállítások kitűzött lapokhoz
zen-pinned-tab-manager-description = Kitűzött lapok további viselkedésének kezelése
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Kitűzött lapok visszaállítása az eredetileg kitűzött URL-re indításkor
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Konténerspecifikus alapvető fontosságú elemek engedélyezése
zen-pinned-tab-manager-close-shortcut-behavior-label = Lap bezárás gyorsbillentyű viselkedés
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = URL visszaállítása, ürítés és váltás a következő lapra
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Ürítés és váltás a következő lapra
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = URL visszaállítása és váltás a következő lapra
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Váltás a következő lapra
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = URL visszaállítása
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Lap bezárása
pane-zen-workspaces-header = Munkakörnyezetek
zen-settings-workspaces-header = Munkakörnyezetek általános beállításai
zen-settings-workspaces-description = A munkakörnyezetekkel egyszerre több böngészési munkameneted is lehet!
zen-settings-workspaces-enabled = 
    .label = Munkakörnyezetek bekapcsolása
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Alapértelmezett konténerjelző elrejtése a tabulátor sávban
zen-key-unsaved = Nem mentett gyorsbillentyű! Mentsd meg az "Escape" gomb lenyomásával, majd újraírásával.
zen-key-conflict = Ütközik ezzel: { $group } → { $shortcut }
pane-zen-theme-title = Téma beállítások
zen-vertical-tabs-title = Oldalsó sáv és lapok elrendezése
zen-vertical-tabs-header = Függőleges lapok
zen-vertical-tabs-description = Kezeld a lapjaidat függőleges elrendezésben
zen-vertical-tabs-show-expand-button = 
    .label = Nagyobbítás gomb mutatása
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Új lap gomb megjelenítése a laplistán
zen-vertical-tabs-newtab-top-button-up = 
    .label = Új lap gomb áthelyezése a tetejére
zen-vertical-tabs-expand-tabs-by-default = Lapok alapértelmezett nagyobbítása
zen-vertical-tabs-dont-expand-tabs-by-default = A lapok alapértelmezetten ne legyenek nagyobbítva
zen-vertical-tabs-expand-tabs-on-hover = Lapok kibontása fölémozgatással (Nem fog működni kompakt módban)
zen-vertical-tabs-expand-tabs-header = Hogyan legyenek a lapok nagyobbítva
zen-vertical-tabs-expand-tabs-description = Válassz, hogyan legyenek a lapok nagyobbítva az oldalsó sávon
zen-theme-marketplace-header = Zen modok
zen-theme-disable-all-enabled = 
    .title = Minden mod kikapcsolása
zen-theme-disable-all-disabled = 
    .title = Minden mod bekapcsolása
zen-theme-marketplace-description = Keress és adj hozzá modokat az áruházból.
zen-theme-marketplace-remove-button = 
    .label = Mod törlése
zen-theme-marketplace-check-for-updates-button = 
    .label = Frissítések keresése
zen-theme-marketplace-import-button = 
    .label = Modok importálása
zen-theme-marketplace-export-button = 
    .label = Modok exportálása
zen-theme-marketplace-import-success = Modok importálása sikeres
zen-theme-marketplace-import-failure = Hiba történt a modok importálása közben
zen-theme-marketplace-export-success = Modok exportálása sikeres
zen-theme-marketplace-export-failure = Hiba történt a modok exportálása közben
zen-theme-marketplace-updates-success = Modok sikeresen frissítve
zen-theme-marketplace-updates-failure = Nem található frissítés!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Mod kikapcsolása
zen-theme-marketplace-toggle-disabled-button = 
    .title = Mod bekapcsolása
zen-theme-marketplace-remove-confirmation = Biztosan el akarod távolítani ezt a modot?
zen-theme-marketplace-close-modal = Bezárás
zen-theme-marketplace-theme-header-title = 
    .title = CSS szelektor: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Nincs
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Írj valamit...
pane-zen-marketplace-title = Zen modok
zen-themes-auto-update = 
    .label = Modok automatikus frissítése indításkor
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Válts a munkakörnyezetre, ahol a konténer alapértelmezettnek van beállítva konténerlapok megnyitásakor
zen-theme-marketplace-link = Áruház megnyitása
zen-dark-theme-styles-header = Sötét téma stílusok
zen-dark-theme-styles-description = A sötét téma testreszabása tetszésed szerint
zen-dark-theme-styles-amoled = Éjszakai téma
zen-dark-theme-styles-default = Alapértelmezett sötét téma
zen-dark-theme-styles-colorful = Színes sötét téma
zen-compact-mode-styles-left = Lapsáv elrejtése
zen-compact-mode-styles-top = Felső sáv elrejtése
zen-compact-mode-styles-both = Mindkettő elrejtése
zen-urlbar-title = Zen URL sáv
zen-urlbar-header = URL sáv általános beállításai
zen-urlbar-description = Az URL sáv testreszabása a saját ízlése szerint
zen-urlbar-behavior-label = Viselkedés
zen-urlbar-behavior-normal = 
    .label = Normális
zen-urlbar-behavior-floating-on-type = 
    .label = Lebegés csak gépelés közben
zen-urlbar-behavior-float = 
    .label = Lebegés mindig
pane-zen-CKS-title = Gyorsgombok
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } gyorsgombok
category-zen-marketplace = 
    .tooltiptext = Zen modok
zen-settings-CKS-header = Gyorsgombok személyre szabása
zen-settings-CKS-description = Állítsd be kedvedre az alapértelmezett gyorsgombokat, hogy növeld a böngészési élményedet
zen-settings-CKS-disable-firefox = 
    .label = A { -brand-short-name } alapértelmezett gyorsgombjainak kikapcsolása
zen-settings-CKS-duplicate-shortcut = 
    .label = Gyorsgomb Duplikálása
zen-settings-CKS-reset-shortcuts = 
    .label = Visszaállítás alapértelmezettre
zenCKSOption-group-other = Egyéb
zenCKSOption-group-windowAndTabManagement = Ablakok és lapok kezelése
zenCKSOption-group-navigation = Navigáció
zenCKSOption-group-searchAndFind = Keresés és találat
zenCKSOption-group-pageOperations = Oldal műveletek
zenCKSOption-group-historyAndBookmarks = Előzmények és könyvjelzők
zenCKSOption-group-mediaAndDisplay = Média és megjelenítés
zenCKSOption-group-zen-compact-mode = Kompakt mód
zenCKSOption-group-zen-workspace = Munkakörnyezetek
zenCKSOption-group-zen-other = Egyéb Zen funkciók
zenCKSOption-group-zen-split-view = Osztott nézet
zenCKSOption-group-devTools = Fejlesztői eszközök
zen-key-quick-restart = Gyors újraindítás
zen-window-new-shortcut = Új ablak
zen-tab-new-shortcut = Új lap
zen-key-redo = Újra
zen-restore-last-closed-tab-shortcut = Utoljára bezárt lap újranyitása
zen-location-open-shortcut = Hely megnyitása
zen-location-open-shortcut-alt = Hely megnyitása (Alt)
zen-key-undo-close-window = Bezárt ablak újranyitása
zen-text-action-undo-shortcut = Visszavonás
zen-text-action-redo-shortcut = Újra
zen-text-action-cut-shortcut = Kivágás
zen-text-action-copy-shortcut = Másolás
zen-text-action-copy-url-shortcut = Jelenlegi URL másolása
zen-text-action-copy-url-markdown-shortcut = Jelenlegi URL másolása Markdownként
zen-text-action-paste-shortcut = Beillesztés
zen-text-action-select-all-shortcut = Összes kijelölése
zen-text-action-delete-shortcut = Törlés
zen-history-show-all-shortcut-mac = Összes előzmény mutatása (Mac)
zen-full-screen-shortcut = Teljes képernyőre váltás
zen-reader-mode-toggle-shortcut-windows = Olvasó Módra váltás (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Kép a képbenre váltás (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Kép a képben váltás (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Kép a képben váltás (Mac Alt)
zen-page-source-shortcut-safari = Oldal forrásának megtekintése (Safari)
zen-nav-stop-shortcut = Betöltés leállítása
zen-history-sidebar-shortcut = Előzmény oldalsáv mutatása
zen-window-minimize-shortcut = Ablak minimalizálása
zen-help-shortcut = Súgó megnyitása
zen-preferences-shortcut = Beállítások megnyitása
zen-hide-app-shortcut = Alkalmazás elrejtése
zen-hide-other-apps-shortcut = Többi alkalmazás elrejtése
zen-search-focus-shortcut = Fókusz Keresés
zen-search-focus-shortcut-alt = Fókusz keresés (Alt)
zen-downloads-shortcut = Letöltése megnyitása
zen-addons-shortcut = Kiegészítők megnyitása
zen-file-open-shortcut = Fájl megnyitása
zen-save-page-shortcut = Oldal mentése
zen-print-shortcut = Oldal nyomtatása
zen-close-shortcut-2 = Lap bezárása
zen-mute-toggle-shortcut = Némítás be-/kikapcsolása
zen-key-delete = Törlés gomb
zen-key-go-back = Vissza
zen-key-go-forward = Előre
zen-nav-back-shortcut-alt = Visszanavigálás (Alt)
zen-nav-fwd-shortcut-alt = Előrenavigálás (Alt)
zen-history-show-all-shortcut = Minden előzmény megjelenítése
zen-key-enter-full-screen = Belépés a teljes képernyőbe
zen-key-exit-full-screen = Kilépés a teljes képernyőből
zen-ai-chatbot-sidebar-shortcut = AI Chatbot oldalsáv ki-/bekapcsolása
zen-key-inspector-mac = Vizsgáló ki-/bekapcsolása (Mac)
zen-toggle-sidebar-shortcut = Firefox oldalsáv ki-/bekapcsolása
zen-toggle-pin-tab-shortcut = Lap rögzítése/feloldása
zen-reader-mode-toggle-shortcut-other = Olvasó mód ki-/bekapcsolása
zen-picture-in-picture-toggle-shortcut = Kép a képben mód ki-/bekapcsolása
zen-nav-reload-shortcut-2 = Oldal újratöltése
zen-key-about-processes = A folyamatokról
zen-page-source-shortcut = Oldal forrásának megtekintése
zen-page-info-shortcut = Oldal adatainak megtekintése
zen-find-shortcut = Keresés az oldalon
zen-search-find-again-shortcut = Keresés újra
zen-search-find-again-shortcut-prev = Előző keresése
zen-search-find-again-shortcut-2 = Keresés újra (Alt)
zen-bookmark-this-page-shortcut = Oldal mentése a könyvjelzők közé
zen-bookmark-show-library-shortcut = Könyvjelzőkönyvtár megtekintése
zen-key-stop = Betöltés leállítása
zen-full-zoom-reduce-shortcut = Kicsinyítés
zen-full-zoom-enlarge-shortcut = Nagyítás
zen-full-zoom-reset-shortcut = Nagyítás visszaállítása
zen-full-zoom-reset-shortcut-alt = Nagyítás visszaállítása (Alt)
zen-full-zoom-enlarge-shortcut-alt = Nagyítás (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Nagyítás (Alt 2)
zen-bidi-switch-direction-shortcut = Szöveg irányának megfordítása
zen-private-browsing-shortcut = Privát böngészés
zen-screenshot-shortcut = Képernyőkép-készítés
zen-key-sanitize = Böngészési adatok törlése
zen-quit-app-shortcut = Kilépés az alkalmazásból
zen-key-wr-capture-cmd = WR rögzítési parancs
zen-key-wr-toggle-capture-sequence-cmd = WR rögzítési szekvencia ki-/bekapcsolása
zen-nav-reload-shortcut = Oldal újratöltése
zen-nav-reload-shortcut-skip-cache = Oldal újratöltése (Gyorsítótár átugrása)
zen-close-shortcut = Ablak bezárása
zen-close-tab-shortcut = Lap bezárása
zen-compact-mode-shortcut-show-sidebar = Lebegő oldalsáv ki-/bekapcsolása
zen-compact-mode-shortcut-show-toolbar = Lebegő eszköztár ki-/bekapcsolása
zen-compact-mode-shortcut-toggle = Kompakt mód ki-/bekapcsolása
zen-glance-expand = Bepillantás kiterjesztése
zen-workspace-shortcut-switch-1 = Első munkakörnyezetre váltás
zen-workspace-shortcut-switch-2 = Második munkakörnyezetre váltás
zen-workspace-shortcut-switch-3 = Harmadik munkakörnyezetre váltás
zen-workspace-shortcut-switch-4 = Negyedik munkakörnyezetre váltás
zen-workspace-shortcut-switch-5 = Ötödik munkakörnyezetre váltás
zen-workspace-shortcut-switch-6 = Hatodik munkakörnyezetre váltás
zen-workspace-shortcut-switch-7 = Hetedik munkakörnyezetre váltás
zen-workspace-shortcut-switch-8 = Nyolcadik munkakörnyezetre váltás
zen-workspace-shortcut-switch-9 = Kilencedik munkakörnyezetre váltás
zen-workspace-shortcut-switch-10 = Tizedik munkakörnyezetre váltás
zen-workspace-shortcut-forward = Következő munkakörnyezet
zen-workspace-shortcut-backward = Előző munkakörnyezet
zen-sidebar-shortcut-toggle = Oldalsáv szélességének váltása
zen-pinned-tab-shortcut-reset = Rögzített lap visszaállítása rögzítéskori URL-re
zen-split-view-shortcut-grid = Osztott nézet grid ki-/bekapcsolása
zen-split-view-shortcut-vertical = Osztott nézet függőlegesen
zen-split-view-shortcut-horizontal = Osztott nézet vízszintesen
zen-split-view-shortcut-unsplit = Osztott nézet bezárása
zen-new-empty-split-view-shortcut = Új üres osztott nézet
zen-key-select-tab-1 = Első lap kiválasztása
zen-key-select-tab-2 = Második lap kiválasztása
zen-key-select-tab-3 = Harmadik lap kiválasztása
zen-key-select-tab-4 = Negyedik lap kiválasztása
zen-key-select-tab-5 = Ötödik lap kiválasztása
zen-key-select-tab-6 = Hatodik lap kiválasztása
zen-key-select-tab-7 = Hetedik lap kiválasztása
zen-key-select-tab-8 = Nyolcadik lap kiválasztása
zen-key-select-tab-last = Utolsó lap kiválasztása
zen-key-show-all-tabs = Minden lap megjelenítése
zen-key-goto-history = Előzményekre váltás
zen-key-go-home = Kezdőlapra váltás
zen-bookmark-show-sidebar-shortcut = Könyvjelző oldalsáv megjelenítése
zen-bookmark-show-toolbar-shortcut = Könyvjelző eszköztár megjelenítése
zen-devtools-toggle-shortcut = Fejlesztőeszközök kapcsolása
zen-devtools-toggle-browser-toolbox-shortcut = Böngésző eszköztár kapcsolása
zen-devtools-toggle-browser-console-shortcut = Böngésző konzol kapcsolása
zen-devtools-toggle-responsive-design-mode-shortcut = Alkalmazkodó megjelenés mód kapcsolása
zen-devtools-toggle-inspector-shortcut = Vizsgáló kapcsolása
zen-devtools-toggle-web-console-shortcut = Webes konzol kapcsolása
zen-devtools-toggle-js-debugger-shortcut = Hibakereső kapcsolása
zen-devtools-toggle-net-monitor-shortcut = Hálózati monitor kapcsolása
zen-devtools-toggle-style-editor-shortcut = Stílusszerkesztő kapcsolása
zen-devtools-toggle-performance-shortcut = Teljesítmény kapcsolása
zen-devtools-toggle-storage-shortcut = Tároló kapcsolása
zen-devtools-toggle-dom-shortcut = DOM kapcsolása
zen-devtools-toggle-accessibility-shortcut = Hozzáférhetőség kapcsolása
zen-close-all-unpinned-tabs-shortcut = Összes rögzítetlen lap bezárása
zen-new-unsynced-window-shortcut = Új szinkronizálatlan ablak



================================================
FILE: locales/id/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Cari { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Ubah Nama Folder
zen-folders-panel-unpack-folder = 
    .label = Bongkar Folder
zen-folders-new-subfolder = 
    .label = Subfolder baru
zen-folders-panel-delete-folder = 
    .label = Hapus Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Ubah folder menjadi Ruang
zen-folders-panel-change-folder-space = 
    .label = Ubah Ruang...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Lepaskan tab yang aktif di folder ini
zen-folders-unload-folder = 
    .label = Lepaskan Semua Tab
zen-folders-search-no-results = Tidak ada tab yang cocok 🤔



================================================
FILE: locales/id/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = profil saat ini
unified-extensions-description = Ekstensi digunakan untuk menambahkan lebih banyak fungsi ekstra ke { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Kembalikan ke URL Awal
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Tambahkan ke Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slot terisi
tab-context-zen-remove-essential = 
    .label = Hapus dari Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Ganti URL Sematan ke URL saat ini
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Ubah Label...
tab-context-zen-edit-icon = 
    .label = Ubah Ikon...
zen-themes-corrupted = Tidak dapat memuat file tema { -brand-short-name } Anda karena rusak. File tersebut telah diatur ulang ke tema default.
zen-shortcuts-corrupted = File pintasan { -brand-short-name } Anda rusak. Mereka telah diatur ulang ke pintasan default.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Bilah URL baru telah diaktifkan, menghapus kebutuhan untuk halaman tab baru.<br/><br/>
    Coba buka tab baru untuk melihat bilah URL baru beraksi!
zen-disable = Nonaktifkan
pictureinpicture-minimize-btn = 
    .aria-label = Minimalkan
    .tooltip = Minimalkan
zen-panel-ui-gradient-generator-custom-color = Warna Kustom
zen-copy-current-url-confirmation = URL Disalin!
zen-general-cancel-label = 
    .label = Batalkan
zen-general-confirm = 
    .label = Konfirmasi
zen-pinned-tab-replaced = URL awal dari tab yang disematkan telah diganti dengan URL saat ini.
zen-tabs-renamed = Tab telah berhasil diubah namanya!
zen-background-tab-opened-toast = Tab baru telah terbuka di latar belakang!
zen-workspace-renamed-toast = Ruang Kerja telah berhasil diubah namanya!
zen-toggle-compact-mode-button = 
    .label = Mode Ringkas
    .tooltiptext = Aktifkan/Sembunyikan Mode Ringkas

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Pelajari Lebih Lanjut
zen-close-label = Tutup
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Cari...
zen-icons-picker-emoji = 
    .label = Emoji
zen-icons-picker-svg = 
    .label = Ikon
urlbar-search-mode-zen_actions = Aksi
zen-site-data-settings = Pengaturan
zen-generic-manage = Kelola
zen-generic-more = Selengkapnya
zen-generic-next = Lanjut
zen-essentials-promo-label = Tambahkan ke Essentials
zen-essentials-promo-sublabel = Akses tab favorit Anda hanya dengan sekali klik
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Diizinkan
zen-site-data-setting-block = Diblokir
zen-site-data-protections-enabled = Diaktifkan
zen-site-data-protections-disabled = Dinonaktifkan
zen-site-data-setting-cross-site = Kuki Lintas Situs
zen-site-data-security-info-extension = 
    .label = Ekstensi
zen-site-data-security-info-secure = 
    .label = Aman
zen-site-data-security-info-not-secure = 
    .label = Tidak Aman
zen-site-data-manage-addons = 
    .label = Kelola Ekstensi
zen-site-data-get-addons = 
    .label = Tambahkan Ekstensi
zen-site-data-site-settings = 
    .label = Semua Pengaturan Situs
zen-site-data-header-share = 
    .tooltiptext = Bagikan Halaman Ini
zen-site-data-header-reader-mode = 
    .tooltiptext = Masuki Mode Membaca
zen-site-data-header-screenshot = 
    .tooltiptext = Ambil Tangkapan Layar
zen-site-data-header-bookmark = 
    .tooltiptext = Markahi Laman Ini
zen-urlbar-copy-url-button = 
    .tooltiptext = Salin URL
zen-site-data-setting-site-protection = Perlindungan Pelacakan

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Rumah baru untuk add-on, izin, dan lainnya
zen-site-data-panel-feature-callout-subtitle = Klik ikon untuk mengelola pengaturan situs, melihat info keamanan, mengakses ekstensi, dan melakukan tindakan umum.
zen-open-link-in-glance = 
    .label = Buka Tautan di Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Pembaruan Selesai!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Apa yang baru di { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Lihat Catatan Rilis
zen-sidebar-notification-restart-safe-mode-label = Ada yang rusak?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Mulai Ulang dalam Mode Aman
zen-window-sync-migration-dialog-title = Jaga Jendela Anda Tetap Sinkron
zen-window-sync-migration-dialog-message = Zen kini menyinkronkan jendela pada perangkat yang sama, sehingga perubahan di satu jendela akan langsung terlihat di jendela lainnya.
zen-window-sync-migration-dialog-learn-more = Pelajari Lebih Lanjut
zen-window-sync-migration-dialog-accept = Oke!



================================================
FILE: locales/id/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed -> 
         [true] Perluas Tab yang Disematkan 
         *[false] Ciutkan Tab yang Disematkan 
        }
zen-menubar-appearance = 
    .label = Tampilan
zen-menubar-appearance-description = 
    .label = Situs web akan menggunakan:
zen-menubar-appearance-auto = 
    .label = Otomatis
zen-menubar-appearance-light = 
    .label = Terang
zen-menubar-appearance-dark = 
    .label = Gelap
zen-menubar-new-unsynced-window = 
    .label = Jendela Kosong Baru



================================================
FILE: locales/id/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Belah Tab (pilih beberapa tab dulu)
           *[other] Belah { $tabCount } Tab
        }
    .accesskey = S
zen-split-link = 
    .label = Buka Tautan di Tampilan Belah
    .accesskey = S
zen-split-view-modifier-header = Tampilan Belah
zen-split-view-modifier-activate-reallocation = 
    .label = Aktifkan realokasi
zen-split-view-modifier-enabled-toast = Penyesuaian tampilan belah AKTIF.
zen-split-view-modifier-enabled-toast-description = Seret dan lepas tampilan untuk menyesuaikan. Tekan Esc untuk keluar.
zen-split-view-modifier-disabled-toast = Penyesuaian tampilan belah MATI.



================================================
FILE: locales/id/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tab Di Sisi Kanan
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Mode Ringkas
zen-toolbar-context-compact-mode-enable = 
    .label = Aktifkan Mode Ringkas
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Sembunyikan bilah sisi
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Sembunyikan bilah alat
zen-toolbar-context-compact-mode-hide-both = 
    .label = Sembunyikan keduanya
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Folder Baru
    .accesskey = N
sidebar-zen-expand = 
    .label = Perluas Bilah Sisi
sidebar-zen-create-new = 
    .label = Buat Baru...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Lepaskan dan pindah ke tab
           *[other] Lepaskan { $tabCount } tab dan pindah ke bawah
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset dan sematkan tab
           *[other] Reset dan sematkan { $tabCount } tab
        }
tab-reset-pin-label = Kembali ke URL awal



================================================
FILE: locales/id/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Bisukan Panel Web
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Nyalakan Suara Panel Web
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Nonaktifkan UserAgent Mobile
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Aktifkan UserAgent Mobile
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Bongkar Muat Panel Web
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Hapus Panel Web
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Buka di Tab Baru
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Buka di Tab Kontainer
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Tambahkan ke Panel Web
    .accesskey = A
zen-webpanel-introduction-title = Selamat datang di Panel Web Zen
zen-webpanel-introduction-description = Panel Web adalah cara untuk menjaga situs web favorit Anda tetap mudah dijangkau.



================================================
FILE: locales/id/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Selamat datang di
zen-welcome-title-line2 = internet yang tenang
zen-welcome-import-title = Permulaan baru, Bookmark tetap sama
zen-welcome-import-description-1 = Bookmark, histori dan password anda adalah Jejak remah roti yang anda tinggalkan di internet--jangan tinggalkan begitu saja!
zen-welcome-import-description-2 = Semudah mengambil dari peramban lain dan melanjutkan dari yang anda tinggalkan.
zen-welcome-import-button = Impor sekarang
zen-welcome-set-default-browser = Atur { -brand-short-name } sebagai peramban bawaan
zen-welcome-dont-set-default-browser = Jangan membuat { -brand-short-name } sebagai peramban bawaan
zen-welcome-initial-essentials-title = Tab penting anda, akan selalu dalam genggaman
zen-welcome-initial-essentials-description-1 = Simpan tab penting anda mudah diakses dan berada dalam jangkauan anda, seberapapun anda membukanya.
zen-welcome-initial-essentials-description-2 = Tab penting selalu terlihat, dimanapun tempat kerja anda.
zen-welcome-workspace-colors-title = Ruang Kerja anda, Warna anda
zen-welcome-workspace-colors-description = Atur peramban anda dengan memberikan warna tersendiri tiap ruang kerja.
zen-welcome-start-browsing-title =
    Semua Pengaturan selesai?<br/>
    Mari mulai menjelajah!
zen-welcome-start-browsing-description-1 = Anda selesai melakukan pengaturan dan siap untuk mulai. Klik tombol di bawah ini untuk mulai menjelajah dengan { -brand-short-name }.
zen-welcome-start-browsing = Penyelaman dimulai!
zen-welcome-default-search-title = Mesin Pencari Default Anda
zen-welcome-default-search-description = Pilih mesin pencari default Anda. Anda selalu dapat mengubahnya nanti!
zen-welcome-skip-button = Lewati
zen-welcome-finished = Anda berhasil mengatur Zen milik anda!



================================================
FILE: locales/id/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Ruang Kerja Lainnya
zen-panel-ui-spaces-label = 
    .label = Ruang
zen-panel-ui-workspaces-create = 
    .label = Buat Ruang
zen-panel-ui-folder-create = 
    .label = Buat Folder
zen-panel-ui-new-empty-split = 
    .label = Split Baru
zen-workspaces-panel-context-delete = 
    .label = Hapus Ruang
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Ubah Nama
zen-workspaces-panel-change-icon = 
    .label = Ubah Ikon
zen-workspaces-panel-context-default-profile = 
    .label = Atur Profil
zen-workspaces-panel-unload = 
    .label = Lepaskan Ruang
zen-workspaces-how-to-reorder-title = Cara Mengurutkan Ulang Ruang
zen-workspaces-how-to-reorder-desc = Seret ikon ruang di bagian bawah bilah sisi untuk menyusun ulang urutannya
zen-workspaces-change-theme = 
    .label = Edit Tema
zen-workspaces-panel-context-open = 
    .label = Buka Ruang Kerja
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Edit Ruang
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Ruang
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Komplementer
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Pisahkan
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analog
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadik
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Melayang
zen-panel-ui-gradient-click-to-add = Klik untuk menambahkan warna
zen-workspace-creation-name = 
    .placeholder = Nama Ruang
zen-move-tab-to-workspace-button = 
    .label = Pindahkan ke...
    .tooltiptext = Pindahkan semua tab di jendela ini ke sebuah Ruang
zen-workspaces-panel-context-reorder = 
    .label = Urutkan Ruang
zen-workspace-creation-profile = Profil
    .tooltiptext = Profil (Kontainer) digunakan untuk memisahkan cookie dan data situs antar Ruang.
zen-workspace-creation-header = Buat sebuah Ruang
zen-workspace-creation-label = Ruang digunakan untuk mengorganisasikan tab dan sesi Anda.
zen-workspaces-delete-workspace-title = Delete Workspace?
zen-workspaces-delete-workspace-body = Apakah Anda yakin ingin menghapus { $name }? Tindakan ini tidak bisa dibatalkan.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tab Ditutup! Gunakan <span>{ $shortcut }</span> untuk membatalkan.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Bersihkan
    .tooltiptext = Tutup semua tab yang tidak disematkan
zen-panel-ui-workspaces-change-forward = 
    .label = Ruang Selanjutnya
zen-panel-ui-workspaces-change-back = 
    .label = Ruang Sebelumnya



================================================
FILE: locales/id/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Tema dengan skema warna gelap dan sentuhan galaksi yang indah!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = Tema dengan skema warna terang dan sentuhan mimpi yang indah!



================================================
FILE: locales/id/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = URL Awal
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Tampilkan panel web ini dalam mode mobile
    .accesskey = m



================================================
FILE: locales/id/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Tampilan dan Nuansa
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Mengubah bahasa bawaan dapat mempermudah situs web untuk melacak Anda.
zen-vertical-tabs-layout-header = Tata Letak Browser
zen-vertical-tabs-layout-description = Pilih tata letak yang paling cocok untuk Anda
zen-layout-single-toolbar = Toolbar Tunggal
zen-layout-multiple-toolbar = Toolbar Terpisah
zen-layout-collapsed-toolbar = Toolbar yang Diciutkan
sync-currently-syncing-workspaces = Ruang Kerja
sync-engine-workspaces = 
    .label = Ruang Kerja
    .tooltiptext = Sinkronkan ruang kerja Anda di seluruh perangkat
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = Pengaturan umum untuk glance
zen-glance-description = Dapatkan gambaran cepat tentang tautan Anda tanpa perlu membukanya di tab baru
zen-glance-trigger-label = Metode pemicu
zen-glance-enabled = 
    .label = Aktifkan Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Klik
zen-glance-trigger-alt-click = 
    .label = Alt + Klik
zen-glance-trigger-shift-click = 
    .label = Shift + Klik
zen-glance-trigger-meta-click = 
    .label = Windows (Command) + Klik
zen-look-and-feel-compact-view-header = Tampilkan dalam tampilan ringkas
zen-look-and-feel-compact-view-description = Tampilkan hanya toolbar yang Anda gunakan!
zen-look-and-feel-compact-view-enabled = 
    .label = Aktifkan mode ringkas { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Sembunyikan juga toolbar atas dalam mode ringkas
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Buat bilah tab muncul sebentar saat beralih atau membuka tab baru dalam mode ringkas
pane-zen-tabs-title = Pengelolaan Tab
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Ruang Kerja
zen-tabs-unloader-enabled = 
    .label = Aktifkan Pelepas Tab
zen-tabs-close-on-back-with-no-history = 
    .label = Tutup tab dan beralih ke tab pemiliknya (atau tab yang terakhir digunakan) saat kembali tanpa riwayat
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab berputar hanya dalam tab Esensial atau Ruang Kerja
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Lewati tab tak termuat saat beralih dengan Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab akan beralih berdasarkan urutan terakhir digunakan
zen-look-and-feel-compact-toolbar-themed = 
    .label = Gunakan latar belakang bertema untuk bilah atas dalam mode ringkas
zen-workspace-continue-where-left-off = 
    .label = Lanjutkan dari halaman terakhir yang dibuka
pane-zen-pinned-tab-manager-title = Tab yang Disematkan
zen-pinned-tab-manager-header = Pengaturan umum untuk tab yang disematkan
zen-pinned-tab-manager-description = Kelola perilaku tambahan dari tab yang disematkan
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Pulihkan tab yang disematkan ke URL awal saat mulai ulang
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Aktifkan kontainer-spesifik essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Perilaku Pintasan Tutup Tab
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Setel Ulang URL, lepaskan, dan beralih ke tab berikutnya
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Lepaskan dan beralih ke tab berikutnya
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Setel Ulang URL dan beralih ke tab berikutnya
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Beralih ke tab berikutnya
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Setel Ulang URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Tutup tab
pane-zen-workspaces-header = Ruang Kerja
zen-settings-workspaces-header = Pengaturan umum untuk ruang kerja
zen-settings-workspaces-description = Dengan ruang kerja, Anda bisa memiliki beberapa sesi browsing sekaligus!
zen-settings-workspaces-enabled = 
    .label = Aktifkan Ruang Kerja
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Sembunyikan indikator kontainer default di bilah tab
zen-key-unsaved = Pintasan belum tersimpan! Simpan dengan mengklik tombol "Escape" setelah mengetik ulang.
zen-key-conflict = Konflik dengan { $group } -> { $shortcut }
pane-zen-theme-title = Pengaturan Tema
zen-vertical-tabs-title = Susunan sidebar dan tab
zen-vertical-tabs-header = Tab Vertikal
zen-vertical-tabs-description = Kelola tab Anda dalam susunan vertikal
zen-vertical-tabs-show-expand-button = 
    .label = Tampilkan Tombol Perluas
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Tampilkan Tombol Tab Baru pada Daftar Tab
zen-vertical-tabs-newtab-top-button-up = 
    .label = Pindahkan tombol tab baru ke atas
zen-vertical-tabs-expand-tabs-by-default = Perluas Tab Secara Default
zen-vertical-tabs-dont-expand-tabs-by-default = Jangan Perluas Tab Secara Default
zen-vertical-tabs-expand-tabs-on-hover = Perluas semua tab saat mengarahkan kursor (Tidak akan berfungsi pada mode ringkas)
zen-vertical-tabs-expand-tabs-header = Cara memperluas tab
zen-vertical-tabs-expand-tabs-description = Pilih cara memperluas tab di sidebar
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Disable all themes
zen-theme-disable-all-disabled = 
    .title = Enable all themes
zen-theme-marketplace-description = Temukan dan pasang tema dari toko.
zen-theme-marketplace-remove-button = 
    .label = Hapus Tema
zen-theme-marketplace-check-for-updates-button = 
    .label = Periksa Pembaruan
zen-theme-marketplace-import-button = 
    .label = Impor Tema
zen-theme-marketplace-export-button = 
    .label = Ekspor Tema
zen-theme-marketplace-import-success = Berhasil mengimpor Tema
zen-theme-marketplace-import-failure = Terjadi eror dalam mengimpor Tema
zen-theme-marketplace-export-success = Berhasil mengimpor Tema
zen-theme-marketplace-export-failure = Terjadi error dalam mengekspor Tema
zen-theme-marketplace-updates-success = Tema berhasil diperbarui
zen-theme-marketplace-updates-failure = Tidak ada Pembaruan teranyar!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Nonaktifkan Tema
zen-theme-marketplace-toggle-disabled-button = 
    .title = Aktifkan Tema
zen-theme-marketplace-remove-confirmation = Apakah kamu yakin ingin menghapus mod ini?
zen-theme-marketplace-close-modal = Tutup
zen-theme-marketplace-theme-header-title = 
    .title = Selektor CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Tak ada
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Ketik sesuatu...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Otomatis perbarui mod yang terinstal saat startup
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Saat membuka tab kontainer, otomatis pindahkan ke ruang kerja default kontainer tab itu
zen-theme-marketplace-link = Kunjungi Toko
zen-dark-theme-styles-header = Gaya Tema Gelap
zen-dark-theme-styles-description = Mengkustomisasi mode gelap sesuai kemauanmu
zen-dark-theme-styles-amoled = Tema Gelap Pekat
zen-dark-theme-styles-default = Tema Gelap Bawaan
zen-dark-theme-styles-colorful = Tema Gelap Berwarna
zen-compact-mode-styles-left = Sembunyikan Bilah Tab
zen-compact-mode-styles-top = Sembunyikan Bilah Atas
zen-compact-mode-styles-both = Sembunyikan Keduanya
zen-urlbar-title = Bilah URL Zen
zen-urlbar-header = Pengaturan umum untuk bilah URL
zen-urlbar-description = Sesuaikan bilah URL sesuai keinginan Anda
zen-urlbar-behavior-label = Perilaku
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Hanya mengambang saat mengetik
zen-urlbar-behavior-float = 
    .label = Selalu mengambang
pane-zen-CKS-title = Pintasan Keyboard
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Pintasan Keyboard { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Sesuaikan pintasan keyboard Anda
zen-settings-CKS-description = Ubah pintasan keyboard default sesuai keinginan Anda dan tingkatkan pengalaman browsing Anda
zen-settings-CKS-disable-firefox = 
    .label = Nonaktifkan pintasan keyboard default { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Gandakan Pintasan
zen-settings-CKS-reset-shortcuts = 
    .label = Kembalikan ke Setelan Awal
zenCKSOption-group-other = Lainnya
zenCKSOption-group-windowAndTabManagement = Pengelolaan Tab & Jendela
zenCKSOption-group-navigation = Navigasi
zenCKSOption-group-searchAndFind = Cari & Temukan
zenCKSOption-group-pageOperations = Operasi Laman
zenCKSOption-group-historyAndBookmarks = Riwayat & Markah
zenCKSOption-group-mediaAndDisplay = Media & Tampilan
zenCKSOption-group-zen-compact-mode = Mode Ringkas
zenCKSOption-group-zen-workspace = Ruang Kerja
zenCKSOption-group-zen-other = Fitur Zen Lainnya
zenCKSOption-group-zen-split-view = Tampilan Belah
zenCKSOption-group-devTools = Perangkat Pengembang
zen-key-quick-restart = Mulai Ulang Cepat
zen-window-new-shortcut = Jendela Baru
zen-tab-new-shortcut = Tab Baru
zen-key-redo = Ulangi
zen-restore-last-closed-tab-shortcut = Pulihkan Tab yang Terakhir Ditutup
zen-location-open-shortcut = Buka Lokasi
zen-location-open-shortcut-alt = Buka Lokasi
zen-key-undo-close-window = Batalkan Tutup Jendela
zen-text-action-undo-shortcut = Batalkan
zen-text-action-redo-shortcut = Ulangi
zen-text-action-cut-shortcut = Potong
zen-text-action-copy-shortcut = Salin
zen-text-action-copy-url-shortcut = Salin URL saat ini
zen-text-action-copy-url-markdown-shortcut = Salin URL saat ini sebagai Markdown
zen-text-action-paste-shortcut = Tempel
zen-text-action-select-all-shortcut = Pilih Semua
zen-text-action-delete-shortcut = Hapus
zen-history-show-all-shortcut-mac = Tampilkan Semua Riwayat (Mac)
zen-full-screen-shortcut = Aktif/Nonaktifkan Layar Penuh
zen-reader-mode-toggle-shortcut-windows = Beralih ke Mode Membaca (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Beralih ke Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Beralih ke ke Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Beralih ke Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = Lihat Sumber Halaman (Safari)
zen-nav-stop-shortcut = Berhenti Memuat
zen-history-sidebar-shortcut = Tampilkan Sidebar Riwayat
zen-window-minimize-shortcut = Minimalkan Jendela
zen-help-shortcut = Buka Bantuan
zen-preferences-shortcut = Buka Preferensi
zen-hide-app-shortcut = Sembunyikan Aplikasi
zen-hide-other-apps-shortcut = Sembunyikan Aplikasi Lain
zen-search-focus-shortcut = Fokus Pencarian
zen-search-focus-shortcut-alt = Fokus Pencarian (Alt)
zen-downloads-shortcut = Buka Unduhan
zen-addons-shortcut = Buka Add-on
zen-file-open-shortcut = Buka Berkas
zen-save-page-shortcut = Simpan Halaman
zen-print-shortcut = Cetak Halaman
zen-close-shortcut-2 = Tutup Tab
zen-mute-toggle-shortcut = Bisukan/Bunyikan Audio
zen-key-delete = Hapus Kunci
zen-key-go-back = Kembali
zen-key-go-forward = Lanjut
zen-nav-back-shortcut-alt = Navigasi Sebelumnya (Alt)
zen-nav-fwd-shortcut-alt = Navigasi Setelahnya (Alt)
zen-history-show-all-shortcut = Tampilkan Semua Riwayat
zen-key-enter-full-screen = Masuk Layar Penuh
zen-key-exit-full-screen = Keluar Dari Layar Penuh
zen-ai-chatbot-sidebar-shortcut = Beralih ke AI Chatbot Sidebar
zen-key-inspector-mac = Beralih ke Inspector (Mac)
zen-toggle-sidebar-shortcut = Beralih ke Firefox Sidebar
zen-toggle-pin-tab-shortcut = Alihkan Sematan Tab
zen-reader-mode-toggle-shortcut-other = Aktif/nonaktifkan Mode Membaca
zen-picture-in-picture-toggle-shortcut = Aktif/nonaktifkan Picture-in-Picture
zen-nav-reload-shortcut-2 = Muat Ulang Halaman
zen-key-about-processes = Tentang Proses
zen-page-source-shortcut = Lihat Sumber Halaman
zen-page-info-shortcut = Lihat Info Halaman
zen-find-shortcut = Temukan di Halaman
zen-search-find-again-shortcut = Temukan Lagi
zen-search-find-again-shortcut-prev = Cari Sebelumnya
zen-search-find-again-shortcut-2 = Cari Lagi (Alt)
zen-bookmark-this-page-shortcut = Markahi Laman Ini
zen-bookmark-show-library-shortcut = Tampilkan Pustaka Bookmark
zen-key-stop = Berhenti Memuat
zen-full-zoom-reduce-shortcut = Perkecil
zen-full-zoom-enlarge-shortcut = Perbesar
zen-full-zoom-reset-shortcut = Reset Perbesaran
zen-full-zoom-reset-shortcut-alt = Atur ulang level zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Perbesar (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Perbesar (Alt 2)
zen-bidi-switch-direction-shortcut = Beralih Arah Teks
zen-private-browsing-shortcut = Penjelajahan Pribadi
zen-screenshot-shortcut = Ambil Tangkapan Layar
zen-key-sanitize = Hapus Data Penelusuran
zen-quit-app-shortcut = Keluar dari Aplikasi
zen-key-wr-capture-cmd = Perintah WR Capture
zen-key-wr-toggle-capture-sequence-cmd = Beralih ke Senarai WR Capture
zen-nav-reload-shortcut = Muat Ulang Halaman
zen-nav-reload-shortcut-skip-cache = Muat Ulang Halaman (Lewati Cache)
zen-close-shortcut = Tutup Jendela
zen-close-tab-shortcut = Tutup Tab
zen-compact-mode-shortcut-show-sidebar = Beralih ke Bilah sisi mengambang
zen-compact-mode-shortcut-show-toolbar = Nyala/Matikan Toolbar Mengambang
zen-compact-mode-shortcut-toggle = Aktifkan/Sembunyikan Mode Ringkas
zen-glance-expand = Perluas Glance
zen-workspace-shortcut-switch-1 = Beralih ke Ruang Kerja 1
zen-workspace-shortcut-switch-2 = Beralih ke Ruang Kerja 2
zen-workspace-shortcut-switch-3 = Beralih ke Ruang Kerja 3
zen-workspace-shortcut-switch-4 = Beralih ke Ruang Kerja 4
zen-workspace-shortcut-switch-5 = Beralih ke Ruang Kerja 5
zen-workspace-shortcut-switch-6 = Beralih ke Ruang Kerja 6
zen-workspace-shortcut-switch-7 = Beralih ke Ruang Kerja 7
zen-workspace-shortcut-switch-8 = Beralih ke Ruang Kerja 8
zen-workspace-shortcut-switch-9 = Beralih ke Ruang Kerja 9
zen-workspace-shortcut-switch-10 = Beralih ke Ruang Kerja 10
zen-workspace-shortcut-forward = Ruang Kerja setelahnya
zen-workspace-shortcut-backward = Ruang Kerja sebelumnya
zen-sidebar-shortcut-toggle = Peralihan lebar Bilah sisi
zen-pinned-tab-shortcut-reset = Setel ulang Tab yang Disematkan ke URL awal
zen-split-view-shortcut-grid = Beralih ke Panel terbagi
zen-split-view-shortcut-vertical = Beralih ke Panel vertikal
zen-split-view-shortcut-horizontal = Beralih ke Panel horizontal
zen-split-view-shortcut-unsplit = Tutup Tampilan Belah
zen-new-empty-split-view-shortcut = Tampilan Split Kosong Baru
zen-key-select-tab-1 = Pilih tab #1
zen-key-select-tab-2 = Pilih tab #2
zen-key-select-tab-3 = Pilih tab #3
zen-key-select-tab-4 = Pilih tab #4
zen-key-select-tab-5 = Pilih tab #5
zen-key-select-tab-6 = Pilih tab #6
zen-key-select-tab-7 = Pilih tab #7
zen-key-select-tab-8 = Pilih tab #8
zen-key-select-tab-last = Pilih tab terakhir
zen-key-show-all-tabs = Tampilkan semua tab
zen-key-goto-history = Pergi ke riwayat
zen-key-go-home = Kembali ke halaman awal
zen-bookmark-show-sidebar-shortcut = Tampilkan Bilah Samping Markah
zen-bookmark-show-toolbar-shortcut = Tampilkan Bilah Alat Markah
zen-devtools-toggle-shortcut = Beralih ke Pengaya Pengembang
zen-devtools-toggle-browser-toolbox-shortcut = Beralih ke Alat Perambah
zen-devtools-toggle-browser-console-shortcut = Beralih ke Konsol Perambah
zen-devtools-toggle-responsive-design-mode-shortcut = Beralih ke Mode Desain Responsif
zen-devtools-toggle-inspector-shortcut = Beralih ke Inspektur
zen-devtools-toggle-web-console-shortcut = Beralih ke Konsol Jaringan
zen-devtools-toggle-js-debugger-shortcut = Beralih ke Debugger Javascript
zen-devtools-toggle-net-monitor-shortcut = Beralih ke Monitor Jaringan
zen-devtools-toggle-style-editor-shortcut = Beralih ke Style Editor
zen-devtools-toggle-performance-shortcut = Ubah Performance
zen-devtools-toggle-storage-shortcut = Ubah Penyimpanan
zen-devtools-toggle-dom-shortcut = Ubah DOM
zen-devtools-toggle-accessibility-shortcut = Ubah Aksesibilitas
zen-close-all-unpinned-tabs-shortcut = Tutup Semua Tab yang Tidak Disematkan
zen-new-unsynced-window-shortcut = Jendela Kosong Baru



================================================
FILE: locales/is/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Leita í { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Endurnefna möppu
zen-folders-panel-unpack-folder = 
    .label = Afpakka möppu
zen-folders-new-subfolder = 
    .label = Ný undirmappa
zen-folders-panel-delete-folder = 
    .label = Eyða möppu
zen-folders-panel-convert-folder-to-space = 
    .label = Umbreyta möppu í svæði
zen-folders-panel-change-folder-space = 
    .label = Skipta um vinnusvæði...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Senda virkt inn í þessa möppu
zen-folders-unload-folder = 
    .label = Afhlaða alla flipa
zen-folders-search-no-results = Engir flipar samsvara þessari leit 🤔



================================================
FILE: locales/is/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = fyrirliggjandi notkunarsnið
unified-extensions-description = Forritsaukar eru notaðir til að auðga notagildi í { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Endursetja festan flipa
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Bæta við aðalflipa
    .accesskey = F
tab-context-zen-add-essential-badge = { $num } / { $max } hólf fyllt
tab-context-zen-remove-essential = 
    .label = Fjarlægja úr aðalflipum
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Skipta út festri slóð með núverandi
    .accesskey = P
tab-context-zen-edit-title = 
    .label = Skipta um merkingu...
tab-context-zen-edit-icon = 
    .label = Skipta um táknmynd...
zen-themes-corrupted = Viðbrigðaskráin þín fyrir { -brand-short-name } er skemmd. Þau notast í staðinn við sjálfgefið þema.
zen-shortcuts-corrupted = Flýtivísaskráin þín { -brand-short-name } er skemmd. Þeir notast í staðinn við þá sjálfgefnu.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification = Nýja vefslóðastikan hefur verið virkjuð sem fjarlægir þörfina á nýjum flipasíðum.<br/><br/>Prófaðu að opna nýjan flipa til að sjá nýju vefslóðastikuna í notkun!
zen-disable = Gera óvirkt
pictureinpicture-minimize-btn = 
    .aria-label = Lágmarka
    .tooltip = Lágmarka
zen-panel-ui-gradient-generator-custom-color = Sérsniðinn litur
zen-copy-current-url-confirmation = Afritaði fyrirliggjandi slóð!
zen-general-cancel-label = 
    .label = Hætta við
zen-general-confirm = 
    .label = Staðfesta
zen-pinned-tab-replaced = URL-slóð festa flipans hefur verið skipt út með fyrirliggjandi slóð!
zen-tabs-renamed = Tókst að endurnefna flipann!
zen-background-tab-opened-toast = Nýr bakgrunnsflipi opnaður!
zen-workspace-renamed-toast = Tókst að endurnefna vinnusvæðið!
zen-toggle-compact-mode-button = 
    .label = Þjappað viðmót
    .tooltiptext = Víxla þjöppuðu viðmóti

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Frekari upplýsingar
zen-close-label = Loka
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Leita...
zen-icons-picker-emoji = 
    .label = Emoji-tákn
zen-icons-picker-svg = 
    .label = Táknmyndir
urlbar-search-mode-zen_actions = Aðgerðir
zen-site-data-settings = Stillingar
zen-generic-manage = Stýra
zen-generic-more = Meira
zen-generic-next = Næsta
zen-essentials-promo-label = Bæta við aðalflipa
zen-essentials-promo-sublabel = Hafðu eftirlætisflipana þína við hendina
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Leyft
zen-site-data-setting-block = Lokað á
zen-site-data-protections-enabled = Virkt
zen-site-data-protections-disabled = Óvirkt
zen-site-data-setting-cross-site = Millivefja-vefkaka
zen-site-data-security-info-extension = 
    .label = Forritsauki
zen-site-data-security-info-secure = 
    .label = Öruggt
zen-site-data-security-info-not-secure = 
    .label = Ekki öruggt
zen-site-data-manage-addons = 
    .label = Sýsla með forritsauka
zen-site-data-get-addons = 
    .label = Bæta við forritsaukum
zen-site-data-site-settings = 
    .label = Allar vefsvæðastillingar
zen-site-data-header-share = 
    .tooltiptext = Deila þessari síðu
zen-site-data-header-reader-mode = 
    .tooltiptext = Fara í lesham
zen-site-data-header-screenshot = 
    .tooltiptext = Taka skjámynd
zen-site-data-header-bookmark = 
    .tooltiptext = Bókamerkja þessa síðu
zen-urlbar-copy-url-button = 
    .tooltiptext = Afrita slóð
zen-site-data-setting-site-protection = Vörn gegn rakningu

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Ný miðstöð fyrir forritsauka, aðgangsheimildir og fleira
zen-site-data-panel-feature-callout-subtitle = Smelltu á táknmyndina til að sýsla með stillingar vefsvæða, skoða öryggisupplýsingar, hafa aðgang að forritsaukum og framkvæma ýmsar algengar aðgerðir.
zen-open-link-in-glance = 
    .label = Opna tengil í Skyndisýn
    .accesskey = G
zen-sidebar-notification-updated-heading = Uppfærslu lokið!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Nýtt á döfinni í { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Skoða útgáfuupplýsingar
zen-sidebar-notification-restart-safe-mode-label = Bilaði eitthvað?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Endurræsa í öruggum ham
zen-window-sync-migration-dialog-title = Samstilltu gluggana þína
zen-window-sync-migration-dialog-message = Zen samstillir núna glugga á sama tæki, þannig að breytingar í einum glugga endurspeglast samstundis í hinum.
zen-window-sync-migration-dialog-learn-more = Frekari upplýsingar
zen-window-sync-migration-dialog-accept = Skilið



================================================
FILE: locales/is/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Hámarka festa flipa
           *[false] Lágmarka festa flipa
        }
zen-menubar-appearance = 
    .label = Útlit
zen-menubar-appearance-description = 
    .label = Vefsvæði munu nota:
zen-menubar-appearance-auto = 
    .label = Sjálfvirkt
zen-menubar-appearance-light = 
    .label = Ljóst
zen-menubar-appearance-dark = 
    .label = Dökkt
zen-menubar-new-unsynced-window = 
    .label = Nýr auður gluggi



================================================
FILE: locales/is/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Skipta tengli (margir valdir flipar nauðsynlegir)
           *[other] Skipta { $tabCount } flipum
        }
    .accesskey = S
zen-split-link = 
    .label = Skipta tengli í nýjan flipa
    .accesskey = S
zen-split-view-modifier-header = Skiptingarsýn
zen-split-view-modifier-activate-reallocation = 
    .label = Virkja umröðun
zen-split-view-modifier-enabled-toast = Umröðun skiptingarsýnar er VIRK.
zen-split-view-modifier-enabled-toast-description = Dragðu og slepptu gluggahlutum til að umraða. Ýttu á ESC til að hætta.
zen-split-view-modifier-disabled-toast = Umröðun skiptingarsýnar er ÓVIRK.



================================================
FILE: locales/is/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Flipar til hægri
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Þjappað viðmót
zen-toolbar-context-compact-mode-enable = 
    .label = Virkja þjappað viðmót
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Fela hliðarstiku
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Fela verkfærastiku
zen-toolbar-context-compact-mode-hide-both = 
    .label = Fela bæði
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Ný mappa
    .accesskey = N
sidebar-zen-expand = 
    .label = Þenja út hliðarstiku
sidebar-zen-create-new = 
    .label = Búa til nýtt...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Afhlaða og skipta yfir á flipa
           *[other] Afhlaða { $tabCount } flipa skipta yfir á þann fyrsta
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Endurstilla og festa flipa
           *[other] Endurstilla og festa { $tabCount } flipa
        }
tab-reset-pin-label = Til baka á festa slóð



================================================
FILE: locales/is/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Mute Web Panel
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Unmute Web Panel
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Disable Mobile UserAgent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Enable Mobile UserAgent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Unload Web Panel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Delete Web Panel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Open in New Tab
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Open in Container Tab
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Add to Web Panels
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/is/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Velkomin í
zen-welcome-title-line2 = rólegra internet
zen-welcome-import-title = Ný byrjun, sömu bókamerkin
zen-welcome-import-description-1 = Bókamerkin þín, vafurferillinn þinn og lykilorð eru eins og brauðmolaslóð út um internetið - ekki skilja þá eftir fyrir úlfana!
zen-welcome-import-description-2 = Flyttu á einfaldan hátt inn gögn frá öðrum vafra og haltu áfram þar sem þú skildir við síðast.
zen-welcome-import-button = Flytja inn núna
zen-welcome-set-default-browser = Setja { -brand-short-name } sem sjálfgefna vafrann þinn
zen-welcome-dont-set-default-browser = EKKI setja { -brand-short-name } sem sjálfgefna vafrann þinn
zen-welcome-initial-essentials-title = Aðalfliparnir þinir, alltaf innan seilingar
zen-welcome-initial-essentials-description-1 = Haltu mikilvægustu flipunum þínum við hendina, alveg sama hve þeir eru margir.
zen-welcome-initial-essentials-description-2 = Aðalfliparnir eru alltaf sjáanlegir, sama hvaða vinnusvæði þú ert á.
zen-welcome-workspace-colors-title = Vinnusvæðin þín, litirnir þínir
zen-welcome-workspace-colors-description = Aðlagaðu vafrann að þínum þörfum með því að gefa hverju vinnusvæði sinn einstaka lit.
zen-welcome-start-browsing-title =
    Allt klárt?<br/>
    Hefjumst handa!
zen-welcome-start-browsing-description-1 = Þú hefur stillt allt sem þarf og getur farið af stað. Smelltu á hnappinn hér fyrir neðan til að fara að vafra með { -brand-short-name }.
zen-welcome-start-browsing = Dýfðu þér í djúpu laugina!
zen-welcome-default-search-title = Sjálfgefna leitarvélin þín
zen-welcome-default-search-description = Veldu þér sjálfgefna leitarvél. Þú getur alltaf breytt þessu síðar.
zen-welcome-skip-button = Sleppa
zen-welcome-finished = Zen-vafrinn þinn hefur verið uppsettur með tilhlýðilegum hætti!



================================================
FILE: locales/is/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Svæði
zen-panel-ui-spaces-label = 
    .label = Svæði
zen-panel-ui-workspaces-create = 
    .label = Búa til vinnusvæði
zen-panel-ui-folder-create = 
    .label = Búa til möppu
zen-panel-ui-new-empty-split = 
    .label = Ný skipting
zen-workspaces-panel-context-delete = 
    .label = Eyða vinnusvæði
    .accesskey = E
zen-workspaces-panel-change-name = 
    .label = Breyta nafni
zen-workspaces-panel-change-icon = 
    .label = Skipta um táknmynd
zen-workspaces-panel-context-default-profile = 
    .label = Setja notkunarsnið
zen-workspaces-panel-unload = 
    .label = Afhlaða vinnusvæði
zen-workspaces-how-to-reorder-title = Hvernig á að endurraða vinnusvæðum
zen-workspaces-how-to-reorder-desc = Dragðu tákn vinnusvæða neðst í hliðarstikunni til að endurraða þeim
zen-workspaces-change-theme = 
    .label = Breyta þema
zen-workspaces-panel-context-open = 
    .label = Opna vinnusvæði
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Breyta vinnusvæði
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Vinnusvæði
    .accesskey = V
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Gagnstætt
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Skipta
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Hliðrænt
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Þrípunkta
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Fljótandi
zen-panel-ui-gradient-click-to-add = Smelltu til að bæta við lit
zen-workspace-creation-name = 
    .placeholder = Nafn vinnusvæðis
zen-move-tab-to-workspace-button = 
    .label = Flytja í...
    .tooltiptext = Flytja alla flipa í þessum glugga yfir í vinnusvæði
zen-workspaces-panel-context-reorder = 
    .label = Endurraða vinnusvæðum
zen-workspace-creation-profile = Notkunarsnið
    .tooltiptext = Notkunarsnið eru til þess að aðskilja vefkökur og gögn vefsvæða á milli vinnusvæða.
zen-workspace-creation-header = Búa til vinnusvæði
zen-workspace-creation-label = Vinnusvæði eru notuð til að skipuleggja flipana þína og vafurlotur.
zen-workspaces-delete-workspace-title = Eyða svæði?
zen-workspaces-delete-workspace-body = Ertu viss um að þú viljir eyða { $name }? Þessi aðgerð er ekki afturkallanleg.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Flipa lokað! Notaðu <span>{ $shortcut }</span> til að afturkalla.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Hreinsa
    .tooltiptext = Loka öllum ófestum flipum
zen-panel-ui-workspaces-change-forward = 
    .label = Næsta svæði
zen-panel-ui-workspaces-change-back = 
    .label = Fyrra svæði



================================================
FILE: locales/is/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Vetrarbraut
extension-firefox-compact-galaxy-description = A theme with a dark color scheme and a nice galaxy touch!
extension-firefox-compact-dream-name = Zen Draumur
extension-firefox-compact-dream-description = A theme with a light color scheme and a nice dream-y touch!



================================================
FILE: locales/is/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Upphaflegur URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Birta þetta vefspjald í síma ham
    .accesskey = m



================================================
FILE: locales/is/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Útlit og viðmót
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Það að breyta sjálfgefnu tungumáli gæti gert vefsvæðum auðveldara að fylgjast með ferðum þínum.
zen-vertical-tabs-layout-header = Framsetning vafra
zen-vertical-tabs-layout-description = Veldu framsetninguna sem hentar þér best
zen-layout-single-toolbar = Stök verkfærastika
zen-layout-multiple-toolbar = Hliðarstika og efsta verkfærastika
zen-layout-collapsed-toolbar = Samfallin hliðarstika
sync-currently-syncing-workspaces = Vinnusvæði
sync-engine-workspaces = 
    .label = Vinnusvæði
    .tooltiptext = Samstilltu vinnusvæðin þín á milli tækja
    .accesskey = V
zen-glance-title = Skyndisýn
zen-glance-header = Almennar stillingar fyrir skyndisýn
zen-glance-description = Fáðu fljótlegt heildarsýn yfir tenglana þína án þess að þurfa að opna þá í nýjum flipum
zen-glance-trigger-label = Virkjunaraðferð
zen-glance-enabled = 
    .label = Virkja Skyndisýn
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + smella
zen-glance-trigger-alt-click = 
    .label = Alt + smella
zen-glance-trigger-shift-click = 
    .label = Shift + smella
zen-glance-trigger-meta-click = 
    .label = Meta (Slaufa) + smella
zen-look-and-feel-compact-view-header = Sýna í þjappaðri sýn
zen-look-and-feel-compact-view-description = Aðeins birta verkfærastikurnar sem þú notar!
zen-look-and-feel-compact-view-enabled = 
    .label = Virkja þjappað viðmót í { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Fela efstu verkfærastikuna einnig í þjöppuðu viðmóti
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Láta verkfærastikuna hoppa upp þegar skipt er um flipa eða nýir eru opnaðir í þjöppuðu viðmóti
pane-zen-tabs-title = Umsýsla flipa
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Vinnusvæði
zen-tabs-unloader-enabled = 
    .label = Virkja afhleðslu flipa
zen-tabs-close-on-back-with-no-history = 
    .label = Loka flipa og skipta yfir í upprunaflipa hans (eða síðast notaða flipa) þegar farið er til baka og enginn vafurferill er til staðar
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab flettir aðeins innan flipa í Höfuðatriði eða vinnusvæðum
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Hunsa flipa í bið þegar flett er í gegnum með Ctrl + Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab mun fletta í gegnum röð eftir nýlega notuðum flipum, þegar það er virkjað
zen-look-and-feel-compact-toolbar-themed = 
    .label = Nota þemabakgrunn fyrir þjappaða verkfærastiku
zen-workspace-continue-where-left-off = 
    .label = Halda áfram þar sem þú hættir síðast
pane-zen-pinned-tab-manager-title = Festir flipar
zen-pinned-tab-manager-header = Almennar stillingar fyrir festa flipa
zen-pinned-tab-manager-description = Sýsla með aukahegðun festra flipa
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Endurheimta festa flipa í upprunalega festa slóð í ræsingu
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Virkja sérefnisbundna aðalflipa
zen-pinned-tab-manager-close-shortcut-behavior-label = Hegðun flýtileiðar til að loka flipum
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Endurstilla slóð, afhlaða og skipta yfir á næsta flipa
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Afhlaða og skipta yfir á næsta flipa
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Endurstilla slóð og skipta yfir á næsta flipa
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Skipta á næsta flipa
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Endurstilla slóð
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Loka flipa
pane-zen-workspaces-header = Vinnusvæði
zen-settings-workspaces-header = Almennar stillingar fyrir vinnusvæði
zen-settings-workspaces-description = Með því að nota vinnusvæði geturðu verið í mörgum vafurlotum í einu!
zen-settings-workspaces-enabled = 
    .label = Virkja vinnusvæði
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Fela sjálfgefinn vísi um gáma í flipastikunni
zen-key-unsaved = Óvistuð flýtileið! Endilega vistaðu hana með því að ýta á "Escape"-lykilinn eftir að skrifa hana aftur.
zen-key-conflict = Stangast á við { $group } -> { $shortcut }
pane-zen-theme-title = Stillingar þema
zen-vertical-tabs-title = Framsetning hliðarstiku og flipa
zen-vertical-tabs-header = Lóðréttir flipar
zen-vertical-tabs-description = Sýslaðu með flipana þína í lóðréttri framsetningu
zen-vertical-tabs-show-expand-button = 
    .label = Birta 'Fletta út'-hnapp
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Sýna hnappinn 'Nýr flipi' á flipalista
zen-vertical-tabs-newtab-top-button-up = 
    .label = Færa hnappinn 'Nýr flipi' efst
zen-vertical-tabs-expand-tabs-by-default = Fletta sjálfgefið út flipum
zen-vertical-tabs-dont-expand-tabs-by-default = Ekki fletta sjálfgefið út flipum
zen-vertical-tabs-expand-tabs-on-hover = Fletta flipum út við yfirsvif (mun ekki virka í þjöppuðu viðmóti)
zen-vertical-tabs-expand-tabs-header = Hvernig á að fletta út flipum
zen-vertical-tabs-expand-tabs-description = Veldu hvernig á að fletta út flipum í hliðarstikunni
zen-theme-marketplace-header = Viðbrigðasnið Zen
zen-theme-disable-all-enabled = 
    .title = Gera öll viðbrigðasnið óvirk
zen-theme-disable-all-disabled = 
    .title = Virkja öll viðbrigðasnið
zen-theme-marketplace-description = Finndu og settu upp viðbrigðasnið úr safninu.
zen-theme-marketplace-remove-button = 
    .label = Fjarlægja þema
zen-theme-marketplace-check-for-updates-button = 
    .label = Athuga með uppfærslur
zen-theme-marketplace-import-button = 
    .label = Flytja inn viðbrigðasnið
zen-theme-marketplace-export-button = 
    .label = Flytja út viðbrigðasnið
zen-theme-marketplace-import-success = Tókst að flytja inn viðbrigðasnið
zen-theme-marketplace-import-failure = Villa kom upp við að flytja inn viðbrigðasnið
zen-theme-marketplace-export-success = Tókst að flytja út viðbrigðasnið
zen-theme-marketplace-export-failure = Villa kom upp við að flytja út viðbrigðasnið
zen-theme-marketplace-updates-success = Tókst að uppfæra viðbrigðasnið
zen-theme-marketplace-updates-failure = Fann ekki neinar uppfærslur!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Gera mod-breytingar óvirkar
zen-theme-marketplace-toggle-disabled-button = 
    .title = Gera mod-breytingar virkar
zen-theme-marketplace-remove-confirmation = Ertu viss að þú viljir fjarlægja þessa mod-breytingu?
zen-theme-marketplace-close-modal = Loka
zen-theme-marketplace-theme-header-title = 
    .title = CSS-veljari: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Ekkert
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Skrifaðu eitthvað...
pane-zen-marketplace-title = Viðbrigðasnið Zen
zen-themes-auto-update = 
    .label = Uppfæra uppsett viðbrigðasnið sjálfkrafa við ræsingu
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Skipta yfir á vinnusvæði þar sem gámur er settur sem sjálfgefinn þegar gámaflipar eru opnaðir
zen-theme-marketplace-link = Heimsækja hugbúnaðarsafn
zen-dark-theme-styles-header = Stílar dökks þema
zen-dark-theme-styles-description = Sérsníddu dökka þemað eins og þér líkar best
zen-dark-theme-styles-amoled = Næturþema
zen-dark-theme-styles-default = Sjálfgefið dökkt þemaDefault Dark Theme
zen-dark-theme-styles-colorful = Litríkt dökkt þema
zen-compact-mode-styles-left = Fela flipastiku
zen-compact-mode-styles-top = Fela stiku efst
zen-compact-mode-styles-both = Fela bæði
zen-urlbar-title = Zen-staðsetningastikan
zen-urlbar-header = Almennar stillingar fyrir staðsetningastikuna
zen-urlbar-description = Sérsníddu staðsetningastikuna eins og þér líkar best
zen-urlbar-behavior-label = Hegðun
zen-urlbar-behavior-normal = 
    .label = Venjulegt
zen-urlbar-behavior-floating-on-type = 
    .label = Einungis fljótandi við innslátt
zen-urlbar-behavior-float = 
    .label = Alltaf fljótandi
pane-zen-CKS-title = Flýtileiðir á lyklaborði
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Flýtilyklar í { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Viðbrigðasnið Zen
zen-settings-CKS-header = Sérsníddu þínar eigin flýtileiðir á lyklaborði
zen-settings-CKS-description = Breyttu sjálfgefnu lyklaborði í það sem þér líkar og bættu þannig vafursupplifunina þína
zen-settings-CKS-disable-firefox = 
    .label = Gera sjálfgefna flýtilykla í { -brand-short-name } óvirka
zen-settings-CKS-duplicate-shortcut = 
    .label = Tvítaka flýtileið
zen-settings-CKS-reset-shortcuts = 
    .label = Frumstilla á sjálfgefið
zenCKSOption-group-other = Annað
zenCKSOption-group-windowAndTabManagement = Umsýsla glugga og flipa
zenCKSOption-group-navigation = Flakk
zenCKSOption-group-searchAndFind = Leita og finna
zenCKSOption-group-pageOperations = Aðgerðir á síðu
zenCKSOption-group-historyAndBookmarks = Ferill og bókamerki
zenCKSOption-group-mediaAndDisplay = Myndefni og birting
zenCKSOption-group-zen-compact-mode = Þjappað viðmót
zenCKSOption-group-zen-workspace = Vinnusvæði
zenCKSOption-group-zen-other = Aðrir eiginleikar Zen
zenCKSOption-group-zen-split-view = Skiptingarsýn
zenCKSOption-group-devTools = Forritunarverkfæri
zen-key-quick-restart = Fljótleg endurræsing
zen-window-new-shortcut = Nýr gluggi
zen-tab-new-shortcut = Nýr flipi
zen-key-redo = Endurgera
zen-restore-last-closed-tab-shortcut = Endurheimta síðasta lokaða flipa
zen-location-open-shortcut = Opna staðsetningu
zen-location-open-shortcut-alt = Opna staðsetningu (Alt)
zen-key-undo-close-window = Afturkalla lokun á glugga
zen-text-action-undo-shortcut = Afturkalla
zen-text-action-redo-shortcut = Endurgera
zen-text-action-cut-shortcut = Klippa
zen-text-action-copy-shortcut = Afrita
zen-text-action-copy-url-shortcut = Afrita fyrirliggjandi slóð
zen-text-action-copy-url-markdown-shortcut = Afrita fyrirliggjandi slóð sem Markdown
zen-text-action-paste-shortcut = Líma
zen-text-action-select-all-shortcut = Velja allt
zen-text-action-delete-shortcut = Eyða
zen-history-show-all-shortcut-mac = Birta allan vafurferilinn (Mac)
zen-full-screen-shortcut = Víxla skjáfylli
zen-reader-mode-toggle-shortcut-windows = Víxla lesham (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Víxla mynd-í-mynd (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Víxla mynd-í-mynd (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Víxla mynd-í-mynd (Mac Alt)
zen-page-source-shortcut-safari = Skoða frumkóða síðu (Safari)
zen-nav-stop-shortcut = Stöðva hleðslu
zen-history-sidebar-shortcut = Sýna ferilhliðarstiku
zen-window-minimize-shortcut = Fela glugga
zen-help-shortcut = Opna hjálparyfirlit
zen-preferences-shortcut = Opna kjörstillingar
zen-hide-app-shortcut = Fela forrit
zen-hide-other-apps-shortcut = Fela önnur forrit
zen-search-focus-shortcut = Setja virkni á leit
zen-search-focus-shortcut-alt = Setja virkni á leit (Alt)
zen-downloads-shortcut = Opna niðurhal
zen-addons-shortcut = Opna viðbætur
zen-file-open-shortcut = Opna skrá
zen-save-page-shortcut = Vista síðu
zen-print-shortcut = Prenta síðu
zen-close-shortcut-2 = Loka flipa
zen-mute-toggle-shortcut = Víxla hljóði
zen-key-delete = Eyða-lykill
zen-key-go-back = Fara til baka
zen-key-go-forward = Fara áfram
zen-nav-back-shortcut-alt = Fara til baka (Alt)
zen-nav-fwd-shortcut-alt = Fara áfram (Alt)
zen-history-show-all-shortcut = Birta allan vafurferilinn
zen-key-enter-full-screen = Fylla skjáinn
zen-key-exit-full-screen = Hætta í skjáfylli
zen-ai-chatbot-sidebar-shortcut = Víxla hliðarspjaldi AI-spjalls af/á
zen-key-inspector-mac = Víxla yfirferð af/á (Mac)
zen-toggle-sidebar-shortcut = Víxla Firefox-hliðarstiku af/á
zen-toggle-pin-tab-shortcut = Víxla festingu flipa af/á
zen-reader-mode-toggle-shortcut-other = Víxla lesham af/á
zen-picture-in-picture-toggle-shortcut = Víxla af/á mynd-í-mynd
zen-nav-reload-shortcut-2 = Endurlesa síðu
zen-key-about-processes = Um vinnsluferli
zen-page-source-shortcut = Skoða frumkóða síðu
zen-page-info-shortcut = Skoða upplýsingar um síðu
zen-find-shortcut = Finna á síðu
zen-search-find-again-shortcut = Finna aftur
zen-search-find-again-shortcut-prev = Finna fyrra
zen-search-find-again-shortcut-2 = Finna aftur (Alt)
zen-bookmark-this-page-shortcut = Bókamerkja þessa síðu
zen-bookmark-show-library-shortcut = Birta bókamerkjasafn
zen-key-stop = Stöðva hleðslu
zen-full-zoom-reduce-shortcut = Renna frá
zen-full-zoom-enlarge-shortcut = Renna að
zen-full-zoom-reset-shortcut = Endurstilla aðdrátt
zen-full-zoom-reset-shortcut-alt = Endurstilla aðdrátt (Alt)
zen-full-zoom-enlarge-shortcut-alt = Renna að (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Renna að (Alt 2)
zen-bidi-switch-direction-shortcut = Breyta stefnu texta
zen-private-browsing-shortcut = Einkavafur
zen-screenshot-shortcut = Taka skjámynd
zen-key-sanitize = Hreinsa vafurgögn
zen-quit-app-shortcut = Hætta í forritinu
zen-key-wr-capture-cmd = Skipun fyrir WR-upptöku
zen-key-wr-toggle-capture-sequence-cmd = Víxla WR-upptökurunu af/á
zen-nav-reload-shortcut = Endurlesa síðu
zen-nav-reload-shortcut-skip-cache = Endurlesa síðu (sleppa skyndiminni)
zen-close-shortcut = Loka glugga
zen-close-tab-shortcut = Loka flipa
zen-compact-mode-shortcut-show-sidebar = Víxla fljótandi hliðarstiku af/á
zen-compact-mode-shortcut-show-toolbar = Víxla fljótandi hliðarstiku af/á
zen-compact-mode-shortcut-toggle = Víxla þjöppuðu viðmóti af/á
zen-glance-expand = Víkka Skyndisýn
zen-workspace-shortcut-switch-1 = Skipta yfir á vinnusvæði 1
zen-workspace-shortcut-switch-2 = Skipta yfir á vinnusvæði 2
zen-workspace-shortcut-switch-3 = Skipta yfir á vinnusvæði 3
zen-workspace-shortcut-switch-4 = Skipta yfir á vinnusvæði 4
zen-workspace-shortcut-switch-5 = Skipta yfir á vinnusvæði 5
zen-workspace-shortcut-switch-6 = Skipta yfir á vinnusvæði 6
zen-workspace-shortcut-switch-7 = Skipta yfir á vinnusvæði 7
zen-workspace-shortcut-switch-8 = Skipta yfir á vinnusvæði 8
zen-workspace-shortcut-switch-9 = Skipta yfir á vinnusvæði 9
zen-workspace-shortcut-switch-10 = Skipta yfir á vinnusvæði 10
zen-workspace-shortcut-forward = Vinnusvæði áfram
zen-workspace-shortcut-backward = Vinnusvæði afturábak
zen-sidebar-shortcut-toggle = Víxla breidd hliðarspjalds
zen-pinned-tab-shortcut-reset = Endursetja festan flipa á festa slóð
zen-split-view-shortcut-grid = Víxla reitaskiptri skiptingarsýn
zen-split-view-shortcut-vertical = Víxla lóðréttri skiptingarsýn
zen-split-view-shortcut-horizontal = Víxla láréttri skiptingarsýn
zen-split-view-shortcut-unsplit = Hætta skiptingarsýn
zen-new-empty-split-view-shortcut = Ný auð skiptingarsýn
zen-key-select-tab-1 = Velja flipa #1
zen-key-select-tab-2 = Velja flipa #2
zen-key-select-tab-3 = Velja flipa #3
zen-key-select-tab-4 = Velja flipa #4
zen-key-select-tab-5 = Velja flipa #5
zen-key-select-tab-6 = Velja flipa #6
zen-key-select-tab-7 = Velja flipa #7
zen-key-select-tab-8 = Velja flipa #8
zen-key-select-tab-last = Velja síðasta flipa
zen-key-show-all-tabs = Sýna alla flipa
zen-key-goto-history = Fara í vafurferil
zen-key-go-home = Fara heim
zen-bookmark-show-sidebar-shortcut = Birta hliðarstiku bókamerkja
zen-bookmark-show-toolbar-shortcut = Birta verkfærastiku bókamerkja
zen-devtools-toggle-shortcut = Víxla DevTools af/á
zen-devtools-toggle-browser-toolbox-shortcut = Víxla vafraverkfærum af/á
zen-devtools-toggle-browser-console-shortcut = Víxla vafrastjórnborði af/á
zen-devtools-toggle-responsive-design-mode-shortcut = Víxla kvarðanlegu notandaviðmóti af/á
zen-devtools-toggle-inspector-shortcut = Víxla yfirferð af/á
zen-devtools-toggle-web-console-shortcut = Víxla vefstjórnborði af/á
zen-devtools-toggle-js-debugger-shortcut = Víxla JavaScript-aflúsara af/á
zen-devtools-toggle-net-monitor-shortcut = Víxla netkerfisvaktara af/á
zen-devtools-toggle-style-editor-shortcut = Víxla stílaritli af/á
zen-devtools-toggle-performance-shortcut = Víxla afköstum af/á
zen-devtools-toggle-storage-shortcut = Víxla geymslurými af/á
zen-devtools-toggle-dom-shortcut = Víxla DOM af/á
zen-devtools-toggle-accessibility-shortcut = Víxla auðvelduðu aðgengi af/á
zen-close-all-unpinned-tabs-shortcut = Loka öllum ófestum flipum
zen-new-unsynced-window-shortcut = Nýr ósamstilltur gluggi



================================================
FILE: locales/it/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Cerca { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rinomina cartella
zen-folders-panel-unpack-folder = 
    .label = Scompatta cartella
zen-folders-new-subfolder = 
    .label = Nuova sottocartella
zen-folders-panel-delete-folder = 
    .label = Cancella cartella
zen-folders-panel-convert-folder-to-space = 
    .label = Converti la cartella in Spazio
zen-folders-panel-change-folder-space = 
    .label = Cambia Spazio...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Scarica tutte le schede attive in questa cartella
zen-folders-unload-folder = 
    .label = Scarica tutte le schede
zen-folders-search-no-results = Nessuna scheda corrispondente alla ricerca 🤔



================================================
FILE: locales/it/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = profilo in uso
unified-extensions-description = Le estensioni sono usate per portare più funzionalità in { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Reimposta scheda fissata
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Aggiungi agli Essenziali
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slot riempiti
tab-context-zen-remove-essential = 
    .label = Rimuovi dagli Essenziali
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Sostituisci URL fissato con quello corrente
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Il tuo file { -brand-short-name } mods è danneggiato. Sono stati reimpostati al tema predefinito.
zen-shortcuts-corrupted = Il file delle scorciatoie per { -brand-short-name } è corrotto. Le scorciatoie sono state riportate alle impostazioni predefinite.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification = La nuova barra degli indirizzi è stata abilitata, eliminando la necessità della pagina di una nuova scheda.<br/><br/>Prova ad aprire una nuova scheda per vedere la nuova barra degli indirizzi in azione!
zen-disable = Disabilita
pictureinpicture-minimize-btn = 
    .aria-label = Minimizza
    .tooltip = Minimizza
zen-panel-ui-gradient-generator-custom-color = Colore personalizzato
zen-copy-current-url-confirmation = L'URL corrente è stato copiato!
zen-general-cancel-label = 
    .label = Annulla
zen-general-confirm = 
    .label = Conferma
zen-pinned-tab-replaced = L'URL della scheda bloccata è stato sostituito con l'URL attuale.
zen-tabs-renamed = La scheda è stata rinominata con successo!
zen-background-tab-opened-toast = Nuova scheda aperta in background!
zen-workspace-renamed-toast = Il Workspace è stato rinominato con successo!
zen-toggle-compact-mode-button = 
    .label = Modalità compatta
    .tooltiptext = Attiva/disattiva Modalità compatta

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Scopri di più
zen-close-label = Chiudi
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Cerca...
zen-icons-picker-emoji = 
    .label = Emoji
zen-icons-picker-svg = 
    .label = Icone
urlbar-search-mode-zen_actions = Azioni
zen-site-data-settings = Impostazioni
zen-generic-manage = Gestisci
zen-generic-more = Altro
zen-generic-next = Successivo
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Consentito
zen-site-data-setting-block = Bloccato
zen-site-data-protections-enabled = Attivato
zen-site-data-protections-disabled = Disattivato
zen-site-data-setting-cross-site = Cookie Cross-Site
zen-site-data-security-info-extension = 
    .label = Estensione
zen-site-data-security-info-secure = 
    .label = Sicuro
zen-site-data-security-info-not-secure = 
    .label = Non sicuro
zen-site-data-manage-addons = 
    .label = Gestisci estensioni
zen-site-data-get-addons = 
    .label = Aggiungi estensioni
zen-site-data-site-settings = 
    .label = Tutte le impostazioni del sito
zen-site-data-header-share = 
    .tooltiptext = Condividi questa pagina
zen-site-data-header-reader-mode = 
    .tooltiptext = Entra nella Modalità Lettura
zen-site-data-header-screenshot = 
    .tooltiptext = Cattura schermata
zen-site-data-header-bookmark = 
    .tooltiptext = Aggiungi questa pagina ai segnalibri
zen-urlbar-copy-url-button = 
    .tooltiptext = Copia URL
zen-site-data-setting-site-protection = Protezione Tracciamento

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Una nuova casa per componenti aggiuntivi, permessi, e altro ancora
zen-site-data-panel-feature-callout-subtitle = Clicca l'icona per gestire le impostazioni del sito, visualizzare informazioni di sicurezza, accedere alle estensioni, ed eseguire azioni comuni.
zen-open-link-in-glance = 
    .label = Apri collegamento in Sguardo
    .accesskey = G
zen-sidebar-notification-updated-heading = Aggiornamento completato!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Cosa c'è di nuovo in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Vedi Note di Rilascio
zen-sidebar-notification-restart-safe-mode-label = Si è rotto qualcosa?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Riavvia in Modalità Provvisoria
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/it/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/it/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Tab (sono necessarie più schede selezionate)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S
zen-split-link = 
    .label = Dividi il collegamento in una nuova scheda
    .accesskey = S
zen-split-view-modifier-header = Dividi Vista
zen-split-view-modifier-activate-reallocation = 
    .label = Attiva riallocazione
zen-split-view-modifier-enabled-toast = La riorganizzazione della vista divisa è attiva.
zen-split-view-modifier-enabled-toast-description = Trascinare e rilasciare la vista per riarrangiare. Premere Esc per uscire.
zen-split-view-modifier-disabled-toast = La riorganizzazione della vista divisa è disattivata.



================================================
FILE: locales/it/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Schede a destra
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Modalità compatta
zen-toolbar-context-compact-mode-enable = 
    .label = Abilita modalità compatta
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Nascondi barra laterale
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Nascondi barra degli strumenti
zen-toolbar-context-compact-mode-hide-both = 
    .label = Nascondi entrambi
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Nuova cartella
    .accesskey = N
sidebar-zen-expand = 
    .label = Espandi barra laterale
sidebar-zen-create-new = 
    .label = Crea nuova...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Scarica e passa alla scheda
           *[other] Scarica le { $tabCount } schede e passa alla prima
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reimposta e fissa la scheda
           *[other] Reimposta e fissa le { $tabCount } schede
        }
tab-reset-pin-label = Torna all'url fissato



================================================
FILE: locales/it/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Silenzia pannello web
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Riattiva Pannello Web
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Disabilita Mobile UserAgent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Abilita Mobile UserAgent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Scarica Pannello Web
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Elimina pannello web
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Apri in una nuova scheda
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Apri nella scheda Contenitore
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Aggiungi ai pannelli web
    .accesskey = A
zen-webpanel-introduction-title = Benvenuto nei Pannelli Web di Zen
zen-webpanel-introduction-description = I Pannelli Web sono un modo per tenere i tuoi siti preferiti a portata di mano.



================================================
FILE: locales/it/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Benvenuto a
zen-welcome-title-line2 = un internet più calmo
zen-welcome-import-title = Un nuovo Inizio, Stessi Segnalibri
zen-welcome-import-description-1 = I tuoi segnalibri, la tua cronologia e le tue password sono come una scia di briciole attraverso internet—non lasciartele alle spalle!
zen-welcome-import-description-2 = Portali facilmente da un altro browser e riprendi da dove hai lasciato.
zen-welcome-import-button = Importa adesso
zen-welcome-set-default-browser = Imposta { -brand-short-name } come browser predefinito
zen-welcome-dont-set-default-browser = NON impostare { -brand-short-name } come browser predefinito
zen-welcome-initial-essentials-title = Le Tue Schede Importanti, Sempre a Portata di Mano
zen-welcome-initial-essentials-description-1 = Mantieni le schede più importanti facilmente accessibili e sempre a portata di mano, indipendentemente da quante ne apri.
zen-welcome-initial-essentials-description-2 = Le schede essenziali sono sempre visibili, indipendentemente dallo spazio di lavoro in cui ti trovi.
zen-welcome-workspace-colors-title = I tuoi Ambienti di lavoro, i Tuoi Colori
zen-welcome-workspace-colors-description = Personalizza il tuo browser dando a ogni ambiente di lavoro la sua identità unica colorata.
zen-welcome-start-browsing-title =
    Tutto pronto?<br/>
    Cominciamo!
zen-welcome-start-browsing-description-1 = È tutto pronto per cominciare. Clicca il pulsante qui sotto per iniziare a navigare con { -brand-short-name }.
zen-welcome-start-browsing = Andiamo!
zen-welcome-default-search-title = Il tuo Motore di Ricerca Predefinito
zen-welcome-default-search-description = Scegli il tuo motore di ricerca predefinito. Puoi sempre cambiarlo più tardi!
zen-welcome-skip-button = Salta
zen-welcome-finished = Il tuo Zen è stato configurato correttamente!



================================================
FILE: locales/it/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Spazi
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Crea Spazio
zen-panel-ui-folder-create = 
    .label = Crea Cartella
zen-panel-ui-new-empty-split = 
    .label = Nuova Divisione
zen-workspaces-panel-context-delete = 
    .label = Elimina lo Spazio
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Cambia Nome
zen-workspaces-panel-change-icon = 
    .label = Cambia Icona
zen-workspaces-panel-context-default-profile = 
    .label = Imposta Profilo
zen-workspaces-panel-unload = 
    .label = Scarica Spazio
zen-workspaces-how-to-reorder-title = Come riordinare gli spazi
zen-workspaces-how-to-reorder-desc = Trascina le icone degli spazi in fondo alla barra laterale per riordinarle
zen-workspaces-change-theme = 
    .label = Modifica Tema
zen-workspaces-panel-context-open = 
    .label = Apri Spazio
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Modifica Spazio
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementare
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Dividi
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogo
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadico
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Fluttuante
zen-panel-ui-gradient-click-to-add = Clicca per aggiungere un colore
zen-workspace-creation-name = 
    .placeholder = Nome dello Spazio
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Riordina Spazi
zen-workspace-creation-profile = Profilo
    .tooltiptext = I profili vengono usati per separare i cookie e i dati dei siti tra gli spazi.
zen-workspace-creation-header = Crea uno Spazio
zen-workspace-creation-label = Gli Spazi sono usati per organizzare le tue schede e sessioni.
zen-workspaces-delete-workspace-title = Eliminare Spazio?
zen-workspaces-delete-workspace-body = Sei sicuro di voler cancellare { $name }? Questa azione non può essere annullata.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Scheda chiusa! Usa <span>{ $shortcut }</span> per riaprirla.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Pulisci
    .tooltiptext = Chiudi tutte le schede non bloccate
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/it/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Un tema con uno schema di colori scuri e un bel tocco di galassia!
extension-firefox-compact-dream-name = Sogno Zen
extension-firefox-compact-dream-description = Un tema con uno schema di colori chiari e un bel tocco sogno-y!



================================================
FILE: locales/it/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Url Iniziale
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Mostra questo pannello web in modalità mobile
    .accesskey = m



================================================
FILE: locales/it/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Aspetto
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Cambiare la lingua predefinita potrebbe agevolare i siti nel tracciarti.
zen-vertical-tabs-layout-header = Layout del Browser
zen-vertical-tabs-layout-description = Scegli il layout più adatto a te
zen-layout-single-toolbar = Barra degli strumenti singola
zen-layout-multiple-toolbar = Barre degli strumenti multiple
zen-layout-collapsed-toolbar = Barra degli strumenti chiusa
sync-currently-syncing-workspaces = Altri spazi di lavoro
sync-engine-workspaces = 
    .label = Altri spazi di lavoro
    .tooltiptext = Sincronizza i workspace tra i dispositivi
    .accesskey = W
zen-glance-title = Sguardo
zen-glance-header = Impostazioni generali per lo sguardo
zen-glance-description = Ottieni una rapida panoramica dei tuoi link senza aprirli in una nuova scheda
zen-glance-trigger-label = Metodo di attivazione
zen-glance-enabled = 
    .label = Abilita Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + Click
zen-glance-trigger-shift-click = 
    .label = Maiusc + Click
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = Mostra nella vista compatta
zen-look-and-feel-compact-view-description = Mostra solo le barre degli strumenti che utilizzi!
zen-look-and-feel-compact-view-enabled = 
    .label = Abilita la modalità compatta di { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Nascondi anche la barra degli strumenti superiore in modalità compatta
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Fai comparire brevemente la barra degli strumenti quando si cambiano o si aprono nuove schede in modalità compatta
pane-zen-tabs-title = Gestione Schede
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Workspace
zen-tabs-unloader-enabled = 
    .label = Abilita Scaricamento Scheda
zen-tabs-close-on-back-with-no-history = 
    .label = Chiudi scheda e passa alla scheda proprietario (o scheda usata più di recente) quando si torna indietro senza cronologia
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cicla solo tra le schede Essenziali o Spazi
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignora le schede in sospeso quando si cicla con Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Se abilitato, Ctrl+Tab ciclarà in ordine di utilizzo recente
zen-look-and-feel-compact-toolbar-themed = 
    .label = Utilizza lo sfondo a tema per la barra degli strumenti compatta
zen-workspace-continue-where-left-off = 
    .label = Continua da dove avevi interrotto
pane-zen-pinned-tab-manager-title = Schede Bloccate
zen-pinned-tab-manager-header = Impostazioni generali per le schede bloccate
zen-pinned-tab-manager-description = Gestisci il comportamento aggiuntivo delle schede bloccate
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Ripristina le schede bloccate al loro URL originariamente fissato all'avvio
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Abilita elementi essenziali specifici del contenitore
zen-pinned-tab-manager-close-shortcut-behavior-label = Chiudi Comportamento Scorciatoia Scheda
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Reimposta URL, scarica e passa alla scheda successiva
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Scarica e passa alla scheda successiva
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Reimposta URL e passa alla scheda successiva
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Passa alla scheda successiva
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Ripristina URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Chiudi scheda
pane-zen-workspaces-header = Workspace
zen-settings-workspaces-header = Impostazioni generali per i workspace
zen-settings-workspaces-description = Con gli spazi di lavoro, puoi avere sessioni di navigazione multiple contemporaneamente!
zen-settings-workspaces-enabled = 
    .label = Abilita Workspace (Sperimentale)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Nascondi l'indicatore predefinito del contenitore nella barra delle schede
zen-key-unsaved = Scorciatoia non salvata! Si prega di proteggerla facendo clic sul tasto "Escape" dopo averlo ripetuto.
zen-key-conflict = Conflitti con { $group } -> { $shortcut }
pane-zen-theme-title = Impostazioni tema
zen-vertical-tabs-title = Layout barra laterale e schede
zen-vertical-tabs-header = Schede verticali
zen-vertical-tabs-description = Gestisci le tue schede in un layout verticale
zen-vertical-tabs-show-expand-button = 
    .label = Mostra Pulsante Espandi
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Mostra il bottone Nuova Scheda nella Lista delle Schede
zen-vertical-tabs-newtab-top-button-up = 
    .label = Sposta il bottone nuova scheda in cima
zen-vertical-tabs-expand-tabs-by-default = Espandi schede di default
zen-vertical-tabs-dont-expand-tabs-by-default = Non espandi schede di default
zen-vertical-tabs-expand-tabs-on-hover = Espandi le schede su Hover (Non funziona in modalità compatta)
zen-vertical-tabs-expand-tabs-header = Come espandere le schede
zen-vertical-tabs-expand-tabs-description = Scegli come espandere le schede nella barra laterale
zen-theme-marketplace-header = Zen Mod
zen-theme-disable-all-enabled = 
    .title = Disabilita tutti i temi
zen-theme-disable-all-disabled = 
    .title = Abilita tutti i temi
zen-theme-marketplace-description = Trova e installa temi dal negozio.
zen-theme-marketplace-remove-button = 
    .label = Rimuovi Tema
zen-theme-marketplace-check-for-updates-button = 
    .label = Controlla aggiornamenti
zen-theme-marketplace-import-button = 
    .label = Importa mod
zen-theme-marketplace-export-button = 
    .label = Esporta mod
zen-theme-marketplace-import-success = Mod importate con successo
zen-theme-marketplace-import-failure = Si è verificato un errore nell'importazione delle mod
zen-theme-marketplace-export-success = Mod esportate con successo
zen-theme-marketplace-export-failure = Si è verificato un errore nell'esportazione delle mod
zen-theme-marketplace-updates-success = Tema aggiornato con successo
zen-theme-marketplace-updates-failure = Non sono stati trovati aggiornamenti!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Disabilita Tema
zen-theme-marketplace-toggle-disabled-button = 
    .title = Abilita Tema
zen-theme-marketplace-remove-confirmation = Sei sicuro di voler rimuovere questa mod?
zen-theme-marketplace-close-modal = Chiudi
zen-theme-marketplace-theme-header-title = 
    .title = Selettore CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Nessuno
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Digita qualcosa...
pane-zen-marketplace-title = Zen Mod
zen-themes-auto-update = 
    .label = Aggiorna automaticamente le mod installate all'avvio
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Passa allo spazio di lavoro in cui il contenitore è impostato come predefinito quando si aprono le schede contenitore
zen-theme-marketplace-link = Visita Il Negozio
zen-dark-theme-styles-header = Stili A Tema Scuro
zen-dark-theme-styles-description = Personalizza il tema scuro a tuo piacimento
zen-dark-theme-styles-amoled = Tema Notturno
zen-dark-theme-styles-default = Tema Scuro Predefinito
zen-dark-theme-styles-colorful = Tema Scuro Colorato
zen-compact-mode-styles-left = Nascondi barra delle schede
zen-compact-mode-styles-top = Nascondi barra superiore
zen-compact-mode-styles-both = Nascondi Entrambi
zen-urlbar-title = Barra degli indirizzi di Zen
zen-urlbar-header = Impostazioni generali per la barra degli indirizzi
zen-urlbar-description = Personalizza la barra degli indirizzi a tuo piacimento
zen-urlbar-behavior-label = Comportamento
zen-urlbar-behavior-normal = 
    .label = Normale
zen-urlbar-behavior-floating-on-type = 
    .label = Fluttuante solo durante la digitazione
zen-urlbar-behavior-float = 
    .label = Sempre fluttuante
pane-zen-CKS-title = Tasti Scorciatoie
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Scorciatoie Da Tastiera { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Zen Mod
zen-settings-CKS-header = Personalizza le scorciatoie da tastiera
zen-settings-CKS-description = Cambia le scorciatoie da tastiera predefinite a tuo piacimento e migliora la tua esperienza di navigazione
zen-settings-CKS-disable-firefox = 
    .label = Disabilita le scorciatoie predefinite di { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplica Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = Ripristina predefinito
zenCKSOption-group-other = Altro
zenCKSOption-group-windowAndTabManagement = Gestione Finestre E Tab
zenCKSOption-group-navigation = Navigazione
zenCKSOption-group-searchAndFind = Cerca E Trova
zenCKSOption-group-pageOperations = Operazioni Della Pagina
zenCKSOption-group-historyAndBookmarks = Cronologia & Segnalibri
zenCKSOption-group-mediaAndDisplay = Multimedia & Schermo
zenCKSOption-group-zen-compact-mode = Modalità Compatta
zenCKSOption-group-zen-workspace = Altri spazi di lavoro
zenCKSOption-group-zen-other = Altre Caratteristiche Zen
zenCKSOption-group-zen-split-view = Dividi Vista
zenCKSOption-group-devTools = Strumenti per Sviluppatori
zen-key-quick-restart = Riavvio Rapido
zen-window-new-shortcut = Nuova Finestra
zen-tab-new-shortcut = Nuova Scheda
zen-key-redo = Ripeti
zen-restore-last-closed-tab-shortcut = Ripristina Scheda Ultima Chiusa
zen-location-open-shortcut = Apri Posizione
zen-location-open-shortcut-alt = Apri Posizione (Alt)
zen-key-undo-close-window = Annulla Chiudi Finestra
zen-text-action-undo-shortcut = Annulla
zen-text-action-redo-shortcut = Ripeti
zen-text-action-cut-shortcut = Taglia
zen-text-action-copy-shortcut = Copia
zen-text-action-copy-url-shortcut = Copia URL corrente
zen-text-action-copy-url-markdown-shortcut = Copia l'URL corrente come Markdown
zen-text-action-paste-shortcut = Incolla
zen-text-action-select-all-shortcut = Seleziona Tutto
zen-text-action-delete-shortcut = Elimina
zen-history-show-all-shortcut-mac = Mostra Cronologia Tutte (Mac)
zen-full-screen-shortcut = Attiva/Disattiva Schermo Intero
zen-reader-mode-toggle-shortcut-windows = Attiva/Disattiva Modalità Lettore (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Attiva/Disattiva Immagine (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Attiva/Disattiva Immagine (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Attiva/Disattiva Immagine In Immagine (Mac Alt)
zen-page-source-shortcut-safari = Visualizza Sorgente Pagina (Safari)
zen-nav-stop-shortcut = Interrompi Caricamento
zen-history-sidebar-shortcut = Mostra barra laterale della cronologia
zen-window-minimize-shortcut = Minimizza Finestra
zen-help-shortcut = Apri Aiuto
zen-preferences-shortcut = Apri Preferenze
zen-hide-app-shortcut = Nascondi Applicazione
zen-hide-other-apps-shortcut = Nascondi Altre Applicazioni
zen-search-focus-shortcut = Focus Ricerca
zen-search-focus-shortcut-alt = Focus Ricerca (Alt)
zen-downloads-shortcut = Apri i download
zen-addons-shortcut = Apri Componenti Aggiuntivi
zen-file-open-shortcut = Apri File
zen-save-page-shortcut = Salva pagina
zen-print-shortcut = Stampa pagina
zen-close-shortcut-2 = Chiudi scheda
zen-mute-toggle-shortcut = Attiva/Disattiva Muto
zen-key-delete = Elimina Chiave
zen-key-go-back = Torna Indietro
zen-key-go-forward = Vai Avanti
zen-nav-back-shortcut-alt = Naviga Indietro (Alt)
zen-nav-fwd-shortcut-alt = Naviga In Avanti (Alt)
zen-history-show-all-shortcut = Mostra Cronologia Intera
zen-key-enter-full-screen = Entra A Schermo Intero
zen-key-exit-full-screen = Esci Da Schermo Intero
zen-ai-chatbot-sidebar-shortcut = Attiva/Disattiva La Barra Laterale Chat AI
zen-key-inspector-mac = Attiva/Disattiva Ispeziona Elemento (Mac)
zen-toggle-sidebar-shortcut = Attiva/Disattiva La Barra Laterale di Firefox
zen-toggle-pin-tab-shortcut = Attiva/Disattiva Scheda Pin
zen-reader-mode-toggle-shortcut-other = Attiva/Disattiva Modalità Lettore
zen-picture-in-picture-toggle-shortcut = Attiva/Disattiva Immagine
zen-nav-reload-shortcut-2 = Ricarica Pagina
zen-key-about-processes = Informazioni Sui Processi
zen-page-source-shortcut = Visualizza Sorgente Pagina
zen-page-info-shortcut = Visualizza Informazioni Pagina
zen-find-shortcut = Trova nella pagina
zen-search-find-again-shortcut = Trova Di Nuovo
zen-search-find-again-shortcut-prev = Trova Precedente
zen-search-find-again-shortcut-2 = Trova Ancora (Alt)
zen-bookmark-this-page-shortcut = Aggiungi questa pagina ai segnalibri
zen-bookmark-show-library-shortcut = Mostra Libreria Segnalibri
zen-key-stop = Interrompi Caricamento
zen-full-zoom-reduce-shortcut = Zoom indietro
zen-full-zoom-enlarge-shortcut = Zoom avanti
zen-full-zoom-reset-shortcut = Resetta zoom
zen-full-zoom-reset-shortcut-alt = Reimposta Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Ingrandisci (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Ingrandisci (Alt 2)
zen-bidi-switch-direction-shortcut = Cambia Direzione Del Testo
zen-private-browsing-shortcut = Navigazione Privata
zen-screenshot-shortcut = Cattura Schermata
zen-key-sanitize = Cancella Dati Di Navigazione
zen-quit-app-shortcut = Chiudi l'applicazione
zen-key-wr-capture-cmd = Comando Di Acquisizione Wr
zen-key-wr-toggle-capture-sequence-cmd = Attiva/Disattiva Sequenza Acquisizione WR
zen-nav-reload-shortcut = Ricarica Pagina
zen-nav-reload-shortcut-skip-cache = Ricarica Pagina (Ignora Cache)
zen-close-shortcut = Chiudi finestra
zen-close-tab-shortcut = Chiudi scheda
zen-compact-mode-shortcut-show-sidebar = Attiva/Disattiva Barra Laterale Fluttuante
zen-compact-mode-shortcut-show-toolbar = Attiva/Disattiva Barra Fluttuante
zen-compact-mode-shortcut-toggle = Attiva/disattiva modalità compatta
zen-glance-expand = Espandi Sguardo
zen-workspace-shortcut-switch-1 = Passa allo spazio di lavoro 1
zen-workspace-shortcut-switch-2 = Passa allo spazio di lavoro 2
zen-workspace-shortcut-switch-3 = Passa allo spazio di lavoro 3
zen-workspace-shortcut-switch-4 = Passa allo spazio di lavoro 4
zen-workspace-shortcut-switch-5 = Passa allo spazio di lavoro 5
zen-workspace-shortcut-switch-6 = Passa allo spazio di lavoro 6
zen-workspace-shortcut-switch-7 = Passa allo spazio di lavoro 7
zen-workspace-shortcut-switch-8 = Passa allo spazio di lavoro 8
zen-workspace-shortcut-switch-9 = Passa allo spazio di lavoro 9
zen-workspace-shortcut-switch-10 = Passa allo spazio di lavoro 10
zen-workspace-shortcut-forward = Workspace Inoltra
zen-workspace-shortcut-backward = Workspace Indietro
zen-sidebar-shortcut-toggle = Attiva/Disattiva Larghezza Barra Laterale
zen-pinned-tab-shortcut-reset = Reimposta la scheda bloccata all'URL bloccata
zen-split-view-shortcut-grid = Attiva/Disattiva Griglia Visualizzazione Dividi
zen-split-view-shortcut-vertical = Attiva/Disattiva Dividi Vista Verticale
zen-split-view-shortcut-horizontal = Attiva/Disattiva Dividi Vista Orizzontale
zen-split-view-shortcut-unsplit = Chiudi vista divisa
zen-new-empty-split-view-shortcut = Nuova vista divisa vuota
zen-key-select-tab-1 = Seleziona Scheda #1
zen-key-select-tab-2 = Seleziona Scheda #2
zen-key-select-tab-3 = Seleziona Scheda #3
zen-key-select-tab-4 = Seleziona scheda #4
zen-key-select-tab-5 = Seleziona scheda #5
zen-key-select-tab-6 = Seleziona Scheda #6
zen-key-select-tab-7 = Seleziona scheda #7
zen-key-select-tab-8 = Seleziona Scheda #8
zen-key-select-tab-last = Seleziona l'ultima scheda
zen-key-show-all-tabs = Mostra tutte le schede
zen-key-goto-history = Vai alla cronologia
zen-key-go-home = Vai A Home
zen-bookmark-show-sidebar-shortcut = Mostra Barra Laterale Dei Segnalibri
zen-bookmark-show-toolbar-shortcut = Mostra Barra Dei Segnalibri
zen-devtools-toggle-shortcut = Attiva Strumenti Sviluppatore
zen-devtools-toggle-browser-toolbox-shortcut = Attiva/Disattiva Strumenti Browser
zen-devtools-toggle-browser-console-shortcut = Attiva/Disattiva Console Del Browser
zen-devtools-toggle-responsive-design-mode-shortcut = Attiva/Disattiva Modalità Design Responsivo
zen-devtools-toggle-inspector-shortcut = Attiva/Disattiva Ispeziona Elemento
zen-devtools-toggle-web-console-shortcut = Attiva/Disattiva Console Web
zen-devtools-toggle-js-debugger-shortcut = Attiva/Disattiva Debugger JavaScript
zen-devtools-toggle-net-monitor-shortcut = Attiva/disattiva Monitor Di Rete
zen-devtools-toggle-style-editor-shortcut = Attiva/Disattiva Editor Di Stile
zen-devtools-toggle-performance-shortcut = Attiva/disattiva Prestazioni
zen-devtools-toggle-storage-shortcut = Attiva/Disattiva Archiviazione
zen-devtools-toggle-dom-shortcut = Attiva/Disattiva DOM
zen-devtools-toggle-accessibility-shortcut = Attiva/Disattiva Accessibilità
zen-close-all-unpinned-tabs-shortcut = Chiudi Tutte Le Schede Non Bloccate
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/ja/browser/browser/zen-folders.ftl
================================================
[Binary file]


================================================
FILE: locales/ja/browser/browser/zen-general.ftl
================================================
[Binary file]


================================================
FILE: locales/ja/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] ピン留めされたタブ
           *[false] ピン留めされたタブ
        }
zen-menubar-appearance = 
    .label = 外観
zen-menubar-appearance-description = 
    .label = ウェブサイトが使用されます：
zen-menubar-appearance-auto = 
    .label = 自動
zen-menubar-appearance-light = 
    .label = ライトモード
zen-menubar-appearance-dark = 
    .label = ダークモード
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/ja/browser/browser/zen-split-view.ftl
================================================
[Binary file]


================================================
FILE: locales/ja/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = タブバーを右側に表示する
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = コンパクトモード
zen-toolbar-context-compact-mode-enable = 
    .label = コンパクトモードを有効にする
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = サイドバーを隠す
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = ツールバーを隠す
zen-toolbar-context-compact-mode-hide-both = 
    .label = サイドバーとツールバーを隠す
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = 新しいフォルダ
    .accesskey = N
sidebar-zen-expand = 
    .label = サイドバーを展開する
sidebar-zen-create-new = 
    .label = 新しく作成する…
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] タブをアンロードして切り替える
           *[other] { $tabCount }つタブをアンロードして最初タブに切り替える
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] タブをリセットして固定する
           *[other] タブをリセットして{ $tabCount }つタブを固定する
        }
tab-reset-pin-label = 固定したURLに戻る



================================================
FILE: locales/ja/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = ウェブパネルをミュート
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = ウェブパネルのミュートを解除
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = モバイルUserAgentを無効にする
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = モバイルUserAgentを有効にする
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Webパネルの読み込みを解除
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = ウェブパネルを削除
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = 新しいタブで開く
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = コンテナタブで開く
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = ウェブパネルに追加
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panelsは、お気に入りのウェブサイトにいつでもすぐアクセスできるようにするための方法です。



================================================
FILE: locales/ja/browser/browser/zen-welcome.ftl
================================================
[Binary file]


================================================
FILE: locales/ja/browser/browser/zen-workspaces.ftl
================================================
[Binary file]


================================================
FILE: locales/ja/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = 暗い色の配色と素敵な銀河タッチのテーマ!
extension-firefox-compact-dream-name = 禅の夢
extension-firefox-compact-dream-description = ライトカラースキームと素敵な夢のようなタッチでテーマ!



================================================
FILE: locales/ja/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = ホームページのURL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = このウェブパネルをモバイルモードで表示する
    .accesskey = m



================================================
FILE: locales/ja/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = 外観
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = デフォルト言語を変更すると、ウェブサイトがあなたにトラッキングしやすくなります。
zen-vertical-tabs-layout-header = ブラウザーのレイアウト
zen-vertical-tabs-layout-description = 自分に合ったレイアウトを選んでください
zen-layout-single-toolbar = サイドバーのみ
zen-layout-multiple-toolbar = サイドバーと上のツールバー
zen-layout-collapsed-toolbar = 折りたたまれたサイドバー
sync-currently-syncing-workspaces = ワークスペース
sync-engine-workspaces = 
    .label = ワークスペース
    .tooltiptext = 端末間でワークスペースを同期する
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = Glaceの一般的な設定
zen-glance-description = 新しいタブで開かずにリンクの簡単な概要を取得します
zen-glance-trigger-label = トリガーメソッド
zen-glance-enabled = 
    .label = Glanceを有効にする
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + クリック
zen-glance-trigger-alt-click = 
    .label = Alt + クリック
zen-glance-trigger-shift-click = 
    .label = Shift + クリック
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + クリック
zen-look-and-feel-compact-view-header = コンパクト表示で表示する
zen-look-and-feel-compact-view-description = 使用しているツールバーのみを表示します！
zen-look-and-feel-compact-view-enabled = 
    .label = { -brand-short-name }のコンパクトモードを有効にする
zen-look-and-feel-compact-view-top-toolbar = 
    .label = 上のツールバーをコンパクトモードで非表示にする
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = コンパクトモードでタブを切り替えたり新しいタブを開いたりするときに、ツールバーを一時的にポップアップ表示します
pane-zen-tabs-title = タブ管理
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = ワークスペース
zen-tabs-unloader-enabled = 
    .label = タブのアンローダーを有効にする
zen-tabs-close-on-back-with-no-history = 
    .label = タブを閉じ、履歴がない状態で戻るときに所有者のタブ（または最近使用したタブ）に切り替えます
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tabキーを押してワークスペースタブ内または重要なタブ内のサイクルを切り替えます
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ctrl+Tabでのサイクリング時に保留中のタブを無視する
zen-tabs-cycle-by-attribute-warning = Ctrl+Tabが有効になっているため、最近使用された順序でサイクルされます
zen-look-and-feel-compact-toolbar-themed = 
    .label = コンパクトツールバーにテーマの背景を使用する
zen-workspace-continue-where-left-off = 
    .label = 中断したところから再開する
pane-zen-pinned-tab-manager-title = 固定したタブ
zen-pinned-tab-manager-header = 固定したタブの一般的な設定
zen-pinned-tab-manager-description = 固定したタブの追加的な動作を管理する
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = 固定したタブを起動時に元の固定したURLに復元します
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = コンテナ固有のEssentialsを有効にする
zen-pinned-tab-manager-close-shortcut-behavior-label = タブを閉じるショートカットの動作
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = URLをリセットしてアンロードして次のタブに切り替える
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = アンロードして次のタブに切り替える
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = URLをリセットして次のタブに切り替える
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = 次のタブに切り替える
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = URLをリセットする
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = タブを閉じる
pane-zen-workspaces-header = ワークスペース
zen-settings-workspaces-header = ワークスペースの一般的な設定
zen-settings-workspaces-description = ワークスペースを使用すると、一度に複数のブラウジングセッションがあるといいです！
zen-settings-workspaces-enabled = 
    .label = ワークスペースを有効にする
zen-settings-workspaces-hide-default-container-indicator = 
    .label = タブバー内のデフォルトのコンテナインジケーターを非表示にする
zen-key-unsaved = 未保存のショートカットです！再入力後、「エスケープ」キーをクリックして安全にしてください。
zen-key-conflict = { $group } → { $shortcut } との競合
pane-zen-theme-title = テーマ設定
zen-vertical-tabs-title = サイドバーとタブのレイアウト
zen-vertical-tabs-header = 垂直タブ
zen-vertical-tabs-description = 垂直レイアウトでタブを管理
zen-vertical-tabs-show-expand-button = 
    .label = 展開ボタンを表示
zen-vertical-tabs-newtab-on-tab-list = 
    .label = 「新しいタブ」ボタンを表示
zen-vertical-tabs-newtab-top-button-up = 
    .label = 「新しいタブ」ボタンを一番上に表示
zen-vertical-tabs-expand-tabs-by-default = デフォルトでタブを展開
zen-vertical-tabs-dont-expand-tabs-by-default = デフォルトでタブを展開しない
zen-vertical-tabs-expand-tabs-on-hover = ホバーでタブを展開 (コンパクトモードでは動作しません)
zen-vertical-tabs-expand-tabs-header = タブを展開する方法
zen-vertical-tabs-expand-tabs-description = サイドバーのタブを展開する方法を選択します
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = すべてのModを無効化
zen-theme-disable-all-disabled = 
    .title = すべてのModを有効化
zen-theme-marketplace-description = ストアからModをインストール
zen-theme-marketplace-remove-button = 
    .label = Modを削除
zen-theme-marketplace-check-for-updates-button = 
    .label = アップデートの確認
zen-theme-marketplace-import-button = 
    .label = Modをインポート
zen-theme-marketplace-export-button = 
    .label = Modをエクスポート
zen-theme-marketplace-import-success = Modを正常にインポートしました
zen-theme-marketplace-import-failure = Modのインポート中にエラーが発生しました
zen-theme-marketplace-export-success = Modのエクスポートに成功しました
zen-theme-marketplace-export-failure = Modのエクスポート中にエラーが発生しました
zen-theme-marketplace-updates-success = Modが正常に更新されました
zen-theme-marketplace-updates-failure = 更新は見つかりませんでした！
zen-theme-marketplace-toggle-enabled-button = 
    .title = Modを無効化
zen-theme-marketplace-toggle-disabled-button = 
    .title = Modを有効化
zen-theme-marketplace-remove-confirmation = このModを削除してもよろしいですか？
zen-theme-marketplace-close-modal = 閉じる
zen-theme-marketplace-theme-header-title = 
    .title = CSS セレクター: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = なし
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = ここに入力...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = 起動時にインストール済みの Mod を自動的に更新する
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = コンテナタブを開くときにコンテナがデフォルトとして設定されているワークスペースに切り替える
zen-theme-marketplace-link = ストアを訪問
zen-dark-theme-styles-header = ダークテーマのスタイル
zen-dark-theme-styles-description = 好みに合わせてダークテーマをカスタマイズする
zen-dark-theme-styles-amoled = 夜のテーマ
zen-dark-theme-styles-default = デフォルトのダークテーマ
zen-dark-theme-styles-colorful = カラフルなダークテーマ
zen-compact-mode-styles-left = タブバーを隠す
zen-compact-mode-styles-top = 上部バーを非表示
zen-compact-mode-styles-both = 両方を隠す
zen-urlbar-title = Zen URL Bar
zen-urlbar-header = URLバーの一般設定
zen-urlbar-description = 好みに合わせてURLバーをカスタマイズ
zen-urlbar-behavior-label = 動作
zen-urlbar-behavior-normal = 
    .label = 通常
zen-urlbar-behavior-floating-on-type = 
    .label = 入力時にのみフローティング
zen-urlbar-behavior-float = 
    .label = 常にフローティング
pane-zen-CKS-title = キーボードショートカット
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } キーボードショートカット
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = キーボードショートカットをカスタマイズする
zen-settings-CKS-description = デフォルトのキーボードショートカットを好みに変更し、ブラウジング体験を向上させましょう
zen-settings-CKS-disable-firefox = 
    .label = { -brand-short-name }のデフォルトのキーボードショートカットを無効にする
zen-settings-CKS-duplicate-shortcut = 
    .label = ショートカットを複製
zen-settings-CKS-reset-shortcuts = 
    .label = デフォルトに戻す
zenCKSOption-group-other = その他
zenCKSOption-group-windowAndTabManagement = ウィンドウとタブ管理
zenCKSOption-group-navigation = ナビゲーション
zenCKSOption-group-searchAndFind = 検索と検索
zenCKSOption-group-pageOperations = ページ操作
zenCKSOption-group-historyAndBookmarks = 履歴とブックマーク
zenCKSOption-group-mediaAndDisplay = メディアと表示
zenCKSOption-group-zen-compact-mode = コンパクトモード
zenCKSOption-group-zen-workspace = ワークスペース
zenCKSOption-group-zen-other = その他の禅の特徴
zenCKSOption-group-zen-split-view = 分割ビュー
zenCKSOption-group-devTools = 開発者向けツール
zen-key-quick-restart = すぐに再起動
zen-window-new-shortcut = 新しいウィンドウ
zen-tab-new-shortcut = 新しいタブ
zen-key-redo = やり直し
zen-restore-last-closed-tab-shortcut = 最後に閉じたタブを復元
zen-location-open-shortcut = 場所を開く
zen-location-open-shortcut-alt = 場所を開く (Alt)
zen-key-undo-close-window = 閉じたウィンドウを元に戻す
zen-text-action-undo-shortcut = 元に戻す
zen-text-action-redo-shortcut = やり直し
zen-text-action-cut-shortcut = 切り取り
zen-text-action-copy-shortcut = コピー
zen-text-action-copy-url-shortcut = 現在のURLをコピー
zen-text-action-copy-url-markdown-shortcut = 現在のURLをMarkdownとしてコピー
zen-text-action-paste-shortcut = 貼り付け
zen-text-action-select-all-shortcut = すべて選択
zen-text-action-delete-shortcut = 削除
zen-history-show-all-shortcut-mac = すべての履歴を表示(Mac)
zen-full-screen-shortcut = 全画面表示の切り替え
zen-reader-mode-toggle-shortcut-windows = リーダーモードの切り替え (Windows)
zen-picture-in-picture-toggle-shortcut-alt = ピクチャーインピクチャーの切り替え (Alt)
zen-picture-in-picture-toggle-shortcut-mac = ピクチャーインピクチャー（Mac）の切り替え
zen-picture-in-picture-toggle-shortcut-mac-alt = ピクチャーインピクチャーの切り替え (Mac Alt)
zen-page-source-shortcut-safari = ページソースの表示 (Safari)
zen-nav-stop-shortcut = 読み込みを停止
zen-history-sidebar-shortcut = 履歴のサイドバーを表示
zen-window-minimize-shortcut = ウィンドウを最小化する
zen-help-shortcut = ヘルプを開く
zen-preferences-shortcut = 設定を開く
zen-hide-app-shortcut = アプリケーションを隠す
zen-hide-other-apps-shortcut = 他のアプリを隠す
zen-search-focus-shortcut = 検索欄にフォーカス
zen-search-focus-shortcut-alt = 検索欄にフォーカス (Alt)
zen-downloads-shortcut = ダウンロードを開く
zen-addons-shortcut = アドオンを開く
zen-file-open-shortcut = ファイルを開く
zen-save-page-shortcut = ページを保存
zen-print-shortcut = ページを印刷
zen-close-shortcut-2 = タブを閉じる
zen-mute-toggle-shortcut = ミュートの切り替え
zen-key-delete = キーを削除
zen-key-go-back = 戻る
zen-key-go-forward = 前に進む
zen-nav-back-shortcut-alt = 戻る(Alt)
zen-nav-fwd-shortcut-alt = 前方に移動 (Alt)
zen-history-show-all-shortcut = すべての履歴を表示
zen-key-enter-full-screen = 全画面表示にする
zen-key-exit-full-screen = 全画面表示を終了
zen-ai-chatbot-sidebar-shortcut = AIチャットボットサイドバーの切り替え
zen-key-inspector-mac = インスペクタの切り替え (Mac)
zen-toggle-sidebar-shortcut = Firefoxサイドバーの切り替え
zen-toggle-pin-tab-shortcut = ピンタブの切り替え
zen-reader-mode-toggle-shortcut-other = リーダーモードの切り替え
zen-picture-in-picture-toggle-shortcut = ピクチャーインピクチャーの切り替え
zen-nav-reload-shortcut-2 = ページを再読み込み
zen-key-about-processes = プロセスについて
zen-page-source-shortcut = ページソースの表示
zen-page-info-shortcut = ページ情報を表示
zen-find-shortcut = ページ上で検索
zen-search-find-again-shortcut = 再検索
zen-search-find-again-shortcut-prev = 前を検索
zen-search-find-again-shortcut-2 = 再検索 (Alt)
zen-bookmark-this-page-shortcut = このページをブックマーク
zen-bookmark-show-library-shortcut = ブックマークライブラリを表示
zen-key-stop = 読み込みを中止
zen-full-zoom-reduce-shortcut = 縮小
zen-full-zoom-enlarge-shortcut = 拡大
zen-full-zoom-reset-shortcut = 等倍
zen-full-zoom-reset-shortcut-alt = ズームをリセット (Alt)
zen-full-zoom-enlarge-shortcut-alt = ズームイン (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = ズームイン(Alt 2)
zen-bidi-switch-direction-shortcut = テキストの方向を切り替える
zen-private-browsing-shortcut = プライベート閲覧
zen-screenshot-shortcut = スクリーンショットを撮影
zen-key-sanitize = ブラウジングデータをクリア
zen-quit-app-shortcut = アプリケーションを終了
zen-key-wr-capture-cmd = WRキャプチャコマンド
zen-key-wr-toggle-capture-sequence-cmd = WRキャプチャシーケンスの切り替え
zen-nav-reload-shortcut = ページを再読み込み
zen-nav-reload-shortcut-skip-cache = キャッシュを削除してページを再読み込み
zen-close-shortcut = ウィンドウを閉じる
zen-close-tab-shortcut = タブを閉じる
zen-compact-mode-shortcut-show-sidebar = フローティングサイドバーの切り替え
zen-compact-mode-shortcut-show-toolbar = フローティングツールバーの切り替え
zen-compact-mode-shortcut-toggle = コンパクトモードの切り替え
zen-glance-expand = 拡大表示
zen-workspace-shortcut-switch-1 = ワークスペース1に切り替える
zen-workspace-shortcut-switch-2 = ワークスペース2に切り替える
zen-workspace-shortcut-switch-3 = ワークスペース3に切り替える
zen-workspace-shortcut-switch-4 = ワークスペース4に切り替える
zen-workspace-shortcut-switch-5 = ワークスペース5に切り替える
zen-workspace-shortcut-switch-6 = ワークスペース6に切り替える
zen-workspace-shortcut-switch-7 = ワークスペース7に切り替える
zen-workspace-shortcut-switch-8 = ワークスペース8に切り替える
zen-workspace-shortcut-switch-9 = ワークスペース9に切り替える
zen-workspace-shortcut-switch-10 = ワークスペース10に切り替える
zen-workspace-shortcut-forward = ワークスペースを転送
zen-workspace-shortcut-backward = 後方ワークスペース
zen-sidebar-shortcut-toggle = サイドバーの幅を切り替える
zen-pinned-tab-shortcut-reset = ピン留めされたタブをピン留めしたURLにリセット
zen-split-view-shortcut-grid = 分割表示グリッドの切り替え
zen-split-view-shortcut-vertical = 分割ビューを垂直に切り替える
zen-split-view-shortcut-horizontal = 分割ビューを水平に切り替える
zen-split-view-shortcut-unsplit = 分割ビューを閉じる
zen-new-empty-split-view-shortcut = 新しい空の分割ビュー
zen-key-select-tab-1 = 1つめのタブを選択
zen-key-select-tab-2 = 2つめのタブを選択
zen-key-select-tab-3 = 3つめのタブを選択
zen-key-select-tab-4 = 4つめのタブを選択
zen-key-select-tab-5 = 5つめのタブを選択
zen-key-select-tab-6 = 6つめのタブを選択
zen-key-select-tab-7 = 7つめのタブを選択
zen-key-select-tab-8 = 8つめのタブを選択
zen-key-select-tab-last = 最後のタブを選択
zen-key-show-all-tabs = すべてのタブを表示
zen-key-goto-history = 履歴を開く
zen-key-go-home = ホームに戻る
zen-bookmark-show-sidebar-shortcut = ブックマークサイドバーを表示
zen-bookmark-show-toolbar-shortcut = ブックマークツールバーを表示
zen-devtools-toggle-shortcut = 開発ツールの切り替え
zen-devtools-toggle-browser-toolbox-shortcut = ブラウザツールボックスの切り替え
zen-devtools-toggle-browser-console-shortcut = ブラウザーコンソールの切り替え
zen-devtools-toggle-responsive-design-mode-shortcut = レスポンシブデザインモードの切り替え
zen-devtools-toggle-inspector-shortcut = インスペクタの切り替え
zen-devtools-toggle-web-console-shortcut = Webコンソールの切り替え
zen-devtools-toggle-js-debugger-shortcut = JavaScriptデバッガーの切り替え
zen-devtools-toggle-net-monitor-shortcut = ネットワークモニターの切り替え
zen-devtools-toggle-style-editor-shortcut = スタイルエディタの切り替え
zen-devtools-toggle-performance-shortcut = パフォーマンスの切り替え
zen-devtools-toggle-storage-shortcut = ストレージの切り替え
zen-devtools-toggle-dom-shortcut = DOMの切り替え
zen-devtools-toggle-accessibility-shortcut = アクセシビリティの切り替え
zen-close-all-unpinned-tabs-shortcut = ピン留めされていないすべてのタブを閉じる
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/ko/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = { $folder-name } 검색...
zen-folders-panel-rename-folder = 
    .label = 폴더 이름 변경
zen-folders-panel-unpack-folder = 
    .label = 폴더 해제
zen-folders-new-subfolder = 
    .label = 새 서브폴더
zen-folders-panel-delete-folder = 
    .label = 폴더 삭제
zen-folders-panel-convert-folder-to-space = 
    .label = 폴더를 스페이스로 변환
zen-folders-panel-change-folder-space = 
    .label = 스페이스 변경...
zen-folders-unload-all-tooltip = 
    .tooltiptext = 이 폴더의 활성화 탭 언로드
zen-folders-unload-folder = 
    .label = 모든 탭 언로드
zen-folders-search-no-results = 검색어에 맞는 탭이 없습니다 🤔



================================================
FILE: locales/ko/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = 현재 프로필
unified-extensions-description = 확장 프로그램은 { -brand-short-name }에 더 많은 추가 기능을 제공하는 데 사용됩니다.
tab-context-zen-reset-pinned-tab = 
    .label = 고정된 탭 초기화
    .accesskey = R
tab-context-zen-add-essential = 
    .label = 에센셜에 추가
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max }개 추가됨
tab-context-zen-remove-essential = 
    .label = 에센셜에서 제거하기
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = 고정된 URL을 현재 URL로 변경
    .accesskey = C
tab-context-zen-edit-title = 
    .label = 라벨 편집...
tab-context-zen-edit-icon = 
    .label = 아이콘 편집...
zen-themes-corrupted = { -brand-short-name } 모드 파일이 손상되었습니다. 기본 테마로 재설정되었습니다.
zen-shortcuts-corrupted = { -brand-short-name } 단축키 파일이 손상되었습니다. 기본 단축키 설정으로 재설정 되었습니다.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    새 탭 페이지가 필요 없는 새로운 주소 표시줄이 활성화 되었습니다.<br/><br/>
    새 탭을 열어서 새로운 URL 바를 만나보세요!
zen-disable = 비활성화
pictureinpicture-minimize-btn = 
    .aria-label = 최소화
    .tooltip = 최소화
zen-panel-ui-gradient-generator-custom-color = 커스텀 색상
zen-copy-current-url-confirmation = 현재 URL을 복사했습니다!
zen-general-cancel-label = 
    .label = 취소
zen-general-confirm = 
    .label = 확인
zen-pinned-tab-replaced = 고정 URL이 현재 URL로 변경되었습니다!
zen-tabs-renamed = 탭의 이름이 성공적으로 변경되었습니다!
zen-background-tab-opened-toast = 새 백그라운드 탭이 열렸습니다!
zen-workspace-renamed-toast = 워크스페이스 이름이 변경되었습니다!
zen-toggle-compact-mode-button = 
    .label = 사이드바 축소 모드
    .tooltiptext = 사이드바 축소 토글

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = 더 알아보기
zen-close-label = 닫기
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = 검색...
zen-icons-picker-emoji = 
    .label = 이모티콘
zen-icons-picker-svg = 
    .label = 아이콘
urlbar-search-mode-zen_actions = 액션
zen-site-data-settings = 설정
zen-generic-manage = 관리
zen-generic-more = 더 보기
zen-generic-next = 다음
zen-essentials-promo-label = 에센셜에 추가
zen-essentials-promo-sublabel = 가장 좋아하는 탭을 바로 열 수 있게
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = 허용됨
zen-site-data-setting-block = 금지됨
zen-site-data-protections-enabled = 활성화됨
zen-site-data-protections-disabled = 비활성화됨
zen-site-data-setting-cross-site = 사이트 간 공유 쿠키
zen-site-data-security-info-extension = 
    .label = 확장
zen-site-data-security-info-secure = 
    .label = 안전함
zen-site-data-security-info-not-secure = 
    .label = 안전하지 않음
zen-site-data-manage-addons = 
    .label = 확장 프로그램 관리
zen-site-data-get-addons = 
    .label = 확장 프로그램 추가
zen-site-data-site-settings = 
    .label = 모든 사이트 설정
zen-site-data-header-share = 
    .tooltiptext = 이 페이지 공유
zen-site-data-header-reader-mode = 
    .tooltiptext = 읽기 모드 켜기
zen-site-data-header-screenshot = 
    .tooltiptext = 화면 캡쳐
zen-site-data-header-bookmark = 
    .tooltiptext = 이 페이지 북마크
zen-urlbar-copy-url-button = 
    .tooltiptext = URL 복사
zen-site-data-setting-site-protection = 추적 보호

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = 애드온, 권한, 그리고 더 많은 것을 위한 새로운 곳
zen-site-data-panel-feature-callout-subtitle = 아이콘을 클릭해 사이트 설정, 보안 정보 조회, 확장 프로그램 접근, 기타 행동을 수행할 수 있습니다.
zen-open-link-in-glance = 
    .label = 글랜스로 링크 열기
    .accesskey = G
zen-sidebar-notification-updated-heading = 업데이트 완료!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = { -brand-short-name }의 새로운 기능
zen-sidebar-notification-updated-tooltip = 
    .title = 업데이트 기록 보기
zen-sidebar-notification-restart-safe-mode-label = 무언가 고장났나요?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = 안전 모드로 다시 시작
zen-window-sync-migration-dialog-title = 창을 동기화 상태로 유지
zen-window-sync-migration-dialog-message = Zen이 이제 같은 기기에서 창을 동기화합니다. 한 창에서의 변경이 다른 창에서도 즉시 적용됩니다.
zen-window-sync-migration-dialog-learn-more = 더 알아보기
zen-window-sync-migration-dialog-accept = 알겠습니다



================================================
FILE: locales/ko/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] 고정된 탭 확장
           *[false] 고정된 탭 축소
        }
zen-menubar-appearance = 
    .label = 모양
zen-menubar-appearance-description = 
    .label = 웹사이트에 다음이 사용됩니다:
zen-menubar-appearance-auto = 
    .label = 자동
zen-menubar-appearance-light = 
    .label = 라이트
zen-menubar-appearance-dark = 
    .label = 다크
zen-menubar-new-unsynced-window = 
    .label = 새 빈 창



================================================
FILE: locales/ko/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] 탭 나누기 (여러 탭이 선택되어 있어야 함)
           *[other] 탭 { $tabCount }개 나누기
        }
    .accesskey = S
zen-split-link = 
    .label = 링크를 새 탭으로 나누기
    .accesskey = S
zen-split-view-modifier-header = 스플릿 뷰
zen-split-view-modifier-activate-reallocation = 
    .label = 재정렬 모드 활성화
zen-split-view-modifier-enabled-toast = 재정렬 모드 활성화됨
zen-split-view-modifier-enabled-toast-description = 끌어서 재정렬할 수 있습니다. 나가려면 Esc를 누르세요.
zen-split-view-modifier-disabled-toast = 재정렬 모드 비활성화됨



================================================
FILE: locales/ko/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = 탭을 우측으로 놓기
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = 사이드바 축소 모드
zen-toolbar-context-compact-mode-enable = 
    .label = 사이드바 축소 모드 활성화
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = 사이드바 숨기기
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = 툴바 숨기기
zen-toolbar-context-compact-mode-hide-both = 
    .label = 둘 다 숨기기
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = 새 폴더
    .accesskey = N
sidebar-zen-expand = 
    .label = 사이드바 확장
sidebar-zen-create-new = 
    .label = 새로 만들기...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] 언로드 후 탭 변경
           *[other] { $tabCount }개 탭 언로드 후 첫 번째 탭으로 변경
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] 탭 초기화 후 고정
           *[other] { $tabCount }개 탭 초기화 후 고정
        }
tab-reset-pin-label = 고정된 URL로 되돌리기



================================================
FILE: locales/ko/browser/browser/zen-web-side-panels.ftl
================================================
[Binary file]


================================================
FILE: locales/ko/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = 환영합니다
zen-welcome-title-line2 = 차분한 인터넷에 잘 오셨습니다
zen-welcome-import-title = 새로운 시작, 여전한 북마크
zen-welcome-import-description-1 = 당신의 북마크, 방문 기록, 비밀번호는 인터넷에 떨어진 빵 조각들의 길과 같습니다 - 뒤에 남겨두지 마세요!
zen-welcome-import-description-2 = 간단하게 다른 브라우저에서 가져오고 마지막 지점에서 다시 시작할 수 있습니다..
zen-welcome-import-button = 지금 불러오기
zen-welcome-set-default-browser = { -brand-short-name }을 기본 브라우저로 설정하기
zen-welcome-dont-set-default-browser = { -brand-short-name }을 기본 브라우저로 설정하지 않기
zen-welcome-initial-essentials-title = 당신의 중요한 탭이 언제나 닿을 수 있도록
zen-welcome-initial-essentials-description-1 = 당신의 중요한 탭들을 항상 쉽게 접근할 수 있도록 손 안에 두세요, 얼마나 많은지는 상관 없습니다.
zen-welcome-initial-essentials-description-2 = 에센셜 탭은 워크스페이스에 관계없이 항상 볼 수 있습니다.
zen-welcome-workspace-colors-title = 당신의 워크스페이스, 당신의 색깔
zen-welcome-workspace-colors-description = 각 워크스페이스에 고유한 색깔을 입혀 당신의 브라우저를 꾸미세요.
zen-welcome-start-browsing-title =
    준비됐나요?<br/>
    이제 시작합시다!
zen-welcome-start-browsing-description-1 = 브라우저가 준비되었습니다. 아래 버튼을 눌러 { -brand-short-name }과 브라우징을 시작하세요.
zen-welcome-start-browsing = 시작하기!
zen-welcome-default-search-title = 기본 검색 엔진
zen-welcome-default-search-description = 기본 검색 엔진을 선택하세요. 나중에 언제든지 바꿀 수 있습니다!
zen-welcome-skip-button = 건너뛰기
zen-welcome-finished = Zen이 정상적으로 설정되었습니다!



================================================
FILE: locales/ko/browser/browser/zen-workspaces.ftl
================================================
[Binary file]


================================================
FILE: locales/ko/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = 어두운 색상의 멋진 은하 테마!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = 밝은 색상의 꿈꾸는 듯한 테마!



================================================
FILE: locales/ko/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = 초기 URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = 이 웹 패널을 모바일 화면으로 보기
    .accesskey = m



================================================
FILE: locales/ko/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = 모양
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = 기본 언어를 변경하면 웹사이트에서 사용자를 추적하기 더 쉬워질 수 있습니다.
zen-vertical-tabs-layout-header = 브라우저 레이아웃
zen-vertical-tabs-layout-description = 가장 잘 맞는 레이아웃을 고르세요
zen-layout-single-toolbar = 단일 툴바
zen-layout-multiple-toolbar = 다중 툴바
zen-layout-collapsed-toolbar = 축소된 툴바
sync-currently-syncing-workspaces = 워크스페이스
sync-engine-workspaces = 
    .label = 워크스페이스
    .tooltiptext = 여러 기기의 워크스페이스 동기화
    .accesskey = W
zen-glance-title = 글랜스
zen-glance-header = 글랜스 기본 설정
zen-glance-description = 새로운 탭을 열지 않고도 한눈에 링크를 미리 볼 수 있습니다
zen-glance-trigger-label = 트리거 방식
zen-glance-enabled = 
    .label = 글랜스 활성화
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + 클릭
zen-glance-trigger-alt-click = 
    .label = Alt + 클릭
zen-glance-trigger-shift-click = 
    .label = Shift + 클릭
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + 클릭
zen-look-and-feel-compact-view-header = 사이드바 축소 모드로 보기
zen-look-and-feel-compact-view-description = 사용하는 툴바만 보세요!
zen-look-and-feel-compact-view-enabled = 
    .label = { -brand-short-name }의 사이드바 축소 모드 활성화
zen-look-and-feel-compact-view-top-toolbar = 
    .label = 사이드바 축소 모드에서 상단 툴바 숨기기
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = 사이드바 축소 모드에서 새 탭을 전환하거나 열 때 툴바를 간략하게 팝업으로 표시합니다
pane-zen-tabs-title = 탭 관리
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = 워크스페이스
zen-tabs-unloader-enabled = 
    .label = 탭 언로더 활성화
zen-tabs-close-on-back-with-no-history = 
    .label = 뒤로 가기 시 이전 기록이 없으면 탭을 닫고 원래 탭(또는 가장 최근에 쓰인 탭)으로 전환
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab에 에센셜 또는 워크스페이스 탭만 사용
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ctrl+Tab 시 보류중인 탭 무시
zen-tabs-cycle-by-attribute-warning = 활성화됨에 따라 Ctrl+Tab이 최근에 사용된 순서로 정렬됩니다
zen-look-and-feel-compact-toolbar-themed = 
    .label = 축소된 툴바에 테마 배경 사용
zen-workspace-continue-where-left-off = 
    .label = 종료했던 탭에서 다시 시작하기
pane-zen-pinned-tab-manager-title = 고정된 탭
zen-pinned-tab-manager-header = 고정된 탭 설정
zen-pinned-tab-manager-description = 고정된 탭만의 추가적인 기능을 설정하세요
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = 브라우저가 열릴 때 고정된 탭의 URL 초기화
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = 컨테이너마다 다른 에센셜 사용 활성화
zen-pinned-tab-manager-close-shortcut-behavior-label = 탭 닫기 단축키의 행동
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = URL 초기화, 탭 언로드 후 다음 탭으로 이동
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = 탭 언로드 후 다음 탭으로 이동
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = URL 초기화 후 다음 탭으로 이동
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = 다음 탭으로 이동
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = URL 초기화
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = 탭 닫기
pane-zen-workspaces-header = 워크스페이스
zen-settings-workspaces-header = 워크스페이스 기본 설정
zen-settings-workspaces-description = 워크스페이스를 사용해 여러 개의 브라우저 세션을 동시에 사용할 수 있습니다!
zen-settings-workspaces-enabled = 
    .label = 워크스페이스 활성화
zen-settings-workspaces-hide-default-container-indicator = 
    .label = 탭에서 기본 컨테이너 표시 숨기기
zen-key-unsaved = 단축키가 저장되지 않았습니다! 다시 입력한 후 "Escape" 키를 눌러 저장하세요.
zen-key-conflict = { $group } -> { $shortcut }과 충돌함
pane-zen-theme-title = 테마 설정
zen-vertical-tabs-title = 사이드바 및 탭 레이아웃
zen-vertical-tabs-header = 수직 탭
zen-vertical-tabs-description = 수직 레이아웃에서 탭을 관리하세요
zen-vertical-tabs-show-expand-button = 
    .label = 확장 버튼 보이기
zen-vertical-tabs-newtab-on-tab-list = 
    .label = 탭 목록에 새 탭 버튼 표시하기
zen-vertical-tabs-newtab-top-button-up = 
    .label = 새 탭 버튼을 위에 표시하기
zen-vertical-tabs-expand-tabs-by-default = 기본값으로 탭을 확장하기
zen-vertical-tabs-dont-expand-tabs-by-default = 기본값으로 탭을 확장하지 않기
zen-vertical-tabs-expand-tabs-on-hover = 커서를 올려 탭 확장 (사이드바 축소 모드에서는 작동하지 않음)
zen-vertical-tabs-expand-tabs-header = 탭 확장 방식
zen-vertical-tabs-expand-tabs-description = 사이드바 탭이 어떻게 확장될지 선택하세요
zen-theme-marketplace-header = Zen 모드
zen-theme-disable-all-enabled = 
    .title = 모든 모드 비활성화
zen-theme-disable-all-disabled = 
    .title = 모든 모드 활성화
zen-theme-marketplace-description = 스토어에서 모드를 찾고 설치하세요.
zen-theme-marketplace-remove-button = 
    .label = 모드 제거
zen-theme-marketplace-check-for-updates-button = 
    .label = 업데이트 확인
zen-theme-marketplace-import-button = 
    .label = 모드 불러오기
zen-theme-marketplace-export-button = 
    .label = 모드 내보내기
zen-theme-marketplace-import-success = 모드를 성공적으로 불러왔습니다
zen-theme-marketplace-import-failure = 모드를 불러오는 중 오류가 발생했습니다
zen-theme-marketplace-export-success = 모드를 성공적으로 내보냈습니다
zen-theme-marketplace-export-failure = 모드를 내보내는 중 오류가 발생했습니다
zen-theme-marketplace-updates-success = 모드가 업데이트 되었습니다
zen-theme-marketplace-updates-failure = 업데이트를 찾을 수 없습니다!
zen-theme-marketplace-toggle-enabled-button = 
    .title = 모드 비활성화
zen-theme-marketplace-toggle-disabled-button = 
    .title = 모드 활성화
zen-theme-marketplace-remove-confirmation = 정말 이 모드를 제거하시겠습니까?
zen-theme-marketplace-close-modal = 닫기
zen-theme-marketplace-theme-header-title = 
    .title = CSS 선택자: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = 없음
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = 입력...
pane-zen-marketplace-title = Zen 모드
zen-themes-auto-update = 
    .label = 시작 시 설치된 모드 자동 업데이트
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = 컨테이너 탭을 열 때 해당 컨테이너가 기본값으로 설정된 워크스페이스로 전환하기
zen-theme-marketplace-link = 스토어 방문
zen-dark-theme-styles-header = 어두운 테마 스타일
zen-dark-theme-styles-description = 어두운 테마를 취향대로 커스터마이징하세요
zen-dark-theme-styles-amoled = 밤 테마
zen-dark-theme-styles-default = 기본 어두운 테마
zen-dark-theme-styles-colorful = 화려한 어두운 테마
zen-compact-mode-styles-left = 탭 바 숨기기
zen-compact-mode-styles-top = 상단 바 숨기기
zen-compact-mode-styles-both = 둘 다 숨기기
zen-urlbar-title = Zen 주소 표시줄
zen-urlbar-header = 주소 표시줄 일반 설정
zen-urlbar-description = 주소 표시줄을 취향껏 커스터마이징하세요
zen-urlbar-behavior-label = 작동
zen-urlbar-behavior-normal = 
    .label = 일반
zen-urlbar-behavior-floating-on-type = 
    .label = 입력할 때만 뜨게 하기
zen-urlbar-behavior-float = 
    .label = 항상 뜨게 하기
pane-zen-CKS-title = 키보드 단축키
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } 키보드 단축키
category-zen-marketplace = 
    .tooltiptext = Zen 모드
zen-settings-CKS-header = 단축키를 커스터마이징하세요
zen-settings-CKS-description = 기본 키보드 단축키를 입맛대로 바꾸고 브라우징 경험을 개선하세요
zen-settings-CKS-disable-firefox = 
    .label = { -brand-short-name }의 기본 키보드 단축키 비활성화
zen-settings-CKS-duplicate-shortcut = 
    .label = 단축키 복제
zen-settings-CKS-reset-shortcuts = 
    .label = 기본값으로 재설정
zenCKSOption-group-other = 기타
zenCKSOption-group-windowAndTabManagement = 창 & 탭 관리
zenCKSOption-group-navigation = 이동
zenCKSOption-group-searchAndFind = 검색 & 찾기
zenCKSOption-group-pageOperations = 페이지 작동
zenCKSOption-group-historyAndBookmarks = 방문기록 & 북마크
zenCKSOption-group-mediaAndDisplay = 미디어 & 화면
zenCKSOption-group-zen-compact-mode = 사이드바 축소 모드
zenCKSOption-group-zen-workspace = 워크스페이스
zenCKSOption-group-zen-other = 다른 Zen 기능들
zenCKSOption-group-zen-split-view = 나눠서 보기
zenCKSOption-group-devTools = 개발자 도구
zen-key-quick-restart = 빠른 재시작
zen-window-new-shortcut = 새 창
zen-tab-new-shortcut = 새 탭
zen-key-redo = 취소 번복
zen-restore-last-closed-tab-shortcut = 마지막으로 닫힌 탭 복구
zen-location-open-shortcut = 위치 열기
zen-location-open-shortcut-alt = 위치 열기 (Alt)
zen-key-undo-close-window = 창 닫기 취소
zen-text-action-undo-shortcut = 되돌리기
zen-text-action-redo-shortcut = 되돌리기 취소
zen-text-action-cut-shortcut = 자르기
zen-text-action-copy-shortcut = 복사
zen-text-action-copy-url-shortcut = 현재 URL 복사
zen-text-action-copy-url-markdown-shortcut = 마크다운 형식으로 현재 URL 복사하기
zen-text-action-paste-shortcut = 붙여넣기
zen-text-action-select-all-shortcut = 모두 선택
zen-text-action-delete-shortcut = 삭제
zen-history-show-all-shortcut-mac = 모든 기록 보기 (Mac)
zen-full-screen-shortcut = 전체화면 켜기/끄기
zen-reader-mode-toggle-shortcut-windows = 읽기 모드 켜기/끄기 (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Picture-in-Picture 켜기/끄기 (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Picture-in-Picture 켜기/끄기 (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Picture-in-Picture 켜기/끄기 (Mac Alt)
zen-page-source-shortcut-safari = 페이지 소스 보기 (Safari)
zen-nav-stop-shortcut = 로딩 멈추기
zen-history-sidebar-shortcut = 방문 기록 사이드바 열기
zen-window-minimize-shortcut = 창 최소화
zen-help-shortcut = 도움말 열기
zen-preferences-shortcut = 설정 열기
zen-hide-app-shortcut = 애플리케이션 숨기기
zen-hide-other-apps-shortcut = 다른 애플리케이션 숨기기
zen-search-focus-shortcut = 검색 열기
zen-search-focus-shortcut-alt = 검색 열기 (Alt)
zen-downloads-shortcut = 다운로드 열기
zen-addons-shortcut = 애드온 열기
zen-file-open-shortcut = 파일 열기
zen-save-page-shortcut = 페이지 저장
zen-print-shortcut = 페이지 출력
zen-close-shortcut-2 = 탭 닫기
zen-mute-toggle-shortcut = 음소거 켜기/끄기
zen-key-delete = 삭제 키
zen-key-go-back = 뒤로 가기
zen-key-go-forward = 앞으로 가기
zen-nav-back-shortcut-alt = 뒤로 이동 (Alt)
zen-nav-fwd-shortcut-alt = 앞으로 이동 (Alt)
zen-history-show-all-shortcut = 모든 기록 보기
zen-key-enter-full-screen = 전체화면 활성화
zen-key-exit-full-screen = 전체화면 비활성화
zen-ai-chatbot-sidebar-shortcut = AI 챗봇 사이드바 켜기/끄기
zen-key-inspector-mac = 검사기(Inspector) 전환
zen-toggle-sidebar-shortcut = 파이어폭스 사이드바 켜기/끄기
zen-toggle-pin-tab-shortcut = 탭 고정 토글
zen-reader-mode-toggle-shortcut-other = 읽기 모드 켜기/끄기
zen-picture-in-picture-toggle-shortcut = Picture-in-Picture 켜기/끄기
zen-nav-reload-shortcut-2 = 페이지 새로고침
zen-key-about-processes = 프로세스 관련
zen-page-source-shortcut = 페이지 소스 보기
zen-page-info-shortcut = 페이지 정보 보기
zen-find-shortcut = 페이지에서 검색
zen-search-find-again-shortcut = 재검색
zen-search-find-again-shortcut-prev = 뒤로 검색
zen-search-find-again-shortcut-2 = 재검색 (Alt)
zen-bookmark-this-page-shortcut = 이 페이지 북마크
zen-bookmark-show-library-shortcut = 북마크 라이브러리 보기
zen-key-stop = 로딩 멈추기
zen-full-zoom-reduce-shortcut = 축소
zen-full-zoom-enlarge-shortcut = 확대
zen-full-zoom-reset-shortcut = 확대 초기화
zen-full-zoom-reset-shortcut-alt = 확대 초기화 (Alt)
zen-full-zoom-enlarge-shortcut-alt = 확대 (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = 확대 (Alt 2)
zen-bidi-switch-direction-shortcut = 글 방향 전환
zen-private-browsing-shortcut = 프라이빗 브라우징
zen-screenshot-shortcut = 스크린샷 찍기
zen-key-sanitize = 브라우징 데이터 삭제
zen-quit-app-shortcut = 애플리케이션 종료
zen-key-wr-capture-cmd = WR 캡쳐 명령
zen-key-wr-toggle-capture-sequence-cmd = WR 캡쳐 시퀀스 켜기/끄기
zen-nav-reload-shortcut = 페이지 새로고침
zen-nav-reload-shortcut-skip-cache = 페이지 새로고침 (캐시 무시)
zen-close-shortcut = 창 닫기
zen-close-tab-shortcut = 탭 닫기
zen-compact-mode-shortcut-show-sidebar = 떠 있는 사이드바 켜기/끄기
zen-compact-mode-shortcut-show-toolbar = 떠 있는 툴바 켜기/끄기
zen-compact-mode-shortcut-toggle = 사이드바 축소 모드 켜기/끄기
zen-glance-expand = 글랜스 확장
zen-workspace-shortcut-switch-1 = 워크스페이스 1로 전환
zen-workspace-shortcut-switch-2 = 워크스페이스 2로 전환
zen-workspace-shortcut-switch-3 = 워크스페이스 3으로 전환
zen-workspace-shortcut-switch-4 = 워크스페이스 4로 전환
zen-workspace-shortcut-switch-5 = 워크스페이스 5로 전환
zen-workspace-shortcut-switch-6 = 워크스페이스 6으로 전환
zen-workspace-shortcut-switch-7 = 워크스페이스 7로 전환
zen-workspace-shortcut-switch-8 = 워크스페이스 8로 전환
zen-workspace-shortcut-switch-9 = 워크스페이스 9로 전환
zen-workspace-shortcut-switch-10 = 워크스페이스 10으로 전환
zen-workspace-shortcut-forward = 다음 워크스페이스로
zen-workspace-shortcut-backward = 이전 워크스페이스로
zen-sidebar-shortcut-toggle = 사이드바 넓이 켜기/끄기
zen-pinned-tab-shortcut-reset = 고정된 탭 URL 초기화
zen-split-view-shortcut-grid = 그리드 스플릿 뷰 전환
zen-split-view-shortcut-vertical = 수직 스플릿 뷰 전환
zen-split-view-shortcut-horizontal = 수평 스플릿 뷰 전환
zen-split-view-shortcut-unsplit = 스플릿 뷰 닫기
zen-new-empty-split-view-shortcut = 새 빈 분할 화면
zen-key-select-tab-1 = 탭 #1 선택
zen-key-select-tab-2 = 탭 #2 선택
zen-key-select-tab-3 = 탭 #3 선택
zen-key-select-tab-4 = 탭 #4 선택
zen-key-select-tab-5 = 탭 #5 선택
zen-key-select-tab-6 = 탭 #6 선택
zen-key-select-tab-7 = 탭 #7 선택
zen-key-select-tab-8 = 탭 #8 선택
zen-key-select-tab-last = 마지막 탭 선택
zen-key-show-all-tabs = 모든 탭 보기
zen-key-goto-history = 방문 기록 열기
zen-key-go-home = 홈으로 이동
zen-bookmark-show-sidebar-shortcut = 북마크 사이드바 보기
zen-bookmark-show-toolbar-shortcut = 북마크 툴바 보기
zen-devtools-toggle-shortcut = 개발자 도구 전환
zen-devtools-toggle-browser-toolbox-shortcut = 브라우저 개발자 도구 전환
zen-devtools-toggle-browser-console-shortcut = 브라우저 콘솔 전환
zen-devtools-toggle-responsive-design-mode-shortcut = 반응형 디자인 모드 전환
zen-devtools-toggle-inspector-shortcut = 검사기(Inspector) 전환
zen-devtools-toggle-web-console-shortcut = 웹 콘솔 전환
zen-devtools-toggle-js-debugger-shortcut = 자바스크립트 디버거 전환
zen-devtools-toggle-net-monitor-shortcut = 네트워크 모니터 전환
zen-devtools-toggle-style-editor-shortcut = 스타일 편집기 전환
zen-devtools-toggle-performance-shortcut = 성능 탭 전환
zen-devtools-toggle-storage-shortcut = 저장소 탭 전환
zen-devtools-toggle-dom-shortcut = DOM 탭 전환
zen-devtools-toggle-accessibility-shortcut = 접근성 탭 전환
zen-close-all-unpinned-tabs-shortcut = 모든 고정되지 않은 탭 닫기
zen-new-unsynced-window-shortcut = 새 비동기화 창



================================================
FILE: locales/lt/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Ieškoti „{ $folder-name }“...
zen-folders-panel-rename-folder = 
    .label = Pervadinti aplanką
zen-folders-panel-unpack-folder = 
    .label = Išpakuoti aplanką
zen-folders-new-subfolder = 
    .label = Naujas poaplankis
zen-folders-panel-delete-folder = 
    .label = Ištrinti aplanką
zen-folders-panel-convert-folder-to-space = 
    .label = Konvertuoti aplanką į erdvę
zen-folders-panel-change-folder-space = 
    .label = Keisti erdvę...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Iškelti aktyvias šiame aplanke
zen-folders-unload-folder = 
    .label = Iškelti visas korteles
zen-folders-search-no-results = Nėra kortelių, atitinkančių šią paiešką. 🤔



================================================
FILE: locales/lt/browser/browser/zen-general.ftl
================================================
[Binary file]


================================================
FILE: locales/lt/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Išskleisti prisegtas korteles
           *[false] Suskleisti prisegtas korteles
        }
zen-menubar-appearance = 
    .label = Išvaizda
zen-menubar-appearance-description = 
    .label = Svetainės naudosis:
zen-menubar-appearance-auto = 
    .label = Automatinį
zen-menubar-appearance-light = 
    .label = Šviesią
zen-menubar-appearance-dark = 
    .label = Tamsų
zen-menubar-new-unsynced-window = 
    .label = Naujas tuščias langas



================================================
FILE: locales/lt/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Skaidyti kortelę (reikia kelių pasirinktų kortelių)
            [one] Skaidyti { $tabCount } kortelę
            [few] Skaidyti { $tabCount } korteles
            [many] Skaidyti { $tabCount } kortelės
           *[other] Skaidyti { $tabCount } kortelių
        }
    .accesskey = S
zen-split-link = 
    .label = Skaidyti nuorodą į naują kortelę
    .accesskey = S
zen-split-view-modifier-header = Skaidymo rodinys
zen-split-view-modifier-activate-reallocation = 
    .label = Aktyvuoti perskyrimą
zen-split-view-modifier-enabled-toast = Skaidymo rodinio pertvarkymas įjungtas.
zen-split-view-modifier-enabled-toast-description = Nutempkite rodinį, kad pertvarkytumėte. Paspauskite Gr, kad išeitumėte.
zen-split-view-modifier-disabled-toast = Skaidymo rodinio pertvarkymas išjungtas.



================================================
FILE: locales/lt/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Kortelės dešinėje
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Kompaktinis režimas
zen-toolbar-context-compact-mode-enable = 
    .label = Įjungti kompaktinį režimą
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Slėpti šoninę juostą
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Slėpti įrankių juostą
zen-toolbar-context-compact-mode-hide-both = 
    .label = Slėpti abi
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Naujas aplankas
    .accesskey = N
sidebar-zen-expand = 
    .label = Išskleisti šoninę juostą
sidebar-zen-create-new = 
    .label = Kurti naują...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Iškelti { $tabCount } kortelę ir perjungti į pirmąją
            [few] Iškelti { $tabCount } korteles ir perjungti į pirmąją
            [many] Iškelti { $tabCount } kortelės ir perjungti į pirmąją
           *[other] Iškelti { $tabCount } kortelių ir perjungti į pirmąją
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Atkurti ir prisegti { $tabCount } kortelę
            [few] Atkurti ir prisegti { $tabCount } korteles
            [many] Atkurti ir prisegti { $tabCount } kortelės
           *[other] Atkurti ir prisegti { $tabCount } kortelių
        }
tab-reset-pin-label = Atgal į prisegtą URL



================================================
FILE: locales/lt/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Išjungti saityno skydelio garsą
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Įjungti saityno skydelio garsą
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Išjungti mobilųjį naudotojo agentą
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Įjungti mobilųjį naudotojo agentą
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Iškelti saityno skydelį
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Ištrinti saityno skydelį
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Atverti naujoje kortelėje
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Atverti konteinerio kortelėje
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Pridėti prie saityno skydelių
    .accesskey = A
zen-webpanel-introduction-title = Sveiki atvykę į „Zen“ saityno skydelius
zen-webpanel-introduction-description = Saityno skydeliai – tai būdas laikyti savo mėgstamas svetaines po ranka.



================================================
FILE: locales/lt/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Sveiki atvykę į
zen-welcome-title-line2 = ramesnį internetą
zen-welcome-import-title = Nauja pradžia, tas pats adresynas
zen-welcome-import-description-1 = Jūsų adresynas, istorija ir slaptažodžiai – tai tarsi duonos trupiniai per internetą. Nepalikite jų!
zen-welcome-import-description-2 = Lengvai perkelkite juos iš kitos naršyklės ir tęskite ten, kur baigėte.
zen-welcome-import-button = Importuoti dabar
zen-welcome-set-default-browser = Nustatyti „{ -brand-short-name }“ kaip numatytąją naršyklę
zen-welcome-dont-set-default-browser = Nenustatyti „{ -brand-short-name }“ kaip numatytąją naršyklę
zen-welcome-initial-essentials-title = Jūsų pagrindinės kortelės, visada pasiekiamos
zen-welcome-initial-essentials-description-1 = Laikykite svarbiausias korteles lengvai pasiekiamas ir visada po ranka, kad ir kiek jų atvertumėte.
zen-welcome-initial-essentials-description-2 = Būtiniausios kortelės visada matomos, nesvarbu, kokioje darbo srityje esate.
zen-welcome-workspace-colors-title = Jūsų darbo sritys, jūsų spalvos
zen-welcome-workspace-colors-description = Suasmeninkite savo naršyklę, suteikdami kiekvienai darbo sričiai unikalią spalvą.
zen-welcome-start-browsing-title =
    Viskas parengta?<br/>
    Pradėkime veikti!
zen-welcome-start-browsing-description-1 = Viskas parengta ir gali veikti. Spustelėkite žemiau esantį mygtuką, kad pradėtumėte naršyti su „{ -brand-short-name }“.
zen-welcome-start-browsing = Pirmyn!
zen-welcome-default-search-title = Jūsų numatytasis paieškos variklis
zen-welcome-default-search-description = Pasirinkite numatytąjį paieškos variklį. Vėliau visada galite ją pakeisti!
zen-welcome-skip-button = Praleisti
zen-welcome-finished = Jūsų „Zen“ nustatytas teisingai!



================================================
FILE: locales/lt/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Erdvės
zen-panel-ui-spaces-label = 
    .label = Erdvės
zen-panel-ui-workspaces-create = 
    .label = Kurti erdvę
zen-panel-ui-folder-create = 
    .label = Kurti aplanką
zen-panel-ui-new-empty-split = 
    .label = Naujas skaidymas
zen-workspaces-panel-context-delete = 
    .label = Ištrinti erdvę
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Keisti pavadinimą
zen-workspaces-panel-change-icon = 
    .label = Keisti piktogramą
zen-workspaces-panel-context-default-profile = 
    .label = Nustatyti profilį
zen-workspaces-panel-unload = 
    .label = Iškelti erdvę
zen-workspaces-how-to-reorder-title = Kaip pertvarkyti erdves
zen-workspaces-how-to-reorder-desc = Nutempkite erdvės piktogramas šoninės juostos apačioje, kad pertvarkytumėte jas.
zen-workspaces-change-theme = 
    .label = Redaguoti temą
zen-workspaces-panel-context-open = 
    .label = Atverti darbo sritį
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Redaguoti darbo sritį
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Erdvės
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Papildomas
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Skaidymas
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analoginis
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadinis
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Slankusis
zen-panel-ui-gradient-click-to-add = Spustelėkite, kad pridėtumėte spalvą
zen-workspace-creation-name = 
    .placeholder = Erdvės pavadinimas
zen-move-tab-to-workspace-button = 
    .label = Perkelti į...
    .tooltiptext = Perkelti visas korteles šiame lange į erdvę
zen-workspaces-panel-context-reorder = 
    .label = Pertvarkyti erdves
zen-workspace-creation-profile = Profilis
    .tooltiptext = Profiliai naudojami atskirti slapukus ir svetainės duomenis tarp erdvių.
zen-workspace-creation-header = Kurti erdvę
zen-workspace-creation-label = Erdvės naudojamos tvarkyti jūsų korteles ir seansus.
zen-workspaces-delete-workspace-title = Ištrinti erdvę?
zen-workspaces-delete-workspace-body = Ar tikrai norite ištrinti „{ $name }“? Šio veiksmo anuliuoti negalima.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Kortelės užvertos! Naudokite <span>{ $shortcut }</span>, kad atšauktumėte.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Valyti
    .tooltiptext = Užverti visas neprisegtas korteles
zen-panel-ui-workspaces-change-forward = 
    .label = Tolesnė erdvė
zen-panel-ui-workspaces-change-back = 
    .label = Ankstesnė erdvė



================================================
FILE: locales/lt/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = „Zen Galaxy“
extension-firefox-compact-galaxy-description = Tema su tamsių spalvų schema ir gražiu galaktikos prisilietimu!
extension-firefox-compact-dream-name = „Zen Dream“
extension-firefox-compact-dream-description = Tema su šviesių spalvų schema ir gražiu svajonių prisilietimu!



================================================
FILE: locales/lt/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Pradinis URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Rodyti šį saityno skydelį mobiliajame režime
    .accesskey = m



================================================
FILE: locales/lt/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Išvaizda ir turinys
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Pakeitus numatytąją kalbą, svetainėms gali būti lengviau jus sekti.
zen-vertical-tabs-layout-header = Naršyklės išdėstymas
zen-vertical-tabs-layout-description = Pasirinkite jums tinkamiausią išdėstymą.
zen-layout-single-toolbar = Viena įrankių juosta
zen-layout-multiple-toolbar = Kelios įrankių juostos
zen-layout-collapsed-toolbar = Suskleista įrankių juosta
sync-currently-syncing-workspaces = Darbo sritys
sync-engine-workspaces = 
    .label = Darbo sritys
    .tooltiptext = Sinchronizuokite savo darbo sritis tarp įrenginių
    .accesskey = W
zen-glance-title = Spartusis pažiūrėjimas
zen-glance-header = Bendrieji sparčiojo pažiūrėjimo nustatymai
zen-glance-description = Gaukite sparčią savo nuorodų apžvalgą neatverdami jų naujoje kortelėje.
zen-glance-trigger-label = Paleidimo būdas
zen-glance-enabled = 
    .label = Įjungti spartų pažiūrėjimą
zen-glance-trigger-ctrl-click = 
    .label = Vald + spausti
zen-glance-trigger-alt-click = 
    .label = Alt + spausti
zen-glance-trigger-shift-click = 
    .label = Lyg2 + spausti
zen-glance-trigger-meta-click = 
    .label = „Meta“ (komanda) + spausti
zen-look-and-feel-compact-view-header = Rodyti kompaktiniame rodinyje
zen-look-and-feel-compact-view-description = Rodyti tik tas įrankių juostas, kurias naudojate.
zen-look-and-feel-compact-view-enabled = 
    .label = Įjungti „{ -brand-short-name }“ kompaktinį režimą
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Slėpti viršutinę įrankių juostą ir kompaktiniu režimu
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Trumpai padaryti, kad įrankių juosta iškiltų perjungiant arba atidarant naujas korteles kompaktiniu režimu
pane-zen-tabs-title = Kortelių tvarkymas
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Darbo sritys
zen-tabs-unloader-enabled = 
    .label = Įjungti kortelių iškėlyklę
zen-tabs-close-on-back-with-no-history = 
    .label = Užverti kortelę ir perjungti į jos savininko kortelę (arba paskutinę naudotą kortelę), grįžtant atgal be istorijos
zen-tabs-cycle-by-attribute = 
    .label = Vald+Tab perjungia tik tarp būtiniausių arba darbo srities kortelių
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Nepaisyti laukiančių kortelių, kai perjungiama langus su Vald+Tab
zen-tabs-cycle-by-attribute-warning = Vald+Tab klavišai bus perjungiami pagal neseniai naudotą tvarką, nes ji yra įjungta.
zen-look-and-feel-compact-toolbar-themed = 
    .label = Naudoti teminį foną kompaktinei įrankių juostai
zen-workspace-continue-where-left-off = 
    .label = Tęskite, kur baigėte
pane-zen-pinned-tab-manager-title = Prisegtos kortelės
zen-pinned-tab-manager-header = Bendrieji prisegtų kortelių nustatymai
zen-pinned-tab-manager-description = Tvarkykite papildomą prisegtų kortelių elgseną.
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Atkurti prisegtas korteles į jų originalų prisegtą URL paleidimo metu
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Įjungti konkrečiam konteineriui būtinuosius
zen-pinned-tab-manager-close-shortcut-behavior-label = Užvėrimo kortelę sparčiųjų klavišų elgsena
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Atkurti URL, iškelti ir perjungti į sekančią kortelę
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Iškelti ir perjungti į sekančią kortelę
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Atkurti URL ir perjungti į sekančią kortelę
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Perjungti į sekančią kortelę
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Atkurti URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Užverti kortelę
pane-zen-workspaces-header = Darbo sritys
zen-settings-workspaces-header = Bendrieji darbo sričių nustatymai
zen-settings-workspaces-description = Su darbo sritimis galite vienu metu atlikti kelias naršymo seansus.
zen-settings-workspaces-enabled = 
    .label = Įjungti darbo sritis
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Slėpti numatytojo konteinerio indikatorių kortelių juostoje
zen-key-unsaved = Neįrašytas spartusis klavišas! Iš naujo jį įvedę, paspauskite grįžimo klavišą.
zen-key-conflict = Konfliktuoja su „{ $group }“ -> „{ $shortcut }“
pane-zen-theme-title = Temų nustatymai
zen-vertical-tabs-title = Šoninė juosta ir kortelių išdėstymas
zen-vertical-tabs-header = Vertikalios kortelės
zen-vertical-tabs-description = Tvarkykite korteles vertikaliame išdėstyme.
zen-vertical-tabs-show-expand-button = 
    .label = Rodyti išskleidimo mygtuką
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Rodyti naujos kortelės mygtuką kortelių sąraše
zen-vertical-tabs-newtab-top-button-up = 
    .label = Perkelti naujos kortelės mygtuką į viršų
zen-vertical-tabs-expand-tabs-by-default = Išskleisti korteles pagal numatytąją
zen-vertical-tabs-dont-expand-tabs-by-default = Neišskleisti kortelių pagal numatytąją
zen-vertical-tabs-expand-tabs-on-hover = Išskleisti korteles užvedus (neveikia kompaktiniame režime)
zen-vertical-tabs-expand-tabs-header = Kaip išskleisti korteles
zen-vertical-tabs-expand-tabs-description = Pasirinkite, kaip išskleisti kortelės šoninėje juostoje.
zen-theme-marketplace-header = „Zen“ modifikacijos
zen-theme-disable-all-enabled = 
    .title = Išjungti visus modifikacijas
zen-theme-disable-all-disabled = 
    .title = Įjungti visas modifikacijas
zen-theme-marketplace-description = Raskite ir įdiekite modifikacijas iš parduotuvės.
zen-theme-marketplace-remove-button = 
    .label = Šalinti modifikaciją
zen-theme-marketplace-check-for-updates-button = 
    .label = Tikrinti, ar yra naujinimų
zen-theme-marketplace-import-button = 
    .label = Importuoti modifikacijas
zen-theme-marketplace-export-button = 
    .label = Eksportuoti modifikacijas
zen-theme-marketplace-import-success = Modifikacijos sėkmingai importuotos
zen-theme-marketplace-import-failure = Importuojant modifikacijas įvyko klaida.
zen-theme-marketplace-export-success = Modifikacijos sėkmingai eksportuotos
zen-theme-marketplace-export-failure = Eksportuojant modifikacijas įvyko klaida.
zen-theme-marketplace-updates-success = Modifikacijos sėkmingai atnaujintos
zen-theme-marketplace-updates-failure = Nepavyko rasti jokių naujinimų.
zen-theme-marketplace-toggle-enabled-button = 
    .title = Išjungti modifikaciją
zen-theme-marketplace-toggle-disabled-button = 
    .title = Įjungti modifikaciją
zen-theme-marketplace-remove-confirmation = Ar tikrai norite pašalinti šį modifikaciją?
zen-theme-marketplace-close-modal = Užverti
zen-theme-marketplace-theme-header-title = 
    .title = CSS parinkiklis: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Nėra
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Įrašykite kažką...
pane-zen-marketplace-title = „Zen“ modifikacijos
zen-themes-auto-update = 
    .label = Automatiškai atnaujinti įdiegtas modifikacijas paleidimo metu
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Perjungti į darbo sritį, kurioje konteineris nustatytas kaip numatytasis, atveriant konteinerio korteles
zen-theme-marketplace-link = Aplankyti parduotuvę
zen-dark-theme-styles-header = Tamsios temos stiliai
zen-dark-theme-styles-description = Tinkinkite tamsią temą pagal savo poreikius.
zen-dark-theme-styles-amoled = Naktinė tema
zen-dark-theme-styles-default = Numatytoji tamsi tema
zen-dark-theme-styles-colorful = Spalvinga tamsi tema
zen-compact-mode-styles-left = Slėpti kortelių juostą
zen-compact-mode-styles-top = Slėpti viršutinę juostą
zen-compact-mode-styles-both = Slėpti abiejus
zen-urlbar-title = „Zen“ URL juosta
zen-urlbar-header = Bendrieji URL juostos nustatymai
zen-urlbar-description = Tinkinkite URL juostą pagal savo poreikius.
zen-urlbar-behavior-label = Elgsena
zen-urlbar-behavior-normal = 
    .label = Įprasta
zen-urlbar-behavior-floating-on-type = 
    .label = Slankiojantis tik rašant
zen-urlbar-behavior-float = 
    .label = Visada slankus
pane-zen-CKS-title = Klaviatūros spartieji klavišai
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = „{ -brand-short-name }“ klaviatūros spartieji klavišai
category-zen-marketplace = 
    .tooltiptext = „Zen“ modifikacijos
zen-settings-CKS-header = Tinkinkite klaviatūros sparčiuosius klavišus
zen-settings-CKS-description = Keiskite numatytąsias klaviatūros sparčiąsias klavišus pagal savo pageidavimus ir patobulinkite naršymo patirtį.
zen-settings-CKS-disable-firefox = 
    .label = Išjungti „{ -brand-short-name }“ numatytuosius klaviatūros sparčiuosius klavišus
zen-settings-CKS-duplicate-shortcut = 
    .label = Dubliuoti spartųjį klavišą
zen-settings-CKS-reset-shortcuts = 
    .label = Atkurti į numatytuosius
zenCKSOption-group-other = Kita
zenCKSOption-group-windowAndTabManagement = Langų ir kortelių tvarkymas
zenCKSOption-group-navigation = Naršymas
zenCKSOption-group-searchAndFind = Ieškoti ir rasti
zenCKSOption-group-pageOperations = Puslapio operacijos
zenCKSOption-group-historyAndBookmarks = Istorija ir adresynas
zenCKSOption-group-mediaAndDisplay = Medija ir ekranas
zenCKSOption-group-zen-compact-mode = Kompaktinis režimas
zenCKSOption-group-zen-workspace = Darbo sritys
zenCKSOption-group-zen-other = Kitos „Zen“ funkcijos
zenCKSOption-group-zen-split-view = Skaidyti rodinį
zenCKSOption-group-devTools = Kūrėjo įrankiai
zen-key-quick-restart = Sparčiai paleisti iš naujo
zen-window-new-shortcut = Naujas langas
zen-tab-new-shortcut = Nauja kortelė
zen-key-redo = Grąžinti
zen-restore-last-closed-tab-shortcut = Atkurti paskutinę užvertą kortelę
zen-location-open-shortcut = Atverti vietą
zen-location-open-shortcut-alt = Atverti vietą (Alt)
zen-key-undo-close-window = Anuliuoti užvertą langą
zen-text-action-undo-shortcut = Anuliuoti
zen-text-action-redo-shortcut = Grąžinti
zen-text-action-cut-shortcut = Kirpti
zen-text-action-copy-shortcut = Kopijuoti
zen-text-action-copy-url-shortcut = Kopijuoti dabartinį URL
zen-text-action-copy-url-markdown-shortcut = Kopijuoti dabartinį URL kaip ženklinimą
zen-text-action-paste-shortcut = Įklijuoti
zen-text-action-select-all-shortcut = Pasirinkti viską
zen-text-action-delete-shortcut = Ištrinti
zen-history-show-all-shortcut-mac = Rodyti visą istoriją („Mac“)
zen-full-screen-shortcut = Perjungti visą ekraną
zen-reader-mode-toggle-shortcut-windows = Perjungti skaitymo režimą („Windows“)
zen-picture-in-picture-toggle-shortcut-alt = Perjungti vaizdą vaizde (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Perjungti vaizdą vaizde („Mac“)
zen-picture-in-picture-toggle-shortcut-mac-alt = Perjungti vaizdą vaizde („Mac“ Alt)
zen-page-source-shortcut-safari = Peržiūrėti puslapio šaltinį („Safari“)
zen-nav-stop-shortcut = Stabdyti įkėlimą
zen-history-sidebar-shortcut = Rodyti istorijos šoninę juostą
zen-window-minimize-shortcut = Sumažinti langą
zen-help-shortcut = Atverti pagalbą
zen-preferences-shortcut = Atverti nuostatas
zen-hide-app-shortcut = Slėpti programą
zen-hide-other-apps-shortcut = Slėpti kitas programas
zen-search-focus-shortcut = Paieškos židinys
zen-search-focus-shortcut-alt = Paieškos židinys (Alt)
zen-downloads-shortcut = Atverti atsisiuntimus
zen-addons-shortcut = Atverti priedus
zen-file-open-shortcut = Atverti failą
zen-save-page-shortcut = Įrašyti puslapį
zen-print-shortcut = Spausdinti puslapį
zen-close-shortcut-2 = Užverti kortelę
zen-mute-toggle-shortcut = Perjungti garso išjungimą
zen-key-delete = Ištrinti klavišą
zen-key-go-back = Eiti atgal
zen-key-go-forward = Eiti pirmyn
zen-nav-back-shortcut-alt = Naršyti atgal (Alt)
zen-nav-fwd-shortcut-alt = Naršyti pirmyn (Alt)
zen-history-show-all-shortcut = Rodyti visą istoriją
zen-key-enter-full-screen = Eiti į visą ekraną
zen-key-exit-full-screen = Išeiti iš viso ekrano
zen-ai-chatbot-sidebar-shortcut = Perjungti DI pokalbių roboto šoninę juostą
zen-key-inspector-mac = Perjungti inspektoryklę („Mac“)
zen-toggle-sidebar-shortcut = Perjungti „Firefox“ šoninę juostą
zen-toggle-pin-tab-shortcut = Perjungti prisegtą kortelę
zen-reader-mode-toggle-shortcut-other = Perjungti skaitymo režimą
zen-picture-in-picture-toggle-shortcut = Perjungti vaizdą vaizde
zen-nav-reload-shortcut-2 = Įkelti iš naujo puslapį
zen-key-about-processes = Apie procesus
zen-page-source-shortcut = Peržiūrėti puslapio šaltinį
zen-page-info-shortcut = Peržiūrėti puslapio informaciją
zen-find-shortcut = Rasti puslapyje
zen-search-find-again-shortcut = Rasti dar kartą
zen-search-find-again-shortcut-prev = Rasti ankstesnį
zen-search-find-again-shortcut-2 = Rasti dar kartą (Alt)
zen-bookmark-this-page-shortcut = Įtraukti šį puslapį į adresyną
zen-bookmark-show-library-shortcut = Rodyti adresyno biblioteką
zen-key-stop = Stabdyti įkėlimą
zen-full-zoom-reduce-shortcut = Sumažinti
zen-full-zoom-enlarge-shortcut = Padidinti
zen-full-zoom-reset-shortcut = Atkurti mastelį
zen-full-zoom-reset-shortcut-alt = Atkurti mastelį (Alt)
zen-full-zoom-enlarge-shortcut-alt = Padidinti (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Padidinti (Alt 2)
zen-bidi-switch-direction-shortcut = Perjungti teksto kryptį
zen-private-browsing-shortcut = Privatus naršymas
zen-screenshot-shortcut = Daryti ekrano kopiją
zen-key-sanitize = Valyti naršymo duomenis
zen-quit-app-shortcut = Išeiti iš programos
zen-key-wr-capture-cmd = PR fiksavimo komanda
zen-key-wr-toggle-capture-sequence-cmd = Perjungti PR fiksavimo seką
zen-nav-reload-shortcut = Įkelti iš naujo puslapį
zen-nav-reload-shortcut-skip-cache = Įkelti iš naujo puslapį (praleisti podėlį)
zen-close-shortcut = Užverti langą
zen-close-tab-shortcut = Užverti kortelę
zen-compact-mode-shortcut-show-sidebar = Perjungti slankančią šoninę juostą
zen-compact-mode-shortcut-show-toolbar = Perjungti slankančią įrankių juostą
zen-compact-mode-shortcut-toggle = Perjungti kompaktinį režimą
zen-glance-expand = Išskleisti spartų pažiūrėjimą
zen-workspace-shortcut-switch-1 = Perjungti į 1 darbo sritį
zen-workspace-shortcut-switch-2 = Perjungti į 2 darbo sritį
zen-workspace-shortcut-switch-3 = Perjungti į 3 darbo sritį
zen-workspace-shortcut-switch-4 = Perjungti į 4 darbo sritį
zen-workspace-shortcut-switch-5 = Perjungti į 5 darbo sritį
zen-workspace-shortcut-switch-6 = Perjungti į 6 darbo sritį
zen-workspace-shortcut-switch-7 = Perjungti į 7 darbo sritį
zen-workspace-shortcut-switch-8 = Perjungti į 8 darbo sritį
zen-workspace-shortcut-switch-9 = Perjungti į 9 darbo sritį
zen-workspace-shortcut-switch-10 = Perjungti į 10 darbo sritį
zen-workspace-shortcut-forward = Pirmyn darbo sritį
zen-workspace-shortcut-backward = Atgal darbo sritį
zen-sidebar-shortcut-toggle = Perjungti šoninės juostos plotį
zen-pinned-tab-shortcut-reset = Atkurti prisegtą kortelę į prisegtą URL
zen-split-view-shortcut-grid = Perjungti skaidymo rodinį tinkleliu
zen-split-view-shortcut-vertical = Perjungti skaidymo rodinį vertikaliai
zen-split-view-shortcut-horizontal = Perjungti skaidymo rodinį horizontaliai
zen-split-view-shortcut-unsplit = Užverti skaidymo rodinį
zen-new-empty-split-view-shortcut = Naujas tuščias skaidymo rodinys
zen-key-select-tab-1 = Pasirinkti #1 kortelę
zen-key-select-tab-2 = Pasirinkti #2 kortelę
zen-key-select-tab-3 = Pasirinkti #3 kortelę
zen-key-select-tab-4 = Pasirinkti #4 kortelę
zen-key-select-tab-5 = Pasirinkti #5 kortelę
zen-key-select-tab-6 = Pasirinkti #6 kortelę
zen-key-select-tab-7 = Pasirinkti #7 kortelę
zen-key-select-tab-8 = Pasirinkti #8 kortelę
zen-key-select-tab-last = Pasirinkti paskutinį kortelę
zen-key-show-all-tabs = Rodyti visas korteles
zen-key-goto-history = Eiti į istoriją
zen-key-go-home = Eiti į pagrindinį
zen-bookmark-show-sidebar-shortcut = Rodyti adresyno šoninę juostą
zen-bookmark-show-toolbar-shortcut = Rodyti adresyno įrankių juostą
zen-devtools-toggle-shortcut = Perjungti „DevTools“
zen-devtools-toggle-browser-toolbox-shortcut = Perjungti naršyklės įrankių dėžutę
zen-devtools-toggle-browser-console-shortcut = Perjungti naršyklės konsolę
zen-devtools-toggle-responsive-design-mode-shortcut = Perjungti reaguojančio dizaino režimą
zen-devtools-toggle-inspector-shortcut = Perjungti inspektoryklę
zen-devtools-toggle-web-console-shortcut = Perjungti saityno konsolę
zen-devtools-toggle-js-debugger-shortcut = Perjungti „JavaScript“ derintuvę
zen-devtools-toggle-net-monitor-shortcut = Perjungti tinklo stebėjimą
zen-devtools-toggle-style-editor-shortcut = Perjungti stiliaus rengyklę
zen-devtools-toggle-performance-shortcut = Perjungti našumą
zen-devtools-toggle-storage-shortcut = Perjungti saugyklą
zen-devtools-toggle-dom-shortcut = Perjungti DOM
zen-devtools-toggle-accessibility-shortcut = Perjungti prieinamumą
zen-close-all-unpinned-tabs-shortcut = Užverti visas neprisegtas korteles
zen-new-unsynced-window-shortcut = Naujas tuščias langas



================================================
FILE: locales/nb/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Søk { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Endre mappenavn
zen-folders-panel-unpack-folder = 
    .label = Pakk ut mappe
zen-folders-new-subfolder = 
    .label = Ny undermappe
zen-folders-panel-delete-folder = 
    .label = Slett mappe
zen-folders-panel-convert-folder-to-space = 
    .label = Konverter mappe til område
zen-folders-panel-change-folder-space = 
    .label = Endre område...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Avlast aktive i denne mappen
zen-folders-unload-folder = 
    .label = Avlast alle faner
zen-folders-search-no-results = Ingen faner samsvarer med søket 🤔



================================================
FILE: locales/nb/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = nåværende profil
unified-extensions-description = Utvidelser er brukt for å bringe mer ekstra funksjonalitet til { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Nullstill Festet Fane
    .accesskey = R
tab-context-zen-add-essential = 
    .label = E
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } felt utfylt
tab-context-zen-remove-essential = 
    .label = Fjern fra Essensielle
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Erstatt Festet Nettadresse med Aktiv
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Endre etikett...
tab-context-zen-edit-icon = 
    .label = Endre ikon...
zen-themes-corrupted = Din { -brand-short-name }-mods fil er skadet. De har blitt tilbakestilt til standardtemaet.
zen-shortcuts-corrupted = { -brand-short-name } snarvei-filen din er skadet. De har blitt tilbakestilt til standard snarveier.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Det nye nettadressefeltet har blitt aktivert, som tar vekk behovet for nye fanesider.<br/><br/>
    Prøv å åpne en ny fane for å se det nye nettadressefeltet i action!
zen-disable = Deaktiver
pictureinpicture-minimize-btn = 
    .aria-label = Minimer
    .tooltip = Minimer
zen-panel-ui-gradient-generator-custom-color = Tilpasset Farge
zen-copy-current-url-confirmation = Kopierte gjeldende nettadresse!
zen-general-cancel-label = 
    .label = Avbryt
zen-general-confirm = 
    .label = Bekreft
zen-pinned-tab-replaced = Nettadressen av den festede fanen har blitt erstattet med gjeldende nettadresse!
zen-tabs-renamed = Fanen har blitt omnavnet!
zen-background-tab-opened-toast = Ny bakgrunnsfane åpnet!
zen-workspace-renamed-toast = Arbeidsområdet har blitt omnavnet!
zen-toggle-compact-mode-button = 
    .label = Kompakt Modus
    .tooltiptext = Veksle Kompakt Modus

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Lær Mer
zen-close-label = Lukk
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Søk...
zen-icons-picker-emoji = 
    .label = Emojier
zen-icons-picker-svg = 
    .label = Ikoner
urlbar-search-mode-zen_actions = Handlinger
zen-site-data-settings = Innstillinger
zen-generic-manage = Behandle
zen-generic-more = Mer
zen-generic-next = Neste
zen-essentials-promo-label = Legg til Essensielle
zen-essentials-promo-sublabel = Hold favorittfanene dine bare et klikk unna
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Tillat
zen-site-data-setting-block = Blokker
zen-site-data-protections-enabled = Aktivert
zen-site-data-protections-disabled = Deaktivert
zen-site-data-setting-cross-site = Kryss-side informasjonskapsel
zen-site-data-security-info-extension = 
    .label = Utvidelse
zen-site-data-security-info-secure = 
    .label = Sikker
zen-site-data-security-info-not-secure = 
    .label = Ikke sikker
zen-site-data-manage-addons = 
    .label = Behandle Utvidelser
zen-site-data-get-addons = 
    .label = Legg til Utvidelser
zen-site-data-site-settings = 
    .label = Alle nettstedsinnstillinger
zen-site-data-header-share = 
    .tooltiptext = Del denne siden
zen-site-data-header-reader-mode = 
    .tooltiptext = Gå til Lesermodus
zen-site-data-header-screenshot = 
    .tooltiptext = Ta et skjermbilde
zen-site-data-header-bookmark = 
    .tooltiptext = Bokmerk denne siden
zen-urlbar-copy-url-button = 
    .tooltiptext = Kopier nettadresse
zen-site-data-setting-site-protection = Sporingsbeskyttelse

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Et nytt hjem for tillegg, tillatelser, og mer
zen-site-data-panel-feature-callout-subtitle = Klikk på ikonet for å behandle nettstedsinnstillinger, se sikkerhetsinformasjon, behandle utvidelser, og utføre vanlige handlinger.
zen-open-link-in-glance = 
    .label = Åpne lenke i Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Oppdatering fullført!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Hva er nytt i { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Se versjonsnotater
zen-sidebar-notification-restart-safe-mode-label = Er noe ødelagt?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Start på nytt i sikker modus
zen-window-sync-migration-dialog-title = Hold vinduene dine synkronisert
zen-window-sync-migration-dialog-message = Zen synkroniserer nå vinduer på samme enhet, så endringer i ett vindu blir reflekterte på tvers de andre med en gang.
zen-window-sync-migration-dialog-learn-more = Lær mer
zen-window-sync-migration-dialog-accept = Skjønner



================================================
FILE: locales/nb/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Utvid festede faner
           *[false] Minimer festede faner
        }
zen-menubar-appearance = 
    .label = Utseende
zen-menubar-appearance-description = 
    .label = Nettsteder vil bruke:
zen-menubar-appearance-auto = 
    .label = Automatisk
zen-menubar-appearance-light = 
    .label = Lys
zen-menubar-appearance-dark = 
    .label = Mørk
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/nb/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Del fane (flere valgte faner trengs)
           *[other] Del { $tabCount } faner
        }
    .accesskey = S
zen-split-link = 
    .label = Del opp lenke til ny fane
    .accesskey = S
zen-split-view-modifier-header = Splittet visning
zen-split-view-modifier-activate-reallocation = 
    .label = Aktiver reallokasjon
zen-split-view-modifier-enabled-toast = Omorganisering av splittet visning er PÅ.
zen-split-view-modifier-enabled-toast-description = Dra og slipp visningen for å omorganisere. Trykk Esc for å avslutte.
zen-split-view-modifier-disabled-toast = Omorganisering av splittet visning er AV.



================================================
FILE: locales/nb/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Faner til høyre
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Kompakt modus
zen-toolbar-context-compact-mode-enable = 
    .label = Aktiver kompakt modus
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Skjul sidepanelet
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Skjul verktøylinjen
zen-toolbar-context-compact-mode-hide-both = 
    .label = Skjul begge
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Ny mappe
    .accesskey = N
sidebar-zen-expand = 
    .label = Utvid sidepanelet
sidebar-zen-create-new = 
    .label = Opprett ny...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Avlast og bytt til fane
           *[other] Avlast { $tabCount } faner og bytt til den første
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Tilbakestill og fest fane
           *[other] Tilbakestill og fest { $tabCount } faner
        }
tab-reset-pin-label = Tilbake til festet nettadresse



================================================
FILE: locales/nb/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Velkommen til
zen-welcome-title-line2 = et roligere internett
zen-welcome-import-title = En ny begynnelse, de samme bokmerkene
zen-welcome-import-description-1 = Bokmerker, historikken og passordene dine er som en sti av brødsmuler gjennom internettet — ikke la dem ligge etter!
zen-welcome-import-description-2 = Overfør dem enkelt fra en annen nettleser og plukk det opp igjen akkurat der du slapp sist.
zen-welcome-import-button = Importer nå
zen-welcome-set-default-browser = Sett { -brand-short-name } som din standard nettleser
zen-welcome-dont-set-default-browser = IKKE sett { -brand-short-name } som din standard nettleser
zen-welcome-initial-essentials-title = Dine viktigste faner, alltid innen rekkevidde
zen-welcome-initial-essentials-description-1 = Hold dine viktigste faner lett tilgjengelige og alltid på hånd, uansett hvor mange du åpner.
zen-welcome-initial-essentials-description-2 = Essensielle faner er alltid synlige, uansett hvilket arbeidsområde du er i.
zen-welcome-workspace-colors-title = Dine Arbeidsområder, Dine Farger
zen-welcome-workspace-colors-description = Tilpass nettleseren din ved å gi hvert arbeidsområde sin egen unike fargeidentitet.
zen-welcome-start-browsing-title =
    Alt klart?<br/>
    La oss komme i gang!
zen-welcome-start-browsing-description-1 = Du er ferdig satt opp og klar til å gå. Klikk på knappen nedenfor for å begynne å surfe med { -brand-short-name }.
zen-welcome-start-browsing = Hopp inn!
zen-welcome-default-search-title = Din Standard Søkemotor
zen-welcome-default-search-description = Velg din standard søkemotor. Du kan alltids endre den senere!
zen-welcome-skip-button = Hopp over
zen-welcome-finished = Din Zen har blitt satt opp riktig!



================================================
FILE: locales/nb/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Områder
zen-panel-ui-spaces-label = 
    .label = Områder
zen-panel-ui-workspaces-create = 
    .label = Opprett Område
zen-panel-ui-folder-create = 
    .label = Opprett Mappe
zen-panel-ui-new-empty-split = 
    .label = Ny Splitt
zen-workspaces-panel-context-delete = 
    .label = Slett Område
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Endre navn
zen-workspaces-panel-change-icon = 
    .label = Endre ikon
zen-workspaces-panel-context-default-profile = 
    .label = Sett Profil
zen-workspaces-panel-unload = 
    .label = Frigjør Område
zen-workspaces-how-to-reorder-title = Hvordan endre rekkefølge på områder
zen-workspaces-how-to-reorder-desc = Dra områdeikoner nederst på sidepanelet for å endre rekkefølgen på dem
zen-workspaces-change-theme = 
    .label = Rediger Tema
zen-workspaces-panel-context-open = 
    .label = Åpne Område
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Rediger Område
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Områder
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Komplimentære
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Splitt
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogisk
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadisk
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Flytende
zen-panel-ui-gradient-click-to-add = Klikk for å legge til en farge
zen-workspace-creation-name = 
    .placeholder = Områdenavn
zen-move-tab-to-workspace-button = 
    .label = Flytt til...
    .tooltiptext = Flytt alle faner i dette vinduet til et Område
zen-workspaces-panel-context-reorder = 
    .label = Omordne Områder
zen-workspace-creation-profile = Profil
    .tooltiptext = Profiler er brukt til å separere informasjonskapsler og nettstedsdata mellom områder.
zen-workspace-creation-header = Opprett et Område
zen-workspace-creation-label = Områder er brukt til å organisere fanene og øktene dine.
zen-workspaces-delete-workspace-title = Slett Område?
zen-workspaces-delete-workspace-body = Er du sikker på at du vil slette { $name }? Denne handlingen kan ikke angres.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Faner lukket! Bruk <span>{ $shortcut }</span> for å angre.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Tøm
    .tooltiptext = Lukk alle ufestede faner
zen-panel-ui-workspaces-change-forward = 
    .label = Neste område
zen-panel-ui-workspaces-change-back = 
    .label = Forrige område



================================================
FILE: locales/nb/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Utseende og Følelse
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Å endre standardspråket kan gjøre det lettere for nettsteder å spore deg.
zen-vertical-tabs-layout-header = Nettleseroppsett
zen-vertical-tabs-layout-description = Velg oppsettet som kler deg best
zen-layout-single-toolbar = Bare sidepanelet
zen-layout-multiple-toolbar = Sidepanelet og øvre verktøylinje
zen-layout-collapsed-toolbar = Komprimert sidepanel
sync-currently-syncing-workspaces = Arbeidsområder
sync-engine-workspaces = 
    .label = Arbeidsområder
    .tooltiptext = Synkroniser arbeidsområdene dine på tvers av enheter
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = Generelle innstillinger for Glance
zen-glance-description = Få en rask oversikt over lenkene dine uten å åpne dem i en ny fane
zen-glance-trigger-label = Utløsningsmetode
zen-glance-enabled = 
    .label = Aktiver Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Klikk
zen-glance-trigger-alt-click = 
    .label = Alt + Klikk
zen-glance-trigger-shift-click = 
    .label = Shift + Klikk
zen-glance-trigger-meta-click = 
    .label = Meta (Commmand) + Klikk
zen-look-and-feel-compact-view-header = Vis i kompakt visning
zen-look-and-feel-compact-view-description = Bare vis verktøylinjene du bruker!
zen-look-and-feel-compact-view-enabled = 
    .label = Aktiver { -brand-short-name }s kompakt modus
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Skjul også øvre verktøylinje i kompakt modus
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Få verktøylinjen til å komme opp momentert når du bytter til- eller åpner nye faner i kompakt modus
pane-zen-tabs-title = Fanebehandling
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Arbeidsområder
zen-tabs-unloader-enabled = 
    .label = Aktiver Faneavlaster
zen-tabs-close-on-back-with-no-history = 
    .label = Lukk fane og bytt tilbake til overfanen (eller sist brukte fane) når du går tilbake uten historikk
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab rullerer innen bare Essensielle- eller Arbeidsområde-faner
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignorer ventende faner når du rullerer med Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab vil rullere med sist brukte rekkefølge, da det er aktivert
zen-look-and-feel-compact-toolbar-themed = 
    .label = Bruk temabakgrunn for kompakt verktøylinje
zen-workspace-continue-where-left-off = 
    .label = Fortsett der du slapp
pane-zen-pinned-tab-manager-title = Festede faner
zen-pinned-tab-manager-header = Generelle innstillinger for festede faner
zen-pinned-tab-manager-description = Behandle ekstra atferd for festede faner
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Gjenopprett festede faner til sin opprinnelige festede nettadresse ved oppstart
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Aktiver kontainer-spesifikke essensielle
zen-pinned-tab-manager-close-shortcut-behavior-label = Lukk fanesnarvei-adferd
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Tilbakestill nettadresse, avlast og bytt til neste fane
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Avlast og bytt til neste fane
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Tilbakestill nettadresse og bytt til neste fane
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Bytt til neste fane
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Tilbakestill nettadresse
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Lukk fane
pane-zen-workspaces-header = Arbeidsområder
zen-settings-workspaces-header = Generelle innstillinger for arbeidsområder
zen-settings-workspaces-description = Med arbeidsområder kan du ha flere økter samtidig!
zen-settings-workspaces-enabled = 
    .label = Aktiver Arbeidsområder
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Skjul standard beholder-indikatoren i fanelinjen
zen-key-unsaved = Ulagret snarvei! Vennligst lagre den ved å klikke "Escape"-knappen etter å ha skrevet den på nytt.
zen-key-conflict = Konflikter med { $group } -> { $shortcut }
pane-zen-theme-title = Temainnstillinger
zen-vertical-tabs-title = Oppsett for sidepanel og faner
zen-vertical-tabs-header = Loddrette Faner
zen-vertical-tabs-description = Behandle faner i loddrett oppsett
zen-vertical-tabs-show-expand-button = 
    .label = Vis Utvid-knapp
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Vis Ny Fane-knapp på Faneliste
zen-vertical-tabs-newtab-top-button-up = 
    .label = Flytt ny fane- knappen til toppen
zen-vertical-tabs-expand-tabs-by-default = Utvid Faner som Standard
zen-vertical-tabs-dont-expand-tabs-by-default = Ikke Utvid Faner som Standard
zen-vertical-tabs-expand-tabs-on-hover = Utvid Faner når mus over (Vil ikke virke i kompakt modus)
zen-vertical-tabs-expand-tabs-header = Hvordan utvide faner
zen-vertical-tabs-expand-tabs-description = Velg hvordan du utvider faner i sidepanelet
zen-theme-marketplace-header = Zen-mods
zen-theme-disable-all-enabled = 
    .title = Deaktiver alle mods
zen-theme-disable-all-disabled = 
    .title = Aktiver alle mods
zen-theme-marketplace-description = Finn og installer mods fra butikken.
zen-theme-marketplace-remove-button = 
    .label = Fjern mod
zen-theme-marketplace-check-for-updates-button = 
    .label = Sjekk for Oppdateringer
zen-theme-marketplace-import-button = 
    .label = Importer mods
zen-theme-marketplace-export-button = 
    .label = Eksporter Mods
zen-theme-marketplace-import-success = Mods importert
zen-theme-marketplace-import-failure = Det oppstod en feil under importering av mods
zen-theme-marketplace-export-success = Mods eksportert
zen-theme-marketplace-export-failure = Det oppstod en feil under eksportering av mods
zen-theme-marketplace-updates-success = Mods oppdatert
zen-theme-marketplace-updates-failure = Fant ingen oppdateringer!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Deaktiver mod
zen-theme-marketplace-toggle-disabled-button = 
    .title = Aktiver mod
zen-theme-marketplace-remove-confirmation = Er du sikker på at du vil fjerne denne modden?
zen-theme-marketplace-close-modal = Lukk
zen-theme-marketplace-theme-header-title = 
    .title = CSS-velger: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Ingen
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Skriv noe...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Oppdater installerte mods automatisk ved oppstart
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Bytt til arbeidsområde hvor beholder er satt som standard ved åpning av beholderfaner
zen-theme-marketplace-link = Besøk Butikk
zen-dark-theme-styles-header = Mørkt Tema-stiler
zen-dark-theme-styles-description = Tilpass det mørke temaet til din smak
zen-dark-theme-styles-amoled = Natt-tema
zen-dark-theme-styles-default = Standard Mørkt Tema
zen-dark-theme-styles-colorful = Fargerikt Mørkt Tema
zen-compact-mode-styles-left = Skjul Fanelinjen
zen-compact-mode-styles-top = Skjul Topplinjen
zen-compact-mode-styles-both = Skjul Begge
zen-urlbar-title = Zen nettadresselinje
zen-urlbar-header = Generelle innstillinger for nettadresselinjen
zen-urlbar-description = Tilpass nettadresselinjen til din smak
zen-urlbar-behavior-label = Oppførsel
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Flytende bare ved skriving
zen-urlbar-behavior-float = 
    .label = Alltid flytende
pane-zen-CKS-title = Tastatursnarveier
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Tastatursnarveier
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Tilpass dine tastatursnarveier
zen-settings-CKS-description = Endre standard tastatursnarveier til din smak og forbedre surfeopplevelsen din
zen-settings-CKS-disable-firefox = 
    .label = Deaktiver { -brand-short-name } sine standard tastatursnarveier
zen-settings-CKS-duplicate-shortcut = 
    .label = Dupliser Snarvei
zen-settings-CKS-reset-shortcuts = 
    .label = Tilbakestill til Standard
zenCKSOption-group-other = Andre
zenCKSOption-group-windowAndTabManagement = Vindus- og fanebehandling
zenCKSOption-group-navigation = Navigasjon
zenCKSOption-group-searchAndFind = Søk & Finn
zenCKSOption-group-pageOperations = Side-operasjoner
zenCKSOption-group-historyAndBookmarks = Historikk og Bokmerker
zenCKSOption-group-mediaAndDisplay = Medie & Skjerm
zenCKSOption-group-zen-compact-mode = Kompakt Modus
zenCKSOption-group-zen-workspace = Arbeidsområder
zenCKSOption-group-zen-other = Andre Zen-funksjoner
zenCKSOption-group-zen-split-view = Splittet visning
zenCKSOption-group-devTools = Utviklerverktøy
zen-key-quick-restart = Rask omstart
zen-window-new-shortcut = Nytt vindu
zen-tab-new-shortcut = Ny fane
zen-key-redo = Gjør om
zen-restore-last-closed-tab-shortcut = Gjenopprett sist lukkede fane
zen-location-open-shortcut = Åpne plassering
zen-location-open-shortcut-alt = Åpne plassering (Alt)
zen-key-undo-close-window = Angre lukk vindu
zen-text-action-undo-shortcut = Angre
zen-text-action-redo-shortcut = Gjør om
zen-text-action-cut-shortcut = Klipp ut
zen-text-action-copy-shortcut = Kopier
zen-text-action-copy-url-shortcut = Kopier gjeldende nettadresse
zen-text-action-copy-url-markdown-shortcut = Kopier gjeldende nettadresse som Markdown
zen-text-action-paste-shortcut = Lim inn
zen-text-action-select-all-shortcut = Velg alle
zen-text-action-delete-shortcut = Slett
zen-history-show-all-shortcut-mac = Vis all historikk (Mac)
zen-full-screen-shortcut = Veksle fullskjermmodus
zen-reader-mode-toggle-shortcut-windows = Veksle Lesemodus (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Veksle bilde-i-bilde (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Veksle bilde-i-bilde (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Veksle bilde-i-bilde (Mac Alt)
zen-page-source-shortcut-safari = Vis sidekilde (Safari)
zen-nav-stop-shortcut = Stopp innlasting
zen-history-sidebar-shortcut = Vis historikk-sidepanel
zen-window-minimize-shortcut = Minimer vindu
zen-help-shortcut = Åpne hjelp
zen-preferences-shortcut = Åpne preferanser
zen-hide-app-shortcut = Skjul applikasjon
zen-hide-other-apps-shortcut = Skjul andre applikasjoner
zen-search-focus-shortcut = Fokussøk
zen-search-focus-shortcut-alt = Fokussøk (Alt)
zen-downloads-shortcut = Åpne Nedlastinger
zen-addons-shortcut = Åpne Tillegg
zen-file-open-shortcut = Åpne Filer
zen-save-page-shortcut = Lagre side
zen-print-shortcut = Skriv ut side
zen-close-shortcut-2 = Lukk fane
zen-mute-toggle-shortcut = Veksle demping
zen-key-delete = Slett-tasten
zen-key-go-back = Gå tilbake
zen-key-go-forward = Gå fremover
zen-nav-back-shortcut-alt = Naviger tilbake (Alt)
zen-nav-fwd-shortcut-alt = Naviger fremover (Alt)
zen-history-show-all-shortcut = Vis all historikk
zen-key-enter-full-screen = Gå til fullskjerm
zen-key-exit-full-screen = Avslutt fullskjerm
zen-ai-chatbot-sidebar-shortcut = Veksle KI-chatbot -sidepanel
zen-key-inspector-mac = Veksle inspektør (Mac)
zen-toggle-sidebar-shortcut = Veksle Firefox-sidepanel
zen-toggle-pin-tab-shortcut = Veksle festet fane
zen-reader-mode-toggle-shortcut-other = Veksle Lesemodus
zen-picture-in-picture-toggle-shortcut = Veksle bilde-i-bilde
zen-nav-reload-shortcut-2 = Oppdater side
zen-key-about-processes = Om Prosesser
zen-page-source-shortcut = Se Sidekilde
zen-page-info-shortcut = Se sideinformasjon
zen-find-shortcut = Finn på side
zen-search-find-again-shortcut = Finn igjen
zen-search-find-again-shortcut-prev = Finn forrige
zen-search-find-again-shortcut-2 = Finn igjen (Alt)
zen-bookmark-this-page-shortcut = Bokmerk denne siden
zen-bookmark-show-library-shortcut = Vis Bokmerkebiblioteket
zen-key-stop = Slutt å laste
zen-full-zoom-reduce-shortcut = Zoom ut
zen-full-zoom-enlarge-shortcut = Zoom inn
zen-full-zoom-reset-shortcut = Tilbakestill Zoom
zen-full-zoom-reset-shortcut-alt = Tilbakestill Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom inn (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom inn (Alt 2)
zen-bidi-switch-direction-shortcut = Bytt tekstretning
zen-private-browsing-shortcut = Privat surfing
zen-screenshot-shortcut = Ta skjermbilde
zen-key-sanitize = Tøm surfedata
zen-quit-app-shortcut = Avslutt applikasjon
zen-key-wr-capture-cmd = WR Capture-kommando
zen-key-wr-toggle-capture-sequence-cmd = Veksle WR Capture-sekvens
zen-nav-reload-shortcut = Oppdater side
zen-nav-reload-shortcut-skip-cache = Oppdater side (hopp over mellomlagring)
zen-close-shortcut = Lukk vindu
zen-close-tab-shortcut = Lukk fane
zen-compact-mode-shortcut-show-sidebar = Veksle flytende sidepanel
zen-compact-mode-shortcut-show-toolbar = Veksle flytende verktøylinje
zen-compact-mode-shortcut-toggle = Veksle kompakt modus
zen-glance-expand = Utvid Glance
zen-workspace-shortcut-switch-1 = Bytt til arbeidsområde 1
zen-workspace-shortcut-switch-2 = Bytt til arbeidsområde 2
zen-workspace-shortcut-switch-3 = Bytt til arbeidsområde 3
zen-workspace-shortcut-switch-4 = Bytt til arbeidsområde 4
zen-workspace-shortcut-switch-5 = Bytt til arbeidsområde 5
zen-workspace-shortcut-switch-6 = Bytt til arbeidsområde 6
zen-workspace-shortcut-switch-7 = Bytt til arbeidsområde 7
zen-workspace-shortcut-switch-8 = Bytt til arbeidsområde 8
zen-workspace-shortcut-switch-9 = Bytt til arbeidsområde 9
zen-workspace-shortcut-switch-10 = Bytt til arbeidsområde 10
zen-workspace-shortcut-forward = Fremover arbeidsområde
zen-workspace-shortcut-backward = Bakover arbeidsområde
zen-sidebar-shortcut-toggle = Veksle sidepanelets bredde
zen-pinned-tab-shortcut-reset = Tilbakestill festet fane til festet nettadresse
zen-split-view-shortcut-grid = Veksle splittet visnings-nett
zen-split-view-shortcut-vertical = Veksle splittet visning loddrett
zen-split-view-shortcut-horizontal = Veksle splittet visning vannrett
zen-split-view-shortcut-unsplit = Lokk splittet visning
zen-new-empty-split-view-shortcut = Ny tom splittet visning
zen-key-select-tab-1 = Velg fane #1
zen-key-select-tab-2 = Velg fane #2
zen-key-select-tab-3 = Velg fane #3
zen-key-select-tab-4 = Velg fane #4
zen-key-select-tab-5 = Velg fane #5
zen-key-select-tab-6 = Velg fane #6
zen-key-select-tab-7 = Velg fane #7
zen-key-select-tab-8 = Velg fane #8
zen-key-select-tab-last = Velg siste fane
zen-key-show-all-tabs = Vis alle faner
zen-key-goto-history = Gå til historikk
zen-key-go-home = Gå til startsiden
zen-bookmark-show-sidebar-shortcut = Vis bokmerke-sidepanelet
zen-bookmark-show-toolbar-shortcut = Vis bokmerke-verktøylinjen
zen-devtools-toggle-shortcut = Veksle Utviklerverktøy
zen-devtools-toggle-browser-toolbox-shortcut = Veksle Nettleser-verktøykasse
zen-devtools-toggle-browser-console-shortcut = Veksle Nettleserkonsollen
zen-devtools-toggle-responsive-design-mode-shortcut = Veksle Responsivt Design Modus
zen-devtools-toggle-inspector-shortcut = Veksle Inspektøren
zen-devtools-toggle-web-console-shortcut = Veksle Nettkonsollen
zen-devtools-toggle-js-debugger-shortcut = Veksle JavaScript-Feilsøkingsprogram
zen-devtools-toggle-net-monitor-shortcut = Veksle Nettverksmonitor
zen-devtools-toggle-style-editor-shortcut = Veksle Stil-Editoren
zen-devtools-toggle-performance-shortcut = Veksle Ytelse
zen-devtools-toggle-storage-shortcut = Veksle Lagring
zen-devtools-toggle-dom-shortcut = Veksle DOM
zen-devtools-toggle-accessibility-shortcut = Veksle Tilgjengelighet
zen-close-all-unpinned-tabs-shortcut = Lukk alle ufestede faner
zen-new-unsynced-window-shortcut = Nytt usynkronisert vindu



================================================
FILE: locales/nl/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = { $folder-name } zoeken...
zen-folders-panel-rename-folder = 
    .label = Map hernoemen
zen-folders-panel-unpack-folder = 
    .label = Map uitpakken
zen-folders-new-subfolder = 
    .label = Nieuwe submap
zen-folders-panel-delete-folder = 
    .label = Map verwijderen
zen-folders-panel-convert-folder-to-space = 
    .label = Map omzetten naar ruimte
zen-folders-panel-change-folder-space = 
    .label = Wijzig ruimte...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Actieven ontladen in deze map
zen-folders-unload-folder = 
    .label = Alle tabbladen ontladen
zen-folders-search-no-results = Geen tabbladen die overeenkomen met die zoekopdracht 🤔



================================================
FILE: locales/nl/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = huidig profiel
unified-extensions-description = Extensies worden gebruikt om extra functionaliteit toe te voegen aan { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Vastgezette tabblad resetten
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Verwijderen uit Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Vastgezette URL vervangen met huidige
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Je { -brand-short-name } mods bestand is beschadigd. Ze zijn gereset naar het standaard thema.
zen-shortcuts-corrupted = Je { -brand-short-name } snelkoppelingsbestand is beschadigd. Ze zijn gereset naar de standaard snelkoppelingen.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    De nieuwe URL-balk is ingeschakeld, waardoor nieuwe tabbladen niet meer nodig zijn.<br/><br/>
    Probeer een nieuw tabblad te openen om de nieuwe URL-balk in actie te zien!
zen-disable = Uitschakelen
pictureinpicture-minimize-btn = 
    .aria-label = Minimaliseren
    .tooltip = Minimaliseren
zen-panel-ui-gradient-generator-custom-color = Aangepaste kleur
zen-copy-current-url-confirmation = Huidige URL gekopieerd!
zen-general-cancel-label = 
    .label = Annuleren
zen-general-confirm = 
    .label = Bevestigen
zen-pinned-tab-replaced = Vastgemaakte tabblad URL is vervangen met de huidige URL!
zen-tabs-renamed = Tabblad is succesvol hernoemd!
zen-background-tab-opened-toast = Nieuw achtergrondtabblad geopend!
zen-workspace-renamed-toast = Werkruimte succesvol is hernoemd!
zen-toggle-compact-mode-button = 
    .label = Compacte modus
    .tooltiptext = Compacte modus togglen

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Meer leren
zen-close-label = Sluiten
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Zoeken…
zen-icons-picker-emoji = 
    .label = Emoji's
zen-icons-picker-svg = 
    .label = Iconen
urlbar-search-mode-zen_actions = Acties
zen-site-data-settings = Instellingen
zen-generic-manage = Beheren
zen-generic-more = Meer
zen-generic-next = Volgende
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Toegestaan
zen-site-data-setting-block = Geblokkeerd
zen-site-data-protections-enabled = Ingeschakeld
zen-site-data-protections-disabled = Uitgeschakeld
zen-site-data-setting-cross-site = Cross-site cookie
zen-site-data-security-info-extension = 
    .label = Extensie
zen-site-data-security-info-secure = 
    .label = Beveiligd
zen-site-data-security-info-not-secure = 
    .label = Niet beveiligd
zen-site-data-manage-addons = 
    .label = Extensies beheren
zen-site-data-get-addons = 
    .label = Extensies toevoegen
zen-site-data-site-settings = 
    .label = Alle site-instellingen
zen-site-data-header-share = 
    .tooltiptext = Deze pagina delen
zen-site-data-header-reader-mode = 
    .tooltiptext = Leesmodus openen
zen-site-data-header-screenshot = 
    .tooltiptext = Maak een schermafbeelding
zen-site-data-header-bookmark = 
    .tooltiptext = Bladwijzer toevoegen voor deze pagina
zen-urlbar-copy-url-button = 
    .tooltiptext = URL kopiëren
zen-site-data-setting-site-protection = Tracking bescherming

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Een nieuw thuis voor add-ons, machtigingen en meer
zen-site-data-panel-feature-callout-subtitle = Klik op het icoon om de site-instellingen te beheren, beveiligingsinfo te bekijken, extensies te openen en gemeenschappelijke acties uit te voeren.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/nl/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/nl/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Splits tabblad (meerdere geselecteerde tabbladen vereist)
           *[other] Splits { $tabCount } tabbladen
        }
    .accesskey = S
zen-split-link = 
    .label = Link splitsen naar nieuw tabblad
    .accesskey = S
zen-split-view-modifier-header = Gesplitste weergave
zen-split-view-modifier-activate-reallocation = 
    .label = Herverdeling activeren
zen-split-view-modifier-enabled-toast = Gesplitste weergave herschikken staat AAN.
zen-split-view-modifier-enabled-toast-description = Sleep de tabbladen om de weergave te herschikken. Druk op Esc om af te sluiten.
zen-split-view-modifier-disabled-toast = Geplitste weergave herschikken staat UIT.



================================================
FILE: locales/nl/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabbladen aan de rechterkant
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Compacte modus
zen-toolbar-context-compact-mode-enable = 
    .label = Compacte modus inschakelen
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Zijbalk verbergen
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Werkbalk verbergen
zen-toolbar-context-compact-mode-hide-both = 
    .label = Beide verbergen
    .accesskey = U
zen-toolbar-context-new-folder = 
    .label = Nieuwe map
    .accesskey = N
sidebar-zen-expand = 
    .label = Zijbalk uitklappen
sidebar-zen-create-new = 
    .label = Nieuwe aanmaken...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Tabblad ontladen en naartoe schakelen
           *[other] { $tabCount } tabbladen ontladen en naar eerste schakelen
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Tabblad resetten en vastmaken
           *[other] { $tabCount } tabbladen resetten en vastmaken
        }
tab-reset-pin-label = Terug naar vastgemaakte URL



================================================
FILE: locales/nl/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Geluid webpaneel uitzetten
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Webpaneel dempen ongedaan maken
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Mobiele UserAgent uitschakelen
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Mobiele website inschakelen
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Webpaneel ontladen
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Webpaneel verwijderen
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Openen in nieuw tabblad
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Openen in container tabblad
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Toevoegen aan Webpanelen
    .accesskey = A
zen-webpanel-introduction-title = Welkom bij Zen Webpanelen
zen-webpanel-introduction-description = Webpanelen zijn een manier om uw favoriete websites binnen handbereik te houden.



================================================
FILE: locales/nl/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Welkom bij
zen-welcome-title-line2 = een rustiger internet
zen-welcome-import-title = Een frisse start, dezelfde bladwijzers
zen-welcome-import-description-1 = Je bladwijzers, geschiedenis en wachtwoorden zijn als een spoor van broodkruimels door het internet - laat ze niet achter!
zen-welcome-import-description-2 = Breng ze eenvoudig over vanuit een andere browser en ga verder waar je was gebleven.
zen-welcome-import-button = Nu importeren
zen-welcome-set-default-browser = { -brand-short-name } instellen als standaardbrowser
zen-welcome-dont-set-default-browser = { -brand-short-name } NIET instellen als standaardbrowser
zen-welcome-initial-essentials-title = Je belangrijkste tabbladen, altijd binnen handbereik
zen-welcome-initial-essentials-description-1 = Houd je belangrijkste tabbladen gemakkelijk toegankelijk en altijd bij de hand, hoeveel je er ook opent.
zen-welcome-initial-essentials-description-2 = Essential tabbladen zijn altijd zichtbaar, ongeacht de werkruimte waarin je je bevindt.
zen-welcome-workspace-colors-title = Jouw werkruimtes, jouw kleuren
zen-welcome-workspace-colors-description = Personaliseer je browser door elke werkruimte zijn eigen unieke kleuridentiteit te geven.
zen-welcome-start-browsing-title =
    Klaar?<br/>
    Laten we beginnen!
zen-welcome-start-browsing-description-1 = Je bent er helemaal klaar voor. Klik op de knop hieronder om te beginnen met browsen met { -brand-short-name }.
zen-welcome-start-browsing = Duik erin!
zen-welcome-default-search-title = Je standaard zoekmachine
zen-welcome-default-search-description = Kies je standaard zoekmachine. Je kunt het altijd later wijzigen!
zen-welcome-skip-button = Overslaan
zen-welcome-finished = Je Zen is correct ingesteld!



================================================
FILE: locales/nl/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Ruimtes
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Ruimte aanmaken
zen-panel-ui-folder-create = 
    .label = Map aanmaken
zen-panel-ui-new-empty-split = 
    .label = Nieuwe splitsing
zen-workspaces-panel-context-delete = 
    .label = Ruimte verwijderen
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Naam wijzigen
zen-workspaces-panel-change-icon = 
    .label = Icoon wijzigen
zen-workspaces-panel-context-default-profile = 
    .label = Profiel instellen
zen-workspaces-panel-unload = 
    .label = Ruimte ontladen
zen-workspaces-how-to-reorder-title = Hoe ruimtes te herschikken
zen-workspaces-how-to-reorder-desc = Sleep het ruimte icoon onderaan de zijbalk om ze te herschikken
zen-workspaces-change-theme = 
    .label = Thema bewerken
zen-workspaces-panel-context-open = 
    .label = Ruimte openen
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Ruimte bewerken
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Aanvullend
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Splitsen
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Vergelijkbaar
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Driezijdig
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Zwevend
zen-panel-ui-gradient-click-to-add = Klik om een kleur toe te voegen
zen-workspace-creation-name = 
    .placeholder = Ruimte naam
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Ruimtes herschikken
zen-workspace-creation-profile = Profiel
    .tooltiptext = Profielen worden gebruikt om cookies en site-gegevens tussen ruimtes te scheiden.
zen-workspace-creation-header = Maak een ruimte
zen-workspace-creation-label = Ruimtes worden gebruikt om je tabbladen en sessies te organiseren.
zen-workspaces-delete-workspace-title = Ruimte verwijderen?
zen-workspaces-delete-workspace-body = Weet je zeker dat je { $name } wilt verwijderen? Deze actie kan niet ongedaan gemaakt worden.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabbladen gesloten! Gebruik <span>{ $shortcut }</span> om ongedaan te maken.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Wissen
    .tooltiptext = Alle niet-vastgezette tabbladen sluiten
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/nl/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Een thema met een donker kleurenschema en een leuke Melkweg-touch!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = Een thema met een licht kleurenschema en een leuke dromerige touch!



================================================
FILE: locales/nl/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Initiële URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Dit webpaneel in mobiele modus weergeven
    .accesskey = m



================================================
FILE: locales/nl/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Uiterlijk en gevoel
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Het veranderen van de standaardtaal kan het makkelijker maken voor websites om je te volgen.
zen-vertical-tabs-layout-header = Browser lay-out
zen-vertical-tabs-layout-description = Kies de lay-out die het beste bij je past
zen-layout-single-toolbar = Enkele werkbalk
zen-layout-multiple-toolbar = Meerdere werkbalken
zen-layout-collapsed-toolbar = Ingeklapte werkbalk
sync-currently-syncing-workspaces = Werkruimtes
sync-engine-workspaces = 
    .label = Werkruimtes
    .tooltiptext = Synchroniseer je werkruimtes tussen apparaten
    .accesskey = W
zen-glance-title = Snel bekijken
zen-glance-header = Algemene instellingen voor snel bekijken
zen-glance-description = Krijg een snel overzicht van je links zonder ze te openen in een nieuw tabblad
zen-glance-trigger-label = Activatie methode
zen-glance-enabled = 
    .label = Snel bekijken inschakelen
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + klik
zen-glance-trigger-alt-click = 
    .label = Alt + klik
zen-glance-trigger-shift-click = 
    .label = Shift + klik
zen-glance-trigger-meta-click = 
    .label = Windows (Command) + klik
zen-look-and-feel-compact-view-header = Weergeven in compacte weergave
zen-look-and-feel-compact-view-description = Alleen de werkbalken weergeven die je gebruikt!
zen-look-and-feel-compact-view-enabled = 
    .label = { -brand-short-name }'s compacte modus inschakelen
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Verberg de bovenste werkbalk ook in compacte modus
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Laat kort de werkbalk zien bij het wisselen of openen van nieuwe tabbladen in compacte modus
pane-zen-tabs-title = Tabblad beheer
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Werkruimtes
zen-tabs-unloader-enabled = 
    .label = Tabblad ontlader inschakelen
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Gebruik thema achtergrond voor compacte werkbalk
zen-workspace-continue-where-left-off = 
    .label = Verdergaan waar je was gebleven
pane-zen-pinned-tab-manager-title = Vastgezette tabbladen
zen-pinned-tab-manager-header = Algemene instellingen voor vastgezette tabbladen
zen-pinned-tab-manager-description = Aanvullend gedrag van vastgezette tabbladen beheren
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Herstel vastgezette tabbladen naar hun oorspronkelijk vastgezette URL bij het opstarten
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Container-specifieke Essentials inschakelen
zen-pinned-tab-manager-close-shortcut-behavior-label = Tabblad sluiten snelkoppeling gedrag
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = URL resetten, ontladen en schakelen naar volgend tabblad
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Ontladen en schakelen naar volgend tabblad
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = URL resetten en schakelen naar volgend tabblad
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Schakelen naar volgend tabblad
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = URL resetten
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Tabblad sluiten
pane-zen-workspaces-header = Werkruimtes
zen-settings-workspaces-header = Algemene instellingen voor werkruimtes
zen-settings-workspaces-description = Met werkruimtes kan je meerdere browsersessies tegelijk hebben!
zen-settings-workspaces-enabled = 
    .label = Werkruimtes inschakelen
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Verberg de standaard container indicator in de tabbladbalk
zen-key-unsaved = Snelkoppeling is niet opgeslagen! Bewaar deze door op de "Escape" knop te drukken na het opnieuw typen.
zen-key-conflict = Conflicten met { $group } -> { $shortcut }
pane-zen-theme-title = Thema instellingen
zen-vertical-tabs-title = Zijbalk en tabbladen lay-out
zen-vertical-tabs-header = Verticale tabbladen
zen-vertical-tabs-description = Beheer je tabbladen in een verticale lay-out
zen-vertical-tabs-show-expand-button = 
    .label = Uitbreiden knop weergeven
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Laat nieuwe tabblad knop zien op de tabbladlijst
zen-vertical-tabs-newtab-top-button-up = 
    .label = Verplaats de nieuwe tabblad knop naar boven
zen-vertical-tabs-expand-tabs-by-default = Tabbladen standaard uitbreiden
zen-vertical-tabs-dont-expand-tabs-by-default = Tabbladen niet standaard uitbreiden
zen-vertical-tabs-expand-tabs-on-hover = Tabbladen uitbreiden bij hoveren (werkt niet in compacte modus)
zen-vertical-tabs-expand-tabs-header = Hoe tabbladen uitbreiden
zen-vertical-tabs-expand-tabs-description = Kies hoe tabbladen in de zijbalk uit te breiden
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Alle mods uitschakelen
zen-theme-disable-all-disabled = 
    .title = Alle mods inschakelen
zen-theme-marketplace-description = Vind en installeer mods uit de winkel.
zen-theme-marketplace-remove-button = 
    .label = Mod verwijderen
zen-theme-marketplace-check-for-updates-button = 
    .label = Controleer op updates
zen-theme-marketplace-import-button = 
    .label = Mods importeren
zen-theme-marketplace-export-button = 
    .label = Mods exporteren
zen-theme-marketplace-import-success = Mods succesvol geïmporteerd
zen-theme-marketplace-import-failure = Fout bij het importeren van mods
zen-theme-marketplace-export-success = Mods succesvol geëxporteerd
zen-theme-marketplace-export-failure = Fout bij het exporteren van mods
zen-theme-marketplace-updates-success = Mods succesvol bijgewerkt
zen-theme-marketplace-updates-failure = Kon geen updates vinden!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Mod uitschakelen
zen-theme-marketplace-toggle-disabled-button = 
    .title = Mod inschakelen
zen-theme-marketplace-remove-confirmation = Weet je zeker dat je deze mod wilt verwijderen?
zen-theme-marketplace-close-modal = Sluiten
zen-theme-marketplace-theme-header-title = 
    .title = CSS-selector: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Geen
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Typ iets…
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Automatisch geïnstalleerde mods updaten bij opstarten
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Schakel over naar de werkruimte waar container als standaard is ingesteld bij het openen van container tabbladen
zen-theme-marketplace-link = Winkel bezoeken
zen-dark-theme-styles-header = Donker thema stijlen
zen-dark-theme-styles-description = Pas het donker thema aan naar jouw voorkeur
zen-dark-theme-styles-amoled = Nacht thema
zen-dark-theme-styles-default = Standaard donker thema
zen-dark-theme-styles-colorful = Kleurrijk donker thema
zen-compact-mode-styles-left = Tabbladbalk verbergen
zen-compact-mode-styles-top = Bovenste balk verbergen
zen-compact-mode-styles-both = Beide verbergen
zen-urlbar-title = Zen URL-balk
zen-urlbar-header = Algemene instellingen voor de URL-balk
zen-urlbar-description = Pas de URL-balk aan naar jouw voorkeur
zen-urlbar-behavior-label = Gedrag
zen-urlbar-behavior-normal = 
    .label = Normaal
zen-urlbar-behavior-floating-on-type = 
    .label = Alleen zweven tijdens typen
zen-urlbar-behavior-float = 
    .label = Altijd zweven
pane-zen-CKS-title = Sneltoetsen
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } sneltoetsen
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Pas je sneltoetsen aan
zen-settings-CKS-description = Verander de standaard sneltoetsen naar wens en verbeter je surfervaring
zen-settings-CKS-disable-firefox = 
    .label = { -brand-short-name } zijn standaard sneltoetsen uitschakelen
zen-settings-CKS-duplicate-shortcut = 
    .label = Sneltoets dupliceren
zen-settings-CKS-reset-shortcuts = 
    .label = Standaardinstellingen herstellen
zenCKSOption-group-other = Overig
zenCKSOption-group-windowAndTabManagement = Venster- & tabbladbeheer
zenCKSOption-group-navigation = Navigatie
zenCKSOption-group-searchAndFind = Zoeken & vinden
zenCKSOption-group-pageOperations = Pagina beheer
zenCKSOption-group-historyAndBookmarks = Geschiedenis & bladwijzers
zenCKSOption-group-mediaAndDisplay = Media & weergave
zenCKSOption-group-zen-compact-mode = Compacte modus
zenCKSOption-group-zen-workspace = Werkruimtes
zenCKSOption-group-zen-other = Andere Zen functies
zenCKSOption-group-zen-split-view = Gesplitste weergave
zenCKSOption-group-devTools = Ontwikkelaarsgereedschap
zen-key-quick-restart = Snelle herstart
zen-window-new-shortcut = Nieuw venster
zen-tab-new-shortcut = Nieuw tabblad
zen-key-redo = Opnieuw uitvoeren
zen-restore-last-closed-tab-shortcut = Herstel laatst gesloten tabblad
zen-location-open-shortcut = Locatie openen
zen-location-open-shortcut-alt = Locatie openen (alternatief)
zen-key-undo-close-window = Venster sluiten ongedaan maken
zen-text-action-undo-shortcut = Ongedaan maken
zen-text-action-redo-shortcut = Opnieuw
zen-text-action-cut-shortcut = Knippen
zen-text-action-copy-shortcut = Kopiëren
zen-text-action-copy-url-shortcut = Huidige URL kopiëren
zen-text-action-copy-url-markdown-shortcut = Huidige URL kopiëren als Markdown
zen-text-action-paste-shortcut = Plakken
zen-text-action-select-all-shortcut = Alles selecteren
zen-text-action-delete-shortcut = Verwijderen
zen-history-show-all-shortcut-mac = Alle geschiedenis weergeven (Mac)
zen-full-screen-shortcut = Volledig scherm togglen
zen-reader-mode-toggle-shortcut-windows = Leesmodus (Windows) togglen
zen-picture-in-picture-toggle-shortcut-alt = Beeld-in-beeld (alternatief) togglen
zen-picture-in-picture-toggle-shortcut-mac = Beeld-in-beeld (Mac) togglen
zen-picture-in-picture-toggle-shortcut-mac-alt = Beeld-in-beeld (Mac alternatief) togglen
zen-page-source-shortcut-safari = Paginabron bekijken (Safari)
zen-nav-stop-shortcut = Laden stoppen
zen-history-sidebar-shortcut = Geschiedenis zijbalk weergeven
zen-window-minimize-shortcut = Venster minimaliseren
zen-help-shortcut = Hulp openen
zen-preferences-shortcut = Voorkeuren openen
zen-hide-app-shortcut = Applicatie verbergen
zen-hide-other-apps-shortcut = Andere toepassingen verbergen
zen-search-focus-shortcut = Focus op zoeken
zen-search-focus-shortcut-alt = Focus op zoeken (alternatief)
zen-downloads-shortcut = Downloads openen
zen-addons-shortcut = Add-ons openen
zen-file-open-shortcut = Bestand openen
zen-save-page-shortcut = Pagina opslaan
zen-print-shortcut = Pagina afdrukken
zen-close-shortcut-2 = Tabblad sluiten
zen-mute-toggle-shortcut = Dempen togglen
zen-key-delete = Sleutel verwijderen
zen-key-go-back = Ga terug
zen-key-go-forward = Ga vooruit
zen-nav-back-shortcut-alt = Navigeer terug (alternatief)
zen-nav-fwd-shortcut-alt = Navigeer vooruit (alternatief)
zen-history-show-all-shortcut = Alle geschiedenis weergeven
zen-key-enter-full-screen = Volledig scherm openen
zen-key-exit-full-screen = Volledig scherm afsluiten
zen-ai-chatbot-sidebar-shortcut = AI-chatbot zijbalk togglen
zen-key-inspector-mac = Inspector (Mac) togglen
zen-toggle-sidebar-shortcut = Firefox zijbalk togglen
zen-toggle-pin-tab-shortcut = Tabblad vastzetten togglen
zen-reader-mode-toggle-shortcut-other = Leesmodus togglen
zen-picture-in-picture-toggle-shortcut = Beeld-in-beeld togglen
zen-nav-reload-shortcut-2 = Pagina opnieuw laden
zen-key-about-processes = Over processen
zen-page-source-shortcut = Paginabron bekijken
zen-page-info-shortcut = Pagina info bekijken
zen-find-shortcut = Vinden op pagina
zen-search-find-again-shortcut = Opnieuw zoeken
zen-search-find-again-shortcut-prev = Vorige vinden
zen-search-find-again-shortcut-2 = Opnieuw zoeken (alternatief)
zen-bookmark-this-page-shortcut = Bladwijzer toevoegen voor deze pagina
zen-bookmark-show-library-shortcut = Bladwijzerbibliotheek weergeven
zen-key-stop = Laden stoppen
zen-full-zoom-reduce-shortcut = Uitzoomen
zen-full-zoom-enlarge-shortcut = Inzoomen
zen-full-zoom-reset-shortcut = Zoom resetten
zen-full-zoom-reset-shortcut-alt = Zoomen resetten (Alt)
zen-full-zoom-enlarge-shortcut-alt = Inzoomen (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Inzoomen (Alt 2)
zen-bidi-switch-direction-shortcut = Tekstrichting omschakelen
zen-private-browsing-shortcut = Privé browsen
zen-screenshot-shortcut = Schermafbeelding maken
zen-key-sanitize = Browsergegevens wissen
zen-quit-app-shortcut = Applicatie afsluiten
zen-key-wr-capture-cmd = WR-opname opdracht
zen-key-wr-toggle-capture-sequence-cmd = WR-opnamereeks togglen
zen-nav-reload-shortcut = Pagina opnieuw laden
zen-nav-reload-shortcut-skip-cache = Pagina opnieuw laden (Cache overslaan)
zen-close-shortcut = Venster sluiten
zen-close-tab-shortcut = Tabblad sluiten
zen-compact-mode-shortcut-show-sidebar = Zwevende zijbalk togglen
zen-compact-mode-shortcut-show-toolbar = Zwevende werkbalk togglen
zen-compact-mode-shortcut-toggle = Compacte modus togglen
zen-glance-expand = Snel bekijken uitbreiden
zen-workspace-shortcut-switch-1 = Schakelen naar werkruimte 1
zen-workspace-shortcut-switch-2 = Schakelen naar werkruimte 2
zen-workspace-shortcut-switch-3 = Schakelen naar werkruimte 3
zen-workspace-shortcut-switch-4 = Schakelen naar werkruimte 4
zen-workspace-shortcut-switch-5 = Schakelen naar werkruimte 5
zen-workspace-shortcut-switch-6 = Schakelen naar werkruimte 6
zen-workspace-shortcut-switch-7 = Schakelen naar werkruimte 7
zen-workspace-shortcut-switch-8 = Schakelen naar werkruimte 8
zen-workspace-shortcut-switch-9 = Schakelen naar werkruimte 9
zen-workspace-shortcut-switch-10 = Schakelen naar werkruimte 10
zen-workspace-shortcut-forward = Volgende werkruimte
zen-workspace-shortcut-backward = Vorige werkruimte
zen-sidebar-shortcut-toggle = Zijbalk breedte togglen
zen-pinned-tab-shortcut-reset = Vastgezette tab resetten naar vastgezette URL
zen-split-view-shortcut-grid = Gesplitste weergave raster togglen
zen-split-view-shortcut-vertical = Gesplitste weergave verticaal togglen
zen-split-view-shortcut-horizontal = Gesplitste weergave horizontaal togglen
zen-split-view-shortcut-unsplit = Gesplitste weergave sluiten
zen-new-empty-split-view-shortcut = Nieuwe lege gesplitste weergave
zen-key-select-tab-1 = Selecteer tabblad #1
zen-key-select-tab-2 = Selecteer tabblad #2
zen-key-select-tab-3 = Selecteer tabblad #3
zen-key-select-tab-4 = Selecteer tabblad #4
zen-key-select-tab-5 = Selecteer tabblad #5
zen-key-select-tab-6 = Selecteer tabblad #6
zen-key-select-tab-7 = Selecteer tabblad #7
zen-key-select-tab-8 = Selecteer tabblad #8
zen-key-select-tab-last = Selecteer laatste tabblad
zen-key-show-all-tabs = Alle tabbladen weergeven
zen-key-goto-history = Ga naar geschiedenis
zen-key-go-home = Ga naar home
zen-bookmark-show-sidebar-shortcut = Bladwijzerzijbalk weergeven
zen-bookmark-show-toolbar-shortcut = Bladwijzerwerkbalk weergeven
zen-devtools-toggle-shortcut = DevTools togglen
zen-devtools-toggle-browser-toolbox-shortcut = Browser gereedschap togglen
zen-devtools-toggle-browser-console-shortcut = Browser console togglen
zen-devtools-toggle-responsive-design-mode-shortcut = Responsive design modus togglen
zen-devtools-toggle-inspector-shortcut = Inspector togglen
zen-devtools-toggle-web-console-shortcut = Web console togglen
zen-devtools-toggle-js-debugger-shortcut = JavaScript debugger togglen
zen-devtools-toggle-net-monitor-shortcut = Netwerk monitor togglen
zen-devtools-toggle-style-editor-shortcut = Stijlbewerker togglen
zen-devtools-toggle-performance-shortcut = Prestaties togglen
zen-devtools-toggle-storage-shortcut = Opslag togglen
zen-devtools-toggle-dom-shortcut = DOM togglen
zen-devtools-toggle-accessibility-shortcut = Toegankelijkheid togglen
zen-close-all-unpinned-tabs-shortcut = Alle niet-vastgezette tabbladen sluiten
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/nn-NO/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/nn-NO/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = current profile
unified-extensions-description = Extensions are used to bring more extra functionality into { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Reset Pinned Tab
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Replace Pinned URL with Current
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Your { -brand-short-name } mods file is corrupted. They have been reset to the default theme.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    The new URL bar has been enabled, removing the need for new tab pages.<br/><br/>
    Try opening a new tab to see the new URL bar in action!
zen-disable = Disable
pictureinpicture-minimize-btn = 
    .aria-label = Minimize
    .tooltip = Minimize
zen-panel-ui-gradient-generator-custom-color = Custom Color
zen-copy-current-url-confirmation = Copied current URL!
zen-general-cancel-label = 
    .label = Cancel
zen-general-confirm = 
    .label = Confirm
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL.
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!
zen-toggle-compact-mode-button = 
    .label = Compact Mode
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Learn More
zen-close-label = Close
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Search...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Icons
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Settings
zen-generic-manage = Manage
zen-generic-more = More
zen-generic-next = Next
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Allowed
zen-site-data-setting-block = Blocked
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Extension
zen-site-data-security-info-secure = 
    .label = Secure
zen-site-data-security-info-not-secure = 
    .label = Not Secure
zen-site-data-manage-addons = 
    .label = Manage Extensions
zen-site-data-get-addons = 
    .label = Add Extensions
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copy URL
zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/nn-NO/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/nn-NO/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Tab (multiple selected tabs needed)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S
zen-split-link = 
    .label = Split link to new tab
    .accesskey = S
zen-split-view-modifier-header = Split View
zen-split-view-modifier-activate-reallocation = 
    .label = Activate reallocation
zen-split-view-modifier-enabled-toast = Split view rearrange is ON.
zen-split-view-modifier-enabled-toast-description = Drag and drop the view to rearrange. Press Esc to exit.
zen-split-view-modifier-disabled-toast = Split view rearrange is OFF.



================================================
FILE: locales/nn-NO/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabs on the right
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Compact mode
zen-toolbar-context-compact-mode-enable = 
    .label = Enable compact mode
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Hide sidebar
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Hide toolbar
zen-toolbar-context-compact-mode-hide-both = 
    .label = Hide both
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = New Folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Expand Sidebar
sidebar-zen-create-new = 
    .label = Create New...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Unload and switch to tab
           *[other] Unload { $tabCount } tabs and switch to the first
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset and pin tab
           *[other] Reset and pin { $tabCount } tabs
        }
tab-reset-pin-label = Back to pinned url



================================================
FILE: locales/nn-NO/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Mute Web Panel
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Unmute Web Panel
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Disable Mobile UserAgent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Enable Mobile UserAgent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Unload Web Panel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Delete Web Panel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Open in New Tab
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Open in Container Tab
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Add to Web Panels
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/nn-NO/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Welcome to
zen-welcome-title-line2 = a calmer internet
zen-welcome-import-title = A Fresh Start, Same Bookmarks
zen-welcome-import-description-1 = Your bookmarks, history, and passwords are like a trail of breadcrumbs through the internet—don’t leave them behind!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off..
zen-welcome-import-button = Import now
zen-welcome-set-default-browser = Set { -brand-short-name } as your default browser
zen-welcome-dont-set-default-browser = DON’T set { -brand-short-name } as your default browser
zen-welcome-initial-essentials-title = Your Key Tabs, Always Within Reach
zen-welcome-initial-essentials-description-1 = Keep your most important tabs easily accessible and always at hand, no matter how many you open.
zen-welcome-initial-essentials-description-2 = Essential tabs are always visible, no matter what workspace you are in.
zen-welcome-workspace-colors-title = Your Workspaces, Your Colors
zen-welcome-workspace-colors-description = Personalize your browser by giving each workspace its own unique color identity.
zen-welcome-start-browsing-title =
    All set?<br/>
    Let’s get rolling!
zen-welcome-start-browsing-description-1 = You’re all set up and ready to go. Click the button below to start browsing with { -brand-short-name }.
zen-welcome-start-browsing = Dive in!
zen-welcome-default-search-title = Your Default Search Engine
zen-welcome-default-search-description = Choose your default search engine. You can always change it later!
zen-welcome-skip-button = Skip
zen-welcome-finished = Your Zen has been set up correctly!



================================================
FILE: locales/nn-NO/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Other Workspaces
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Create Space
zen-panel-ui-folder-create = 
    .label = Create Folder
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = Delete Workspace
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Change Name
zen-workspaces-panel-change-icon = 
    .label = Change Icon
zen-workspaces-panel-context-default-profile = 
    .label = Set Profile
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them
zen-workspaces-change-theme = 
    .label = Edit Theme
zen-workspaces-panel-context-open = 
    .label = Open Workspace
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Edit Workspace
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a color
zen-workspace-creation-name = 
    .placeholder = Space Name
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Reorder Spaces
zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.
zen-workspaces-delete-workspace-title = Delete Workspace?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/nn-NO/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = A theme with a dark color scheme and a nice galaxy touch!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = A theme with a light color scheme and a nice dream-y touch!



================================================
FILE: locales/nn-NO/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Initial URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Display this web panel in mobile mode
    .accesskey = m



================================================
FILE: locales/nn-NO/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Look and Feel
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Changing the default language could make it easier for Websites to track you.
zen-vertical-tabs-layout-header = Browser Layout
zen-vertical-tabs-layout-description = Choose the layout that suits you best
zen-layout-single-toolbar = Single toolbar
zen-layout-multiple-toolbar = Multiple toolbars
zen-layout-collapsed-toolbar = Collapsed toolbar
sync-currently-syncing-workspaces = Other Workspaces
sync-engine-workspaces = 
    .label = Other Workspaces
    .tooltiptext = Sync your workspaces across devices
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = General settings for glance
zen-glance-description = Get a quick overview of your links without opening them in a new tab
zen-glance-trigger-label = Trigger method
zen-glance-enabled = 
    .label = Enable Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + Click
zen-glance-trigger-shift-click = 
    .label = Shift + Click
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = Show in compact view
zen-look-and-feel-compact-view-description = Only show the toolbars you use!
zen-look-and-feel-compact-view-enabled = 
    .label = Enable { -brand-short-name }'s compact mode
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Hide the top toolbar as well in compact mode
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Briefly make the toolbar popup when switching or opening new tabs in compact mode
pane-zen-tabs-title = Tab Management
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Workspaces
zen-tabs-unloader-enabled = 
    .label = Enable Tab Unloader
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Use themed background for compact toolbar
zen-workspace-continue-where-left-off = 
    .label = Continue where you left off
pane-zen-pinned-tab-manager-title = Pinned Tabs
zen-pinned-tab-manager-header = General settings for pinned tabs
zen-pinned-tab-manager-description = Manage additional behavior of pinned tabs
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restore pinned tabs to their originally pinned URL on startup
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Enable container-specific essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Close Tab Shortcut Behavior
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Reset URL, unload and switch to next tab
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Unload and switch to next tab
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Reset URL and switch to next tab
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Switch to next tab
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Reset URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Close tab
pane-zen-workspaces-header = Workspaces
zen-settings-workspaces-header = General settings for workspaces
zen-settings-workspaces-description = With workspaces, you can have multiple browsing sessions at once!
zen-settings-workspaces-enabled = 
    .label = Enable Workspaces
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Hide the default container indicator in the tab bar
zen-key-unsaved = Unsaved shortcut! Please save it by clicking the "Escape" key after retyping it.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = Theme Settings
zen-vertical-tabs-title = Sidebar and tabs layout
zen-vertical-tabs-header = Vertical Tabs
zen-vertical-tabs-description = Manage your tabs in a vertical layout
zen-vertical-tabs-show-expand-button = 
    .label = Show Expand Button
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Show New Tab Button on Tab List
zen-vertical-tabs-newtab-top-button-up = 
    .label = Move the new tab button to the top
zen-vertical-tabs-expand-tabs-by-default = Expand Tabs by Default
zen-vertical-tabs-dont-expand-tabs-by-default = Don't Expand Tabs by Default
zen-vertical-tabs-expand-tabs-on-hover = Expand Tabs on Hover (Won't work on compact mode)
zen-vertical-tabs-expand-tabs-header = How to expand tabs
zen-vertical-tabs-expand-tabs-description = Choose how to expand tabs in the sidebar
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Disable all themes
zen-theme-disable-all-disabled = 
    .title = Enable all themes
zen-theme-marketplace-description = Find and install themes from the store.
zen-theme-marketplace-remove-button = 
    .label = Remove Theme
zen-theme-marketplace-check-for-updates-button = 
    .label = Check for Updates
zen-theme-marketplace-import-button = 
    .label = Import mods
zen-theme-marketplace-export-button = 
    .label = Export Mods
zen-theme-marketplace-import-success = Mods imported successfully
zen-theme-marketplace-import-failure = There was an error importing the mods
zen-theme-marketplace-export-success = Mods exported successfully
zen-theme-marketplace-export-failure = There was an error exporting the mods
zen-theme-marketplace-updates-success = Theme updated successfully
zen-theme-marketplace-updates-failure = Couldn't find any updates!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Disable Theme
zen-theme-marketplace-toggle-disabled-button = 
    .title = Enable Theme
zen-theme-marketplace-remove-confirmation = Are you sure you want to remove this mod?
zen-theme-marketplace-close-modal = Close
zen-theme-marketplace-theme-header-title = 
    .title = CSS Selector: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = None
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Type something...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Automatically update installed mods on startup
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Switch to workspace where container is set as default when opening container tabs
zen-theme-marketplace-link = Visit Store
zen-dark-theme-styles-header = Dark Theme Styles
zen-dark-theme-styles-description = Customize the dark theme to your liking
zen-dark-theme-styles-amoled = Night Theme
zen-dark-theme-styles-default = Default Dark Theme
zen-dark-theme-styles-colorful = Colorful Dark Theme
zen-compact-mode-styles-left = Hide Tab bar
zen-compact-mode-styles-top = Hide Top bar
zen-compact-mode-styles-both = Hide Both
zen-urlbar-title = Zen URL Bar
zen-urlbar-header = General settings for the URL bar
zen-urlbar-description = Customize the URL bar to your liking
zen-urlbar-behavior-label = Behavior
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Floating only when typing
zen-urlbar-behavior-float = 
    .label = Always floating
pane-zen-CKS-title = Keyboard Shortcuts
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Keyboard Shortcuts
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Customize your keyboard shortcuts
zen-settings-CKS-description = Change the default keyboard shortcuts to your liking and improve your browsing experience
zen-settings-CKS-disable-firefox = 
    .label = Disable { -brand-short-name }'s default keyboard shortcuts
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicate Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = Reset to Default
zenCKSOption-group-other = Other
zenCKSOption-group-windowAndTabManagement = Window & Tab Management
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Search & Find
zenCKSOption-group-pageOperations = Page Operations
zenCKSOption-group-historyAndBookmarks = History & Bookmarks
zenCKSOption-group-mediaAndDisplay = Media & Display
zenCKSOption-group-zen-compact-mode = Compact Mode
zenCKSOption-group-zen-workspace = Other Workspaces
zenCKSOption-group-zen-other = Other Zen Features
zenCKSOption-group-zen-split-view = Split View
zenCKSOption-group-devTools = Developer Tools
zen-key-quick-restart = Quick Restart
zen-window-new-shortcut = New Window
zen-tab-new-shortcut = New Tab
zen-key-redo = Redo
zen-restore-last-closed-tab-shortcut = Restore Last Closed Tab
zen-location-open-shortcut = Open Location
zen-location-open-shortcut-alt = Open Location (Alt)
zen-key-undo-close-window = Undo Close Window
zen-text-action-undo-shortcut = Undo
zen-text-action-redo-shortcut = Redo
zen-text-action-cut-shortcut = Cut
zen-text-action-copy-shortcut = Copy
zen-text-action-copy-url-shortcut = Copy current URL
zen-text-action-copy-url-markdown-shortcut = Copy current URL as Markdown
zen-text-action-paste-shortcut = Paste
zen-text-action-select-all-shortcut = Select All
zen-text-action-delete-shortcut = Delete
zen-history-show-all-shortcut-mac = Show All History (Mac)
zen-full-screen-shortcut = Toggle Full Screen
zen-reader-mode-toggle-shortcut-windows = Toggle Reader Mode (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Toggle Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Toggle Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Toggle Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = View Page Source (Safari)
zen-nav-stop-shortcut = Stop Loading
zen-history-sidebar-shortcut = Show History Sidebar
zen-window-minimize-shortcut = Minimize Window
zen-help-shortcut = Open Help
zen-preferences-shortcut = Open Preferences
zen-hide-app-shortcut = Hide Application
zen-hide-other-apps-shortcut = Hide Other Applications
zen-search-focus-shortcut = Focus Search
zen-search-focus-shortcut-alt = Focus Search (Alt)
zen-downloads-shortcut = Open Downloads
zen-addons-shortcut = Open Add-ons
zen-file-open-shortcut = Open File
zen-save-page-shortcut = Save Page
zen-print-shortcut = Print Page
zen-close-shortcut-2 = Close Tab
zen-mute-toggle-shortcut = Toggle Mute
zen-key-delete = Delete Key
zen-key-go-back = Go Back
zen-key-go-forward = Go Forward
zen-nav-back-shortcut-alt = Navigate Back (Alt)
zen-nav-fwd-shortcut-alt = Navigate Forward (Alt)
zen-history-show-all-shortcut = Show All History
zen-key-enter-full-screen = Enter Full Screen
zen-key-exit-full-screen = Exit Full Screen
zen-ai-chatbot-sidebar-shortcut = Toggle AI Chatbot Sidebar
zen-key-inspector-mac = Toggle Inspector (Mac)
zen-toggle-sidebar-shortcut = Toggle Firefox Sidebar
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = Toggle Reader Mode
zen-picture-in-picture-toggle-shortcut = Toggle Picture-in-Picture
zen-nav-reload-shortcut-2 = Reload Page
zen-key-about-processes = About Processes
zen-page-source-shortcut = View Page Source
zen-page-info-shortcut = View Page Info
zen-find-shortcut = Find on Page
zen-search-find-again-shortcut = Find Again
zen-search-find-again-shortcut-prev = Find Previous
zen-search-find-again-shortcut-2 = Find Again (Alt)
zen-bookmark-this-page-shortcut = Bookmark This Page
zen-bookmark-show-library-shortcut = Show Bookmarks Library
zen-key-stop = Stop Loading
zen-full-zoom-reduce-shortcut = Zoom Out
zen-full-zoom-enlarge-shortcut = Zoom In
zen-full-zoom-reset-shortcut = Reset Zoom
zen-full-zoom-reset-shortcut-alt = Reset Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom In (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom In (Alt 2)
zen-bidi-switch-direction-shortcut = Switch Text Direction
zen-private-browsing-shortcut = Private Browsing
zen-screenshot-shortcut = Take Screenshot
zen-key-sanitize = Clear Browsing Data
zen-quit-app-shortcut = Quit Application
zen-key-wr-capture-cmd = WR Capture Command
zen-key-wr-toggle-capture-sequence-cmd = Toggle WR Capture Sequence
zen-nav-reload-shortcut = Reload Page
zen-nav-reload-shortcut-skip-cache = Reload Page (Skip Cache)
zen-close-shortcut = Close Window
zen-close-tab-shortcut = Close Tab
zen-compact-mode-shortcut-show-sidebar = Toggle Floating Sidebar
zen-compact-mode-shortcut-show-toolbar = Toggle Floating Toolbar
zen-compact-mode-shortcut-toggle = Toggle Compact Mode
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = Switch to Workspace 1
zen-workspace-shortcut-switch-2 = Switch to Workspace 2
zen-workspace-shortcut-switch-3 = Switch to Workspace 3
zen-workspace-shortcut-switch-4 = Switch to Workspace 4
zen-workspace-shortcut-switch-5 = Switch to Workspace 5
zen-workspace-shortcut-switch-6 = Switch to Workspace 6
zen-workspace-shortcut-switch-7 = Switch to Workspace 7
zen-workspace-shortcut-switch-8 = Switch to Workspace 8
zen-workspace-shortcut-switch-9 = Switch to Workspace 9
zen-workspace-shortcut-switch-10 = Switch to Workspace 10
zen-workspace-shortcut-forward = Forward Workspace
zen-workspace-shortcut-backward = Backward Workspace
zen-sidebar-shortcut-toggle = Toggle Sidebar's Width
zen-pinned-tab-shortcut-reset = Reset Pinned Tab to Pinned URL
zen-split-view-shortcut-grid = Toggle Split View Grid
zen-split-view-shortcut-vertical = Toggle Split View Vertical
zen-split-view-shortcut-horizontal = Toggle Split View Horizontal
zen-split-view-shortcut-unsplit = Close Split View
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Select tab #1
zen-key-select-tab-2 = Select tab #2
zen-key-select-tab-3 = Select tab #3
zen-key-select-tab-4 = Select tab #4
zen-key-select-tab-5 = Select tab #5
zen-key-select-tab-6 = Select tab #6
zen-key-select-tab-7 = Select tab #7
zen-key-select-tab-8 = Select tab #8
zen-key-select-tab-last = Select last tab
zen-key-show-all-tabs = Show all tabs
zen-key-goto-history = Go to history
zen-key-go-home = Go Home
zen-bookmark-show-sidebar-shortcut = Show Bookmarks Sidebar
zen-bookmark-show-toolbar-shortcut = Show Bookmarks Toolbar
zen-devtools-toggle-shortcut = Toggle DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Toggle Browser Toolbox
zen-devtools-toggle-browser-console-shortcut = Toggle Browser Console
zen-devtools-toggle-responsive-design-mode-shortcut = Toggle Responsive Design Mode
zen-devtools-toggle-inspector-shortcut = Toggle Inspector
zen-devtools-toggle-web-console-shortcut = Toggle Web Console
zen-devtools-toggle-js-debugger-shortcut = Toggle JavaScript Debugger
zen-devtools-toggle-net-monitor-shortcut = Toggle Network Monitor
zen-devtools-toggle-style-editor-shortcut = Toggle Style Editor
zen-devtools-toggle-performance-shortcut = Toggle Performance
zen-devtools-toggle-storage-shortcut = Toggle Storage
zen-devtools-toggle-dom-shortcut = Toggle DOM
zen-devtools-toggle-accessibility-shortcut = Toggle Accessibility
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/pl/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Wyszukaj { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Zmień nazwę folderu
zen-folders-panel-unpack-folder = 
    .label = Rozpakuj folder
zen-folders-new-subfolder = 
    .label = Nowy folder
zen-folders-panel-delete-folder = 
    .label = Usuń folder
zen-folders-panel-convert-folder-to-space = 
    .label = Konwertuj folder na przestrzeń
zen-folders-panel-change-folder-space = 
    .label = Zmień nazwę przestrzeni...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Wyładuj aktywne w tym folderze
zen-folders-unload-folder = 
    .label = Wyładuj wszystkie karty
zen-folders-search-no-results = Brak kart pasujących do wyszukiwania 🤔



================================================
FILE: locales/pl/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = Aktualny profil
unified-extensions-description = Rozszerzenia są używane do dodatkowej funkcjonalności { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Resetuj przypiętą kartę
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Dodaj do niezbędnych
    .accesskey = E
tab-context-zen-add-essential-badge = Wypełnione pola { $num } / { $max }
tab-context-zen-remove-essential = 
    .label = Usuń z Niezbędnych
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Zastąp przypięty adres URL aktualnym
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Zmień nazwę...
tab-context-zen-edit-icon = 
    .label = Zmień ikonę...
zen-themes-corrupted = Twój plik modyfikacji { -brand-short-name } jest uszkodzony. Zostały one zresetowane do domyślnego stanu.
zen-shortcuts-corrupted = Twój plik skrótów { -brand-short-name } jest popsuty. Skróty zostały zresetowane do domyślnych.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Nowy pasek adresu został aktywowany, strona nowej karty nie jest już potrzebna.<br/><br/>
    Wypróbuj nowy pasek URL otwierając nową kartę!
zen-disable = Deaktywuj
pictureinpicture-minimize-btn = 
    .aria-label = Zminimalizuj
    .tooltip = Zminimalizuj
zen-panel-ui-gradient-generator-custom-color = Niestandardowy kolor
zen-copy-current-url-confirmation = Skopiowano bieżący URL
zen-general-cancel-label = 
    .label = Anuluj
zen-general-confirm = 
    .label = Potwierdź
zen-pinned-tab-replaced = URL przypiętej karty został zastąpiony bieżącym adresem!
zen-tabs-renamed = Nazwa karty została z powodzeniem zmieniona!
zen-background-tab-opened-toast = Nowa karta została otworzona w tle!
zen-workspace-renamed-toast = Zmieniono nazwę Przestrzeni roboczej!
zen-toggle-compact-mode-button = 
    .label = Tryb kompaktowy
    .tooltiptext = Przełącz tryb kompaktowy

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Dowiedz się więcej
zen-close-label = Zamknij
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Szukaj...
zen-icons-picker-emoji = 
    .label = Emotikony
zen-icons-picker-svg = 
    .label = Ikony
urlbar-search-mode-zen_actions = Akcje
zen-site-data-settings = Ustawienia
zen-generic-manage = Zarządzaj
zen-generic-more = Więcej
zen-generic-next = Następne
zen-essentials-promo-label = Dodaj do kluczowych kart
zen-essentials-promo-sublabel = Utrzymuj swoje ulubione karty w zasięgu myszki
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Dozwolone
zen-site-data-setting-block = Zablokowane
zen-site-data-protections-enabled = Włączone
zen-site-data-protections-disabled = Wyłączone
zen-site-data-setting-cross-site = Ciasteczka międzydomenowe
zen-site-data-security-info-extension = 
    .label = Rozszerzenie
zen-site-data-security-info-secure = 
    .label = Zabezpieczone
zen-site-data-security-info-not-secure = 
    .label = Nie zabezpieczone
zen-site-data-manage-addons = 
    .label = Zarządzaj rozszerzeniami
zen-site-data-get-addons = 
    .label = Dodaj rozszerzenia
zen-site-data-site-settings = 
    .label = Wszystkie ustawienia strony
zen-site-data-header-share = 
    .tooltiptext = Udostępnij tę stronę
zen-site-data-header-reader-mode = 
    .tooltiptext = Wejdź do trybu czytnika
zen-site-data-header-screenshot = 
    .tooltiptext = Zrzut ekranu
zen-site-data-header-bookmark = 
    .tooltiptext = Dodaj tę stronę do zakładek
zen-urlbar-copy-url-button = 
    .tooltiptext = Kopiuj URL
zen-site-data-setting-site-protection = Ochrona przed śledzeniem

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Nowy dom dla dodatków, uprawnień i więcej
zen-site-data-panel-feature-callout-subtitle = Kliknij ikonę, aby zarządzać ustawieniami witryny, wyświetlić informacje o zabezpieczeniach, rozszerzeniach i wykonać akcje.
zen-open-link-in-glance = 
    .label = Otwórz link w szybkim podglądzie
    .accesskey = G
zen-sidebar-notification-updated-heading = Aktualizacja ukończona!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Co nowego w { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Zobacz informacje o aktualizacji
zen-sidebar-notification-restart-safe-mode-label = Coś się zepsuło?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Zrestartuj w trybie bezpiecznym
zen-window-sync-migration-dialog-title = Utrzymuj synchronizację okien
zen-window-sync-migration-dialog-message = Zen synchronizuje okna na jednym urządzeniu, żeby zmiany w jednym oknie były natychmiast odzwierciedlone w pozostałych.
zen-window-sync-migration-dialog-learn-more = Dowiedz się więcej
zen-window-sync-migration-dialog-accept = Rozumiem



================================================
FILE: locales/pl/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Pokaż przypięte karty
           *[false] Ukryj przypięte karty
        }
zen-menubar-appearance = 
    .label = Wygląd
zen-menubar-appearance-description = 
    .label = Motyw stron internetowych:
zen-menubar-appearance-auto = 
    .label = Automatyczny
zen-menubar-appearance-light = 
    .label = Jasny
zen-menubar-appearance-dark = 
    .label = Ciemny
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/pl/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Podziel zakładkę (potrzeba wielu wybranych kart)
           *[other] Zakładki do podzielenia: { $tabCount }
        }
    .accesskey = Pr
zen-split-link = 
    .label = Podziel link na nową kartę
    .accesskey = S
zen-split-view-modifier-header = Podziel widok
zen-split-view-modifier-activate-reallocation = 
    .label = Aktywuj realokację
zen-split-view-modifier-enabled-toast = Podziel kolejność widoku jest włączona.
zen-split-view-modifier-enabled-toast-description = Przeciągnij i upuść widok, aby zmienić kolejność. Naciśnij Esc, aby wyjść.
zen-split-view-modifier-disabled-toast = Rearanżacja widoku dzielonego jest wyłączona.



================================================
FILE: locales/pl/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Zakładki po prawej
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Tryb kompaktowy
zen-toolbar-context-compact-mode-enable = 
    .label = Włącz tryb kompaktowy
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Ukryj panel boczny
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Ukryj pasek narzędzi
zen-toolbar-context-compact-mode-hide-both = 
    .label = Ukryj oba
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Nowy folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Rozwiń panel boczny
sidebar-zen-create-new = 
    .label = Utwórz nową...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Dezaktywuj i przełącz na kartę
           *[other] Dezaktywuj { $tabCount } kart(y) i przełącz na pierwszą
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Zresetuj i przypnij kartę
           *[other] Zresetuj i przypnij karty w liczbie: { $tabCount }
        }
tab-reset-pin-label = Wróć do przypiętego adresu



================================================
FILE: locales/pl/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Wycisz panel www
    .accesskey = Pr
zen-web-side-panel-context-unmute-panel = 
    .label = Wyłącz wyciszenie panelu
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Wyłącz mobilny UserAgent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Włącz mobilny UserAgent
    .accesskey = Pr
zen-web-side-panel-context-unload = 
    .label = Rozładuj Panel internetowy
    .accesskey = Pr
zen-web-side-panel-context-delete = 
    .label = Usuń panel www
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Otwórz w nowej karcie
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Otwórz w zakładce Kontener
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Dodaj do Paneli Web
    .accesskey = Pr
zen-webpanel-introduction-title = Witaj w panelach internetowych Zen
zen-webpanel-introduction-description = Panele internetowe to sposób na zachowanie ulubionych stron na wyciągnięcie ręki.



================================================
FILE: locales/pl/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Witaj w
zen-welcome-title-line2 = spokojniejszym internecie
zen-welcome-import-title = Świeży start, te same zakładki
zen-welcome-import-description-1 = Twoje zakładki, historia i zakładki są jak okruszki wiodące przez sieć - nie zostawiaj ich za sobą.
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off..
zen-welcome-import-button = Zaimportuj teraz
zen-welcome-set-default-browser = Ustaw { -brand-short-name } jako swoją domyślną przeglądarkę
zen-welcome-dont-set-default-browser = NIE ustawiaj { -brand-short-name } jako swoja domyślna przeglądarka
zen-welcome-initial-essentials-title = Twoje kluczowe karty, zawsze w zasięgu
zen-welcome-initial-essentials-description-1 = Utrzymuj swoje najważniejsze karty zawsze pod ręką, niezależnie od tego, jak wiele masz ich otwartych.
zen-welcome-initial-essentials-description-2 = Kluczowe karty są zawsze widoczne, niezależnie od bieżącego obszaru roboczego.
zen-welcome-workspace-colors-title = Twój obszar roboczy, Twoje kolory
zen-welcome-workspace-colors-description = Spersonalizuj przeglądarkę, nadając każdemu obszarowi roboczemu unikatową identyfikację kolorystyczną.
zen-welcome-start-browsing-title =
    Wszystko gotowe?<br/>
    No to śmigamy!
zen-welcome-start-browsing-description-1 = Wszystko gotowe, możesz zaczynać. Kliknij przycisk poniżej, aby zacząć przeglądanie z { -brand-short-name }.
zen-welcome-start-browsing = Wskakuj!
zen-welcome-default-search-title = Twój domyślny silnik wyszukiwania
zen-welcome-default-search-description = Wybierz swój domyślny silnik wyszukiwania. Możesz to zmienić w przyszłości!
zen-welcome-skip-button = Pomiń
zen-welcome-finished = Twoja przeglądarka Zen została prawidłowo przygotowana!



================================================
FILE: locales/pl/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Obszary robocze
zen-panel-ui-spaces-label = 
    .label = Obszary robocze
zen-panel-ui-workspaces-create = 
    .label = Utwórz Przestrzeń
zen-panel-ui-folder-create = 
    .label = Utwórz folder
zen-panel-ui-new-empty-split = 
    .label = Nowy podział
zen-workspaces-panel-context-delete = 
    .label = Usuń obszar roboczy
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Zmień nazwę
zen-workspaces-panel-change-icon = 
    .label = Zmień ikonę
zen-workspaces-panel-context-default-profile = 
    .label = Ustaw profil
zen-workspaces-panel-unload = 
    .label = Wyładuj przestrzeń
zen-workspaces-how-to-reorder-title = Jak przesuwać Przestrzenie
zen-workspaces-how-to-reorder-desc = Przesuwaj ikony Przestrzeni na dole paska, żeby je przeorganizować
zen-workspaces-change-theme = 
    .label = Edytuj motyw
zen-workspaces-panel-context-open = 
    .label = Otwórz obszar roboczy
    .accesskey = Pr
zen-workspaces-panel-context-edit = 
    .label = Edytuj obszar roboczy
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Obszary robocze
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Uzupełniający
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Podzielony
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogiczny
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadyczny
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Pływający
zen-panel-ui-gradient-click-to-add = Kliknij, aby dodać kolor
zen-workspace-creation-name = 
    .placeholder = Nazwa Przestrzeni
zen-move-tab-to-workspace-button = 
    .label = Przenieś do...
    .tooltiptext = Przenieś wszystkie karty z tego okna to obszaru roboczego
zen-workspaces-panel-context-reorder = 
    .label = Reorganizuj Przestrzenie
zen-workspace-creation-profile = Profil
    .tooltiptext = Profile są wykorzystywane do oddzielenia ciasteczek i danych stron pomiędzy Przestrzeniami.
zen-workspace-creation-header = Utwórz Przestrzeń
zen-workspace-creation-label = Przestrzenie są wykorzystywane do zorganizowania kart i sesji.
zen-workspaces-delete-workspace-title = Usunąć Przestrzeń roboczą?
zen-workspaces-delete-workspace-body = Czy na pewno chcesz usunąć { $name }? Tej czynności nie można cofnąć.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Zamknięto karty! Użyj <span>{ $shortcut }</span> aby przywrócić.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Wyczyść
    .tooltiptext = Zamknij wszystkie nieprzypięte karty
zen-panel-ui-workspaces-change-forward = 
    .label = Następny obszar roboczy
zen-panel-ui-workspaces-change-back = 
    .label = Poprzedni obszar roboczy



================================================
FILE: locales/pl/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Motyw z ciemnym kolorem i ładnym dotykiem galaktycznym!
extension-firefox-compact-dream-name = Marzenie Zen
extension-firefox-compact-dream-description = Motyw z jasnym schematem kolorów i ładnym snem!



================================================
FILE: locales/pl/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Początkowy URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Wyświetl ten panel w trybie mobilnym
    .accesskey = m



================================================
FILE: locales/pl/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Wygląd i działanie
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Zmiana domyślnego języka może ułatwić śledzenie stron internetowych.
zen-vertical-tabs-layout-header = Wygląd przeglądarki
zen-vertical-tabs-layout-description = Wybierz wygląd, który pasuje Ci najbardziej
zen-layout-single-toolbar = Pojedynczy pasek narzędzi
zen-layout-multiple-toolbar = Wiele pasków narzędzi
zen-layout-collapsed-toolbar = Zwinięty pasek narzędzi
sync-currently-syncing-workspaces = Obszary robocze
sync-engine-workspaces = 
    .label = Obszary robocze
    .tooltiptext = Synchronizuj swoje obszary robocze pomiędzy urządzeniami
    .accesskey = Pr
zen-glance-title = Szybki podgląd
zen-glance-header = Ogólne ustawienia dla Szybkiego podglądu
zen-glance-description = Uzyskaj szybki przegląd swoich linków bez otwierania ich w nowej karcie
zen-glance-trigger-label = Metoda wyzwalania
zen-glance-enabled = 
    .label = Odblokuj Szybki podgląd
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + kliknięcie
zen-glance-trigger-alt-click = 
    .label = Alt + kliknięcie
zen-glance-trigger-shift-click = 
    .label = Shift + kliknięcie
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + kliknięcie
zen-look-and-feel-compact-view-header = Pokaż w widoku kompaktowym
zen-look-and-feel-compact-view-description = Pokaż tylko paski narzędzi, których używasz!
zen-look-and-feel-compact-view-enabled = 
    .label = Włącz tryb kompaktowy { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Ukryj również górny pasek narzędzi w trybie kompaktowym
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Krótkie zrób wyskakujące okno paska narzędzi podczas przełączania lub otwierania nowych kart w trybie kompaktowym
pane-zen-tabs-title = Zarządzanie kartami
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Obszary robocze
zen-tabs-unloader-enabled = 
    .label = Włącz rozładowywanie kart
zen-tabs-close-on-back-with-no-history = 
    .label = Zamknij kartę i zmień do karty głównej (lub ostatnio użytej karty) podczas cofania bez historii
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab przełącza tylko między kartami Niezbędnymi lub Obszarami roboczymi
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignoruj oczekujące karty podczas przełączania między kartami z Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab będzie przełączał karty według ostatnio używanej kolejności, ponieważ jest włączona
zen-look-and-feel-compact-toolbar-themed = 
    .label = Użyj tła motywu dla kompaktowego paska narzędzi
zen-workspace-continue-where-left-off = 
    .label = Kontynuuj od miejsca, w którym zakończyłęś/aś
pane-zen-pinned-tab-manager-title = Przypięte karty
zen-pinned-tab-manager-header = Ogólne ustawienia przypiętych kart
zen-pinned-tab-manager-description = Zarządzaj dodatkowym zachowaniem przypiętych kart
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Przywróć przypięte karty do pierwotnie przypiętego adresu URL przy starcie
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Odblokuj Niezbędne ograniczone do kontenerów
zen-pinned-tab-manager-close-shortcut-behavior-label = Zamknij ustawienia zachowania skrótu karty
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Zresetuj URL, rozładuj i przełącz na następną kartę
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Zresetuj URL i zmień do następnej karty
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Zresetuj adres URL i przełącz na następną kartę
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Przełącz na następną kartę
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Zresetuj adres URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Zamknij kartę
pane-zen-workspaces-header = Obszary robocze
zen-settings-workspaces-header = Ogólne ustawienia dla projektu
zen-settings-workspaces-description = Z projektami możesz mieć wiele sesji przeglądania na raz!
zen-settings-workspaces-enabled = 
    .label = Włącz obszary robocze (Eksperymentalne)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Ukryj domyślny wskaźnik kontenera na pasku kart
zen-key-unsaved = Niezapisany skrót! Proszę zabezpieczyć go klikając przycisk "Escape" po ponownym wpisaniu.
zen-key-conflict = Konflikty z { $group } -> { $shortcut }
pane-zen-theme-title = Ustawienia Motywu
zen-vertical-tabs-title = Pasek boczny i układ kart
zen-vertical-tabs-header = Pionowe karty
zen-vertical-tabs-description = Zarządzaj zakładkami w pionowym układzie
zen-vertical-tabs-show-expand-button = 
    .label = Pokaż przycisk Rozwiń
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Pokaż przycisk nowej karty na liście zakładek
zen-vertical-tabs-newtab-top-button-up = 
    .label = Przenieś przycisk nowej karty na górę
zen-vertical-tabs-expand-tabs-by-default = Rozwiń zakładki domyślnie
zen-vertical-tabs-dont-expand-tabs-by-default = Nie rozwijaj domyślnie kart
zen-vertical-tabs-expand-tabs-on-hover = Rozwiń karty na poduszce (nie działa w trybie kompaktowym)
zen-vertical-tabs-expand-tabs-header = Jak rozwinąć karty
zen-vertical-tabs-expand-tabs-description = Wybierz jak rozwinąć karty na pasku bocznym
zen-theme-marketplace-header = Modyfikacje Zen
zen-theme-disable-all-enabled = 
    .title = Wyłącz wszystkie motywy
zen-theme-disable-all-disabled = 
    .title = Włącz wszystkie motywy
zen-theme-marketplace-description = Znajdź i zainstaluj motywy ze sklepu.
zen-theme-marketplace-remove-button = 
    .label = Usuń motyw
zen-theme-marketplace-check-for-updates-button = 
    .label = Sprawdź dostępność aktualizacji
zen-theme-marketplace-import-button = 
    .label = Importuj modyfikacje
zen-theme-marketplace-export-button = 
    .label = Eksportuj modyfikacje
zen-theme-marketplace-import-success = Modyfikacje zaimportowane poprawnie
zen-theme-marketplace-import-failure = Pojawił się błąd podczas importu modyfikacji
zen-theme-marketplace-export-success = Modyfikacje wyeksportowane poprawnie
zen-theme-marketplace-export-failure = Pojawił się błąd podczas eksportu modyfikacji
zen-theme-marketplace-updates-success = Motyw zaktualizowany pomyślnie
zen-theme-marketplace-updates-failure = Nie znaleziono żadnych aktualizacji!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Wyłącz motyw
zen-theme-marketplace-toggle-disabled-button = 
    .title = Włącz motyw
zen-theme-marketplace-remove-confirmation = Czy na pewno chcesz usunąć ten mod?
zen-theme-marketplace-close-modal = Zamknij
zen-theme-marketplace-theme-header-title = 
    .title = Selektor CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Brak
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Wpisz coś...
pane-zen-marketplace-title = Modyfikacje Zen
zen-themes-auto-update = 
    .label = Automatycznie aktualizuj zainstalowane modyfikacje podczas startu przeglądarki
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Przełącz na obszar roboczy, gdzie pojemnik jest ustawiony jako domyślny podczas otwierania kart kontenera
zen-theme-marketplace-link = Odwiedź sklep
zen-dark-theme-styles-header = Style ciemnego motywu
zen-dark-theme-styles-description = Dostosuj ciemny motyw do swoich polubień
zen-dark-theme-styles-amoled = Motyw nocy
zen-dark-theme-styles-default = Domyślny ciemny motyw
zen-dark-theme-styles-colorful = Kolorowy ciemny motyw
zen-compact-mode-styles-left = Ukryj pasek zakładek
zen-compact-mode-styles-top = Ukryj górny pasek
zen-compact-mode-styles-both = Ukryj oba
zen-urlbar-title = Pasek adresu Zen
zen-urlbar-header = Ogólne ustawienia dla paska adresu
zen-urlbar-description = Zmodyfikuj pasek adresu zgodnie z preferencjami
zen-urlbar-behavior-label = Zachowanie
zen-urlbar-behavior-normal = 
    .label = Normalne
zen-urlbar-behavior-floating-on-type = 
    .label = Widoczny podczas pisania
zen-urlbar-behavior-float = 
    .label = Zawsze widoczny
pane-zen-CKS-title = Skróty klawiaturowe
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Skróty klawiaturowe { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Modyfikacje Zen
zen-settings-CKS-header = Dostosuj skróty klawiaturowe
zen-settings-CKS-description = Zmień domyślne skróty klawiaturowe na swoje polubienie i ulepsz swoje doświadczenie przeglądania
zen-settings-CKS-disable-firefox = 
    .label = Wyłącz domyślne skróty klawiszowe { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Dublikuj skrót
zen-settings-CKS-reset-shortcuts = 
    .label = Przywróć domyślne
zenCKSOption-group-other = Inne
zenCKSOption-group-windowAndTabManagement = Zarządzanie oknem i zakładkami
zenCKSOption-group-navigation = Nawigacja
zenCKSOption-group-searchAndFind = Szukaj i znajdź
zenCKSOption-group-pageOperations = Operacje na stronie
zenCKSOption-group-historyAndBookmarks = Historia i zakładki
zenCKSOption-group-mediaAndDisplay = Media i wyświetlanie
zenCKSOption-group-zen-compact-mode = Tryb kompaktowy
zenCKSOption-group-zen-workspace = Obszary robocze
zenCKSOption-group-zen-other = Inne funkcje Zen
zenCKSOption-group-zen-split-view = Podziel widok
zenCKSOption-group-devTools = Narzędzia developerskie
zen-key-quick-restart = Szybkie ponowne uruchomienie
zen-window-new-shortcut = Nowe okno
zen-tab-new-shortcut = Nowa karta
zen-key-redo = Ponów
zen-restore-last-closed-tab-shortcut = Przywróć ostatnio zamkniętą kartę
zen-location-open-shortcut = Otwórz lokalizację
zen-location-open-shortcut-alt = Otwórz lokalizację (Alt)
zen-key-undo-close-window = Cofnij zamknięcie okna
zen-text-action-undo-shortcut = Cofnij
zen-text-action-redo-shortcut = Ponów
zen-text-action-cut-shortcut = Wytnij
zen-text-action-copy-shortcut = Kopiuj
zen-text-action-copy-url-shortcut = Skopiuj obecny adres URL
zen-text-action-copy-url-markdown-shortcut = Skopiuj obecny URL w formacie Markdown
zen-text-action-paste-shortcut = Wklej
zen-text-action-select-all-shortcut = Zaznacz wszystko
zen-text-action-delete-shortcut = Usuń
zen-history-show-all-shortcut-mac = Pokaż całą historię (Mac)
zen-full-screen-shortcut = Przełącz pełny ekran
zen-reader-mode-toggle-shortcut-windows = Przełącz tryb czytnika (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Przełącz obraz w obrazie (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Przełącz obraz w obrazie (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Przełącz obraz w obrazie (Mac Alt)
zen-page-source-shortcut-safari = Zobacz źródło strony (Safari)
zen-nav-stop-shortcut = Zatrzymaj ładowanie
zen-history-sidebar-shortcut = Pokaż panel boczny
zen-window-minimize-shortcut = Minimalizuj okno
zen-help-shortcut = Otwórz pomoc
zen-preferences-shortcut = Otwórz ustawienia
zen-hide-app-shortcut = Ukryj aplikację
zen-hide-other-apps-shortcut = Ukryj inne aplikacje
zen-search-focus-shortcut = Szukaj w centrum uwagi
zen-search-focus-shortcut-alt = Przejdź do wyszukiwania (Alt)
zen-downloads-shortcut = Otwórz pobieranie
zen-addons-shortcut = Otwórz dodatki
zen-file-open-shortcut = Otwórz plik
zen-save-page-shortcut = Zapisz stronę
zen-print-shortcut = Wydrukuj stronę
zen-close-shortcut-2 = Zamknij kartę
zen-mute-toggle-shortcut = Przełącz wyciszenie
zen-key-delete = Usuń klucz
zen-key-go-back = Powrót
zen-key-go-forward = Przejdź do przodu
zen-nav-back-shortcut-alt = Nawiguj wstecz (Alt)
zen-nav-fwd-shortcut-alt = Nawiguj do przodu (Alt)
zen-history-show-all-shortcut = Pokaż całą historię
zen-key-enter-full-screen = Przejdź do pełnoekranowego
zen-key-exit-full-screen = Zamknij pełny ekran
zen-ai-chatbot-sidebar-shortcut = Przełącz panel boczny Czatbotów AI
zen-key-inspector-mac = Przełącz tryb Inspektora (Mac)
zen-toggle-sidebar-shortcut = Przełącz pasek boczny Firefoksa
zen-toggle-pin-tab-shortcut = Przełącz zakładkę pinów
zen-reader-mode-toggle-shortcut-other = Przełącz tryb czytnika
zen-picture-in-picture-toggle-shortcut = Przełącz obraz w zdjęciu
zen-nav-reload-shortcut-2 = Odśwież stronę
zen-key-about-processes = O procesach
zen-page-source-shortcut = Zobacz źródło strony
zen-page-info-shortcut = Zobacz informacje o stronie
zen-find-shortcut = Znajdź na stronie
zen-search-find-again-shortcut = Znajdź ponownie
zen-search-find-again-shortcut-prev = Znajdź Poprzedni
zen-search-find-again-shortcut-2 = Znajdź ponownie (Alt)
zen-bookmark-this-page-shortcut = Dodaj zakładkę do tej strony
zen-bookmark-show-library-shortcut = Pokaż bibliotekę zakładek
zen-key-stop = Zatrzymaj ładowanie
zen-full-zoom-reduce-shortcut = Pomniejsz
zen-full-zoom-enlarge-shortcut = Powiększ
zen-full-zoom-reset-shortcut = Zresetuj powiększenie
zen-full-zoom-reset-shortcut-alt = Zresetuj powiększenie (Alt)
zen-full-zoom-enlarge-shortcut-alt = Powiększ (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Powiększ (Alt 2)
zen-bidi-switch-direction-shortcut = Zmień kierunek tekstu
zen-private-browsing-shortcut = Przeglądanie prywatne
zen-screenshot-shortcut = Zrób zrzut ekranu
zen-key-sanitize = Wyczyść dane przeglądania
zen-quit-app-shortcut = Wyjdź z aplikacji
zen-key-wr-capture-cmd = WR przechwytywanie polecenia
zen-key-wr-toggle-capture-sequence-cmd = Przełącz sekwencję przechwytywania WR
zen-nav-reload-shortcut = Odśwież stronę
zen-nav-reload-shortcut-skip-cache = Przeładuj stronę (pomiń cache)
zen-close-shortcut = Zamknij okno
zen-close-tab-shortcut = Zamknij kartę
zen-compact-mode-shortcut-show-sidebar = Przełącz pływający pasek boczny
zen-compact-mode-shortcut-show-toolbar = Przełącz pływający pasek narzędzi
zen-compact-mode-shortcut-toggle = Przełącz tryb kompaktowy
zen-glance-expand = Rozwiń podgląd
zen-workspace-shortcut-switch-1 = Przełącz na obszar roboczy 1
zen-workspace-shortcut-switch-2 = Przełącz na obszar roboczy 2
zen-workspace-shortcut-switch-3 = Przełącz na obszar roboczy 3
zen-workspace-shortcut-switch-4 = Przełącz na obszar roboczy 4
zen-workspace-shortcut-switch-5 = Przełącz na obszar roboczy 5
zen-workspace-shortcut-switch-6 = Przełącz na obszar roboczy 6
zen-workspace-shortcut-switch-7 = Przełącz na obszar roboczy 7
zen-workspace-shortcut-switch-8 = Przełącz na obszar roboczy 8
zen-workspace-shortcut-switch-9 = Przełącz na obszar roboczy 9
zen-workspace-shortcut-switch-10 = Przełącz na obszar roboczy 10
zen-workspace-shortcut-forward = Przekaż obszar roboczy
zen-workspace-shortcut-backward = Back-Workspace
zen-sidebar-shortcut-toggle = Przełącz szerokość paska bocznego
zen-pinned-tab-shortcut-reset = Zresetuj przypiętą kartę do przypiętego adresu URL
zen-split-view-shortcut-grid = Przełącz siatkę widoku dzielonego
zen-split-view-shortcut-vertical = Przełącz Podziel Widok Pionowy
zen-split-view-shortcut-horizontal = Przełącz Podziel Widok Poziomo
zen-split-view-shortcut-unsplit = Zamknij Podziel Widok
zen-new-empty-split-view-shortcut = Nowy pusty widok podziału
zen-key-select-tab-1 = Wybierz kartę #1
zen-key-select-tab-2 = Wybierz kartę #2
zen-key-select-tab-3 = Wybierz kartę #3
zen-key-select-tab-4 = Wybierz kartę #4
zen-key-select-tab-5 = Wybierz kartę #5
zen-key-select-tab-6 = Wybierz kartę #6
zen-key-select-tab-7 = Wybierz kartę #7
zen-key-select-tab-8 = Wybierz kartę #8
zen-key-select-tab-last = Wybierz ostatnią kartę
zen-key-show-all-tabs = Pokaż wszystkie karty
zen-key-goto-history = Przejdź do historii
zen-key-go-home = Przejdź do strony głównej
zen-bookmark-show-sidebar-shortcut = Pokaż pasek boczny zakładek
zen-bookmark-show-toolbar-shortcut = Pokaż pasek zakładek
zen-devtools-toggle-shortcut = Włącz narzędzia developerskie
zen-devtools-toggle-browser-toolbox-shortcut = Włącz narzędzia przeglądarki
zen-devtools-toggle-browser-console-shortcut = Włącz konsolę przeglądarki
zen-devtools-toggle-responsive-design-mode-shortcut = Włącz tryb responsywny
zen-devtools-toggle-inspector-shortcut = Włącz Inspektor
zen-devtools-toggle-web-console-shortcut = Włącz konsolę sieciową
zen-devtools-toggle-js-debugger-shortcut = Włącz debugger JavaScript
zen-devtools-toggle-net-monitor-shortcut = Włącz monitor sieci
zen-devtools-toggle-style-editor-shortcut = Włącz edytor stylów
zen-devtools-toggle-performance-shortcut = Włącz Wydajność
zen-devtools-toggle-storage-shortcut = Włącz Pamięć
zen-devtools-toggle-dom-shortcut = Włącz DOM
zen-devtools-toggle-accessibility-shortcut = Włącz Dostępność
zen-close-all-unpinned-tabs-shortcut = Zamknij wszystkie nieprzypięte karty
zen-new-unsynced-window-shortcut = Nowe niesynchronizowane okno



================================================
FILE: locales/pt-BR/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Pesquisar em { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Renomear Pasta
zen-folders-panel-unpack-folder = 
    .label = Descompactar Pasta
zen-folders-new-subfolder = 
    .label = Nova Subpasta
zen-folders-panel-delete-folder = 
    .label = Excluir Pasta
zen-folders-panel-convert-folder-to-space = 
    .label = Converter pasta em Espaço
zen-folders-panel-change-folder-space = 
    .label = Alterar Espaço...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Descarregar abas ativas nesta pasta
zen-folders-unload-folder = 
    .label = Descarregar todas as abas
zen-folders-search-no-results = Nenhuma guia corresponde a essa pesquisa 🤔



================================================
FILE: locales/pt-BR/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = Perfil atual
unified-extensions-description = As extensões são usadas para trazer mais recursos adicionais para o { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Redefinir Guia Fixada
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Adicionar aos Essenciais
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } Espaços preenchidos
tab-context-zen-remove-essential = 
    .label = Remover dos Essenciais
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Substituir URL da Guia Fixada pela Atual
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Alterar Rótulo...
tab-context-zen-edit-icon = 
    .label = Alterar Ícone...
zen-themes-corrupted = Seu arquivo de modificações { -brand-short-name } está corrompido. Eles foram redefinidos para o tema padrão.
zen-shortcuts-corrupted = Seu arquivo de atalhos { -brand-short-name } está corrompido. Eles foram redefinidos para os atalhos padrão.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification = A nova barra de URL foi ativada, removendo a necessidade de novas páginas de guia.<br/><br/>Tente abrir uma nova guia para ver a nova barra de URL em ação!
zen-disable = Desativar
pictureinpicture-minimize-btn = 
    .aria-label = Minimizar
    .tooltip = Minimizar
zen-panel-ui-gradient-generator-custom-color = Cor Personalizada
zen-copy-current-url-confirmation = URL atual copiada!
zen-general-cancel-label = 
    .label = Cancelar
zen-general-confirm = 
    .label = Confirmar
zen-pinned-tab-replaced = A URL da guia fixada foi substituída pela URL atual!
zen-tabs-renamed = A guia foi renomeada com sucesso!
zen-background-tab-opened-toast = Nova guia em segundo plano aberta!
zen-workspace-renamed-toast = A área de trabalho foi renomeada com sucesso!
zen-toggle-compact-mode-button = 
    .label = Modo Compacto
    .tooltiptext = Alternar Modo Compacto

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Saiba Mais
zen-close-label = Fechar
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Pesquisar...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Ícones
urlbar-search-mode-zen_actions = Ações
zen-site-data-settings = Configurações
zen-generic-manage = Gerenciar
zen-generic-more = Mais
zen-generic-next = Próximo
zen-essentials-promo-label = Adicionar aos Essenciais
zen-essentials-promo-sublabel = Mantenha suas abas favoritas a um clique de distância
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Permitido
zen-site-data-setting-block = Bloqueado
zen-site-data-protections-enabled = Habilitado
zen-site-data-protections-disabled = Desabilitado
zen-site-data-setting-cross-site = Cookie entre Sites
zen-site-data-security-info-extension = 
    .label = Extensão
zen-site-data-security-info-secure = 
    .label = Seguro
zen-site-data-security-info-not-secure = 
    .label = Não seguro
zen-site-data-manage-addons = 
    .label = Gerenciar Extensões
zen-site-data-get-addons = 
    .label = Adicionar Extensões
zen-site-data-site-settings = 
    .label = Todas as Configurações do Site
zen-site-data-header-share = 
    .tooltiptext = Compartilhar Esta Página
zen-site-data-header-reader-mode = 
    .tooltiptext = Entrar no Modo Leitura
zen-site-data-header-screenshot = 
    .tooltiptext = Tirar Captura de Tela
zen-site-data-header-bookmark = 
    .tooltiptext = Marcar Esta Página
zen-urlbar-copy-url-button = 
    .tooltiptext = Copiar URL
zen-site-data-setting-site-protection = Proteção contra Rastreamento

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Um novo lar para extensões, permissões e mais
zen-site-data-panel-feature-callout-subtitle = Clique no ícone para gerenciar configurações do site, visualizar informações de segurança, acessar extensões e realizar ações comuns.
zen-open-link-in-glance = 
    .label = Abrir Link no Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Atualização Completa!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = O que há de novo em { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Ver Notas da Versão
zen-sidebar-notification-restart-safe-mode-label = Algo quebrou?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Reiniciar no Modo Seguro
zen-window-sync-migration-dialog-title = Mantenha Suas Janelas em Sincronia
zen-window-sync-migration-dialog-message = Zen agora sincroniza as janelas no mesmo dispositivo, assim as mudanças feitas em uma janela são refletidas para as outras instantaneamente.
zen-window-sync-migration-dialog-learn-more = Saiba Mais
zen-window-sync-migration-dialog-accept = Entendi



================================================
FILE: locales/pt-BR/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expandir Abas Fixadas
           *[false] Recolher Abas Fixadas
        }
zen-menubar-appearance = 
    .label = Aparência
zen-menubar-appearance-description = 
    .label = Sites vão usar:
zen-menubar-appearance-auto = 
    .label = Automático
zen-menubar-appearance-light = 
    .label = Claro
zen-menubar-appearance-dark = 
    .label = Escuro
zen-menubar-new-unsynced-window = 
    .label = Nova janela em branco



================================================
FILE: locales/pt-BR/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Dividir aba (é necessário várias abas selecionadas)
           *[other] Dividir { $tabCount } Abas
        }
    .accesskey = S.O.
zen-split-link = 
    .label = Dividir link para uma nova aba
    .accesskey = S.O.
zen-split-view-modifier-header = Visão dividida
zen-split-view-modifier-activate-reallocation = 
    .label = Ativar realocação
zen-split-view-modifier-enabled-toast = Reorganizar a visualização dividida está ATIVADO.
zen-split-view-modifier-enabled-toast-description = Arraste e solte a vista para rearranjar. Pressione Esc para sair.
zen-split-view-modifier-disabled-toast = Reorganizar a visão dividida está DESLIGADA.



================================================
FILE: locales/pt-BR/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Abas à direita
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Modo compacto
zen-toolbar-context-compact-mode-enable = 
    .label = Ativar modo compacto
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Ocultar barra lateral
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Ocultar barra de ferramentas
zen-toolbar-context-compact-mode-hide-both = 
    .label = Esconder os dois
    .accesskey = A
zen-toolbar-context-new-folder = 
    .label = Nova Pasta
    .accesskey = N
sidebar-zen-expand = 
    .label = Expandir barra lateral
sidebar-zen-create-new = 
    .label = Criar Novo...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Suspender e alternar para a aba
           *[other] Suspender { $tabCount } abas e alternar para a primeira
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Redefinir e fixar aba
           *[other] Redefinir e fixar { $tabCount } abas
        }
tab-reset-pin-label = Voltar para a Url fixada



================================================
FILE: locales/pt-BR/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Silenciar painel web
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Dessilenciar painel web
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Desativar UserAgent móvel
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Ativar UserAgent móvel
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Descarregar painel web
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Excluir painel web
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Abrir em uma nova aba
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Abrir na aba de contêiner
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Adicionar aos painéis web
    .accesskey = A
zen-webpanel-introduction-title = Bem-vindo(a) aos Painéis Web do Zen
zen-webpanel-introduction-description = Painéis Web são uma maneira de manter seus sites favoritos ao seu alcance.



================================================
FILE: locales/pt-BR/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Boas-vindas a
zen-welcome-title-line2 = uma internet mais tranquila
zen-welcome-import-title = Um Novo Começo, os Mesmos Favoritos
zen-welcome-import-description-1 = Seus favoritos, histórico e senhas são como uma trilha de migalhas pela internet — não os deixe para trás!
zen-welcome-import-description-2 = Importe-os facilmente de outro navegador e continue de onde parou.
zen-welcome-import-button = Importar agora
zen-welcome-set-default-browser = Definir o { -brand-short-name } como seu navegador padrão
zen-welcome-dont-set-default-browser = NÃO definir o { -brand-short-name } como seu navegador padrão
zen-welcome-initial-essentials-title = Suas Guias Principais, Sempre ao Alcance
zen-welcome-initial-essentials-description-1 = Mantenha suas guias mais importantes facilmente acessíveis e sempre à mão, não importa quantas você abra.
zen-welcome-initial-essentials-description-2 = As guias essenciais estão sempre visíveis, não importa em qual área de trabalho você esteja.
zen-welcome-workspace-colors-title = Suas Áreas de Trabalho, Suas Cores
zen-welcome-workspace-colors-description = Personalize seu navegador dando a cada área de trabalho sua própria identidade de cor.
zen-welcome-start-browsing-title =
    Tudo pronto?<br/>
    Vamos começar!
zen-welcome-start-browsing-description-1 = Você está com tudo pronto para começar. Clique no botão abaixo para começar a navegar com o { -brand-short-name }.
zen-welcome-start-browsing = Mergulhe de cabeça!
zen-welcome-default-search-title = Seu Mecanismo de Busca Padrão
zen-welcome-default-search-description = Escolha seu mecanismo de busca padrão. Você sempre pode alterá-lo mais tarde!
zen-welcome-skip-button = Pular
zen-welcome-finished = Seu Zen foi configurado corretamente!



================================================
FILE: locales/pt-BR/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Espaços
zen-panel-ui-spaces-label = 
    .label = Espaços
zen-panel-ui-workspaces-create = 
    .label = Criar Espaço
zen-panel-ui-folder-create = 
    .label = Criar Pasta
zen-panel-ui-new-empty-split = 
    .label = Nova Divisão
zen-workspaces-panel-context-delete = 
    .label = Excluir Espaço
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Alterar Nome
zen-workspaces-panel-change-icon = 
    .label = Alterar Ícone
zen-workspaces-panel-context-default-profile = 
    .label = Definir Perfil
zen-workspaces-panel-unload = 
    .label = Descarregar Espaço
zen-workspaces-how-to-reorder-title = Como reordenar os espaços
zen-workspaces-how-to-reorder-desc = Arraste os ícones dos espaços na parte inferior da barra lateral para reordená-los
zen-workspaces-change-theme = 
    .label = Editar Tema
zen-workspaces-panel-context-open = 
    .label = Abrir Área de Trabalho
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Editar Espaço
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Espaços
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementar
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Dividida
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Análogas
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triádica
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Flutuante
zen-panel-ui-gradient-click-to-add = Clique para adicionar uma cor
zen-workspace-creation-name = 
    .placeholder = Nome do Espaço
zen-move-tab-to-workspace-button = 
    .label = Mover Para...
    .tooltiptext = Move todas as guias nesta janela para um Espaço
zen-workspaces-panel-context-reorder = 
    .label = Reordenar Espaços
zen-workspace-creation-profile = Perfil
    .tooltiptext = Perfis são usados para separar cookies e dados de sites entre os espaços.
zen-workspace-creation-header = Crie um Espaço
zen-workspace-creation-label = Espaços são usados para organizar suas guias e sessões.
zen-workspaces-delete-workspace-title = Excluir Espaço?
zen-workspaces-delete-workspace-body = Tem certeza que deseja excluir { $name }? Esta ação não pode ser desfeita.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Abas Fechadas! Use <span>{ $shortcut }</span> para desfazer.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Limpar
    .tooltiptext = Fechar todas as abas não fixadas
zen-panel-ui-workspaces-change-forward = 
    .label = Próximo Espaço
zen-panel-ui-workspaces-change-back = 
    .label = Espaço Anterior



================================================
FILE: locales/pt-BR/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Um tema com um esquema de cores escuro e um belo toque de galáxia!
extension-firefox-compact-dream-name = Zen Sonho
extension-firefox-compact-dream-description = Um tema com um esquema de cores leve e um bom toque de sonho!



================================================
FILE: locales/pt-BR/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = URL inicial
    .accesskey = Eu
zen-new-web-panel-user-agent = 
    .value = Exibir este painel da web no modo móvel
    .accesskey = min



================================================
FILE: locales/pt-BR/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Aparência e Comportamento
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Alterar o idioma padrão pode facilitar o rastreamento por sites.
zen-vertical-tabs-layout-header = Layout do Navegador
zen-vertical-tabs-layout-description = Escolha o layout que melhor se adapta a você
zen-layout-single-toolbar = Barra de ferramentas única
zen-layout-multiple-toolbar = Múltiplas barras de ferramentas
zen-layout-collapsed-toolbar = Barra de ferramentas recolhida
sync-currently-syncing-workspaces = Áreas de Trabalho
sync-engine-workspaces = 
    .label = Áreas de Trabalho
    .tooltiptext = Sincronize suas áreas de trabalho entre dispositivos
    .accesskey = W
zen-glance-title = Visualização Rápida
zen-glance-header = Configurações gerais da Visualização Rápida
zen-glance-description = Tenha uma visão geral rápida dos seus links sem abri-los em uma nova guia
zen-glance-trigger-label = Método de acionamento
zen-glance-enabled = 
    .label = Ativar Visualização Rápida
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Clique
zen-glance-trigger-alt-click = 
    .label = Alt + Clique
zen-glance-trigger-shift-click = 
    .label = Shift + Clique
zen-glance-trigger-meta-click = 
    .label = Meta (Comando) + Clique
zen-look-and-feel-compact-view-header = Exibir em modo compacto
zen-look-and-feel-compact-view-description = Apenas mostre as barras de ferramentas que você usa!
zen-look-and-feel-compact-view-enabled = 
    .label = Ativar modo compacto de { -brand-short-name }'s
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Ocultar também a barra de ferramentas superior no modo compacto
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Exibir a barra de ferramentas brevemente ao alternar ou abrir novas guias no modo compacto
pane-zen-tabs-title = Gerenciamento de Guias
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Áreas de Trabalho
zen-tabs-unloader-enabled = 
    .label = Ativar Descarregador de Guias
zen-tabs-close-on-back-with-no-history = 
    .label = Fechar a aba e mudar para a aba dona dela (ou para a mais recentemente usada) ao voltar sem histórico
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab alterna apenas entre as abas Essenciais ou Área de Trabalho
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignorar abas Pendentes ao alternar com Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab vai alternar pela ordem de uso recente, já que está ativado
zen-look-and-feel-compact-toolbar-themed = 
    .label = Usar fundo temático na barra de ferramentas compacta
zen-workspace-continue-where-left-off = 
    .label = Continue de onde você parou
pane-zen-pinned-tab-manager-title = Guias Fixadas
zen-pinned-tab-manager-header = Configurações gerais para guias fixadas
zen-pinned-tab-manager-description = Gerencie o comportamento adicional das guias fixadas
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restaurar guias fixadas para a URL original na inicialização
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Ativar essenciais específicos do contêiner
zen-pinned-tab-manager-close-shortcut-behavior-label = Fechar Comportamento com Atalho Aba
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Redefina a URL, descarregue e mude para a próxima aba
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Descarregar e alternar para a próxima aba
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Redefinir o URL e mudar para a próxima aba
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Mudar para a próxima aba
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Redefinir URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Fechar aba
pane-zen-workspaces-header = Projetos
zen-settings-workspaces-header = Configurações gerais para áreas de trabalho
zen-settings-workspaces-description = Com espaços de trabalho, você pode ter várias sessões de navegação de uma vez!
zen-settings-workspaces-enabled = 
    .label = Habilitar Área de Trabalho
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Ocultar o indicador padrão do contêiner na barra de guias
zen-key-unsaved = Atalho não salvo! Proteja-o clicando na tecla "Escape" após digitá-lo novamente.
zen-key-conflict = Conflitos com { $group } -> { $shortcut }
pane-zen-theme-title = Opções de tema
zen-vertical-tabs-title = Layout de barra lateral e abas
zen-vertical-tabs-header = Abas verticais
zen-vertical-tabs-description = Gerenciar suas abas em formato vertical
zen-vertical-tabs-show-expand-button = 
    .label = Mostrar Botão Expandir
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Mostrar o botão de nova aba na lista de abas
zen-vertical-tabs-newtab-top-button-up = 
    .label = Mover o botão de nova aba para o topo
zen-vertical-tabs-expand-tabs-by-default = Expandir abas por padrão
zen-vertical-tabs-dont-expand-tabs-by-default = Não expandir abas por padrão
zen-vertical-tabs-expand-tabs-on-hover = Expandir Abas no Aerobarco (não funciona no modo compacto)
zen-vertical-tabs-expand-tabs-header = Como expandir abas
zen-vertical-tabs-expand-tabs-description = Escolha como expandir abas na barra lateral
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Desativar todos os temas
zen-theme-disable-all-disabled = 
    .title = Ativar todos os temas
zen-theme-marketplace-description = Encontre e instale temas da loja.
zen-theme-marketplace-remove-button = 
    .label = Remover tema
zen-theme-marketplace-check-for-updates-button = 
    .label = Procurar por atualizações
zen-theme-marketplace-import-button = 
    .label = Importar mods
zen-theme-marketplace-export-button = 
    .label = Exportar mods
zen-theme-marketplace-import-success = Mods importados com sucesso
zen-theme-marketplace-import-failure = Ocorreu um erro ao importar os mods
zen-theme-marketplace-export-success = Mods exportados com sucesso
zen-theme-marketplace-export-failure = Ocorreu um erro ao exportar os mods
zen-theme-marketplace-updates-success = Tema atualizado com sucesso
zen-theme-marketplace-updates-failure = Nenhuma atualização encontrada!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Desativar tema
zen-theme-marketplace-toggle-disabled-button = 
    .title = Ativar tema
zen-theme-marketplace-remove-confirmation = Tem certeza que deseja remover este mod?
zen-theme-marketplace-close-modal = FECHAR
zen-theme-marketplace-theme-header-title = 
    .title = Seletor CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Nenhuma
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Digite algo...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Atualizar mods instalados automaticamente na inicialização
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Mudar para espaço de trabalho onde o contêiner é definido como padrão ao abrir abas de contêiner
zen-theme-marketplace-link = Visitar loja
zen-dark-theme-styles-header = Estilos de tema escuro
zen-dark-theme-styles-description = Personalize o tema escuro ao seu gosto
zen-dark-theme-styles-amoled = Tema noturno
zen-dark-theme-styles-default = Tema Escuro Padrão
zen-dark-theme-styles-colorful = Tema Colorido Escuro
zen-compact-mode-styles-left = Esconder Barra de Abas
zen-compact-mode-styles-top = Ocultar barra superior
zen-compact-mode-styles-both = Ocultar ambos
zen-urlbar-title = Barra de Endereço do Zen
zen-urlbar-header = Ajustes gerais da barra de endereços
zen-urlbar-description = Personalize a barra de endereços do seu jeito
zen-urlbar-behavior-label = Funcionamento
zen-urlbar-behavior-normal = 
    .label = Padrão
zen-urlbar-behavior-floating-on-type = 
    .label = Flutuante apenas enquanto você digita
zen-urlbar-behavior-float = 
    .label = Flutua sempre
pane-zen-CKS-title = Atalhos do teclado
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Atalhos { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Mods do Zen
zen-settings-CKS-header = Personalize seus atalhos de teclado
zen-settings-CKS-description = Altere os atalhos de teclado padrão ao seu gosto e melhore a sua experiência de navegação
zen-settings-CKS-disable-firefox = 
    .label = Desativar atalhos padrão do teclado { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Atalho Duplicado
zen-settings-CKS-reset-shortcuts = 
    .label = Restaurar ao Padrão
zenCKSOption-group-other = Outros
zenCKSOption-group-windowAndTabManagement = Gerenciamento de Janelas e Abas
zenCKSOption-group-navigation = Navegação
zenCKSOption-group-searchAndFind = Pesquisar e encontrar
zenCKSOption-group-pageOperations = Operações de Página
zenCKSOption-group-historyAndBookmarks = Histórico e Favoritos
zenCKSOption-group-mediaAndDisplay = Mídia e Exibição
zenCKSOption-group-zen-compact-mode = Modo compacto
zenCKSOption-group-zen-workspace = Projetos
zenCKSOption-group-zen-other = Outras funcionalidades do Zen
zenCKSOption-group-zen-split-view = Visão dividida
zenCKSOption-group-devTools = Ferramentas do Desenvolvedor
zen-key-quick-restart = Reinício rápido
zen-window-new-shortcut = Nova janela
zen-tab-new-shortcut = Nova Guia
zen-key-redo = Refazer
zen-restore-last-closed-tab-shortcut = Restaurar última aba fechada
zen-location-open-shortcut = Abrir Local
zen-location-open-shortcut-alt = Abrir Localização (Alt)
zen-key-undo-close-window = Desfazer Fechar Janela
zen-text-action-undo-shortcut = Desfazer
zen-text-action-redo-shortcut = Refazer
zen-text-action-cut-shortcut = Recortar
zen-text-action-copy-shortcut = copiar
zen-text-action-copy-url-shortcut = Copiar URL atual
zen-text-action-copy-url-markdown-shortcut = Copiar URL corrente como Marcação
zen-text-action-paste-shortcut = Colar
zen-text-action-select-all-shortcut = Selecionar Todos
zen-text-action-delete-shortcut = excluir
zen-history-show-all-shortcut-mac = Mostrar todo o histórico (Mac)
zen-full-screen-shortcut = Alternar para Tela Cheia
zen-reader-mode-toggle-shortcut-windows = Alternar Modo Leitor (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Alternar imagem em imagem (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Alternar imagem em imagem (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Alternar para Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = Visualizar Fonte da Página (Safari)
zen-nav-stop-shortcut = Parar carregamento
zen-history-sidebar-shortcut = Mostrar a barra lateral do histórico
zen-window-minimize-shortcut = Minimizar Janela
zen-help-shortcut = Abrir Ajuda
zen-preferences-shortcut = Abrir Preferências
zen-hide-app-shortcut = Ocultar aplicativo
zen-hide-other-apps-shortcut = Ocultar outras aplicações
zen-search-focus-shortcut = Busca Focada
zen-search-focus-shortcut-alt = Busca Focal (alternativa)
zen-downloads-shortcut = Abrir Downloads
zen-addons-shortcut = Abrir complementos
zen-file-open-shortcut = Abrir arquivo
zen-save-page-shortcut = Salvar Página
zen-print-shortcut = Imprimir Página
zen-close-shortcut-2 = Fechar Aba
zen-mute-toggle-shortcut = Ativar/desativar microfone
zen-key-delete = Apagar chave
zen-key-go-back = Voltar atrás
zen-key-go-forward = Ir para frente
zen-nav-back-shortcut-alt = Navegar para trás (alternar)
zen-nav-fwd-shortcut-alt = Navegar para frente (alternar)
zen-history-show-all-shortcut = Mostrar todo o histórico
zen-key-enter-full-screen = Entrar em Tela Cheia
zen-key-exit-full-screen = Sair de Tela Cheia
zen-ai-chatbot-sidebar-shortcut = Alternar barra lateral de AI Chatbot
zen-key-inspector-mac = Ativar/Desativar Inspetor
zen-toggle-sidebar-shortcut = Alternar barra lateral Firefox
zen-toggle-pin-tab-shortcut = Alternar fixação da aba
zen-reader-mode-toggle-shortcut-other = Ativar/desativar modo leitor
zen-picture-in-picture-toggle-shortcut = Alternar Picture-in-Picture
zen-nav-reload-shortcut-2 = Recarregar Página
zen-key-about-processes = Sobre processos
zen-page-source-shortcut = Exibir código-fonte da página
zen-page-info-shortcut = Exibir informações da página
zen-find-shortcut = Encontrar na Página
zen-search-find-again-shortcut = Localizar novamente
zen-search-find-again-shortcut-prev = Localizar Anterior
zen-search-find-again-shortcut-2 = Pesquisar novamente (Alt)
zen-bookmark-this-page-shortcut = Adicionar aos favoritos
zen-bookmark-show-library-shortcut = Mostrar Biblioteca de Favoritos
zen-key-stop = Parar carregamento
zen-full-zoom-reduce-shortcut = Diminuir o zoom
zen-full-zoom-enlarge-shortcut = Aumentar zoom
zen-full-zoom-reset-shortcut = Redefinir Ampliação
zen-full-zoom-reset-shortcut-alt = Redefinir Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Aumentar Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Aumentar Zoom (Alt 2)
zen-bidi-switch-direction-shortcut = Alterar direção do texto
zen-private-browsing-shortcut = Navegação Privativa
zen-screenshot-shortcut = Tirar Screenshot
zen-key-sanitize = Limpar Dados de Navegação
zen-quit-app-shortcut = Sair do Zen Browser
zen-key-wr-capture-cmd = Comando de Captura WR
zen-key-wr-toggle-capture-sequence-cmd = Alternar sequência de captura de WR
zen-nav-reload-shortcut = Recarregar Página
zen-nav-reload-shortcut-skip-cache = Recarregar a Página (ignorar o cache)
zen-close-shortcut = Fechar Janela
zen-close-tab-shortcut = Fechar Aba
zen-compact-mode-shortcut-show-sidebar = Alternar barra lateral flutuante
zen-compact-mode-shortcut-show-toolbar = Alternar barra flutuante
zen-compact-mode-shortcut-toggle = Ativar/Desativar Modo Compacto
zen-glance-expand = Expandir Visualização Rápida
zen-workspace-shortcut-switch-1 = Mudar para Área de Trabalho 1
zen-workspace-shortcut-switch-2 = Mudar para Área de Trabalho 2
zen-workspace-shortcut-switch-3 = Mudar para Área de Trabalho 3
zen-workspace-shortcut-switch-4 = Mudar para Área de Trabalho 4
zen-workspace-shortcut-switch-5 = Mudar para Workspace 5
zen-workspace-shortcut-switch-6 = Mudar para Área de Trabalho 6
zen-workspace-shortcut-switch-7 = Mudar para Área de Trabalho 7
zen-workspace-shortcut-switch-8 = Mudar para Área de Trabalho 8
zen-workspace-shortcut-switch-9 = Mudar para Área de Trabalho 9
zen-workspace-shortcut-switch-10 = Mudar para Área de Trabalho 10
zen-workspace-shortcut-forward = Encaminhar espaço de trabalho
zen-workspace-shortcut-backward = Workspace Anterior
zen-sidebar-shortcut-toggle = Alternar Largura do painel
zen-pinned-tab-shortcut-reset = Restaurar a Guia Fixado para a URL fixada
zen-split-view-shortcut-grid = Alternar grade de visualização dividida
zen-split-view-shortcut-vertical = Alternar visualização de divisão vertical
zen-split-view-shortcut-horizontal = Alternar visualização horizontal de divisão
zen-split-view-shortcut-unsplit = Fechar visualização dividida
zen-new-empty-split-view-shortcut = Nova Divisão de Tela Vazia
zen-key-select-tab-1 = Selecionar guia #1
zen-key-select-tab-2 = Selecionar guia #2
zen-key-select-tab-3 = Selecionar guia #3
zen-key-select-tab-4 = Selecione a aba #4
zen-key-select-tab-5 = Selecione a aba #5
zen-key-select-tab-6 = Selecionar guia #6
zen-key-select-tab-7 = Selecione a aba #7
zen-key-select-tab-8 = Selecionar guia #8
zen-key-select-tab-last = Selecione a última aba
zen-key-show-all-tabs = Mostrar todas as abas
zen-key-goto-history = Ir para o histórico
zen-key-go-home = Ir à página inicial
zen-bookmark-show-sidebar-shortcut = Exibir barra lateral de favoritos
zen-bookmark-show-toolbar-shortcut = Mostrar Barra de Favoritos
zen-devtools-toggle-shortcut = Ativar/Desativar DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Ativar/Desativar Ferramentas do Navegador
zen-devtools-toggle-browser-console-shortcut = Ativar/Desativar Console do Navegador
zen-devtools-toggle-responsive-design-mode-shortcut = Ativar/desativar Modo de Design Responsivo
zen-devtools-toggle-inspector-shortcut = Ativar/Desativar Inspetor
zen-devtools-toggle-web-console-shortcut = Ativar/Desativar Console do Navegador
zen-devtools-toggle-js-debugger-shortcut = Ativar/Desativar Depurador de JavaScript
zen-devtools-toggle-net-monitor-shortcut = Ativar/Desativar Monitor de Rede
zen-devtools-toggle-style-editor-shortcut = Ativar/Desativar Editor de Estilo
zen-devtools-toggle-performance-shortcut = Ativar/Desativar Desempenho
zen-devtools-toggle-storage-shortcut = Ativar/Desativar Armazenamento
zen-devtools-toggle-dom-shortcut = Ativar/Desativar DOM
zen-devtools-toggle-accessibility-shortcut = Ativar/Desativar Acessibilidade
zen-close-all-unpinned-tabs-shortcut = Fechar Todas as Abas Não Fixadas
zen-new-unsynced-window-shortcut = Nova Janela Dessincronizada



================================================
FILE: locales/pt-PT/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Pesquisar em { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Mudar nome da Pasta
zen-folders-panel-unpack-folder = 
    .label = Desempacotar Pasta
zen-folders-new-subfolder = 
    .label = Nova Subpasta
zen-folders-panel-delete-folder = 
    .label = Eliminar Pasta
zen-folders-panel-convert-folder-to-space = 
    .label = Converter pasta num Espaço
zen-folders-panel-change-folder-space = 
    .label = Alterar Espaço...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Descarregar ativos nesta pasta
zen-folders-unload-folder = 
    .label = Descarregar Todos os Separadores
zen-folders-search-no-results = Não existem separadores que correspondam a essa pesquisa 🤔



================================================
FILE: locales/pt-PT/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = perfil atual
unified-extensions-description = As extensões são usadas para trazer funcionalidades adicionais para o { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Repor o Separador Fixado
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Adicionar aos Essenciais
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } espaços preenchidos
tab-context-zen-remove-essential = 
    .label = Remover dos Essenciais
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Substituir o URL Fixado pelo URL Atual
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Alterar etiqueta...
tab-context-zen-edit-icon = 
    .label = Alterar ícone...
zen-themes-corrupted = O seu ficheiro de modificações do { -brand-short-name } está corrompido. Elas foram redefinidas como iguais às do tema padrão.
zen-shortcuts-corrupted = O seu ficheiro de atalhos do { -brand-short-name } está corrompido. Eles foram redefinidos para os atalhos padrão.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    A nova barra de URL foi ativada, removendo a necessidade de páginas de novo separador.<br/><br/>
    Experimente abrir um novo separador para ver a nova barra de URL em ação!
zen-disable = Desativar
pictureinpicture-minimize-btn = 
    .aria-label = Minimizar
    .tooltip = Minimizar
zen-panel-ui-gradient-generator-custom-color = Cor personalizada
zen-copy-current-url-confirmation = URL atual copiado!
zen-general-cancel-label = 
    .label = Cancelar
zen-general-confirm = 
    .label = Confirmar
zen-pinned-tab-replaced = O URL do separador fixado foi substituído pelo URL atual.
zen-tabs-renamed = Nome do separador alterado com sucesso!
zen-background-tab-opened-toast = Novo separador aberto em segundo plano!
zen-workspace-renamed-toast = Nome do espaço de trabalho alterado com sucesso!
zen-toggle-compact-mode-button = 
    .label = Modo Compacto
    .tooltiptext = Alternar Modo Compacto

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Saber Mais
zen-close-label = Fechar
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Pesquisar...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Ícones
urlbar-search-mode-zen_actions = Ações
zen-site-data-settings = Definições
zen-generic-manage = Gerir
zen-generic-more = Mais
zen-generic-next = Seguinte
zen-essentials-promo-label = Adicionar aos Essenciais
zen-essentials-promo-sublabel = Mantenha os seus separadores favoritos a um clique de distância
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Permitido
zen-site-data-setting-block = Bloqueado
zen-site-data-protections-enabled = Ativado
zen-site-data-protections-disabled = Desativado
zen-site-data-setting-cross-site = Cookies entre sites
zen-site-data-security-info-extension = 
    .label = Extensão
zen-site-data-security-info-secure = 
    .label = Seguro
zen-site-data-security-info-not-secure = 
    .label = Não Seguro
zen-site-data-manage-addons = 
    .label = Gerir Extensões
zen-site-data-get-addons = 
    .label = Adicionar Extensões
zen-site-data-site-settings = 
    .label = Todas as Definições do Site
zen-site-data-header-share = 
    .tooltiptext = Partilhar Esta Página
zen-site-data-header-reader-mode = 
    .tooltiptext = Entrar no Modo Leitura
zen-site-data-header-screenshot = 
    .tooltiptext = Tirar uma Captura de Ecrã
zen-site-data-header-bookmark = 
    .tooltiptext = Adicionar esta Página aos Favoritos
zen-urlbar-copy-url-button = 
    .tooltiptext = Copiar URL
zen-site-data-setting-site-protection = Proteção contra rastreio

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Uma nova casa para extensões, permissões e mais
zen-site-data-panel-feature-callout-subtitle = Clique no ícone para gerir definições do site, ver informações de segurança, extensões de acesso e executar ações comuns.
zen-open-link-in-glance = 
    .label = Abrir Link no Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Atualização Concluída!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = O que há de novo no { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Ver Notas de Lançamento
zen-sidebar-notification-restart-safe-mode-label = Falhou alguma coisa?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Reiniciar em Modo de Segurança
zen-window-sync-migration-dialog-title = Mantenha As Suas Janelas Sincronizadas
zen-window-sync-migration-dialog-message = Agora, o Zen sincroniza as janelas no dispositivo, pelo que alterações numa janela são refletidas instantaneamente nas outras.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Entendido



================================================
FILE: locales/pt-PT/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expandir Separadores Fixados
           *[false] Colapsar Separadores Fixados
        }
zen-menubar-appearance = 
    .label = Aparência
zen-menubar-appearance-description = 
    .label = Os sites utilizarão:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Claro
zen-menubar-appearance-dark = 
    .label = Escuro
zen-menubar-new-unsynced-window = 
    .label = Nova janela sem sincronização



================================================
FILE: locales/pt-PT/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Dividir Separadores (selecione vários separadores)
           *[other] Dividir { $tabCount } Separadores
        }
    .accesskey = S
zen-split-link = 
    .label = Dividir ligação para um novo separador
    .accesskey = S
zen-split-view-modifier-header = Vista Dividida
zen-split-view-modifier-activate-reallocation = 
    .label = Ativar realocação
zen-split-view-modifier-enabled-toast = Rearranjo da vista dividida está ATIVADO.
zen-split-view-modifier-enabled-toast-description = Arraste e solte a vista para rearranjar. Pressione Esc para sair.
zen-split-view-modifier-disabled-toast = Rearranjo da vista dividida está DESATIVADO.



================================================
FILE: locales/pt-PT/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Separadores à direita
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Modo compacto
zen-toolbar-context-compact-mode-enable = 
    .label = Ativar modo compacto
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Ocultar a barra lateral
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Ocultar a barra de ferramentas
zen-toolbar-context-compact-mode-hide-both = 
    .label = Ocultar ambas
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Nova Pasta
    .accesskey = N
sidebar-zen-expand = 
    .label = Expandir Barra Lateral
sidebar-zen-create-new = 
    .label = Criar Novo...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Hibernar e mudar para o separador
           *[other] Hibernar { $tabCount } separadores mudar para o primeiro
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Restaurar e fixar separador
           *[other] Restaurar e fixar { $tabCount } separadores
        }
tab-reset-pin-label = Voltar ao URL fixado



================================================
FILE: locales/pt-PT/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Silenciar Painel Web
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Reativar som do Painel Web
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Desativar UserAgent Móvel
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Ativar UserAgent Móvel
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Hibernar Painel Web
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Eliminar Painel Web
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Abrir num Novo Separador
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Abrir num Separador Contentor
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Adicionar aos Painéis Web
    .accesskey = A
zen-webpanel-introduction-title = Bem-vindo aos Painéis Web Zen
zen-webpanel-introduction-description = Os Painéis Web são uma maneira de manter os seus sites favoritos na ponta dos seus dedos.



================================================
FILE: locales/pt-PT/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Bem-vindo(a)
zen-welcome-title-line2 = a uma internet mais calma
zen-welcome-import-title = Um Novo Começo, os Mesmos Favoritos
zen-welcome-import-description-1 = Os seus favoritos, histórico e palavras-passe são como um rasto de migalhas deixado pela internet — não os deixe para trás!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off..
zen-welcome-import-button = Importar agora
zen-welcome-set-default-browser = Definir o { -brand-short-name } como navegador padrão
zen-welcome-dont-set-default-browser = NÃO definir o { -brand-short-name } como navegador padrão
zen-welcome-initial-essentials-title = Os Seus Separadores Principais, Sempre Perto
zen-welcome-initial-essentials-description-1 = Mantenha os seus separadores mais importantes facilmente acessíveis e sempre à mão, independentemente de quantos abra.
zen-welcome-initial-essentials-description-2 = Os separadores essenciais estão sempre visíveis, independentemente do espaço de trabalho em que esteja.
zen-welcome-workspace-colors-title = Os Seus Espaços de Trabalho, As Suas Cores
zen-welcome-workspace-colors-description = Personalize o seu navegador dando a cada espaço de trabalho a sua própria cor.
zen-welcome-start-browsing-title =
    Tudo pronto?<br/>
    Vamos a isso!
zen-welcome-start-browsing-description-1 = Já está tudo preparado e pronto para avançar. Clique no botão abaixo para começar a navegar com o { -brand-short-name }.
zen-welcome-start-browsing = Mergulhar!
zen-welcome-default-search-title = O seu Motor de Busca Padrão
zen-welcome-default-search-description = Escolha o seu motor de busca padrão. Pode sempre alterá-lo mais tarde!
zen-welcome-skip-button = Ignorar
zen-welcome-finished = O seu Zen foi configurado corretamente!



================================================
FILE: locales/pt-PT/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Espaços
zen-panel-ui-spaces-label = 
    .label = Espaços
zen-panel-ui-workspaces-create = 
    .label = Criar Espaço
zen-panel-ui-folder-create = 
    .label = Criar Pasta
zen-panel-ui-new-empty-split = 
    .label = Nova Divisão
zen-workspaces-panel-context-delete = 
    .label = Eliminar Espaço
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Alterar Nome
zen-workspaces-panel-change-icon = 
    .label = Alterar Ícone
zen-workspaces-panel-context-default-profile = 
    .label = Definir Perfil
zen-workspaces-panel-unload = 
    .label = Descarregar Espaço
zen-workspaces-how-to-reorder-title = Como reordenar espaços
zen-workspaces-how-to-reorder-desc = Arraste os ícones de espaço na parte inferior da barra lateral para os reordenar
zen-workspaces-change-theme = 
    .label = Editar Tema
zen-workspaces-panel-context-open = 
    .label = Abrir Espaço de Trabalho
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Editar Espaço
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Espaços
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementar
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Dividido
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Análogo
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triádico
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Flutuante
zen-panel-ui-gradient-click-to-add = Clique para adicionar uma cor
zen-workspace-creation-name = 
    .placeholder = Nome do Espaço
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Mover todos os separadores desta janela para um Espaço
zen-workspaces-panel-context-reorder = 
    .label = Reordenar Espaços
zen-workspace-creation-profile = Perfil
    .tooltiptext = Os perfis são usados para separar cookies e dados de sites entre espaços.
zen-workspace-creation-header = Criar um Espaço
zen-workspace-creation-label = Os espaços são usados para organizar os seus separadores e sessões.
zen-workspaces-delete-workspace-title = Eliminar Espaço de Trabalho?
zen-workspaces-delete-workspace-body = Tem certeza que deseja eliminar { $name }? Esta ação não pode ser desfeita.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Separadores Fechados! Use <span>{ $shortcut }</span> para voltar atrás.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Limpar
    .tooltiptext = Fechar todos os separadores não fixados
zen-panel-ui-workspaces-change-forward = 
    .label = Espaço seguinte
zen-panel-ui-workspaces-change-back = 
    .label = Espaço anterior



================================================
FILE: locales/pt-PT/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galáxia
extension-firefox-compact-galaxy-description = Um tema com um esquema de cores escuro e um agradável toque de galáxia!
extension-firefox-compact-dream-name = Zen Sonho
extension-firefox-compact-dream-description = Um tema com um esquema de cores claro e um agradável toque de sonho!



================================================
FILE: locales/pt-PT/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = URL inicial
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Mostrar este painel web em modo de dispositivo móvel
    .accesskey = m



================================================
FILE: locales/pt-PT/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Aparência
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Ao alterar o idioma padrão pode estar a tornar-se mais rastreável pelos Websites.
zen-vertical-tabs-layout-header = Disposição do Navegador
zen-vertical-tabs-layout-description = Escolha a disposição mais conveniente para si
zen-layout-single-toolbar = Barra de ferramentas única
zen-layout-multiple-toolbar = Múltiplas barras de ferramentas
zen-layout-collapsed-toolbar = Barras de ferramentas colapsadas
sync-currently-syncing-workspaces = Espaços de Trabalho
sync-engine-workspaces = 
    .label = Espaços de Trabalho
    .tooltiptext = Sincronize os seus espaços de trabalho entre dispositivos
    .accesskey = W
zen-glance-title = Relance
zen-glance-header = Configurações gerais para o relance
zen-glance-description = Obtenha uma visão rápida dos seus links sem abri-los num novo separador
zen-glance-trigger-label = Método de acionamento
zen-glance-enabled = 
    .label = Habilitar Relance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Clique
zen-glance-trigger-alt-click = 
    .label = Alt + Clique
zen-glance-trigger-shift-click = 
    .label = Shift + Clique
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Clique
zen-look-and-feel-compact-view-header = Mostrar na vista compacta
zen-look-and-feel-compact-view-description = Mostrar apenas as barras de ferramentas que usa!
zen-look-and-feel-compact-view-enabled = 
    .label = Ativar o modo compacto do { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Ocultar a barra de ferramentas superior também no modo compacto
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Fazer a barra de ferramentas saltar ligeiramente ao mudar ou ao abrir novos separadores no modo compacto
pane-zen-tabs-title = Gestão de Separadores
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Espaços de Trabalho
zen-tabs-unloader-enabled = 
    .label = Habilitar a Hibernação de Separadores
zen-tabs-close-on-back-with-no-history = 
    .label = Fechar separador e mudar para o seu separador proprietário (ou para o mais recente) quando retroceder
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab percorre apenas nos separadores Essenciais e de Espaço de trabalho
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignorar separadores Pendentes ao percorrer com Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab irá percorrer os separadores pela ordem de utilização recente, pois esta opção está ativa
zen-look-and-feel-compact-toolbar-themed = 
    .label = Usar fundo temático para a barra de ferramentas compacta
zen-workspace-continue-where-left-off = 
    .label = Continuar a partir do ponto onde parou
pane-zen-pinned-tab-manager-title = Separadores Fixados
zen-pinned-tab-manager-header = Configurações gerais para separadores fixados
zen-pinned-tab-manager-description = Gerir comportamento adicional de separadores fixados
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restaurar os separadores fixados para o seu URL originalmente fixado, no arranque
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Habilitar essenciais específicos de contentor
zen-pinned-tab-manager-close-shortcut-behavior-label = Comportamento do Atalho para Fechar Separador
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Repor a URL, hibernar e mudar para o separador seguinte
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Hibernar e mudar para o separador seguinte
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Repor a URL e mudar para o separador seguinte
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Mudar para o separador seguinte
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Repor URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Fechar separador
pane-zen-workspaces-header = Espaços de Trabalho
zen-settings-workspaces-header = Configurações gerais para espaços de trabalho
zen-settings-workspaces-description = Com os espaços de trabalho, pode ter várias sessões de navegação ao mesmo tempo!
zen-settings-workspaces-enabled = 
    .label = Habilitar Espaços de Trabalho
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Ocultar o indicador padrão do contentor na barra de separadores
zen-key-unsaved = Atalho não guardado! Por favor, proteja-o clicando na tecla "Escape" depois de o voltar a inserir.
zen-key-conflict = Conflitua com { $group } -> { $shortcut }
pane-zen-theme-title = Configurações do Tema
zen-vertical-tabs-title = Disposição da Barra Lateral e dos Separadores
zen-vertical-tabs-header = Separadores Verticais
zen-vertical-tabs-description = Gira os seus separadores numa disposição vertical
zen-vertical-tabs-show-expand-button = 
    .label = Mostrar Botão de Expansão
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Mostrar Botão de Novo Separador na Lista de Separadores
zen-vertical-tabs-newtab-top-button-up = 
    .label = Mover o botão de novo separador para o topo
zen-vertical-tabs-expand-tabs-by-default = Expandir Separadores por Padrão
zen-vertical-tabs-dont-expand-tabs-by-default = Não Expandir Separadores por Padrão
zen-vertical-tabs-expand-tabs-on-hover = Expandir Separadores com a posição do Cursor (Não funciona no modo compacto)
zen-vertical-tabs-expand-tabs-header = Como expandir os separadores
zen-vertical-tabs-expand-tabs-description = Escolha como expandir os separadores na barra lateral
zen-theme-marketplace-header = Modificações do Zen
zen-theme-disable-all-enabled = 
    .title = Desativar todos os temas
zen-theme-disable-all-disabled = 
    .title = Ativar todos os temas
zen-theme-marketplace-description = Encontre e instale temas a partir da loja.
zen-theme-marketplace-remove-button = 
    .label = Remover Tema
zen-theme-marketplace-check-for-updates-button = 
    .label = Procurar Atualizações
zen-theme-marketplace-import-button = 
    .label = Importar modificações
zen-theme-marketplace-export-button = 
    .label = Exportar Modificações
zen-theme-marketplace-import-success = Modificações importadas com sucesso
zen-theme-marketplace-import-failure = Ocorreu um erro ao importar as modificações
zen-theme-marketplace-export-success = Modificações exportadas com sucesso
zen-theme-marketplace-export-failure = Ocorreu um erro ao exportar as modificações
zen-theme-marketplace-updates-success = Tema atualizado com sucesso
zen-theme-marketplace-updates-failure = Não foi possível encontrar nenhuma atualização!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Desativar Tema
zen-theme-marketplace-toggle-disabled-button = 
    .title = Ativar Tema
zen-theme-marketplace-remove-confirmation = Tem certeza que pretende remover esta modificação?
zen-theme-marketplace-close-modal = Fechar
zen-theme-marketplace-theme-header-title = 
    .title = Seletor de CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Nenhum
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Escreva alguma coisa...
pane-zen-marketplace-title = Modificações do Zen
zen-themes-auto-update = 
    .label = Atualizar automaticamente as modificações instaladas ao iniciar
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Mudar para espaço de trabalho onde o contentor é definido como padrão ao abrir separadores de contentor
zen-theme-marketplace-link = Visitar Loja
zen-dark-theme-styles-header = Estilos de Tema Escuro
zen-dark-theme-styles-description = Personalize o tema escuro ao seu gosto
zen-dark-theme-styles-amoled = Tema Noturno
zen-dark-theme-styles-default = Tema Escuro Padrão
zen-dark-theme-styles-colorful = Tema Escuro Colorido
zen-compact-mode-styles-left = Ocultar barra de Separadores
zen-compact-mode-styles-top = Ocultar barra Superior
zen-compact-mode-styles-both = Ocultar Ambas
zen-urlbar-title = Barra de URL Zen
zen-urlbar-header = Configurações gerais para a barra de URL
zen-urlbar-description = Personalize a barra de URL ao seu gosto
zen-urlbar-behavior-label = Comportamento
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Flutuar apenas enquanto se está a escrever
zen-urlbar-behavior-float = 
    .label = Sempre a flutuar
pane-zen-CKS-title = Atalhos do Teclado
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = Atalhos de Teclado { -brand-short-name }
category-zen-marketplace = 
    .tooltiptext = Modificações do Zen
zen-settings-CKS-header = Personalize os seus atalhos de teclado
zen-settings-CKS-description = Altere os atalhos de teclado padrão ao seu gosto e melhore a sua experiência de navegação
zen-settings-CKS-disable-firefox = 
    .label = Desativar os atalhos de teclado padrão do { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicar Atalho
zen-settings-CKS-reset-shortcuts = 
    .label = Repor para o Padrão
zenCKSOption-group-other = Outros
zenCKSOption-group-windowAndTabManagement = Gestão de Janelas e Separadores
zenCKSOption-group-navigation = Navegação
zenCKSOption-group-searchAndFind = Procurar e Encontrar
zenCKSOption-group-pageOperations = Operações de Página
zenCKSOption-group-historyAndBookmarks = Histórico e Favoritos
zenCKSOption-group-mediaAndDisplay = Média e Visualização
zenCKSOption-group-zen-compact-mode = Modo Compacto
zenCKSOption-group-zen-workspace = Espaços de Trabalho
zenCKSOption-group-zen-other = Outras Funcionalidades do Zen
zenCKSOption-group-zen-split-view = Vista Dividida
zenCKSOption-group-devTools = Ferramentas de Programador
zen-key-quick-restart = Reinício Rápido
zen-window-new-shortcut = Nova Janela
zen-tab-new-shortcut = Novo Separador
zen-key-redo = Refazer
zen-restore-last-closed-tab-shortcut = Restaurar o Último Separador Fechado
zen-location-open-shortcut = Abrir Localização
zen-location-open-shortcut-alt = Abrir Localização (Alt)
zen-key-undo-close-window = Anular Fecho da Janela
zen-text-action-undo-shortcut = Anular
zen-text-action-redo-shortcut = Refazer
zen-text-action-cut-shortcut = Cortar
zen-text-action-copy-shortcut = Copiar
zen-text-action-copy-url-shortcut = Copiar o URL atual
zen-text-action-copy-url-markdown-shortcut = Copiar o URL atual como Markdown
zen-text-action-paste-shortcut = Colar
zen-text-action-select-all-shortcut = Selecionar Tudo
zen-text-action-delete-shortcut = Eliminar
zen-history-show-all-shortcut-mac = Mostrar Todo o Histórico (Mac)
zen-full-screen-shortcut = Alternar Modo de Ecrã Inteiro
zen-reader-mode-toggle-shortcut-windows = Alternar Modo de Leitor (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Alternar Imagem-em-Imagem (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Alternar Imagem-em-Imagem (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Alternar Imagem-em-Imagem (Mac Alt)
zen-page-source-shortcut-safari = Ver Código-Fonte da Página (Safari)
zen-nav-stop-shortcut = Parar Carregamento
zen-history-sidebar-shortcut = Mostrar Barra Lateral do Histórico
zen-window-minimize-shortcut = Minimizar Janela
zen-help-shortcut = Abrir Ajuda
zen-preferences-shortcut = Abrir Preferências
zen-hide-app-shortcut = Ocultar Aplicação
zen-hide-other-apps-shortcut = Ocultar Outras Aplicações
zen-search-focus-shortcut = Focar Barra de Pesquisa
zen-search-focus-shortcut-alt = Focar Barra de Pesquisa (Alt)
zen-downloads-shortcut = Abrir Transferências
zen-addons-shortcut = Abrir Complementos
zen-file-open-shortcut = Abrir Ficheiro
zen-save-page-shortcut = Guardar Página
zen-print-shortcut = Imprimir Página
zen-close-shortcut-2 = Fechar Separador
zen-mute-toggle-shortcut = Alternar Silenciamento
zen-key-delete = Tecla de Eliminação
zen-key-go-back = Ir para Trás
zen-key-go-forward = Ir para a Frente
zen-nav-back-shortcut-alt = Navegar para Trás (Alt)
zen-nav-fwd-shortcut-alt = Navegar para Frente (Alt)
zen-history-show-all-shortcut = Mostrar Todo o Histórico
zen-key-enter-full-screen = Entrar no Modo de Ecrã Inteiro
zen-key-exit-full-screen = Sair do Modo de Ecrã Inteiro
zen-ai-chatbot-sidebar-shortcut = Alternar Barra Lateral do Chatbot de IA
zen-key-inspector-mac = Alternar Inspetor (Mac)
zen-toggle-sidebar-shortcut = Alternar Barra Lateral do Firefox
zen-toggle-pin-tab-shortcut = Alternar Fixação de Separador
zen-reader-mode-toggle-shortcut-other = Alternar Modo de Leitor
zen-picture-in-picture-toggle-shortcut = Alternar Imagem-em-Imagem
zen-nav-reload-shortcut-2 = Recarregar Página
zen-key-about-processes = Sobre os Processos
zen-page-source-shortcut = Ver Código-Fonte da Página
zen-page-info-shortcut = Ver Informação da Página
zen-find-shortcut = Procurar na Página
zen-search-find-again-shortcut = Procurar Seguinte
zen-search-find-again-shortcut-prev = Procurar Anterior
zen-search-find-again-shortcut-2 = Procurar Seguinte (Alt)
zen-bookmark-this-page-shortcut = Adicionar esta Página aos Favoritos
zen-bookmark-show-library-shortcut = Mostrar Biblioteca de Favoritos
zen-key-stop = Parar Carregamento
zen-full-zoom-reduce-shortcut = Diminuir Zoom
zen-full-zoom-enlarge-shortcut = Aumentar Zoom
zen-full-zoom-reset-shortcut = Repor Zoom
zen-full-zoom-reset-shortcut-alt = Repor Ampliação (Alt)
zen-full-zoom-enlarge-shortcut-alt = Aumentar Ampliação (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Aumentar Ampliação (Alt 2)
zen-bidi-switch-direction-shortcut = Alterar Direção do Texto
zen-private-browsing-shortcut = Navegação Privada
zen-screenshot-shortcut = Tirar Captura de Ecrã
zen-key-sanitize = Limpar Dados da Navegação
zen-quit-app-shortcut = Sair da Aplicação
zen-key-wr-capture-cmd = Comando de Captura WR
zen-key-wr-toggle-capture-sequence-cmd = Alternar Sequência de Captura WR
zen-nav-reload-shortcut = Recarregar Página
zen-nav-reload-shortcut-skip-cache = Recarregar Página (Ignorar Cache)
zen-close-shortcut = Fechar Janela
zen-close-tab-shortcut = Fechar Separador
zen-compact-mode-shortcut-show-sidebar = Alternar Barra Lateral Flutuante
zen-compact-mode-shortcut-show-toolbar = Alternar Barra de Ferramentas Flutuante
zen-compact-mode-shortcut-toggle = Alternar Modo Compacto
zen-glance-expand = Expandir Relance
zen-workspace-shortcut-switch-1 = Mudar para o Espaço de Trabalho 1
zen-workspace-shortcut-switch-2 = Mudar para o Espaço de Trabalho 2
zen-workspace-shortcut-switch-3 = Mudar para o Espaço de Trabalho 3
zen-workspace-shortcut-switch-4 = Mudar para o Espaço de Trabalho 4
zen-workspace-shortcut-switch-5 = Mudar para o Espaço de Trabalho 5
zen-workspace-shortcut-switch-6 = Mudar para o Espaço de Trabalho 6
zen-workspace-shortcut-switch-7 = Mudar para o Espaço de Trabalho 7
zen-workspace-shortcut-switch-8 = Mudar para o Espaço de Trabalho 8
zen-workspace-shortcut-switch-9 = Mudar para o Espaço de Trabalho 9
zen-workspace-shortcut-switch-10 = Mudar para o Espaço de Trabalho 10
zen-workspace-shortcut-forward = Espaço de Trabalho Seguinte
zen-workspace-shortcut-backward = Espaço de Trabalho Anterior
zen-sidebar-shortcut-toggle = Alternar largura da Barra Lateral
zen-pinned-tab-shortcut-reset = Repor o Separador Fixado para a URL Fixada
zen-split-view-shortcut-grid = Ativar Vista Dividida em Grelha
zen-split-view-shortcut-vertical = Ativar Vista Dividida Vertical
zen-split-view-shortcut-horizontal = Ativar Vista Dividida Horizontal
zen-split-view-shortcut-unsplit = Fechar a Vista Dividida
zen-new-empty-split-view-shortcut = Nova Vista Dividida Vazia
zen-key-select-tab-1 = Selecionar separador #1
zen-key-select-tab-2 = Selecionar separador #2
zen-key-select-tab-3 = Selecionar separador #3
zen-key-select-tab-4 = Selecionar separador #4
zen-key-select-tab-5 = Selecionar separador #5
zen-key-select-tab-6 = Selecionar separador #6
zen-key-select-tab-7 = Selecionar separador #7
zen-key-select-tab-8 = Selecionar separador #8
zen-key-select-tab-last = Selecionar o último separador
zen-key-show-all-tabs = Mostrar todos os separadores
zen-key-goto-history = Ir para o histórico
zen-key-go-home = Ir para Casa
zen-bookmark-show-sidebar-shortcut = Mostrar a Barra Lateral de Favoritos
zen-bookmark-show-toolbar-shortcut = Mostrar a Barra de Ferramentas de Favoritos
zen-devtools-toggle-shortcut = Alternar Ferramentas de Programador
zen-devtools-toggle-browser-toolbox-shortcut = Alternar Caixa de Ferramentas do Navegador
zen-devtools-toggle-browser-console-shortcut = Alternar Consola do Navegador
zen-devtools-toggle-responsive-design-mode-shortcut = Alternar Modo de Design Responsivo
zen-devtools-toggle-inspector-shortcut = Alternar Inspetor
zen-devtools-toggle-web-console-shortcut = Alternar Consola Web
zen-devtools-toggle-js-debugger-shortcut = Alternar Depurador de JavaScript
zen-devtools-toggle-net-monitor-shortcut = Alternar Monitor de Rede
zen-devtools-toggle-style-editor-shortcut = Alternar Editor de Estilo
zen-devtools-toggle-performance-shortcut = Alternar Desempenho
zen-devtools-toggle-storage-shortcut = Alternar Armazenamento
zen-devtools-toggle-dom-shortcut = Alternar DOM
zen-devtools-toggle-accessibility-shortcut = Alternar Acessibilidade
zen-close-all-unpinned-tabs-shortcut = Fechar Todos os Separadores Não Fixados
zen-new-unsynced-window-shortcut = Nova janela sem sincronização



================================================
FILE: locales/ro/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/ro/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = current profile
unified-extensions-description = Extensions are used to bring more extra functionality into { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Reset Pinned Tab
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Replace Pinned URL with Current
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Your { -brand-short-name } mods file is corrupted. They have been reset to the default theme.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    The new URL bar has been enabled, removing the need for new tab pages.<br/><br/>
    Try opening a new tab to see the new URL bar in action!
zen-disable = Disable
pictureinpicture-minimize-btn = 
    .aria-label = Minimize
    .tooltip = Minimize
zen-panel-ui-gradient-generator-custom-color = Custom Color
zen-copy-current-url-confirmation = Copied current URL!
zen-general-cancel-label = 
    .label = Cancel
zen-general-confirm = 
    .label = Confirm
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL!
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!
zen-toggle-compact-mode-button = 
    .label = Compact Mode
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Learn More
zen-close-label = Close
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Search...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Icons
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Settings
zen-generic-manage = Manage
zen-generic-more = More
zen-generic-next = Next
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Allowed
zen-site-data-setting-block = Blocked
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Extension
zen-site-data-security-info-secure = 
    .label = Secure
zen-site-data-security-info-not-secure = 
    .label = Not Secure
zen-site-data-manage-addons = 
    .label = Manage Extensions
zen-site-data-get-addons = 
    .label = Add Extensions
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copy URL
zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/ro/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/ro/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Tab (multiple selected tabs needed)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S
zen-split-link = 
    .label = Split link to new tab
    .accesskey = S
zen-split-view-modifier-header = Split View
zen-split-view-modifier-activate-reallocation = 
    .label = Activate reallocation
zen-split-view-modifier-enabled-toast = Split view rearrange is ON.
zen-split-view-modifier-enabled-toast-description = Drag and drop the view to rearrange. Press Esc to exit.
zen-split-view-modifier-disabled-toast = Split view rearrange is OFF.



================================================
FILE: locales/ro/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabs on the right
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Compact Mode
zen-toolbar-context-compact-mode-enable = 
    .label = Enable compact mode
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Hide sidebar
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Hide toolbar
zen-toolbar-context-compact-mode-hide-both = 
    .label = Hide both
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = New Folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Expand Sidebar
sidebar-zen-create-new = 
    .label = Create New...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Unload and switch to tab
           *[other] Unload { $tabCount } tabs and switch to the first
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset and pin tab
           *[other] Reset and pin { $tabCount } tabs
        }
tab-reset-pin-label = Back to pinned url



================================================
FILE: locales/ro/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Welcome to
zen-welcome-title-line2 = a calmer internet
zen-welcome-import-title = A Fresh Start, Same Bookmarks
zen-welcome-import-description-1 = Your bookmarks, history, and passwords are like a trail of breadcrumbs through the internet—don’t leave them behind!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off.
zen-welcome-import-button = Import now
zen-welcome-set-default-browser = Set { -brand-short-name } as your default browser
zen-welcome-dont-set-default-browser = DON’T set { -brand-short-name } as your default browser
zen-welcome-initial-essentials-title = Your Key Tabs, Always Within Reach
zen-welcome-initial-essentials-description-1 = Keep your most important tabs easily accessible and always at hand, no matter how many you open.
zen-welcome-initial-essentials-description-2 = Essential tabs are always visible, no matter what workspace you are in.
zen-welcome-workspace-colors-title = Your Workspaces, Your Colors
zen-welcome-workspace-colors-description = Personalize your browser by giving each workspace its own unique color identity.
zen-welcome-start-browsing-title =
    All set?<br/>
    Let’s get rolling!
zen-welcome-start-browsing-description-1 = You’re all set up and ready to go. Click the button below to start browsing with { -brand-short-name }.
zen-welcome-start-browsing = Dive in!
zen-welcome-default-search-title = Your Default Search Engine
zen-welcome-default-search-description = Choose your default search engine. You can always change it later!
zen-welcome-skip-button = Skip
zen-welcome-finished = Your Zen has been set up correctly!



================================================
FILE: locales/ro/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Spaces
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Create Space
zen-panel-ui-folder-create = 
    .label = Create Folder
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = Delete Space
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Change Name
zen-workspaces-panel-change-icon = 
    .label = Change Icon
zen-workspaces-panel-context-default-profile = 
    .label = Set Profile
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them
zen-workspaces-change-theme = 
    .label = Edit Theme
zen-workspaces-panel-context-open = 
    .label = Open Workspace
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Edit Space
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a color
zen-workspace-creation-name = 
    .placeholder = Space Name
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Reorder Spaces
zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.
zen-workspaces-delete-workspace-title = Delete Space?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/ro/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Look and Feel
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Changing the default language could make it easier for Websites to track you.
zen-vertical-tabs-layout-header = Browser Layout
zen-vertical-tabs-layout-description = Choose the layout that suits you best
zen-layout-single-toolbar = Only Sidebar
zen-layout-multiple-toolbar = Sidebar and Top Toolbar
zen-layout-collapsed-toolbar = Collapsed Sidebar
sync-currently-syncing-workspaces = Workspaces
sync-engine-workspaces = 
    .label = Workspaces
    .tooltiptext = Sync your workspaces across devices
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = General settings for glance
zen-glance-description = Get a quick overview of your links without opening them in a new tab
zen-glance-trigger-label = Trigger method
zen-glance-enabled = 
    .label = Enable Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + Click
zen-glance-trigger-shift-click = 
    .label = Shift + Click
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = Show in compact view
zen-look-and-feel-compact-view-description = Only show the toolbars you use!
zen-look-and-feel-compact-view-enabled = 
    .label = Enable { -brand-short-name }'s compact mode
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Hide the top toolbar as well in compact mode
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Briefly make the toolbar popup when switching or opening new tabs in compact mode
pane-zen-tabs-title = Tab Management
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Workspaces
zen-tabs-unloader-enabled = 
    .label = Enable Tab Unloader
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Use themed background for compact toolbar
zen-workspace-continue-where-left-off = 
    .label = Continue where you left off
pane-zen-pinned-tab-manager-title = Pinned Tabs
zen-pinned-tab-manager-header = General settings for pinned tabs
zen-pinned-tab-manager-description = Manage additional behavior of pinned tabs
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restore pinned tabs to their originally pinned URL on startup
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Enable container-specific essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Close Tab Shortcut Behavior
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Reset URL, unload and switch to next tab
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Unload and switch to next tab
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Reset URL and switch to next tab
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Switch to next tab
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Reset URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Close tab
pane-zen-workspaces-header = Workspaces
zen-settings-workspaces-header = General settings for workspaces
zen-settings-workspaces-description = With workspaces, you can have multiple browsing sessions at once!
zen-settings-workspaces-enabled = 
    .label = Enable Workspaces
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Hide the default container indicator in the tab bar
zen-key-unsaved = Unsaved shortcut! Please save it by clicking the "Escape" key after retyping it.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = Theme Settings
zen-vertical-tabs-title = Sidebar and tabs layout
zen-vertical-tabs-header = Vertical Tabs
zen-vertical-tabs-description = Manage your tabs in a vertical layout
zen-vertical-tabs-show-expand-button = 
    .label = Show Expand Button
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Show New Tab Button on Tab List
zen-vertical-tabs-newtab-top-button-up = 
    .label = Move the new tab button to the top
zen-vertical-tabs-expand-tabs-by-default = Expand Tabs by Default
zen-vertical-tabs-dont-expand-tabs-by-default = Don't Expand Tabs by Default
zen-vertical-tabs-expand-tabs-on-hover = Expand Tabs on Hover (Won't work on compact mode)
zen-vertical-tabs-expand-tabs-header = How to expand tabs
zen-vertical-tabs-expand-tabs-description = Choose how to expand tabs in the sidebar
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Disable all mods
zen-theme-disable-all-disabled = 
    .title = Enable all mods
zen-theme-marketplace-description = Find and install mods from the store.
zen-theme-marketplace-remove-button = 
    .label = Remove mod
zen-theme-marketplace-check-for-updates-button = 
    .label = Check for Updates
zen-theme-marketplace-import-button = 
    .label = Import mods
zen-theme-marketplace-export-button = 
    .label = Export Mods
zen-theme-marketplace-import-success = Mods imported successfully
zen-theme-marketplace-import-failure = There was an error importing the mods
zen-theme-marketplace-export-success = Mods exported successfully
zen-theme-marketplace-export-failure = There was an error exporting the mods
zen-theme-marketplace-updates-success = Mods updated successfully
zen-theme-marketplace-updates-failure = Couldn't find any updates!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Disable mod
zen-theme-marketplace-toggle-disabled-button = 
    .title = Enable mod
zen-theme-marketplace-remove-confirmation = Are you sure you want to remove this mod?
zen-theme-marketplace-close-modal = Close
zen-theme-marketplace-theme-header-title = 
    .title = CSS Selector: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = None
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Type something...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Automatically update installed mods on startup
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Switch to workspace where container is set as default when opening container tabs
zen-theme-marketplace-link = Visit Store
zen-dark-theme-styles-header = Dark Theme Styles
zen-dark-theme-styles-description = Customize the dark theme to your liking
zen-dark-theme-styles-amoled = Night Theme
zen-dark-theme-styles-default = Default Dark Theme
zen-dark-theme-styles-colorful = Colorful Dark Theme
zen-compact-mode-styles-left = Hide Tab bar
zen-compact-mode-styles-top = Hide Top bar
zen-compact-mode-styles-both = Hide Both
zen-urlbar-title = Zen URL Bar
zen-urlbar-header = General settings for the URL bar
zen-urlbar-description = Customize the URL bar to your liking
zen-urlbar-behavior-label = Behavior
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Floating only when typing
zen-urlbar-behavior-float = 
    .label = Always floating
pane-zen-CKS-title = Keyboard Shortcuts
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Keyboard Shortcuts
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Customize your keyboard shortcuts
zen-settings-CKS-description = Change the default keyboard shortcuts to your liking and improve your browsing experience
zen-settings-CKS-disable-firefox = 
    .label = Disable { -brand-short-name }'s default keyboard shortcuts
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicate Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = Reset to Default
zenCKSOption-group-other = Other
zenCKSOption-group-windowAndTabManagement = Window & Tab Management
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Search & Find
zenCKSOption-group-pageOperations = Page Operations
zenCKSOption-group-historyAndBookmarks = History & Bookmarks
zenCKSOption-group-mediaAndDisplay = Media & Display
zenCKSOption-group-zen-compact-mode = Compact Mode
zenCKSOption-group-zen-workspace = Workspaces
zenCKSOption-group-zen-other = Other Zen Features
zenCKSOption-group-zen-split-view = Split View
zenCKSOption-group-devTools = Developer Tools
zen-key-quick-restart = Quick Restart
zen-window-new-shortcut = New Window
zen-tab-new-shortcut = New Tab
zen-key-redo = Redo
zen-restore-last-closed-tab-shortcut = Restore Last Closed Tab
zen-location-open-shortcut = Open Location
zen-location-open-shortcut-alt = Open Location (Alt)
zen-key-undo-close-window = Undo Close Window
zen-text-action-undo-shortcut = Undo
zen-text-action-redo-shortcut = Redo
zen-text-action-cut-shortcut = Cut
zen-text-action-copy-shortcut = Copy
zen-text-action-copy-url-shortcut = Copy current URL
zen-text-action-copy-url-markdown-shortcut = Copy current URL as Markdown
zen-text-action-paste-shortcut = Paste
zen-text-action-select-all-shortcut = Select All
zen-text-action-delete-shortcut = Delete
zen-history-show-all-shortcut-mac = Show All History (Mac)
zen-full-screen-shortcut = Toggle Full Screen
zen-reader-mode-toggle-shortcut-windows = Toggle Reader Mode (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Toggle Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Toggle Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Toggle Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = View Page Source (Safari)
zen-nav-stop-shortcut = Stop Loading
zen-history-sidebar-shortcut = Show History Sidebar
zen-window-minimize-shortcut = Minimize Window
zen-help-shortcut = Open Help
zen-preferences-shortcut = Open Preferences
zen-hide-app-shortcut = Hide Application
zen-hide-other-apps-shortcut = Hide Other Applications
zen-search-focus-shortcut = Focus Search
zen-search-focus-shortcut-alt = Focus Search (Alt)
zen-downloads-shortcut = Open Downloads
zen-addons-shortcut = Open Add-ons
zen-file-open-shortcut = Open File
zen-save-page-shortcut = Save Page
zen-print-shortcut = Print Page
zen-close-shortcut-2 = Close Tab
zen-mute-toggle-shortcut = Toggle Mute
zen-key-delete = Delete Key
zen-key-go-back = Go Back
zen-key-go-forward = Go Forward
zen-nav-back-shortcut-alt = Navigate Back (Alt)
zen-nav-fwd-shortcut-alt = Navigate Forward (Alt)
zen-history-show-all-shortcut = Show All History
zen-key-enter-full-screen = Enter Full Screen
zen-key-exit-full-screen = Exit Full Screen
zen-ai-chatbot-sidebar-shortcut = Toggle AI Chatbot Sidebar
zen-key-inspector-mac = Toggle Inspector (Mac)
zen-toggle-sidebar-shortcut = Toggle Firefox Sidebar
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = Toggle Reader Mode
zen-picture-in-picture-toggle-shortcut = Toggle Picture-in-Picture
zen-nav-reload-shortcut-2 = Reload Page
zen-key-about-processes = About Processes
zen-page-source-shortcut = View Page Source
zen-page-info-shortcut = View Page Info
zen-find-shortcut = Find on Page
zen-search-find-again-shortcut = Find Again
zen-search-find-again-shortcut-prev = Find Previous
zen-search-find-again-shortcut-2 = Find Again (Alt)
zen-bookmark-this-page-shortcut = Bookmark This Page
zen-bookmark-show-library-shortcut = Show Bookmarks Library
zen-key-stop = Stop Loading
zen-full-zoom-reduce-shortcut = Zoom Out
zen-full-zoom-enlarge-shortcut = Zoom In
zen-full-zoom-reset-shortcut = Reset Zoom
zen-full-zoom-reset-shortcut-alt = Reset Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom In (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom In (Alt 2)
zen-bidi-switch-direction-shortcut = Switch Text Direction
zen-private-browsing-shortcut = Private Browsing
zen-screenshot-shortcut = Take Screenshot
zen-key-sanitize = Clear Browsing Data
zen-quit-app-shortcut = Quit Application
zen-key-wr-capture-cmd = WR Capture Command
zen-key-wr-toggle-capture-sequence-cmd = Toggle WR Capture Sequence
zen-nav-reload-shortcut = Reload Page
zen-nav-reload-shortcut-skip-cache = Reload Page (Skip Cache)
zen-close-shortcut = Close Window
zen-close-tab-shortcut = Close Tab
zen-compact-mode-shortcut-show-sidebar = Toggle Floating Sidebar
zen-compact-mode-shortcut-show-toolbar = Toggle Floating Toolbar
zen-compact-mode-shortcut-toggle = Toggle Compact Mode
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = Switch to Workspace 1
zen-workspace-shortcut-switch-2 = Switch to Workspace 2
zen-workspace-shortcut-switch-3 = Switch to Workspace 3
zen-workspace-shortcut-switch-4 = Switch to Workspace 4
zen-workspace-shortcut-switch-5 = Switch to Workspace 5
zen-workspace-shortcut-switch-6 = Switch to Workspace 6
zen-workspace-shortcut-switch-7 = Switch to Workspace 7
zen-workspace-shortcut-switch-8 = Switch to Workspace 8
zen-workspace-shortcut-switch-9 = Switch to Workspace 9
zen-workspace-shortcut-switch-10 = Switch to Workspace 10
zen-workspace-shortcut-forward = Forward Workspace
zen-workspace-shortcut-backward = Backward Workspace
zen-sidebar-shortcut-toggle = Toggle Sidebar's Width
zen-pinned-tab-shortcut-reset = Reset Pinned Tab to Pinned URL
zen-split-view-shortcut-grid = Toggle Split View Grid
zen-split-view-shortcut-vertical = Toggle Split View Vertical
zen-split-view-shortcut-horizontal = Toggle Split View Horizontal
zen-split-view-shortcut-unsplit = Close Split View
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Select tab #1
zen-key-select-tab-2 = Select tab #2
zen-key-select-tab-3 = Select tab #3
zen-key-select-tab-4 = Select tab #4
zen-key-select-tab-5 = Select tab #5
zen-key-select-tab-6 = Select tab #6
zen-key-select-tab-7 = Select tab #7
zen-key-select-tab-8 = Select tab #8
zen-key-select-tab-last = Select last tab
zen-key-show-all-tabs = Show all tabs
zen-key-goto-history = Go to history
zen-key-go-home = Go Home
zen-bookmark-show-sidebar-shortcut = Show Bookmarks Sidebar
zen-bookmark-show-toolbar-shortcut = Show Bookmarks Toolbar
zen-devtools-toggle-shortcut = Toggle DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Toggle Browser Toolbox
zen-devtools-toggle-browser-console-shortcut = Toggle Browser Console
zen-devtools-toggle-responsive-design-mode-shortcut = Toggle Responsive Design Mode
zen-devtools-toggle-inspector-shortcut = Toggle Inspector
zen-devtools-toggle-web-console-shortcut = Toggle Web Console
zen-devtools-toggle-js-debugger-shortcut = Toggle JavaScript Debugger
zen-devtools-toggle-net-monitor-shortcut = Toggle Network Monitor
zen-devtools-toggle-style-editor-shortcut = Toggle Style Editor
zen-devtools-toggle-performance-shortcut = Toggle Performance
zen-devtools-toggle-storage-shortcut = Toggle Storage
zen-devtools-toggle-dom-shortcut = Toggle DOM
zen-devtools-toggle-accessibility-shortcut = Toggle Accessibility
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/ru/browser/browser/zen-folders.ftl
================================================
[Binary file]


================================================
FILE: locales/ru/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = текущий профиль
unified-extensions-description = Расширения дополняют функционал { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Сбросить закреплённую вкладку
    .accesskey = К
tab-context-zen-add-essential = 
    .label = Добавить в важное
    .accesskey = У
tab-context-zen-add-essential-badge = { $num }/{ $max } мест занято
tab-context-zen-remove-essential = 
    .label = Удалить из важного
    .accesskey = К
tab-context-zen-replace-pinned-url-with-current = 
    .label = Заменить закреплённый адрес на текущий
    .accesskey = С
tab-context-zen-edit-title = 
    .label = Переименовать...
tab-context-zen-edit-icon = 
    .label = Изменить иконку...
zen-themes-corrupted = Файл модов { -brand-short-name } повреждён. Тема сброшена к стандартной.
zen-shortcuts-corrupted = Файл комбинаций клавиш { -brand-short-name } повреждён. Возвращены комбинации клавиш по умолчанию.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Новая адресная строка активирована, теперь нет необходимости использовать отдельные страницы для новых вкладок.<br/><br/>
    Попробуйте открыть новую вкладку, чтобы увидеть новую адресную строку в действии!
zen-disable = Выключить
pictureinpicture-minimize-btn = 
    .aria-label = Свернуть
    .tooltip = Свернуть
zen-panel-ui-gradient-generator-custom-color = Пользовательский цвет
zen-copy-current-url-confirmation = Адрес скопирован!
zen-general-cancel-label = 
    .label = Отменить
zen-general-confirm = 
    .label = Подтвердить
zen-pinned-tab-replaced = Адрес закреплённой вкладки заменён на текущий адрес!
zen-tabs-renamed = Вкладка успешно переименована!
zen-background-tab-opened-toast = Открыта новая фоновая вкладка!
zen-workspace-renamed-toast = Пространство успешно переименовано!
zen-toggle-compact-mode-button = 
    .label = Компактный режим
    .tooltiptext = Переключить компактный режим

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Узнать больше
zen-close-label = Закрыть
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Найти...
zen-icons-picker-emoji = 
    .label = Эмодзи
zen-icons-picker-svg = 
    .label = Иконки
urlbar-search-mode-zen_actions = Действия
zen-site-data-settings = Настройки
zen-generic-manage = Изменить
zen-generic-more = Ещё
zen-generic-next = Далее
zen-essentials-promo-label = Добавить в важное
zen-essentials-promo-sublabel = Доступ к любимым вкладкам в один клик
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Разрешено
zen-site-data-setting-block = Запрещено
zen-site-data-protections-enabled = Включено
zen-site-data-protections-disabled = Отключено
zen-site-data-setting-cross-site = Межсайтовые куки
zen-site-data-security-info-extension = 
    .label = Расширение
zen-site-data-security-info-secure = 
    .label = Безопасно
zen-site-data-security-info-not-secure = 
    .label = Небезопасно
zen-site-data-manage-addons = 
    .label = Управление расширениями
zen-site-data-get-addons = 
    .label = Добавить расширения
zen-site-data-site-settings = 
    .label = Все настройки сайта
zen-site-data-header-share = 
    .tooltiptext = Поделиться страницей
zen-site-data-header-reader-mode = 
    .tooltiptext = Режим чтения
zen-site-data-header-screenshot = 
    .tooltiptext = Сделать снимок экрана
zen-site-data-header-bookmark = 
    .tooltiptext = Добавить в закладки
zen-urlbar-copy-url-button = 
    .tooltiptext = Скопировать URL
zen-site-data-setting-site-protection = Защита от отслеживания

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Новый дом для расширений, разрешений и всего остального
zen-site-data-panel-feature-callout-subtitle = Нажмите на значок для доступа к настройкам сайта, параметрам безопасности, расширениям и прочим действиям.
zen-open-link-in-glance = 
    .label = Открыть ссылку в предпросмотре
    .accesskey = П
zen-sidebar-notification-updated-heading = Обновление завершено!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Что нового в { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Примечания к выпуску
zen-sidebar-notification-restart-safe-mode-label = Что-то пошло не так?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Перезапустить в безопасном режиме
zen-window-sync-migration-dialog-title = Синхронизируйте окна
zen-window-sync-migration-dialog-message = Теперь Zen синхронизирует окна на одном устройстве, поэтому изменения в одном окне будут мгновенно отображаться в других.
zen-window-sync-migration-dialog-learn-more = Узнать больше
zen-window-sync-migration-dialog-accept = Понятно



================================================
FILE: locales/ru/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Развернуть закрепленные вкладки
           *[false] Свернуть закрепленные вкладки
        }
zen-menubar-appearance = 
    .label = Внешний вид
zen-menubar-appearance-description = 
    .label = Сайты будут использовать:
zen-menubar-appearance-auto = 
    .label = Автоматически
zen-menubar-appearance-light = 
    .label = Светлая
zen-menubar-appearance-dark = 
    .label = Тёмная
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/ru/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Разделить вкладку (выберите несколько вкладок)
            [one] Разделить { $tabCount } вкладку
            [few] Разделить { $tabCount } вкладки
           *[other] Разделить { $tabCount } вкладок
        }
    .accesskey = Ы
zen-split-link = 
    .label = Раздельный вид в новой вкладке
    .accesskey = Ы
zen-split-view-modifier-header = Разделение вкладок
zen-split-view-modifier-activate-reallocation = 
    .label = Активировать перемещение вкладок
zen-split-view-modifier-enabled-toast = Перемещение разделённых вкладок активировано.
zen-split-view-modifier-enabled-toast-description = Перетащите вкладку, чтобы изменить её расположение. Нажмите Esc для выхода.
zen-split-view-modifier-disabled-toast = Перемещение разделённых вкладок деактивировано.



================================================
FILE: locales/ru/browser/browser/zen-vertical-tabs.ftl
================================================
[Binary file]


================================================
FILE: locales/ru/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Отключить звук
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Включить звук
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Отключить мобильный user agent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Включить мобильный user agent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Выгрузить веб-панель
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Удалить веб-панель
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Открыть в новой вкладке
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Открыть во вкладке контейнера
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Добавить в веб-панели
    .accesskey = A
zen-webpanel-introduction-title = Добро пожаловать в веб-панели Zen
zen-webpanel-introduction-description = Веб-панели — это способ держать любимые сайты под рукой.



================================================
FILE: locales/ru/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Добро пожаловать
zen-welcome-title-line2 = в спокойный интернет
zen-welcome-import-title = Новое начало, прежние закладки
zen-welcome-import-description-1 = Ваши закладки, история и пароли — как след из хлебных крошек в интернете, не оставляйте их!
zen-welcome-import-description-2 = Легко импортируйте их из другого браузера и продолжите работу там, где остановились.
zen-welcome-import-button = Импортировать
zen-welcome-set-default-browser = Установить { -brand-short-name }, как браузер по умолчанию
zen-welcome-dont-set-default-browser = Не устанавливать { -brand-short-name }, как браузер по умолчанию
zen-welcome-initial-essentials-title = Важные вкладки всегда рядом
zen-welcome-initial-essentials-description-1 = Держите самые важные вкладки всегда под рукой, сколько бы их ни было открыто.
zen-welcome-initial-essentials-description-2 = Важные вкладки всегда видны, независимо от того, в каком рабочем пространстве вы находитесь.
zen-welcome-workspace-colors-title = Ваши пространства, ваши цвета
zen-welcome-workspace-colors-description = Персонализируйте браузер, придав каждому рабочему пространству свой собственный уникальный цвет.
zen-welcome-start-browsing-title =
    Всё настроили?<br/>
    Погружайтесь!
zen-welcome-start-browsing-description-1 = Всё настроено и готово к работе. Нажмите кнопку ниже, чтобы начать искать с { -brand-short-name }.
zen-welcome-start-browsing = Погрузиться!
zen-welcome-default-search-title = Ваша поисковая система по умолчанию
zen-welcome-default-search-description = Выберите поисковую систему по умолчанию. Вы всегда можете изменить её позже!
zen-welcome-skip-button = Пропустить
zen-welcome-finished = Zen настроен правильно!



================================================
FILE: locales/ru/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Пространства
zen-panel-ui-spaces-label = 
    .label = Пространства
zen-panel-ui-workspaces-create = 
    .label = Создать пространство
zen-panel-ui-folder-create = 
    .label = Создать папку
zen-panel-ui-new-empty-split = 
    .label = Новая разделённая вкладка
zen-workspaces-panel-context-delete = 
    .label = Удалить пространство
    .accesskey = В
zen-workspaces-panel-change-name = 
    .label = Переименовать
zen-workspaces-panel-change-icon = 
    .label = Изменить значок
zen-workspaces-panel-context-default-profile = 
    .label = Настроить профиль
zen-workspaces-panel-unload = 
    .label = Выгрузить пространство
zen-workspaces-how-to-reorder-title = Как переупорядочить пространства
zen-workspaces-how-to-reorder-desc = Перетащите пространства внизу боковой панели, чтобы изменить их порядок
zen-workspaces-change-theme = 
    .label = Изменить тему
zen-workspaces-panel-context-open = 
    .label = Открыть пространство
    .accesskey = Щ
zen-workspaces-panel-context-edit = 
    .label = Редактировать пространство
    .accesskey = У
zen-bookmark-edit-panel-workspace-selector = 
    .value = Пространства
    .accesskey = Ц
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Комплементарное
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Раздельное
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Аналоговое
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Триада
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Плавающее
zen-panel-ui-gradient-click-to-add = Нажмите, чтобы добавить цвет
zen-workspace-creation-name = 
    .placeholder = Название пространства
zen-move-tab-to-workspace-button = 
    .label = Переместить в...
    .tooltiptext = Переместить все вкладки в пространство
zen-workspaces-panel-context-reorder = 
    .label = Переупорядочить пространства
zen-workspace-creation-profile = Профиль
    .tooltiptext = Профили используются для разделения файлов куки и данных сайта между пространствами.
zen-workspace-creation-header = Создать пространство
zen-workspace-creation-label = Пространства используются для организации ваших вкладок и сеансов.
zen-workspaces-delete-workspace-title = Удалить пространство?
zen-workspaces-delete-workspace-body = Вы уверены, что хотите удалить { $name }? Это действие необратимо.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Вкладки закрыты! Нажмите <span>{ $shortcut }</span> для отмены.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Очистить
    .tooltiptext = Закрыть все не закреплённые вкладки
zen-panel-ui-workspaces-change-forward = 
    .label = Следующее пространство
zen-panel-ui-workspaces-change-back = 
    .label = Предыдущее пространство



================================================
FILE: locales/ru/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Тема с тёмной цветовой схемой и приятным галактическим акцентом!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = Тема в светлой цветовой гамме с приятными мечтательными оттенками!



================================================
FILE: locales/ru/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Исходный адрес
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Отображать эту веб-панель в мобильном режиме
    .accesskey = m



================================================
FILE: locales/ru/browser/browser/preferences/zen-preferences.ftl
================================================
[Binary file]


================================================
FILE: locales/sk/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/sk/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = current profile
unified-extensions-description = Extensions are used to bring more extra functionality into { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Reset Pinned Tab
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Replace Pinned URL with Current
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Your { -brand-short-name } mods file is corrupted. They have been reset to the default theme.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    The new URL bar has been enabled, removing the need for new tab pages.<br/><br/>
    Try opening a new tab to see the new URL bar in action!
zen-disable = Disable
pictureinpicture-minimize-btn = 
    .aria-label = Minimize
    .tooltip = Minimize
zen-panel-ui-gradient-generator-custom-color = Custom Color
zen-copy-current-url-confirmation = Copied current URL!
zen-general-cancel-label = 
    .label = Cancel
zen-general-confirm = 
    .label = Confirm
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL!
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!
zen-toggle-compact-mode-button = 
    .label = Compact Mode
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Learn More
zen-close-label = Close
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Search...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Icons
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = Settings
zen-generic-manage = Manage
zen-generic-more = More
zen-generic-next = Next
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Allowed
zen-site-data-setting-block = Blocked
zen-site-data-protections-enabled = Enabled
zen-site-data-protections-disabled = Disabled
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = Extension
zen-site-data-security-info-secure = 
    .label = Secure
zen-site-data-security-info-not-secure = 
    .label = Not Secure
zen-site-data-manage-addons = 
    .label = Manage Extensions
zen-site-data-get-addons = 
    .label = Add Extensions
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = Share This Page
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = Take a Screenshot
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = Copy URL
zen-site-data-setting-site-protection = Tracking Protection

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Update Complete!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = What's new in { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/sk/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/sk/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Tab (multiple selected tabs needed)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S
zen-split-link = 
    .label = Split link to new tab
    .accesskey = S
zen-split-view-modifier-header = Split View
zen-split-view-modifier-activate-reallocation = 
    .label = Activate reallocation
zen-split-view-modifier-enabled-toast = Split view rearrange is ON.
zen-split-view-modifier-enabled-toast-description = Drag and drop the view to rearrange. Press Esc to exit.
zen-split-view-modifier-disabled-toast = Split view rearrange is OFF.



================================================
FILE: locales/sk/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Tabs on the right
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Compact Mode
zen-toolbar-context-compact-mode-enable = 
    .label = Enable compact mode
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Hide sidebar
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Hide toolbar
zen-toolbar-context-compact-mode-hide-both = 
    .label = Hide both
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = New Folder
    .accesskey = N
sidebar-zen-expand = 
    .label = Expand Sidebar
sidebar-zen-create-new = 
    .label = Create New...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Unload and switch to tab
           *[other] Unload { $tabCount } tabs and switch to the first
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset and pin tab
           *[other] Reset and pin { $tabCount } tabs
        }
tab-reset-pin-label = Back to pinned url



================================================
FILE: locales/sk/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Welcome to
zen-welcome-title-line2 = a calmer internet
zen-welcome-import-title = A Fresh Start, Same Bookmarks
zen-welcome-import-description-1 = Your bookmarks, history, and passwords are like a trail of breadcrumbs through the internet—don’t leave them behind!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off.
zen-welcome-import-button = Import now
zen-welcome-set-default-browser = Set { -brand-short-name } as your default browser
zen-welcome-dont-set-default-browser = DON’T set { -brand-short-name } as your default browser
zen-welcome-initial-essentials-title = Your Key Tabs, Always Within Reach
zen-welcome-initial-essentials-description-1 = Keep your most important tabs easily accessible and always at hand, no matter how many you open.
zen-welcome-initial-essentials-description-2 = Essential tabs are always visible, no matter what workspace you are in.
zen-welcome-workspace-colors-title = Your Workspaces, Your Colors
zen-welcome-workspace-colors-description = Personalize your browser by giving each workspace its own unique color identity.
zen-welcome-start-browsing-title =
    All set?<br/>
    Let’s get rolling!
zen-welcome-start-browsing-description-1 = You’re all set up and ready to go. Click the button below to start browsing with { -brand-short-name }.
zen-welcome-start-browsing = Dive in!
zen-welcome-default-search-title = Your Default Search Engine
zen-welcome-default-search-description = Choose your default search engine. You can always change it later!
zen-welcome-skip-button = Skip
zen-welcome-finished = Your Zen has been set up correctly!



================================================
FILE: locales/sk/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Spaces
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Create Space
zen-panel-ui-folder-create = 
    .label = Create Folder
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = Delete Space
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Change Name
zen-workspaces-panel-change-icon = 
    .label = Change Icon
zen-workspaces-panel-context-default-profile = 
    .label = Set Profile
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them
zen-workspaces-change-theme = 
    .label = Edit Theme
zen-workspaces-panel-context-open = 
    .label = Open Workspace
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Edit Space
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a color
zen-workspace-creation-name = 
    .placeholder = Space Name
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Reorder Spaces
zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.
zen-workspaces-delete-workspace-title = Delete Space?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/sk/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Look and Feel
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Changing the default language could make it easier for Websites to track you.
zen-vertical-tabs-layout-header = Browser Layout
zen-vertical-tabs-layout-description = Choose the layout that suits you best
zen-layout-single-toolbar = Only Sidebar
zen-layout-multiple-toolbar = Sidebar and Top Toolbar
zen-layout-collapsed-toolbar = Collapsed Sidebar
sync-currently-syncing-workspaces = Workspaces
sync-engine-workspaces = 
    .label = Workspaces
    .tooltiptext = Sync your workspaces across devices
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = General settings for glance
zen-glance-description = Get a quick overview of your links without opening them in a new tab
zen-glance-trigger-label = Trigger method
zen-glance-enabled = 
    .label = Enable Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + Click
zen-glance-trigger-shift-click = 
    .label = Shift + Click
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = Show in compact view
zen-look-and-feel-compact-view-description = Only show the toolbars you use!
zen-look-and-feel-compact-view-enabled = 
    .label = Enable { -brand-short-name }'s compact mode
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Hide the top toolbar as well in compact mode
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Briefly make the toolbar popup when switching or opening new tabs in compact mode
pane-zen-tabs-title = Tab Management
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Workspaces
zen-tabs-unloader-enabled = 
    .label = Enable Tab Unloader
zen-tabs-close-on-back-with-no-history = 
    .label = Close tab and switch to its owner tab (or most recently used tab) when going back with no history
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab cycles within Essential or Workspace tabs only
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignore Pending tabs when cycling with Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab will cycle by recently used order, as it is enabled
zen-look-and-feel-compact-toolbar-themed = 
    .label = Use themed background for compact toolbar
zen-workspace-continue-where-left-off = 
    .label = Continue where you left off
pane-zen-pinned-tab-manager-title = Pinned Tabs
zen-pinned-tab-manager-header = General settings for pinned tabs
zen-pinned-tab-manager-description = Manage additional behavior of pinned tabs
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Restore pinned tabs to their originally pinned URL on startup
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Enable container-specific essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Close Tab Shortcut Behavior
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Reset URL, unload and switch to next tab
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Unload and switch to next tab
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Reset URL and switch to next tab
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Switch to next tab
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Reset URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Close tab
pane-zen-workspaces-header = Workspaces
zen-settings-workspaces-header = General settings for workspaces
zen-settings-workspaces-description = With workspaces, you can have multiple browsing sessions at once!
zen-settings-workspaces-enabled = 
    .label = Enable Workspaces
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Hide the default container indicator in the tab bar
zen-key-unsaved = Unsaved shortcut! Please save it by clicking the "Escape" key after retyping it.
zen-key-conflict = Conflicts with { $group } -> { $shortcut }
pane-zen-theme-title = Theme Settings
zen-vertical-tabs-title = Sidebar and tabs layout
zen-vertical-tabs-header = Vertical Tabs
zen-vertical-tabs-description = Manage your tabs in a vertical layout
zen-vertical-tabs-show-expand-button = 
    .label = Show Expand Button
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Show New Tab Button on Tab List
zen-vertical-tabs-newtab-top-button-up = 
    .label = Move the new tab button to the top
zen-vertical-tabs-expand-tabs-by-default = Expand Tabs by Default
zen-vertical-tabs-dont-expand-tabs-by-default = Don't Expand Tabs by Default
zen-vertical-tabs-expand-tabs-on-hover = Expand Tabs on Hover (Won't work on compact mode)
zen-vertical-tabs-expand-tabs-header = How to expand tabs
zen-vertical-tabs-expand-tabs-description = Choose how to expand tabs in the sidebar
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Disable all mods
zen-theme-disable-all-disabled = 
    .title = Enable all mods
zen-theme-marketplace-description = Find and install mods from the store.
zen-theme-marketplace-remove-button = 
    .label = Remove mod
zen-theme-marketplace-check-for-updates-button = 
    .label = Check for Updates
zen-theme-marketplace-import-button = 
    .label = Import mods
zen-theme-marketplace-export-button = 
    .label = Export Mods
zen-theme-marketplace-import-success = Mods imported successfully
zen-theme-marketplace-import-failure = There was an error importing the mods
zen-theme-marketplace-export-success = Mods exported successfully
zen-theme-marketplace-export-failure = There was an error exporting the mods
zen-theme-marketplace-updates-success = Mods updated successfully
zen-theme-marketplace-updates-failure = Couldn't find any updates!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Disable mod
zen-theme-marketplace-toggle-disabled-button = 
    .title = Enable mod
zen-theme-marketplace-remove-confirmation = Are you sure you want to remove this mod?
zen-theme-marketplace-close-modal = Close
zen-theme-marketplace-theme-header-title = 
    .title = CSS Selector: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = None
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Type something...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Automatically update installed mods on startup
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Switch to workspace where container is set as default when opening container tabs
zen-theme-marketplace-link = Visit Store
zen-dark-theme-styles-header = Dark Theme Styles
zen-dark-theme-styles-description = Customize the dark theme to your liking
zen-dark-theme-styles-amoled = Night Theme
zen-dark-theme-styles-default = Default Dark Theme
zen-dark-theme-styles-colorful = Colorful Dark Theme
zen-compact-mode-styles-left = Hide Tab bar
zen-compact-mode-styles-top = Hide Top bar
zen-compact-mode-styles-both = Hide Both
zen-urlbar-title = Zen URL Bar
zen-urlbar-header = General settings for the URL bar
zen-urlbar-description = Customize the URL bar to your liking
zen-urlbar-behavior-label = Behavior
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Floating only when typing
zen-urlbar-behavior-float = 
    .label = Always floating
pane-zen-CKS-title = Keyboard Shortcuts
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Keyboard Shortcuts
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Customize your keyboard shortcuts
zen-settings-CKS-description = Change the default keyboard shortcuts to your liking and improve your browsing experience
zen-settings-CKS-disable-firefox = 
    .label = Disable { -brand-short-name }'s default keyboard shortcuts
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicate Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = Reset to Default
zenCKSOption-group-other = Other
zenCKSOption-group-windowAndTabManagement = Window & Tab Management
zenCKSOption-group-navigation = Navigation
zenCKSOption-group-searchAndFind = Search & Find
zenCKSOption-group-pageOperations = Page Operations
zenCKSOption-group-historyAndBookmarks = History & Bookmarks
zenCKSOption-group-mediaAndDisplay = Media & Display
zenCKSOption-group-zen-compact-mode = Compact Mode
zenCKSOption-group-zen-workspace = Workspaces
zenCKSOption-group-zen-other = Other Zen Features
zenCKSOption-group-zen-split-view = Split View
zenCKSOption-group-devTools = Developer Tools
zen-key-quick-restart = Quick Restart
zen-window-new-shortcut = New Window
zen-tab-new-shortcut = New Tab
zen-key-redo = Redo
zen-restore-last-closed-tab-shortcut = Restore Last Closed Tab
zen-location-open-shortcut = Open Location
zen-location-open-shortcut-alt = Open Location (Alt)
zen-key-undo-close-window = Undo Close Window
zen-text-action-undo-shortcut = Undo
zen-text-action-redo-shortcut = Redo
zen-text-action-cut-shortcut = Cut
zen-text-action-copy-shortcut = Copy
zen-text-action-copy-url-shortcut = Copy current URL
zen-text-action-copy-url-markdown-shortcut = Copy current URL as Markdown
zen-text-action-paste-shortcut = Paste
zen-text-action-select-all-shortcut = Select All
zen-text-action-delete-shortcut = Delete
zen-history-show-all-shortcut-mac = Show All History (Mac)
zen-full-screen-shortcut = Toggle Full Screen
zen-reader-mode-toggle-shortcut-windows = Toggle Reader Mode (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Toggle Picture-in-Picture (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Toggle Picture-in-Picture (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Toggle Picture-in-Picture (Mac Alt)
zen-page-source-shortcut-safari = View Page Source (Safari)
zen-nav-stop-shortcut = Stop Loading
zen-history-sidebar-shortcut = Show History Sidebar
zen-window-minimize-shortcut = Minimize Window
zen-help-shortcut = Open Help
zen-preferences-shortcut = Open Preferences
zen-hide-app-shortcut = Hide Application
zen-hide-other-apps-shortcut = Hide Other Applications
zen-search-focus-shortcut = Focus Search
zen-search-focus-shortcut-alt = Focus Search (Alt)
zen-downloads-shortcut = Open Downloads
zen-addons-shortcut = Open Add-ons
zen-file-open-shortcut = Open File
zen-save-page-shortcut = Save Page
zen-print-shortcut = Print Page
zen-close-shortcut-2 = Close Tab
zen-mute-toggle-shortcut = Toggle Mute
zen-key-delete = Delete Key
zen-key-go-back = Go Back
zen-key-go-forward = Go Forward
zen-nav-back-shortcut-alt = Navigate Back (Alt)
zen-nav-fwd-shortcut-alt = Navigate Forward (Alt)
zen-history-show-all-shortcut = Show All History
zen-key-enter-full-screen = Enter Full Screen
zen-key-exit-full-screen = Exit Full Screen
zen-ai-chatbot-sidebar-shortcut = Toggle AI Chatbot Sidebar
zen-key-inspector-mac = Toggle Inspector (Mac)
zen-toggle-sidebar-shortcut = Toggle Firefox Sidebar
zen-toggle-pin-tab-shortcut = Toggle Pin Tab
zen-reader-mode-toggle-shortcut-other = Toggle Reader Mode
zen-picture-in-picture-toggle-shortcut = Toggle Picture-in-Picture
zen-nav-reload-shortcut-2 = Reload Page
zen-key-about-processes = About Processes
zen-page-source-shortcut = View Page Source
zen-page-info-shortcut = View Page Info
zen-find-shortcut = Find on Page
zen-search-find-again-shortcut = Find Again
zen-search-find-again-shortcut-prev = Find Previous
zen-search-find-again-shortcut-2 = Find Again (Alt)
zen-bookmark-this-page-shortcut = Bookmark This Page
zen-bookmark-show-library-shortcut = Show Bookmarks Library
zen-key-stop = Stop Loading
zen-full-zoom-reduce-shortcut = Zoom Out
zen-full-zoom-enlarge-shortcut = Zoom In
zen-full-zoom-reset-shortcut = Reset Zoom
zen-full-zoom-reset-shortcut-alt = Reset Zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zoom In (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zoom In (Alt 2)
zen-bidi-switch-direction-shortcut = Switch Text Direction
zen-private-browsing-shortcut = Private Browsing
zen-screenshot-shortcut = Take Screenshot
zen-key-sanitize = Clear Browsing Data
zen-quit-app-shortcut = Quit Application
zen-key-wr-capture-cmd = WR Capture Command
zen-key-wr-toggle-capture-sequence-cmd = Toggle WR Capture Sequence
zen-nav-reload-shortcut = Reload Page
zen-nav-reload-shortcut-skip-cache = Reload Page (Skip Cache)
zen-close-shortcut = Close Window
zen-close-tab-shortcut = Close Tab
zen-compact-mode-shortcut-show-sidebar = Toggle Floating Sidebar
zen-compact-mode-shortcut-show-toolbar = Toggle Floating Toolbar
zen-compact-mode-shortcut-toggle = Toggle Compact Mode
zen-glance-expand = Expand Glance
zen-workspace-shortcut-switch-1 = Switch to Workspace 1
zen-workspace-shortcut-switch-2 = Switch to Workspace 2
zen-workspace-shortcut-switch-3 = Switch to Workspace 3
zen-workspace-shortcut-switch-4 = Switch to Workspace 4
zen-workspace-shortcut-switch-5 = Switch to Workspace 5
zen-workspace-shortcut-switch-6 = Switch to Workspace 6
zen-workspace-shortcut-switch-7 = Switch to Workspace 7
zen-workspace-shortcut-switch-8 = Switch to Workspace 8
zen-workspace-shortcut-switch-9 = Switch to Workspace 9
zen-workspace-shortcut-switch-10 = Switch to Workspace 10
zen-workspace-shortcut-forward = Forward Workspace
zen-workspace-shortcut-backward = Backward Workspace
zen-sidebar-shortcut-toggle = Toggle Sidebar's Width
zen-pinned-tab-shortcut-reset = Reset Pinned Tab to Pinned URL
zen-split-view-shortcut-grid = Toggle Split View Grid
zen-split-view-shortcut-vertical = Toggle Split View Vertical
zen-split-view-shortcut-horizontal = Toggle Split View Horizontal
zen-split-view-shortcut-unsplit = Close Split View
zen-new-empty-split-view-shortcut = New Empty Split View
zen-key-select-tab-1 = Select tab #1
zen-key-select-tab-2 = Select tab #2
zen-key-select-tab-3 = Select tab #3
zen-key-select-tab-4 = Select tab #4
zen-key-select-tab-5 = Select tab #5
zen-key-select-tab-6 = Select tab #6
zen-key-select-tab-7 = Select tab #7
zen-key-select-tab-8 = Select tab #8
zen-key-select-tab-last = Select last tab
zen-key-show-all-tabs = Show all tabs
zen-key-goto-history = Go to history
zen-key-go-home = Go Home
zen-bookmark-show-sidebar-shortcut = Show Bookmarks Sidebar
zen-bookmark-show-toolbar-shortcut = Show Bookmarks Toolbar
zen-devtools-toggle-shortcut = Toggle DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Toggle Browser Toolbox
zen-devtools-toggle-browser-console-shortcut = Toggle Browser Console
zen-devtools-toggle-responsive-design-mode-shortcut = Toggle Responsive Design Mode
zen-devtools-toggle-inspector-shortcut = Toggle Inspector
zen-devtools-toggle-web-console-shortcut = Toggle Web Console
zen-devtools-toggle-js-debugger-shortcut = Toggle JavaScript Debugger
zen-devtools-toggle-net-monitor-shortcut = Toggle Network Monitor
zen-devtools-toggle-style-editor-shortcut = Toggle Style Editor
zen-devtools-toggle-performance-shortcut = Toggle Performance
zen-devtools-toggle-storage-shortcut = Toggle Storage
zen-devtools-toggle-dom-shortcut = Toggle DOM
zen-devtools-toggle-accessibility-shortcut = Toggle Accessibility
zen-close-all-unpinned-tabs-shortcut = Close All Unpinned Tabs
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/sv-SE/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Sök { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Byt namn på mapp
zen-folders-panel-unpack-folder = 
    .label = Packa upp mapp
zen-folders-new-subfolder = 
    .label = Ny undermapp
zen-folders-panel-delete-folder = 
    .label = Ta bort mapp
zen-folders-panel-convert-folder-to-space = 
    .label = Konvertera mapp till arbetsyta
zen-folders-panel-change-folder-space = 
    .label = Ändra arbetsyta...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Frigör aktiva i denna mapp
zen-folders-unload-folder = 
    .label = Frigör alla flikar
zen-folders-search-no-results = Inga flikar som matchar den sökningen 🤔



================================================
FILE: locales/sv-SE/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = nuvarande profil
unified-extensions-description = Tillägg används för att få fler extra funktioner i { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Återställ Fäst flik
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Lägg till Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } platser fyllda
tab-context-zen-remove-essential = 
    .label = Ta bort från Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Ersätt fäst fliks URL med nuvarande
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Ändra etikett...
tab-context-zen-edit-icon = 
    .label = Ändra ikon...
zen-themes-corrupted = Din { -brand-short-name } modds-fil är skadad. De har återställts till standardtemat.
zen-shortcuts-corrupted = Din { -brand-short-name } Genvägsfil är korrupt. De har återställts till standardgenvägarna.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Det nya adressfältet har aktiverats, vilket eliminerar behovet av nya fliksidor.<br/><br/>
    Försök att öppna en ny flik för att se det nya adressfältet användas!
zen-disable = Inaktivera
pictureinpicture-minimize-btn = 
    .aria-label = Minimera
    .tooltip = Minimera
zen-panel-ui-gradient-generator-custom-color = Anpassad färg
zen-copy-current-url-confirmation = Kopierade nuvarande URL!
zen-general-cancel-label = 
    .label = Avbryt
zen-general-confirm = 
    .label = Bekräfta
zen-pinned-tab-replaced = Den fästa flikens URL har ersatts med den aktuella URL!
zen-tabs-renamed = Fliken har fått nytt namn!
zen-background-tab-opened-toast = Ny bakgrundsflik öppnad!
zen-workspace-renamed-toast = Arbetsytan har fått ett nytt namn!
zen-toggle-compact-mode-button = 
    .label = Kompakt läge
    .tooltiptext = Växla kompakt läge

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Läs mer
zen-close-label = Stäng
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Sök...
zen-icons-picker-emoji = 
    .label = Emojis
zen-icons-picker-svg = 
    .label = Ikoner
urlbar-search-mode-zen_actions = Åtgärder
zen-site-data-settings = Inställningar
zen-generic-manage = Hantera
zen-generic-more = Mer
zen-generic-next = Nästa
zen-essentials-promo-label = Lägg till Essentials
zen-essentials-promo-sublabel = Behåll dina favoritflikar bara ett klick bort
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Tillåtet
zen-site-data-setting-block = Blockerade
zen-site-data-protections-enabled = Aktiverad
zen-site-data-protections-disabled = Inaktiverad
zen-site-data-setting-cross-site = Globala kakor
zen-site-data-security-info-extension = 
    .label = Tillägg
zen-site-data-security-info-secure = 
    .label = Säker
zen-site-data-security-info-not-secure = 
    .label = Inte säker
zen-site-data-manage-addons = 
    .label = Hantera tillägg
zen-site-data-get-addons = 
    .label = Lägg till tillägg
zen-site-data-site-settings = 
    .label = Alla webbplatsinställningar
zen-site-data-header-share = 
    .tooltiptext = Dela denna sida
zen-site-data-header-reader-mode = 
    .tooltiptext = Öppna läsläge
zen-site-data-header-screenshot = 
    .tooltiptext = Ta en skärmdump
zen-site-data-header-bookmark = 
    .tooltiptext = Bokmärk denna sida
zen-urlbar-copy-url-button = 
    .tooltiptext = Kopiera URL
zen-site-data-setting-site-protection = Spårningsskydd

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Ett nytt hem för tillägg, behörigheter och mer
zen-site-data-panel-feature-callout-subtitle = Klicka på ikonen för att hantera webbplatsinställningar, visa säkerhetsinformation, öppna tillägg och utföra vanliga åtgärder.
zen-open-link-in-glance = 
    .label = Öppna länk i Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = Uppdatering slutförd!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Vad är nytt i { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Visa versionsfakta
zen-sidebar-notification-restart-safe-mode-label = Har något gått sönder?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Starta om i felsäkert läge
zen-window-sync-migration-dialog-title = Behåll dina fönster i Sync
zen-window-sync-migration-dialog-message = Zen synkroniserar nu fönster på samma enhet, så ändringar i ett fönster återspeglas direkt i de andra.
zen-window-sync-migration-dialog-learn-more = Läs mer
zen-window-sync-migration-dialog-accept = Jag förstår



================================================
FILE: locales/sv-SE/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expandera fästa flikar
           *[false] Fäll in fästa flikar
        }
zen-menubar-appearance = 
    .label = Utseende
zen-menubar-appearance-description = 
    .label = Webbplatser kommer att använda:
zen-menubar-appearance-auto = 
    .label = Automatiskt
zen-menubar-appearance-light = 
    .label = Ljust
zen-menubar-appearance-dark = 
    .label = Mörkt
zen-menubar-new-unsynced-window = 
    .label = Nytt tomt fönster



================================================
FILE: locales/sv-SE/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Delad flik (flera valda flikar behövs)
           *[other] Delad { $tabCount } flikar
        }
    .accesskey = S
zen-split-link = 
    .label = Dela länk till ny flik
    .accesskey = S
zen-split-view-modifier-header = Delad vy
zen-split-view-modifier-activate-reallocation = 
    .label = Aktivera omallokering
zen-split-view-modifier-enabled-toast = Omordning för delad vy är PÅ.
zen-split-view-modifier-enabled-toast-description = Dra och släpp vyn för att ordna. Tryck på Esc för att avsluta.
zen-split-view-modifier-disabled-toast = Split view omarrangemanget är AV.



================================================
FILE: locales/sv-SE/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Flikar till höger
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Kompakt läge
zen-toolbar-context-compact-mode-enable = 
    .label = Aktivera kompakt läge
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Dölj sidofält
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Dölj verktygsfältet
zen-toolbar-context-compact-mode-hide-both = 
    .label = Dölj båda
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Ny mapp
    .accesskey = N
sidebar-zen-expand = 
    .label = Expandera sidofält
sidebar-zen-create-new = 
    .label = Skapa ny...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Frigör och växla till flik
           *[other] Frigör { $tabCount } flikar och byt till den första
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Återställ och fäst flik
           *[other] Återställ och fäst { $tabCount } flikar
        }
tab-reset-pin-label = Tillbaka till fäst url



================================================
FILE: locales/sv-SE/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Stäng av webbpanelen
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Avtysta webbpanelen
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Inaktivera mobilt användaragenter
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Aktivera Mobil Användaragent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Avinstallera webb panel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Ta bort webb panel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Öppna i ny flik
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Öppna i behållarfliken
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Lägg till i webbpaneler
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/sv-SE/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Välkommen till
zen-welcome-title-line2 = ett lugnare internet
zen-welcome-import-title = En fräsch start, Samma bokmärken
zen-welcome-import-description-1 = Dina bokmärken, historik och lösenord är som ett spår av brödsmulor på nätet —lämna dem inte bakom dig!
zen-welcome-import-description-2 = Ta dem enkelt över från en annan webbläsare och plocka upp precis där du slutade.
zen-welcome-import-button = Importera nu
zen-welcome-set-default-browser = Ställ in { -brand-short-name } som din standardwebbläsare
zen-welcome-dont-set-default-browser = Ställ INTE in { -brand-short-name } som din standardwebbläsare
zen-welcome-initial-essentials-title = Dina nyckelflikar, alltid inom räckhåll
zen-welcome-initial-essentials-description-1 = Håll dina viktigaste flikar lättillgängliga och alltid till hands, oavsett hur många du öppnar.
zen-welcome-initial-essentials-description-2 = Viktiga flikar är alltid synliga, oavsett vilken arbetsyta du befinner dig i.
zen-welcome-workspace-colors-title = Dina arbetsytor, dina färger
zen-welcome-workspace-colors-description = Anpassa din webbläsare genom att ge varje arbetsyta sin egen unika färgidentitet.
zen-welcome-start-browsing-title =
    Allt klart?<br/>
    Låt oss komma igång!
zen-welcome-start-browsing-description-1 = Du är klar och redo att börja. Klicka på knappen nedan för att börja surfa med { -brand-short-name }.
zen-welcome-start-browsing = Dyk in!
zen-welcome-default-search-title = Din standardsökmotor
zen-welcome-default-search-description = Välj din standardsökmotor. Du kan alltid ändra det senare!
zen-welcome-skip-button = Hoppa över
zen-welcome-finished = Din Zen har konfigurerats korrekt!



================================================
FILE: locales/sv-SE/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Arbetsytor
zen-panel-ui-spaces-label = 
    .label = Arbetsytor
zen-panel-ui-workspaces-create = 
    .label = Skapa arbetsyta
zen-panel-ui-folder-create = 
    .label = Skapa mapp
zen-panel-ui-new-empty-split = 
    .label = Ny delad vy
zen-workspaces-panel-context-delete = 
    .label = Ta bort arbetsyta
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Ändra namn
zen-workspaces-panel-change-icon = 
    .label = Ändra ikon
zen-workspaces-panel-context-default-profile = 
    .label = Ange profil
zen-workspaces-panel-unload = 
    .label = Frigör arbetsyta
zen-workspaces-how-to-reorder-title = Hur man flyttar runt arbetsytor
zen-workspaces-how-to-reorder-desc = Dra arbetsyta ikoner längst ner i sidofältet för att ändra ordningen på dem
zen-workspaces-change-theme = 
    .label = Redigera tema
zen-workspaces-panel-context-open = 
    .label = Öppen arbetsyta
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Redigera arbetsyta
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Arbetsytor
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Komplementär
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Delad vy
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analog
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadisk
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Flytande
zen-panel-ui-gradient-click-to-add = Klicka för att lägga till en färg
zen-workspace-creation-name = 
    .placeholder = Namn på arbetsyta
zen-move-tab-to-workspace-button = 
    .label = Flytta till...
    .tooltiptext = Flytta alla flikar i detta fönster till en arbetsyta
zen-workspaces-panel-context-reorder = 
    .label = Flytta om arbetsytor
zen-workspace-creation-profile = Profil
    .tooltiptext = Profiler används för att separera kakor och webbplatsdata mellan arbetsytor.
zen-workspace-creation-header = Skapa en arbetsyta
zen-workspace-creation-label = Arbetsytor används för att organisera dina flikar och sessioner.
zen-workspaces-delete-workspace-title = Ta bort arbetsyta?
zen-workspaces-delete-workspace-body = Är du säker på att du vill radera { $name }? den här åtgärden kan inte ångras.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Flikar stängda! Använd <span>{ $shortcut }</span> för att ångra.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Rensa
    .tooltiptext = Stäng alla flikar som inte är fästa
zen-panel-ui-workspaces-change-forward = 
    .label = Nästa arbetsyta
zen-panel-ui-workspaces-change-back = 
    .label = Föregående arbetsyta



================================================
FILE: locales/sv-SE/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Ett tema med en mörk färgsättning och en fin galaxberöring!
extension-firefox-compact-dream-name = Zen Dröm
extension-firefox-compact-dream-description = Ett tema med en ljus färgsättning och en fin drömmande touch!



================================================
FILE: locales/sv-SE/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Ursprunglig URL
    .accesskey = Jag
zen-new-web-panel-user-agent = 
    .value = Visa denna webbpanel i mobilläge
    .accesskey = m



================================================
FILE: locales/sv-SE/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Utseende och känsla
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Att ändra standardspråk kan göra det lättare för webbplatser att spåra dig.
zen-vertical-tabs-layout-header = Webbläsarlayout
zen-vertical-tabs-layout-description = Välj vilken layout som passar dig bäst
zen-layout-single-toolbar = Single toolbar
zen-layout-multiple-toolbar = Multiple toolbars
zen-layout-collapsed-toolbar = Collapsed toolbar
sync-currently-syncing-workspaces = Arbetsytor
sync-engine-workspaces = 
    .label = Arbetsytor
    .tooltiptext = Synkronisera dina arbetsytor mellan enheter
    .accesskey = W
zen-glance-title = Glance
zen-glance-header = Allmänna inställningar för blick
zen-glance-description = Få en snabb överblick över dina länkar utan att öppna dem i en ny flik
zen-glance-trigger-label = Utlösare metod
zen-glance-enabled = 
    .label = Aktivera Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + klicka
zen-glance-trigger-alt-click = 
    .label = Alt + Klicka
zen-glance-trigger-shift-click = 
    .label = Skift + Klicka
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + klicka
zen-look-and-feel-compact-view-header = Visa i kompakt vy
zen-look-and-feel-compact-view-description = Visa bara verktygsfälten du använder!
zen-look-and-feel-compact-view-enabled = 
    .label = Aktivera { -brand-short-name }s kompakta läge
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Dölj det övre verktygsfältet samt i kompakt läge
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Gör kort popup i verktygsfältet när du växlar eller öppnar nya flikar i kompakt läge
pane-zen-tabs-title = Flikhantering
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Arbetsytor
zen-tabs-unloader-enabled = 
    .label = Aktivera flikfrigörare
zen-tabs-close-on-back-with-no-history = 
    .label = Stäng flik och växla till dess ägarflik (eller senast använda flik) när man går tillbaka utan historik
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab växlar inom flikarna Essential eller Arbetsyta endast
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ignorera väntande flikar när du växlar med Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab växlar mellan senast använd ordning, om det är aktiverat
zen-look-and-feel-compact-toolbar-themed = 
    .label = Använd temabakgrund för kompakt verktygsfält
zen-workspace-continue-where-left-off = 
    .label = Fortsätt där du slutade
pane-zen-pinned-tab-manager-title = Fästa flikar
zen-pinned-tab-manager-header = Allmänna inställningar för fästa flikar
zen-pinned-tab-manager-description = Hantera ytterligare beteende av fästa flikar
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Återställ fästa flikar till sin ursprungligen fästa URL vid start
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Aktivera behållare-specifika essentials
zen-pinned-tab-manager-close-shortcut-behavior-label = Stäng flikens genväg
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Återställ URL, frigör och byt till nästa flik
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Frigör och byt till nästa flik
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Återställ URL och byt till nästa flik
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Växla till nästa flik
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Återställ URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Stäng flik
pane-zen-workspaces-header = Arbetsytor
zen-settings-workspaces-header = Allmänna inställningar för arbetsytor
zen-settings-workspaces-description = Med arbetsytor kan du ha flera sessioner på en gång!
zen-settings-workspaces-enabled = 
    .label = Aktivera arbetsytor (experimentellt)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Dölj standardindikatorn för behållare i flikfältet
zen-key-unsaved = Osparad genväg! Vänligen säkra den genom att klicka på "Escape" knappen efter att du skrivit om den.
zen-key-conflict = Konflikt med { $group } -> { $shortcut }
pane-zen-theme-title = Inställningar för tema
zen-vertical-tabs-title = Sidofält och flikar layout
zen-vertical-tabs-header = Vertikala flikar
zen-vertical-tabs-description = Hantera dina flikar i en vertikal layout
zen-vertical-tabs-show-expand-button = 
    .label = Visa Expand-knappen
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Visa ny flik knapp på fliklista
zen-vertical-tabs-newtab-top-button-up = 
    .label = Flytta ny flik knappen högst upp
zen-vertical-tabs-expand-tabs-by-default = Expandera flikar som standard
zen-vertical-tabs-dont-expand-tabs-by-default = Expandera inte flikar som standard
zen-vertical-tabs-expand-tabs-on-hover = Expandera flikar på Hover (fungerar inte i kompakt läge)
zen-vertical-tabs-expand-tabs-header = Hur man expanderar flikar
zen-vertical-tabs-expand-tabs-description = Välj hur du vill utöka flikarna i sidofältet
zen-theme-marketplace-header = Zen Mods
zen-theme-disable-all-enabled = 
    .title = Inaktivera alla teman
zen-theme-disable-all-disabled = 
    .title = Aktivera alla teman
zen-theme-marketplace-description = Hitta och installera teman från butiken.
zen-theme-marketplace-remove-button = 
    .label = Ta bort tema
zen-theme-marketplace-check-for-updates-button = 
    .label = Sök efter uppdateringar
zen-theme-marketplace-import-button = 
    .label = Importera moddar
zen-theme-marketplace-export-button = 
    .label = Exportera moddar
zen-theme-marketplace-import-success = Mods importerade framgångsrikt
zen-theme-marketplace-import-failure = Det uppstod ett fel vid import av moddarna
zen-theme-marketplace-export-success = Moddar exporterade framgångsrikt
zen-theme-marketplace-export-failure = Det uppstod ett fel vid export av moddarna
zen-theme-marketplace-updates-success = Temat har uppdaterats
zen-theme-marketplace-updates-failure = Kunde inte hitta några uppdateringar!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Inaktivera tema
zen-theme-marketplace-toggle-disabled-button = 
    .title = Aktivera tema
zen-theme-marketplace-remove-confirmation = Är du säker du vill ta bort denna mod?
zen-theme-marketplace-close-modal = Stäng
zen-theme-marketplace-theme-header-title = 
    .title = CSS-väljare: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Ingen
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Skriv något...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Uppdatera installerade moddar automatiskt vid uppstart
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Växla till arbetsyta där behållaren är inställd som standard vid öppnandet av behållarflikar
zen-theme-marketplace-link = Besök butik
zen-dark-theme-styles-header = Mörka temastilar
zen-dark-theme-styles-description = Anpassa det mörka temat till ditt tycke
zen-dark-theme-styles-amoled = Natt tema
zen-dark-theme-styles-default = Standard mörkt tema
zen-dark-theme-styles-colorful = Färgglada mörkt tema
zen-compact-mode-styles-left = Dölj flik-fält
zen-compact-mode-styles-top = Dölj översta fältet
zen-compact-mode-styles-both = Dölj båda
zen-urlbar-title = Zen adressfält
zen-urlbar-header = Allmänna inställningar för adressfältet
zen-urlbar-description = Anpassa adressfältet som du vill ha det
zen-urlbar-behavior-label = Beteende
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Flytande endast när du skriver
zen-urlbar-behavior-float = 
    .label = Alltid flytande
pane-zen-CKS-title = Genvägar för tangentbord
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Tangentbordsgenvägar
category-zen-marketplace = 
    .tooltiptext = Zen Mods
zen-settings-CKS-header = Anpassa dina kortkommandon
zen-settings-CKS-description = Ändra standard kortkommandon till ditt tycke och förbättra din webbupplevelse
zen-settings-CKS-disable-firefox = 
    .label = Inaktivera { -brand-short-name } s standardkortkommandon
zen-settings-CKS-duplicate-shortcut = 
    .label = Duplicera Shortcut
zen-settings-CKS-reset-shortcuts = 
    .label = Återställ till standard
zenCKSOption-group-other = Annat
zenCKSOption-group-windowAndTabManagement = Fönster och flikhantering
zenCKSOption-group-navigation = Navigering
zenCKSOption-group-searchAndFind = Sök & Hitta
zenCKSOption-group-pageOperations = Åtgärder för sidan
zenCKSOption-group-historyAndBookmarks = Historik & Bokmärken
zenCKSOption-group-mediaAndDisplay = Media & visning
zenCKSOption-group-zen-compact-mode = Kompakt läge
zenCKSOption-group-zen-workspace = Arbetsytor
zenCKSOption-group-zen-other = Andra Zen funktioner
zenCKSOption-group-zen-split-view = Delad vy
zenCKSOption-group-devTools = Utvecklarverktyg
zen-key-quick-restart = Snabb omstart
zen-window-new-shortcut = Nytt fönster
zen-tab-new-shortcut = Ny flik
zen-key-redo = Gör om
zen-restore-last-closed-tab-shortcut = Återställ senaste stängda flik
zen-location-open-shortcut = Öppna plats
zen-location-open-shortcut-alt = Öppen plats (Alt)
zen-key-undo-close-window = Ångra stänga fönster
zen-text-action-undo-shortcut = Ångra
zen-text-action-redo-shortcut = Gör om
zen-text-action-cut-shortcut = Klipp
zen-text-action-copy-shortcut = Kopiera
zen-text-action-copy-url-shortcut = Kopiera nuvarande URL
zen-text-action-copy-url-markdown-shortcut = Kopiera aktiv URL som Markdown
zen-text-action-paste-shortcut = Klistra in
zen-text-action-select-all-shortcut = Markera alla
zen-text-action-delete-shortcut = Radera
zen-history-show-all-shortcut-mac = Visa all historik (Mac)
zen-full-screen-shortcut = Växla helskärm
zen-reader-mode-toggle-shortcut-windows = Växla läsarläge (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Växla bild-i-bild (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Växla bild-i-bild (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Växla bild-i-bild (Mac Alt)
zen-page-source-shortcut-safari = Visa sidkälla (Safari)
zen-nav-stop-shortcut = Sluta ladda
zen-history-sidebar-shortcut = Visa historik sidofält
zen-window-minimize-shortcut = Minimera fönster
zen-help-shortcut = Öppna hjälp
zen-preferences-shortcut = Öppna inställningar
zen-hide-app-shortcut = Dölj program
zen-hide-other-apps-shortcut = Dölj andra program
zen-search-focus-shortcut = Fokus Sök
zen-search-focus-shortcut-alt = Fokusera sökning (Alt)
zen-downloads-shortcut = Öppna nedladdningar
zen-addons-shortcut = Öppna tillägg
zen-file-open-shortcut = Öppna fil
zen-save-page-shortcut = Spara sida
zen-print-shortcut = Skriv ut sida
zen-close-shortcut-2 = Stäng flik
zen-mute-toggle-shortcut = Växla tystning
zen-key-delete = Ta bort nyckel
zen-key-go-back = Gå tillbaka
zen-key-go-forward = Gå vidare
zen-nav-back-shortcut-alt = Navigera tillbaka (Alt)
zen-nav-fwd-shortcut-alt = Navigera framåt (Alt)
zen-history-show-all-shortcut = Visa all historik
zen-key-enter-full-screen = Gå till helskärm
zen-key-exit-full-screen = Avsluta helskärm
zen-ai-chatbot-sidebar-shortcut = Växla AI chattbot sidofält
zen-key-inspector-mac = Växla inspektör (Mac)
zen-toggle-sidebar-shortcut = Växla Firefox sidofält
zen-toggle-pin-tab-shortcut = Växla fäst flik
zen-reader-mode-toggle-shortcut-other = Växla läsarläge
zen-picture-in-picture-toggle-shortcut = Växla bild-i-bild
zen-nav-reload-shortcut-2 = Ladda om sida
zen-key-about-processes = Om processer
zen-page-source-shortcut = Visa sidkälla
zen-page-info-shortcut = Visa sidinformation
zen-find-shortcut = Hitta på sidan
zen-search-find-again-shortcut = Hitta igen
zen-search-find-again-shortcut-prev = Hitta föregående
zen-search-find-again-shortcut-2 = Hitta igen (Alt)
zen-bookmark-this-page-shortcut = Bokmärk denna sida
zen-bookmark-show-library-shortcut = Visa bokmärkesbibliotek
zen-key-stop = Sluta ladda
zen-full-zoom-reduce-shortcut = Zooma ut
zen-full-zoom-enlarge-shortcut = Zooma in
zen-full-zoom-reset-shortcut = Återställ zoom
zen-full-zoom-reset-shortcut-alt = Återställ zoom (Alt)
zen-full-zoom-enlarge-shortcut-alt = Zooma in (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Zooma in (Alt 2)
zen-bidi-switch-direction-shortcut = Byt textriktning
zen-private-browsing-shortcut = Privat surfning
zen-screenshot-shortcut = Ta skärmdump
zen-key-sanitize = Rensa surfningsdata
zen-quit-app-shortcut = Avsluta applikationen
zen-key-wr-capture-cmd = WR Capture-kommando
zen-key-wr-toggle-capture-sequence-cmd = Växla WR Capture Sekvens
zen-nav-reload-shortcut = Ladda om sida
zen-nav-reload-shortcut-skip-cache = Ladda om sida (hoppa över cache)
zen-close-shortcut = Stäng fönster
zen-close-tab-shortcut = Stäng flik
zen-compact-mode-shortcut-show-sidebar = Växla flytande sidofält
zen-compact-mode-shortcut-show-toolbar = Växla Flytande verktygsfält
zen-compact-mode-shortcut-toggle = Växla kompakt läge
zen-glance-expand = Expandera Glance
zen-workspace-shortcut-switch-1 = Växla till arbetsyta 1
zen-workspace-shortcut-switch-2 = Växla till arbetsyta 2
zen-workspace-shortcut-switch-3 = Växla till arbetsyta 3
zen-workspace-shortcut-switch-4 = Växla till arbetsyta 4
zen-workspace-shortcut-switch-5 = Växla till arbetsyta 5
zen-workspace-shortcut-switch-6 = Växla till arbetsyta 6
zen-workspace-shortcut-switch-7 = Växla till arbetsyta 7
zen-workspace-shortcut-switch-8 = Växla till arbetsyta 8
zen-workspace-shortcut-switch-9 = Växla till arbetsyta 9
zen-workspace-shortcut-switch-10 = Växla till arbetsyta 10
zen-workspace-shortcut-forward = Vidarebefordra arbetsyta
zen-workspace-shortcut-backward = Bakåt arbetsyta
zen-sidebar-shortcut-toggle = Växla sidofältets bredd
zen-pinned-tab-shortcut-reset = Återställ Fäst flik till Pinned URL
zen-split-view-shortcut-grid = Växla delad vy rutnät
zen-split-view-shortcut-vertical = Växla delad vy vertikal
zen-split-view-shortcut-horizontal = Växla delad vy Horisontell
zen-split-view-shortcut-unsplit = Stäng delad vy
zen-new-empty-split-view-shortcut = Ny tom delad vy
zen-key-select-tab-1 = Välj flik #1
zen-key-select-tab-2 = Välj flik #2
zen-key-select-tab-3 = Välj flik #3
zen-key-select-tab-4 = Välj flik #4
zen-key-select-tab-5 = Välj flik #5
zen-key-select-tab-6 = Välj flik #6
zen-key-select-tab-7 = Välj flik #7
zen-key-select-tab-8 = Välj flik #8
zen-key-select-tab-last = Välj senaste flik
zen-key-show-all-tabs = Visa alla flikar
zen-key-goto-history = Gå till historik
zen-key-go-home = Gå hem
zen-bookmark-show-sidebar-shortcut = Visa bokmärken Sidofält
zen-bookmark-show-toolbar-shortcut = Visa bokmärkesfältet
zen-devtools-toggle-shortcut = Växla utvecklarverktyg
zen-devtools-toggle-browser-toolbox-shortcut = Växla webbläsarens verktygslåda
zen-devtools-toggle-browser-console-shortcut = Växla webbläsarens konsol
zen-devtools-toggle-responsive-design-mode-shortcut = Växla responsivt designläge
zen-devtools-toggle-inspector-shortcut = Växla inspektör
zen-devtools-toggle-web-console-shortcut = Växla webbkonsol
zen-devtools-toggle-js-debugger-shortcut = Växla JavaScript avlusare
zen-devtools-toggle-net-monitor-shortcut = Växla nätverksmonitor
zen-devtools-toggle-style-editor-shortcut = Växla stilredigerare
zen-devtools-toggle-performance-shortcut = Växla prestanda
zen-devtools-toggle-storage-shortcut = Växla lagring
zen-devtools-toggle-dom-shortcut = Växla DOM
zen-devtools-toggle-accessibility-shortcut = Växla tillgänglighetsinställningar
zen-close-all-unpinned-tabs-shortcut = Stäng alla flikar som inte är fästa
zen-new-unsynced-window-shortcut = Nytt tomt fönster



================================================
FILE: locales/th/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Search { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Rename Folder
zen-folders-panel-unpack-folder = 
    .label = Unpack Folder
zen-folders-new-subfolder = 
    .label = New Subfolder
zen-folders-panel-delete-folder = 
    .label = Delete Folder
zen-folders-panel-convert-folder-to-space = 
    .label = Convert folder to Space
zen-folders-panel-change-folder-space = 
    .label = Change Space...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Unload active in this folder
zen-folders-unload-folder = 
    .label = Unload All Tabs
zen-folders-search-no-results = No tabs matching that search 🤔



================================================
FILE: locales/th/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = โปรไฟล์ปัจจุบัน
unified-extensions-description = Extensions are used to bring more extra functionality into { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Reset Pinned Tab
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Add to Essentials
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } slots filled
tab-context-zen-remove-essential = 
    .label = Remove from Essentials
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Replace Pinned URL with Current
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Change Label...
tab-context-zen-edit-icon = 
    .label = Change Icon...
zen-themes-corrupted = Your { -brand-short-name } mods file is corrupted. They have been reset to the default theme.
zen-shortcuts-corrupted = Your { -brand-short-name } shortcuts file is corrupted. They have been reset to the default shortcuts.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    The new URL bar has been enabled, removing the need for new tab pages.<br/><br/>
    Try opening a new tab to see the new URL bar in action!
zen-disable = ปิดใช้งาน
pictureinpicture-minimize-btn = 
    .aria-label = ย่อ
    .tooltip = ย่อ
zen-panel-ui-gradient-generator-custom-color = เลือกสีเอง
zen-copy-current-url-confirmation = คัดลอก URL ปัจจุบันแล้ว!
zen-general-cancel-label = 
    .label = ยกเลิก
zen-general-confirm = 
    .label = ยืนยัน
zen-pinned-tab-replaced = Pinned tab URL has been replaced with the current URL.
zen-tabs-renamed = Tab has been successfully renamed!
zen-background-tab-opened-toast = New background tab opened!
zen-workspace-renamed-toast = Workspace has been successfully renamed!
zen-toggle-compact-mode-button = 
    .label = โหมดกะทัดรัด
    .tooltiptext = Toggle Compact Mode

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = เรียนรู้เพิ่มเติม
zen-close-label = ปิด
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = ค้นหา...
zen-icons-picker-emoji = 
    .label = อิโมจิ
zen-icons-picker-svg = 
    .label = ไอคอน
urlbar-search-mode-zen_actions = Actions
zen-site-data-settings = การตั้งค่า
zen-generic-manage = จัดการ
zen-generic-more = เพิ่มเติม
zen-generic-next = ถัดไป
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = อนุญาต
zen-site-data-setting-block = ถูกบล็อก
zen-site-data-protections-enabled = เปิดใช้งานอยู่
zen-site-data-protections-disabled = ปิดใช้งานอยู่
zen-site-data-setting-cross-site = Cross-Site cookie
zen-site-data-security-info-extension = 
    .label = ส่วนขยาย
zen-site-data-security-info-secure = 
    .label = ปลอดภัย
zen-site-data-security-info-not-secure = 
    .label = ไม่ปลอดภัย
zen-site-data-manage-addons = 
    .label = จัดการส่วนขยาย
zen-site-data-get-addons = 
    .label = เพิ่มส่วนขยาย
zen-site-data-site-settings = 
    .label = All Site Settings
zen-site-data-header-share = 
    .tooltiptext = แชร์หน้านี้
zen-site-data-header-reader-mode = 
    .tooltiptext = Enter Reader Mode
zen-site-data-header-screenshot = 
    .tooltiptext = ถ่ายภาพหน้าจอ
zen-site-data-header-bookmark = 
    .tooltiptext = Bookmark This Page
zen-urlbar-copy-url-button = 
    .tooltiptext = คัดลอก URL
zen-site-data-setting-site-protection = การป้องกันการติดตาม

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = A new home for add-ons, permissions, and more
zen-site-data-panel-feature-callout-subtitle = Click the icon to manage site settings, view security info, access extensions, and perform common actions.
zen-open-link-in-glance = 
    .label = Open Link in Glance
    .accesskey = G
zen-sidebar-notification-updated-heading = อัปเดตเสร็จสมบูรณ์แล้ว!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = มีอะไรใหม่ใน { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = View Release Notes
zen-sidebar-notification-restart-safe-mode-label = Something broke?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Restart in Safe Mode
zen-window-sync-migration-dialog-title = Keep Your Windows in Sync
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Learn More
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/th/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Appearance
zen-menubar-appearance-description = 
    .label = Websites will use:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/th/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Split Tab (multiple selected tabs needed)
           *[other] Split { $tabCount } Tabs
        }
    .accesskey = S
zen-split-link = 
    .label = Split link to new tab
    .accesskey = S
zen-split-view-modifier-header = Split View
zen-split-view-modifier-activate-reallocation = 
    .label = Activate reallocation
zen-split-view-modifier-enabled-toast = Split view rearrange is ON.
zen-split-view-modifier-enabled-toast-description = Drag and drop the view to rearrange. Press Esc to exit.
zen-split-view-modifier-disabled-toast = Split view rearrange is OFF.



================================================
FILE: locales/th/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = แท็บทางด้านขวา
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = โหมดกะทัดรัด
zen-toolbar-context-compact-mode-enable = 
    .label = เปิดใช้โหมดกะทัดรัด
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = ซ่อนแถบด้านข้าง
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = ซ่อนแถบเครื่องมือ
zen-toolbar-context-compact-mode-hide-both = 
    .label = ซ่อนทั้งคู่
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = สร้างโฟลเดอร์ใหม่
    .accesskey = N
sidebar-zen-expand = 
    .label = ขยายแถบด้านข้าง
sidebar-zen-create-new = 
    .label = สร้างใหม่...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Unload and switch to tab
           *[other] Unload { $tabCount } tabs and switch to the first
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Reset and pin tab
           *[other] Reset and pin { $tabCount } tabs
        }
tab-reset-pin-label = กลับไปยัง URL ที่ปักหมุดไป



================================================
FILE: locales/th/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Mute Web Panel
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Unmute Web Panel
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Disable Mobile UserAgent
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Enable Mobile UserAgent
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Unload Web Panel
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Delete Web Panel
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Open in New Tab
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Open in Container Tab
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Add to Web Panels
    .accesskey = A
zen-webpanel-introduction-title = Welcome to Zen Web Panels
zen-webpanel-introduction-description = Web Panels are a way to keep your favorite websites at your fingertips.



================================================
FILE: locales/th/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = ยินดีต้อนรับสู่
zen-welcome-title-line2 = อินเทอร์เน็ตที่สงบลงกว่าเดิม
zen-welcome-import-title = เริ่มต้นใหม่ แต่ยังคงใช้บุ๊กมาร์กเดิม
zen-welcome-import-description-1 = บุ๊กมาร์ก ประวัติการเข้าชม และรหัสผ่านของคุณเปรียบเสมือนร่องรอยที่ทิ้งไว้บนอินเทอร์เน็ต อย่าทิ้งมันไว้เบื้องหลัง!
zen-welcome-import-description-2 = นำข้อมูลจากเบราว์เซอร์อื่นมาใช้ได้อย่างง่ายดาย และใช้งานต่อจากเดิมได้ทันที
zen-welcome-import-button = นำเข้าตอนนี้
zen-welcome-set-default-browser = ตั้งค่า { -brand-short-name } เป็นเบราว์เซอร์เริ่มต้นของคุณ
zen-welcome-dont-set-default-browser = ไม่ตั้งค่า { -brand-short-name } เป็นเบราว์เซอร์เริ่มต้นของคุณ
zen-welcome-initial-essentials-title = แท็บสำคัญของคุณ อยู่ใกล้แค่เอื้อมเสมอ
zen-welcome-initial-essentials-description-1 = เก็บแท็บที่สำคัญที่สุดของคุณไว้ในที่ที่เข้าถึงได้ง่ายและพร้อมใช้งานเสมอ ไม่ว่าคุณจะเปิดแท็บมากแค่ไหน
zen-welcome-initial-essentials-description-2 = แท็บสำคัญจะแสดงให้เห็นเสมอ ไม่ว่าคุณจะอยู่ในพื้นที่ทำงานใดก็ตาม
zen-welcome-workspace-colors-title = พื้นที่ทำงานของคุณ สีสันของคุณ
zen-welcome-workspace-colors-description = ปรับแต่งเบราว์เซอร์ของคุณโดยกำหนดสีเฉพาะตัวให้กับแต่ละพื้นที่ทำงาน
zen-welcome-start-browsing-title =
    พร้อมแล้วหรือยัง?<br/>
    ไปกันเลย!
zen-welcome-start-browsing-description-1 = คุณตั้งค่าทุกอย่างเรียบร้อยแล้ว คลิกปุ่มด้านล่างเพื่อเริ่มใช้งาน { -brand-short-name }
zen-welcome-start-browsing = เริ่มเลย!
zen-welcome-default-search-title = เครื่องมือค้นหาเริ่มต้นของคุณ
zen-welcome-default-search-description = เลือกเครื่องมือค้นหาเริ่มต้นของคุณ คุณสามารถเปลี่ยนมันในภายหลังได้เสมอ!
zen-welcome-skip-button = ข้าม
zen-welcome-finished = Zen ของคุณได้ถูกตั้งค่าอย่างถูกต้องแล้ว



================================================
FILE: locales/th/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Other Workspaces
zen-panel-ui-spaces-label = 
    .label = Spaces
zen-panel-ui-workspaces-create = 
    .label = Create Space
zen-panel-ui-folder-create = 
    .label = สร้างโฟลเดอร์ใหม่
zen-panel-ui-new-empty-split = 
    .label = New Split
zen-workspaces-panel-context-delete = 
    .label = Delete Workspace
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Change Name
zen-workspaces-panel-change-icon = 
    .label = Change Icon
zen-workspaces-panel-context-default-profile = 
    .label = Set Profile
zen-workspaces-panel-unload = 
    .label = Unload Space
zen-workspaces-how-to-reorder-title = How to reorder spaces
zen-workspaces-how-to-reorder-desc = Drag the space icons at the bottom of the sidebar to reorder them
zen-workspaces-change-theme = 
    .label = Edit Theme
zen-workspaces-panel-context-open = 
    .label = Open Workspace
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Edit Workspace
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Spaces
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Complementary
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Split
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Analogous
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Triadic
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Floating
zen-panel-ui-gradient-click-to-add = Click to add a color
zen-workspace-creation-name = 
    .placeholder = Space Name
zen-move-tab-to-workspace-button = 
    .label = Move To...
    .tooltiptext = Move all tabs in this window to a Space
zen-workspaces-panel-context-reorder = 
    .label = Reorder Spaces
zen-workspace-creation-profile = Profile
    .tooltiptext = Profiles are used to separate cookies and site data between spaces.
zen-workspace-creation-header = Create a Space
zen-workspace-creation-label = Spaces are used to organize your tabs and sessions.
zen-workspaces-delete-workspace-title = Delete Workspace?
zen-workspaces-delete-workspace-body = Are you sure you want to delete { $name }? This action cannot be undone.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Tabs Closed! Use <span>{ $shortcut }</span> to undo.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Clear
    .tooltiptext = Close all unpinned tabs
zen-panel-ui-workspaces-change-forward = 
    .label = Next Space
zen-panel-ui-workspaces-change-back = 
    .label = Previous Space



================================================
FILE: locales/th/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = A theme with a dark color scheme and a nice galaxy touch!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = A theme with a light color scheme and a nice dream-y touch!



================================================
FILE: locales/th/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Initial URL
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Display this web panel in mobile mode
    .accesskey = m



================================================
FILE: locales/th/browser/browser/preferences/zen-preferences.ftl
================================================
[Binary file]


================================================
FILE: locales/tr/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = { $folder-name } Ara...
zen-folders-panel-rename-folder = 
    .label = Klasörü Yeniden Adlandır
zen-folders-panel-unpack-folder = 
    .label = Klasörü Çıkar
zen-folders-new-subfolder = 
    .label = Yeni Alt Klasör
zen-folders-panel-delete-folder = 
    .label = Klasörü Sil
zen-folders-panel-convert-folder-to-space = 
    .label = Klasörü Alana Dönüştür
zen-folders-panel-change-folder-space = 
    .label = Alanı Değiştir...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Klasörde aktif olanları boşalt
zen-folders-unload-folder = 
    .label = Tüm sekmeleri boşalt
zen-folders-search-no-results = Aramayla uyuşan sekme yok 🤔



================================================
FILE: locales/tr/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = mevcut profil
unified-extensions-description = Uzantılar { -brand-short-name }'e daha fazla ek işlevsellik kazandırmak için kullanılır.
tab-context-zen-reset-pinned-tab = 
    .label = Sabitlenen Sekmeyi Sıfırla
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Temel Sekmelere Ekle
    .accesskey = E
tab-context-zen-add-essential-badge = { $num } / { $max } yuva dolu
tab-context-zen-remove-essential = 
    .label = Temel Sekmelerden Kaldır
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Sabitlenen URL'yi Mevcut İle Değiştir
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Etiketi Değiştir...
tab-context-zen-edit-icon = 
    .label = Simgeyi Değiştir...
zen-themes-corrupted = { -brand-short-name } adlı modun dosyaları hatalı. Varsayılan temaya sıfırlandılar.
zen-shortcuts-corrupted = { -brand-short-name } kısayol dosyanız bozuldu. Varsayılan kısayollara sıfırlandı.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification =
    Yeni adres çubuğu etkinleştirildi ve yeni sekme sayfalarına olan ihtiyaç ortadan kalktı.<br/><br/>
    Yeni adres çubuğunu çalışırken görmek için yeni bir sekme açmayı dene!
zen-disable = Devre dışı bırak
pictureinpicture-minimize-btn = 
    .aria-label = Küçült
    .tooltip = Küçült
zen-panel-ui-gradient-generator-custom-color = Özel Renk
zen-copy-current-url-confirmation = Geçerli URL kopyalandı!
zen-general-cancel-label = 
    .label = İptal
zen-general-confirm = 
    .label = Onayla
zen-pinned-tab-replaced = Sabitlenmiş sekmenin URL’si, mevcut URL ile değiştirildi!
zen-tabs-renamed = Sekme başarıyla yeniden adlandırıldı!
zen-background-tab-opened-toast = Yeni arka plan sekmesi açıldı!
zen-workspace-renamed-toast = Çalışma alanı başarıyla yeniden adlandırıldı!
zen-toggle-compact-mode-button = 
    .label = Kompakt Mod
    .tooltiptext = Kompakt Modu Aç/Kapat

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Daha Fazla Bilgi
zen-close-label = Kapat
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Ara...
zen-icons-picker-emoji = 
    .label = Emojiler
zen-icons-picker-svg = 
    .label = Simgeler
urlbar-search-mode-zen_actions = Eylemler
zen-site-data-settings = Ayarlar
zen-generic-manage = Yönet
zen-generic-more = Daha
zen-generic-next = Sonraki
zen-essentials-promo-label = Temel Sekmelere Ekle
zen-essentials-promo-sublabel = Favori sekmelerinize tek tıkla erişin
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = İzin verildi
zen-site-data-setting-block = Engellendi
zen-site-data-protections-enabled = Etkinleştirildi
zen-site-data-protections-disabled = Devre dışı bırakıldı
zen-site-data-setting-cross-site = Siteler arası çerez
zen-site-data-security-info-extension = 
    .label = Uzantı
zen-site-data-security-info-secure = 
    .label = Güvenli
zen-site-data-security-info-not-secure = 
    .label = Güvenli Değil
zen-site-data-manage-addons = 
    .label = Uzantıları Yönet
zen-site-data-get-addons = 
    .label = Uzantı Ekle
zen-site-data-site-settings = 
    .label = Tüm Site Ayarları
zen-site-data-header-share = 
    .tooltiptext = Bu Sayfayı Paylaş
zen-site-data-header-reader-mode = 
    .tooltiptext = Okuyucu Moduna Gir
zen-site-data-header-screenshot = 
    .tooltiptext = Ekran Görüntüsü Al
zen-site-data-header-bookmark = 
    .tooltiptext = Bu Sayfayı Yer İmlerine Ekle
zen-urlbar-copy-url-button = 
    .tooltiptext = URL'yi Kopyala
zen-site-data-setting-site-protection = İzleme Koruması

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Eklentiler, izinler ve daha fazlası için yeni bir alan
zen-site-data-panel-feature-callout-subtitle = Site ayarlarını yönetmek, güvenlik bilgilerini görüntülemek, uzantılara erişmek ve yaygın işlemleri gerçekleştirmek için simgeye tıklayın.
zen-open-link-in-glance = 
    .label = Bağlantıyı Hızlı Görünümde Aç
    .accesskey = G
zen-sidebar-notification-updated-heading = Güncelleme Tamamlandı!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = { -brand-short-name }'de neler yeni
zen-sidebar-notification-updated-tooltip = 
    .title = Sürüm Notlarını Görüntüle
zen-sidebar-notification-restart-safe-mode-label = Bir sorun mu oluştu?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Güvenli Modda Yeniden Başlat
zen-window-sync-migration-dialog-title = Pencerelerinizi senkronize tutun
zen-window-sync-migration-dialog-message = Zen artık aynı cihazdaki pencereleri senkronize ediyor; böylece bir pencerede yapılan değişiklikler anında diğer pencerelere yansıyor.
zen-window-sync-migration-dialog-learn-more = Daha fazla bilgi
zen-window-sync-migration-dialog-accept = Anladım



================================================
FILE: locales/tr/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Sabitlenmiş Sekmeleri Genişlet
           *[false] Sabitlenmiş Sekmeleri Daralt
        }
zen-menubar-appearance = 
    .label = Görünüm
zen-menubar-appearance-description = 
    .label = Web siteleri şunu kullanacak:
zen-menubar-appearance-auto = 
    .label = Otomatik
zen-menubar-appearance-light = 
    .label = Açık
zen-menubar-appearance-dark = 
    .label = Koyu
zen-menubar-new-unsynced-window = 
    .label = Yeni Boş Pencere



================================================
FILE: locales/tr/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Bölünmüş Sekme (birden fazla seçilmiş sekme gerekir)
           *[other] { $tabCount } Sekmeyi Böl
        }
    .accesskey = S
zen-split-link = 
    .label = Bağlantıyı yeni sekmeye böl
    .accesskey = S
zen-split-view-modifier-header = Bölünmüş Görünüm
zen-split-view-modifier-activate-reallocation = 
    .label = Gerçek konumu aktif et
zen-split-view-modifier-enabled-toast = Bölünmüş görünüm yeniden düzenleme AÇIK.
zen-split-view-modifier-enabled-toast-description = Yeniden düzenleme için görünümü sürükle ve bırak. Çıkmak için Esc'ye basın.
zen-split-view-modifier-disabled-toast = Bölünmüş görünüm yeniden düzenleme KAPALI.



================================================
FILE: locales/tr/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Sekmeler sağda olsun
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = Kompakt Mod
zen-toolbar-context-compact-mode-enable = 
    .label = Kompakt modu aktifleştir
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Kenar çubuğunu gizle
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Araç çubuğunu gizle
zen-toolbar-context-compact-mode-hide-both = 
    .label = İkisini de gizle
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = Yeni Klasör
    .accesskey = N
sidebar-zen-expand = 
    .label = Kenar Çubuğunu Genişlet
sidebar-zen-create-new = 
    .label = Yeni Oluştur...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [bir] Kapatın ve sekmeye geçin
           *[other] { $tabCount } sekmesini kaldır ve ilkine geç
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [bir] Sıfırlayın ve sabitleyin
           *[other] { $tabCount } Sekmeyi sıfırla ve sabitle
        }
tab-reset-pin-label = Sabitlenen url'ye dön



================================================
FILE: locales/tr/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Web Panelini Sessize Al
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Web Panelini Sessizden Çıkar
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Mobil Kullanıcı Aracısını Devre Dışı Bırak
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Mobil Kullanıcı Aracısını Etkinleştir
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Web Panelini Kaldır
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Web Panelini Sil
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Yeni Sekmede Aç
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Konteyner Sekmesinde Aç
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Web Paneline Ekle
    .accesskey = A
zen-webpanel-introduction-title = Zen Web Paneline hoş geldiniz.
zen-webpanel-introduction-description = Web Paneli, favori web sitelerinizi elinizin altında tutmanın bir yoludur.



================================================
FILE: locales/tr/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Zen'e Hoş Geldiniz
zen-welcome-title-line2 = daha sakin bir internet
zen-welcome-import-title = Yeni Bir Başlangıç, Aynı Yer İmleri
zen-welcome-import-description-1 = Yer imleriniz, geçmişiniz ve parolalarınız internetteki ekmek kırıntıları gibidir; onları geride bırakmayın!
zen-welcome-import-description-2 = Onları başka bir tarayıcıdan kolayca aktarın ve tam bıraktığınız yerden devam edin.
zen-welcome-import-button = Şimdi içe aktar
zen-welcome-set-default-browser = { -brand-short-name }'i varsayılan tarayıcı olarak ayarlayın
zen-welcome-dont-set-default-browser = { -brand-short-name }'i varsayılan tarayıcı olarak AYARLAMAYIN
zen-welcome-initial-essentials-title = Her Zamanki Sekmeleriniz, Her Zaman Yanınızda
zen-welcome-initial-essentials-description-1 = Ne kadar çok sekme açarsanız açın, en önemli sekmelerinizi her zaman kolayca erişilebilir ve elinizin altında tutun.
zen-welcome-initial-essentials-description-2 = Bulunduğunuz çalışma alanı ne olursa olsun, temel sekmeler her zaman görünür.
zen-welcome-workspace-colors-title = Senin Çalışma Alanın, Senin Renklerin
zen-welcome-workspace-colors-description = Her çalışma alanında ayrı renkler kullanarak tarayıcını kişiselleştir.
zen-welcome-start-browsing-title =
    Her şey hazır mı?<br/>
    Hadi başlayalım!
zen-welcome-start-browsing-description-1 = Tamamen hazırsın. Aşağıdaki butona tıklayarak { -brand-short-name } ile aramaya başla.
zen-welcome-start-browsing = Keşfetmeye başla!
zen-welcome-default-search-title = Varsayılan Arama Motorun
zen-welcome-default-search-description = Varsayılan arama motorunu seç. Bu seçimi istediğin zaman değiştirebilirsin!
zen-welcome-skip-button = Atla
zen-welcome-finished = Zen başarıyla kuruldu ve ayarlandı!



================================================
FILE: locales/tr/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = Alanlar
zen-panel-ui-spaces-label = 
    .label = Alanlar
zen-panel-ui-workspaces-create = 
    .label = Alan Oluştur
zen-panel-ui-folder-create = 
    .label = Klasör Oluştur
zen-panel-ui-new-empty-split = 
    .label = Yeni Bölünmüş Görünüm
zen-workspaces-panel-context-delete = 
    .label = Çalışma Alanını Sil
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = Adı Değiştir
zen-workspaces-panel-change-icon = 
    .label = Simgeyi Değiştir
zen-workspaces-panel-context-default-profile = 
    .label = Profil Ayarla
zen-workspaces-panel-unload = 
    .label = Alanı Boşalt
zen-workspaces-how-to-reorder-title = Alanlar nasıl yeniden sıralanır
zen-workspaces-how-to-reorder-desc = Alanları yeniden sıralamak için kenar çubuğunun altındaki alan simgelerini sürükleyin
zen-workspaces-change-theme = 
    .label = Temayı Düzenle
zen-workspaces-panel-context-open = 
    .label = Çalışma Alanı Aç
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = Çalışma Alanını Düzenle
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = Alanlar
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = Tamamlayıcı
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = Böl
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = Benzer
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = Üçlü
zen-panel-ui-gradient-generator-algo-floating = 
    .label = Kayan
zen-panel-ui-gradient-click-to-add = Renk eklemek için tıkla
zen-workspace-creation-name = 
    .placeholder = Alan Adı
zen-move-tab-to-workspace-button = 
    .label = Şuraya Taşı...
    .tooltiptext = Bu penceredeki tüm sekmeleri bir Alana taşı
zen-workspaces-panel-context-reorder = 
    .label = Alanları Yeniden Sırala
zen-workspace-creation-profile = Profil
    .tooltiptext = Profiller, alanlar arasındaki çerezleri ve site verilerini ayırmak için kullanılır.
zen-workspace-creation-header = Bir Alan Oluştur
zen-workspace-creation-label = Alanlar, sekme ve oturumlarınızı düzenlemek için kullanılır.
zen-workspaces-delete-workspace-title = Alan Silinsin mi?
zen-workspaces-delete-workspace-body = { $name } ögesini silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = Sekmeler Kapatıldı! Geri almak için <span>{ $shortcut }</span> tuşlarını kullan.
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = Temizle
    .tooltiptext = Sabitlenmemiş tüm sekmeleri kapat
zen-panel-ui-workspaces-change-forward = 
    .label = Sonraki Alan
zen-panel-ui-workspaces-change-back = 
    .label = Önceki Alan



================================================
FILE: locales/tr/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Koyu renk şemasına ve hoş bir galaksi dokunuşuna sahip bir tema!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = Açık renk şemasına ve hoş bir hayal dokunuşuna sahip bir tema!



================================================
FILE: locales/tr/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Başlangıç Bağlantısı
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Bu web paneli mobil modunda göster
    .accesskey = m



================================================
FILE: locales/tr/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Görünüm ve Hissiyat
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Varsayılan dili değiştirmek, Websitesinin sizi izlemesini kolaylaştırabilir.
zen-vertical-tabs-layout-header = Tarayıcı Düzeni
zen-vertical-tabs-layout-description = Size en uygun düzeni seçin
zen-layout-single-toolbar = Tek Araç Çubuğu
zen-layout-multiple-toolbar = Kenar Çubuğu ve Üst Araç Çubuğu
zen-layout-collapsed-toolbar = Daraltılmış Araç Çubuğu
sync-currently-syncing-workspaces = Çalışma Alanları
sync-engine-workspaces = 
    .label = Çalışma Alanları
    .tooltiptext = Cihazlar arasında çalışma alanlarını eşitle
    .accesskey = W
zen-glance-title = Göz Atma
zen-glance-header = Göz atma genel ayarları
zen-glance-description = Bağlantıları yeni bir sekmede açmadan hızlı bir şekilde gözden geçir
zen-glance-trigger-label = Tetikleme yöntemi
zen-glance-enabled = 
    .label = Gözden Geçirmeyi Aktifleştir
zen-glance-trigger-ctrl-click = 
    .label = Ctrl+Tıklama
zen-glance-trigger-alt-click = 
    .label = Alt + Tıklama
zen-glance-trigger-shift-click = 
    .label = Shift+Tıklama
zen-glance-trigger-meta-click = 
    .label = Meta (Komut) + Tıklama
zen-look-and-feel-compact-view-header = Kompakt görünümde göster
zen-look-and-feel-compact-view-description = Sadece kullandığın araç çubuklarını göster!
zen-look-and-feel-compact-view-enabled = 
    .label = { -brand-short-name }'in kompakt modunu aktifleştir
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Kompakt modda üst araç çubuğunu gizle
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Kompakt modda yeni sekmeler arasında geçiş yaparken veya yeni sekmeler açarken araç çubuğunun açılır penceresini aktif edin
pane-zen-tabs-title = Sekme Yönetimi
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Çalışma Alanları
zen-tabs-unloader-enabled = 
    .label = Sekmeler İçin Uyku Modunu Etkinleştir
zen-tabs-close-on-back-with-no-history = 
    .label = Geçmiş kaydı olmadan geri dönerken sekmeyi kapat ve ait olduğu sekmeye (veya en son kullanılan sekmeye) geç
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab yalnızca Temel Sekmeler veya Çalışma Alanı sekmeleri arasında geçiş yapar
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ctrl+Tab ile sekmeler arasında geçiş yaparken Bekleyen sekmeleri yok say
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab, etkinleştirildiği için son kullanılan sıraya göre geçiş yapacaktır
zen-look-and-feel-compact-toolbar-themed = 
    .label = Kompakt araç çubuğu için temalı arka plan kullan
zen-workspace-continue-where-left-off = 
    .label = Bıraktığın yerden devam et
pane-zen-pinned-tab-manager-title = Sabitlenmiş Sekmeler
zen-pinned-tab-manager-header = Sabitlenmiş sekmeler için genel ayarlar
zen-pinned-tab-manager-description = Sabitlenmiş sekmelerin davranışlarını yönetin
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Sabitlenmiş sekmelerin URL'lerini tarayıcı açılışında orjinaline döndür
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Kapsayıcıya özgü temel sekmeleri etkinleştir
zen-pinned-tab-manager-close-shortcut-behavior-label = Sekmeyi Kapatma Kısayolu Davranışı
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = URL'yi sıfırla, yüklemesini kaldır ve sonraki sekmeye geç
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Sayfayı kapat ve sonraki sekmeye geç
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = URL'yi sıfırla ve bir sonraki sekmeye geç
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Sonraki sekmeye geç
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = URL'yi sıfırla
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Sekmeyi kapat
pane-zen-workspaces-header = Çalışma Alanları
zen-settings-workspaces-header = Çalışma alanları için genel ayarlar
zen-settings-workspaces-description = Çalışma alanları sayesinde birden fazla göz atma oturumuna aynı anda sahip olabilirsin!
zen-settings-workspaces-enabled = 
    .label = Çalışma Alanlarını Aktif Et
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Sekme çubuğundaki varsayılan kapsayıcı göstergesini gizle
zen-key-unsaved = Güvenli olmayan kısayol! Lütfen yazdıktan sonra "Escape" tuşuna tıklayarak kaydedin.
zen-key-conflict = { $group } -> { $shortcut } ile çakışıyor
pane-zen-theme-title = Tema Ayarları
zen-vertical-tabs-title = Kenar çubuğu ve sekme düzeni
zen-vertical-tabs-header = Dikey Sekmeler
zen-vertical-tabs-description = Sekmeleri dikey bir düzenle yönet
zen-vertical-tabs-show-expand-button = 
    .label = Genişlet Düğmesini Göster
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Sekmeler Listesinde Yeni Sekme Butonunu Göster
zen-vertical-tabs-newtab-top-button-up = 
    .label = Yeni sekme butonunu yukarı taşı
zen-vertical-tabs-expand-tabs-by-default = Varsayılan Olarak Sekmeleri Genişlet
zen-vertical-tabs-dont-expand-tabs-by-default = Varsayılan Olarak Sekmeler Geniş Olmasın
zen-vertical-tabs-expand-tabs-on-hover = Üzerine gelindiğinde sekmeleri genişlet (Dar görünümde çalışmaz)
zen-vertical-tabs-expand-tabs-header = Sekmeler nasıl genişletilir
zen-vertical-tabs-expand-tabs-description = Kenar çubuğunda sekmelerin nasıl genişletileceğini seç
zen-theme-marketplace-header = Zen Modları
zen-theme-disable-all-enabled = 
    .title = Tüm temaları kapat
zen-theme-disable-all-disabled = 
    .title = Tüm temaları aktif et
zen-theme-marketplace-description = Mağazadan tema bul ve indir.
zen-theme-marketplace-remove-button = 
    .label = Modu Kaldır
zen-theme-marketplace-check-for-updates-button = 
    .label = Güncellemeleri Kontrol Et
zen-theme-marketplace-import-button = 
    .label = Modları İçe Aktar
zen-theme-marketplace-export-button = 
    .label = Modları Dışa Aktar
zen-theme-marketplace-import-success = Modlar başarıyla içe aktarıldı
zen-theme-marketplace-import-failure = Modlar içe aktarılırken bir hata oluştu
zen-theme-marketplace-export-success = Modlar başarıyla dışa aktarıldı
zen-theme-marketplace-export-failure = Modları dışa aktarırken bir hata oluştu
zen-theme-marketplace-updates-success = Modlar başarıyla güncellendi
zen-theme-marketplace-updates-failure = Herhangi bir güncelleme bulunamadı!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Modu Devre Dışı Bırak
zen-theme-marketplace-toggle-disabled-button = 
    .title = Modu Aktif Et
zen-theme-marketplace-remove-confirmation = Bu modu kaldırmak istediğinizden emin misiniz?
zen-theme-marketplace-close-modal = Kapat
zen-theme-marketplace-theme-header-title = 
    .title = CSS Seçici: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Hiçbiri
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Bir şey yazın...
pane-zen-marketplace-title = Zen Modları
zen-themes-auto-update = 
    .label = Yüklü modları başlangıçta otomatik olarak güncelle
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Kapsayıcı sekmelerini açarken kapsayıcının varsayılan olarak ayarlandığı çalışma alanına geç
zen-theme-marketplace-link = Mağazayı Ziyaret Et
zen-dark-theme-styles-header = Koyu Tema Stilleri
zen-dark-theme-styles-description = Koyu temayı tercihlerinize göre özelleştirin
zen-dark-theme-styles-amoled = Gece Teması
zen-dark-theme-styles-default = Varsayılan Koyu Tema
zen-dark-theme-styles-colorful = Renkli Koyu Tema
zen-compact-mode-styles-left = Üst çubuğu gizle
zen-compact-mode-styles-top = Dikey sekmeleri gizle
zen-compact-mode-styles-both = Her ikisini de gizle
zen-urlbar-title = Zen URL Çubuğu
zen-urlbar-header = URL çubuğu için genel ayarlar
zen-urlbar-description = URL çubuğunu kendinize göre özelleştirin
zen-urlbar-behavior-label = Davranış
zen-urlbar-behavior-normal = 
    .label = Normal
zen-urlbar-behavior-floating-on-type = 
    .label = Sadece yazarken yüz
zen-urlbar-behavior-float = 
    .label = Sürekli yüzen
pane-zen-CKS-title = Klavye Kısayolları
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Klavye Kısayolları
category-zen-marketplace = 
    .tooltiptext = Zen Modları
zen-settings-CKS-header = Klavye kısayollarını kişiselleştir
zen-settings-CKS-description = Varsayılan klavye kısayollarını kendi zevkine göre değiştir ve göz atma deneyimini geliştir
zen-settings-CKS-disable-firefox = 
    .label = { -brand-short-name } varsayılan klavye kısayollarını devre dışı bırak
zen-settings-CKS-duplicate-shortcut = 
    .label = Kısayolu Çoğalt
zen-settings-CKS-reset-shortcuts = 
    .label = Ayarları Sıfırla
zenCKSOption-group-other = Diğer
zenCKSOption-group-windowAndTabManagement = Pencere ve Sekme Yönetimi
zenCKSOption-group-navigation = Navigasyon
zenCKSOption-group-searchAndFind = Ara ve Bul
zenCKSOption-group-pageOperations = Sayfa Eylemleri
zenCKSOption-group-historyAndBookmarks = Geçmiş ve Yer İmleri
zenCKSOption-group-mediaAndDisplay = Medya ve Görüntü
zenCKSOption-group-zen-compact-mode = Kompakt Mod
zenCKSOption-group-zen-workspace = Çalışma Alanları
zenCKSOption-group-zen-other = Diğer Zen Özellikleri
zenCKSOption-group-zen-split-view = Bölmeli Görünüm
zenCKSOption-group-devTools = Geliştirici Araçları
zen-key-quick-restart = Hızlı Yeniden Başlatma
zen-window-new-shortcut = Yeni Pencere
zen-tab-new-shortcut = Yeni Sekme
zen-key-redo = Geri Al
zen-restore-last-closed-tab-shortcut = Son Kapanan Sekmeyi Geri Getir
zen-location-open-shortcut = Dizini Aç
zen-location-open-shortcut-alt = Dizini Aç (Alt)
zen-key-undo-close-window = Pencere Kapamayı Geri Al
zen-text-action-undo-shortcut = Geri Al
zen-text-action-redo-shortcut = Geri Al
zen-text-action-cut-shortcut = Kes
zen-text-action-copy-shortcut = Kopyala
zen-text-action-copy-url-shortcut = Mevcut URL'yi kopyala
zen-text-action-copy-url-markdown-shortcut = Mevcut URL'yi işaret olarak kopyala
zen-text-action-paste-shortcut = Yapıştır
zen-text-action-select-all-shortcut = Tümünü Seç
zen-text-action-delete-shortcut = Sil
zen-history-show-all-shortcut-mac = Tüm Geçmişi Göster (Mac)
zen-full-screen-shortcut = Tam Ekranı Aç/Kapat
zen-reader-mode-toggle-shortcut-windows = Okuma Modunu Aç/Kapat (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Görsel İçinde Görseli (PiP) Aç/Kapat (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Görsel İçerisinde Görseli Aç/Kapat (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Görsel İçinde Görseli (PiP) Aç/Kapat (Mac Alt)
zen-page-source-shortcut-safari = Sayfa Kaynağını Görüntüle (Safari)
zen-nav-stop-shortcut = Yüklemeyi Durdur
zen-history-sidebar-shortcut = Kenar Çubuğunda Geçmişi Göster
zen-window-minimize-shortcut = Pencereyi Küçült
zen-help-shortcut = Yardımı Aç
zen-preferences-shortcut = Tercihleri Aç
zen-hide-app-shortcut = Uygulamayı Gizle
zen-hide-other-apps-shortcut = Diğer Uygulamaları Gizle
zen-search-focus-shortcut = Arama Odağı
zen-search-focus-shortcut-alt = Arama Odağı (Alt)
zen-downloads-shortcut = İndirmeleri Aç
zen-addons-shortcut = Eklentileri Aç
zen-file-open-shortcut = Dosya Aç
zen-save-page-shortcut = Sayfayı Kaydet
zen-print-shortcut = Sayfayı Yazdır
zen-close-shortcut-2 = Sekmeyi Kapat
zen-mute-toggle-shortcut = Susturmayı Aç/Kapat
zen-key-delete = Tuşu Sil
zen-key-go-back = Geri Git
zen-key-go-forward = İleri Git
zen-nav-back-shortcut-alt = Geri Git (Alt)
zen-nav-fwd-shortcut-alt = İleri Git (Alt)
zen-history-show-all-shortcut = Tüm Geçmişi Göster
zen-key-enter-full-screen = Tam Ekrana Gir
zen-key-exit-full-screen = Tam Ekrandan Çık
zen-ai-chatbot-sidebar-shortcut = Yapay zeka sohbet kenar çubuğunu Aç / Kapat
zen-key-inspector-mac = Denetleyi Aç / Kapat (Mac)
zen-toggle-sidebar-shortcut = Firefox kenar çubuğunu aktif et
zen-toggle-pin-tab-shortcut = Sekme Sabitlemeyi Aç-Kapat
zen-reader-mode-toggle-shortcut-other = Okuma Modunu Aktif Et
zen-picture-in-picture-toggle-shortcut = Görsel İçinde Görseli (PiP) Aç/Kapat
zen-nav-reload-shortcut-2 = Sayfayı Yenile
zen-key-about-processes = İşlemler Hakkında
zen-page-source-shortcut = Sayfa Kaynağını Görüntüle
zen-page-info-shortcut = Sayfa Detaylarını Görüntüle
zen-find-shortcut = Sayfada Bul
zen-search-find-again-shortcut = Tekrar Ara
zen-search-find-again-shortcut-prev = Öncekini Ara
zen-search-find-again-shortcut-2 = Tekrar Ara (Alt)
zen-bookmark-this-page-shortcut = Sayfayı Yer İmlerine Ekle
zen-bookmark-show-library-shortcut = Yer İmleri Kütüphanesini Göster
zen-key-stop = Yüklemeyi Durdur
zen-full-zoom-reduce-shortcut = Uzaklaştır
zen-full-zoom-enlarge-shortcut = Yakınlaştır
zen-full-zoom-reset-shortcut = Zoom'u Sıfırla
zen-full-zoom-reset-shortcut-alt = Yakınlaştırmayı Sıfırla (Alt)
zen-full-zoom-enlarge-shortcut-alt = Yakınlaştır (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Yakınlaştır (Alt 2)
zen-bidi-switch-direction-shortcut = Metin Yönünü Değiştir
zen-private-browsing-shortcut = Gizli Arama
zen-screenshot-shortcut = Ekran Görüntüsü Al
zen-key-sanitize = Arama Verilerini Temizle
zen-quit-app-shortcut = Uygulamadan Çık
zen-key-wr-capture-cmd = WR Yakalama Komutu
zen-key-wr-toggle-capture-sequence-cmd = WR Yakalama Sırasını Aç/Kapat
zen-nav-reload-shortcut = Sayfayı Yenile
zen-nav-reload-shortcut-skip-cache = Sayfayı Yenile (Cache'i Geç)
zen-close-shortcut = Pencereyi Kapat
zen-close-tab-shortcut = Sekmeyi Kapat
zen-compact-mode-shortcut-show-sidebar = Kayan Kenar Çubuğunu Aç/Kapat
zen-compact-mode-shortcut-show-toolbar = Kayan Alet Çubuğunu Aç/Kapat
zen-compact-mode-shortcut-toggle = Kompakt Modu Aktifleştir
zen-glance-expand = Hızlı Bakışı Genişlet
zen-workspace-shortcut-switch-1 = 1. Çalışma Alanına Geç
zen-workspace-shortcut-switch-2 = 2. Çalışma Alanına Geç
zen-workspace-shortcut-switch-3 = 3. Çalışma Alanına Geç
zen-workspace-shortcut-switch-4 = 4. Çalışma Alanına Geç
zen-workspace-shortcut-switch-5 = 5. Çalışma Alanına Geç
zen-workspace-shortcut-switch-6 = 6. Çalışma Alanına Geç
zen-workspace-shortcut-switch-7 = 7. Çalışma Alanına Geç
zen-workspace-shortcut-switch-8 = 8. Çalışma Alanına Geç
zen-workspace-shortcut-switch-9 = 9. Çalışma Alanına Geç
zen-workspace-shortcut-switch-10 = 10. Çalışma Alanına Geç
zen-workspace-shortcut-forward = Sonraki Çalışma Alanı
zen-workspace-shortcut-backward = Önceki Çalışma Alanı
zen-sidebar-shortcut-toggle = Kenar Çubuğunun Genişliğini Değiştir
zen-pinned-tab-shortcut-reset = Sabitlenen Sekmeyi Sabitlenen URL'ye Sıfırla
zen-split-view-shortcut-grid = Izgaralı Bölünmüş Görünümü Aç/Kapat
zen-split-view-shortcut-vertical = Dikey Bölünmüş Görünümü Aç/Kapat
zen-split-view-shortcut-horizontal = Yatay Bölünmüş Görünümü Aç/Kapat
zen-split-view-shortcut-unsplit = Bölünmüş Görünümü Kapat
zen-new-empty-split-view-shortcut = Yeni Boş Bölünmüş Görünüm
zen-key-select-tab-1 = 1. Sekmeyi Seç
zen-key-select-tab-2 = 2. Sekmeyi Seç
zen-key-select-tab-3 = 3. Sekmeyi Seç
zen-key-select-tab-4 = 4. Sekmeyi Seç
zen-key-select-tab-5 = 5. Sekmeyi Seç
zen-key-select-tab-6 = 6. Sekmeyi Seç
zen-key-select-tab-7 = 7. Sekmeyi Seç
zen-key-select-tab-8 = 8. Sekmeyi Seç
zen-key-select-tab-last = Son Sekmeyi Seç
zen-key-show-all-tabs = Tüm Sekmeleri Göster
zen-key-goto-history = Arama Geçmişine Git
zen-key-go-home = Ana Sayfaya Git
zen-bookmark-show-sidebar-shortcut = Yer İmlerini Kenar Çubuğunda Göster
zen-bookmark-show-toolbar-shortcut = Yer İmlerini Araç Çubuğunda Göster
zen-devtools-toggle-shortcut = Geliştirici Araçlarını Aç/Kapat
zen-devtools-toggle-browser-toolbox-shortcut = Tarayıcı Araç Kutusunu Aç/Kapat
zen-devtools-toggle-browser-console-shortcut = Tarayıcı Konsolunu Aç/Kapat
zen-devtools-toggle-responsive-design-mode-shortcut = Uyumlu Tasarım Modunu Aç/Kapat
zen-devtools-toggle-inspector-shortcut = İncele'yi Aç/Kapat
zen-devtools-toggle-web-console-shortcut = Web Konsolunu Aç/Kapat
zen-devtools-toggle-js-debugger-shortcut = JavaScript Hata Ayıklayıcısını Aç/Kapat
zen-devtools-toggle-net-monitor-shortcut = Ağ Monitörünü Aç/Kapat
zen-devtools-toggle-style-editor-shortcut = Stil Editörünü Aç/Kapat
zen-devtools-toggle-performance-shortcut = Performansı Aç/Kapat
zen-devtools-toggle-storage-shortcut = Depolamayı Aç/Kapat
zen-devtools-toggle-dom-shortcut = DOM'u Aç/Kapat
zen-devtools-toggle-accessibility-shortcut = Erişilebilirliği Aç/Kapat
zen-close-all-unpinned-tabs-shortcut = Sabitlenmemiş Tüm Sekmeleri Kapat
zen-new-unsynced-window-shortcut = Yeni Boş Pencere



================================================
FILE: locales/uk/browser/browser/zen-folders.ftl
================================================
[Binary file]


================================================
FILE: locales/uk/browser/browser/zen-general.ftl
================================================
[Binary file]


================================================
FILE: locales/uk/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Розгорнути закріплені вкладки
           *[false] Згорнути закріплені вкладки
        }
zen-menubar-appearance = 
    .label = Вигляд
zen-menubar-appearance-description = 
    .label = Вебсайти будуть використовувати:
zen-menubar-appearance-auto = 
    .label = Автоматично
zen-menubar-appearance-light = 
    .label = Світлу
zen-menubar-appearance-dark = 
    .label = Темну
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/uk/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Розділити вкладку (потрібно кілька виділених вкладок)
           *[other] Розділити { $tabCount } вкладки
        }
    .accesskey = S
zen-split-link = 
    .label = Розділити посилання на нову вкладку
    .accesskey = S
zen-split-view-modifier-header = Розділений перегляд
zen-split-view-modifier-activate-reallocation = 
    .label = Увімкнути перегрупування
zen-split-view-modifier-enabled-toast = Перегрупування роздільного перегляду ВВІМКНЕНО.
zen-split-view-modifier-enabled-toast-description = Перетягніть перегляд, щоб змінити його порядок. Натисніть «Esc», щоб вийти.
zen-split-view-modifier-disabled-toast = Перегрупування роздільного перегляду ВИМКНЕНО.



================================================
FILE: locales/uk/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = Вкладки праворуч
    .accesskey = Р
zen-toolbar-context-compact-mode = 
    .label = Компактний режим
zen-toolbar-context-compact-mode-enable = 
    .label = Увімкнути компактний режим
    .accesskey = Ре
zen-toolbar-context-compact-mode-just-tabs = 
    .label = Приховати бічну панель
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = Приховати панель інструментів
zen-toolbar-context-compact-mode-hide-both = 
    .label = Приховувати обидві
    .accesskey = Н
zen-toolbar-context-new-folder = 
    .label = Нова тека
    .accesskey = N
sidebar-zen-expand = 
    .label = Розгорнути бічну панель
sidebar-zen-create-new = 
    .label = Створити новий...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Вивантажити й перемкнутися на вкладку
            [few] Вивантажити { $tabCount } вкладки й перемкнутися до першої
           *[other] Вивантажити { $tabCount } вкладок й перемкнутися до першої
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] Скинути та закріпити вкладку
            [few] Скинути та закріпити { $tabCount } вкладки
           *[other] Скинути та закріпити { $tabCount } вкладок
        }
tab-reset-pin-label = Повернутися до закріпленої адреси



================================================
FILE: locales/uk/browser/browser/zen-web-side-panels.ftl
================================================
[Binary file]


================================================
FILE: locales/uk/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Вітаємо в
zen-welcome-title-line2 = спокійніший інтернет
zen-welcome-import-title = Новий початок, ті ж закладки
zen-welcome-import-description-1 = Ваші закладки, історія та паролі — це як слід від хлібних крихт в інтернеті, не залишайте їх!
zen-welcome-import-description-2 = Easily bring them over from another browser and pick up right where you left off..
zen-welcome-import-button = Імпортувати зараз
zen-welcome-set-default-browser = Встановити { -brand-short-name } як типовий браузер
zen-welcome-dont-set-default-browser = НЕ встановлювати { -brand-short-name } як типовий браузер
zen-welcome-initial-essentials-title = Важливі вкладки завжди під рукою
zen-welcome-initial-essentials-description-1 = Тримайте найважливіші вкладки легкодоступними та завжди під рукою, незалежно від того, скільки їх відкрито.
zen-welcome-initial-essentials-description-2 = Важливі вкладки завжди видно, незалежно від того, в якій робочій області ви перебуваєте.
zen-welcome-workspace-colors-title = Ваші робочі простори, ваші кольори
zen-welcome-workspace-colors-description = Персоналізуйте свій браузер, надавши кожній робочій області власний унікальний колір.
zen-welcome-start-browsing-title =
    Все налаштували?<br/>
    Починаємо!
zen-welcome-start-browsing-description-1 = Ви все налаштували та готові до роботи. Натисніть кнопку нижче, щоб почати перегляд з { -brand-short-name }.
zen-welcome-start-browsing = Зануритися!
zen-welcome-default-search-title = Ваша типова пошукова система
zen-welcome-default-search-description = Оберіть вашу типову пошукову систему. Ви завжди зможете змінити її пізніше!
zen-welcome-skip-button = Пропустити
zen-welcome-finished = Zen налаштовано правильно!



================================================
FILE: locales/uk/browser/browser/zen-workspaces.ftl
================================================
[Binary file]


================================================
FILE: locales/uk/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Тема з темною колірною гамою та приємним відтінком галактики!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = Тема зі світлою колірною гамою та приємною мрійливою ноткою!



================================================
FILE: locales/uk/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = Початкова URL-адреса
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Показати цю вебпанель у мобільному режимі
    .accesskey = m



================================================
FILE: locales/uk/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Інтерфейс
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Зміна мови за замовчуванням може полегшити відслідковування вами сайтів.
zen-vertical-tabs-layout-header = Макет браузера
zen-vertical-tabs-layout-description = Оберіть макет, який підходить вам найкраще
zen-layout-single-toolbar = Одна панель інструментів
zen-layout-multiple-toolbar = Кілька панелей інструментів
zen-layout-collapsed-toolbar = Згорнута панель інструментів
sync-currently-syncing-workspaces = Робочі області
sync-engine-workspaces = 
    .label = Робочі області
    .tooltiptext = Синхронізуйте ваші робочі простори між пристроями
    .accesskey = Пт
zen-glance-title = Передперегляд
zen-glance-header = Загальні налаштування glance
zen-glance-description = Отримайте короткий огляд ваших посилань без відкриття їх у новій вкладці
zen-glance-trigger-label = Метод виклику
zen-glance-enabled = 
    .label = Увімкнути Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Клац
zen-glance-trigger-alt-click = 
    .label = Alt + Клік
zen-glance-trigger-shift-click = 
    .label = Shift + Клік
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Клац
zen-look-and-feel-compact-view-header = Показати в компактному вигляді
zen-look-and-feel-compact-view-description = Показати лише панелі інструментів, які ви використовуєте!
zen-look-and-feel-compact-view-enabled = 
    .label = Увімкнути компактний режим { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Приховати верхню панель і в режимі компактного меню
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Коротко показувати, щоби панель інструментів спливала при перемиканні або відкритті нових вкладок у компактному режимі
pane-zen-tabs-title = Керування вкладками
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Робочі області
zen-tabs-unloader-enabled = 
    .label = Увімкнути вивантаження вкладок
zen-tabs-close-on-back-with-no-history = 
    .label = Закрити вкладку і перейти до вкладки її власника (або останньої використаної вкладки) при поверненні без історії
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab перемикається лише в межах вкладок із важливого або робочого простору
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Ігнорувати очікувальні вкладки під час перемикання за допомогою Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Комбінація Ctrl+Tab буде перемикати в порядку останнього використання
zen-look-and-feel-compact-toolbar-themed = 
    .label = Використовувати тематичний фон для компактної панелі інструментів
zen-workspace-continue-where-left-off = 
    .label = Продовжити з місця зупинки
pane-zen-pinned-tab-manager-title = Прикріплені вкладки
zen-pinned-tab-manager-header = Загальні налаштування прикріплених вкладок
zen-pinned-tab-manager-description = Керування додатковою поведінкою прикріплених вкладок
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Відновити прикріплені вкладки з початковою URL-адресою при запуску
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Увімкнути основні функції для конкретного контейнера
zen-pinned-tab-manager-close-shortcut-behavior-label = Закрити ярлик вкладки
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Скинути URL, розвантажити і перейти до наступної вкладки
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Вивантажити і перейти на наступну вкладку
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Скинути URL і перейти до наступної вкладки
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Перейти на наступну вкладку
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Скинути URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Закрити вкладку
pane-zen-workspaces-header = Робочі області
zen-settings-workspaces-header = Загальні налаштування для робочих областей
zen-settings-workspaces-description = Завдяки робочим просторам ви можете мати кілька сеансів перегляду одночасно!
zen-settings-workspaces-enabled = 
    .label = Увімкнути робочий простір (експериментальний)
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Приховувати індикатор контейнерів за замовчуванням у панелі вкладок
zen-key-unsaved = Незбережений ярлик! Захистіть його, натиснувши на кнопку „Escape“ після його введення.
zen-key-conflict = Конфліктує з { $group } -> { $shortcut }
pane-zen-theme-title = Налаштування теми
zen-vertical-tabs-title = Розташування бічної панелі та вкладок
zen-vertical-tabs-header = Вертикальні таблиці
zen-vertical-tabs-description = Керування вкладками вертикального макета
zen-vertical-tabs-show-expand-button = 
    .label = Показати кнопку розширення
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Показати кнопку нової вкладки у списку вкладок
zen-vertical-tabs-newtab-top-button-up = 
    .label = Перемістити кнопку нової вкладки вгору
zen-vertical-tabs-expand-tabs-by-default = Розгорніть вкладки за замовчуванням
zen-vertical-tabs-dont-expand-tabs-by-default = Не розширювати вкладки за замовчуванням
zen-vertical-tabs-expand-tabs-on-hover = Розгорніть вкладки в Hover (Не можу працювати в режимі компактування)
zen-vertical-tabs-expand-tabs-header = Як розгорнути вкладки
zen-vertical-tabs-expand-tabs-description = Виберіть спосіб розширення вкладок у бічній панелі
zen-theme-marketplace-header = Zen Моди
zen-theme-disable-all-enabled = 
    .title = Вимкнути всі теми
zen-theme-disable-all-disabled = 
    .title = Увімкнути всі теми
zen-theme-marketplace-description = Знайти і встановити теми з магазину.
zen-theme-marketplace-remove-button = 
    .label = Вилучити тему
zen-theme-marketplace-check-for-updates-button = 
    .label = Перевірити наявність оновлень
zen-theme-marketplace-import-button = 
    .label = Імпортувати моди
zen-theme-marketplace-export-button = 
    .label = Експортувати моди
zen-theme-marketplace-import-success = Моди успішно імпортовано
zen-theme-marketplace-import-failure = Помилка при імпортуванні модів
zen-theme-marketplace-export-success = Моди успішно експортовано
zen-theme-marketplace-export-failure = Помилка при експортуванні модів
zen-theme-marketplace-updates-success = Тему успішно оновлено
zen-theme-marketplace-updates-failure = Оновлень не знайдено!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Відключити тему
zen-theme-marketplace-toggle-disabled-button = 
    .title = Увімкнути тему
zen-theme-marketplace-remove-confirmation = Ви дійсно бажаєте видалити цей мод?
zen-theme-marketplace-close-modal = Закрити
zen-theme-marketplace-theme-header-title = 
    .title = CSS-селектори: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Без ефекту
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Введіть щось...
pane-zen-marketplace-title = Zen Моди
zen-themes-auto-update = 
    .label = Автоматично оновлювати встановлені моди під час запуску
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Перемкнутися на робочий простір, де контейнер встановлено як типове значення для відкриття вкладок контейнерів
zen-theme-marketplace-link = Відвідати магазин
zen-dark-theme-styles-header = Стилі темної теми
zen-dark-theme-styles-description = Налаштуйте темну тему на ваш смак
zen-dark-theme-styles-amoled = Нічна тема
zen-dark-theme-styles-default = Темна тема за замовчуванням
zen-dark-theme-styles-colorful = Кольорова темна тема
zen-compact-mode-styles-left = Приховати панель вкладок
zen-compact-mode-styles-top = Приховати верхню панель
zen-compact-mode-styles-both = Приховувати обидва
zen-urlbar-title = Рядок URL-адрес Zen
zen-urlbar-header = Загальні налаштування рядка URL-адрес
zen-urlbar-description = Налаштуйте рядок URL-адрес на свій смак
zen-urlbar-behavior-label = Поведінка
zen-urlbar-behavior-normal = 
    .label = Звичайний
zen-urlbar-behavior-floating-on-type = 
    .label = Плавучий тільки під час набору тексту
zen-urlbar-behavior-float = 
    .label = Завжди плавучий
pane-zen-CKS-title = Комбінації клавіш
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Гарячі Клавіші
category-zen-marketplace = 
    .tooltiptext = Zen Моди
zen-settings-CKS-header = Налаштуйте комбінації клавіш
zen-settings-CKS-description = Змініть комбінації клавіш за замовчуванням для вподобання та покращіть якість перегляду
zen-settings-CKS-disable-firefox = 
    .label = Вимкнути типові комбінації клавіш { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Дублювати комбінацію клавіш
zen-settings-CKS-reset-shortcuts = 
    .label = Відновити за замовчуванням
zenCKSOption-group-other = Інше
zenCKSOption-group-windowAndTabManagement = Керування вікнами та вкладками
zenCKSOption-group-navigation = Навігація
zenCKSOption-group-searchAndFind = Пошук і пошук
zenCKSOption-group-pageOperations = Сторінкові операції
zenCKSOption-group-historyAndBookmarks = Історія і закладки
zenCKSOption-group-mediaAndDisplay = Медіа та відображення
zenCKSOption-group-zen-compact-mode = Компактний режим
zenCKSOption-group-zen-workspace = Робочі області
zenCKSOption-group-zen-other = Інші функції Zen
zenCKSOption-group-zen-split-view = Розділений вигляд
zenCKSOption-group-devTools = Інструменти розробника
zen-key-quick-restart = Швидке перезавантаження
zen-window-new-shortcut = У новому вікні
zen-tab-new-shortcut = Нова вкладка
zen-key-redo = Повторити дію
zen-restore-last-closed-tab-shortcut = Відновити останню закриту вкладку
zen-location-open-shortcut = Відкрити місцезнаходження
zen-location-open-shortcut-alt = Відкрити місце розташування (Alt)
zen-key-undo-close-window = Скасувати закрите вікно
zen-text-action-undo-shortcut = Скасувати
zen-text-action-redo-shortcut = Повторити дію
zen-text-action-cut-shortcut = Вирізати
zen-text-action-copy-shortcut = Копія
zen-text-action-copy-url-shortcut = Копіювати поточну URL-адресу
zen-text-action-copy-url-markdown-shortcut = Копіювати поточний URL як Markdown
zen-text-action-paste-shortcut = Вставити
zen-text-action-select-all-shortcut = Виділити все
zen-text-action-delete-shortcut = Видалити
zen-history-show-all-shortcut-mac = Показати всю історію (Mac)
zen-full-screen-shortcut = На весь екран
zen-reader-mode-toggle-shortcut-windows = Перемкнути режим читання (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Зображення-in-Зображення (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Увімкнути або вимкнути зображення в картинці (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Увімкнути або вимкнути зображення в картинці (Mac Alt)
zen-page-source-shortcut-safari = Початковий код сторінки (Safari)
zen-nav-stop-shortcut = Зупинити завантаження
zen-history-sidebar-shortcut = Показати бічну панель історії
zen-window-minimize-shortcut = Згорнути вікно
zen-help-shortcut = Допомога
zen-preferences-shortcut = Відкрити налаштування
zen-hide-app-shortcut = Сховати програму
zen-hide-other-apps-shortcut = Приховати інші додатки
zen-search-focus-shortcut = Пошук фокусу
zen-search-focus-shortcut-alt = Пошук фокусу (Alt)
zen-downloads-shortcut = Відкрити завантаження
zen-addons-shortcut = Відкрити додатки
zen-file-open-shortcut = Відкрити файл
zen-save-page-shortcut = Зберегти сторінку
zen-print-shortcut = Надрукувати сторінку
zen-close-shortcut-2 = Закрити вкладку
zen-mute-toggle-shortcut = Вкл/Викл звук
zen-key-delete = Видалити ключ
zen-key-go-back = Повернутися
zen-key-go-forward = Вперед
zen-nav-back-shortcut-alt = Перейти назад (Alt)
zen-nav-fwd-shortcut-alt = Перехід вперед (Alt)
zen-history-show-all-shortcut = Показати всю історію
zen-key-enter-full-screen = Перейти в повноекранний режим
zen-key-exit-full-screen = Вийти з повноекранного режиму
zen-ai-chatbot-sidebar-shortcut = Перемкнути бічну панель ШІ чат-бота
zen-key-inspector-mac = Перемкнути інспектор (Mac)
zen-toggle-sidebar-shortcut = Перемкнути бічну панель Firefox
zen-toggle-pin-tab-shortcut = Закріпити / відкріпити вкладку
zen-reader-mode-toggle-shortcut-other = Перемкнути режим читання
zen-picture-in-picture-toggle-shortcut = Показати/приховати зображення
zen-nav-reload-shortcut-2 = Перезавантажити сторінку
zen-key-about-processes = Про процеси
zen-page-source-shortcut = Початковий код сторінки
zen-page-info-shortcut = Інформація про сторінку
zen-find-shortcut = Знайти на сторінці
zen-search-find-again-shortcut = Знайти ще раз
zen-search-find-again-shortcut-prev = Знайти попереднє
zen-search-find-again-shortcut-2 = Знайти знову (Alt)
zen-bookmark-this-page-shortcut = Додати цю сторінку в закладки
zen-bookmark-show-library-shortcut = Показати бібліотеку закладок
zen-key-stop = Зупинити завантаження
zen-full-zoom-reduce-shortcut = Зменшити масштаб
zen-full-zoom-enlarge-shortcut = Збільшити масштаб
zen-full-zoom-reset-shortcut = Скинути масштаб
zen-full-zoom-reset-shortcut-alt = Скинути масштаб (Alt)
zen-full-zoom-enlarge-shortcut-alt = Наблизити (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Наблизити (Alt 2)
zen-bidi-switch-direction-shortcut = Перемкнути напрямок тексту на сторінці
zen-private-browsing-shortcut = Приватний перегляд
zen-screenshot-shortcut = Зробити знімок екрану
zen-key-sanitize = Очистити дані перегляду
zen-quit-app-shortcut = Вийти з додатка
zen-key-wr-capture-cmd = Команда захоплення WR
zen-key-wr-toggle-capture-sequence-cmd = Увімкнути або вимкнути послідовність захоплення WR
zen-nav-reload-shortcut = Перезавантажити сторінку
zen-nav-reload-shortcut-skip-cache = Перезавантажити сторінку (пропустити кеш)
zen-close-shortcut = Закрити вікно
zen-close-tab-shortcut = Закрити вкладку
zen-compact-mode-shortcut-show-sidebar = Перемкнути спливну бічну панель
zen-compact-mode-shortcut-show-toolbar = Перемкнути спливну панель інструментів
zen-compact-mode-shortcut-toggle = Компактний режим
zen-glance-expand = Розгорнути огляд
zen-workspace-shortcut-switch-1 = Перейти на робочу область 1
zen-workspace-shortcut-switch-2 = Перейти на робочу область 2
zen-workspace-shortcut-switch-3 = Перейти на робочу область 3
zen-workspace-shortcut-switch-4 = Перейти на робочу область 4
zen-workspace-shortcut-switch-5 = Перейти на робочу область 5
zen-workspace-shortcut-switch-6 = Перейти на робочу область 6
zen-workspace-shortcut-switch-7 = Перейти на робочу область 7
zen-workspace-shortcut-switch-8 = Перейти на робочу область 8
zen-workspace-shortcut-switch-9 = Перейти на робочу область 9
zen-workspace-shortcut-switch-10 = Перейти на робочу область 10
zen-workspace-shortcut-forward = Наступний робочий простір
zen-workspace-shortcut-backward = Попередній робочий простір
zen-sidebar-shortcut-toggle = Перемкнути ширину бічної панелі
zen-pinned-tab-shortcut-reset = Скинути прикріплену вкладку до закріпленої URL-адреси
zen-split-view-shortcut-grid = Перемкнути розділену сітку
zen-split-view-shortcut-vertical = Перемкнути розділений Перегляд вертикально
zen-split-view-shortcut-horizontal = Перемкнути розділений Перегляд горизонтально
zen-split-view-shortcut-unsplit = Закрити розділений вигляд
zen-new-empty-split-view-shortcut = Новий пустий розділений перегляд
zen-key-select-tab-1 = Вибрати вкладку #1
zen-key-select-tab-2 = Вибрати вкладку #2
zen-key-select-tab-3 = Вибрати вкладку #3
zen-key-select-tab-4 = Оберіть вкладку #4
zen-key-select-tab-5 = Оберіть вкладку #5
zen-key-select-tab-6 = Вибрати вкладку #6
zen-key-select-tab-7 = Вибрати вкладку #7
zen-key-select-tab-8 = Вибрати вкладку #8
zen-key-select-tab-last = Вибрати останню вкладку
zen-key-show-all-tabs = Показати всі вкладки
zen-key-goto-history = Перейти до історії
zen-key-go-home = Додому
zen-bookmark-show-sidebar-shortcut = Показати бічну панель закладок
zen-bookmark-show-toolbar-shortcut = Показати панель закладок
zen-devtools-toggle-shortcut = Увімк. / Вимк. інструменти розробника
zen-devtools-toggle-browser-toolbox-shortcut = Увімк. / Вимк. інструменти браузера
zen-devtools-toggle-browser-console-shortcut = Увімк. / Вимк. консоль браузера
zen-devtools-toggle-responsive-design-mode-shortcut = Увімк. / Вимк. режим адаптивного дизайну
zen-devtools-toggle-inspector-shortcut = Увімк. / Вимк. Інспектора
zen-devtools-toggle-web-console-shortcut = Увімк. / Вимк. вебконсоль
zen-devtools-toggle-js-debugger-shortcut = Увімк. / Вимк. налагодження JavaScript
zen-devtools-toggle-net-monitor-shortcut = Увімк. / Вимк. спостереження мережі
zen-devtools-toggle-style-editor-shortcut = Увімк. / Вимк. редактор стилів
zen-devtools-toggle-performance-shortcut = Увімк. / Вимк. продуктивність
zen-devtools-toggle-storage-shortcut = Увімк. / Вимк. сховище
zen-devtools-toggle-dom-shortcut = Увімк. / Вимк. DOM
zen-devtools-toggle-accessibility-shortcut = Увімк. / Вимк. доступ
zen-close-all-unpinned-tabs-shortcut = Закрити всі відкріплені вкладки
zen-new-unsynced-window-shortcut = Нове несинхронізоване вікно



================================================
FILE: locales/vi/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = Tìm kiếm { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = Đổi tên thư mục thẻ
zen-folders-panel-unpack-folder = 
    .label = Giải thoát thư mục
zen-folders-new-subfolder = 
    .label = Tạo thư mục con
zen-folders-panel-delete-folder = 
    .label = Xóa thư mục thẻ
zen-folders-panel-convert-folder-to-space = 
    .label = Biến thư mục thẻ thành không gian làm việc
zen-folders-panel-change-folder-space = 
    .label = Chuyển không gian làm việc...
zen-folders-unload-all-tooltip = 
    .tooltiptext = Tắt các thẻ trong thư mục
zen-folders-unload-folder = 
    .label = Tải lại tất cả các thẻ
zen-folders-search-no-results = Không có thẻ nào trùng với tìm kiếm 🤔



================================================
FILE: locales/vi/browser/browser/zen-general.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-current-profile-text = Hồ sơ hiện tại
unified-extensions-description = Các tiện ích mở rộng được sử dụng để mang thêm tính năng vào { -brand-short-name }.
tab-context-zen-reset-pinned-tab = 
    .label = Đặt lại thẻ đã ghim
    .accesskey = R
tab-context-zen-add-essential = 
    .label = Thêm vào thẻ chính
    .accesskey = E
tab-context-zen-add-essential-badge = Đã dùng { $num } / { $max } vị trí
tab-context-zen-remove-essential = 
    .label = Gỡ khỏi thẻ chính
    .accesskey = R
tab-context-zen-replace-pinned-url-with-current = 
    .label = Thay địa chỉ đã ghim bằng hiện tại
    .accesskey = C
tab-context-zen-edit-title = 
    .label = Đổi tên...
tab-context-zen-edit-icon = 
    .label = Đổi biểu tượng...
zen-themes-corrupted = Thư mục chủ đề { -brand-short-name } của bạn đã bị hư, chúng đã được trả về thiết kế gốc.
zen-shortcuts-corrupted = Tệp phím tắt { -brand-short-name } của bạn đã bị hư. Chúng đã được trẻ về phím tắt gốc.
# note: Do not translate the "<br/>" tags in the following string
zen-new-urlbar-notification = Thanh địa chỉ mới đã được bật, giúp bạn không cần đến trang Thẻ mới nữa.<br/><br/>Hãy thử mở một thẻ mới để xem thanh địa chỉ hoạt động thế nào nhé!
zen-disable = Vô hiệu hóa
pictureinpicture-minimize-btn = 
    .aria-label = Thu nhỏ
    .tooltip = Thu nhỏ
zen-panel-ui-gradient-generator-custom-color = Tùy chỉnh màu sắc
zen-copy-current-url-confirmation = Đã sao chép URL hiện tại!
zen-general-cancel-label = 
    .label = Hủy
zen-general-confirm = 
    .label = Xác nhận
zen-pinned-tab-replaced = URL của thẻ đã ghim đã được thay thế bằng URL hiện tại!
zen-tabs-renamed = Thẻ đã được đổi tên!
zen-background-tab-opened-toast = Một thẻ mới đã được mở dưới nền!
zen-workspace-renamed-toast = Không gian làm việc đã được đổi tên!
zen-toggle-compact-mode-button = 
    .label = Chế độ thu gọn
    .tooltiptext = Bật Chế độ thu gọn

# note: Do not translate the "<br/>" tags in the following string

zen-learn-more-text = Tìm hiểu thêm
zen-close-label = Đóng
zen-singletoolbar-urlbar-placeholder-with-name = 
    .placeholder = Tìm kiếm...
zen-icons-picker-emoji = 
    .label = Biểu cảm
zen-icons-picker-svg = 
    .label = Biểu tượng
urlbar-search-mode-zen_actions = Hành động
zen-site-data-settings = Thiết lập
zen-generic-manage = Quản lý
zen-generic-more = Thêm
zen-generic-next = Tiếp
zen-essentials-promo-label = Add to Essentials
zen-essentials-promo-sublabel = Keep your favorite tabs just a click away
# These labels will be used for the site data panel settings
zen-site-data-setting-allow = Đã cho phép
zen-site-data-setting-block = Đã chặn
zen-site-data-protections-enabled = Đã bật
zen-site-data-protections-disabled = Đã tắt
zen-site-data-setting-cross-site = Cookie liên trang web
zen-site-data-security-info-extension = 
    .label = Tiện ích mở rộng (Extensions)
zen-site-data-security-info-secure = 
    .label = Đã bảo mật
zen-site-data-security-info-not-secure = 
    .label = Chưa bảo mật
zen-site-data-manage-addons = 
    .label = Quản lý tiện ích mở rộng (Extensions)
zen-site-data-get-addons = 
    .label = Thêm tiện ích mở rộng (Extensions)
zen-site-data-site-settings = 
    .label = Cài đặt tổng quan của trang web
zen-site-data-header-share = 
    .tooltiptext = Chia sẻ trang này
zen-site-data-header-reader-mode = 
    .tooltiptext = Bật chế độ đọc
zen-site-data-header-screenshot = 
    .tooltiptext = Chụp màn hình
zen-site-data-header-bookmark = 
    .tooltiptext = Lưu (bookmark) trang này
zen-urlbar-copy-url-button = 
    .tooltiptext = Sao chép địa chỉ
zen-site-data-setting-site-protection = Phòng chống theo dõi

# Section: Feature callouts

zen-site-data-panel-feature-callout-title = Diện mạo mới cho add-ons, quyền truy cập và nhiều hơn nữa
zen-site-data-panel-feature-callout-subtitle = Bấm vào biểu tượng để quản lý các thiết lập của trang web, kiểm tra thông tin bảo mật, quyền truy cập của các tiện ích và thực thiện các tác vụ cơ bản.
zen-open-link-in-glance = 
    .label = Mở liên kết trong xem nhanh
    .accesskey = G
zen-sidebar-notification-updated-heading = Cập nhật hoàn tất!

# See ZenSidebarNotification.mjs to see how these would be used

zen-sidebar-notification-updated-label = Có gì mới trong { -brand-short-name }
zen-sidebar-notification-updated-tooltip = 
    .title = Xem ghi chú phát hành
zen-sidebar-notification-restart-safe-mode-label = Có lỗi xảy ra?
zen-sidebar-notification-restart-safe-mode-tooltip = 
    .title = Khởi động lại ở Chế độ an toàn
zen-window-sync-migration-dialog-title = Giữ cho các cửa sổ của bạn luôn được đồng bộ
zen-window-sync-migration-dialog-message = Zen now syncs windows on the same device, so changes in one window are reflected across the others instantly.
zen-window-sync-migration-dialog-learn-more = Tìm hiểu thêm
zen-window-sync-migration-dialog-accept = Got It



================================================
FILE: locales/vi/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] Expand Pinned Tabs
           *[false] Collapse Pinned Tabs
        }
zen-menubar-appearance = 
    .label = Ngoại hình
zen-menubar-appearance-description = 
    .label = Trang web sẽ sử dụng:
zen-menubar-appearance-auto = 
    .label = Automatic
zen-menubar-appearance-light = 
    .label = Light
zen-menubar-appearance-dark = 
    .label = Dark
zen-menubar-new-unsynced-window = 
    .label = New Blank Window



================================================
FILE: locales/vi/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] Chia tab (cần nhiều tab được chọn)
           *[other] Chia { $tabCount } tab
        }
    .accesskey = S
zen-split-link = 
    .label = Mở liên kết ở chế độ chia khung
    .accesskey = S
zen-split-view-modifier-header = Chế độ chia khung
zen-split-view-modifier-activate-reallocation = 
    .label = Cho phép phân bổ lại
zen-split-view-modifier-enabled-toast = Sắp xếp chế độ chia khung đã BẬT.
zen-split-view-modifier-enabled-toast-description = Kéo và thả từng khung hình để sắp xếp lại. Nhấn nút Esc để thoát.
zen-split-view-modifier-disabled-toast = Sắp xếp chế độ chia khung đã TẮT.



================================================
FILE: locales/vi/browser/browser/zen-vertical-tabs.ftl
================================================
[Binary file]


================================================
FILE: locales/vi/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = Tắt tiếng web
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = Mở tiếng web
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = Hủy chế độ người dùng di động
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = Kích hoạt chế độ người dùng di động
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = Dừng tải web
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = Xóa web
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = Mở trong một tab mới
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = Mở trong Tab Container
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = Thêm vào bảng điều khiển web
    .accesskey = A
zen-webpanel-introduction-title = Chào mừng bạn tới Zen Web Panels
zen-webpanel-introduction-description = Web Panels giúp bạn truy cập nhanh các trang web yêu thích.



================================================
FILE: locales/vi/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = Chào mừng bạn đã đến với
zen-welcome-title-line2 = một internet thư thả hơn
zen-welcome-import-title = Khởi đầu mới mẻ, với những dấu trang quen thuộc
zen-welcome-import-description-1 = Dấu trang, lịch sử, mật khẩu là những dấu ấn của bạn trên internet - Đừng để chúng lại phía sau!
zen-welcome-import-description-2 = Dễ dàng tiếp tục với những gì bạn bỏ dở từ trình duyệt khác.
zen-welcome-import-button = Nhập ngay
zen-welcome-set-default-browser = Đặt { -brand-short-name } là trình duyệt mặc định của bạn
zen-welcome-dont-set-default-browser = Không đặt { -brand-short-name } là trình duyệt mặc định của bạn
zen-welcome-initial-essentials-title = Những thẻ quan trọng của bạn, luôn luôn trong tầm tay
zen-welcome-initial-essentials-description-1 = Cho dù bạn có mở bao nhiêu, những thẻ quan trọng nhất của bạn luôn dễ dàng truy cập, luôn luôn trong tầm tay.
zen-welcome-initial-essentials-description-2 = Các thẻ chính sẽ luôn hiển thị, bất kể bạn đang ở không gian làm việc nào.
zen-welcome-workspace-colors-title = Không gian làm việc của bạn, màu sắc của bạn
zen-welcome-workspace-colors-description = Cá nhân hóa trình duyệt của bạn, cho mỗi không gian làm việc một màu sắc đặc trưng.
zen-welcome-start-browsing-title =
    Sẵn sàng chưa?<br/>
    Bắt đầu thôi nào!
zen-welcome-start-browsing-description-1 = Mọi thứ đã sẵn sàng. Nhấn nút bên dưới để bắt đầu lướt web với { -brand-short-name }.
zen-welcome-start-browsing = Bắt đầu nào!
zen-welcome-default-search-title = Công cụ tìm kiếm mặc định của bạn là?
zen-welcome-default-search-description = Hãy chọn công cụ tìm kiếm mặc đinh. Bạn luôn có thể đổi nó sau này!
zen-welcome-skip-button = Bỏ qua
zen-welcome-finished = Trình duyệt của bạn đã được thiết lập thành công!



================================================
FILE: locales/vi/browser/browser/zen-workspaces.ftl
================================================
[Binary file]


================================================
FILE: locales/vi/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = Một chủ đề với tông màu tối và điểm nhấn thiên hà đẹp mắt!
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = Một chủ đề với tông màu sáng và điểm nhấn mơ màng đẹp mắt!



================================================
FILE: locales/vi/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = URL ban đầu
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = Hiển thị trang web này ở chế độ điện thoại
    .accesskey = m



================================================
FILE: locales/vi/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = Giao diện
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = Thay đổi ngôn ngữ mặc định có thể khiến bạn dễ bị theo dõi hơn.
zen-vertical-tabs-layout-header = Giao diện trình duyệt
zen-vertical-tabs-layout-description = Chọn giao diện phù hợp với bạn nhất
zen-layout-single-toolbar = Thanh công cụ tích hợp
zen-layout-multiple-toolbar = Đa thanh công cụ
zen-layout-collapsed-toolbar = Thanh công cụ tinh giản
sync-currently-syncing-workspaces = Không gian làm việc khác
sync-engine-workspaces = 
    .label = Không gian làm việc
    .tooltiptext = Đồng bộ hóa không gian làm việc giữa các thiết bị
    .accesskey = W
zen-glance-title = Xem nhanh
zen-glance-header = Thiết lập chung cho xem nhanh
zen-glance-description = Xem nhanh nội dung liên kết mà không cần mở thẻ mới
zen-glance-trigger-label = Phương pháp kích hoạt
zen-glance-enabled = 
    .label = Bật xem nhanh
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + Click
zen-glance-trigger-alt-click = 
    .label = Alt + Click
zen-glance-trigger-shift-click = 
    .label = Shift + Click
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + Click
zen-look-and-feel-compact-view-header = Hiển thị ở chế độ thu gọn
zen-look-and-feel-compact-view-description = Chỉ hiển thị các thanh công cụ mà bạn sử dụng!
zen-look-and-feel-compact-view-enabled = 
    .label = Bật chế độ thu gọn của { -brand-short-name }
zen-look-and-feel-compact-view-top-toolbar = 
    .label = Ẩn thanh công cụ trên cùng trong chế độ thu gọn
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = Thanh bên hiện lên khi chuyển thẻ hoặc mở thẻ mới trong chế độ thu gọn
pane-zen-tabs-title = Quản lí thẻ
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = Không gian làm việc
zen-tabs-unloader-enabled = 
    .label = Mở giải phóng thẻ
zen-tabs-close-on-back-with-no-history = 
    .label = Đóng tab và chuyển sang tab chủ sở hữu (hoặc tab được sử dụng gần đây nhất) khi quay lại mà không có lịch sử
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab chỉ xoay vòng trong các thẻ chính hoặc thẻ trong Không gian làm việc
zen-tabs-cycle-ignore-pending-tabs = 
    .label = Bỏ qua các thẻ chưa tải khi xoay vòng bằng Ctrl+Tab
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab sẽ xoay vòng theo thứ tự sử dụng gần đây do đang được bật
zen-look-and-feel-compact-toolbar-themed = 
    .label = Dùng nền chủ đề cho thanh công cụ thu gọn
zen-workspace-continue-where-left-off = 
    .label = Tiếp tục từ lần mở trước
pane-zen-pinned-tab-manager-title = Thẻ đã ghim
zen-pinned-tab-manager-header = Cài đặt chung cho các thẻ đã ghim
zen-pinned-tab-manager-description = Quản lý thêm các hành vi của thẻ đã ghim
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = Khôi phục các thẻ đã ghim về URL gốc khi khởi động
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = Bật các thẻ chính riêng cho ngăn chứa
zen-pinned-tab-manager-close-shortcut-behavior-label = Hành vi của phím tắt đóng thẻ
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = Đặt lại địa chỉ, giải phóng và chuyển sang thẻ tiếp theo
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = Giải phóng và chuyển sang thẻ tiếp theo
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = Đặt lại địa chỉ và chuyển sang thẻ tiếp theo
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = Chuyển sang thẻ tiếp theo
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = Đặt lại địa chỉ
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = Đóng thẻ
pane-zen-workspaces-header = Không gian làm việc
zen-settings-workspaces-header = Cài đặt chung cho không gian làm việc
zen-settings-workspaces-description = Với không gian làm việc, bạn có thể mở nhiều phiên duyệt web cùng lúc!
zen-settings-workspaces-enabled = 
    .label = Bật không gian làm việc
zen-settings-workspaces-hide-default-container-indicator = 
    .label = Ẩn ký hiệu ngăn chứa mặc định trên thanh thẻ
zen-key-unsaved = Phím tắt chưa được lưu! Vui lòng nhấn phím "Escape" sau khi nhập lại để lưu.
zen-key-conflict = Xung đột với { $group } -> { $shortcut }
pane-zen-theme-title = Cài đặt chủ đề
zen-vertical-tabs-title = Bố cục thanh bên và thẻ
zen-vertical-tabs-header = Thẻ dọc
zen-vertical-tabs-description = Quản lý các thẻ của bạn trong bố cục dọc
zen-vertical-tabs-show-expand-button = 
    .label = Hiển thị nút Mở rộng
zen-vertical-tabs-newtab-on-tab-list = 
    .label = Bật nút thẻ mới trên thanh bên
zen-vertical-tabs-newtab-top-button-up = 
    .label = Di chuyển nút thẻ mới lên đầu
zen-vertical-tabs-expand-tabs-by-default = Mở rộng các thẻ theo mặc định
zen-vertical-tabs-dont-expand-tabs-by-default = Không mở rộng các thẻ theo mặc định
zen-vertical-tabs-expand-tabs-on-hover = Mở rộng khi rê chuột qua (Không hoạt động trong chế độ tinh gọn)
zen-vertical-tabs-expand-tabs-header = Cách mở rộng thẻ
zen-vertical-tabs-expand-tabs-description = Chọn cách mở rộng thẻ trong thanh bên
zen-theme-marketplace-header = Bản mod Zen
zen-theme-disable-all-enabled = 
    .title = Tắt tất cả các mod
zen-theme-disable-all-disabled = 
    .title = Bật tất cả các mod
zen-theme-marketplace-description = Tìm và cài đặt mod từ cửa hàng.
zen-theme-marketplace-remove-button = 
    .label = Xóa tùy chỉnh
zen-theme-marketplace-check-for-updates-button = 
    .label = Kiểm tra cập nhật
zen-theme-marketplace-import-button = 
    .label = Nạp tùy chỉnh
zen-theme-marketplace-export-button = 
    .label = Xuất tùy chỉnh
zen-theme-marketplace-import-success = Các tùy chỉnh được nhập thành công
zen-theme-marketplace-import-failure = Có lỗi xảy ra khi nhập các tùy chỉnh
zen-theme-marketplace-export-success = Các tùy chỉnh được xuất thành công
zen-theme-marketplace-export-failure = Có lỗi xảy ra khi xuất các tùy chỉnh
zen-theme-marketplace-updates-success = Cập nhật tùy chỉnh thành công
zen-theme-marketplace-updates-failure = Không có cập nhật mới!
zen-theme-marketplace-toggle-enabled-button = 
    .title = Tắt các tùy chỉnh
zen-theme-marketplace-toggle-disabled-button = 
    .title = Bật các tùy chỉnh
zen-theme-marketplace-remove-confirmation = Bạn có chắc muốn xóa tùy chỉnh này không?
zen-theme-marketplace-close-modal = Đóng
zen-theme-marketplace-theme-header-title = 
    .title = Bộ chọn CSS: { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = Không có
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = Gõ gì đó đi...
pane-zen-marketplace-title = Zen Mods
zen-themes-auto-update = 
    .label = Tự động cập nhật các tùy chỉnh khi mở trình duyệt
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = Chuyển sang không gian làm việc mặc định của ngăn chứa khi mở thẻ ngăn chứa
zen-theme-marketplace-link = Vào cửa hàng
zen-dark-theme-styles-header = Các kiểu chủ đề tối
zen-dark-theme-styles-description = Tùy chỉnh chủ đề tối theo sở thích
zen-dark-theme-styles-amoled = Chủ đề tối
zen-dark-theme-styles-default = Chủ đề tối mặc định
zen-dark-theme-styles-colorful = Chủ đề tối rực rỡ
zen-compact-mode-styles-left = Ẩn thanh tab
zen-compact-mode-styles-top = Ẩn thanh trên cùng
zen-compact-mode-styles-both = Ẩn cả hai
zen-urlbar-title = Thanh địa chỉ Zen
zen-urlbar-header = Cài đặt chung cho thanh địa chỉ
zen-urlbar-description = Tùy chỉnh thanh địa chỉ theo sở thích
zen-urlbar-behavior-label = Hành vi thanh địa chỉ
zen-urlbar-behavior-normal = 
    .label = Bình thường
zen-urlbar-behavior-floating-on-type = 
    .label = Chỉ hiện nổi khi đang gõ
zen-urlbar-behavior-float = 
    .label = Luôn luôn nổi
pane-zen-CKS-title = Phím tắt
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } Phím tắt
category-zen-marketplace = 
    .tooltiptext = Bản mod Zen
zen-settings-CKS-header = Tùy chỉnh phím tắt
zen-settings-CKS-description = Thay đổi các phím tắt mặc định theo sở thích và cải thiện trải nghiệm duyệt web của bạn
zen-settings-CKS-disable-firefox = 
    .label = Vô hiệu hóa các phím tắt mặc định của { -brand-short-name }
zen-settings-CKS-duplicate-shortcut = 
    .label = Trùng phím tắt
zen-settings-CKS-reset-shortcuts = 
    .label = Khôi phục về mặc định
zenCKSOption-group-other = Khác
zenCKSOption-group-windowAndTabManagement = Quản lý tab và cửa sổ
zenCKSOption-group-navigation = Điều hướng
zenCKSOption-group-searchAndFind = Tìm kiếm
zenCKSOption-group-pageOperations = Các thao tác trang
zenCKSOption-group-historyAndBookmarks = Lịch sử & Dấu trang
zenCKSOption-group-mediaAndDisplay = Phương tiện và hiển thị
zenCKSOption-group-zen-compact-mode = Chế độ thu gọn
zenCKSOption-group-zen-workspace = Không gian làm việc
zenCKSOption-group-zen-other = Các tính năng khác của Zen
zenCKSOption-group-zen-split-view = Chế độ chia khung
zenCKSOption-group-devTools = Công cụ nhà phát triển
zen-key-quick-restart = Khởi động lại nhanh
zen-window-new-shortcut = Cửa sổ mới
zen-tab-new-shortcut = Thẻ mới
zen-key-redo = Hoàn tác
zen-restore-last-closed-tab-shortcut = Khôi phục lại thẻ gần nhất đã đóng
zen-location-open-shortcut = Mở đường dẫn
zen-location-open-shortcut-alt = Mở tại (Alt)
zen-key-undo-close-window = Mở lại cửa sổ đã đóng
zen-text-action-undo-shortcut = Hoàn tác
zen-text-action-redo-shortcut = Làm lại
zen-text-action-cut-shortcut = Cắt
zen-text-action-copy-shortcut = Sao chép
zen-text-action-copy-url-shortcut = Sao chép địa chỉ hiện tại
zen-text-action-copy-url-markdown-shortcut = Sao chép địa chỉ dưới dạng Markdown
zen-text-action-paste-shortcut = Dán
zen-text-action-select-all-shortcut = Chọn tất cả
zen-text-action-delete-shortcut = Xóa
zen-history-show-all-shortcut-mac = Hiện toàn bị lịch sử (Mac)
zen-full-screen-shortcut = Chuyển đổi chế độ toàn màn hình
zen-reader-mode-toggle-shortcut-windows = Bật/tắt chế độ đọc (Windows)
zen-picture-in-picture-toggle-shortcut-alt = Bật/Tắt Hình trong hình (Alt)
zen-picture-in-picture-toggle-shortcut-mac = Bật/tắt hình-trong-hình (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = Bật/tắt hình-trong-hình (Mac Alt)
zen-page-source-shortcut-safari = Xem nguồn trang (Safari)
zen-nav-stop-shortcut = Dừng tải
zen-history-sidebar-shortcut = Mở thanh bên lịch sử
zen-window-minimize-shortcut = Thu nhỏ cửa sổ
zen-help-shortcut = Mở trợ giúp
zen-preferences-shortcut = Mở Tuỳ chọn
zen-hide-app-shortcut = Ẩn ứng dụng
zen-hide-other-apps-shortcut = Ẩn các ứng dụng khác
zen-search-focus-shortcut = Chuyển đến thanh tìm kiếm
zen-search-focus-shortcut-alt = Chuyển đến thanh tìm kiếm (Alt)
zen-downloads-shortcut = Mở bảng tải xuống
zen-addons-shortcut = Mở tiện ích
zen-file-open-shortcut = Mở tập tin
zen-save-page-shortcut = Lưu trang
zen-print-shortcut = In trang
zen-close-shortcut-2 = Đóng Tab
zen-mute-toggle-shortcut = Bật/Tắt tiếng
zen-key-delete = Xóa phím
zen-key-go-back = Quay lại
zen-key-go-forward = Đi tới
zen-nav-back-shortcut-alt = Quay lại (Alt)
zen-nav-fwd-shortcut-alt = Đi tới (Alt)
zen-history-show-all-shortcut = Hiện tất cả lịch sử
zen-key-enter-full-screen = Xem toàn màn hình
zen-key-exit-full-screen = Thoát toàn màn hình
zen-ai-chatbot-sidebar-shortcut = Bật/Tắt thanh bên AI
zen-key-inspector-mac = Bật/Tắt Kiểm tra (Mac)
zen-toggle-sidebar-shortcut = Bật/Tắt thanh bên Firefox
zen-toggle-pin-tab-shortcut = Bật/Tắt ghim thẻ
zen-reader-mode-toggle-shortcut-other = Bật/Tắt chế độ đọc
zen-picture-in-picture-toggle-shortcut = Bật/Tắt hình trong hình
zen-nav-reload-shortcut-2 = Tải lại trang
zen-key-about-processes = Về các tiến trình
zen-page-source-shortcut = Xem nguồn trang
zen-page-info-shortcut = Xem thông tin trang
zen-find-shortcut = Tìm kiếm trên trang
zen-search-find-again-shortcut = Tìm lại
zen-search-find-again-shortcut-prev = Tìm trước đó
zen-search-find-again-shortcut-2 = Tìm lại (Alt)
zen-bookmark-this-page-shortcut = Đánh dấu trang này
zen-bookmark-show-library-shortcut = Hiển thị thư viện dấu trang
zen-key-stop = Dừng tải
zen-full-zoom-reduce-shortcut = Thu nhỏ
zen-full-zoom-enlarge-shortcut = Phóng to
zen-full-zoom-reset-shortcut = Đặt lại thu phóng
zen-full-zoom-reset-shortcut-alt = Đặt lại thu phóng (Alt)
zen-full-zoom-enlarge-shortcut-alt = Phóng to (Alt)
zen-full-zoom-enlarge-shortcut-alt2 = Thu nhỏ (Alt 2)
zen-bidi-switch-direction-shortcut = Đổi chiều hiển thị văn bản
zen-private-browsing-shortcut = Duyệt ẩn danh
zen-screenshot-shortcut = Chụp ảnh màn hình
zen-key-sanitize = Dọn dữ liệu duyệt
zen-quit-app-shortcut = Thoát ứng dụng
zen-key-wr-capture-cmd = Lệnh ghi hình WR
zen-key-wr-toggle-capture-sequence-cmd = Bật ghi hình WR
zen-nav-reload-shortcut = Tải lại trang
zen-nav-reload-shortcut-skip-cache = Tải lại trang (Bỏ qua bộ nhớ đệm)
zen-close-shortcut = Đóng cửa sổ
zen-close-tab-shortcut = Đóng Tab
zen-compact-mode-shortcut-show-sidebar = Bật/Tắt thanh bên nổi
zen-compact-mode-shortcut-show-toolbar = Bật/Tắt thanh công cụ nổi
zen-compact-mode-shortcut-toggle = Bật/tắt chế độ thu gọn
zen-glance-expand = Mở rộng xem nhanh
zen-workspace-shortcut-switch-1 = Chuyển sang không gian làm việc 1
zen-workspace-shortcut-switch-2 = Chuyển sang không gian làm việc 2
zen-workspace-shortcut-switch-3 = Chuyển sang không gian làm việc 3
zen-workspace-shortcut-switch-4 = Chuyển sang không gian làm việc 4
zen-workspace-shortcut-switch-5 = Chuyển sang không gian làm việc 5
zen-workspace-shortcut-switch-6 = Chuyển sang không gian làm việc 6
zen-workspace-shortcut-switch-7 = Chuyển sang không gian làm việc 7
zen-workspace-shortcut-switch-8 = Chuyển sang không gian làm việc 8
zen-workspace-shortcut-switch-9 = Chuyển sang không gian làm việc 9
zen-workspace-shortcut-switch-10 = Chuyển sang không gian làm việc 10
zen-workspace-shortcut-forward = Không gian làm việc tiếp theo
zen-workspace-shortcut-backward = Không gian làm việc trước
zen-sidebar-shortcut-toggle = Điều chỉnh độ rộng thanh bên
zen-pinned-tab-shortcut-reset = Đặt lại thẻ đã ghim về địa chỉ gốc
zen-split-view-shortcut-grid = Bật/Tắt chia lưới
zen-split-view-shortcut-vertical = Bật/Tắt chia dọc
zen-split-view-shortcut-horizontal = Bật/Tắt chia ngang
zen-split-view-shortcut-unsplit = Hủy chia khung
zen-new-empty-split-view-shortcut = Tạo khung chia trống mới
zen-key-select-tab-1 = Chọn thẻ #1
zen-key-select-tab-2 = Chọn thẻ #2
zen-key-select-tab-3 = Chọn thẻ #3
zen-key-select-tab-4 = Chọn thẻ #4
zen-key-select-tab-5 = Chọn thẻ #5
zen-key-select-tab-6 = Chọn thẻ #6
zen-key-select-tab-7 = Chọn thẻ #7
zen-key-select-tab-8 = Chọn thẻ #8
zen-key-select-tab-last = Chọn thẻ cuối cùng
zen-key-show-all-tabs = Hiện tất cả thẻ
zen-key-goto-history = Mở lịch sử
zen-key-go-home = Về trang chủ
zen-bookmark-show-sidebar-shortcut = Hiện trang đánh dấu ở thanh bên
zen-bookmark-show-toolbar-shortcut = Hiện trang đánh dấu ở thanh công cụ
zen-devtools-toggle-shortcut = Bật/tắt DevTools
zen-devtools-toggle-browser-toolbox-shortcut = Bật/Tắt công cụ trình duyệt
zen-devtools-toggle-browser-console-shortcut = Bật/Tắt Console trình duyệt
zen-devtools-toggle-responsive-design-mode-shortcut = Bật/Tắt thiết kế tương thích
zen-devtools-toggle-inspector-shortcut = Bật/Tắt bộ kiểm tra
zen-devtools-toggle-web-console-shortcut = Bật/Tắt Console web
zen-devtools-toggle-js-debugger-shortcut = Bật/Tắt gỡ lỗi JS
zen-devtools-toggle-net-monitor-shortcut = Bật/Tắt giám sát mạng
zen-devtools-toggle-style-editor-shortcut = Bật/Tắt soạn thảo CSS
zen-devtools-toggle-performance-shortcut = Bật/Tắt hiệu năng
zen-devtools-toggle-storage-shortcut = Bật lưu trữ
zen-devtools-toggle-dom-shortcut = Bật/Tắt DOM
zen-devtools-toggle-accessibility-shortcut = Bật/Tắt trợ năng
zen-close-all-unpinned-tabs-shortcut = Đóng tất cả thẻ chưa ghim
zen-new-unsynced-window-shortcut = New Unsynced Window



================================================
FILE: locales/zh-CN/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = 搜索 { $folder-name }…
zen-folders-panel-rename-folder = 
    .label = 重命名文件夹
zen-folders-panel-unpack-folder = 
    .label = 解散文件夹
zen-folders-new-subfolder = 
    .label = 新建子文件夹
zen-folders-panel-delete-folder = 
    .label = 删除文件夹
zen-folders-panel-convert-folder-to-space = 
    .label = 将文件夹转换为工作区
zen-folders-panel-change-folder-space = 
    .label = 更改工作区…
zen-folders-unload-all-tooltip = 
    .tooltiptext = 卸载此文件夹中的活动标签页
zen-folders-unload-folder = 
    .label = 卸载所有标签
zen-folders-search-no-results = 未找到匹配的标签页 🤔



================================================
FILE: locales/zh-CN/browser/browser/zen-general.ftl
================================================
[Binary file]


================================================
FILE: locales/zh-CN/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] 展开固定标签页
           *[false] 折叠固定标签页
        }
zen-menubar-appearance = 
    .label = 外观
zen-menubar-appearance-description = 
    .label = 网站将会使用：
zen-menubar-appearance-auto = 
    .label = 自动
zen-menubar-appearance-light = 
    .label = 浅色
zen-menubar-appearance-dark = 
    .label = 深色
zen-menubar-new-unsynced-window = 
    .label = 新建空白窗口



================================================
FILE: locales/zh-CN/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] 分屏标签页（需要选择多个标签页）
           *[other] 分屏 { $tabCount } 个标签页
        }
    .accesskey = S
zen-split-link = 
    .label = 拆分链接到新标签页
    .accesskey = S
zen-split-view-modifier-header = 拆分视图
zen-split-view-modifier-activate-reallocation = 
    .label = 激活重新分配
zen-split-view-modifier-enabled-toast = 已启用拆分视图重排。
zen-split-view-modifier-enabled-toast-description = 拖放视图以重新排序。按Esc键退出。
zen-split-view-modifier-disabled-toast = 已禁用拆分视图重排。



================================================
FILE: locales/zh-CN/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = 右侧标签页
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = 简洁模式
zen-toolbar-context-compact-mode-enable = 
    .label = 启用简洁模式
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = 隐藏侧边栏
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = 隐藏工具栏
zen-toolbar-context-compact-mode-hide-both = 
    .label = 两者都隐藏
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = 新建文件夹
    .accesskey = N
sidebar-zen-expand = 
    .label = 展开侧边栏
sidebar-zen-create-new = 
    .label = 新建…
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] 卸载并切换到标签页
           *[other] 卸载 { $tabCount } 个标签页并切换到首个
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] 重置并固定标签页
           *[other] 重置并固定 { $tabCount } 个标签页
        }
tab-reset-pin-label = 返回已固定网址



================================================
FILE: locales/zh-CN/browser/browser/zen-web-side-panels.ftl
================================================
zen-web-side-panel-context-mute-panel = 
    .label = 静音网页面板
    .accesskey = M
zen-web-side-panel-context-unmute-panel = 
    .label = 取消网页面板静音
    .accesskey = m
zen-web-side-panel-context-disable-ua = 
    .label = 禁用移动端用户代理
    .accesskey = U
zen-web-side-panel-context-enable-ua = 
    .label = 启用移动端用户代理
    .accesskey = M
zen-web-side-panel-context-unload = 
    .label = 卸载网页面板
    .accesskey = W
zen-web-side-panel-context-delete = 
    .label = 删除网页面板
    .accesskey = D
zen-web-side-panel-open-in-new-tab = 
    .label = 在新标签页中打开
    .accesskey = N
zen-web-side-panel-context-open-in-container-tab = 
    .label = 在容器标签页中打开
    .accesskey = C
zen-web-side-panel-context-add-to-panel = 
    .label = 添加到网页面板
    .accesskey = A
zen-webpanel-introduction-title = 欢迎使用 Zen 网页面板
zen-webpanel-introduction-description = 网页面板，让常用网站一触即达。



================================================
FILE: locales/zh-CN/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = 欢迎来到
zen-welcome-title-line2 = 更平静的互联网
zen-welcome-import-title = 全新出发，收藏如旧
zen-welcome-import-description-1 = 收藏足迹贴心伴，迁移升级别落下！
zen-welcome-import-description-2 = 一键迁移数据，无缝续览网络。
zen-welcome-import-button = 立即导入
zen-welcome-set-default-browser = 将 { -brand-short-name } 设为默认浏览器
zen-welcome-dont-set-default-browser = 不要将 { -brand-short-name } 设为默认浏览器
zen-welcome-initial-essentials-title = 关键页面，一触即达
zen-welcome-initial-essentials-description-1 = 无论开启多少标签页，常驻页面始终触手可及。
zen-welcome-initial-essentials-description-2 = 无论身处哪个工作区，常驻页面始终可见。
zen-welcome-workspace-colors-title = 空间由你，色彩随心
zen-welcome-workspace-colors-description = 您可以给每个工作区定制化颜色。
zen-welcome-start-browsing-title =
    都准备好了吗？<br/>
    开始冲浪吧！
zen-welcome-start-browsing-description-1 = 一切准备妥当。点击下方按钮开始用 { -brand-short-name } 浏览互联网。
zen-welcome-start-browsing = 出发！
zen-welcome-default-search-title = 您的默认搜索引擎
zen-welcome-default-search-description = 选择您的默认搜索引擎。您可以随时更改它！
zen-welcome-skip-button = 跳过
zen-welcome-finished = 您的 Zen 已设置妥当！



================================================
FILE: locales/zh-CN/browser/browser/zen-workspaces.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-panel-ui-workspaces-text = 工作区
zen-panel-ui-spaces-label = 
    .label = 工作区
zen-panel-ui-workspaces-create = 
    .label = 创建工作区
zen-panel-ui-folder-create = 
    .label = 新建文件夹
zen-panel-ui-new-empty-split = 
    .label = 新建分屏
zen-workspaces-panel-context-delete = 
    .label = 删除工作区
    .accesskey = D
zen-workspaces-panel-change-name = 
    .label = 重命名
zen-workspaces-panel-change-icon = 
    .label = 更改图标
zen-workspaces-panel-context-default-profile = 
    .label = 设置身份
zen-workspaces-panel-unload = 
    .label = 卸载工作区
zen-workspaces-how-to-reorder-title = 如何排序工作区
zen-workspaces-how-to-reorder-desc = 拖动侧边栏底部的工作区图标以重新排序
zen-workspaces-change-theme = 
    .label = 编辑主题
zen-workspaces-panel-context-open = 
    .label = 打开工作区
    .accesskey = O
zen-workspaces-panel-context-edit = 
    .label = 编辑工作区
    .accesskey = E
zen-bookmark-edit-panel-workspace-selector = 
    .value = 工作区
    .accesskey = W
zen-panel-ui-gradient-generator-algo-complementary = 
    .label = 互补色
zen-panel-ui-gradient-generator-algo-splitComplementary = 
    .label = 分裂补色
zen-panel-ui-gradient-generator-algo-analogous = 
    .label = 邻近色
zen-panel-ui-gradient-generator-algo-triadic = 
    .label = 三角色
zen-panel-ui-gradient-generator-algo-floating = 
    .label = 浮动
zen-panel-ui-gradient-click-to-add = 点击添加颜色
zen-workspace-creation-name = 
    .placeholder = 工作区名称
zen-move-tab-to-workspace-button = 
    .label = 移动到……
    .tooltiptext = 将当前窗口的所有标签页移动到一个工作区
zen-workspaces-panel-context-reorder = 
    .label = 排序工作区
zen-workspace-creation-profile = 身份
    .tooltiptext = 身份用于在工作区之间分隔 Cookie 和站点数据。
zen-workspace-creation-header = 创建工作区
zen-workspace-creation-label = 工作区用于组织标签页和会话。
zen-workspaces-delete-workspace-title = 删除工作区？
zen-workspaces-delete-workspace-body = 你确定要删除 { $name } 吗？这个操作无法撤销。
# Note that the html tag MUST not be changed or removed, as it is used to better
# display the shortcut in the toast notification.
zen-workspaces-close-all-unpinned-tabs-toast = 标签页已关闭！按下 <span>{ $shortcut }</span> 以恢复关闭的标签页。
zen-workspaces-close-all-unpinned-tabs-title = 
    .label = 清除
    .tooltiptext = 关闭所有未固定的标签页
zen-panel-ui-workspaces-change-forward = 
    .label = 下一个工作区
zen-panel-ui-workspaces-change-back = 
    .label = 上一个工作区



================================================
FILE: locales/zh-CN/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = 采用深色配色方案和漂亮星系风格的主题！
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = 采用浅色配色方案并带有梦幻气息的主题！



================================================
FILE: locales/zh-CN/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = 初始化网址
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = 使用移动端模式显示此网页
    .accesskey = m



================================================
FILE: locales/zh-CN/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = 界面外观
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = 更改默认语言可能会让网站更容易追踪您。
zen-vertical-tabs-layout-header = 浏览器布局
zen-vertical-tabs-layout-description = 选择最适合您的布局
zen-layout-single-toolbar = 仅侧边工具栏
zen-layout-multiple-toolbar = 侧边+顶部工具栏
zen-layout-collapsed-toolbar = 折叠工具栏
sync-currently-syncing-workspaces = 工作区
sync-engine-workspaces = 
    .label = 工作区
    .tooltiptext = 在不同设备之间同步您的工作区
    .accesskey = W
zen-glance-title = 浮窗预览
zen-glance-header = 浮窗预览常规设置
zen-glance-description = 无需打开新标签页，即可快速预览链接内容
zen-glance-trigger-label = 触发方式
zen-glance-enabled = 
    .label = 启用浮窗预览
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + 单击
zen-glance-trigger-alt-click = 
    .label = Alt + 单击
zen-glance-trigger-shift-click = 
    .label = Shift + 单击
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + 单击
zen-look-and-feel-compact-view-header = 以简洁视图显示
zen-look-and-feel-compact-view-description = 仅显示您使用的工具栏！
zen-look-and-feel-compact-view-enabled = 
    .label = 启用 { -brand-short-name } 的简洁模式
zen-look-and-feel-compact-view-top-toolbar = 
    .label = 在简洁模式下隐藏顶部工具栏
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = 简洁模式下，切换或打开新标签页时短暂弹出工具栏
pane-zen-tabs-title = 标签页管理
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = 工作区
zen-tabs-unloader-enabled = 
    .label = 启用标签页卸载器
zen-tabs-close-on-back-with-no-history = 
    .label = 在标签页没有历史页面时转到上一页，将关闭该标签页并回到原标签页（或回到最近使用的标签页）
zen-tabs-cycle-by-attribute = 
    .label = 按下 Ctrl+Tab 时，仅在常驻标签页或工作区中循环切换标签页
zen-tabs-cycle-ignore-pending-tabs = 
    .label = 按下 Ctrl+Tab 时，循环切换将跳过非活动标签页
zen-tabs-cycle-by-attribute-warning = 按下 Ctrl+Tab 时，依照最近使用顺序循环切换标签页
zen-look-and-feel-compact-toolbar-themed = 
    .label = 在简洁模式下，将主题背景应用到工具栏
zen-workspace-continue-where-left-off = 
    .label = 从之前离开的页面继续
pane-zen-pinned-tab-manager-title = 固定标签页
zen-pinned-tab-manager-header = 固定标签页的常规设置
zen-pinned-tab-manager-description = 管理固定标签页的附加行为
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = 启动时恢复固定标签页至固定的初始网址
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = 启用容器专属常驻标签页
zen-pinned-tab-manager-close-shortcut-behavior-label = 关闭标签页快捷键的行为
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = 重置 URL，卸载并切换到下一个标签页
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = 卸载并切换到下一个标签页
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = 重置 URL 并切换到下一个标签页
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = 切换到下一个标签页
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = 重置 URL
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = 关闭标签页
pane-zen-workspaces-header = 工作区
zen-settings-workspaces-header = 工作区的常规设置
zen-settings-workspaces-description = 使用工作区，您可以同时进行多个浏览会话！
zen-settings-workspaces-enabled = 
    .label = 启用工作区
zen-settings-workspaces-hide-default-container-indicator = 
    .label = 隐藏在标签页栏中的默认容器指示器
zen-key-unsaved = 快捷键未保存！请重新输入并按下“Escape”键保存。
zen-key-conflict = 与”{ $group }“的”{ $shortcut }“快捷键冲突
pane-zen-theme-title = 主题设置
zen-vertical-tabs-title = 侧边栏和标签页布局
zen-vertical-tabs-header = 垂直标签页
zen-vertical-tabs-description = 使用垂直布局管理您的标签页
zen-vertical-tabs-show-expand-button = 
    .label = 显示展开按钮
zen-vertical-tabs-newtab-on-tab-list = 
    .label = 在标签页列表中显示新建按钮
zen-vertical-tabs-newtab-top-button-up = 
    .label = 将新建标签页按钮移动到顶部
zen-vertical-tabs-expand-tabs-by-default = 默认展开标签页
zen-vertical-tabs-dont-expand-tabs-by-default = 默认不展开标签页
zen-vertical-tabs-expand-tabs-on-hover = 鼠标悬停时展开标签页（不适用于简洁模式）
zen-vertical-tabs-expand-tabs-header = 如何展开标签页
zen-vertical-tabs-expand-tabs-description = 选择如何在侧边栏展开标签页
zen-theme-marketplace-header = Zen 模组
zen-theme-disable-all-enabled = 
    .title = 禁用所有模组
zen-theme-disable-all-disabled = 
    .title = 启用所有模组
zen-theme-marketplace-description = 从仓库查找和安装模组。
zen-theme-marketplace-remove-button = 
    .label = 移除模组
zen-theme-marketplace-check-for-updates-button = 
    .label = 检查更新
zen-theme-marketplace-import-button = 
    .label = 导入模组
zen-theme-marketplace-export-button = 
    .label = 导出模组
zen-theme-marketplace-import-success = 模组导入成功
zen-theme-marketplace-import-failure = 导入模组时发生错误
zen-theme-marketplace-export-success = 模组导出成功
zen-theme-marketplace-export-failure = 导出模组时发生错误
zen-theme-marketplace-updates-success = 模组更新成功
zen-theme-marketplace-updates-failure = 没有找到任何更新！
zen-theme-marketplace-toggle-enabled-button = 
    .title = 禁用模组
zen-theme-marketplace-toggle-disabled-button = 
    .title = 启用模组
zen-theme-marketplace-remove-confirmation = 您确定要移除此模组吗？
zen-theme-marketplace-close-modal = 关闭
zen-theme-marketplace-theme-header-title = 
    .title = CSS 选择器： { $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = 无
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = 输入点什么…
pane-zen-marketplace-title = Zen 模组
zen-themes-auto-update = 
    .label = 启动时自动更新已安装的模组
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = 在打开容器标签页时，切换到设置为默认容器的工作空间
zen-theme-marketplace-link = 访问仓库
zen-dark-theme-styles-header = 深色主题样式
zen-dark-theme-styles-description = 自定义您喜欢的深色主题
zen-dark-theme-styles-amoled = 夜间主题
zen-dark-theme-styles-default = 默认深色主题
zen-dark-theme-styles-colorful = 多彩的深色主题
zen-compact-mode-styles-left = 隐藏标签页栏
zen-compact-mode-styles-top = 隐藏顶部栏
zen-compact-mode-styles-both = 两者都隐藏
zen-urlbar-title = Zen 地址栏
zen-urlbar-header = 地址栏的常规设置
zen-urlbar-description = 自定义您喜欢的地址栏
zen-urlbar-behavior-label = 行为
zen-urlbar-behavior-normal = 
    .label = 默认
zen-urlbar-behavior-floating-on-type = 
    .label = 仅输入时浮动
zen-urlbar-behavior-float = 
    .label = 始终浮动
pane-zen-CKS-title = 键盘快捷键
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } 键盘快捷键
category-zen-marketplace = 
    .tooltiptext = Zen 模组
zen-settings-CKS-header = 自定义您的键盘快捷键
zen-settings-CKS-description = 根据喜好更改您的默认键盘快捷键，并改进您的浏览体验
zen-settings-CKS-disable-firefox = 
    .label = 禁用 { -brand-short-name } 的默认键盘快捷键
zen-settings-CKS-duplicate-shortcut = 
    .label = 重复的快捷键
zen-settings-CKS-reset-shortcuts = 
    .label = 重置为默认值
zenCKSOption-group-other = 其他
zenCKSOption-group-windowAndTabManagement = 窗口和标签页管理
zenCKSOption-group-navigation = 导航
zenCKSOption-group-searchAndFind = 搜索与查找
zenCKSOption-group-pageOperations = 页面操作
zenCKSOption-group-historyAndBookmarks = 历史记录与书签
zenCKSOption-group-mediaAndDisplay = 媒体与显示
zenCKSOption-group-zen-compact-mode = 简洁模式
zenCKSOption-group-zen-workspace = 工作区
zenCKSOption-group-zen-other = Zen 的其它功能
zenCKSOption-group-zen-split-view = 拆分视图
zenCKSOption-group-devTools = 开发者工具
zen-key-quick-restart = 快速重启
zen-window-new-shortcut = 新建窗口
zen-tab-new-shortcut = 新建标签页
zen-key-redo = 重做
zen-restore-last-closed-tab-shortcut = 恢复上次关闭的标签页
zen-location-open-shortcut = 聚焦到地址栏
zen-location-open-shortcut-alt = 聚焦到地址栏（Alt）
zen-key-undo-close-window = 撤消关闭窗口
zen-text-action-undo-shortcut = 撤消操作
zen-text-action-redo-shortcut = 重做
zen-text-action-cut-shortcut = 剪切
zen-text-action-copy-shortcut = 复制
zen-text-action-copy-url-shortcut = 复制当前网址
zen-text-action-copy-url-markdown-shortcut = 复制 Markdown 格式的网址
zen-text-action-paste-shortcut = 粘贴
zen-text-action-select-all-shortcut = 选择所有
zen-text-action-delete-shortcut = 删除
zen-history-show-all-shortcut-mac = 显示所有历史记录(Mac)
zen-full-screen-shortcut = 切换全屏
zen-reader-mode-toggle-shortcut-windows = 切换阅读模式（Windows）
zen-picture-in-picture-toggle-shortcut-alt = 切换画中画模式（Alt）
zen-picture-in-picture-toggle-shortcut-mac = 切换画中画模式（Mac）
zen-picture-in-picture-toggle-shortcut-mac-alt = 切换画中画模式（Mac Alt）
zen-page-source-shortcut-safari = 显示页面源代码（Safari）
zen-nav-stop-shortcut = 停止加载
zen-history-sidebar-shortcut = 显示历史记录侧边栏
zen-window-minimize-shortcut = 最小化窗口
zen-help-shortcut = 打开帮助
zen-preferences-shortcut = 打开首选项
zen-hide-app-shortcut = 隐藏应用程序
zen-hide-other-apps-shortcut = 隐藏其他应用程序
zen-search-focus-shortcut = 聚焦搜索
zen-search-focus-shortcut-alt = 聚焦搜索（Alt）
zen-downloads-shortcut = 打开下载
zen-addons-shortcut = 打开附加组件
zen-file-open-shortcut = 打开文件
zen-save-page-shortcut = 保存页面
zen-print-shortcut = 打印页面
zen-close-shortcut-2 = 关闭标签页
zen-mute-toggle-shortcut = 切换静音
zen-key-delete = 删除
zen-key-go-back = 返回
zen-key-go-forward = 前进
zen-nav-back-shortcut-alt = 导航返回（Alt）
zen-nav-fwd-shortcut-alt = 导航前进（Alt）
zen-history-show-all-shortcut = 显示所有历史记录
zen-key-enter-full-screen = 进入全屏
zen-key-exit-full-screen = 退出全屏
zen-ai-chatbot-sidebar-shortcut = 切换 AI 聊天机器人侧边栏
zen-key-inspector-mac = 切换查看器（Mac）
zen-toggle-sidebar-shortcut = 切换 Firefox 侧边栏
zen-toggle-pin-tab-shortcut = 切换固定标签页
zen-reader-mode-toggle-shortcut-other = 切换阅读模式
zen-picture-in-picture-toggle-shortcut = 切换画中画模式
zen-nav-reload-shortcut-2 = 重新加载页面
zen-key-about-processes = 关于进程
zen-page-source-shortcut = 查看页面源代码
zen-page-info-shortcut = 查看页面信息
zen-find-shortcut = 在页面上查找
zen-search-find-again-shortcut = 查找下一个
zen-search-find-again-shortcut-prev = 查找上一个
zen-search-find-again-shortcut-2 = 查找下一个（Alt）
zen-bookmark-this-page-shortcut = 将此页面加入书签
zen-bookmark-show-library-shortcut = 显示书签库
zen-key-stop = 停止加载
zen-full-zoom-reduce-shortcut = 缩小
zen-full-zoom-enlarge-shortcut = 放大
zen-full-zoom-reset-shortcut = 重置缩放
zen-full-zoom-reset-shortcut-alt = 重置缩放（Alt）
zen-full-zoom-enlarge-shortcut-alt = 放大（Alt）
zen-full-zoom-enlarge-shortcut-alt2 = 放大（Alt 2）
zen-bidi-switch-direction-shortcut = 切换文本方向
zen-private-browsing-shortcut = 隐私浏览
zen-screenshot-shortcut = 截图
zen-key-sanitize = 清除浏览数据
zen-quit-app-shortcut = 退出应用程序
zen-key-wr-capture-cmd = WR 捕获命令
zen-key-wr-toggle-capture-sequence-cmd = 切换 WR 捕获序列
zen-nav-reload-shortcut = 刷新页面
zen-nav-reload-shortcut-skip-cache = 刷新页面（忽略缓存）
zen-close-shortcut = 关闭窗口
zen-close-tab-shortcut = 关闭标签页
zen-compact-mode-shortcut-show-sidebar = 切换浮动侧边栏
zen-compact-mode-shortcut-show-toolbar = 切换浮动工具栏
zen-compact-mode-shortcut-toggle = 切换简洁模式
zen-glance-expand = 展开浮窗预览
zen-workspace-shortcut-switch-1 = 切换到工作区 1
zen-workspace-shortcut-switch-2 = 切换到工作区 2
zen-workspace-shortcut-switch-3 = 切换到工作区 3
zen-workspace-shortcut-switch-4 = 切换到工作区 4
zen-workspace-shortcut-switch-5 = 切换到工作区 5
zen-workspace-shortcut-switch-6 = 切换到工作区 6
zen-workspace-shortcut-switch-7 = 切换到工作区 7
zen-workspace-shortcut-switch-8 = 切换到工作区 8
zen-workspace-shortcut-switch-9 = 切换到工作区 9
zen-workspace-shortcut-switch-10 = 切换到工作区 10
zen-workspace-shortcut-forward = 下一个工作区
zen-workspace-shortcut-backward = 上一个工作区
zen-sidebar-shortcut-toggle = 折叠/展开侧边栏
zen-pinned-tab-shortcut-reset = 重置固定标签页至其固定的 URL
zen-split-view-shortcut-grid = 切换网格拆分视图
zen-split-view-shortcut-vertical = 切换垂直拆分视图
zen-split-view-shortcut-horizontal = 切换水平拆分视图
zen-split-view-shortcut-unsplit = 关闭拆分视图
zen-new-empty-split-view-shortcut = 新建空白分屏视图
zen-key-select-tab-1 = 选择标签页 #1
zen-key-select-tab-2 = 选择标签页 #2
zen-key-select-tab-3 = 选择标签页 #3
zen-key-select-tab-4 = 选择标签页 #4
zen-key-select-tab-5 = 选择标签页 #5
zen-key-select-tab-6 = 选择标签页 #6
zen-key-select-tab-7 = 选择标签页 #7
zen-key-select-tab-8 = 选择标签页 #8
zen-key-select-tab-last = 选择最后一个标签页
zen-key-show-all-tabs = 显示所有标签页
zen-key-goto-history = 转到历史记录
zen-key-go-home = 回到首页
zen-bookmark-show-sidebar-shortcut = 显示书签侧边栏
zen-bookmark-show-toolbar-shortcut = 显示书签工具栏
zen-devtools-toggle-shortcut = 切换开发者工具
zen-devtools-toggle-browser-toolbox-shortcut = 切换浏览器工具箱
zen-devtools-toggle-browser-console-shortcut = 切换浏览器控制台
zen-devtools-toggle-responsive-design-mode-shortcut = 切换响应式设计模式
zen-devtools-toggle-inspector-shortcut = 切换检查器
zen-devtools-toggle-web-console-shortcut = 切换 Web 控制台
zen-devtools-toggle-js-debugger-shortcut = 切换 JavaScript 调试器
zen-devtools-toggle-net-monitor-shortcut = 切换网络监视器
zen-devtools-toggle-style-editor-shortcut = 切换样式编辑器
zen-devtools-toggle-performance-shortcut = 切换性能
zen-devtools-toggle-storage-shortcut = 切换存储
zen-devtools-toggle-dom-shortcut = 切换 DOM
zen-devtools-toggle-accessibility-shortcut = 切换无障碍环境
zen-close-all-unpinned-tabs-shortcut = 关闭所有未固定的标签页
zen-new-unsynced-window-shortcut = 新的未同步窗口



================================================
FILE: locales/zh-TW/browser/browser/zen-folders.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-folders-search-placeholder = 
    .placeholder = 搜尋 { $folder-name }...
zen-folders-panel-rename-folder = 
    .label = 重新命名分頁夾
zen-folders-panel-unpack-folder = 
    .label = 解散分頁夾
zen-folders-new-subfolder = 
    .label = 新增子分頁夾
zen-folders-panel-delete-folder = 
    .label = 刪除分頁夾
zen-folders-panel-convert-folder-to-space = 
    .label = 將分頁夾轉換為工作區
zen-folders-panel-change-folder-space = 
    .label = 變更工作區...
zen-folders-unload-all-tooltip = 
    .tooltiptext = 卸載此分頁夾中所有分頁
zen-folders-unload-folder = 
    .label = 卸載所有分頁
zen-folders-search-no-results = 找不到符合搜尋的分頁 🤔



================================================
FILE: locales/zh-TW/browser/browser/zen-general.ftl
================================================
[Binary file]


================================================
FILE: locales/zh-TW/browser/browser/zen-menubar.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-menubar-toggle-pinned-tabs = 
    .label =
        { $pinnedAreCollapsed ->
            [true] 展開釘選分頁
           *[false] 摺疊釘選分頁
        }
zen-menubar-appearance = 
    .label = 外觀
zen-menubar-appearance-description = 
    .label = 網站將會使用：
zen-menubar-appearance-auto = 
    .label = 自動
zen-menubar-appearance-light = 
    .label = 亮色
zen-menubar-appearance-dark = 
    .label = 暗色
zen-menubar-new-unsynced-window = 
    .label = 開新初始視窗



================================================
FILE: locales/zh-TW/browser/browser/zen-split-view.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

tab-zen-split-tabs = 
    .label =
        { $tabCount ->
            [1] 分割畫面頁籤 (需要選擇多個分頁)
           *[other] 分割 { $tabCount } 個分頁
        }
    .accesskey = S
zen-split-link = 
    .label = 將連結加到分割畫面
    .accesskey = S
zen-split-view-modifier-header = 分割畫面
zen-split-view-modifier-activate-reallocation = 
    .label = 啟用重新排列
zen-split-view-modifier-enabled-toast = 已開啟分割畫面重新排列功能。
zen-split-view-modifier-enabled-toast-description = 拖曳畫面以重新排列。按 Esc 鍵退出。
zen-split-view-modifier-disabled-toast = 已關閉分割畫面重新排列功能。



================================================
FILE: locales/zh-TW/browser/browser/zen-vertical-tabs.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-toolbar-context-tabs-right = 
    .label = 右側分頁欄
    .accesskey = R
zen-toolbar-context-compact-mode = 
    .label = 緊湊模式
zen-toolbar-context-compact-mode-enable = 
    .label = 開啟緊湊模式
    .accesskey = D
zen-toolbar-context-compact-mode-just-tabs = 
    .label = 隱藏側邊欄
zen-toolbar-context-compact-mode-just-toolbar = 
    .label = 隱藏工具列
zen-toolbar-context-compact-mode-hide-both = 
    .label = 兩者皆隱藏
    .accesskey = H
zen-toolbar-context-new-folder = 
    .label = 新增分頁夾
    .accesskey = N
sidebar-zen-expand = 
    .label = 展開側邊欄
sidebar-zen-create-new = 
    .label = 新增...
tabbrowser-unload-tab-button = 
    .tooltiptext =
        { $tabCount ->
            [one] 關閉並切換到此分頁
           *[other] 關閉 { $tabCount } 個分頁並切換到第一個分頁
        }
tabbrowser-reset-pin-button = 
    .tooltiptext =
        { $tabCount ->
            [one] 重設並釘選分頁
           *[other] 重設並釘選 { $tabCount } 個分頁
        }
tab-reset-pin-label = 返回釘選網址



================================================
FILE: locales/zh-TW/browser/browser/zen-web-side-panels.ftl
================================================
[Binary file]


================================================
FILE: locales/zh-TW/browser/browser/zen-welcome.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

zen-welcome-title-line1 = 歡迎使用
zen-welcome-title-line2 = 更寧靜的網路體驗
zen-welcome-import-title = 全新開始，書籤依舊
zen-welcome-import-description-1 = 您的書籤、歷史記錄和密碼，是您網路足跡的珍貴紀錄——別把它們遺忘了！
zen-welcome-import-description-2 = 輕鬆匯入其他瀏覽器的資料，無縫接續瀏覽體驗。
zen-welcome-import-button = 立即匯入
zen-welcome-set-default-browser = 將 { -brand-short-name } 設為您的預設瀏覽器
zen-welcome-dont-set-default-browser = 不要將 { -brand-short-name } 設為您的預設瀏覽器
zen-welcome-initial-essentials-title = 重要分頁，隨手可及
zen-welcome-initial-essentials-description-1 = 無論開啟多少分頁，最重要的分頁將永遠顯示，讓您輕鬆存取。
zen-welcome-initial-essentials-description-2 = 無論您在哪個工作區，Essential 分頁會永遠顯示。
zen-welcome-workspace-colors-title = 您的工作區，您的色彩
zen-welcome-workspace-colors-description = 為每個工作區賦予獨特的色彩，打造個人化瀏覽器。
zen-welcome-start-browsing-title =
    準備好了嗎？<br/>
    馬上開始體驗吧！
zen-welcome-start-browsing-description-1 = 您已完成所有設定並準備就緒。點擊下方按鈕，開始使用 { -brand-short-name } 瀏覽網路吧。
zen-welcome-start-browsing = 立即開始！
zen-welcome-default-search-title = 您的預設搜尋引擎
zen-welcome-default-search-description = 選擇您的預設搜尋引擎，您可以隨時更改它！
zen-welcome-skip-button = 跳過
zen-welcome-finished = 您的 Zen 瀏覽器已成功設定！



================================================
FILE: locales/zh-TW/browser/browser/zen-workspaces.ftl
================================================
[Binary file]


================================================
FILE: locales/zh-TW/browser/browser/zenAppExtensionFields.ftl
================================================
extension-firefox-compact-galaxy-name = Zen Galaxy
extension-firefox-compact-galaxy-description = 使用深色主題以及很棒的銀河風格！
extension-firefox-compact-dream-name = Zen Dream
extension-firefox-compact-dream-description = A theme with a light color scheme and a nice dream-y touch!



================================================
FILE: locales/zh-TW/browser/browser/zenNewWebPanel.ftl
================================================
zen-new-web-panel-url = 
    .value = 初始連結
    .accesskey = I
zen-new-web-panel-user-agent = 
    .value = 在行動裝置模式下顯示此網頁側板
    .accesskey = m



================================================
FILE: locales/zh-TW/browser/browser/preferences/zen-preferences.ftl
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

pane-zen-looks-title = 外觀與樣式
category-zen-looks = 
    .tooltiptext = { pane-zen-looks-title }
zen-warning-language = 更改預設的語言可能會讓網站更容易的追蹤你。
zen-vertical-tabs-layout-header = 瀏覽器版面配置
zen-vertical-tabs-layout-description = 選擇最適合您的版面
zen-layout-single-toolbar = 單一工具列
zen-layout-multiple-toolbar = 多個工具列
zen-layout-collapsed-toolbar = 摺疊工具列
sync-currently-syncing-workspaces = 工作區
sync-engine-workspaces = 
    .label = 工作區
    .tooltiptext = 在不同的裝置間同步您的工作區
    .accesskey = Ｗ
zen-glance-title = Glance
zen-glance-header = Glance 一般設定
zen-glance-description = 無需打開新分頁，即可快速預覽
zen-glance-trigger-label = 觸發方式
zen-glance-enabled = 
    .label = 啟用 Glance
zen-glance-trigger-ctrl-click = 
    .label = Ctrl + 左鍵
zen-glance-trigger-alt-click = 
    .label = Alt + 左鍵
zen-glance-trigger-shift-click = 
    .label = Shift + 左鍵
zen-glance-trigger-meta-click = 
    .label = Meta (Command) + 左鍵
zen-look-and-feel-compact-view-header = 在緊湊模式下顯示
zen-look-and-feel-compact-view-description = 只顯示你需要用的工具欄！
zen-look-and-feel-compact-view-enabled = 
    .label = 啟用 { -brand-short-name } 的緊湊模式
zen-look-and-feel-compact-view-top-toolbar = 
    .label = 在緊湊模式中也隱藏頂部的工具列
zen-look-and-feel-compact-toolbar-flash-popup = 
    .label = 在緊湊模式下切換或開啟新分頁時短暫彈出工具列
pane-zen-tabs-title = 分頁管理
category-zen-workspaces = 
    .tooltiptext = { pane-zen-tabs-title }
pane-settings-workspaces-title = 工作區
zen-tabs-unloader-enabled = 
    .label = 啟用分頁卸載器
zen-tabs-close-on-back-with-no-history = 
    .label = 在沒有返回紀錄時，關閉分頁並切換回其來源分頁（或最近使用的分頁）
zen-tabs-cycle-by-attribute = 
    .label = Ctrl+Tab 僅會在 Essential 分頁或是 Workspace 分頁之間切換
zen-tabs-cycle-ignore-pending-tabs = 
    .label = 使用 Ctrl+Tab 切換分頁時，忽略卸載的分頁
zen-tabs-cycle-by-attribute-warning = Ctrl+Tab 將按最近使用順序循環，因為該設定已啟用
zen-look-and-feel-compact-toolbar-themed = 
    .label = 將主題顏色套用至折疊工具欄
zen-workspace-continue-where-left-off = 
    .label = 繼續上次的工作階段
pane-zen-pinned-tab-manager-title = 釘選分頁
zen-pinned-tab-manager-header = 釘選分頁的一般設定
zen-pinned-tab-manager-description = 釘選分頁的額外行為
zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url = 
    .label = 啟動時恢復釘選分頁至其初始的網址
zen-pinned-tab-manager-container-specific-essentials-enabled = 
    .label = 啟用容器專屬 Essentials 功能
zen-pinned-tab-manager-close-shortcut-behavior-label = 關閉分頁快捷鍵的行為
zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option = 
    .label = 重置網址，卸載並切換到下一個分頁
zen-pinned-tab-manager-unload-switch-close-shortcut-option = 
    .label = 卸載並切換到下一個分頁
zen-pinned-tab-manager-reset-switch-close-shortcut-option = 
    .label = 重置網址並切換到下一個分頁
zen-pinned-tab-manager-switch-close-shortcut-option = 
    .label = 切換到下一個分頁
zen-pinned-tab-manager-reset-close-shortcut-option = 
    .label = 重置網址
zen-pinned-tab-manager-close-close-shortcut-option = 
    .label = 關閉分頁
pane-zen-workspaces-header = 工作區
zen-settings-workspaces-header = 工作區的一般設定
zen-settings-workspaces-description = 透過工作區，您能同時擁有多個獨立的瀏覽環境！
zen-settings-workspaces-enabled = 
    .label = 啟用工作區
zen-settings-workspaces-hide-default-container-indicator = 
    .label = 隱藏分頁欄中的容器指標
zen-key-unsaved = 快捷鍵未儲存！請重新輸入並按下 "Escape" 鍵來儲存快捷鍵。
zen-key-conflict = 與 { $group } -> { $shortcut } 衝突
pane-zen-theme-title = 主題設定
zen-vertical-tabs-title = 側邊欄與分頁排版
zen-vertical-tabs-header = 垂直分頁
zen-vertical-tabs-description = 用垂直的排版來管理你的分頁
zen-vertical-tabs-show-expand-button = 
    .label = 顯示擴展按鈕
zen-vertical-tabs-newtab-on-tab-list = 
    .label = 在分頁列表中顯示新增分頁按鈕
zen-vertical-tabs-newtab-top-button-up = 
    .label = 將新增分頁按鈕移至頂部
zen-vertical-tabs-expand-tabs-by-default = 預設展開分頁
zen-vertical-tabs-dont-expand-tabs-by-default = 預設不展開分頁
zen-vertical-tabs-expand-tabs-on-hover = 懸停時擴展分頁 (無法在緊湊模式下使用)
zen-vertical-tabs-expand-tabs-header = 如何擴展分頁
zen-vertical-tabs-expand-tabs-description = 選擇要如何擴展側邊欄中的分頁
zen-theme-marketplace-header = Zen 模組
zen-theme-disable-all-enabled = 
    .title = 啟用所有模組
zen-theme-disable-all-disabled = 
    .title = 停用所有模組
zen-theme-marketplace-description = 從商店尋找並安裝模組。
zen-theme-marketplace-remove-button = 
    .label = 移除模組
zen-theme-marketplace-check-for-updates-button = 
    .label = 檢查更新
zen-theme-marketplace-import-button = 
    .label = 匯入模組
zen-theme-marketplace-export-button = 
    .label = 匯出模組
zen-theme-marketplace-import-success = 模組匯入成功
zen-theme-marketplace-import-failure = 匯入模組時發生錯誤
zen-theme-marketplace-export-success = 模組匯出成功
zen-theme-marketplace-export-failure = 匯出模組時發生錯誤
zen-theme-marketplace-updates-success = 主題更新成功
zen-theme-marketplace-updates-failure = 找不到任何更新！
zen-theme-marketplace-toggle-enabled-button = 
    .title = 關閉佈景主題
zen-theme-marketplace-toggle-disabled-button = 
    .title = 啟用佈景主題
zen-theme-marketplace-remove-confirmation = 您確定要移除此模組？
zen-theme-marketplace-close-modal = 關閉
zen-theme-marketplace-theme-header-title = 
    .title = CSS 選擇器：{ $name }
zen-theme-marketplace-dropdown-default-label = 
    .label = 無
zen-theme-marketplace-input-default-placeholder = 
    .placeholder = 請輸入...
pane-zen-marketplace-title = Zen 模組
zen-themes-auto-update = 
    .label = 啟動時自動更新已安裝模組
zen-settings-workspaces-force-container-tabs-to-workspace = 
    .label = 開啟容器分頁時，切換到容器設定為預設值的工作區
zen-theme-marketplace-link = 造訪商店
zen-dark-theme-styles-header = 深色主題
zen-dark-theme-styles-description = 根據喜好客製化深色主題
zen-dark-theme-styles-amoled = 夜間主題
zen-dark-theme-styles-default = 預設深色主題
zen-dark-theme-styles-colorful = 有趣的深色主題
zen-compact-mode-styles-left = 隱藏分頁欄
zen-compact-mode-styles-top = 隱藏功能列
zen-compact-mode-styles-both = 隱藏兩者
zen-urlbar-title = Zen 網址欄
zen-urlbar-header = 網址列一般設定
zen-urlbar-description = 自訂義您喜歡的網址列
zen-urlbar-behavior-label = 行為
zen-urlbar-behavior-normal = 
    .label = 預設
zen-urlbar-behavior-floating-on-type = 
    .label = 僅在輸入時懸浮
zen-urlbar-behavior-float = 
    .label = 總是懸浮
pane-zen-CKS-title = 快捷鍵
category-zen-CKS = 
    .tooltiptext = { pane-zen-CKS-title }
pane-settings-CKS-title = { -brand-short-name } 快捷鍵
category-zen-marketplace = 
    .tooltiptext = Zen 模組
zen-settings-CKS-header = 自定義您的快捷鍵
zen-settings-CKS-description = 依據您的愛好來更改預設的快捷鍵以近一步改善你的瀏覽體驗
zen-settings-CKS-disable-firefox = 
    .label = 停用 { -brand-short-name } 的預設快捷鍵
zen-settings-CKS-duplicate-shortcut = 
    .label = 複製快捷鍵
zen-settings-CKS-reset-shortcuts = 
    .label = 重設為預設值
zenCKSOption-group-other = 其它
zenCKSOption-group-windowAndTabManagement = 視窗與分頁管理
zenCKSOption-group-navigation = 導航
zenCKSOption-group-searchAndFind = 搜尋與尋找
zenCKSOption-group-pageOperations = 頁面操作
zenCKSOption-group-historyAndBookmarks = 瀏覽紀錄與書籤
zenCKSOption-group-mediaAndDisplay = 媒體與顯示
zenCKSOption-group-zen-compact-mode = 緊湊模式
zenCKSOption-group-zen-workspace = 工作區
zenCKSOption-group-zen-other = 其它 Zen 功能
zenCKSOption-group-zen-split-view = 分割畫面
zenCKSOption-group-devTools = 開發人員工具
zen-key-quick-restart = 快速重啟
zen-window-new-shortcut = 開新視窗
zen-tab-new-shortcut = 開新分頁
zen-key-redo = 取消復原
zen-restore-last-closed-tab-shortcut = 復原上次關閉的分頁
zen-location-open-shortcut = 選取網址列
zen-location-open-shortcut-alt = 選取網址列（備用）
zen-key-undo-close-window = 還原已關閉視窗
zen-text-action-undo-shortcut = 復原
zen-text-action-redo-shortcut = 取消復原
zen-text-action-cut-shortcut = 剪下
zen-text-action-copy-shortcut = 複製
zen-text-action-copy-url-shortcut = 複製目前網址
zen-text-action-copy-url-markdown-shortcut = 將目前網址複製為 Markdown
zen-text-action-paste-shortcut = 貼上
zen-text-action-select-all-shortcut = 全選
zen-text-action-delete-shortcut = 刪除
zen-history-show-all-shortcut-mac = 顯示所有瀏覽紀錄 (Mac)
zen-full-screen-shortcut = 切換全螢幕模式
zen-reader-mode-toggle-shortcut-windows = 切換閱讀模式 (Windows)
zen-picture-in-picture-toggle-shortcut-alt = 切換子母畫面 (備用)
zen-picture-in-picture-toggle-shortcut-mac = 切換子母畫面 (Mac)
zen-picture-in-picture-toggle-shortcut-mac-alt = 切換子母畫面 (Mac 備用)
zen-page-source-shortcut-safari = 頁面原始碼 (Safari)
zen-nav-stop-shortcut = 停止載入
zen-history-sidebar-shortcut = 歷史側邊欄
zen-window-minimize-shortcut = 最小化視窗
zen-help-shortcut = 取得幫助
zen-preferences-shortcut = 設定
zen-hide-app-shortcut = 隱藏應用程式
zen-hide-other-apps-shortcut = 隱藏其它應用程式
zen-search-focus-shortcut = 輸入焦點移至搜尋列
zen-search-focus-shortcut-alt = 輸入焦點移至搜尋列 (備用)
zen-downloads-shortcut = 開啟下載項目
zen-addons-shortcut = 開啟擴充套件
zen-file-open-shortcut = 開啟檔案
zen-save-page-shortcut = 儲存頁面
zen-print-shortcut = 列印頁面
zen-close-shortcut-2 = 關閉分頁
zen-mute-toggle-shortcut = 切換靜音
zen-key-delete = 刪除鍵
zen-key-go-back = 返回
zen-key-go-forward = 前進
zen-nav-back-shortcut-alt = 導航返回 (備用)
zen-nav-fwd-shortcut-alt = 導航前進 (備用)
zen-history-show-all-shortcut = 顯示所有歷史
zen-key-enter-full-screen = 進入全畫面模式
zen-key-exit-full-screen = 離開全畫面模式
zen-ai-chatbot-sidebar-shortcut = 開啟 AI 聊天側邊欄
zen-key-inspector-mac = 開啟檢測器 (Mac)
zen-toggle-sidebar-shortcut = 開啟 Firefox 側邊欄
zen-toggle-pin-tab-shortcut = 切換釘選分頁
zen-reader-mode-toggle-shortcut-other = 切換閱讀模式
zen-picture-in-picture-toggle-shortcut = 切換子母畫面
zen-nav-reload-shortcut-2 = 重新整理
zen-key-about-processes = 關於執行程序
zen-page-source-shortcut = 頁面原始碼
zen-page-info-shortcut = 頁面資訊
zen-find-shortcut = 尋找
zen-search-find-again-shortcut = 找下一個
zen-search-find-again-shortcut-prev = 找上一個
zen-search-find-again-shortcut-2 = 再次尋找 (備用)
zen-bookmark-this-page-shortcut = 將目前頁面加入書籤
zen-bookmark-show-library-shortcut = 顯示書籤庫
zen-key-stop = 停止載入
zen-full-zoom-reduce-shortcut = 縮小
zen-full-zoom-enlarge-shortcut = 放大
zen-full-zoom-reset-shortcut = 縮放重設
zen-full-zoom-reset-shortcut-alt = 重置縮放（Alt）
zen-full-zoom-enlarge-shortcut-alt = 放大（Alt）
zen-full-zoom-enlarge-shortcut-alt2 = 放大（Alt 2）
zen-bidi-switch-direction-shortcut = 切換文字方向
zen-private-browsing-shortcut = 隱私瀏覽
zen-screenshot-shortcut = 截圖
zen-key-sanitize = 清除瀏覽紀錄
zen-quit-app-shortcut = 離開應用程式
zen-key-wr-capture-cmd = WR 抓取指令
zen-key-wr-toggle-capture-sequence-cmd = 切換 WR 抓取佇列
zen-nav-reload-shortcut = 重新整理頁面
zen-nav-reload-shortcut-skip-cache = 重新整理頁面 (忽略快取)
zen-close-shortcut = 關閉視窗
zen-close-tab-shortcut = 關閉分頁
zen-compact-mode-shortcut-show-sidebar = 切換浮動側邊欄
zen-compact-mode-shortcut-show-toolbar = 切換浮動工具列
zen-compact-mode-shortcut-toggle = 切換緊湊模式
zen-glance-expand = 展開 Glance
zen-workspace-shortcut-switch-1 = 切換至工作區 1
zen-workspace-shortcut-switch-2 = 切換至工作區 2
zen-workspace-shortcut-switch-3 = 切換至工作區 3
zen-workspace-shortcut-switch-4 = 切換至工作區 4
zen-workspace-shortcut-switch-5 = 切換至工作區 5
zen-workspace-shortcut-switch-6 = 切換至工作區 6
zen-workspace-shortcut-switch-7 = 切換至工作區 7
zen-workspace-shortcut-switch-8 = 切換至工作區 8
zen-workspace-shortcut-switch-9 = 切換至工作區 9
zen-workspace-shortcut-switch-10 = 切換至工作區 10
zen-workspace-shortcut-forward = 下一個工作區
zen-workspace-shortcut-backward = 上一個工作區
zen-sidebar-shortcut-toggle = 切換側邊欄寬度
zen-pinned-tab-shortcut-reset = 重置釘選分頁至其初始的網址
zen-split-view-shortcut-grid = 切換分割畫面
zen-split-view-shortcut-vertical = 切換垂直分割畫面
zen-split-view-shortcut-horizontal = 切換水平分割畫面
zen-split-view-shortcut-unsplit = 關閉分割畫面
zen-new-empty-split-view-shortcut = 開新分割畫面
zen-key-select-tab-1 = 選擇分頁 #1
zen-key-select-tab-2 = 選擇分頁 #2
zen-key-select-tab-3 = 選擇分頁 #3
zen-key-select-tab-4 = 選擇分頁 #4
zen-key-select-tab-5 = 選擇分頁 #5
zen-key-select-tab-6 = 選擇分頁 #6
zen-key-select-tab-7 = 選擇分頁 #7
zen-key-select-tab-8 = 選擇分頁 #8
zen-key-select-tab-last = 選擇最後一個分頁
zen-key-show-all-tabs = 顯示所有分頁
zen-key-goto-history = 前往歷史紀錄
zen-key-go-home = 返回首頁
zen-bookmark-show-sidebar-shortcut = 顯示書籤側邊欄
zen-bookmark-show-toolbar-shortcut = 顯示書籤工具列
zen-devtools-toggle-shortcut = 開啟開發人員工具
zen-devtools-toggle-browser-toolbox-shortcut = 開啟瀏覽器工具箱
zen-devtools-toggle-browser-console-shortcut = 開啟瀏覽器主控台
zen-devtools-toggle-responsive-design-mode-shortcut = 開啟響應式設計模式
zen-devtools-toggle-inspector-shortcut = 開啟檢測器
zen-devtools-toggle-web-console-shortcut = 開啟 Web 主控台
zen-devtools-toggle-js-debugger-shortcut = 開啟 JavaScript 除錯器
zen-devtools-toggle-net-monitor-shortcut = 開啟網路監控器
zen-devtools-toggle-style-editor-shortcut = 開啟樣式編輯器
zen-devtools-toggle-performance-shortcut = 開啟效能檢測器
zen-devtools-toggle-storage-shortcut = 開啟儲存空間檢測器
zen-devtools-toggle-dom-shortcut = 開啟 DOM
zen-devtools-toggle-accessibility-shortcut = 開啟輔助功能
zen-close-all-unpinned-tabs-shortcut = 關閉所有未釘選的分頁
zen-new-unsynced-window-shortcut = 開新初始視窗



================================================
FILE: prefs/README.md
================================================
# Browser Preferences

This directory contains configuration files for Zen. They are divided by folder according to the source / component they belong to and further divided by file according to their purpose.

- `firefox/`: Preferences to override Firefox defaults.
- `zen/`: Preferences to configure Zen-specific features.
- `privatefox/` & `fastfox/`: _Some_ of the preferences got extracted from [Betterfox](https://github.com/yokoffing/Betterfox).



================================================
FILE: prefs/fastfox/smoothscroll.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Smooth scrolling and mousewheel tuning preferences

- name: general.smoothScroll.msdPhysics.enabled
  condition: "!defined(XP_MACOSX)"
  value: true

- name: general.smoothScroll.currentVelocityWeighting
  condition: "!defined(XP_MACOSX)"
  value: "0.15"

- name: general.smoothScroll.stopDecelerationWeighting
  condition: "!defined(XP_MACOSX)"
  value: "0.6"

- name: mousewheel.min_line_scroll_amount
  condition: "!defined(XP_MACOSX)"
  value: 10

- name: general.smoothScroll.mouseWheel.durationMinMS
  condition: "!defined(XP_MACOSX)"
  value: 80

- name: general.smoothScroll.msdPhysics.continuousMotionMaxDeltaMS
  condition: "!defined(XP_MACOSX)"
  value: 12

- name: general.smoothScroll.msdPhysics.motionBeginSpringConstant
  condition: "!defined(XP_MACOSX)"
  value: 600

- name: general.smoothScroll.msdPhysics.regularSpringConstant
  condition: "!defined(XP_MACOSX)"
  value: 650

- name: general.smoothScroll.msdPhysics.slowdownMinDeltaMS
  condition: "!defined(XP_MACOSX)"
  value: 25

- name: general.smoothScroll.msdPhysics.slowdownSpringConstant
  condition: "!defined(XP_MACOSX)"
  value: 250

- name: mousewheel.default.delta_multiplier_y
  condition: "!defined(XP_MACOSX)"
  value: 200



================================================
FILE: prefs/firefox/ai.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Machine learning and chat feature preferences
- name: browser.ml.chat.enabled
  value: false

- name: browser.ml.chat.shortcuts
  value: false

- name: browser.ml.chat.shortcuts.custom
  value: false

- name: browser.ml.chat.sidebar
  value: false

- name: browser.ml.enable
  value: false

- name: browser.ml.chat.menu
  value: false

- name: browser.ml.linkPreview.enabled
  value: false



================================================
FILE: prefs/firefox/browser.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: browser.startup.page
  value: 3

- name: browser.sessionstore.restore_pinned_tabs_on_demand
  value: true

- name: browser.tabs.hoverPreview.enabled
  value: false

- name: browser.tabs.unloadTabInContextMenu
  value: true

- name: browser.tabs.fadeOutExplicitlyUnloadedTabs
  value: true

- name: browser.toolbars.bookmarks.visibility
  value: "never"

- name: widget.non-native-theme.scrollbar.style
  value: 2

- name: widget.non-native-theme.use-theme-accent
  value: true

- name: browser.download.autohideButton
  value: false

- name: sidebar.revamp
  value: false
  locked: true

- name: sidebar.verticalTabs
  value: false
  locked: true

- name: browser.preferences.experimental
  value: true

- name: browser.download.manager.addToRecentDocs
  value: false

- name: browser.download.alwaysOpenPanel
  value: false

- name: app.update.checkInstallTime.days
  value: 6
  condition: "defined(MOZILLA_OFFICIAL)"

- name: browser.profiles.enabled
  value: false

- name: browser.tabs.groups.enabled
  value: false

- name: browser.urlbar.scotchBonnet.enableOverride
  value: false

- name: browser.tabs.groups.hoverPreview.enabled
  locked: true
  value: false

- name: browser.tabs.closeWindowWithLastTab
  value: false

- name: browser.tabs.dragDrop.multiselectStacking
  value: false
  locked: true

- name: browser.tabs.notes.enabled
  value: false

- name: browser.tabs.dragDrop.moveOverThresholdPercent
  value: 50 # Percentage of tab height to trigger move over on drag-and-drop



================================================
FILE: prefs/firefox/extensions.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: xpinstall.signatures.required
  value: true



================================================
FILE: prefs/firefox/fullscreen.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Fullscreen API preferences
- name: full-screen-api.transition-duration.enter
  value: "0 0"

- name: full-screen-api.transition-duration.leave
  value: "0 0"

- name: full-screen-api.warning.delay
  value: -1

- name: full-screen-api.warning.timeout
  value: 0



================================================
FILE: prefs/firefox/multilingual.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: intl.multilingual.downloadEnabled
  value: false



================================================
FILE: prefs/firefox/newtab.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: browser.newtabpage.activity-stream.feeds.topsites
  value: false

- name: browser.newtabpage.activity-stream.feeds.section.topstories
  value: false

- name: browser.topsites.contile.enabled
  value: false

- name: browser.newtabpage.activity-stream.system.showWeather
  value: false

- name: browser.newtabpage.activity-stream.newtabWallpapers.enabled
  value: true

- name: browser.newtabpage.activity-stream.newtabWallpapers.v2.enabled
  value: true

- name: browser.translations.newSettingsUI.enable
  value: true



================================================
FILE: prefs/firefox/pdf.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: pdfjs.enableHighlightEditor
  value: true

- name: pdfjs.enableHighlightFloatingButton
  value: true

- name: pdfjs.enableScripting
  value: false



================================================
FILE: prefs/firefox/performance.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: browser.lowMemoryResponseMask
  value: 3
  condition: "defined(XP_MACOSX)"

- name: network.predictor.enable-hover-on-ssl
  value: true

# See https://github.com/zen-browser/desktop/issues/11599, this pref seems to
# have disabled itself on macos for some unknown reason.
# Make sure its in sync with:
# https://searchfox.org/firefox-main/rev/1477feb9706f4ccc5bd571c1c215832a6fbb7464/modules/libpref/init/StaticPrefList.yaml#7741-7748
- name: gfx.webrender.compositor
  condition: "defined(XP_WIN) || defined(XP_DARWIN)"
  value: "@cond"
  mirror: once



================================================
FILE: prefs/firefox/pip.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: media.videocontrols.picture-in-picture.video-toggle.enabled
  value: true

# TODO: Enable once we have a proper settings page
- name: media.videocontrols.picture-in-picture.enable-when-switching-tabs.enabled
  value: false



================================================
FILE: prefs/firefox/urlbar.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# URL bar and search-related preferences

- name: browser.urlbar.trending.featureGate
  value: false

- name: browser.urlbar.weather.featureGate
  value: false

- name: browser.urlbar.quickactions.enabled
  value: true

- name: browser.urlbar.clipboard.featureGate
  value: true

- name: browser.urlbar.trimHttps
  value: true

- name: browser.urlbar.untrimOnUserInteraction.featureGate
  value: true

- name: media.videocontrols.picture-in-picture.urlbar-button.enabled
  value: true
  locked: true

- name: browser.search.suggest.enabled
  value: false

- name: browser.search.suggest.enabled.private
  value: false

- name: browser.search.separatePrivateDefault.ui.enabled
  value: true

- name: browser.urlbar.quicksuggest.enabled
  value: false
  locked: true

- name: browser.urlbar.suggest.quicksuggest.sponsored
  value: false
  locked: true

- name: browser.urlbar.suggest.quicksuggest.nonsponsored
  value: false
  locked: true

- name: browser.urlbar.groupLabels.enabled
  value: false

- name: browser.urlbar.keepPanelOpenDuringImeComposition
  value: true # IMPORTANT: Fixes closing the urlbar when on some languages

- name: browser.formfill.enable
  value: false

- name: browser.urlbar.suggest.topsites
  value: true
  locked: true



================================================
FILE: prefs/privatefox/disablemozilla.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: browser.privatebrowsing.vpnpromourl
  value: ""
  locked: true

- name: extensions.getAddons.showPane
  value: false

- name: extensions.htmlaboutaddons.recommendations.enabled
  value: false

- name: browser.discovery.enabled
  value: false

- name: browser.newtabpage.activity-stream.asrouter.userprefs.cfr.addons
  value: false

- name: browser.newtabpage.activity-stream.asrouter.userprefs.cfr.features
  value: false

- name: browser.preferences.moreFromMozilla
  value: false
  locked: true

- name: browser.aboutwelcome.enabled
  value: false

- name: browser.contentblocking.report.show_mobile_app
  value: false
  locked: true

- name: termsofuse.bypassNotification
  value: true

- name: browser.newtabpage.activity-stream.showSponsoredCheckboxes
  value: false

- name: sidebar.verticalTabs.dragToPinPromo.dismissed
  value: true
  locked: true

- name: browser.taskbarTabs.enabled
  value: false



================================================
FILE: prefs/privatefox/privacy.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Telemetry & Data Reporting
- name: datareporting.policy.dataSubmissionEnabled
  value: false
  locked: true

- name: datareporting.healthreport.uploadEnabled
  value: false
  locked: true

- name: toolkit.telemetry.unified
  value: false
  locked: true

- name: toolkit.telemetry.enabled
  value: false
  locked: true

- name: toolkit.telemetry.server
  value: "data:,"
  locked: true

- name: toolkit.telemetry.archive.enabled
  value: false
  locked: true

- name: toolkit.telemetry.newProfilePing.enabled
  value: false
  locked: true

- name: toolkit.telemetry.shutdownPingSender.enabled
  value: false
  locked: true

- name: toolkit.telemetry.updatePing.enabled
  value: false
  locked: true

- name: toolkit.telemetry.bhrPing.enabled
  value: false
  locked: true

- name: toolkit.telemetry.firstShutdownPing.enabled
  value: false
  locked: true

- name: toolkit.telemetry.coverage.opt-out
  value: true
  locked: true

- name: toolkit.coverage.opt-out
  value: true
  locked: true

- name: toolkit.coverage.endpoint.base
  value: ""
  locked: true

- name: browser.newtabpage.activity-stream.feeds.telemetry
  value: false
  locked: true

- name: browser.newtabpage.activity-stream.telemetry
  value: false
  locked: true

- name: browser.ping-centre.telemetry
  value: false

- name: browser.attribution.enabled
  value: false

- name: toolkit.telemetry.pioneer-new-studies-available
  value: false

- name: app.shield.optoutstudies.enabled
  value: false
  locked: true

- name: app.normandy.enabled
  value: false

- name: app.normandy.api_url
  value: ""
  locked: true

# Crash Reports
- name: browser.tabs.crashReporting.sendReport
  value: false

- name: browser.crashReports.unsubmittedCheck.autoSubmit2
  value: false

# Privacy and Misc
- name: extensions.getAddons.cache.enabled
  value: false

- name: browser.privatebrowsing.forceMediaMemoryCache
  value: true

- name: browser.helperApps.deleteTempFileOnExit
  value: true

- name: browser.uitour.enabled
  value: false

- name: privacy.globalprivacycontrol.enabled
  value: true

# Contextual Identities
- name: privacy.userContext.enabled
  value: true

- name: privacy.userContext.ui.enabled
  value: true



================================================
FILE: prefs/zen/compact-mode.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.view.compact.hide-tabbar
  value: true

- name: zen.view.compact.hide-toolbar
  value: false

- name: zen.view.compact.toolbar-flash-popup
  value: false

- name: zen.view.compact.toolbar-flash-popup.duration
  value: 800

- name: zen.view.compact.toolbar-hide-after-hover.duration
  value: 1000

- name: zen.view.compact.animate-sidebar
  value: true

- name: zen.view.compact.show-sidebar-and-toolbar-on-hover
  value: true

- name: zen.view.compact.show-background-tab-toast
  value: true

- name: zen.view.compact.debug
  value: false

# Do not edit manually
- name: zen.view.compact.enable-at-startup
  hidden: true
  value: false



================================================
FILE: prefs/zen/downloads.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.downloads.download-animation
  value: true

- name: zen.downloads.download-animation-duration
  value: 1000 # ms

- name: zen.downloads.icon-popup-position
  # 0: Follow tab's position
  # 1: Left side always
  # 2: Right side always
  value: 0



================================================
FILE: prefs/zen/folders.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.folders.search.enabled
  value: true

- name: zen.folders.search.hover-delay
  value: 500 # ms

- name: zen.folders.max-subfolders
  value: 5

- name: zen.folders.owned-tabs-in-folder
  value: false



================================================
FILE: prefs/zen/glance.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.glance.enabled
  value: true

- name: zen.glance.enable-contextmenu-search
  value: true

- name: zen.glance.open-essential-external-links
  value: true

- name: zen.glance.activation-method
  value: "alt" # ctrl, alt, shift

- name: zen.glance.animation-duration
  value: 350 # in milliseconds



================================================
FILE: prefs/zen/gtk.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# GTK-specific preferences
- name: widget.gtk.rounded-bottom-corners.enabled
  value: true
  condition: "defined(MOZ_WIDGET_GTK)"

- name: zen.widget.linux.transparency
  value: false
  condition: "defined(MOZ_WIDGET_GTK)"



================================================
FILE: prefs/zen/kbs.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.keyboard.shortcuts.version
  value: 0 # Empty string means default shortcuts

- name: zen.keyboard.shortcuts.disable-mainkeyset-clear
  value: false # for debugging



================================================
FILE: prefs/zen/macos.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Enable transparent background for macos
- name: widget.macos.sidebar-blend-mode.behind-window
  value: true
  condition: "defined(XP_MACOSX)"

# 1. hudWindow
# 2. fullScreenUI
# 3. popover
# 4. menu
# 5. toolTip
# 6. headerView
# 7. underlay
- name: zen.widget.macos.window-material
  value: 1
  condition: "defined(XP_MACOSX)"
  cpptype: uint32_t
  mirror: always
  type: static



================================================
FILE: prefs/zen/media.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: image.jxl.enabled
  value: true
  locked: true

- name: svg.context-properties.content.enabled
  value: true

- name: image.avif.enabled
  value: true
  locked: true

- name: media.eme.enabled
  value: true



================================================
FILE: prefs/zen/mods.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.mods.updated-value-observer
  value: false

- name: zen.mods.auto-update-days
  value: 20 # In days

- name: zen.mods.auto-update
  value: "@cond"
  condition: "defined(MOZILLA_OFFICIAL)"

- name: zen.rice.share.notice.accepted
  value: false

# === Mark: Site Injection ===

- name: zen.injections.match-urls
  value: "https://zen-browser.app/*"
  locked: true
  condition: "defined(MOZILLA_OFFICIAL)"

- name: zen.injections.match-urls
  value: "http://localhost/*"
  condition: "!defined(MOZILLA_OFFICIAL)"



================================================
FILE: prefs/zen/session-store.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.session-store.backup-file
  value: true

- name: zen.session-store.log
  value: true

- name: zen.session-store.restore-unsynced-windows
  value: true

- name: browser.sessionstore.max_windows_undo
  value: 2



================================================
FILE: prefs/zen/share.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.share.enabled
  value: true



================================================
FILE: prefs/zen/split-view.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.splitView.enable-tab-drop
  value: true

- name: zen.splitView.min-resize-width
  value: 7

- name: zen.splitView.rearrange-hover-size
  value: 24



================================================
FILE: prefs/zen/static.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.haptic-feedback.enabled
  cpptype: bool
  value: true
  mirror: always
  type: static

- name: zen.swipe.is-fast-swipe
  cpptype: bool
  value: true
  mirror: always
  hidden: true
  type: static



================================================
FILE: prefs/zen/theme.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.theme.accent-color
  value: "AccentColor"

- name: zen.theme.content-element-separation
  value: 8

- name: zen.theme.dark-mode-bias
  value: 0.3

- name: zen.theme.gradient.show-custom-colors
  value: false

- name: zen.theme.essentials-favicon-bg
  value: true

- name: zen.theme.acrylic-elements
  value: false

- name: zen.theme.disable-lightweight
  value: true

- name: zen.theme.use-system-colors
  value: false

- name: zen.theme.hide-tab-throbber
  value: true

- name: zen.theme.styled-status-panel
  value: "@IS_TWILIGHT@"

- name: zen.theme.styled-status-panel
  value: true
  condition: "defined(XP_MACOSX)"

- name: zen.theme.hide-unified-extensions-button
  value: true

# ==== Mark: border radius ====

# -1 will use platform-native values
# Set to a positive value to override with a custom radius
- name: zen.theme.border-radius
  value: -1



================================================
FILE: prefs/zen/updates.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.updates.show-update-notification
  value: true



================================================
FILE: prefs/zen/view.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.view.sidebar-height-throttle
  value: 0

- name: zen.view.sidebar-expanded.max-width
  value: 500

- name: zen.view.mac.show-three-dot-menu
  value: false
  condition: "defined(XP_MACOSX)"

- name: zen.widget.mac.mono-window-controls
  value: true
  condition: "defined(XP_MACOSX)"

- name: zen.view.use-single-toolbar
  value: true

- name: zen.view.sidebar-expanded
  value: true

- name: zen.view.experimental-force-window-controls-left
  value: false

- name: zen.view.hide-window-controls
  value: true

- name: zen.view.experimental-no-window-controls
  value: false

- name: zen.view.grey-out-inactive-windows
  value: true

- name: zen.view.show-newtab-button-top
  value: true

- name: zen.view.window.scheme
  value: 2

- name: zen.view.context-menu.refresh
  value: "@IS_TWILIGHT@"

- name: zen.view.borderless-fullscreen
  value: true

- name: zen.view.shift-down-site-on-hover
  value: false

- name: zen.view.show-clear-tabs-button
  value: true

- name: zen.view.draggable-sidebar
  value: true

- name: zen.view.overflow-webext-toolbar
  value: "@IS_TWILIGHT@"



================================================
FILE: prefs/zen/watermark.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.watermark.enabled
  value: "@cond"
  sticky: true
  condition: "defined(MOZILLA_OFFICIAL)"



================================================
FILE: prefs/zen/welcome.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.welcome-screen.seen
  value: "@cond"
  sticky: true
  condition: "!defined(MOZILLA_OFFICIAL)"



================================================
FILE: prefs/zen/window-sync.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.window-sync.enabled
  value: true

- name: zen.window-sync.log
  value: false

- name: zen.window-sync.prefer-unsynced-windows
  value: false

- name: zen.window-sync.open-link-in-new-unsynced-window
  value: true

- name: zen.window-sync.sync-only-pinned-tabs
  value: false



================================================
FILE: prefs/zen/windows.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Mica effect preferences for Windows
- name: widget.windows.mica
  value: true
  condition: "defined(XP_WIN)"

- name: widget.windows.mica.popups
  value: true
  condition: "defined(XP_WIN)"

# 1 = DWMSBT_MAINWINDOW
# 2 = DWMSBT_TRANSIENTWINDOW (default, also used for popups)
# 3 = DWMSBT_TABBEDWINDOW
- name: widget.windows.mica.toplevel-backdrop
  value: 2
  condition: "defined(XP_WIN)"



================================================
FILE: prefs/zen/workspaces.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.workspaces.continue-where-left-off
  value: false

- name: zen.workspaces.hide-default-container-indicator
  value: true

- name: zen.workspaces.force-container-workspace
  value: false

- name: zen.workspaces.open-new-tab-if-last-unpinned-tab-is-closed
  value: false

- name: zen.workspaces.swipe-actions
  value: true

- name: zen.workspaces.wrap-around-navigation
  value: true

- name: zen.workspaces.natural-scroll
  value: false

- name: zen.workspaces.scroll-modifier-key
  value: ctrl

- name: services.sync.engine.workspaces
  value: false

- name: zen.workspaces.separate-essentials
  value: true

- name: zen.workspaces.dnd-switch-padding
  value: 5

- name: zen.workspaces.debug
  value: "@cond"
  condition: "!defined(MOZILLA_OFFICIAL)" # Section: Pinned tabs management

- name: zen.pinned-tab-manager.wheel-close-if-pending
  value: true

- name: zen.pinned-tab-manager.debug
  value: false

- name: zen.pinned-tab-manager.restore-pinned-tabs-to-pinned-url
  value: false

- name: zen.pinned-tab-manager.close-shortcut-behavior
  value: reset-unload-switch



================================================
FILE: prefs/zen/zen-urlbar.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.urlbar.replace-newtab
  value: true

- name: zen.urlbar.show-protections-icon
  value: false

- name: zen.urlbar.show-contextual-id
  value: false

- name: zen.urlbar.behavior
  value: floating-on-type

- name: zen.urlbar.wait-to-clear
  value: 45000

- name: zen.urlbar.show-domain-only-in-sidebar
  value: true

- name: zen.urlbar.hide-one-offs
  value: true

- name: zen.urlbar.enable-overrides
  value: false

- name: zen.urlbar.single-toolbar-show-copy-url
  value: true

- name: zen.urlbar.show-pip-button
  value: false

- name: zen.urlbar.open-on-startup
  value: true

# Mark: Zen suggestions controls

- name: zen.urlbar.suggestions.quick-actions
  value: true



================================================
FILE: prefs/zen/zen.yaml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

- name: zen.tabs.vertical
  value: true

- name: zen.tabs.vertical.right-side
  value: false

- name: zen.tabs.rename-tabs
  value: true

- name: zen.tabs.essentials.max
  value: 12

- name: zen.tabs.show-newtab-vertical
  value: true

- name: zen.tabs.close-window-with-empty
  value: true

- name: zen.tabs.select-recently-used-on-close
  value: true

- name: zen.tabs.use-legacy-drag-and-drop
  value: false

- name: zen.tabs.folder-dragover-threshold-percent
  value: 20 # Percentage of folder height to trigger dragover

- name: zen.tabs.dnd-switch-space-delay
  value: 800 # milliseconds

- name: zen.ctrlTab.show-pending-tabs
  value: false

- name: zen.mediacontrols.enabled
  value: true

- name: zen.haptic-feedback.enabled
  value: true

- name: zen.startup.smooth-scroll-in-tabs
  value: true

- name: zen.tabs.open-pinned-in-new-tab
  value: true

- name: zen.tabs.close-on-back-with-no-history
  value: true

- name: zen.tabs.ctrl-tab.ignore-essential-tabs
  value: false

- name: zen.tabs.ctrl-tab.ignore-pending-tabs
  value: false



================================================
FILE: scripts/check_rc_response.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import json
import os
import sys
import requests
from typing import Optional

METADATA_FILENAME = "surfer.json"
TAGS_API_URL = "https://hg.mozilla.org/releases/mozilla-release/json-tags"


def get_current_version() -> Optional[str]:
  """Retrieve the current version from the metadata file."""
  try:
    with open(METADATA_FILENAME) as f:
      metadata = json.load(f)
      return metadata["version"]["candidate"], metadata["version"]["candidateBuild"]
  except (FileNotFoundError, json.JSONDecodeError) as e:
    print(f"Error reading current version: {e}")
    return None


def get_repo_data() -> Optional[str]:
  """Retrieve the repository data from the API."""
  try:
    print(f"Retrieving repository data from {TAGS_API_URL}")
    response = requests.get(TAGS_API_URL)
    response.raise_for_status()  # Raise an error for bad responses
    return response.json()
  except requests.RequestException as e:
    print(f"Error retrieving repository data: {e}")
    return None


def get_rc_response() -> Optional[str]:
  """Get the release candidate response from the response file."""
  try:
    data = get_repo_data()
    for tag_dict in data["tags"]:
      tag = tag_dict["tag"]
      if (tag.startswith("FIREFOX") and tag.endswith("_BUILD1")
              and "ESR" not in tag and "b" not in tag and "ANDROID" not in tag):
        version = (tag.replace("FIREFOX_", "").replace("_BUILD1",
                                                       "").replace("_", "."))
        build = int(tag.split("_BUILD")[-1])
        return version, build
  except (FileNotFoundError, json.JSONDecodeError) as e:
    print(f"Error reading RC response: {e}")
  return None


def get_pings() -> str:
  """Build a string of Discord user IDs for mentions."""
  ping_ids = os.getenv("DISCORD_PING_IDS", "")
  return " ".join(f"<@{ping.strip()}>" for ping in ping_ids.split(",")
                  if ping.strip())


def send_webhook(rc: str) -> None:
  """Send a message to the Discord webhook."""
  text = f"||{get_pings()}|| New Firefox RC version is available: **{rc}**"
  webhook_url = os.getenv("DISCORD_WEBHOOK_URL")

  if webhook_url:
    message = {
        "content": text,
        "username": "Firefox RC Checker",
    }
    try:
      response = requests.post(webhook_url, json=message)
      response.raise_for_status()  # Raise an error for bad responses
    except requests.RequestException as e:
      print(f"Error sending webhook: {e}")
  else:
    print("Webhook URL not set.")


def rc_should_be_updated(rc_response: str, current_version: str, rc_build: int, current_build: int) -> bool:
  return rc_response and (rc_response != current_version or rc_build != current_build)


def main() -> int:
  current_version, current_build = get_current_version()
  rc_response, rc_build = get_rc_response()

  if rc_should_be_updated(rc_response, current_version, rc_build, current_build):
    send_webhook(rc_response)
    return 0

  print(f"Current version: {current_version}, RC version: {rc_response}")
  return 0


if __name__ == "__main__":
  sys.exit(main())



================================================
FILE: scripts/copy_language_pack.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import os
import shutil
import sys

# Define the path for browser locales
BROWSER_LOCALES = "engine/browser/locales"


def get_language_code(lang_id: str) -> str:
  """
  Retrieves the language code from the language-maps file.

  :param lang_id: Language identifier (e.g., 'nb', 'fr', etc.)
  :return: Corresponding language code (e.g., 'nb-NO', 'fr-FR', etc.)
  """
  language_maps_path = os.path.join("locales", "language-maps")
  if not os.path.exists(language_maps_path):
    return lang_id  # Return the original if the file doesn't exist

  with open(language_maps_path, "r", encoding="utf-8") as f:
    for line in f:
      if line.startswith(f"{lang_id}:"):
        return line.split(":", 1)[1].strip()
  return lang_id  # Return the original if no mapping is found


def copy_browser_locales(lang_id: str):
  """
  Copies language pack files to the specified browser locale directory.

  :param lang_id: Language identifier (e.g., 'en-US', 'fr', etc.)
  """
  lang_code = get_language_code(lang_id)
  lang_path = os.path.join(BROWSER_LOCALES, lang_code)

  # Create the directory for the language pack if it doesn't exist
  os.makedirs(lang_path, exist_ok=True)
  print(f"Creating directory: {lang_path}")

  # If the language is 'en-US', handle special processing
  if lang_id == "en-US":
    # Remove files starting with "zen" in the 'en-US' directory
    for root, _, files in os.walk(lang_path):
      for file in files:
        if file.startswith("zen"):
          os.remove(os.path.join(root, file))

    # Copy files from the source directory
    source_path = "./locales/en-US/browser/"
    copy_files(source_path, lang_path)
    return

  # For other languages, delete the existing directory and copy files anew
  if os.path.exists(lang_path):
    shutil.rmtree(lang_path)  # Remove existing directory

  source_path = f"./locales/{lang_id}/"
  copy_files(source_path, lang_path)


def copy_files(source: str, destination: str):
  """
  Copies files and directories from the source to the destination.

  :param source: Source directory path
  :param destination: Destination directory path
  """
  if not os.path.exists(source):
    raise FileNotFoundError(f"Source path '{source}' does not exist.")

  # Recursively copy all files and directories
  for root, dirs, files in os.walk(source):
    # Determine relative path to preserve directory structure
    relative_path = os.path.relpath(root, source)
    destination_root = os.path.join(destination, relative_path)
    os.makedirs(destination_root, exist_ok=True)

    # Copy files
    for file in files:
      src_file = os.path.join(root, file)
      dest_file = os.path.join(destination_root, file)
      print(f"\tCopying {src_file} to {dest_file}")
      shutil.copy2(src_file, dest_file)  # Copy file with metadata


if __name__ == "__main__":
  if len(sys.argv) != 2:
    print("Usage: python script.py <LANG>")
    sys.exit(1)

  lang = sys.argv[1]
  print(f"Copying language pack for {lang}")
  try:
    copy_browser_locales(lang)
  except Exception as e:
    print(f"Error: {e}")
    sys.exit(1)



================================================
FILE: scripts/download-language-packs.sh
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

set -x

if ! [ -z "$ZEN_L10N_CURR_DIR" ]; then
  cd $ZEN_L10N_CURR_DIR
fi

# remove "\r" from ./locales/supported-languages
# note: it's fine if it fails
sed -i 's/\r$//' ./locales/supported-languages

CURRENT_DIR=$(pwd)

git config --global init.defaultBranch main
git config --global fetch.prune true

cd $CURRENT_DIR

LAST_FIREFOX_L10N_COMMIT=$(cat ./build/firefox-cache/l10n-last-commit-hash)

cd ./locales
rm -rf firefox-l10n
# clone only from LAST_FIREFOX_L10N_COMMIT
git clone https://github.com/mozilla-l10n/firefox-l10n
cd firefox-l10n
git checkout $LAST_FIREFOX_L10N_COMMIT
cd $CURRENT_DIR

rsyncExists=$(command -v rsync)

if [ -z "$rsyncExists" ]; then
  echo "rsync not found, using cp instead"
else
  echo "rsync found!"
fi

set -e

get_code_for_language() {
  # Get the language code from locales/language-maps
  langId=$1
  code=$(grep "^$langId:" ./locales/language-maps | cut -d':' -f2)
  if [ -z "$code" ]; then
    code=$langId
  fi
  echo $code
}

update_language() {
  langId=$(get_code_for_language $1)
  cd ./locales
  cd $1

  echo "Updating $langId"
  # move the contents from ../firefox-l10n/$langId to ./locales/$langId
  # if rsync exists, use it
  # if not, use cp
  if [ -z "$rsyncExists" ]; then
    cp -r $CURRENT_DIR/locales/firefox-l10n/$langId/* .
  else
    rsync -av --progress ../firefox-l10n/$langId/ . --exclude .git
  fi

  cd $CURRENT_DIR
}

export PATH=~/tools/git-cinnabar:$PATH
for lang in $(cat ./locales/supported-languages); do
  update_language $lang
done
cd $CURRENT_DIR

# Move all the files to the correct location

python3 scripts/copy_language_pack.py en-US
for lang in $(cat ./locales/supported-languages); do
  python3 scripts/copy_language_pack.py $lang
done

wait

echo "Cleaning up"
rm -rf ~/tools
rm -rf ~/.git-cinnabar

for lang in $(cat ./locales/supported-languages); do
  # remove every file except if it starts with "zen"
  find ./locales/$lang -type f -not -name "zen*" -delete
done

rm -rf ./locales/firefox-l10n



================================================
FILE: scripts/fetch-formal-git-components.sh
================================================
#!/bin/bash
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

set -e

COMPONENT_ROOT=$(pwd)/src/zen

EXTRA_COMPONENTS=(
  "scripts"
  "workflows"
  "windows"
  "flatpak"
  "configs"
)

echo "" > .formal-git/components

# iterate top directories and adding the base name to .formal-git/components
for dir in $(find $COMPONENT_ROOT -maxdepth 1 -type d | grep -v '\.git' | grep -v 'node_modules' | grep -v 'engine'); do
  if [ "$dir" != "$COMPONENT_ROOT" ]; then
    echo "$(basename $dir)" >> .formal-git/components
  fi
done

# iterate over the extra components and adding them to .formal-git/components
for extra in "${EXTRA_COMPONENTS[@]}"; do
  echo "$extra" >> .formal-git/components
done

# remove all empty lines
sed -i '/^$/d' .formal-git/components



================================================
FILE: scripts/import_external_tests.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import os
import tomllib
import shutil

BASE_PATH = os.path.join("src", "zen", "tests")
EXTERNAL_TESTS_MANIFEST = os.path.join(BASE_PATH, "manifest.toml")
EXTERNAL_TESTS_OUTPUT = os.path.join(BASE_PATH, "mochitests")

FILE_PREFIX = """
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# This file is autogenerated by scripts/import_external_tests.py
# Do not edit manually.

"""

BROWSER_MANIFEST_LIST_PREFIX = """
BROWSER_CHROME_MANIFESTS += [
"""

XPCSHELL_MANIFESTS_LIST_PREFIX = """
XPCSHELL_TESTS_MANIFESTS += [
"""

FILE_SUFFIX = "]"
VALID_MANIFEST_FILES = ["browser.toml", "xpcshell.toml"]


def get_tests_manifest():
  with open(EXTERNAL_TESTS_MANIFEST, "rb") as f:
    return tomllib.load(f)


def die_with_error(message):
  print(f"ERROR: {message}")
  exit(1)


def validate_tests_path(path, files, ignore_list):
  for ignore in ignore_list:
    if ignore not in files:
      die_with_error(f"Ignore file '{ignore}' not found in tests folder '{path}'")
  if not any(manifest_file in files for manifest_file in VALID_MANIFEST_FILES):
    die_with_error(f"None of the valid manifest files {VALID_MANIFEST_FILES} found in tests folder '{path}'")


def disable_and_replace_manifest(manifest, output_path):
  toml_file = None
  for manifest_file in VALID_MANIFEST_FILES:
    candidate = os.path.join(output_path, manifest_file)
    if os.path.exists(candidate):
      toml_file = candidate
      break
  disabled_tests = manifest.get("disable", [])
  with open(toml_file, "r") as f:
    data = f.read()
  for test in disabled_tests:
    segment = f'["{test}"]'
    if segment not in data:
      die_with_error(f"Could not disable test '{test}' as it was not found in '{toml_file}'")
    replace_with = f'["{test}"]\ndisabled="Disabled by import_external_tests.py"'
    data = data.replace(segment, replace_with)
  for replacement in manifest.get("replace-manifest", {}).keys():
    if replacement not in data:
      die_with_error(f"Could not replace manifest entry '{replacement}' as it was not found in '{toml_file}'")
    data = data.replace(replacement, manifest["replace-manifest"][replacement])
  with open(toml_file, "w") as f:
    f.write(data)


def import_test_suite(test_suite, source_path, output_path, ignore_list, manifest, is_direct_path=False):
  print(f"Importing test suite '{test_suite}' from '{source_path}'")
  tests_folder = os.path.join("engine", source_path)
  if not is_direct_path:
    tests_folder = os.path.join(tests_folder, "tests")
  if not os.path.exists(tests_folder):
    die_with_error(f"Tests folder not found: {tests_folder}")
  files = os.listdir(tests_folder)
  validate_tests_path(tests_folder, files, ignore_list)
  if os.path.exists(output_path):
    shutil.rmtree(output_path)
  os.makedirs(output_path, exist_ok=True)
  for item in files:
    if item in ignore_list:
      continue
    s = os.path.join(tests_folder, item)
    d = os.path.join(output_path, item)
    if os.path.isdir(s):
      shutil.copytree(s, d)
    else:
      shutil.copy2(s, d)
  disable_and_replace_manifest(manifest[test_suite], output_path)


def write_moz_build_file(manifest):
  moz_build_path = os.path.join(EXTERNAL_TESTS_OUTPUT, "moz.build")
  print(f"Writing moz.build file to '{moz_build_path}'")
  with open(moz_build_path, "w") as f:
    f.write(FILE_PREFIX)
    f.write(BROWSER_MANIFEST_LIST_PREFIX)
    for test_suite in manifest.keys():
      # add for browser.toml first
      if not manifest[test_suite].get("xpcshell", False):
        f.write(f'\t"{test_suite}/browser.toml",\n')
    f.write(FILE_SUFFIX)
    f.write(XPCSHELL_MANIFESTS_LIST_PREFIX)
    for test_suite in manifest.keys():
      # add for xpcshell.toml
      if manifest[test_suite].get("xpcshell", False):
        f.write(f'\t"{test_suite}/xpcshell.toml",\n')
    f.write(FILE_SUFFIX)


def make_sure_ordered_tests(manifest):
  ordered_tests = sorted(manifest.keys())
  if list(manifest.keys()) != ordered_tests:
    die_with_error("Test suites in manifest.toml are not in alphabetical order.")


def main():
  manifest = get_tests_manifest()
  if os.path.exists(EXTERNAL_TESTS_OUTPUT):
    shutil.rmtree(EXTERNAL_TESTS_OUTPUT)
  os.makedirs(EXTERNAL_TESTS_OUTPUT, exist_ok=True)

  make_sure_ordered_tests(manifest)
  for test_suite, config in manifest.items():
    import_test_suite(
        test_suite=test_suite,
        source_path=config["source"],
        output_path=os.path.join(EXTERNAL_TESTS_OUTPUT, test_suite),
        ignore_list=config.get("ignore", []),
        is_direct_path=config.get("is_direct_path", False),
        manifest=manifest
    )
  write_moz_build_file(manifest)


if __name__ == "__main__":
  main()



================================================
FILE: scripts/json_with_comments.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import json
from typing import Any


class JSONWithCommentsDecoder(json.JSONDecoder):
  def __init__(self, **kw):
    super().__init__(**kw)

  def decode(self, s: str) -> Any:
    s = '\n'.join(l for l in s.split('\n') if not l.lstrip(' ').startswith('//'))
    return super().decode(s)



================================================
FILE: scripts/prepare-flatpak-release.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import hashlib
import argparse
import sys
import os

FLATID = "app.zen_browser.zen"


def get_sha256sum(filename):
  """Calculate the SHA256 checksum of a file."""
  sha256 = hashlib.sha256()
  try:
    with open(filename, "rb") as f:
      for byte_block in iter(lambda: f.read(4096), b""):
        sha256.update(byte_block)
  except FileNotFoundError:
    print(f"File {filename} not found.")
    sys.exit(1)
  return sha256.hexdigest()


def build_template(template, linux_sha256, flatpak_sha256, version, linux_aarch64_sha256):
  """Build the template with the provided hashes and version."""
  print(f"Building template with version {version}")
  print(f"\tLinux archive sha256: {linux_sha256}")
  print(f"\tLinux aarch64 archive sha256: {linux_aarch64_sha256}")
  print(f"\tFlatpak archive sha256: {flatpak_sha256}")
  return template.format(linux_sha256=linux_sha256,
                         flatpak_sha256=flatpak_sha256,
                         version=version,
                         linux_aarch64_sha256=linux_aarch64_sha256)


def get_template(template_root):
  """Get the template content from the specified root directory."""
  file = os.path.join(template_root, f"{FLATID}.yml.template")
  print(f"Reading template {file}")
  try:
    with open(file, "r") as f:
      return f.read()
  except FileNotFoundError:
    print(f"Template {file} not found.")
    sys.exit(1)


def main():
  """Main function to parse arguments and process files."""
  parser = argparse.ArgumentParser(description="Prepare flatpak release")
  parser.add_argument("--version",
                      help="Version of the release",
                      required=True)
  parser.add_argument("--linux-archive", help="Linux archive", required=True)
  parser.add_argument("--linux-aarch64-archive", help="Linux aarch64 archive", required=True)
  parser.add_argument("--flatpak-archive",
                      help="Flatpak archive",
                      required=True)
  parser.add_argument("--output", help="Output file", default=f"{FLATID}.yml")
  parser.add_argument("--template-root",
                      help="Template root",
                      default="flatpak")
  args = parser.parse_args()

  linux_sha256 = get_sha256sum(args.linux_archive)
  linux_aarch64_sha256 = get_sha256sum(args.linux_aarch64_archive)
  flatpak_sha256 = get_sha256sum(args.flatpak_archive)
  template = build_template(get_template(args.template_root), linux_sha256,
                            flatpak_sha256, args.version, linux_aarch64_sha256)

  print(f"Writing output to {args.output}")
  with open(args.output, "w") as f:
    f.write(template)


if __name__ == "__main__":
  main()



================================================
FILE: scripts/recalculate-patches.sh
================================================
#!/bin/bash
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

set -e

# FIrst check if importing the patches succeeds
npm run import

IGNORE_FILES=(
  "shared.nsh"
  "ignorePrefs.json"
  "moz.configure"
)

# Recursively find all .patch files in the current directory and its subdirectories
find src -type f -name "*.patch" | while read -r patch_file; do
  # Get the file from the inside of the file as indicated by the patch
  target_file=$(grep -m 1 -E '^\+\+\+ b/' "$patch_file" | sed 's/^\+\+\+ b\///')
  if [[ -z "$target_file" ]]; then
    echo "No target file found in patch: $patch_file"
    continue
  fi

  new_file_base=$(basename "$target_file")
  if [[ ! " ${IGNORE_FILES[@]} " =~ " ${new_file_base} " ]]; then
    npm run export ${target_file}
  fi
done

for job in $(jobs -p); do
  echo $job
  wait $job || let "FAIL+=1"
done

echo "All patches have been exported successfully."



================================================
FILE: scripts/remove-failed-jobs.sh
================================================
#!/bin/bash
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

gh_bulk_delete_workflow_runs() {
  local repo=zen-browser/$1

  # Ensure the repo argument is provided
  if [[ -z "$repo" ]]; then
    echo "Usage: gh_bulk_delete_workflow_runs <repo>"
    return 1
  fi

  # Fetch workflow runs that are cancelled, failed, or timed out
  local runs
  runs=$(gh api repos/$repo/actions/runs --paginate \
    | jq -r '.workflow_runs[] |
    select(.conclusion == "cancelled" or
      .conclusion == "failure" or
      .conclusion == "timed_out") |
    .id')

  if [[ -z "$runs" ]]; then
    echo "No workflow runs found for $repo with the specified conclusions."
    return 0
  fi

  # Loop through each run and delete it
  while IFS= read -r run; do
    echo "Attempting to delete run: https://github.com/$repo/actions/runs/$run"

    # Perform the deletion
    if gh api -X DELETE repos/$repo/actions/runs/$run --silent; then
      echo "Successfully deleted run: $run"
    else
      echo "Error deleting run: $run" >&2
    fi

    # Optional delay to avoid hitting API rate limits
    sleep 1
  done <<< "$runs"

  echo "Completed deletion process for workflow runs in $repo."
}

# Execute the function with the provided argument
gh_bulk_delete_workflow_runs "$1"



================================================
FILE: scripts/run_tests.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import os
import sys
import json
from pathlib import Path
from json_with_comments import JSONWithCommentsDecoder

IGNORE_PREFS_FILE_IN = os.path.join(
    'src', 'zen', 'tests', 'ignorePrefs.json'
)
IGNORE_PREFS_FILE_OUT = os.path.join(
    'engine', 'testing', 'mochitest', 'ignorePrefs.json'
)

MOCHITEST_NAME = "mochitests"


def copy_ignore_prefs():
  print("Copying ignorePrefs.json from src/zen/tests to engine/testing/mochitest...")
  # if there are prefs that dont exist on output file, copy them from input file
  all_prefs = []
  with open(IGNORE_PREFS_FILE_OUT, 'r') as f:
    all_prefs = json.load(f)
    with open(IGNORE_PREFS_FILE_IN, 'r') as f_in:
      new_prefs = json.load(f_in, cls=JSONWithCommentsDecoder)
      all_prefs.extend(p for p in new_prefs if p not in all_prefs)
  with open(IGNORE_PREFS_FILE_OUT, 'w') as f_out:
    json.dump(all_prefs, f_out, indent=2)


def main():
  copy_ignore_prefs()

  project_root = Path(__file__).resolve().parent.parent
  package_json = project_root / 'package.json'

  # Ensure script is run from project root
  if not package_json.exists():
    print("Please run this script from the root of the project", file=sys.stderr)
    sys.exit(1)

  args = sys.argv[1:]
  path = ""
  for arg in args:
    if not arg.startswith("--"):
      path = arg
      break

  # Collect any additional arguments
  other_args = [arg for arg in args if arg != path]

  engine_dir = project_root / 'engine'
  os.chdir(engine_dir)

  def run_mach_with_paths(test_paths):
    command = ['./mach', 'test'] + other_args + test_paths
    # Replace the current process with the mach command
    os.execvp(command[0], command)

  if path in ("", "all"):
    test_dirs = [p for p in Path("zen/tests").iterdir() if p.is_dir() and p.name != MOCHITEST_NAME]
    mochitest_dirs = [p for p in Path(f"zen/tests/{MOCHITEST_NAME}").iterdir() if p.is_dir()]
    test_dirs.extend(mochitest_dirs)
    test_paths = [str(p) for p in test_dirs]
    run_mach_with_paths(test_paths)
  else:
    run_mach_with_paths([f"zen/tests/{path}"])

  # Return to original directory
  os.chdir(project_root)


if __name__ == "__main__":
  main()



================================================
FILE: scripts/update-surfer.sh
================================================
#!/bin/bash
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# make sure we are on root
if [ ! -f "package.json" ]; then
  echo "Please run this script from the root of the project"
  exit 1
fi

npm update @zen-browser/surfer
npm i @zen-browser/surfer@latest -D



================================================
FILE: scripts/update_en_US_packs.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

from copy_language_pack import copy_browser_locales

if __name__ == "__main__":
  copy_browser_locales("en-US")



================================================
FILE: scripts/update_external_patches.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import os
import sys
import json
import requests
from json_with_comments import JSONWithCommentsDecoder

BASE_URI = "https://phabricator.services.mozilla.com"
OUTPUT_DIR = os.path.join(os.getcwd(), "src", "external-patches")


def die(message):
  print(f"Error: {message}")
  sys.exit(1)


def download_phab_patch(phab_id, output_file):
  """Download a Phabricator patch by its ID and save it to output_file."""
  patch_url = f"{BASE_URI}/{phab_id}?download=true"
  try:
    print(f"Downloading patch from {patch_url}")
    response = requests.get(patch_url)
    response.raise_for_status()  # Raise an error for bad responses
    with open(output_file, 'wb') as f:
      f.write(response.content)
    print(f"Patch saved to {output_file}")
  except requests.RequestException as e:
    die(f"Failed to download patch {phab_id}: {e}")


def download_patch_from_url(url, output_file):
  """Download a patch from a given URL and save it to output_file."""
  try:
    print(f"Downloading patch from {url}")
    response = requests.get(url)
    response.raise_for_status()  # Raise an error for bad responses
    with open(output_file, 'wb') as f:
      f.write(response.content)
    print(f"Patch saved to {output_file}")
  except requests.RequestException as e:
    die(f"Failed to download patch from {url}: {e}")


def main():
  with open(os.path.join(OUTPUT_DIR, "manifest.json"), 'r') as f:
    manifest = json.load(f, cls=JSONWithCommentsDecoder)

  expected_files = set()
  for patch in manifest:
    if patch.get("type") == "phabricator":
      phab_id = patch.get("id")
      name = patch.get("name")
      if not phab_id or not name:
        die(f"Patch entry missing 'id' or 'name': {patch}")
      name = name.replace(" ", "_").lower()
      output_file = os.path.join(OUTPUT_DIR, "firefox", f"{name}.patch")
      print(f"Processing Phabricator patch: {phab_id} -> {output_file}")
      download_phab_patch(phab_id, output_file)
      expected_files.add(output_file)
    elif patch.get("type") == "local":
      print(f"Local patch: {patch.get('path')}")
      expected_files.add(os.path.join(OUTPUT_DIR, patch.get("path")))
    elif patch.get("type") == "patch":
      url = patch.get("url")
      dest = patch.get("dest")
      if not url or not dest:
        die(f"Patch entry missing 'url' or 'dest': {patch}")
      filename = url.split("/")[-1]
      output_file = os.path.join(OUTPUT_DIR, dest, filename)
      download_patch_from_url(url, output_file)
      replaces = patch.get("replaces", {})
      for replace in replaces.keys():
        value = replaces[replace]
        with open(output_file, 'r') as f:
          content = f.read()
        if replace not in content:
          die(f"Replace string '{replace}' not found in {output_file}")
        with open(output_file, 'w') as f:
          f.write(content.replace(replace, value))
      expected_files.add(output_file)
    else:
      die(f"Unknown patch type: {patch.get('type')}")

  # Check for unexpected files in the output directory
  # and remove them if they are not in the expected_files set.
  for root, dirs, files in os.walk(OUTPUT_DIR):
    for file in files:
      if file.endswith(".patch"):
        file_path = os.path.join(root, file)
        if file_path not in expected_files:
          print(f"Removing unexpected patch file: {file_path}")
          os.remove(file_path)


if __name__ == "__main__":
  main()



================================================
FILE: scripts/update_ff.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import os
import json
import argparse
import shutil

from check_rc_response import get_rc_response, rc_should_be_updated


def update_rc(last_version: str, last_build: int):
  rc_version, rc_build = get_rc_response()
  if rc_should_be_updated(rc_version, last_version, rc_build, last_build):
    print(f"New Firefox RC version is available: {rc_version}")
    print("Removing engine directory and updating surfer.json.")
    if os.path.exists("engine"):
      shutil.rmtree("engine")
    with open("surfer.json", "r") as f:
      data = json.load(f)
    with open("surfer.json", "w") as f:
      data["version"]["candidate"] = rc_version
      data["version"]["candidateBuild"] = rc_build
      json.dump(data, f, indent=2)
    print("Download the new engine by running 'npm run download'.")
    os.system("npm run download")
  else:
    print("No new Firefox RC version available.")


def update_ff(is_rc: bool = False, last_version: str = "", last_build: int = 0):
  """Runs the npm command to sync Firefox."""
  if is_rc:
    return update_rc(last_version, last_build)
  result = os.system("npm run sync:raw")
  if result != 0:
    raise RuntimeError("Failed to sync Firefox.")


def get_version_from_file(filename, is_rc):
  """Retrieves the version from the specified JSON file."""
  try:
    with open(filename, "r") as f:
      data = json.load(f)
      return (data["version"]["version"] if not is_rc else data["version"]["candidate"],
              data["version"]["candidateBuild"])
  except (FileNotFoundError, json.JSONDecodeError) as e:
    raise RuntimeError(f"Error reading version from {filename}: {e}")


def update_readme(last_version, new_version, is_rc=False):
  """Updates the README.md file to reflect the new version."""
  prefix = "RC " if is_rc else "`"
  try:
    with open("README.md", "r") as f:
      data = f.read()
      updated_data = data.replace(prefix + last_version, prefix + new_version)

    with open("README.md", "w") as f:
      f.write(updated_data)
  except FileNotFoundError as e:
    raise RuntimeError(f"README.md file not found: {e}")


def update_l10n_last_commit_hash():
  L10N_REPO = "https://github.com/mozilla-l10n/firefox-l10n"
  try:
    os.system(f"git clone {L10N_REPO} l10n-temp --depth 1")
    if not os.path.exists("build/firefox-cache"):
      os.mkdir("build/firefox-cache")
    os.system("cat l10n-temp/.git/refs/heads/main > build/firefox-cache/l10n-last-commit-hash")
    # Remove new line character
    data = ""
    with open("build/firefox-cache/l10n-last-commit-hash", "r") as f:
      data = f.read()
    with open("build/firefox-cache/l10n-last-commit-hash", "w") as f:
      f.write(data.strip())
  except KeyboardInterrupt:
    print("Exiting...")
  shutil.rmtree("l10n-temp")


def main():
  """Main function to update versions and README."""

  arg_parser = argparse.ArgumentParser()
  arg_parser.add_argument(
      "--rc", help="Indicates that this is a release candidate.", default=False, action="store_true")
  arg_parser.add_argument(
      "--just-l10n", help="Only update the l10n last commit hash.", default=False, action="store_true")
  args = arg_parser.parse_args()

  try:
    if not args.just_l10n:
      last_version, last_build = get_version_from_file("surfer.json", args.rc)
      update_ff(args.rc, last_version, last_build)
      new_version, new_build = get_version_from_file("surfer.json", args.rc)
      update_readme(last_version, new_version, args.rc)
      print(
          f"Updated version from {last_version} to {new_version} in README.md.")
    print("Updating l10n last commit hash.")
    update_l10n_last_commit_hash()
  except Exception as e:
    print(f"An error occurred: {e}")


if __name__ == "__main__":
  main()



================================================
FILE: scripts/update_service_dumps.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import os
import json
from json_with_comments import JSONWithCommentsDecoder

DUMPS_FOLDER = os.path.join(
    'configs', 'dumps'
)
ENGINE_DUMPS_FOLDER = os.path.join(
    'engine', 'services', 'settings', 'dumps', 'main'
)


def merge_dumps(original, updates):
  """Filters entries from the original dump, removing those whose identifiers are specified in the updates removal list."""
  remove_ids = updates.get('remove', {"identifiers": []}).get('identifiers', [])

  # Filter out entries in original that are in remove_ids.
  #  We may find example-* patterns, so we need to handle that as well.
  merged_data = [
      entry for entry in original.get('data', [])
      if not any(
          entry.get('identifier', '') == rid or
          (rid.endswith('*') and entry.get('identifier', '').startswith(rid[:-1]))
          for rid in remove_ids
      )
  ]

  return {
      'data': merged_data,
      **{k: v for k, v in original.items() if k != 'data'},
      'timestamp': updates.get('timestamp', original.get('timestamp'))
  }


def main():
  for filename in os.listdir(DUMPS_FOLDER):
    if filename.endswith('.json'):
      #  parse json with comments
      with open(os.path.join(DUMPS_FOLDER, filename), 'r') as f:
        data = json.load(f, cls=JSONWithCommentsDecoder)
      original_path = os.path.join(ENGINE_DUMPS_FOLDER, filename)
      if os.path.exists(original_path):
        with open(original_path, 'r', encoding='utf-8') as f:
          original_content = f.read()
          original_content = '\n'.join(
              line for line in original_content.split('\n') if not line.lstrip(' ').startswith('//')
          )
          original_data = json.loads(original_content)
        merged_data = merge_dumps(original_data, data)
        with open(original_path, 'w', encoding='utf-8') as f:
          json.dump(merged_data, f, indent=2, ensure_ascii=False)
        print(f"Updated dump: {filename}")
      else:
        print(f"Original dump file not found: {original_path}")
        exit(1)


if __name__ == "__main__":
  main()



================================================
FILE: scripts/update_ts_types.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import os

FILES = [
    "index.d.ts",
    "lib.gecko.tweaks.d.ts",
    "lib.gecko.xpidl.d.ts",
]

GENERATED_FILES = [
    "lib.gecko.win32.d.ts",
    "lib.gecko.xpcom.d.ts",
    "lib.gecko.darwin.d.ts",
    "lib.gecko.dom.d.ts",
    "lib.gecko.glean.d.ts",
    "lib.gecko.linux.d.ts",
    "lib.gecko.modules.d.ts",
    "lib.gecko.nsresult.d.ts",
    "lib.gecko.services.d.ts",
]

ENGINE_PATH = os.path.join("engine", "tools", "@types")
GENERATED_PATH = os.path.join(ENGINE_PATH, "generated")
SRC_PATH = os.path.join("src", "zen", "@types")


def update_ts_types():
  os.system("cd engine && ./mach ts build && ./mach ts update")
  # copy the files from engine/tools/@types to src/@types
  for file in FILES + GENERATED_FILES:
    if file in GENERATED_FILES:
      src_file = os.path.join(GENERATED_PATH, file)
    else:
      src_file = os.path.join(ENGINE_PATH, file)
    dest_file = os.path.join(SRC_PATH, file)
    if os.path.exists(src_file):
      os.system(f"cp {src_file} {dest_file}")
    else:
      print(f"File {src_file} does not exist.")

  # add zen.d.ts to the end of index.d.ts
  with open(os.path.join(SRC_PATH, "index.d.ts"), "a") as f:
    f.write("\n")
    f.write('/// <reference types="./zen.d.ts" />\n')
    f.write('\n')


if __name__ == "__main__":
  update_ts_types()
  print("Updated TypeScript types.")



================================================
FILE: src/Cargo-lock.patch
================================================
diff --git a/Cargo.lock b/Cargo.lock
index 723445447f491058784992e66245e0e0f8e61e19..02816c1df3e20d96ce68f16970b8a6e38080533e 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -4214,8 +4214,6 @@ dependencies = [
 [[package]]
 name = "mime_guess"
 version = "2.0.4"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "4192263c238a5f0d0c6bfd21f336a313a4ce1c450542449ca191bb657b4642ef"
 dependencies = [
  "mime",
  "unicase",



================================================
FILE: src/Cargo-toml.patch
================================================
diff --git a/Cargo.toml b/Cargo.toml
index 35e725043bce0b39fea550e8fb2b0ae1ff752e43..abac2042d537fcc1ce26e0e3acbf98fc2975b793 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -237,6 +237,8 @@ moz_asserts = { path = "mozglue/static/rust/moz_asserts" }
 # Workaround for https://github.com/rust-lang/cargo/issues/11232
 rure = { path = "third_party/rust/rure" }
 
+mime_guess = { path = "third_party/rust/mime_guess" }
+
 # Patch `unicode-width` 0.1.* to 0.2.
 unicode-width = { path = "build/rust/unicode-width" }
 



================================================
FILE: src/.hgignore
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.



================================================
FILE: src/browser/actors/EncryptedMediaParent-sys-mjs.patch
================================================
diff --git a/browser/actors/EncryptedMediaParent.sys.mjs b/browser/actors/EncryptedMediaParent.sys.mjs
index 9d3d3db9761cf5b2fde1f70992e82b1733241863..3dc64dc395d5237bf2c290cb8588cf467fb8729a 100644
--- a/browser/actors/EncryptedMediaParent.sys.mjs
+++ b/browser/actors/EncryptedMediaParent.sys.mjs
@@ -200,6 +200,7 @@ export class EncryptedMediaParent extends JSWindowActorParent {
         "drmContentPlaying",
         aBrowser
       )
+      || true // zen: We have some issues with this currently, so never show it
     ) {
       return;
     }



================================================
FILE: src/browser/actors/WebRTCParent-sys-mjs.patch
================================================
diff --git a/browser/actors/WebRTCParent.sys.mjs b/browser/actors/WebRTCParent.sys.mjs
index ffa7d61ded4f2cf5866d0cb12dd9b14728a63570..5575943208a734f820758fd50a80503061934d56 100644
--- a/browser/actors/WebRTCParent.sys.mjs
+++ b/browser/actors/WebRTCParent.sys.mjs
@@ -152,6 +152,7 @@ export class WebRTCParent extends JSWindowActorParent {
 
     let tabbrowser = browser.ownerGlobal.gBrowser;
     if (tabbrowser) {
+      browser.ownerGlobal.gZenMediaController.updateMediaSharing(state);
       tabbrowser.updateBrowserSharing(browser, {
         webRTC: state,
       });



================================================
FILE: src/browser/app/splash-rc.patch
================================================
diff --git a/browser/app/splash.rc b/browser/app/splash.rc
index 259a8068c3aa256b8c50487a04f1844292b90b2e..8b9c792e1484bb801246b06b6ce43fb6d6271ee8 100644
--- a/browser/app/splash.rc
+++ b/browser/app/splash.rc
@@ -6,6 +6,9 @@
 #include <windows.h>
 #include "nsNativeAppSupportWin.h"
 
+#define MANIFEST_PATH "firefox.exe.manifest" 
+CREATEPROCESS_MANIFEST_RESOURCE_ID  RT_MANIFEST             MANIFEST_PATH
+
 IDI_APPICON ICON FIREFOX_ICO
 IDI_DOCUMENT ICON DOCUMENT_ICO
 IDI_APPLICATION ICON FIREFOX_ICO



================================================
FILE: src/browser/app/macbuild/Contents/Info-plist-in.patch
================================================
diff --git a/browser/app/macbuild/Contents/Info.plist.in b/browser/app/macbuild/Contents/Info.plist.in
index 0c4fb837a24490c66b284abf2bd9299c2e021de0..ea28831b90662b12bdcb137c35b6bb83626c77e7 100644
--- a/browser/app/macbuild/Contents/Info.plist.in
+++ b/browser/app/macbuild/Contents/Info.plist.in
@@ -190,8 +190,6 @@
 	<string>@MAC_APP_NAME@ @APP_VERSION@</string>
 	<key>CFBundleIconFile</key>
 	<string>firefox.icns</string>
-	<key>CFBundleIconName</key>
-	<string>AppIcon</string>
 	<key>CFBundleIdentifier</key>
 	<string>@MOZ_MACBUNDLE_ID@</string>
 	<key>CFBundleInfoDictionaryVersion</key>



================================================
FILE: src/browser/base/jar-mn.patch
================================================
diff --git a/browser/base/jar.mn b/browser/base/jar.mn
index b1f7121a1f3926fe3eb89540edb7dcbb68734039..61c98964cf5efd0a603500cf36559713e1f231f7 100644
--- a/browser/base/jar.mn
+++ b/browser/base/jar.mn
@@ -109,3 +109,5 @@ browser.jar:
 
 # L10n resources and overrides.
 % override chrome://global/locale/appstrings.properties chrome://browser/locale/appstrings.properties
+
+#include content/zen-assets.jar.inc.mn



================================================
FILE: src/browser/base/moz-build.patch
================================================
diff --git a/browser/base/moz.build b/browser/base/moz.build
index 086b462e706bb46727d0fed85b4c98debaeaf721..44a4fcb9b8181678667ee11b0443eed681dd2a43 100644
--- a/browser/base/moz.build
+++ b/browser/base/moz.build
@@ -82,3 +82,5 @@ DEFINES["MOZ_APP_VERSION_DISPLAY"] = CONFIG["MOZ_APP_VERSION_DISPLAY"]
 DEFINES["APP_LICENSE_BLOCK"] = "%s/content/overrides/app-license.html" % SRCDIR
 
 JAR_MANIFESTS += ["jar.mn"]
+
+DIRS += ["../../zen"]



================================================
FILE: src/browser/base/content/aboutDialog-js.patch
================================================
diff --git a/browser/base/content/aboutDialog.js b/browser/base/content/aboutDialog.js
index f6e1391baf12abb91c85a95107bb3923118746c0..cac04aa288e8a305d0c8b28e0c919abce87658e5 100644
--- a/browser/base/content/aboutDialog.js
+++ b/browser/base/content/aboutDialog.js
@@ -52,7 +52,7 @@ function init() {
   ]);
   let versionIdKey = "base";
   let versionAttributes = {
-    version: AppConstants.MOZ_APP_VERSION_DISPLAY,
+    version: `${AppConstants.MOZ_APP_VERSION_DISPLAY} (Firefox ${AppConstants.ZEN_FIREFOX_VERSION})`,
   };
 
   let arch = Services.sysinfo.get("arch");
@@ -64,7 +64,7 @@ function init() {
   }
 
   let version = Services.appinfo.version;
-  if (/a\d+$/.test(version)) {
+  if (version.includes("t")) {
     versionIdKey += "-nightly";
     let buildID = Services.appinfo.appBuildID;
     let year = buildID.slice(0, 4);
@@ -125,14 +125,6 @@ function init() {
       window.close();
     });
   if (AppConstants.MOZ_UPDATER) {
-    document
-      .getElementById("aboutDialogHelpLink")
-      .addEventListener("click", () => {
-        openHelpLink("firefox-help");
-      });
-    document
-      .getElementById("submit-feedback")
-      .addEventListener("click", openFeedbackPage);
     document
       .getElementById("checkForUpdatesButton")
       .addEventListener("command", () => {



================================================
FILE: src/browser/base/content/aboutDialog-xhtml.patch
================================================
diff --git a/browser/base/content/aboutDialog.xhtml b/browser/base/content/aboutDialog.xhtml
index c64980810570fcea84e33fdc2d66ac42a79f4e46..aa629ebb38a9aa74048fe3fc759f716fad57d6f3 100644
--- a/browser/base/content/aboutDialog.xhtml
+++ b/browser/base/content/aboutDialog.xhtml
@@ -102,10 +102,6 @@
                 <label id="version" class="update"/>
                 <label id="releasenotes" is="text-link" hidden="true" data-l10n-id="releaseNotes-link"/>
               </hbox>
-              <description class="text-blurb">
-                <label id="aboutDialogHelpLink" is="text-link" data-l10n-id="aboutdialog-help-user"/>
-                <label id="submit-feedback" is="text-link" data-l10n-id="aboutdialog-submit-feedback"/>
-              </description>
             </vbox>
 #endif
           </hbox>
@@ -120,26 +116,22 @@
           <vbox id="experimental" hidden="true">
             <description class="text-blurb" id="warningDesc" data-l10n-id="warningDesc-version"></description>
             <description class="text-blurb" id="communityExperimentalDesc" data-l10n-id="community-exp">
-              <label is="text-link" href="https://www.mozilla.org/?utm_source=firefox-browser&#38;utm_medium=firefox-desktop&#38;utm_campaign=about-dialog" data-l10n-name="community-exp-mozillaLink"/>
+              <label is="text-link" href="https://zen-browser.app/about" data-l10n-name="community-exp-mozillaLink"/>
               <label is="text-link" useoriginprincipal="true" href="about:credits" data-l10n-name="community-exp-creditsLink"/>
             </description>
           </vbox>
           <description class="text-blurb" id="communityDesc" data-l10n-id="community-2">
-            <label is="text-link" href="https://www.mozilla.org/?utm_source=firefox-browser&#38;utm_medium=firefox-desktop&#38;utm_campaign=about-dialog" data-l10n-name="community-mozillaLink"/>
+            <label is="text-link" href="https://github.com/zen-browser/desktop" data-l10n-name="community-mozillaLink"/>
             <label is="text-link" useoriginprincipal="true" href="about:credits" data-l10n-name="community-creditsLink"/>
           </description>
-          <description class="text-blurb" id="contributeDesc" data-l10n-id="helpus">
-            <label is="text-link" href="https://foundation.mozilla.org/?form=firefox-about" data-l10n-name="helpus-donateLink"/>
-            <label is="text-link" href="https://www.mozilla.org/contribute/?utm_source=firefox-browser&#38;utm_medium=firefox-desktop&#38;utm_campaign=about-dialog" data-l10n-name="helpus-getInvolvedLink"/>
-          </description>
         </vbox>
       </vbox>
     </hbox>
     <vbox id="bottomBox">
       <hbox pack="center">
         <label is="text-link" class="bottom-link" useoriginprincipal="true" href="about:license" data-l10n-id="bottomLinks-license"/>
-        <label is="text-link" class="bottom-link" href="https://www.mozilla.org/about/legal/terms/firefox/" data-l10n-id="bottom-links-terms"/>
-        <label is="text-link" class="bottom-link" href="https://www.mozilla.org/privacy/firefox/?utm_source=firefox-browser&#38;utm_medium=firefox-desktop&#38;utm_campaign=about-dialog" data-l10n-id="bottom-links-privacy"/>
+        <label is="text-link" class="bottom-link" href="about:rights" data-l10n-id="bottomLinks-rights"/>
+        <label is="text-link" class="bottom-link" href="https://www.zen-browser.app/privacy-policy/" data-l10n-id="bottomLinks-privacy"/>
       </hbox>
       <description id="trademark" data-l10n-id="trademarkInfo"></description>
     </vbox>



================================================
FILE: src/browser/base/content/browser-addons-js.patch
================================================
diff --git a/browser/base/content/browser-addons.js b/browser/base/content/browser-addons.js
index cfb6b8dd5443966d0635c3d7b477a68eca8fa9e0..c876890706b1a314c7760bbe1ff5e9eb57857e60 100644
--- a/browser/base/content/browser-addons.js
+++ b/browser/base/content/browser-addons.js
@@ -1069,7 +1069,7 @@ var gXPInstallObserver = {
       persistent: true,
       hideClose: true,
       popupOptions: {
-        position: "bottomright topright",
+        position: gZenUIManager.panelUIPosition(),
       },
     };
 
@@ -1279,7 +1279,7 @@ var gXPInstallObserver = {
       hideClose: true,
       timeout: Date.now() + 30000,
       popupOptions: {
-        position: "bottomright topright",
+        position: gZenUIManager.panelUIPosition(),
       },
     };
 
@@ -2212,7 +2212,7 @@ var gUnifiedExtensions = {
   // If the new ID is not added in NOTIFICATION_IDS, consider handling the case
   // in the "PopupNotificationsBeforeAnchor" handler elsewhere in this file.
   getPopupAnchorID(aBrowser, aWindow) {
-    const anchorID = "unified-extensions-button";
+    const anchorID = "zen-site-data-icon-button";
     const attr = anchorID + "popupnotificationanchor";
 
     if (!aBrowser[attr]) {
@@ -2223,7 +2223,7 @@ var gUnifiedExtensions = {
         anchorID
         // Anchor on the toolbar icon to position the popup right below the
         // button.
-      ).firstElementChild;
+      );
     }
 
     return anchorID;
@@ -2548,7 +2548,7 @@ var gUnifiedExtensions = {
     requestAnimationFrame(() => this.updateAttention());
   },
 
-  onToolbarVisibilityChange(toolbarId, isVisible) {
+  onToolbarVisibilityChange(toolbarId, isVisible, panel = this.panel) {
     // A list of extension widget IDs (possibly empty).
     let widgetIDs;
 
@@ -2562,7 +2562,7 @@ var gUnifiedExtensions = {
     }
 
     // The list of overflowed extensions in the extensions panel.
-    const overflowedExtensionsList = this.panel.querySelector(
+    const overflowedExtensionsList = panel.querySelector(
       "#overflowed-extensions-list"
     );
 
@@ -2663,37 +2663,41 @@ var gUnifiedExtensions = {
       );
       template.replaceWith(template.content);
       this._panel = document.getElementById("unified-extensions-panel");
-      let customizationArea = this._panel.querySelector(
-        "#unified-extensions-area"
-      );
-      CustomizableUI.registerPanelNode(
-        customizationArea,
-        CustomizableUI.AREA_ADDONS
-      );
-      CustomizableUI.addPanelCloseListeners(this._panel);
-
-      this._panel
-        .querySelector("#unified-extensions-manage-extensions")
-        .addEventListener("command", () => {
-          BrowserAddonUI.openAddonsMgr("addons://list/extension");
-        });
-
-      // Lazy-load the l10n strings. Those strings are used for the CUI and
-      // non-CUI extensions in the unified extensions panel.
-      document
-        .getElementById("unified-extensions-context-menu")
-        .querySelectorAll("[data-lazy-l10n-id]")
-        .forEach(el => {
-          el.setAttribute("data-l10n-id", el.getAttribute("data-lazy-l10n-id"));
-          el.removeAttribute("data-lazy-l10n-id");
-        });
+      this.initializePanel(this._panel);
     }
     return this._panel;
   },
 
+  initializePanel(panel) {
+    let customizationArea = panel.querySelector(
+      "#unified-extensions-area"
+    );
+    CustomizableUI.registerPanelNode(
+      customizationArea,
+      CustomizableUI.AREA_ADDONS
+    );
+    CustomizableUI.addPanelCloseListeners(panel);
+
+    panel
+      .querySelector("#unified-extensions-manage-extensions")
+      .addEventListener("command", () => {
+        BrowserAddonUI.openAddonsMgr("addons://list/extension");
+      });
+
+    // Lazy-load the l10n strings. Those strings are used for the CUI and
+    // non-CUI extensions in the unified extensions panel.
+    document
+      .getElementById("unified-extensions-context-menu")
+      .querySelectorAll("[data-lazy-l10n-id]")
+      .forEach(el => {
+        el.setAttribute("data-l10n-id", el.getAttribute("data-lazy-l10n-id"));
+        el.removeAttribute("data-lazy-l10n-id");
+      });
+  },
+
   // `aEvent` and `reason` are optional. If `reason` is specified, it should be
   // a valid argument to gUnifiedExtensions.recordButtonTelemetry().
-  async togglePanel(aEvent, reason) {
+  async togglePanel(aEvent, reason, panel = this._panel, view = "unified-extensions-view", button = this._button) {
     if (!CustomizationHandler.isCustomizing()) {
       if (aEvent) {
         if (
@@ -2715,6 +2719,7 @@ var gUnifiedExtensions = {
         // and no alternative content is available for display in the panel.
         const policies = this.getActivePolicies();
         if (
+          false &&
           policies.length &&
           !this.hasExtensionsInPanel(policies) &&
           !this.isPrivateWindowMissingExtensionsWithoutPBMAccess() &&
@@ -2730,32 +2735,30 @@ var gUnifiedExtensions = {
       this.blocklistAttentionInfo =
         await AddonManager.getBlocklistAttentionInfo();
 
-      let panel = this.panel;
-
       if (!this._listView) {
         this._listView = PanelMultiView.getViewNode(
           document,
-          "unified-extensions-view"
+          view,
         );
         this._listView.addEventListener("ViewShowing", this);
         this._listView.addEventListener("ViewHiding", this);
       }
 
-      if (this._button.open) {
+      if (button.open) {
         PanelMultiView.hidePopup(panel);
-        this._button.open = false;
+        button.open = false;
       } else {
         // Overflow extensions placed in collapsed toolbars, if any.
         for (const toolbarId of CustomizableUI.getCollapsedToolbarIds(window)) {
           // We pass `false` because all these toolbars are collapsed.
-          this.onToolbarVisibilityChange(toolbarId, /* isVisible */ false);
+          this.onToolbarVisibilityChange(toolbarId, /* isVisible */ false, panel);
         }
 
         panel.hidden = false;
         this.recordButtonTelemetry(reason || "extensions_panel_showing");
         this.ensureButtonShownBeforeAttachingPanel(panel);
-        PanelMultiView.openPopup(panel, this._button, {
-          position: "bottomright topright",
+        PanelMultiView.openPopup(panel, button, {
+          position: gZenUIManager.panelUIPosition(panel, button),
           triggerEvent: aEvent,
         });
       }
@@ -2942,18 +2945,20 @@ var gUnifiedExtensions = {
       this._maybeMoveWidgetNodeBack(widgetId);
     }
 
-    this.pinToToolbar(widgetId, shouldPinToToolbar);
+    await this.pinToToolbar(widgetId, shouldPinToToolbar);
   },
 
-  pinToToolbar(widgetId, shouldPinToToolbar) {
+  async pinToToolbar(widgetId, shouldPinToToolbar) {
     let newArea = shouldPinToToolbar
       ? CustomizableUI.AREA_NAVBAR
       : CustomizableUI.AREA_ADDONS;
     let newPosition = shouldPinToToolbar ? undefined : 0;
+    await gZenVerticalTabsManager._preCustomize();
 
     CustomizableUI.addWidgetToArea(widgetId, newArea, newPosition);
     // addWidgetToArea() will trigger onWidgetAdded or onWidgetMoved as needed,
     // and our handlers will call updateAttention() as needed.
+    await gZenVerticalTabsManager._postCustomize();
   },
 
   async moveWidget(menu, direction) {



================================================
FILE: src/browser/base/content/browser-box-inc-xhtml.patch
================================================
diff --git a/browser/base/content/browser-box.inc.xhtml b/browser/base/content/browser-box.inc.xhtml
index 2faed30e09511c381051bc40910a883d1d7bc10d..6ba2d0d91235ed33e4b4bad281c974b5960beaa2 100644
--- a/browser/base/content/browser-box.inc.xhtml
+++ b/browser/base/content/browser-box.inc.xhtml
@@ -25,7 +25,13 @@
     </stack>
   </vbox>
   <splitter id="sidebar-splitter" class="chromeclass-extrachrome sidebar-splitter" resizebefore="sibling" resizeafter="none" hidden="true"/>
+<vbox flex="1" id="zen-appcontent-wrapper">
+  <html:div id="zen-appcontent-navbar-wrapper">
+    <html:div id="zen-appcontent-navbar-container"></html:div>
+  </html:div>
+  <hbox id="zen-tabbox-wrapper" flex="1">
   <tabbox id="tabbrowser-tabbox" flex="1" tabcontainer="tabbrowser-tabs">
+#include zen-tabbrowser-elements.inc.xhtml
     <tabpanels id="tabbrowser-tabpanels" flex="1" selectedIndex="0"/>
   </tabbox>
   <splitter id="ai-window-splitter" class="chromeclass-extrachrome sidebar-splitter" resizebefore="none" resizeafter="sibling" hidden="true"/>
@@ -34,3 +40,5 @@
     </stack>
   </vbox>
 </hbox>
+</vbox>
+</hbox>



================================================
FILE: src/browser/base/content/browser-commands-js.patch
================================================
diff --git a/browser/base/content/browser-commands.js b/browser/base/content/browser-commands.js
index 939ca497b882b3f4200141ba1b6764fb5c846f45..09eb945215bb26e18c4414850bc4233ad5bd760c 100644
--- a/browser/base/content/browser-commands.js
+++ b/browser/base/content/browser-commands.js
@@ -14,6 +14,10 @@ var BrowserCommands = {
     const where = BrowserUtils.whereToOpenLink(aEvent, false, true);
 
     if (where == "current") {
+      if (!gBrowser.webNavigation.canGoBack && gZenCommonActions.shouldCloseTabOnBack()) {
+        gBrowser.removeTab(gBrowser.selectedTab, { animate: true });
+        return;
+      }
       try {
         gBrowser.goBack();
       } catch (ex) {}
@@ -315,6 +319,10 @@ var BrowserCommands = {
       }
     }
 
+    if (gZenUIManager.handleNewTab(werePassedURL, searchClipboard, where)) {
+      return;
+    }
+
     // A notification intended to be useful for modular peformance tracking
     // starting as close as is reasonably possible to the time when the user
     // expressed the intent to open a new tab.  Since there are a lot of
@@ -399,6 +407,11 @@ var BrowserCommands = {
       return;
     }
 
+    if (gBrowser.selectedTab.hasAttribute("zen-empty-tab")) {
+      gZenWorkspaces.handleTabCloseWindow();
+      return;
+    }
+
     // Keyboard shortcuts that would close a tab that is pinned select the first
     // unpinned tab instead.
     if (
@@ -406,8 +419,8 @@ var BrowserCommands = {
       (event.ctrlKey || event.metaKey || event.altKey) &&
       gBrowser.selectedTab.pinned
     ) {
-      if (gBrowser.visibleTabs.length > gBrowser.pinnedTabCount) {
-        gBrowser.tabContainer.selectedIndex = gBrowser.pinnedTabCount;
+      if (gBrowser.visibleTabs.length > gBrowser._numVisiblePinTabs) {
+        gBrowser.tabContainer.selectedIndex = gBrowser._numVisiblePinTabs;
       }
       return;
     }



================================================
FILE: src/browser/base/content/browser-development-helpers-js.patch
================================================
diff --git a/browser/base/content/browser-development-helpers.js b/browser/base/content/browser-development-helpers.js
index 5155b280b8ff1dec8c53b12861ed4401f5499659..2184440335bbbf397f14d7c5e4b099f57022d03a 100644
--- a/browser/base/content/browser-development-helpers.js
+++ b/browser/base/content/browser-development-helpers.js
@@ -33,7 +33,7 @@ var DevelopmentHelpers = {
     key.setAttribute("key", "r");
     key.setAttribute("modifiers", "accel,alt");
     key.setAttribute("command", "cmd_quickRestart");
-    document.getElementById("mainKeyset").prepend(key);
+    document.getElementById(ZEN_KEYSET_ID).prepend(key);
 
     let menuitem = document.createXULElement("menuitem");
     menuitem.setAttribute("id", "menu_FileRestartItem");



================================================
FILE: src/browser/base/content/browser-fullScreenAndPointerLock-js.patch
================================================
diff --git a/browser/base/content/browser-fullScreenAndPointerLock.js b/browser/base/content/browser-fullScreenAndPointerLock.js
index 0e1aa344c084abdce40058278b12a042a4510997..50c06aaab823cb8572eee2ad53a7b709b1cfd084 100644
--- a/browser/base/content/browser-fullScreenAndPointerLock.js
+++ b/browser/base/content/browser-fullScreenAndPointerLock.js
@@ -425,8 +425,6 @@ var FullScreen = {
     gNavToolbox.classList.toggle("fullscreen-with-menubar", shiftSize > 0);
 
     let transform = shiftSize > 0 ? `translateY(${shiftSize}px)` : "";
-    gNavToolbox.style.transform = transform;
-    gURLBar.style.transform = gURLBar.hasAttribute("breakout") ? transform : "";
     if (shiftSize > 0) {
       // If the mouse tracking missed our fullScreenToggler, then the toolbox
       // might not have been shown before the menubar is animated down. Make



================================================
FILE: src/browser/base/content/browser-gestureSupport-js.patch
================================================
diff --git a/browser/base/content/browser-gestureSupport.js b/browser/base/content/browser-gestureSupport.js
index a28d54bf72c0e6495b9586f220d1859aac794936..66154668b9f85ffbaacea1e8351370659260227b 100644
--- a/browser/base/content/browser-gestureSupport.js
+++ b/browser/base/content/browser-gestureSupport.js
@@ -832,7 +832,7 @@ var gHistorySwipeAnimation = {
    * @return true if there is a previous page in history, false otherwise.
    */
   canGoBack: function HSA_canGoBack() {
-    return gBrowser.webNavigation.canGoBack;
+    return gBrowser.webNavigation.canGoBack || gZenCommonActions.shouldCloseTabOnBack();
   },
 
   /**



================================================
FILE: src/browser/base/content/browser-init-js.patch
================================================
diff --git a/browser/base/content/browser-init.js b/browser/base/content/browser-init.js
index 288a79e5fb4da24cffcb30fb4b8adc9604b15d26..bf9bd3e666dfb6298dbeec0546cae223a7bc68f0 100644
--- a/browser/base/content/browser-init.js
+++ b/browser/base/content/browser-init.js
@@ -200,6 +200,7 @@ var gBrowserInit = {
   },
 
   onLoad() {
+    Services.scriptloader.loadSubScript("chrome://browser/content/zenThemeModifier.js", window);
     gBrowser.addEventListener("DOMUpdateBlockedPopups", e =>
       PopupAndRedirectBlockerObserver.handleEvent(e)
     );
@@ -375,6 +376,7 @@ var gBrowserInit = {
 
     this._handleURIToLoad();
 
+    gZenWorkspaces.selectStartPage();
     Services.obs.addObserver(gIdentityHandler, "perm-changed");
     Services.obs.addObserver(gRemoteControl, "devtools-socket");
     Services.obs.addObserver(gRemoteControl, "marionette-listening");



================================================
FILE: src/browser/base/content/browser-js.patch
================================================
diff --git a/browser/base/content/browser.js b/browser/base/content/browser.js
index 16cf3e201358d24c9216f9b06b0ba3b89684d32a..2cfa507bbdc96b8a293b18595d0beae031fe6119 100644
--- a/browser/base/content/browser.js
+++ b/browser/base/content/browser.js
@@ -33,6 +33,7 @@ ChromeUtils.defineESModuleGetters(this, {
     "resource://gre/modules/ContextualIdentityService.sys.mjs",
   CustomizableUI:
     "moz-src:///browser/components/customizableui/CustomizableUI.sys.mjs",
+  ZenCustomizableUI: "resource:///modules/ZenCustomizableUI.sys.mjs",
   DevToolsSocketStatus:
     "resource://devtools/shared/security/DevToolsSocketStatus.sys.mjs",
   DownloadUtils: "resource://gre/modules/DownloadUtils.sys.mjs",
@@ -819,7 +820,12 @@ function UpdateBackForwardCommands(aWebNavigation) {
 
   var backDisabled = backCommand.hasAttribute("disabled");
   var forwardDisabled = forwardCommand.hasAttribute("disabled");
-  if (backDisabled == aWebNavigation.canGoBack) {
+  var canGoBack = aWebNavigation.canGoBack;
+  if (!canGoBack) {
+    canGoBack = gZenCommonActions.shouldCloseTabOnBack();
+  }
+  
+  if (backDisabled == canGoBack) {
     if (backDisabled) {
       backCommand.removeAttribute("disabled");
     } else {
@@ -2305,6 +2311,8 @@ var XULBrowserWindow = {
     AboutReaderParent.updateReaderButton(gBrowser.selectedBrowser);
     TranslationsParent.onLocationChange(gBrowser.selectedBrowser);
 
+    gZenPinnedTabManager.onLocationChange(gBrowser.selectedBrowser);
+
     PictureInPicture.updateUrlbarToggle(gBrowser.selectedBrowser);
 
     if (!gMultiProcessBrowser) {
@@ -3818,7 +3826,7 @@ function warnAboutClosingWindow() {
 
   if (!isPBWindow && !toolbar.visible) {
     return gBrowser.warnAboutClosingTabs(
-      gBrowser.openTabs.length,
+      gBrowser.visibleTabs.filter(t => t.getAttribute("pending")!=="true").length,
       gBrowser.closingTabsEnum.ALL
     );
   }
@@ -3858,7 +3866,7 @@ function warnAboutClosingWindow() {
     return (
       isPBWindow ||
       gBrowser.warnAboutClosingTabs(
-        gBrowser.openTabs.length,
+        gBrowser.visibleTabs.filter(t => t.getAttribute("pending")!=="true").length,
         gBrowser.closingTabsEnum.ALL
       )
     );
@@ -3883,7 +3891,7 @@ function warnAboutClosingWindow() {
     AppConstants.platform != "macosx" ||
     isPBWindow ||
     gBrowser.warnAboutClosingTabs(
-      gBrowser.openTabs.length,
+      gBrowser.visibleTabs.filter(t => t.getAttribute("pending")!=="true").length,
       gBrowser.closingTabsEnum.ALL
     )
   );
@@ -4806,6 +4814,9 @@ var ConfirmationHint = {
     MozXULElement.insertFTLIfNeeded("toolkit/branding/brandings.ftl");
     MozXULElement.insertFTLIfNeeded("browser/confirmationHints.ftl");
     document.l10n.setAttributes(this._message, messageId, options.l10nArgs);
+    if (window.gZenUIManager?.showToast) {
+      return window.gZenUIManager.showToast(messageId, options);
+    }
     if (options.descriptionId) {
       document.l10n.setAttributes(this._description, options.descriptionId);
       this._description.hidden = false;



================================================
FILE: src/browser/base/content/browser-pageActions-js.patch
================================================
diff --git a/browser/base/content/browser-pageActions.js b/browser/base/content/browser-pageActions.js
index 00da33bc11189db17b6a2e656acb3a778531197c..bdca62e9ed5513e1e1922f1f9498755f5459e0c2 100644
--- a/browser/base/content/browser-pageActions.js
+++ b/browser/base/content/browser-pageActions.js
@@ -449,7 +449,7 @@ var BrowserPageActions = {
       document.getElementById(
         action && this.urlbarButtonNodeIDForActionID(action.id)
       ),
-      document.getElementById(this.mainButtonNode.id),
+      document.getElementById("zen-site-data-icon-button"),
       document.getElementById("identity-icon"),
     ];
     for (let node of potentialAnchorNodes) {



================================================
FILE: src/browser/base/content/browser-places-js.patch
================================================
diff --git a/browser/base/content/browser-places.js b/browser/base/content/browser-places.js
index 925d74575827340960706718a29426bdf079b47c..921feb0e4229706b4691a43c9fc1005cbfd90999 100644
--- a/browser/base/content/browser-places.js
+++ b/browser/base/content/browser-places.js
@@ -249,6 +249,8 @@ var StarUI = {
       });
     }
 
+    this._setIconAndPreviewImage();
+
     let onPanelReady = fn => {
       let target = this.panel;
       if (target.parentNode) {
@@ -300,6 +302,21 @@ var StarUI = {
     }
   },
 
+  _setIconAndPreviewImage() {
+    let faviconImage = this._element("zenEditBookmarkPanelFavicon");
+    faviconImage.removeAttribute("iconloadingprincipal");
+    faviconImage.removeAttribute("src");
+
+    let tab = gBrowser.selectedTab;
+    if (tab.hasAttribute("image") && !tab.hasAttribute("busy")) {
+      faviconImage.setAttribute(
+        "iconloadingprincipal",
+        tab.getAttribute("iconloadingprincipal")
+      );
+      faviconImage.setAttribute("src", tab.getAttribute("image"));
+    }
+  },
+
   removeBookmarkButtonCommand: function SU_removeBookmarkButtonCommand() {
     this._removeBookmarksOnPopupHidden = true;
     this.panel.hidePopup();
@@ -1806,6 +1823,7 @@ var BookmarkingUI = {
       document.getElementById("context-bookmarkpage"),
       PanelMultiView.getViewNode(document, "panelMenuBookmarkThisPage"),
       document.getElementById("pageAction-panel-bookmark"),
+      document.getElementById("zen-site-data-icon-button"),
     ]) {
       if (!element) {
         // The page action panel element may not have been created yet.



================================================
FILE: src/browser/base/content/browser-profiles-js.patch
================================================
diff --git a/browser/base/content/browser-profiles.js b/browser/base/content/browser-profiles.js
index fb260896c14b90734182d2f232e33350287f0209..9984a2d18dfd33e3606adac0e8c5f80f7e35e682 100644
--- a/browser/base/content/browser-profiles.js
+++ b/browser/base/content/browser-profiles.js
@@ -70,6 +70,7 @@ var gProfiles = {
   },
 
   toggleProfileMenus(isEnabled) {
+    isEnabled &&= Services.prefs.getBoolPref("browser.profiles.enabled", false);
     let profilesMenu = document.getElementById("profiles-menu");
     profilesMenu.hidden = !isEnabled;
   },



================================================
FILE: src/browser/base/content/browser-sets-inc.patch
================================================
diff --git a/browser/base/content/browser-sets.inc b/browser/base/content/browser-sets.inc
index 139f7c2617f5e4843e0072435818c859def2f6bb..6ac1467b4117e2d76102d6977f13268827b4588f 100644
--- a/browser/base/content/browser-sets.inc
+++ b/browser/base/content/browser-sets.inc
@@ -413,3 +413,4 @@
          internal="true"/>
 #endif
   </keyset>
+#include zen-keysets.inc.xhtml



================================================
FILE: src/browser/base/content/browser-sets-js.patch
================================================
diff --git a/browser/base/content/browser-sets.js b/browser/base/content/browser-sets.js
index 94a05a510204c027e482fda33deaf3dc0d7471c9..da7cda8e2708a29cf6cc3bf667240d37ef66ecfb 100644
--- a/browser/base/content/browser-sets.js
+++ b/browser/base/content/browser-sets.js
@@ -266,7 +266,7 @@ document.addEventListener(
         }
       });
 
-    document.getElementById("mainKeyset").addEventListener("command", event => {
+    document.getElementById("zenKeyset").addEventListener("command", event => {
       const SIDEBAR_REVAMP_PREF = "sidebar.revamp";
       const SIDEBAR_REVAMP_ENABLED = Services.prefs.getBoolPref(
         SIDEBAR_REVAMP_PREF,
@@ -304,6 +304,8 @@ document.addEventListener(
               panel: SidebarController.currentID,
               opened: SidebarController._state.launcherExpanded,
             });
+          } else {
+            SidebarController.toggle();
           }
           break;
         case "key_gotoHistory":



================================================
FILE: src/browser/base/content/browser-siteIdentity-js.patch
================================================
diff --git a/browser/base/content/browser-siteIdentity.js b/browser/base/content/browser-siteIdentity.js
index 8369e546866aa313e62f808acb8d51afa8da4f9b..7a4b20dd5922425cebfac542893a52cd68a26449 100644
--- a/browser/base/content/browser-siteIdentity.js
+++ b/browser/base/content/browser-siteIdentity.js
@@ -451,11 +451,6 @@ var gIdentityHandler = {
     // avoid a pretty ugly transition. Also hide it even
     // if the update resulted in no site data, to keep the
     // illusion that clicking the button had an effect.
-    let hidden = new Promise(c => {
-      this._identityPopup.addEventListener("popuphidden", c, { once: true });
-    });
-    PanelMultiView.hidePopup(this._identityPopup);
-    await hidden;
 
     let baseDomain = SiteDataManager.getBaseDomainFromHost(this._uri.host);
     if (SiteDataManager.promptSiteDataRemoval(window, [baseDomain])) {
@@ -832,7 +827,7 @@ var gIdentityHandler = {
       // This is a secure internal Firefox page.
       this._identityBox.className = "chromeUI";
       let brandBundle = document.getElementById("bundle_brand");
-      icon_label = brandBundle.getString("brandShorterName");
+      icon_label = brandBundle.getString("brandShortName");
     } else if (this._pageExtensionPolicy) {
       // This is a WebExtension page.
       this._identityBox.className = "extensionPage";
@@ -1161,6 +1156,12 @@ var gIdentityHandler = {
       }
     }
 
+    if (connection == "chrome" || connection == "extension" || connection == "file") {
+      document.getElementById("identity-popup-mainView-panel-header").setAttribute("hidden", "true");
+    } else {
+      document.getElementById("identity-popup-mainView-panel-header").removeAttribute("hidden");
+    }
+
     // Push the appropriate strings out to the UI.
     document.l10n.setAttributes(
       this._identityPopupMainViewHeaderLabel,



================================================
FILE: src/browser/base/content/browser-xhtml.patch
================================================
diff --git a/browser/base/content/browser.xhtml b/browser/base/content/browser.xhtml
index ac82dcd286b5502d1ba38ed740813db08941eb7b..c26b3f0468ee6acd7716d4e8a24ad8cc84fce186 100644
--- a/browser/base/content/browser.xhtml
+++ b/browser/base/content/browser.xhtml
@@ -19,6 +19,7 @@
         sizemode="normal"
         retargetdocumentfocus="urlbar-input"
         scrolling="false"
+        zen-before-loaded="true"
         persist="screenX screenY width height sizemode"
         data-l10n-sync="true">
 <head>
@@ -99,8 +100,10 @@
 
   <title data-l10n-id="browser-main-window-default-title"></title>
 
+#include zen-preloaded.inc.xhtml
   <script src="chrome://browser/content/global-scripts.js"></script>
   <script src="chrome://browser/content/browser-main.js"></script>
+#include zen-assets.inc.xhtml
 </head>
 <html:body xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
 # All sets except for popupsets (commands, keys, and stringbundles)
@@ -133,9 +136,11 @@
     </vbox>
   </html:template>
 
+<hbox id="zen-main-app-wrapper" flex="1" class="browser-toolbox-background">
 #include navigator-toolbox.inc.xhtml
 
 #include browser-box.inc.xhtml
+</hbox>
 
   <html:template id="customizationPanel">
     <box id="customization-container" flex="1" hidden="true"><![CDATA[



================================================
FILE: src/browser/base/content/main-popupset-inc-xhtml.patch
================================================
diff --git a/browser/base/content/main-popupset.inc.xhtml b/browser/base/content/main-popupset.inc.xhtml
index 79b604c5965ba03762acbf085c9288c73001ec24..d75d5481e5de93c592850e39d4b0b4fd07e12678 100644
--- a/browser/base/content/main-popupset.inc.xhtml
+++ b/browser/base/content/main-popupset.inc.xhtml
@@ -226,6 +226,10 @@
            hidden="true"
            tabspecific="true"
            aria-labelledby="editBookmarkPanelTitle">
+    <html:div id="zenEditBookmarkPanelFaviconContainer">
+      <html:img id="zenEditBookmarkPanelFavicon"/>
+    </html:div>
+    <vbox>
       <box class="panel-header">
         <html:h1>
           <html:span id="editBookmarkPanelTitle"/>
@@ -251,6 +255,7 @@
                   class="footer-button"/>
         </html:moz-button-group>
       </vbox>
+    </vbox>
     </panel>
   </html:template>
 
@@ -656,6 +661,8 @@
 
 #include popup-notifications.inc.xhtml
 
+#include zen-popupset.inc.xhtml
+
 #include ../../components/customizableui/content/panelUI.inc.xhtml
 #include ../../components/controlcenter/content/identityPanel.inc.xhtml
 #include ../../components/controlcenter/content/permissionPanel.inc.xhtml



================================================
FILE: src/browser/base/content/navigator-toolbox-inc-xhtml.patch
================================================
diff --git a/browser/base/content/navigator-toolbox.inc.xhtml b/browser/base/content/navigator-toolbox.inc.xhtml
index 68c24f730d56f548cf1e286198a04f8363529378..eb9aa5e77cf549062d8d3770f8057ceafe67c317 100644
--- a/browser/base/content/navigator-toolbox.inc.xhtml
+++ b/browser/base/content/navigator-toolbox.inc.xhtml
@@ -2,7 +2,7 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
-<toolbox id="navigator-toolbox" class="browser-toolbox-background">
+<toolbox id="navigator-toolbox" class="browser-toolbox-background" persist="width style">
   <script src="chrome://browser/content/navigator-toolbox.js" />
 
   <!-- Menu -->
@@ -18,9 +18,8 @@
 #include browser-menubar.inc
     </toolbaritem>
     <spacer flex="1" skipintoolbarset="true" style="order: 1000;"/>
-#include titlebar-items.inc.xhtml
   </toolbar>
-
+<hbox id="titlebar">
   <toolbar id="TabsToolbar"
            class="browser-toolbar browser-titlebar"
            fullscreentoolbar="true"
@@ -62,6 +61,9 @@
           <html:sidebar-pins-promo id="drag-to-pin-promo-card"></html:sidebar-pins-promo>
           <arrowscrollbox id="pinned-tabs-container" orient="horizontal" clicktoscroll=""></arrowscrollbox>
           <splitter orient="vertical" id="vertical-pinned-tabs-splitter" resizebefore="sibling" resizeafter="none" hidden="true"/>
+<html:div id="zen-overflow-extensions-list" skipintoolbarset="true"></html:div>
+<html:div id="zen-essentials" skipintoolbarset="true"></html:div>
+<html:div id="zen-tabs-wrapper">
           <hbox class="tab-drop-indicator" hidden="true"/>
           <arrowscrollbox id="tabbrowser-arrowscrollbox" orient="horizontal" flex="1" clicktoscroll="" scrolledtostart="" scrolledtoend="">
             <tab is="tabbrowser-tab" class="tabbrowser-tab" selected="true" visuallyselected="" fadein=""/>
@@ -81,6 +83,7 @@
                               tooltip="dynamic-shortcut-tooltip"
                               data-l10n-id="tabs-toolbar-new-tab"/>
           <html:span id="tabbrowser-tab-a11y-desc" hidden="true"/>
+</html:div>
         </tabs>
 
         <toolbarbutton id="new-tab-button"
@@ -106,9 +109,10 @@
 #include private-browsing-indicator.inc.xhtml
     <toolbarbutton class="content-analysis-indicator toolbarbutton-1 content-analysis-indicator-icon"/>
 
-#include titlebar-items.inc.xhtml
+#include zen-sidebar-icons.inc.xhtml
 
   </toolbar>
+</hbox>
 
   <toolbar id="nav-bar"
            class="browser-toolbar chromeclass-location"



================================================
FILE: src/browser/base/content/navigator-toolbox-js.patch
================================================
diff --git a/browser/base/content/navigator-toolbox.js b/browser/base/content/navigator-toolbox.js
index 15469e9d9b91c1eaef2578c9e43b6999edac3392..553402b41bc15f7cd99bf87c54416dc66d7c03e7 100644
--- a/browser/base/content/navigator-toolbox.js
+++ b/browser/base/content/navigator-toolbox.js
@@ -6,7 +6,7 @@
 document.addEventListener(
   "DOMContentLoaded",
   () => {
-    const navigatorToolbox = document.getElementById("navigator-toolbox");
+    const navigatorToolbox = document.getElementById("browser");
     const widgetOverflow = document.getElementById("widget-overflow");
 
     function onPopupShowing(event) {
@@ -184,6 +184,7 @@ document.addEventListener(
         #forward-button,
         #reload-button ,
         #reader-mode-button,
+        #zen-tabs-wrapper,
         #picture-in-picture-button,
         #urlbar-zoom-button,
         #star-button-box,
@@ -206,6 +207,7 @@ document.addEventListener(
         case "vertical-tabs-newtab-button":
         case "tabs-newtab-button":
         case "new-tab-button":
+        case "zen-tabs-wrapper":
           gBrowser.handleNewTabMiddleClick(element, event);
           break;
 
@@ -318,6 +320,7 @@ document.addEventListener(
         #downloads-button,
         #fxa-toolbar-menu-button,
         #unified-extensions-button,
+        #zen-site-data-icon-button,
         #library-button,
         #split-view-button
       `);
@@ -401,6 +404,16 @@ document.addEventListener(
           gUnifiedExtensions.togglePanel(event);
           break;
 
+        case "zen-site-data-icon-button":
+          gUnifiedExtensions.togglePanel(
+            event,
+            null,
+            window.gZenSiteDataPanel.unifiedPanel,
+            window.gZenSiteDataPanel.unifiedPanelView,
+            window.gZenSiteDataPanel.anchor,
+          );
+          break;
+
         case "library-button":
           PanelUI.showSubView("appMenu-libraryView", element, event);
           break;



================================================
FILE: src/browser/base/content/nsContextMenu-sys-mjs.patch
================================================
diff --git a/browser/base/content/nsContextMenu.sys.mjs b/browser/base/content/nsContextMenu.sys.mjs
index d9fbd3a9a78c993c89efa75be9e2ffc975158aba..e64382b32580c2d113774e76e3587002ce0aebad 100644
--- a/browser/base/content/nsContextMenu.sys.mjs
+++ b/browser/base/content/nsContextMenu.sys.mjs
@@ -371,6 +371,9 @@ export class nsContextMenu {
     this.initPDFItems();
     this.initTextFragmentItems();
 
+    this.showItem("context-zenSplitLink", this.onLink && !this.onMailtoLink && !this.onTelLink);
+    this.showItem("context-zenOpenLinkInGlance", this.onLink && !this.onMailtoLink && !this.onTelLink); 
+
     this.showHideSeparators(aXulMenu);
     if (!aXulMenu.showHideSeparators) {
       // Set the showHideSeparators function on the menu itself so that



================================================
FILE: src/browser/base/content/zen-assets.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

#include zen-locales.inc.xhtml

# Styles used all over the browser
<linkset>
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-animations.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-sidebar.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-toolbar.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-tabs.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-browser-ui.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-gradient-generator.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-panel-ui.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-single-components.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-browser-container.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-omnibox.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-workspaces.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-decks.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-folders.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-glance.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-popup.css" />

<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-compact-mode.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/skin/zen-icons/icons.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-branding.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-welcome.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-media-controls.css" />
<link rel="stylesheet" type="text/css" href="chrome://browser/content/zen-styles/zen-download-box-animation.css" />
</linkset>

# Startup "preloaded" scripts that requre globals such as gBrowser and gURLBar
# JS files which are needed by browser.xhtml but no other top level windows to
# support MacOS specific features should be loaded directly from browser-main.js
# rather than this file.
#
# If you update this list, you may need to add a mapping within the following
# file so that ESLint works correctly:
# tools/lint/eslint/eslint-plugin-mozilla/lib/environments/browser-window.js
<script type="text/javascript" src="chrome://browser/content/ZenPreloadedScripts.js"></script>

# Scripts used all over the browser
<script type="module" src="chrome://browser/content/zen-components/ZenFolder.mjs"></script>

<script type="module" src="chrome://browser/content/zen-components/ZenMediaController.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenWorkspaceCreation.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenGlanceManager.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenPinnedTabManager.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenViewSplitter.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenFolders.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenDownloadAnimation.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenEmojiPicker.mjs"></script>



================================================
FILE: src/browser/base/content/zen-assets.jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

#include ../../../zen/common/jar.inc.mn
#include ../../../zen/compact-mode/jar.inc.mn
#include ../../../zen/drag-and-drop/jar.inc.mn
#include ../../../zen/split-view/jar.inc.mn
#include ../../../zen/mods/jar.inc.mn
#include ../../../zen/workspaces/jar.inc.mn
#include ../../../zen/tabs/jar.inc.mn
#include ../../../zen/kbs/jar.inc.mn
#include ../../../zen/glance/jar.inc.mn
#include ../../../zen/folders/jar.inc.mn
#include ../../../zen/welcome/jar.inc.mn
#include ../../../zen/media/jar.inc.mn
#include ../../../zen/downloads/jar.inc.mn
#include ../../../zen/images/jar.inc.mn
#include ../../../zen/vendor/jar.inc.mn
#include ../../../zen/fonts/jar.inc.mn



================================================
FILE: src/browser/base/content/zen-commands.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<commandset id="zenCommandSet">
  <command id="cmd_zenCompactModeToggle" />
  <command id="cmd_zenCompactModeShowSidebar" />
  <command id="cmd_toggleCompactModeIgnoreHover" />

  <command id="cmd_zenWorkspaceForward" />
  <command id="cmd_zenWorkspaceBackward" />

  <command id="cmd_zenSplitViewGrid" />
  <command id="cmd_zenSplitViewVertical" />
  <command id="cmd_zenSplitViewHorizontal" />
  <command id="cmd_zenSplitViewUnsplit" />
  <command id="cmd_zenSplitViewLinkInNewTab" />
  <command id="cmd_zenSplitViewContextMenu" />
  <command id="cmd_zenNewEmptySplit" />

  <!-- Workspace commands -->
  <command id="cmd_zenWorkspaceSwitch1" />
  <command id="cmd_zenWorkspaceSwitch2" />
  <command id="cmd_zenWorkspaceSwitch3" />
  <command id="cmd_zenWorkspaceSwitch4" />
  <command id="cmd_zenWorkspaceSwitch5" />
  <command id="cmd_zenWorkspaceSwitch6" />
  <command id="cmd_zenWorkspaceSwitch7" />
  <command id="cmd_zenWorkspaceSwitch8" />
  <command id="cmd_zenWorkspaceSwitch9" />
  <command id="cmd_zenWorkspaceSwitch10" />

  <command id="cmd_zenOpenZenThemePicker" />
  <command id="cmd_zenChangeWorkspaceTab" />
  <command id="cmd_zenToggleTabsOnRight" />

  <command id="cmd_zenReplacePinnedUrlWithCurrent" />
  <command id="cmd_contextZenAddToEssentials" />
  <command id="cmd_contextZenRemoveFromEssentials" />

  <command id="cmd_zenCtxDeleteWorkspace" />
  <command id="cmd_zenUnloadWorkspace" />
  <command id="cmd_zenChangeWorkspaceName" />
  <command id="cmd_zenChangeWorkspaceIcon" />
  <command id="cmd_zenReorderWorkspaces" />
  <command id="cmd_zenOpenWorkspaceCreation" />

  <command id="cmd_zenPinnedTabReset" />
  <command id="cmd_zenPinnedTabResetNoTab" />

  <command id="cmd_zenToggleSidebar" />

  <command id="cmd_zenCopyCurrentURL" />
  <command id="cmd_zenCopyCurrentURLMarkdown" />

  <command id="cmd_zenGlanceClose" />
  <command id="cmd_zenGlanceExpand" />
  <command id="cmd_zenGlanceSplit" />

  <command id="cmd_zenOpenFolderCreation" />

  <command id="cmd_zenTogglePinTab" />
  <command id="cmd_zenCloseUnpinnedTabs" />

  <command id="cmd_zenNewNavigatorUnsynced" />
</commandset>



================================================
FILE: src/browser/base/content/zen-keysets.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

#include zen-commands.inc.xhtml

<keyset id="zenKeyset" />



================================================
FILE: src/browser/base/content/zen-locales.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<linkset>
<link rel="localization" href="browser/zen-workspaces.ftl"/>
<link rel="localization" href="browser/zen-split-view.ftl"/>
<link rel="localization" href="browser/zen-general.ftl"/>
<link rel="localization" href="browser/zen-menubar.ftl"/>
<link rel="localization" href="browser/zen-vertical-tabs.ftl"/>
<link rel="localization" href="browser/zen-folders.ftl"/>
</linkset>



================================================
FILE: src/browser/base/content/zen-popupset.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

#include zen-panels/gradient-generator.inc
#include zen-panels/emojis-picker.inc
#include zen-panels/folders-search.inc
#include zen-panels/site-data.inc

#include zen-panels/popups.inc



================================================
FILE: src/browser/base/content/zen-preloaded.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# This needs to be here, before all the other scripts, because it's used before
# the window is fully loaded.
# Make sure they are loaded before the global-scripts.inc file.
<script type="text/javascript" src="chrome://browser/content/zen-sets.js"></script>

<script type="module" src="chrome://browser/content/zen-components/ZenHasPolyfill.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenWorkspaces.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenWorkspace.mjs"></script>
<script type="module" src="chrome://browser/content/zen-components/ZenWorkspaceIcons.mjs"></script>


================================================
FILE: src/browser/base/content/zen-sidebar-icons.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

#include ../../../zen/media/zen-media-controls.inc.xhtml

<toolbar brighttext="true"
  id="zen-sidebar-foot-buttons"
  fullscreentoolbar="true"
  class="browser-toolbar customization-target"
  data-l10n-id="tabs-toolbar"
  customizable="true"
  skipintoolbarset="true"
  context="toolbar-context-menu"
  mode="icons">
  <toolbarbutton removable="true" class="chromeclass-toolbar-additional toolbarbutton-1 zen-sidebar-action-button" id="zen-expand-sidebar-button" command="cmd_zenToggleSidebar" data-l10n-id="sidebar-zen-expand"></toolbarbutton>
  <zen-workspace-icons id="zen-workspaces-button" overflows="false" removable="false"></zen-workspace-icons>
  <toolbarbutton removable="true" class="chromeclass-toolbar-additional toolbarbutton-1 zen-sidebar-action-button" id="zen-create-new-button" context="zenCreateNewPopup" data-l10n-id="sidebar-zen-create-new"></toolbarbutton>
</toolbar>



================================================
FILE: src/browser/base/content/zen-tabbrowser-elements.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<vbox id="zen-toast-container" />

#include ../../../zen/split-view/zen-splitview-overlay.inc.xhtml
#include ../../../zen/glance/zen-glance.inc.xhtml


================================================
FILE: src/browser/base/content/zen-panels/emojis-picker.inc
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<panel type="arrow" orient="vertical" id="PanelUI-zen-emojis-picker" position="bottomright topright" side="bottom">
  <hbox id="PanelUI-zen-picker-header">
    <toolbarbutton class="toolbarbutton-1" />
    <hbox id="PanelUI-zen-emojis-buttons-wrapper">
      <toolbarbutton id="PanelUI-zen-emojis-picker-change-emojis" class="selected" data-l10n-id="zen-icons-picker-emoji" />
      <toolbarbutton id="PanelUI-zen-emojis-picker-change-svg" data-l10n-id="zen-icons-picker-svg" />
    </hbox>
    <toolbarbutton id="PanelUI-zen-emojis-picker-none" class="toolbarbutton-1" />
  </hbox>
  <hbox id="PanelUI-zen-emojis-picker-pages">
    <vbox emojis="true">
      <hbox id="PanelUI-zen-emojis-picker-header">
        <html:input type="search" id="PanelUI-zen-emojis-picker-search" placeholder="Search emojis" />
      </hbox>
      <hbox id="PanelUI-zen-emojis-picker-list" />
    </vbox>
    <hbox svgs="true" id="PanelUI-zen-emojis-picker-svgs" />
  </hbox>
</panel>



================================================
FILE: src/browser/base/content/zen-panels/folders-search.inc
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<panel id="zen-folder-tabs-popup" type="arrow" orient="vertical" side="left">
  <hbox class="tabs-list-header" flex="1">
    <image class="zen-folder-tabs-list-search-icon" src="chrome://global/skin/icons/search-glass.svg"/>
    <html:input id="zen-folder-tabs-list-search" 
      data-l10n-id="zen-folders-search-placeholder" 
      data-l10n-args="{&quot;folder-name&quot;:&quot;&quot;}"
      type="search" />
  </hbox>
  <scrollbox class="zen-folder-tabs-list-scrollbox" flex="1">
    <vbox id="zen-folder-tabs-list"></vbox>
    <hbox id="zen-folder-tabs-search-no-results" hidden="true" flex="1" data-l10n-id="zen-folders-search-no-results" />
  </scrollbox>
</panel>



================================================
FILE: src/browser/base/content/zen-panels/gradient-generator.inc
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<panel flip="side" type="arrow" popupalign="center" orient="vertical" id="PanelUI-zen-gradient-generator" position="bottomright topright" mainview="true" side="left">
  <panelmultiview id="PanelUI-zen-gradient-generator-multiview" mainViewId="PanelUI-zen-gradient-generator-view">
    <panelview id="PanelUI-zen-gradient-generator-view" class="PanelUI-subView zen-theme-picker" role="document" mainview-with-header="true" has-custom-header="true">
      <hbox class="zen-theme-picker-gradient">
        <hbox id="PanelUI-zen-gradient-generator-scheme">
          <button id="PanelUI-zen-gradient-generator-scheme-auto" class="subviewbutton"/>
          <button id="PanelUI-zen-gradient-generator-scheme-light" class="subviewbutton"/>
          <button id="PanelUI-zen-gradient-generator-scheme-dark" class="subviewbutton"/> 
        </hbox>
        <hbox id="PanelUI-zen-gradient-generator-color-actions">
          <button id="PanelUI-zen-gradient-generator-color-add" class="subviewbutton" />
          <button id="PanelUI-zen-gradient-generator-color-remove" class="subviewbutton" />
          <button id="PanelUI-zen-gradient-generator-color-toggle-algo" class="subviewbutton" />
        </hbox>
        <label data-l10n-id="zen-panel-ui-gradient-click-to-add" id="PanelUI-zen-gradient-generator-color-click-to-add"></label>
      </hbox>
      <hbox>
        <toolbarbutton id="PanelUI-zen-gradient-generator-color-page-left" class="toolbarbutton-1" disabled="true" />
        <hbox id="PanelUI-zen-gradient-generator-color-pages">
          <hbox>
            <box data-lightness="90" data-algo="float" data-num-dots="1" data-position="240,240" style="background: #f4efdf;"></box>
            <box data-lightness="80" data-algo="float" data-num-dots="1" data-position="233,157" style="background: #f0b8cd;"></box>
            <box data-lightness="80" data-algo="float" data-num-dots="1" data-position="236,111" style="background: #e9c3e3;"></box>
            <box data-lightness="70" data-algo="float" data-num-dots="1" data-position="234,173" style="background: #da7682;"></box>
            <box data-lightness="70" data-algo="float" data-num-dots="1" data-position="220,187" style="background: #eb8570;"></box>
            <box data-lightness="60" data-algo="float" data-num-dots="1" data-position="225,237" style="background: #dcce7f;"></box>
            <box data-lightness="60" data-algo="float" data-num-dots="1" data-position="147,195" style="background: #5becad;"></box>
            <box data-lightness="50" data-algo="float" data-num-dots="1" data-position="81,84" style="background: #919bb5;"></box>
          </hbox>
          <hbox>
            <box data-lightness="90" data-algo="analogous" data-num-dots="3" data-position="240,240"
                style="--c1: rgb(245, 237, 214); --c2: rgb(221, 243, 216); --c3: rgb(243, 216, 225);" />
            <box data-lightness="85" data-algo="analogous" data-num-dots="3" data-position="233,157"
                style="--c1: rgb(243, 190, 222); --c2: rgb(247, 222, 186); --c3: rgb(223, 195, 238);" />
            <box data-lightness="80" data-algo="analogous" data-num-dots="3" data-position="236,111"
                style="--c1: rgb(229, 179, 228); --c2: rgb(236, 172, 178); --c3: rgb(197, 185, 223);" />
            <box data-lightness="70" data-algo="analogous" data-num-dots="3" data-position="234,173"
                style="--c1: rgb(235, 122, 159); --c2: rgb(239, 239, 118); --c3: rgb(210, 133, 224);" />
            <box data-lightness="70" data-algo="analogous" data-num-dots="3" data-position="220,187"
                style="--c1: rgb(242, 115, 123); --c2: rgb(175, 242, 115); --c3: rgb(230, 125, 232);" />
            <box data-lightness="60" data-algo="analogous" data-num-dots="3" data-position="225,237"
                style="--c1: rgb(221, 205, 85); --c2: rgb(97, 212, 94); --c3: rgb(215, 91, 124);" />
            <box data-lightness="60" data-algo="analogous" data-num-dots="3" data-position="147,195"
                style="--c1: rgb(75, 231, 210); --c2: rgb(84, 175, 222); --c3: rgb(62, 244, 112);" />
            <box data-lightness="55" data-algo="analogous" data-num-dots="3" data-position="81,84"
                style="--c1: rgb(122, 132, 158); --c2: rgb(137, 117, 164); --c3: rgb(116, 162, 164);" />
          </hbox>
          <hbox>
            <box data-lightness="10" data-algo="float" data-num-dots="1" data-position="171,72" style="background:rgb(93, 86, 106);"></box>
            <box data-lightness="40" data-algo="float" data-num-dots="1" data-position="265,79" style="background: #997096;"></box>
            <box data-lightness="35" data-algo="float" data-num-dots="1" data-position="301,176" style="background: #956066;"></box>
            <box data-lightness="30" data-algo="float" data-num-dots="1" data-position="237,210" style="background: #9c6645;"></box>
            <box data-lightness="30" data-algo="float" data-num-dots="1" data-position="91,228" style="background: #517b6c;"></box>
            <box data-lightness="25" data-algo="float" data-num-dots="1" data-position="67,159" style="background: #576e75;"></box>
            <box data-lightness="20" data-algo="float" data-num-dots="1" data-position="314,235" style="background:rgb(131, 109, 95);"></box>
            <box data-lightness="20" data-algo="float" data-num-dots="1" data-position="118,215" style="background: #447464;"></box>
          </hbox>
          <hbox>
            <box data-lightness="10" data-algo="analogous" data-num-dots="3" data-position="171,72"
                style="--c1: rgb(23, 17, 34); --c2: rgb(37, 14, 35); --c3: rgb(18, 22, 33);" />
            <box data-lightness="40" data-algo="analogous" data-num-dots="3" data-position="265,79"
                style="--c1: rgb(128, 76, 124); --c2: rgb(141, 63, 66); --c3: rgb(97, 88, 116);" />
            <box data-lightness="35" data-algo="analogous" data-num-dots="3" data-position="301,176"
                style="--c1: rgb(122, 56, 64); --c2: rgb(126, 121, 52); --c3: rgb(111, 68, 110);" />
            <box data-lightness="30" data-algo="analogous" data-num-dots="3" data-position="237,210"
                style="--c1: rgb(131, 65, 22); --c2: rgb(64, 128, 25); --c3: rgb(122, 31, 91);" />
            <box data-lightness="30" data-algo="analogous" data-num-dots="3" data-position="91,228"
                style="--c1: rgb(45, 108, 85); --c2: rgb(52, 85, 101); --c3: rgb(52, 118, 35);" />
            <box data-lightness="25" data-algo="analogous" data-num-dots="3" data-position="67,159"
                style="--c1: rgb(45, 74, 83); --c2: rgb(46, 50, 81); --c3: rgb(38, 90, 65);" />
            <box data-lightness="20" data-algo="analogous" data-num-dots="3" data-position="314,235"
                style="--c1: rgb(64, 47, 38); --c2: rgb(55, 64, 38); --c3: rgb(59, 43, 52);" />
            <box data-lightness="20" data-algo="analogous" data-num-dots="3" data-position="118,215"
                style="--c1: rgb(22, 80, 61); --c2: rgb(26, 60, 76); --c3: rgb(27, 87, 15);" />
          </hbox>
          <hbox>
# Start from black to white in a span on 8 steps and.
# They must all go from the middle to the right side. They must always stay verically centered.
# And reach to 180 on the right side, meaning we must divide the width in 16 segments.
            <box data-type="explicit-black-white" data-algo="float" data-num-dots="1" 
                data-position="337.5,180" style="background: rgb(224, 224, 224);"></box>
            <box data-type="explicit-black-white" data-algo="float" data-num-dots="1" 
                data-position="337.5,180" style="background: rgb(224, 224, 224);"></box>
            <box data-type="explicit-black-white" data-algo="float" data-num-dots="1" 
                data-position="315,180" style="background: rgb(192, 192, 192);"></box>
            <box data-type="explicit-black-white" data-algo="float" data-num-dots="1" 
                data-position="292.5,180" style="background: rgb(160, 160, 160);"></box>
            <box data-type="explicit-black-white" data-algo="float" data-num-dots="1" 
                data-position="270,180" style="background: rgb(128, 128, 128);"></box>
            <box data-type="explicit-black-white" data-algo="float" data-num-dots="1" 
                data-position="247.5,180" style="background: rgb(96, 96, 96);"></box>
            <box data-type="explicit-black-white" data-algo="float" data-num-dots="1" 
                data-position="225,180" style="background: rgb(64, 64, 64);"></box>
            <box data-type="explicit-black-white" data-algo="float" data-num-dots="1" 
                data-position="202.5,180" style="background: rgb(32, 32, 32);"></box>
            <box data-type="explicit-black-white" data-algo="float" data-num-dots="1" 
                data-position="180,180" style="background: rgb(0, 0, 0);"></box>
          </hbox>
        </hbox>
        <toolbarbutton id="PanelUI-zen-gradient-generator-color-page-right" class="toolbarbutton-1" />
      </hbox>
      <hbox id="PanelUI-zen-gradient-generator-controls">
        <hbox id="PanelUI-zen-gradient-colors-wrapper">
          <vbox flex="1" id="PanelUI-zen-gradient-opacity-wrapper">
            <box id="PanelUI-zen-gradient-slider-wave">
              <svg viewBox="0 -7.605 455 70" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMid meet">
                <path d="M 51.373 27.395 L 419.634 27.395" 
                      fill="none" 
                      stroke-linecap="round" 
                      stroke-linejoin="round" 
                      style="stroke-width: 8px;"/>
                <defs>
                  <linearGradient id="PanelUI-zen-gradient-generator-slider-wave-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="light-dark(rgb(90, 90, 90), rgb(161, 161, 161))"/>
                    <stop offset="0%" stop-color="light-dark(rgb(90, 90, 90), rgba(161, 161, 161))"/>
                    <stop offset="100%" stop-color="light-dark(rgba(77, 77, 77, 0.5), rgba(161, 161, 161, 0.5))"/>
                  </linearGradient>
                </defs>
              </svg>
            </box>
            <html:input type="range" value="0.4" step="0.001" id="PanelUI-zen-gradient-generator-opacity"
#ifdef XP_MACOSX
              max="0.75"
              min="0.35"
#else
              max="0.9"
              min="0.35"
#endif
              />
          </vbox>
          <vbox id="PanelUI-zen-gradient-generator-texture-wrapper">
          </vbox>
        </hbox>
      </hbox>
      <vbox id="PanelUI-zen-gradient-generator-custom-colors">
        <vbox id="zen-theme-picker-color">
          <label data-l10n-id="zen-panel-ui-gradient-generator-custom-color"></label>
          <hbox>
            <html:input type="color" id="PanelUI-zen-gradient-generator-custom-input" />
            <html:input type="number" value="1" min="0" max="1" step="0.01" id="PanelUI-zen-gradient-generator-custom-opacity" />
            <toolbarbutton id="PanelUI-zen-gradient-generator-color-custom-add" class="subviewbutton">
              <image></image>
            </toolbarbutton>
          </hbox>
        </vbox>
        <vbox id="PanelUI-zen-gradient-generator-custom-list">
        </vbox>
      </vbox>
    </panelview>
  </panelmultiview>
</panel>



================================================
FILE: src/browser/base/content/zen-panels/popups.inc
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<menupopup id="zenCreateNewPopup">
  <menuitem data-l10n-id="zen-panel-ui-workspaces-create" command="cmd_zenOpenWorkspaceCreation" image="chrome://browser/skin/zen-icons/duplicate-tab.svg" />
  <menuitem data-l10n-id="zen-panel-ui-folder-create" command="cmd_zenOpenFolderCreation" image="chrome://browser/skin/zen-icons/folder.svg" />
  <menuseparator/>
  <menuitem data-l10n-id="zen-panel-ui-new-empty-split" command="cmd_zenNewEmptySplit" image="chrome://browser/skin/zen-icons/split.svg" />
  <menuitem data-l10n-id="tabs-toolbar-new-tab" command="cmd_newNavigatorTab" image="chrome://browser/skin/zen-icons/plus.svg" />
</menupopup>

<menupopup id="zenWorkspaceMoreActions">
  <menuitem id="context_zenEditWorkspace" data-l10n-id="zen-workspaces-panel-change-name" command="cmd_zenChangeWorkspaceName"/>
  <menuitem id="context_zenEditWorkspaceIcon" data-l10n-id="zen-workspaces-panel-change-icon" command="cmd_zenChangeWorkspaceIcon"/>
  <menuitem class="zenToolbarThemePicker"
          id="context_zenChangeWorkspaceTheme"
          data-l10n-id="zen-workspaces-change-theme"
          command="cmd_zenOpenZenThemePicker"/>
  <menu id="context_zenWorkspacesOpenInContainerTab"
    data-l10n-id="zen-workspaces-panel-context-default-profile"
    selection-type="single"
    node-type="link"
    hide-if-private-browsing="true"
    hide-if-usercontext-disabled="true">
    <menupopup />
  </menu>
  <menuitem id="context_zenUnloadWorkspace" data-l10n-id="zen-workspaces-panel-unload" command="cmd_zenUnloadWorkspace"/>
  <menuseparator id="context_zenWorkspacesSeparator"/>
  <menuseparator/>
  <menuitem id="context_zenReorderWorkspaces" data-l10n-id="zen-workspaces-panel-context-reorder" command="cmd_zenReorderWorkspaces"/>
  <menuseparator/>
  <menuitem data-l10n-id="zen-panel-ui-workspaces-create" command="cmd_zenOpenWorkspaceCreation"/>
  <menuitem id="context_zenDeleteWorkspace" data-l10n-id="zen-workspaces-panel-context-delete" command="cmd_zenCtxDeleteWorkspace"/>
</menupopup>

<menupopup id="zenFolderActions">
  <menuitem id="context_zenFolderRename" data-l10n-id="zen-folders-panel-rename-folder"/>
  <menuitem id="context_zenFolderChangeIcon" data-l10n-id="tab-context-zen-edit-icon"/>
  <menuseparator />
  <menuitem id="context_zenFolderUnloadAll" data-l10n-id="zen-folders-unload-folder"/>
  <menuitem id="context_zenFolderNewSubfolder" data-l10n-id="zen-folders-new-subfolder"/>
  <menuseparator />
  <menu id="context_zenChangeFolderSpace"
    data-l10n-id="zen-folders-panel-change-folder-space">
    <menupopup />
  </menu>
  <menuitem id="context_zenFolderToSpace" data-l10n-id="zen-folders-panel-convert-folder-to-space" />
  <menuseparator />
  <menuitem id="context_zenFolderUnpack" data-l10n-id="zen-folders-panel-unpack-folder"/>
  <menuitem id="context_zenFolderDelete" data-l10n-id="zen-folders-panel-delete-folder"/>
</menupopup>

<menupopup id="zenSiteDataActions">
  <menuitem id="context_zenClearSiteData" data-l10n-id="identity-clear-site-data"/>
  <menuseparator />
  <menuitem command="Tools:Addons" data-l10n-id="zen-site-data-manage-addons"/>
  <menuitem id="context_zenOpenGetAddons" data-l10n-id="zen-site-data-get-addons"/>
  <menuseparator />
  <menuitem id="context_zenOpenSiteSettings" data-l10n-id="zen-site-data-site-settings"/>
</menupopup>

<menupopup id="zenMoveTabsToSyncedWorkspacePopup">
# Popup to move tabs to a synced workspace.
# This would be automatically populated with the list of available synced workspaces.
</menupopup>



================================================
FILE: src/browser/base/content/zen-panels/site-data.inc
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<panel id="zen-unified-site-data-panel"
        role="group"
        type="arrow"
        noautofocus="true">
  <panelmultiview mainViewId="unified-extensions-view">
# We'll keep the view with this name/id in order to prevent
# any sort of future issues we may have if firefox decides
# to change the functionality of this view
    <panelview id="unified-extensions-view"
                class="cui-widget-panelview"
                mainview-with-header="true">
      <hbox id="zen-site-data-header">
        <toolbarbutton id="zen-site-data-header-share"
                        data-l10n-id="zen-site-data-header-share"
                        flex="1"
                        closemenu="none" />
        <toolbarbutton id="zen-site-data-header-reader-mode"
                        data-l10n-id="zen-site-data-header-reader-mode"
                        command="View:ReaderView"
                        tooltip="dynamic-shortcut-tooltip"
                        flex="1" />
        <toolbarbutton id="zen-site-data-header-screenshot"
                        data-l10n-id="zen-site-data-header-screenshot"
                        command="Browser:Screenshot"
                        flex="1" />
        <toolbarbutton id="zen-site-data-header-bookmark"
                        data-l10n-id="zen-site-data-header-bookmark"
                        command="Browser:AddBookmarkAs"
                        flex="1" />
      </hbox>
      <vbox id="zen-site-data-section-addons" class="zen-site-data-section">
        <hbox class="zen-site-data-section-header">
          <label data-l10n-id="unified-extensions-header-title" flex="1" />
          <label data-l10n-id="zen-generic-manage" id="zen-site-data-manage-addons" />
        </hbox>
        <hbox class="panel-subview-body" context="unified-extensions-context-menu" id="zen-site-data-addons">
          <vbox id="overflowed-extensions-list">
            <!-- overflowed extension buttons from the nav-bar will go here -->
          </vbox>

          <vbox id="unified-extensions-area">
            <!-- default area for extension browser action buttons -->
          </vbox>

          <vbox class="unified-extensions-list">
            <!-- active visible extensions go here -->
          </vbox>

          <vbox id="zen-site-data-new-addon-button-container">
            <toolbarbutton id="zen-site-data-new-addon-button"
                  class="subviewbutton toolbarbutton-1" />
          </vbox>

# We don't really use this, but again, to keep firefox happy
# in case they decide to change something for this specific
# empty state, we keep it on the DOM
# https://searchfox.org/firefox-main/rev/e613f4df351a21871cfeadf7d5b4043ffad157b1/browser/components/customizableui/content/panelUI.inc.xhtml#101-106
          <vbox id="unified-extensions-empty-state" context="">
            <!-- Shown when no extensions are listed. -->
            <html:img src="chrome://browser/skin/addons/extensions-panel-empty-illustration.svg" loading="lazy" />
            <html:h2 class="subview-subheader" />
            <description />
          </vbox>
        </hbox>

# Keep this button on the DOM even though we hide it for ever,
# again, to keep firefox happy if they decide to change functionality
# for this specific button / id
        <toolbarbutton id="unified-extensions-manage-extensions"
                        class="subviewbutton panel-subview-footer-button unified-extensions-manage-extensions"
                        data-l10n-id="unified-extensions-manage-extensions"
                        hidden="true" />
      </vbox>
      <vbox class="zen-site-data-section">
        <hbox class="zen-site-data-section-header">
          <label data-l10n-id="zen-site-data-settings" flex="1" />
          <label data-l10n-id="zen-generic-more" id="zen-site-data-settings-more" />
        </hbox>
        <vbox id="zen-site-data-settings-list">
          <!-- settings will be inserted here -->
        </vbox>
      </vbox>
      <hbox id="zen-site-data-footer">
        <toolbarbutton id="zen-site-data-security-info"
                       class="subviewbutton zen-interactive-button" />
        <toolbarbutton id="zen-site-data-actions"
                       class="subviewbutton zen-interactive-button"
                       closemenu="none"
                       context="zenSiteDataActions" />
      </hbox>
# Messages will be inserted here.
# Dont write anything directly here, even comments, as this may break the layout
      <html:div id="unified-extensions-messages-container"></html:div>
    </panelview>
  </panelmultiview>
</panel>


================================================
FILE: src/browser/components/BrowserContentHandler-sys-mjs.patch
================================================
diff --git a/browser/components/BrowserContentHandler.sys.mjs b/browser/components/BrowserContentHandler.sys.mjs
index 57a37b5c0d1982ecfff8d94e05fea89895713a58..062dcb0d1de00982bd777c3dc5d62a88a304bc68 100644
--- a/browser/components/BrowserContentHandler.sys.mjs
+++ b/browser/components/BrowserContentHandler.sys.mjs
@@ -601,6 +601,28 @@ nsBrowserContentHandler.prototype = {
       }
     }
 
+    try {
+      let blankWindowParam = cmdLine.handleFlagWithParam("blank-window", false);
+      if (blankWindowParam !== null) {
+        let { uri, principal } = resolveURIInternal(cmdLine, blankWindowParam);
+        if (shouldLoadURI(uri)) {
+          let win = openBrowserWindow(cmdLine, principal, uri.spec);
+          win._zenStartupSyncFlag = 'unsynced';
+          cmdLine.preventDefault = true;
+        }
+      }
+    } catch (e) {
+      if (e.result != Cr.NS_ERROR_INVALID_ARG) {
+        throw e;
+      }
+      if (cmdLine.handleFlag("blank-window", false)) {
+        let win = openBrowserWindow(cmdLine, null, null);
+        win._zenStartupSyncFlag = 'unsynced';
+        cmdLine.preventDefault = true;
+      }
+    }
+
+
     var searchParam = cmdLine.handleFlagWithParam("search", false);
     if (searchParam) {
       doSearch(searchParam, cmdLine);
@@ -670,6 +692,7 @@ nsBrowserContentHandler.prototype = {
       "  --new-window <url> Open <url> in a new window.\n" +
       "  --new-tab <url>    Open <url> in a new tab.\n" +
       "  --private-window [<url>] Open <url> in a new private window.\n";
+    info += "  --blank-window [<url>]  Open the new blank window.\n";
     if (AppConstants.platform == "win") {
       info += "  --preferences      Open Options dialog.\n";
     } else {



================================================
FILE: src/browser/components/BrowserGlue-sys-mjs.patch
================================================
diff --git a/browser/components/BrowserGlue.sys.mjs b/browser/components/BrowserGlue.sys.mjs
index 8acc1e5a97f769dc76d30ca0534f28b0a4511ab5..bd54169f976d3abe7d122b0efc0fa0d0626179eb 100644
--- a/browser/components/BrowserGlue.sys.mjs
+++ b/browser/components/BrowserGlue.sys.mjs
@@ -8,6 +8,7 @@ import { XPCOMUtils } from "resource://gre/modules/XPCOMUtils.sys.mjs";
 const lazy = {};
 
 ChromeUtils.defineESModuleGetters(lazy, {
+  gZenUIMigration: "resource:///modules/ZenUIMigration.sys.mjs",
   AboutHomeStartupCache: "resource:///modules/AboutHomeStartupCache.sys.mjs",
   AWToolbarButton: "resource:///modules/aboutwelcome/AWToolbarUtils.sys.mjs",
   ASRouter: "resource:///modules/asrouter/ASRouter.sys.mjs",
@@ -1452,7 +1453,7 @@ BrowserGlue.prototype = {
       windowcount++;
       let tabbrowser = win.gBrowser;
       if (tabbrowser) {
-        pagecount += tabbrowser.visibleTabs.length - tabbrowser.pinnedTabCount;
+        pagecount += tabbrowser.visibleTabs.filter(t => t.getAttribute("pending")!=="true").length;
       }
     }
 
@@ -1617,6 +1618,8 @@ BrowserGlue.prototype = {
     } else if (profileDataVersion < APP_DATA_VERSION) {
       lazy.ProfileDataUpgrader.upgrade(profileDataVersion, APP_DATA_VERSION);
     }
+
+    lazy.gZenUIMigration.init(this._isNewProfile);
   },
 
   async _showUpgradeDialog() {



================================================
FILE: src/browser/components/aboutlogins/content/aboutLogins-html.patch
================================================
diff --git a/browser/components/aboutlogins/content/aboutLogins.html b/browser/components/aboutlogins/content/aboutLogins.html
index ca69defe40c57704ab6ec331ce11c95a98b03e8f..bc5be4555adbe3389bceee0f01730ee57f1e69ef 100644
--- a/browser/components/aboutlogins/content/aboutLogins.html
+++ b/browser/components/aboutlogins/content/aboutLogins.html
@@ -6,7 +6,7 @@
 <html>
   <head>
     <meta charset="utf-8">
-    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; object-src 'none'; script-src resource: chrome:; img-src data: blob: https://firefoxusercontent.com https://profile.accounts.firefox.com;">
+    <meta http-equiv="Content-Security-Policy" content="default-src chrome:; object-src 'none'; script-src resource: chrome:; img-src data: blob: https://firefoxusercontent.com https://profile.accounts.firefox.com;">
     <meta name="color-scheme" content="light dark">
     <title data-l10n-id="about-logins-page-title-name"></title>
     <link rel="localization" href="branding/brand.ftl">



================================================
FILE: src/browser/components/asrouter/modules/FeatureCallout-sys-mjs.patch
================================================
diff --git a/browser/components/asrouter/modules/FeatureCallout.sys.mjs b/browser/components/asrouter/modules/FeatureCallout.sys.mjs
index 80dd8b5e357acc9decea6cf621c4868d547a0eb3..8a5fea6ed1a62a5930bafffcbbde3ce3292e42a1 100644
--- a/browser/components/asrouter/modules/FeatureCallout.sys.mjs
+++ b/browser/components/asrouter/modules/FeatureCallout.sys.mjs
@@ -778,6 +778,7 @@ export class FeatureCallout {
     ) {
       return false;
     }
+    if (el?.id === "zen-site-data-icon-button") return true;
 
     const style = this.win.getComputedStyle(el);
     return style?.visibility === "visible" && style?.display !== "none";



================================================
FILE: src/browser/components/controlcenter/content/identityPanel-inc-xhtml.patch
================================================
diff --git a/browser/components/controlcenter/content/identityPanel.inc.xhtml b/browser/components/controlcenter/content/identityPanel.inc.xhtml
index 8e23aad8ca0bb686a669b11e1d78b7906f5f38d0..cf4873cc6165b5f77091c056d7e275e0f3d36769 100644
--- a/browser/components/controlcenter/content/identityPanel.inc.xhtml
+++ b/browser/components/controlcenter/content/identityPanel.inc.xhtml
@@ -28,7 +28,7 @@
       <toolbarseparator/>
       <vbox class="panel-subview-body">
         <toolbarbutton id="identity-popup-security-button"
-                       class="identity-popup-security-connection subviewbutton subviewbutton-iconic">
+                       class="identity-popup-security-connection subviewbutton">
           <image class="identity-popup-security-connection-icon toolbarbutton-icon"></image>
           <hbox class="toolbarbutton-text" flex="1">
             <label class="identity-popup-connection-not-secure"



================================================
FILE: src/browser/components/customizableui/CustomizableUI-sys-mjs.patch
================================================
diff --git a/browser/components/customizableui/CustomizableUI.sys.mjs b/browser/components/customizableui/CustomizableUI.sys.mjs
index 9a98f56d83ee38e0f1aa41467b4ddf215c3d90f7..c50781a1e8fd1a71baf497ba64d85292fa1347f4 100644
--- a/browser/components/customizableui/CustomizableUI.sys.mjs
+++ b/browser/components/customizableui/CustomizableUI.sys.mjs
@@ -14,6 +14,7 @@ ChromeUtils.defineESModuleGetters(lazy, {
   BrowserUsageTelemetry: "resource:///modules/BrowserUsageTelemetry.sys.mjs",
   CustomizableWidgets:
     "moz-src:///browser/components/customizableui/CustomizableWidgets.sys.mjs",
+  ZenCustomizableUI: "resource:///modules/ZenCustomizableUI.sys.mjs",
   HomePage: "resource:///modules/HomePage.sys.mjs",
   PanelMultiView:
     "moz-src:///browser/components/customizableui/PanelMultiView.sys.mjs",
@@ -326,7 +327,7 @@ var CustomizableUIInternal = {
       {
         type: CustomizableUI.TYPE_PANEL,
         defaultPlacements: [],
-        anchor: "unified-extensions-button",
+        anchor: "zen-site-data-icon-button",
       },
       false
     );
@@ -336,19 +337,14 @@ var CustomizableUIInternal = {
       "back-button",
       "forward-button",
       "stop-reload-button",
-      Services.policies.isAllowed("removeHomeButtonByDefault")
-        ? null
-        : "home-button",
       "spring",
       "vertical-spacer",
       "urlbar-container",
       "spring",
-      "downloads-button",
       AppConstants.MOZ_DEV_EDITION ? "developer-button" : null,
-      "fxa-toolbar-menu-button",
       lazy.resetPBMToolbarButtonEnabled ? "reset-pbm-toolbar-button" : null,
     ].filter(name => name);
-
+    lazy.ZenCustomizableUI.startup(this);
     this.registerArea(
       CustomizableUI.AREA_NAVBAR,
       {
@@ -356,8 +352,6 @@ var CustomizableUIInternal = {
         overflowable: true,
         defaultPlacements: navbarPlacements,
         verticalTabsDefaultPlacements: [
-          "firefox-view-button",
-          "alltabs-button",
         ],
         defaultCollapsed: false,
       },
@@ -381,10 +375,7 @@ var CustomizableUIInternal = {
       {
         type: CustomizableUI.TYPE_TOOLBAR,
         defaultPlacements: [
-          "firefox-view-button",
           "tabbrowser-tabs",
-          "new-tab-button",
-          "alltabs-button",
         ],
         verticalTabsDefaultPlacements: [],
         defaultCollapsed: null,
@@ -466,6 +457,7 @@ var CustomizableUIInternal = {
       CustomizableUI.AREA_NAVBAR,
       CustomizableUI.AREA_BOOKMARKS,
       CustomizableUI.AREA_TABSTRIP,
+      "zen-sidebar-top-buttons",
     ]);
     if (AppConstants.platform != "macosx") {
       toolbars.add(CustomizableUI.AREA_MENUBAR);
@@ -1242,6 +1234,9 @@ var CustomizableUIInternal = {
         placements = gPlacements.get(area);
       }
 
+      // remove "zen-sidebar-top-buttons" from the placements
+      placements = placements.filter(p => p != "zen-sidebar-top-buttons");
+
       // For toolbars that need it, mark as dirty.
       let defaultPlacements = areaProperties.get("defaultPlacements");
       if (
@@ -1749,7 +1744,7 @@ var CustomizableUIInternal = {
         lazy.log.info(
           "Widget " + aWidgetId + " not found, unable to remove from " + aArea
         );
-        continue;
+     // continue;
       }
 
       this.notifyDOMChange(widgetNode, null, container, true, () => {
@@ -1759,7 +1754,7 @@ var CustomizableUIInternal = {
         // We also need to remove the panel context menu if it's there:
         this.ensureButtonContextMenu(widgetNode);
         if (gPalette.has(aWidgetId) || this.isSpecialWidget(aWidgetId)) {
-          container.removeChild(widgetNode);
+          widgetNode.remove();
         } else {
           window.gNavToolbox.palette.appendChild(widgetNode);
         }
@@ -1927,16 +1922,16 @@ var CustomizableUIInternal = {
         elem.setAttribute("skipintoolbarset", "true");
       }
     }
-
+    lazy.ZenCustomizableUI.init(aWindow);
     // Now register all the toolbars
     for (let area of CustomizableUI.areas) {
       let type = CustomizableUI.getAreaType(area);
-      if (type == CustomizableUI.TYPE_TOOLBAR) {
+      if (type == CustomizableUI.TYPE_TOOLBAR && !area.startsWith("zen-")) {
         let node = document.getElementById(area);
         this.registerToolbarNode(node);
       }
     }
-
+    lazy.ZenCustomizableUI.registerToolbarNodes(aWindow);
     // Handle initial state of vertical tabs.
     if (isVerticalTabs) {
       // Show the vertical tabs toolbar
@@ -2178,6 +2173,10 @@ var CustomizableUIInternal = {
    *   The identifier string of the area that aNode is being inserted into.
    */
   insertWidgetBefore(aNode, aNextNode, aContainer, aAreaId) {
+    if (aAreaId === CustomizableUI.AREA_NAVBAR && aNode.ownerGlobal.gZenVerticalTabsManager._hasSetSingleToolbar) {
+      aContainer = aNode.ownerDocument.getElementById("zen-sidebar-top-buttons-customization-target");
+      aAreaId = "zen-sidebar-top-buttons";
+    }
     this.notifyDOMChange(aNode, aNextNode, aContainer, false, () => {
       this.setLocationAttributes(aNode, aAreaId);
       aContainer.insertBefore(aNode, aNextNode);
@@ -4533,7 +4532,7 @@ var CustomizableUIInternal = {
    * For all registered areas, builds those areas to reflect the current
    * placement state of all widgets.
    */
-  _rebuildRegisteredAreas() {
+  _rebuildRegisteredAreas(zenDontRebuildCollapsed = false) {
     for (let [areaId, areaNodes] of gBuildAreas) {
       let placements = gPlacements.get(areaId);
       let isFirstChangedToolbar = true;
@@ -4544,7 +4543,7 @@ var CustomizableUIInternal = {
         if (area.get("type") == CustomizableUI.TYPE_TOOLBAR) {
           let defaultCollapsed = area.get("defaultCollapsed");
           let win = areaNode.ownerGlobal;
-          if (defaultCollapsed !== null) {
+          if (defaultCollapsed !== null && !zenDontRebuildCollapsed) {
             win.setToolbarVisibility(
               areaNode,
               typeof defaultCollapsed == "string"
@@ -5835,6 +5834,7 @@ export var CustomizableUI = {
   unregisterArea(aName, aDestroyPlacements) {
     CustomizableUIInternal.unregisterArea(aName, aDestroyPlacements);
   },
+  get zenInternalCU() { return CustomizableUIInternal; },
   /**
    * Add a widget to an area.
    * If the area to which you try to add is not known to CustomizableUI,
@@ -7798,7 +7798,9 @@ class OverflowableToolbar {
         );
 
         if (webExtList && CustomizableUI.isWebExtensionWidget(child.id)) {
+          if (webExtList.id !== "zen-overflow-extensions-list") {
           child.setAttribute("cui-anchorid", webExtButtonID);
+          }
           webExtList.insertBefore(child, webExtList.firstElementChild);
         } else {
           child.setAttribute("cui-anchorid", this.#defaultListButton.id);
@@ -7858,7 +7860,7 @@ class OverflowableToolbar {
         ) {
           continue;
         }
-        sum += parseFloat(style.marginLeft) + parseFloat(style.marginRight);
+        sum += parseFloat(style.marginLeft) + (win.gZenVerticalTabsManager._hasSetSingleToolbar ? Math.max(0, parseFloat(style.marginRight)) : parseFloat(style.marginRight));
         if (child != aExceptChild) {
           sum += getInlineSize(child);
         }
@@ -7882,11 +7884,11 @@ class OverflowableToolbar {
         parseFloat(style.paddingLeft) -
         parseFloat(style.paddingRight) -
         toolbarChildrenWidth;
-      targetWidth = getInlineSize(this.#target);
+      targetWidth = getInlineSize(this.#target) - ((win.gZenVerticalTabsManager._hasSetSingleToolbar && this.#target.id == 'zen-sidebar-top-buttons-customization-target') ? win.gZenVerticalTabsManager._topButtonsSeparatorElement.getBoundingClientRect().width : 0);
       targetChildrenWidth =
         this.#target == this.#toolbar
           ? toolbarChildrenWidth
-          : sumChildrenInlineSize(this.#target);
+          : sumChildrenInlineSize((win.gZenVerticalTabsManager._hasSetSingleToolbar && this.#target.id == 'nav-bar-customization-target') ? win.document.getElementById("zen-sidebar-top-buttons-customization-target") : this.#target, win.gZenVerticalTabsManager._topButtonsSeparatorElement);
     });
 
     lazy.log.debug(
@@ -7901,7 +7903,14 @@ class OverflowableToolbar {
       Math.max(targetWidth, targetChildrenWidth)
     );
     totalAvailWidth = Math.ceil(totalAvailWidth);
-    let isOverflowing = targetContentWidth > totalAvailWidth;
+    if (win.gZenVerticalTabsManager._hasSetSingleToolbar && this.#toolbar.id == 'nav-bar') return { isOverflowing: false, targetContentWidth, totalAvailWidth };
+    let isOverflowing = targetContentWidth + (win.gZenVerticalTabsManager._hasSetSingleToolbar ? 0.1 : 0) > totalAvailWidth;
+    if (win.gZenVerticalTabsManager._hasSetSingleToolbar &&
+      this.#target.id == 'zen-sidebar-top-buttons-customization-target' &&
+      Array.from(this.#target.children).filter(child => child.getAttribute("overflows") != "false").length == 1 &&
+      this.#overflowedInfo.size == 0) {
+      isOverflowing = false;
+    }
     return { isOverflowing, targetContentWidth, totalAvailWidth };
   }
 
@@ -7962,7 +7971,11 @@ class OverflowableToolbar {
             return;
           }
         }
-        if (totalAvailWidth <= minSize) {
+        let isLastItem = win.gZenVerticalTabsManager._hasSetSingleToolbar && 
+          this.#target.id == 'zen-sidebar-top-buttons-customization-target' && 
+          this.#overflowedInfo.size == 1 && 
+          !child.classList.contains('unified-extensions-item');
+        if (totalAvailWidth <= minSize && !isLastItem) {
           lazy.log.debug(
             `Need ${minSize} but width is ${totalAvailWidth} so bailing`
           );
@@ -7995,7 +8008,7 @@ class OverflowableToolbar {
         }
       }
       if (!inserted) {
-        this.#target.appendChild(child);
+        win.gZenVerticalTabsManager.appendCustomizableItem(this.#target, child, gPlacements.get(this.#toolbar.id));
       }
       child.removeAttribute("cui-anchorid");
       child.removeAttribute("overflowedItem");
@@ -8121,6 +8134,9 @@ class OverflowableToolbar {
    *   if no such list exists.
    */
   get #webExtList() {
+    if (this.#toolbar.getAttribute("addon-webext-overflowtarget") !== this.#webExtListRef?.id) {
+      this.#webExtListRef = null;
+    }
     if (!this.#webExtListRef) {
       let targetID = this.#toolbar.getAttribute("addon-webext-overflowtarget");
       if (!targetID) {
@@ -8132,6 +8148,9 @@ class OverflowableToolbar {
       let win = this.#toolbar.ownerGlobal;
       let { panel } = win.gUnifiedExtensions;
       this.#webExtListRef = panel.querySelector(`#${targetID}`);
+      if (!this.#webExtListRef) {
+        this.#webExtListRef = win.document.getElementById(targetID);
+      }
     }
     return this.#webExtListRef;
   }
@@ -8340,7 +8359,7 @@ class OverflowableToolbar {
         break;
       }
       case "mousedown": {
-        if (aEvent.button != 0) {
+        if (aEvent.button != 0 || this.#toolbar.id == "zen-sidebar-top-buttons") { // Fix https://github.com/zen-browser/desktop/issues/7718
           break;
         }
         if (aEvent.target == this.#defaultListButton) {



================================================
FILE: src/browser/components/customizableui/CustomizeMode-sys-mjs.patch
================================================
diff --git a/browser/components/customizableui/CustomizeMode.sys.mjs b/browser/components/customizableui/CustomizeMode.sys.mjs
index 52e93e9d9d77f6e410d72bee707fccf26f728004..1142f096e1221213195453d60507ba1bd2f7aed9 100644
--- a/browser/components/customizableui/CustomizeMode.sys.mjs
+++ b/browser/components/customizableui/CustomizeMode.sys.mjs
@@ -503,7 +503,7 @@ export class CustomizeMode {
       this.#transitioning = true;
 
       let customizer = document.getElementById("customization-container");
-      let browser = document.getElementById("browser");
+      let browser = document.getElementById("tabbrowser-tabbox"); // ZEN: This fixes customizing mode!!! Dont remove it
       browser.hidden = true;
       customizer.hidden = false;
 
@@ -640,7 +640,7 @@ export class CustomizeMode {
     }
 
     let customizer = document.getElementById("customization-container");
-    let browser = document.getElementById("browser");
+    let browser = document.getElementById("tabbrowser-tabbox"); // ZEN: This fixes customizing mode!!! Dont remove it
     customizer.hidden = true;
     browser.hidden = false;
 
@@ -1176,6 +1176,7 @@ export class CustomizeMode {
     return (
       aNode.localName == "toolbarbutton" ||
       aNode.localName == "toolbaritem" ||
+      aNode.localName == "zen-workspace-icons" ||
       aNode.localName == "toolbarseparator" ||
       aNode.localName == "toolbarspring" ||
       aNode.localName == "toolbarspacer"



================================================
FILE: src/browser/components/customizableui/ToolbarContextMenu-sys-mjs.patch
================================================
diff --git a/browser/components/customizableui/ToolbarContextMenu.sys.mjs b/browser/components/customizableui/ToolbarContextMenu.sys.mjs
index 5be4e8ea7867e93bda2cd3eb49d966ebd73dc786..650d0008e755583392e07f35bd8e541dff7c43c4 100644
--- a/browser/components/customizableui/ToolbarContextMenu.sys.mjs
+++ b/browser/components/customizableui/ToolbarContextMenu.sys.mjs
@@ -246,10 +246,7 @@ export var ToolbarContextMenu = {
     // Show/hide sidebar and vertical tabs menu items
     let sidebarRevampEnabled = Services.prefs.getBoolPref("sidebar.revamp");
     let showSidebarActions =
-      ["tabbrowser-tabs", "sidebar-button"].includes(toolbarItem?.id) ||
-      toolbarItem?.localName == "toolbarspring" ||
-      isTitlebarSpacer ||
-      isMenuBarSpacer;
+      false;
 
     let toggleVerticalTabsItem = document.getElementById(
       "toolbar-context-toggle-vertical-tabs"



================================================
FILE: src/browser/components/customizableui/content/panelUI-inc-xhtml.patch
================================================
diff --git a/browser/components/customizableui/content/panelUI.inc.xhtml b/browser/components/customizableui/content/panelUI.inc.xhtml
index 6cb22be6526b17d952a90fd414c49a31e9afde7a..84f8156e88027a79a40f14c77c83d6a2d19c8a72 100644
--- a/browser/components/customizableui/content/panelUI.inc.xhtml
+++ b/browser/components/customizableui/content/panelUI.inc.xhtml
@@ -139,7 +139,7 @@
   <panel id="appMenu-notification-popup"
          class="popup-notification-panel panel-no-padding"
          type="arrow"
-         position="after_start"
+         position="after_end"
          flip="slide"
          orient="vertical"
          noautofocus="true"



================================================
FILE: src/browser/components/customizableui/content/panelUI-js.patch
================================================
diff --git a/browser/components/customizableui/content/panelUI.js b/browser/components/customizableui/content/panelUI.js
index d016811caa6c1ecc947fd705f6e1b27e3b5a12a5..89f2a9ec9ebd80e744ed0118e1b3c164151cf2b8 100644
--- a/browser/components/customizableui/content/panelUI.js
+++ b/browser/components/customizableui/content/panelUI.js
@@ -619,10 +619,12 @@ const PanelUI = {
     if (hasKids && !this.navbar.hasAttribute("nonemptyoverflow")) {
       this.navbar.setAttribute("nonemptyoverflow", "true");
       this.overflowPanel.setAttribute("hasfixeditems", "true");
+      window.document.getElementById("zen-sidebar-top-buttons").setAttribute("nonemptyoverflow", "true");
     } else if (!hasKids && this.navbar.hasAttribute("nonemptyoverflow")) {
       PanelMultiView.hidePopup(this.overflowPanel);
       this.overflowPanel.removeAttribute("hasfixeditems");
       this.navbar.removeAttribute("nonemptyoverflow");
+      window.document.getElementById("zen-sidebar-top-buttons").removeAttribute("nonemptyoverflow");
     }
   },
 
@@ -970,7 +972,7 @@ const PanelUI = {
         el.removeAttribute("data-lazy-l10n-id");
       });
 
-    this.notificationPanel.openPopup(anchor, "bottomright topright");
+    this.notificationPanel.openPopup(anchor, gZenUIManager.panelUIPosition(this.notificationPanel, anchor));
   },
 
   _clearNotificationPanel() {



================================================
FILE: src/browser/components/extensions/parent/ext-browser-js.patch
================================================
diff --git a/browser/components/extensions/parent/ext-browser.js b/browser/components/extensions/parent/ext-browser.js
index 2488267f4be5142bcacf984635d9e9ecdb5f02e9..03127808b3cae28850cc276fac0f1acbca85d326 100644
--- a/browser/components/extensions/parent/ext-browser.js
+++ b/browser/components/extensions/parent/ext-browser.js
@@ -354,6 +354,7 @@ class TabTracker extends TabTrackerBase {
   }
 
   getId(nativeTab) {
+    if (nativeTab.hasAttribute("zen-empty-tab")) return -1;
     let id = this._tabs.get(nativeTab);
     if (id) {
       return id;
@@ -388,6 +389,7 @@ class TabTracker extends TabTrackerBase {
     if (nativeTab.ownerGlobal.closed) {
       throw new Error("Cannot attach ID to a tab in a closed window.");
     }
+    if (nativeTab.hasAttribute("zen-empty-tab")) return;
 
     this._tabs.set(nativeTab, id);
     if (nativeTab.linkedBrowser) {
@@ -1273,6 +1275,10 @@ class TabManager extends TabManagerBase {
   }
 
   canAccessTab(nativeTab) {
+    if (nativeTab.hasAttribute("zen-empty-tab")) {
+      return false
+    }
+
     // Check private browsing access at browser window level.
     if (!this.extension.canAccessWindow(nativeTab.ownerGlobal)) {
       return false;



================================================
FILE: src/browser/components/extensions/parent/ext-tabs-js.patch
================================================
diff --git a/browser/components/extensions/parent/ext-tabs.js b/browser/components/extensions/parent/ext-tabs.js
index bff93996b42aa1f88f1bfcbd813c3af4a5806f13..1252727b4811248e138cf7a38f8d1fd422576d28 100644
--- a/browser/components/extensions/parent/ext-tabs.js
+++ b/browser/components/extensions/parent/ext-tabs.js
@@ -501,6 +501,7 @@ this.tabs = class extends ExtensionAPIPersistent {
         }
 
         let tab = tabManager.getWrapper(updatedTab);
+        if (!tab) return;
 
         let changeInfo = {};
         for (let prop of needed) {
@@ -855,6 +856,7 @@ this.tabs = class extends ExtensionAPIPersistent {
               });
             }
 
+            window.gZenCompactModeManager._nextTimeWillBeActive = active;
             let nativeTab = window.gBrowser.addTab(url, options);
 
             if (active) {



================================================
FILE: src/browser/components/newtab/README.md
================================================
# Checkout this documentation to build new tab assets

- [New Tab Documentation](https://firefox-source-docs.mozilla.org/browser/components/newtab/docs/index.html)
- You also need `meow@9.0.0` (that's the one I tested) because other versions might not work.
- To bundle the new tab, execute the following command:

```
./mach npm run bundle --prefix=browser/components/newtab
```



================================================
FILE: src/browser/components/places/PlacesUIUtils-sys-mjs.patch
================================================
diff --git a/browser/components/places/PlacesUIUtils.sys.mjs b/browser/components/places/PlacesUIUtils.sys.mjs
index 615efa4238a3c0084354383a128e0dd8712c720e..29e9dbe7039ba3dc1413da45908ca8418103f6e6 100644
--- a/browser/components/places/PlacesUIUtils.sys.mjs
+++ b/browser/components/places/PlacesUIUtils.sys.mjs
@@ -60,6 +60,7 @@ class BookmarkState {
     info,
     tags = "",
     keyword = "",
+    workspaces = [],
     isFolder = false,
     children = [],
     autosave = false,
@@ -84,12 +85,18 @@ class BookmarkState {
       keyword,
       parentGuid: info.parentGuid,
       index,
+      workspaces,
     };
 
     // Edited bookmark
     this._newState = {};
   }
 
+  async _workspacesChanged(workspaces) {
+    this._newState.workspaces = workspaces;
+    await this._maybeSave();
+  }
+
   /**
    * Save edited title for the bookmark
    *
@@ -183,6 +190,14 @@ class BookmarkState {
       "BookmarkState::createBookmark"
     );
     this._guid = results?.[0];
+
+    if ('workspaces' in this._newState) {
+      try {
+        await this.updateBookmarkWorkspaces(this._guid, this._newState.workspaces);
+      } catch (ex) {
+        console.error("Failed to update workspace assignments:", ex);
+      }
+    }
     return this._guid;
   }
 
@@ -216,6 +231,14 @@ class BookmarkState {
       "BookmarkState::save::createFolder"
     );
     this._guid = results[0];
+
+    if ('workspaces' in this._newState) {
+      try {
+        await this.updateBookmarkWorkspaces(this._guid, this._newState.workspaces);
+      } catch (ex) {
+        console.error("Failed to update workspace assignments:", ex);
+      }
+    }
     return this._guid;
   }
 
@@ -302,11 +325,97 @@ class BookmarkState {
       await lazy.PlacesTransactions.batch(transactions, "BookmarkState::save");
     }
 
+    if ('workspaces' in this._newState) {
+      try {
+        await this.updateBookmarkWorkspaces(this._guid, this._newState.workspaces);
+      } catch (ex) {
+        console.error("Failed to update workspace assignments:", ex);
+      }
+    }
     this._originalState = { ...this._originalState, ...this._newState };
     this._newState = {};
     return this._guid;
   }
 
+  async updateBookmarkWorkspaces(bookmarkGuid, workspaces) {
+    await lazy.PlacesUtils.withConnectionWrapper('ZenWorkspaceBookmarksStorage.updateBookmarkWorkspaces', async (db) => {
+      const now = Date.now();
+
+      await db.executeTransaction(async () => {
+        const rows = await db.execute(`
+          SELECT workspace_uuid
+          FROM zen_bookmarks_workspaces
+          WHERE bookmark_guid = :bookmark_guid
+        `, { bookmark_guid: bookmarkGuid });
+
+        const currentWorkspaces = rows.map(row => row.getResultByName("workspace_uuid"));
+        const workspacesToRemove = currentWorkspaces.filter(w => !workspaces.includes(w));
+        const workspacesToAdd = workspaces.filter(w => !currentWorkspaces.includes(w));
+
+        // If there are workspaces to remove, delete only those specific associations
+        if (workspacesToRemove.length > 0) {
+          const placeholders = workspacesToRemove.map(() => '?').join(',');
+          await db.execute(`
+          DELETE FROM zen_bookmarks_workspaces
+          WHERE bookmark_guid = :bookmark_guid
+          AND workspace_uuid IN (${placeholders})
+        `, [bookmarkGuid, ...workspacesToRemove]);
+
+          // Record removals
+          for (const workspace of workspacesToRemove) {
+            await this._recordChange(db, bookmarkGuid, workspace, 'removed');
+          }
+        }
+
+        // Add only new associations
+        for (const workspaceUuid of workspacesToAdd) {
+          await db.execute(`
+            INSERT INTO zen_bookmarks_workspaces (
+              bookmark_guid, workspace_uuid, created_at, updated_at
+            ) VALUES (
+                       :bookmark_guid, :workspace_uuid, :now, :now
+                     )
+          `, {
+            bookmark_guid: bookmarkGuid,
+            workspace_uuid: workspaceUuid,
+            now
+          });
+
+          await this._recordChange(db, bookmarkGuid, workspaceUuid, 'added');
+        }
+      });
+    });
+
+    const changes = { bookmarkGuid, workspaces };
+    Services.obs.notifyObservers(null, "workspace-bookmarks-updated", JSON.stringify(changes));
+  }
+
+  async _recordChange(db, bookmarkGuid, workspaceUuid, changeType) {
+    const now = Date.now();
+    await db.execute(`
+      INSERT OR REPLACE INTO zen_bookmarks_workspaces_changes (
+        bookmark_guid, workspace_uuid, change_type, timestamp
+      ) VALUES (
+        :bookmark_guid, :workspace_uuid, :change_type, :timestamp
+      )
+    `, {
+      bookmark_guid: bookmarkGuid,
+      workspace_uuid: workspaceUuid,
+      change_type: changeType,
+      timestamp: Math.floor(now / 1000)
+    });
+
+    await this._updateLastChangeTimestamp(db);
+  }
+
+  async _updateLastChangeTimestamp(db) {
+    const now = Date.now();
+    await db.execute(`
+      INSERT OR REPLACE INTO moz_meta (key, value)
+      VALUES ('zen_bookmarks_workspaces_last_change', :now)
+    `, { now });
+  }
+
   /**
    * Append transactions to update tags by given information.
    *
@@ -904,7 +1013,7 @@ export var PlacesUIUtils = {
     aNode,
     aWhere,
     aWindow,
-    { aPrivate = false, userContextId = 0 } = {}
+    { aPrivate = false, userContextId = undefined } = {}
   ) {
     if (
       aNode &&



================================================
FILE: src/browser/components/places/content/bookmarkProperties-xhtml.patch
================================================
diff --git a/browser/components/places/content/bookmarkProperties.xhtml b/browser/components/places/content/bookmarkProperties.xhtml
index 4aad4e4fb4139aa3d81e00eefa82e26b697df973..831e42a4a55e277b5b8e81e4317a2007c5306996 100644
--- a/browser/components/places/content/bookmarkProperties.xhtml
+++ b/browser/components/places/content/bookmarkProperties.xhtml
@@ -38,6 +38,8 @@
     />
 
     <html:link rel="localization" href="browser/editBookmarkOverlay.ftl"/>
+    <html:link rel="localization" href="browser/zen-workspaces.ftl"/>
+    <html:link rel="stylesheet" href="chrome://browser/content/zen-styles/zen-popup.css" />
   </linkset>
 
   <stringbundleset id="stringbundleset">
@@ -45,6 +47,8 @@
                   src="chrome://browser/locale/places/bookmarkProperties.properties"/>
   </stringbundleset>
 
+  <script src="chrome://browser/content/zen-components/ZenWorkspaceBookmarksStorage.js" />
+  <script src="chrome://browser/content/zenThemeModifier.js"></script>
   <script src="chrome://browser/content/places/editBookmark.js"/>
   <script src="chrome://browser/content/places/bookmarkProperties.js"/>
   <script src="chrome://global/content/globalOverlay.js"/>



================================================
FILE: src/browser/components/places/content/browserPlacesViews-js.patch
================================================
diff --git a/browser/components/places/content/browserPlacesViews.js b/browser/components/places/content/browserPlacesViews.js
index bbfbe9c703dff25bf939369f5b99cdaa76a5ae24..c28688d488960c1de73baf4c0e69b9f8401e4226 100644
--- a/browser/components/places/content/browserPlacesViews.js
+++ b/browser/components/places/content/browserPlacesViews.js
@@ -328,12 +328,23 @@ class PlacesViewBase {
 
     this._cleanPopup(aPopup);
 
+    let children = [];
     let cc = resultNode.childCount;
-    if (cc > 0) {
+    for (let i = 0; i < cc; ++i) {
+      let child = resultNode.getChild(i);
+      // Skip nodes that don't belong in current workspace
+      if (PlacesUtils.nodeIsURI(child) || PlacesUtils.containerTypes.includes(child.type)) {
+        if (typeof gZenWorkspaces !== 'undefined' && gZenWorkspaces.isBookmarkInAnotherWorkspace(child)) {
+          continue;
+        }
+      }
+      children.push(child);
+    }
+
+    if (children.length > 0) {
       this._setEmptyPopupStatus(aPopup, false);
       let fragment = document.createDocumentFragment();
-      for (let i = 0; i < cc; ++i) {
-        let child = resultNode.getChild(i);
+      for (let child of children) {
         this._insertNewItemToPopup(child, fragment);
       }
       aPopup.insertBefore(fragment, aPopup._endMarker);
@@ -391,6 +402,7 @@ class PlacesViewBase {
           "scheme",
           PlacesUIUtils.guessUrlSchemeForUI(aPlacesNode.uri)
         );
+        element.addEventListener("command", (e) => window.gZenGlanceManager.openGlanceForBookmark(e));
       } else if (PlacesUtils.containerTypes.includes(type)) {
         element = document.createXULElement("menu");
         element.setAttribute("container", "true");
@@ -1014,25 +1026,33 @@ class PlacesToolbar extends PlacesViewBase {
       this._rootElt.firstChild.remove();
     }
 
+    let visibleNodes = [];
     let cc = this._resultNode.childCount;
-    if (cc > 0) {
-      // There could be a lot of nodes, but we only want to build the ones that
-      // are more likely to be shown, not all of them.
-      // We also don't want to wait for reflows at every node insertion, to
-      // calculate a precise number of visible items, thus we guess a size from
-      // the first non-separator node (because separators have flexible size).
+    for (let i = 0; i < cc; i++) {
+      let child = this._resultNode.getChild(i);
+      if (PlacesUtils.nodeIsURI(child) || PlacesUtils.containerTypes.includes(child.type)) {
+        if (!(typeof gZenWorkspaces !== 'undefined' && gZenWorkspaces.isBookmarkInAnotherWorkspace(child))) {
+          visibleNodes.push(child);
+        }
+      } else {
+        // Always include separators
+        visibleNodes.push(child);
+      }
+    }
+
+    if (visibleNodes.length > 0) {
+      // Look for the first non-separator node.
       let startIndex = 0;
       let limit = await this._runBeforeFrameRender(() => {
         if (!this._isAlive) {
-          return cc;
+          return visibleNodes.length;
         }
 
-        // Look for the first non-separator node.
         let elt;
-        while (startIndex < cc) {
+        while (startIndex < visibleNodes.length) {
           elt = this._insertNewItem(
-            this._resultNode.getChild(startIndex),
-            this._rootElt
+              visibleNodes[startIndex],
+              this._rootElt
           );
           ++startIndex;
           if (elt.localName != "toolbarseparator") {
@@ -1040,15 +1060,12 @@ class PlacesToolbar extends PlacesViewBase {
           }
         }
         if (!elt) {
-          return cc;
+          return visibleNodes.length;
         }
 
         return window.promiseDocumentFlushed(() => {
-          // We assume a button with just the icon will be more or less a square,
-          // then compensate the measurement error by considering a larger screen
-          // width. Moreover the window could be bigger than the screen.
-          let size = elt.clientHeight || 1; // Sanity fallback.
-          return Math.min(cc, parseInt((window.screen.width * 1.5) / size));
+          let size = elt.clientHeight || 1;
+          return Math.min(visibleNodes.length, parseInt((window.screen.width * 1.5) / size));
         });
       });
 
@@ -1058,7 +1075,7 @@ class PlacesToolbar extends PlacesViewBase {
 
       let fragment = document.createDocumentFragment();
       for (let i = startIndex; i < limit; ++i) {
-        this._insertNewItem(this._resultNode.getChild(i), fragment);
+        this._insertNewItem(visibleNodes[i], fragment);
       }
       await new Promise(resolve => window.requestAnimationFrame(resolve));
       if (!this._isAlive) {
@@ -1120,6 +1137,8 @@ class PlacesToolbar extends PlacesViewBase {
           "scheme",
           PlacesUIUtils.guessUrlSchemeForUI(aChild.uri)
         );
+
+        button.addEventListener("command", gZenGlanceManager.openGlanceForBookmark.bind(gZenGlanceManager));
       }
     }
 
@@ -2268,7 +2287,7 @@ this.PlacesPanelview = class PlacesPanelview extends PlacesViewBase {
         PlacesUIUtils.guessUrlSchemeForUI(placesNode.uri)
       );
       element.setAttribute("label", PlacesUIUtils.getBestTitle(placesNode));
-
+      element.addEventListener("command", gZenGlanceManager.openGlanceForBookmark.bind(gZenGlanceManager));
       let icon = placesNode.icon;
       if (icon) {
         element.setAttribute("image", icon);



================================================
FILE: src/browser/components/places/content/editBookmark-js.patch
================================================
diff --git a/browser/components/places/content/editBookmark.js b/browser/components/places/content/editBookmark.js
index f562f19741d882d92365da531b55e2810a0e79ea..a68ce8191314845c589f3a9f14b56028e0532628 100644
--- a/browser/components/places/content/editBookmark.js
+++ b/browser/components/places/content/editBookmark.js
@@ -387,6 +387,10 @@ var gEditItemOverlay = {
         this._keywordField.readOnly = this.readOnly;
       }
 
+      if (showOrCollapse("workspaceRow", true, "workspace")) {
+        await this._initWorkspaceDropdown(aInfo);
+      }
+
       // Collapse the tag selector if the item does not accept tags.
       if (showOrCollapse("tagsRow", isBookmark || bulkTagging, "tags")) {
         this._initTagsField();
@@ -693,6 +697,7 @@ var gEditItemOverlay = {
       if (this._paneInfo.isBookmark) {
         options.tags = this._element("tagsField").value;
         options.keyword = this._keyword;
+        options.workspaces = this._selectedWorkspaces;
       }
 
       if (this._paneInfo.bulkTagging) {
@@ -1194,6 +1199,9 @@ var gEditItemOverlay = {
           case "editBMPanel_tagsSelectorExpander":
             this.toggleTagsSelector().catch(console.error);
             break;
+          case "editBMPanel_workspacesSelectorExpander":
+            this.onWorkspaceDropdownToggle();
+            break;
         }
         break;
     }
@@ -1280,6 +1288,128 @@ var gEditItemOverlay = {
   get bookmarkState() {
     return this._bookmarkState;
   },
+
+  async onWorkspaceSelectionChange(event) {
+    if(document.documentElement.getAttribute("windowtype") === "Places:Organizer") {
+      return;
+    }
+    event.stopPropagation();
+
+    // Add new workspaces uuids
+    const checkboxes = this._workspaceList.querySelectorAll("input[type='checkbox']");
+    const newWorkspaces = [];
+    const selectedNames = [];
+
+    checkboxes.forEach(checkbox => {
+      if (checkbox.checked) {
+        newWorkspaces.push(checkbox.value);
+
+        const label = checkbox.parentNode.textContent.trim();
+        selectedNames.push(label);
+      }
+    });
+
+    this._selectedWorkspaces = [ ...newWorkspaces];
+
+    // Update the bookmark state
+    if (this._bookmarkState) {
+      await this._bookmarkState._workspacesChanged(this._selectedWorkspaces);
+    }
+
+    // Update summary text
+    this._workspaceSummary.textContent = selectedNames.length
+      ? selectedNames.join(", ")
+      : "-";
+  },
+
+  onWorkspaceDropdownToggle() {
+    if(document.documentElement.getAttribute("windowtype") === "Places:Organizer") {
+      return;
+    }
+
+    // Toggle active class on the container
+    const dropdown = this._workspaceList;
+    const button = this._workspaceSummary;
+
+    dropdown.hidden = !dropdown.hidden;
+
+    var expander = this._element("workspacesSelectorExpander");
+    expander.classList.toggle("expander-up", !dropdown.hidden);
+    expander.classList.toggle("expander-down", dropdown.hidden);
+
+    // Only update summary text when closing the dropdown
+    if (dropdown.hidden) {
+      const checkboxes = this._workspaceList.querySelectorAll("input[type='checkbox']");
+      const selectedLabels = [];
+
+      checkboxes.forEach(checkbox => {
+        if (checkbox.checked) {
+          const label = checkbox.parentNode.textContent.trim();
+          selectedLabels.push(label);
+        }
+      });
+
+      button.textContent = selectedLabels.length
+        ? selectedLabels.join(", ")
+        : "-";
+    }
+  },
+
+  async _initWorkspaceDropdown(aInfo) {
+    if(document.documentElement.getAttribute("windowtype") === "Places:Organizer") {
+      return;
+    }
+    const { ZenSessionStore } = ChromeUtils.importESModule(
+      "resource:///modules/zen/ZenSessionManager.sys.mjs"
+    );
+    this._workspaces = ZenSessionStore.getClonedSpaces();
+    const workspaceList = this._workspaceList;
+    if(aInfo.node?.bookmarkGuid) {
+      this._selectedWorkspaces = await ZenWorkspaceBookmarksStorage.getBookmarkWorkspaces(aInfo.node.bookmarkGuid);
+    }
+
+    // Clear existing items
+    workspaceList.innerHTML = "";
+
+    // Create checkbox items for each workspace
+    for (let workspace of this._workspaces) {
+      const li = document.createElementNS("http://www.w3.org/1999/xhtml", "li");
+      const label = document.createElementNS("http://www.w3.org/1999/xhtml", "label");
+      const input = document.createElementNS("http://www.w3.org/1999/xhtml", "input");
+
+      input.setAttribute("type", "checkbox");
+      input.setAttribute("name", "workspace");
+      input.setAttribute("value", workspace.uuid);
+
+      // Check if this workspace is selected
+      input.checked = this._selectedWorkspaces?.includes(workspace.uuid) ?? false;
+
+      input.addEventListener("click", this.onWorkspaceSelectionChange.bind(this));
+
+      label.appendChild(input);
+      label.appendChild(document.createTextNode(workspace.name));
+      li.appendChild(label);
+      workspaceList.appendChild(li);
+    }
+
+    // Get the names of selected workspaces for initial summary
+    const selectedNames = this._workspaces
+      .filter(ws => this._selectedWorkspaces?.includes(ws.uuid))
+      .map(ws => ws.name);
+
+    // Update summary text with comma-separated list
+    this._workspaceSummary.textContent = selectedNames.length
+      ? selectedNames.join(", ")
+      : "-";
+
+    // Handle read-only state
+    if (this.readOnly) {
+      this._workspaceDropdown.setAttribute("disabled", "true");
+    } else {
+      this._workspaceDropdown.removeAttribute("disabled");
+    }
+  },
+  _selectedWorkspaces : [],
 };
 
 ChromeUtils.defineLazyGetter(gEditItemOverlay, "_folderTree", () => {
@@ -1318,6 +1448,9 @@ for (let elt of [
   "locationField",
   "keywordField",
   "tagsField",
+  "workspaceDropdown",
+  "workspaceSummary",
+  "workspaceList",
 ]) {
   let eltScoped = elt;
   ChromeUtils.defineLazyGetter(gEditItemOverlay, `_${eltScoped}`, () =>



================================================
FILE: src/browser/components/places/content/editBookmarkPanel-inc-xhtml.patch
================================================
diff --git a/browser/components/places/content/editBookmarkPanel.inc.xhtml b/browser/components/places/content/editBookmarkPanel.inc.xhtml
index 40366677b60123c66bf0739d1b2374b423d3061c..a2774e99726407d95011126ea2a272f08eaf0961 100644
--- a/browser/components/places/content/editBookmarkPanel.inc.xhtml
+++ b/browser/components/places/content/editBookmarkPanel.inc.xhtml
@@ -12,14 +12,15 @@
   <html:input id="editBMPanel_namePicker"
               class="editBMPanel_nameRow hideable"
               type="text"/>
-
+<hbox flex="1" class="zenEditBMPanel_fieldContainer">
   <label data-l10n-id="bookmark-overlay-url"
          class="editBMPanel_locationRow hideable"
          control="editBMPanel_locationField"/>
   <html:input id="editBMPanel_locationField"
               class="editBMPanel_locationRow uri-element hideable"
               type="text"/>
-
+</hbox>
+<hbox flex="1" class="zenEditBMPanel_fieldContainer">
   <label data-l10n-id="bookmark-overlay-location-2"
          class="editBMPanel_folderRow hideable"
          control="editBMPanel_folderMenuList"/>
@@ -47,7 +48,25 @@
             class="expander-down panel-button"
             data-l10n-id="bookmark-overlay-folders-expander2"/>
   </hbox>
+  </hbox>
+    <hbox flex="1" class="zenEditBMPanel_fieldContainer">
+      <label data-l10n-id="zen-bookmark-edit-panel-workspace-selector"
+             class="hideable"
+             control="editBMPanel_workspacesSelectorExpander"/>
+      <div id="editBMPanel_workspaceDropdown"
+           class="editBMPanel_workspaceRow hideable workspace-dropdown">
+        <div
+                id="editBMPanel_workspaceSummary"
+                class="workspace-trigger">-</div>
+        <button id="editBMPanel_workspacesSelectorExpander"
+                class="expander-down panel-button"
+                data-l10n-id="bookmark-overlay-tags-expander2"/>
+
+      </div>
+    </hbox>
 
+    <ul id="editBMPanel_workspaceList" class="workspace-list hideable" hidden="true">
+    </ul>
   <vbox id="editBMPanel_folderTreeRow"
         class="hideable"
         hidden="true">



================================================
FILE: src/browser/components/preferences/jar-mn.patch
================================================
diff --git a/browser/components/preferences/jar.mn b/browser/components/preferences/jar.mn
index 5e53352fdbd25d2aed40d0117c3ad7072b9acf8c..0f400864ba7cc850d212ddeeefb71a06376e845f 100644
--- a/browser/components/preferences/jar.mn
+++ b/browser/components/preferences/jar.mn
@@ -42,3 +42,5 @@ browser.jar:
    content/browser/preferences/widgets/sync-device-name.mjs          (widgets/sync-device-name/sync-device-name.mjs)
    content/browser/preferences/widgets/sync-engines-list.mjs          (widgets/sync-engine-list/sync-engines-list.mjs)
    content/browser/preferences/widgets/sync-engines-list.css          (widgets/sync-engine-list/sync-engines-list.css)
+
+   content/browser/preferences/zen-settings.js



================================================
FILE: src/browser/components/preferences/main-inc-xhtml.patch
================================================
diff --git a/browser/components/preferences/main.inc.xhtml b/browser/components/preferences/main.inc.xhtml
index d218a04e0ab44e6a55e368566c97df95e939565b..59f038e59fe1a8554a8b112c5ac33e700b71c79c 100644
--- a/browser/components/preferences/main.inc.xhtml
+++ b/browser/components/preferences/main.inc.xhtml
@@ -48,7 +48,8 @@
 <!-- Browser layout -->
 <groupbox data-category="paneGeneral"
           data-subcategory="layout"
-          hidden="true">
+          hidden="true"
+          style="display: none !important;">
   <label><html:h2 data-l10n-id="browser-layout-header"/></label>
   <radiogroup id="browserLayoutRadioGroup" preference="sidebar.verticalTabs">
     <radio id="browserLayoutHorizontalTabs" data-l10n-id="browser-layout-horizontal-tabs" value="false"/>
@@ -253,6 +254,7 @@
               languages-customize-add.label,
             " />
   </hbox>
+  <label class="zenLanguageWarning-label"><html:b data-l10n-id="zen-warning-language"/></label>
 
   <checkbox id="useSystemLocale" hidden="true"
             data-l10n-id="use-system-locale"



================================================
FILE: src/browser/components/preferences/main-js.patch
================================================
diff --git a/browser/components/preferences/main.js b/browser/components/preferences/main.js
index 6f99cbf973d414ffd4036d17740abe963629db37..520dcce0adb06c5ebfee8c76f72f7d7b40e106da 100644
--- a/browser/components/preferences/main.js
+++ b/browser/components/preferences/main.js
@@ -1729,6 +1729,11 @@ SettingGroupManager.registerGroups({
         id: "browserRestoreSession",
         l10nId: "startup-restore-windows-and-tabs",
       },
+      {
+        id: "zenWorkspaceContinueWhereLeftOff",
+        l10nId: "zen-workspace-continue-where-left-off",
+        control: "moz-checkbox",
+      },
       {
         id: "windowsLaunchOnLogin",
         l10nId: "windows-launch-on-login",
@@ -3133,7 +3138,7 @@ function getBundleForLocales(newLocales) {
     ])
   );
   return new Localization(
-    ["browser/preferences/preferences.ftl", "branding/brand.ftl"],
+    ["browser/preferences/preferences.ftl", "branding/brand.ftl", "browser/preferences/zen-preferences.ftl"],
     false,
     undefined,
     locales



================================================
FILE: src/browser/components/preferences/preferences-js.patch
================================================
diff --git a/browser/components/preferences/preferences.js b/browser/components/preferences/preferences.js
index 7d6835b8636f771943b8081b7d56f579812026c2..97227eec4baeffd39b23ed6194ce7fa108c3b862 100644
--- a/browser/components/preferences/preferences.js
+++ b/browser/components/preferences/preferences.js
@@ -124,6 +124,7 @@ ChromeUtils.defineLazyGetter(this, "gSubDialog", function () {
       styleSheets: [
         "chrome://browser/skin/preferences/dialog.css",
         "chrome://browser/skin/preferences/preferences.css",
+        "chrome://browser/skin/preferences/zen-preferences.css",
       ],
       resizeCallback: async ({ title, frame }) => {
         // Search within main document and highlight matched keyword.
@@ -344,6 +345,10 @@ function init_all() {
   register_module("paneSearch", gSearchPane);
   register_module("panePrivacy", gPrivacyPane);
   register_module("paneContainers", gContainersPane);
+  register_module("paneZenLooks", gZenLooksAndFeel);
+  register_module("paneZenTabManagement", gZenWorkspacesSettings);
+  register_module("paneZenCKS", gZenCKSSettings);
+  register_module("paneZenMarketplace", gZenMarketplaceManager);
 
   for (let [id, config] of Object.entries(CONFIG_PANES)) {
     SettingPaneManager.registerPane(id, config);



================================================
FILE: src/browser/components/preferences/preferences-xhtml.patch
================================================
diff --git a/browser/components/preferences/preferences.xhtml b/browser/components/preferences/preferences.xhtml
index a1aec823d6266d69ff02aa8523d2da999a0871b9..559f2ea12e53dd19f24e7953db4388456b97f02c 100644
--- a/browser/components/preferences/preferences.xhtml
+++ b/browser/components/preferences/preferences.xhtml
@@ -46,6 +46,8 @@
   <link rel="stylesheet" href="chrome://browser/content/preferences/widgets/setting-pane.css" />
   <link rel="stylesheet" href="chrome://browser/content/preferences/widgets/setting-control.css" />
 
+#include zen-preferences-links.xhtml
+
   <link rel="localization" href="branding/brand.ftl"/>
   <link rel="localization" href="browser/browser.ftl"/>
     <!-- Used by fontbuilder.js -->
@@ -115,6 +117,11 @@
   <hbox flex="1">
 
     <vbox class="navigation">
+      <html:moz-input-search
+        id="searchInput"
+        data-l10n-id="search-input-box2"
+        data-l10n-attrs="placeholder, style"
+        />
       <!-- category list -->
       <richlistbox id="categories" data-l10n-id="category-list" data-l10n-attrs="aria-label">
         <richlistitem id="category-general"
@@ -127,6 +134,50 @@
           <label class="category-name" flex="1" data-l10n-id="pane-general-title"></label>
         </richlistitem>
 
+        <richlistitem id="category-zen-looks"
+                      class="category"
+                      value="paneZenLooks"
+                      helpTopic="prefs-main"
+                      data-l10n-id="category-zen-looks"
+                      data-l10n-attrs="tooltiptext"
+                      align="center">
+          <image class="category-icon"/>
+          <label class="category-name" flex="1" data-l10n-id="pane-zen-looks-title"></label>
+        </richlistitem>
+
+        <richlistitem id="category-zen-tabs-management"
+                      class="category"
+                      value="paneZenTabManagement"
+                      helpTopic="prefs-main"
+                      data-l10n-id="category-zen-workspaces"
+                      data-l10n-attrs="tooltiptext"
+                      align="center">
+          <image class="category-icon"/>
+          <label class="category-name" flex="1" data-l10n-id="pane-zen-tabs-title"></label>
+        </richlistitem>
+
+        <richlistitem id="category-zen-CKS"
+                      class="category"
+                      value="paneZenCKS"
+                      helpTopic="prefs-main"
+                      data-l10n-id="category-zen-CKS"
+                      data-l10n-attrs="tooltiptext"
+                      align="center">
+          <image class="category-icon"/>
+          <label class="category-name" flex="1" data-l10n-id="pane-zen-CKS-title"></label>
+        </richlistitem>
+
+        <richlistitem id="category-zen-marketplace"
+                      class="category"
+                      value="paneZenMarketplace"
+                      helpTopic="prefs-main"
+                      data-l10n-id="category-zen-marketplace"
+                      data-l10n-attrs="tooltiptext"
+                      align="center">
+          <image class="category-icon"/>
+          <label class="category-name" flex="1" data-l10n-id="pane-zen-marketplace-title"></label>
+        </richlistitem>
+
         <richlistitem id="category-home"
                       class="category"
                       value="paneHome"
@@ -242,11 +293,6 @@
                 <html:a href="about:policies" target="_blank" data-l10n-id="managed-notice"/>
               </hbox>
             </hbox>
-            <html:moz-input-search
-              id="searchInput"
-              data-l10n-id="search-input-box2"
-              data-l10n-attrs="placeholder, style"
-              />
           </hbox>
         </hbox>
         <vbox id="mainPrefPane">
@@ -260,6 +306,10 @@
 #include sync.inc.xhtml
 #include experimental.inc.xhtml
 #include moreFromMozilla.inc.xhtml
+#include zenLooksAndFeel.inc.xhtml
+#include zenKeyboardShortcuts.inc.xhtml
+#include zenTabsManagement.inc.xhtml
+#include zenMarketplace.inc.xhtml
         </vbox>
       </vbox>
     </vbox>



================================================
FILE: src/browser/components/preferences/sync-inc-xhtml.patch
================================================
diff --git a/browser/components/preferences/sync.inc.xhtml b/browser/components/preferences/sync.inc.xhtml
index 4ecdbdb129577165ed0df619577327f7610e138f..761a4d4f26a21ba555b7af180e8a6030615db500 100644
--- a/browser/components/preferences/sync.inc.xhtml
+++ b/browser/components/preferences/sync.inc.xhtml
@@ -223,6 +223,10 @@
                     <image class="sync-engine-image sync-engine-prefs" alt=""/>
                     <label data-l10n-id="sync-currently-syncing-settings"/>
                   </html:div>
+                  <html:div engine_preference="services.sync.engine.workspaces">
+                    <image class="sync-engine-image sync-engine-workspaces" alt=""/>
+                    <label data-l10n-id="sync-currently-syncing-workspaces"/>
+                  </html:div>
                 </html:div>
                 <hbox>
                   <button id="syncChangeOptions"



================================================
FILE: src/browser/components/preferences/zen-preferences-links.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<link rel="localization" href="browser/preferences/zen-preferences.ftl"/>
<link
  rel="stylesheet"
  href="chrome://browser/skin/preferences/zen-preferences.css"
/>
<script src="chrome://browser/content/zenThemeModifier.js"/>
<link rel="localization" href="browser/preferences/zen-preferences.ftl"/>


================================================
FILE: src/browser/components/preferences/zen-settings.js
================================================
/* eslint-disable no-undef */
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

const { nsZenMultiWindowFeature } = ChromeUtils.importESModule(
  "chrome://browser/content/zen-components/ZenCommonUtils.mjs",
  { global: "current" }
);

const { nsKeyShortcutModifiers } = ChromeUtils.importESModule(
  "chrome://browser/content/zen-components/ZenKeyboardShortcuts.mjs",
  {
    global: "current",
  }
);

var gZenMarketplaceManager = {
  async init() {
    const checkForUpdates = document.getElementById("zenThemeMarketplaceCheckForUpdates");
    const header = document.getElementById("zenMarketplaceHeader");

    if (!checkForUpdates || !header) {
      return; // We haven't entered the settings page yet.
    }

    if (this.__hasInitializedEvents) {
      return;
    }

    if (!window.gZenMods) {
      window.gZenMods = nsZenMultiWindowFeature.currentBrowser.gZenMods;
    }

    header.appendChild(this._initDisableAll());

    this._initImportExport();

    this.__hasInitializedEvents = true;

    await this._buildModsList();

    Services.prefs.addObserver(gZenMods.updatePref, this);

    const checkForUpdateClick = (event) => {
      if (event.target === checkForUpdates) {
        event.preventDefault();

        this._checkForThemeUpdates(event);
      }
    };

    checkForUpdates.addEventListener("click", checkForUpdateClick);

    document.addEventListener("ZenModsMarketplace:CheckForUpdatesFinished", (event) => {
      checkForUpdates.disabled = false;

      const updates = event.detail.updates;
      const success = document.getElementById("zenThemeMarketplaceUpdatesSuccess");
      const error = document.getElementById("zenThemeMarketplaceUpdatesFailure");

      if (updates) {
        success.hidden = false;
        error.hidden = true;
      } else {
        success.hidden = true;
        error.hidden = false;
      }
    });

    window.addEventListener("unload", () => {
      Services.prefs.removeObserver(gZenMods.updatePref, this);
      this.__hasInitializedEvents = false;

      document.removeEventListener("ZenModsMarketplace:CheckForUpdatesFinished", this);
      document.removeEventListener("ZenCheckForModUpdates", this);

      checkForUpdates.removeEventListener("click", checkForUpdateClick);

      this.modsList.innerHTML = "";
      this._doNotRebuildModsList = false;
    });
  },

  _initImportExport() {
    const importButton = document.getElementById("zenThemeMarketplaceImport");
    const exportButton = document.getElementById("zenThemeMarketplaceExport");

    if (importButton) {
      importButton.addEventListener("click", this._importThemes.bind(this));
    }

    if (exportButton) {
      exportButton.addEventListener("click", this._exportThemes.bind(this));
    }
  },

  _initDisableAll() {
    const areModsDisabled = Services.prefs.getBoolPref("zen.themes.disable-all", false);
    const browser = nsZenMultiWindowFeature.currentBrowser;
    const mozToggle = document.createElement("moz-toggle");

    mozToggle.className =
      "zenThemeMarketplaceItemPreferenceToggle zenThemeMarketplaceDisableAllToggle";
    mozToggle.pressed = !areModsDisabled;

    browser.document.l10n.setAttributes(
      mozToggle,
      `zen-theme-disable-all-${!areModsDisabled ? "enabled" : "disabled"}`
    );

    mozToggle.addEventListener("toggle", async (event) => {
      const { pressed = false } = event.target || {};

      this.modsList.style.display = pressed ? "" : "none";
      Services.prefs.setBoolPref("zen.themes.disable-all", !pressed);
      browser.document.l10n.setAttributes(
        mozToggle,
        `zen-theme-disable-all-${pressed ? "enabled" : "disabled"}`
      );
    });

    if (areModsDisabled) {
      this.modsList.style.display = "none";
    }

    return mozToggle;
  },

  async observe() {
    await this._buildModsList();
  },

  _checkForThemeUpdates(event) {
    // Send a message to the child to check for theme updates.
    event.target.disabled = true;
    // send an event that will be listened by the child process.
    document.dispatchEvent(new CustomEvent("ZenCheckForModUpdates"));
  },

  get modsList() {
    if (!this._modsList) {
      this._modsList = document.getElementById("zenThemeMarketplaceList");
    }
    return this._modsList;
  },

  _triggerBuildUpdateWithoutRebuild() {
    this._doNotRebuildModsList = true;
    gZenMods.triggerModsUpdate();
  },

  async removeMod(modId) {
    await gZenMods.removeMod(modId);

    gZenMods.triggerModsUpdate();
  },

  async disableMod(modId) {
    await gZenMods.disableMod(modId);

    this._triggerBuildUpdateWithoutRebuild();
  },

  async enableMod(modId) {
    await gZenMods.enableMod(modId);

    this._triggerBuildUpdateWithoutRebuild();
  },

  async _importThemes() {
    const errorBox = document.getElementById("zenThemeMarketplaceImportFailure");
    const successBox = document.getElementById("zenThemeMarketplaceImportSuccess");

    successBox.hidden = true;
    errorBox.hidden = true;

    const input = document.createElement("input");

    input.type = "file";
    input.accept = ".json";
    input.style.display = "none";
    input.setAttribute("moz-accept", ".json");
    input.setAttribute("accept", ".json");

    let timeout;

    const filePromise = new Promise((resolve) => {
      input.addEventListener("change", (event) => {
        if (timeout) {
          clearTimeout(timeout);
        }

        const file = event.target.files[0];
        resolve(file);
      });

      timeout = setTimeout(() => {
        console.warn("[ZenSettings:ZenMods]: Import timeout reached, aborting.");
        resolve(null);
      }, 60000);
    });

    input.addEventListener("cancel", () => {
      console.warn("[ZenSettings:ZenMods]: Import cancelled by user.");
      clearTimeout(timeout);
    });

    input.click();

    try {
      const file = await filePromise;

      if (!file) {
        return;
      }

      const content = await file.text();

      const mods = JSON.parse(content);

      for (const mod of Object.values(mods)) {
        mod.modId = mod.id;
        await window.ZenInstallMod(mod);
      }
    } catch (error) {
      console.error("[ZenSettings:ZenMods]: Error while importing mods:", error);
      errorBox.hidden = false;
    }

    if (input) {
      input.remove();
    }
  },

  async _exportThemes() {
    const errorBox = document.getElementById("zenThemeMarketplaceExportFailure");
    const successBox = document.getElementById("zenThemeMarketplaceExportSuccess");

    successBox.hidden = true;
    errorBox.hidden = true;

    let temporalAnchor, temporalUrl;
    try {
      const mods = await gZenMods.getMods();
      const modsJson = JSON.stringify(mods, null, 2);
      const blob = new Blob([modsJson], { type: "application/json" });

      temporalUrl = URL.createObjectURL(blob);
      // Creating a link to download the JSON file
      temporalAnchor = document.createElement("a");
      temporalAnchor.href = temporalUrl;
      temporalAnchor.download = "zen-mods-export.json";

      document.body.appendChild(temporalAnchor);
      temporalAnchor.click();
      temporalAnchor.remove();

      successBox.hidden = false;
    } catch (error) {
      console.error("[ZenSettings:ZenMods]: Error while exporting mods:", error);
      errorBox.hidden = false;
    }

    if (temporalAnchor) {
      temporalAnchor.remove();
    }

    if (temporalUrl) {
      URL.revokeObjectURL(temporalUrl);
    }
  },

  async _buildModsList() {
    if (!this.modsList) {
      return;
    }

    if (this._doNotRebuildModsList) {
      this._doNotRebuildModsList = false;
      return;
    }

    const mods = await gZenMods.getMods();
    const browser = nsZenMultiWindowFeature.currentBrowser;
    const modList = document.createElement("div");

    for (const mod of Object.values(mods).sort((a, b) => a.name.localeCompare(b.name))) {
      const sanitizedName = gZenMods.sanitizeModName(mod.name);
      const isModEnabled = mod.enabled === undefined || mod.enabled;
      const fragment = window.MozXULElement.parseXULToFragment(`
        <vbox class="zenThemeMarketplaceItem">
          <vbox class="zenThemeMarketplaceItemContent">
            <hbox flex="1" id="zenThemeMarketplaceItemContentHeader">
              <label><h3 class="zenThemeMarketplaceItemTitle"></h3></label>
            </hbox>
            <description class="description-deemphasized zenThemeMarketplaceItemDescription"></description>
          </vbox>
          <hbox class="zenThemeMarketplaceItemActions">
            ${mod.preferences ? `<button id="zenThemeMarketplaceItemConfigureButton-${sanitizedName}" class="zenThemeMarketplaceItemConfigureButton" hidden="true"></button>` : ""}
            ${mod.homepage ? `<button id="zenThemeMarketplaceItemHomePageLink-${sanitizedName}" class="zenThemeMarketplaceItemHomepageButton" zen-mod-id="${mod.id}"></button>` : ""}
            <button class="zenThemeMarketplaceItemUninstallButton" data-l10n-id="zen-theme-marketplace-remove-button" zen-mod-id="${mod.id}"></button>
          </hbox>
        </vbox>
      `);

      const modName = `${mod.name} (v${mod.version ?? "1.0.0"})`;

      const base = fragment.querySelector(".zenThemeMarketplaceItem");
      const baseHeader = fragment.querySelector("#zenThemeMarketplaceItemContentHeader");

      const dialog = document.createElement("dialog");
      const mainDialogDiv = document.createElement("div");
      const headerDiv = document.createElement("div");
      const headerTitle = document.createElement("h3");
      const closeButton = document.createElement("button");
      const contentDiv = document.createElement("div");
      const mozToggle = document.createElement("moz-toggle");

      mainDialogDiv.className = "zenThemeMarketplaceItemPreferenceDialog";
      headerDiv.className = "zenThemeMarketplaceItemPreferenceDialogTopBar";
      headerTitle.textContent = modName;
      browser.document.l10n.setAttributes(headerTitle, "zen-theme-marketplace-theme-header-title", {
        name: sanitizedName,
      });
      headerTitle.className = "zenThemeMarketplaceItemTitle";
      closeButton.id = `${sanitizedName}-modal-close`;
      browser.document.l10n.setAttributes(closeButton, "zen-theme-marketplace-close-modal");
      contentDiv.id = `${sanitizedName}-preferences-content`;
      contentDiv.className = "zenThemeMarketplaceItemPreferenceDialogContent";
      mozToggle.className = "zenThemeMarketplaceItemPreferenceToggle";

      mozToggle.pressed = isModEnabled;
      browser.document.l10n.setAttributes(
        mozToggle,
        `zen-theme-marketplace-toggle-${isModEnabled ? "enabled" : "disabled"}-button`
      );

      baseHeader.appendChild(mozToggle);

      headerDiv.appendChild(headerTitle);
      headerDiv.appendChild(closeButton);

      mainDialogDiv.appendChild(headerDiv);
      mainDialogDiv.appendChild(contentDiv);
      dialog.appendChild(mainDialogDiv);
      base.appendChild(dialog);

      closeButton.addEventListener("click", () => {
        dialog.close();
      });

      mozToggle.addEventListener("toggle", async (event) => {
        const modId = event.target
          .closest(".zenThemeMarketplaceItem")
          .querySelector(".zenThemeMarketplaceItemUninstallButton")
          .getAttribute("zen-mod-id");
        event.target.setAttribute("disabled", true);

        if (!event.target.hasAttribute("pressed")) {
          await this.disableMod(modId);

          browser.document.l10n.setAttributes(
            mozToggle,
            "zen-theme-marketplace-toggle-disabled-button"
          );

          if (mod.preferences) {
            document
              .getElementById(`zenThemeMarketplaceItemConfigureButton-${sanitizedName}`)
              .setAttribute("hidden", true);
          }
        } else {
          await this.enableMod(modId);

          browser.document.l10n.setAttributes(
            mozToggle,
            "zen-theme-marketplace-toggle-enabled-button"
          );

          if (mod.preferences) {
            document
              .getElementById(`zenThemeMarketplaceItemConfigureButton-${sanitizedName}`)
              .removeAttribute("hidden");
          }
        }
        setTimeout(() => {
          // We use a timeout to make sure the theme list has been updated before re-enabling the button.
          event.target.removeAttribute("disabled");
        }, 400);
      });

      fragment.querySelector(".zenThemeMarketplaceItemTitle").textContent = modName;
      fragment.querySelector(".zenThemeMarketplaceItemDescription").textContent = mod.description;
      fragment
        .querySelector(".zenThemeMarketplaceItemUninstallButton")
        .addEventListener("click", async (event) => {
          const [msg] = await document.l10n.formatValues([
            { id: "zen-theme-marketplace-remove-confirmation" },
          ]);

          if (!confirm(msg)) {
            return;
          }

          await this.removeMod(event.target.getAttribute("zen-mod-id"));
        });

      if (mod.homepage) {
        const homepageButton = fragment.querySelector(".zenThemeMarketplaceItemHomepageButton");
        homepageButton.addEventListener("click", () => {
          // open the homepage url in a new tab
          const url = mod.homepage;

          window.open(url, "_blank");
        });
      }

      if (mod.preferences) {
        fragment
          .querySelector(".zenThemeMarketplaceItemConfigureButton")
          .addEventListener("click", () => {
            dialog.showModal();
          });

        if (isModEnabled) {
          fragment
            .querySelector(".zenThemeMarketplaceItemConfigureButton")
            .removeAttribute("hidden");
        }
      }

      const preferences = await gZenMods.getModPreferences(mod);

      if (preferences.length) {
        const preferencesWrapper = document.createXULElement("vbox");

        preferencesWrapper.setAttribute("flex", "1");

        for (const entry of preferences) {
          const { property, label, type, placeholder, defaultValue } = entry;

          switch (type) {
            case "dropdown": {
              const { options } = entry;

              const container = document.createXULElement("hbox");
              container.classList.add("zenThemeMarketplaceItemPreference");
              container.setAttribute("align", "center");
              container.setAttribute("role", "group");

              const menulist = document.createXULElement("menulist");
              const menupopup = document.createXULElement("menupopup");

              menulist.setAttribute("sizetopopup", "none");
              menulist.setAttribute("id", property + "-popup-menulist");

              const savedValue = Services.prefs.getStringPref(property, defaultValue ?? "none");

              menulist.setAttribute("value", savedValue);
              menulist.setAttribute("tooltiptext", property);

              const defaultItem = document.createXULElement("menuitem");

              defaultItem.setAttribute("value", "none");

              if (placeholder) {
                defaultItem.setAttribute("label", placeholder || "-");
              } else {
                browser.document.l10n.setAttributes(
                  defaultItem,
                  "zen-theme-marketplace-dropdown-default-label"
                );
              }

              menupopup.appendChild(defaultItem);

              for (const option of options) {
                let { label: optionLabel, value } = option;
                let valueType = typeof value;

                if (!["string", "number"].includes(valueType)) {
                  console.warn(
                    `[ZenSettings:ZenMods]: Warning, invalid data type received (${valueType}), skipping.`
                  );
                  continue;
                }

                let menuitem = document.createXULElement("menuitem");

                menuitem.setAttribute("value", value.toString());
                menuitem.setAttribute("label", optionLabel);

                menupopup.appendChild(menuitem);
              }

              menulist.appendChild(menupopup);

              menulist.addEventListener("command", () => {
                const value = menulist.selectedItem.value;

                let element = browser.document.getElementById(sanitizedName);

                if (!element) {
                  element = browser.document.createElement("div");

                  element.style.display = "none";
                  element.setAttribute("id", sanitizedName);

                  browser.document.body.appendChild(element);
                }

                element.setAttribute(property?.replaceAll(/\./g, "-"), value);

                Services.prefs.setStringPref(property, value === "none" ? "" : value);
                this._triggerBuildUpdateWithoutRebuild();
              });

              const nameLabel = document.createXULElement("label");
              nameLabel.setAttribute("flex", "1");
              nameLabel.setAttribute("class", "zenThemeMarketplaceItemPreferenceLabel");
              nameLabel.setAttribute("value", label);
              nameLabel.setAttribute("tooltiptext", property);

              container.appendChild(nameLabel);
              container.appendChild(menulist);
              container.setAttribute("aria-labelledby", label);

              preferencesWrapper.appendChild(container);
              break;
            }

            case "checkbox": {
              const checkbox = window.MozXULElement.parseXULToFragment(`
                <hbox class="zenThemeMarketplaceItemPreference">
                  <checkbox class="zenThemeMarketplaceItemPreferenceCheckbox"></checkbox>
                </hbox>
              `);

              const checkboxElement = checkbox.querySelector(
                ".zenThemeMarketplaceItemPreferenceCheckbox"
              );
              checkboxElement.setAttribute("label", label);
              checkboxElement.setAttribute("tooltiptext", property);
              checkboxElement.setAttribute("zen-pref", property);

              // Checkbox only works with "true" and "false" values, it's not like HTML checkboxes.
              if (Services.prefs.getBoolPref(property, defaultValue ?? false)) {
                checkboxElement.setAttribute("checked", "true");
              }

              checkboxElement.addEventListener("click", (event) => {
                const target = event.target.closest(".zenThemeMarketplaceItemPreferenceCheckbox");
                const key = target.getAttribute("zen-pref");
                const checked = target.hasAttribute("checked");

                if (!checked) {
                  target.removeAttribute("checked");
                } else {
                  target.setAttribute("checked", "true");
                }

                Services.prefs.setBoolPref(key, !checked);
              });

              preferencesWrapper.appendChild(checkbox);
              break;
            }

            case "string": {
              const container = document.createXULElement("hbox");
              container.classList.add("zenThemeMarketplaceItemPreference");
              container.setAttribute("align", "center");
              container.setAttribute("role", "group");

              const savedValue = Services.prefs.getStringPref(property, defaultValue ?? "");
              const sanitizedProperty = property?.replaceAll(/\./g, "-");

              const input = document.createElement("input");
              input.setAttribute("flex", "1");
              input.setAttribute("type", "text");
              input.id = `${sanitizedProperty}-input`;
              input.value = savedValue;

              if (placeholder) {
                input.setAttribute("placeholder", placeholder || "-");
              } else {
                browser.document.l10n.setAttributes(
                  input,
                  "zen-theme-marketplace-input-default-placeholder"
                );
              }

              input.addEventListener(
                "change",
                gZenMods.debounce((event) => {
                  const value = event.target.value;

                  Services.prefs.setStringPref(property, value);
                  this._triggerBuildUpdateWithoutRebuild();

                  if (value === "") {
                    browser.document
                      .querySelector(":root")
                      .style.removeProperty(`--${sanitizedProperty}`);
                  } else {
                    browser.document
                      .querySelector(":root")
                      .style.setProperty(`--${sanitizedProperty}`, value);
                  }
                }, 500)
              );

              const nameLabel = document.createXULElement("label");
              nameLabel.setAttribute("flex", "1");
              nameLabel.setAttribute("class", "zenThemeMarketplaceItemPreferenceLabel");
              nameLabel.setAttribute("value", label);
              nameLabel.setAttribute("tooltiptext", property);

              container.appendChild(nameLabel);
              container.appendChild(input);
              container.setAttribute("aria-labelledby", label);

              preferencesWrapper.appendChild(container);
              break;
            }

            default:
              console.warn(
                `[ZenSettings:ZenMods]: Warning, unknown preference type received (${type}), skipping.`
              );
              continue;
          }
        }
        contentDiv.appendChild(preferencesWrapper);
      }
      modList.appendChild(fragment);
    }

    this.modsList.replaceChildren(...modList.children);
    modList.remove();
  },
};

const kZenExtendedSidebar = "zen.view.sidebar-expanded";
const kZenSingleToolbar = "zen.view.use-single-toolbar";

var gZenLooksAndFeel = {
  init() {
    if (this.__hasInitialized) {
      return;
    }
    this.__hasInitialized = true;
    gZenMarketplaceManager.init();
    for (const pref of [kZenExtendedSidebar, kZenSingleToolbar]) {
      Services.prefs.addObserver(pref, this);
    }
    window.addEventListener("unload", () => {
      for (const pref of [kZenExtendedSidebar, kZenSingleToolbar]) {
        Services.prefs.removeObserver(pref, this);
      }
    });
    this.applySidebarLayout();
  },

  observe() {
    this.applySidebarLayout();
  },

  applySidebarLayout() {
    const isSingleToolbar = Services.prefs.getBoolPref(kZenSingleToolbar);
    const isExtendedSidebar = Services.prefs.getBoolPref(kZenExtendedSidebar);
    for (const layout of document.getElementById("zenLayoutList").children) {
      layout.classList.remove("selected");
      if (layout.getAttribute("layout") == "single" && isSingleToolbar) {
        layout.classList.add("selected");
      } else if (
        layout.getAttribute("layout") == "multiple" &&
        !isSingleToolbar &&
        isExtendedSidebar
      ) {
        layout.classList.add("selected");
      } else if (layout.getAttribute("layout") == "collapsed" && !isExtendedSidebar) {
        layout.classList.add("selected");
      }
    }
    if (this.__hasInitializedLayout) {
      return;
    }
    this.__hasInitializedLayout = true;
    for (const layout of document.getElementById("zenLayoutList").children) {
      layout.addEventListener("click", () => {
        if (layout.hasAttribute("disabled")) {
          return;
        }

        for (const el of document.getElementById("zenLayoutList").children) {
          el.classList.remove("selected");
        }

        layout.classList.add("selected");

        Services.prefs.setBoolPref(
          kZenExtendedSidebar,
          layout.getAttribute("layout") != "collapsed"
        );
        Services.prefs.setBoolPref(kZenSingleToolbar, layout.getAttribute("layout") == "single");
      });
    }
  },
};

var gZenWorkspacesSettings = {
  init() {
    var tabsUnloaderPrefListener = {
      async observe() {
        let buttonIndex = await confirmRestartPrompt(true, 1, true, true);
        if (buttonIndex == CONFIRM_RESTART_PROMPT_RESTART_NOW) {
          Services.startup.quit(Ci.nsIAppStartup.eAttemptQuit | Ci.nsIAppStartup.eRestart);
        }
      },
    };

    let toggleZenCycleByAttrWarning = {
      observe() {
        const warning = document.getElementById("zenTabsCycleByAttributeWarning");
        warning.hidden = !(
          Services.prefs.getBoolPref("zen.tabs.ctrl-tab.ignore-essential-tabs", false) &&
          Services.prefs.getBoolPref("browser.ctrlTab.sortByRecentlyUsed", false)
        );
      },
    };

    toggleZenCycleByAttrWarning.observe(); // call it once on initial load

    Services.prefs.addObserver("zen.glance.enabled", tabsUnloaderPrefListener); // We can use the same listener for both prefs
    Services.prefs.addObserver("zen.workspaces.separate-essentials", tabsUnloaderPrefListener);
    Services.prefs.addObserver("zen.glance.activation-method", tabsUnloaderPrefListener);
    Services.prefs.addObserver("zen.window-sync.sync-only-pinned-tabs", tabsUnloaderPrefListener);
    Services.prefs.addObserver(
      "zen.tabs.ctrl-tab.ignore-essential-tabs",
      toggleZenCycleByAttrWarning
    );
    Services.prefs.addObserver("browser.ctrlTab.sortByRecentlyUsed", toggleZenCycleByAttrWarning);
    window.addEventListener("unload", () => {
      Services.prefs.removeObserver("zen.glance.enabled", tabsUnloaderPrefListener);
      Services.prefs.removeObserver("zen.glance.activation-method", tabsUnloaderPrefListener);
      Services.prefs.removeObserver("zen.workspaces.separate-essentials", tabsUnloaderPrefListener);
      Services.prefs.removeObserver(
        "zen.window-sync.sync-only-pinned-tabs",
        tabsUnloaderPrefListener
      );
      Services.prefs.removeObserver(
        "zen.tabs.ctrl-tab.ignore-essential-tabs",
        toggleZenCycleByAttrWarning
      );
      Services.prefs.removeObserver(
        "browser.ctrlTab.sortByRecentlyUsed",
        toggleZenCycleByAttrWarning
      );
    });
  },
};

const ZEN_CKS_CLASS_BASE = "zenCKSOption";
const ZEN_CKS_INPUT_FIELD_CLASS = `${ZEN_CKS_CLASS_BASE}-input`;
const ZEN_CKS_LABEL_CLASS = `${ZEN_CKS_CLASS_BASE}-label`;
const ZEN_CKS_WRAPPER_ID = `${ZEN_CKS_CLASS_BASE}-wrapper`;
const ZEN_CKS_GROUP_PREFIX = `${ZEN_CKS_CLASS_BASE}-group`;
const KEYBIND_ATTRIBUTE_KEY = "key";

const zenMissingKeyboardShortcutL10n = {
  key_quickRestart: "zen-key-quick-restart",
  key_delete: "zen-key-delete",
  goBackKb: "zen-key-go-back",
  goForwardKb: "zen-key-go-forward",
  key_enterFullScreen: "zen-key-enter-full-screen",
  key_exitFullScreen: "zen-key-exit-full-screen",
  key_aboutProcesses: "zen-key-about-processes",
  key_sanitize: "zen-key-sanitize",
  key_wrCaptureCmd: "zen-key-wr-capture-cmd",
  key_wrToggleCaptureSequenceCmd: "zen-key-wr-toggle-capture-sequence-cmd",
  key_undoCloseWindow: "zen-key-undo-close-window",

  "zen-glance-expand": "zen-glance-expand",

  key_selectTab1: "zen-key-select-tab-1",
  key_selectTab2: "zen-key-select-tab-2",
  key_selectTab3: "zen-key-select-tab-3",
  key_selectTab4: "zen-key-select-tab-4",
  key_selectTab5: "zen-key-select-tab-5",
  key_selectTab6: "zen-key-select-tab-6",
  key_selectTab7: "zen-key-select-tab-7",
  key_selectTab8: "zen-key-select-tab-8",
  key_selectLastTab: "zen-key-select-tab-last",

  key_showAllTabs: "zen-key-show-all-tabs",
  key_gotoHistory: "zen-key-goto-history",

  goHome: "zen-key-go-home",
  key_redo: "zen-key-redo",

  key_inspectorMac: "zen-key-inspector-mac",

  // Devtools
  key_toggleToolbox: "zen-devtools-toggle-shortcut",
  key_browserToolbox: "zen-devtools-toggle-browser-toolbox-shortcut",
  key_browserConsole: "zen-devtools-toggle-browser-console-shortcut",
  key_responsiveDesignMode: "zen-devtools-toggle-responsive-design-mode-shortcut",
  key_inspector: "zen-devtools-toggle-inspector-shortcut",
  key_webconsole: "zen-devtools-toggle-web-console-shortcut",
  key_jsdebugger: "zen-devtools-toggle-js-debugger-shortcut",
  key_netmonitor: "zen-devtools-toggle-net-monitor-shortcut",
  key_styleeditor: "zen-devtools-toggle-style-editor-shortcut",
  key_performance: "zen-devtools-toggle-performance-shortcut",
  key_storage: "zen-devtools-toggle-storage-shortcut",
  key_dom: "zen-devtools-toggle-dom-shortcut",
  key_accessibility: "zen-devtools-toggle-accessibility-shortcut",
};

var zenIgnoreKeyboardShortcutIDs = [
  "key_enterFullScreen_old",
  "key_enterFullScreen_compat",
  "key_exitFullScreen_old",
  "key_exitFullScreen_compat",
];

var zenIgnoreKeyboardShortcutL10n = [
  "zen-full-zoom-reduce-shortcut-alt-b",
  "zen-full-zoom-reduce-shortcut-alt-a",
];

var gZenCKSSettings = {
  async init() {
    await this._initializeCKS();
    if (this.__hasInitialized) {
      return;
    }
    this.__hasInitialized = true;
    this._currentActionID = null;
    this._initializeEvents();
    window.addEventListener("unload", () => {
      this.__hasInitialized = false;
      document.getElementById(ZEN_CKS_WRAPPER_ID).innerHTML = "";
    });
  },

  _initializeEvents() {
    const resetAllListener = this.resetAllShortcuts.bind(this);
    const handleKeyDown = this._handleKeyDown.bind(this);
    window.addEventListener("keydown", handleKeyDown);
    const button = document.getElementById("zenCKSResetButton");
    button.addEventListener("click", resetAllListener);
    window.addEventListener("unload", () => {
      window.removeEventListener("keydown", handleKeyDown);
      button.removeEventListener("click", resetAllListener);
    });
  },

  async resetAllShortcuts() {
    let buttonIndex = await confirmRestartPrompt(true, 1, true, false);
    if (buttonIndex == CONFIRM_RESTART_PROMPT_RESTART_NOW) {
      await gZenKeyboardShortcutsManager.resetAllShortcuts();
      Services.startup.quit(Ci.nsIAppStartup.eAttemptQuit | Ci.nsIAppStartup.eRestart);
    }
  },

  async _initializeCKS() {
    let wrapper = document.getElementById(ZEN_CKS_WRAPPER_ID);
    wrapper.innerHTML = "";

    let shortcuts = await gZenKeyboardShortcutsManager.getModifiableShortcuts();

    if (!shortcuts) {
      throw Error("No shortcuts defined!");
    }

    // Generate section per each group
    for (let group of VALID_SHORTCUT_GROUPS) {
      let groupClass = `${ZEN_CKS_GROUP_PREFIX}-${group}`;
      if (!wrapper.querySelector(`[data-group="${groupClass}"]`)) {
        let groupElem = document.createElement("h2");
        groupElem.setAttribute("data-group", groupClass);
        document.l10n.setAttributes(groupElem, groupClass);
        wrapper.appendChild(groupElem);
      }
    }

    for (let shortcut of shortcuts) {
      const keyID = shortcut.getID();
      const action = shortcut.getAction();
      const l10nID = shortcut.getL10NID();
      const group = shortcut.getGroup();
      const keyInString = shortcut.toDisplayString();

      const labelValue = zenMissingKeyboardShortcutL10n[keyID] ?? l10nID;

      if (
        zenIgnoreKeyboardShortcutIDs.includes(keyID) ||
        zenIgnoreKeyboardShortcutL10n.includes(labelValue) ||
        shortcut.shouldBeEmpty
      ) {
        continue;
      }

      let fragment = window.MozXULElement.parseXULToFragment(`
        <hbox class="${ZEN_CKS_CLASS_BASE}">
          <label class="${ZEN_CKS_LABEL_CLASS}" for="${ZEN_CKS_CLASS_BASE}-${keyID}"></label>
          <vbox flex="1">
            <html:input readonly="1" class="${ZEN_CKS_INPUT_FIELD_CLASS}" id="${ZEN_CKS_INPUT_FIELD_CLASS}-${keyID}" />
          </vbox>
        </hbox>
      `);

      const label = fragment.querySelector(`.${ZEN_CKS_LABEL_CLASS}`);
      if (!labelValue) {
        label.textContent = action; // Just in case
      } else {
        document.l10n.setAttributes(label, labelValue);
      }

      let input = fragment.querySelector(`.${ZEN_CKS_INPUT_FIELD_CLASS}`);
      if (keyInString && !shortcut.isEmpty()) {
        input.value = keyInString;
      } else {
        this._resetShortcut(input);
      }

      input.setAttribute(KEYBIND_ATTRIBUTE_KEY, keyID);
      input.setAttribute("data-group", group);
      input.setAttribute("data-id", keyID);

      input.addEventListener("focus", (event) => {
        this._currentActionID = event.target.getAttribute("data-id");
        event.target.classList.add(`${ZEN_CKS_INPUT_FIELD_CLASS}-editing`);
        this._hasSafed = true;
      });

      input.addEventListener("editDone", (event) => {
        const target = event.target;
        target.classList.add(`${ZEN_CKS_INPUT_FIELD_CLASS}-editing`);
      });

      input.addEventListener("blur", (event) => {
        const target = event.target;
        target.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-editing`);
        if (!this._hasSafed) {
          target.classList.add(`${ZEN_CKS_INPUT_FIELD_CLASS}-unsafed`);
          if (!target.nextElementSibling) {
            target.after(
              window.MozXULElement.parseXULToFragment(`
              <label class="${ZEN_CKS_CLASS_BASE}-unsafed" data-l10n-id="zen-key-unsaved"></label>
            `)
            );
            target.value = "Not set";
          }
        } else {
          target.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-unsafed`);
          const sibling = target.nextElementSibling;
          if (sibling && sibling.classList.contains(`${ZEN_CKS_CLASS_BASE}-unsafed`)) {
            sibling.remove();
          }
        }
        if (target.classList.contains(`${ZEN_CKS_INPUT_FIELD_CLASS}-not-set`)) {
          target.label = "Not set";
        }
      });

      const groupElem = wrapper.querySelector(`[data-group="${ZEN_CKS_GROUP_PREFIX}-${group}"]`);
      groupElem.after(fragment);
    }
  },

  async _resetShortcut(input) {
    input.value = "Not set";
    input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-invalid`);
    input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-editing`);
    input.classList.add(`${ZEN_CKS_INPUT_FIELD_CLASS}-not-set`);

    if (this._currentActionID) {
      this._editDone();
      await gZenKeyboardShortcutsManager.setShortcut(this._currentActionID, null, null);
    }
  },

  _editDone(shortcut, modifiers) {
    // Check if we have a valid key
    if (!shortcut || !modifiers) {
      return;
    }
    gZenKeyboardShortcutsManager.setShortcut(this._currentActionID, shortcut, modifiers);
    this._currentActionID = null;
  },

  //TODO Check for duplicates
  async _handleKeyDown(event) {
    if (!this._currentActionID || document.hidden) {
      return;
    }

    event.preventDefault();

    let input = document.querySelector(
      `.${ZEN_CKS_INPUT_FIELD_CLASS}[${KEYBIND_ATTRIBUTE_KEY}="${this._currentActionID}"]`
    );
    const modifiers = new nsKeyShortcutModifiers(
      event.ctrlKey,
      event.altKey,
      event.shiftKey,
      event.metaKey,
      false
    );
    const modifiersActive = modifiers.areAnyActive();

    input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-not-set`);

    // First, try to read the *physical* key via event.code.
    // If event.code is like "KeyS", "KeyA", ..., strip off "Key" → "S".
    // Otherwise, fall back to event.key (e.g. "F5", "Enter", etc.).
    let shortcut;
    if (event.code && event.code.startsWith("Key")) {
      shortcut = event.code.slice(3);
    } else {
      shortcut = event.key;
    }

    shortcut = shortcut.replace(/Ctrl|Control|Shift|Alt|Option|Cmd|Meta/, ""); // Remove all modifiers

    if (shortcut == "Tab" && !modifiersActive) {
      input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-not-set`);
      input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-editing`);
      this._latestValidKey = null;
      return;
    } else if (shortcut == "Escape" && !modifiersActive) {
      const { hasConflicts, conflictShortcut } = gZenKeyboardShortcutsManager.checkForConflicts(
        this._latestValidKey ? this._latestValidKey : shortcut,
        this._latestModifier ? this._latestModifier : modifiers,
        this._currentActionID
      );

      if (!this._latestValidKey && !this._latestModifier) {
        // todo(lint): This is a bit weird, we need to remove this empty block
      } else if (!this._latestValidKey || hasConflicts) {
        if (!input.classList.contains(`${ZEN_CKS_INPUT_FIELD_CLASS}-invalid`)) {
          input.classList.add(`${ZEN_CKS_INPUT_FIELD_CLASS}-invalid`);
        }
        input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-unsafed`);

        if (hasConflicts) {
          const shortcutL10nKey =
            zenMissingKeyboardShortcutL10n[conflictShortcut.getID()] ??
            conflictShortcut.getL10NID();

          const [group] = await document.l10n.formatValues([
            { id: `${ZEN_CKS_GROUP_PREFIX}-${conflictShortcut.getGroup()}` },
            { id: shortcutL10nKey },
          ]);

          if (!input.nextElementSibling) {
            input.after(
              window.MozXULElement.parseXULToFragment(`
                <label class="${ZEN_CKS_CLASS_BASE}-conflict" data-l10n-id="zen-key-conflict"></label>
              `)
            );
          }

          document.l10n.setAttributes(input.nextElementSibling, "zen-key-conflict", {
            group: group ?? "",
            shortcut: shortcut ?? "",
          });
        }
      } else {
        input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-editing`);

        this._editDone(this._latestValidKey, this._latestModifier);
        if (this.name == "Not set") {
          input.classList.add(`${ZEN_CKS_INPUT_FIELD_CLASS}-not-set`);
        }
        this._latestValidKey = null;
        this._latestModifier = null;
        input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-invalid`);
        input.classList.add(`${ZEN_CKS_INPUT_FIELD_CLASS}-valid`);
        setTimeout(() => {
          input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-valid`);
        }, 1000);
        const sibling = input.nextElementSibling;
        if (sibling && sibling.classList.contains(`${ZEN_CKS_CLASS_BASE}-conflict`)) {
          sibling.remove();
        }
      }
      this._hasSafed = true;
      input.blur();
      this._currentActionID = null;
      return;
    } else if (shortcut == "Backspace" && !modifiersActive) {
      this._resetShortcut(input);
      this._latestValidKey = null;
      this._latestModifier = null;
      this._hasSafed = true;
      const sibling = input.nextElementSibling;
      if (sibling && sibling.classList.contains(`${ZEN_CKS_CLASS_BASE}-conflict`)) {
        sibling.remove();
      }
      return;
    }

    this._latestModifier = modifiers;
    this._hasSafed = false;
    input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-invalid`);
    input.classList.remove(`${ZEN_CKS_INPUT_FIELD_CLASS}-not-set`);
    input.value = modifiers.toDisplayString() + shortcut;
    this._latestValidKey = shortcut;
  },
};

Preferences.addAll([
  {
    id: "zen.view.compact.toolbar-flash-popup",
    type: "bool",
    default: true,
  },
  {
    id: "zen.workspaces.hide-default-container-indicator",
    type: "bool",
    default: true,
  },
  {
    id: "zen.tab-unloader.timeout-minutes",
    type: "int",
    default: 10,
  },
  {
    id: "zen.pinned-tab-manager.restore-pinned-tabs-to-pinned-url",
    type: "bool",
    default: true,
  },
  {
    id: "zen.pinned-tab-manager.close-shortcut-behavior",
    type: "string",
    default: "switch",
  },
  {
    id: "zen.workspaces.force-container-workspace",
    type: "bool",
    default: true,
  },
  {
    id: "zen.workspaces.open-new-tab-if-last-unpinned-tab-is-closed",
    type: "bool",
    default: true,
  },
  {
    id: "zen.glance.activation-method",
    type: "string",
    default: "ctrl",
  },
  {
    id: "zen.glance.enabled",
    type: "bool",
    default: true,
  },
  {
    id: "zen.urlbar.behavior",
    type: "string",
    default: "float",
  },
  {
    id: "zen.workspaces.separate-essentials",
    type: "bool",
    default: false,
  },
  {
    id: "zen.tabs.show-newtab-vertical",
    type: "bool",
    default: true,
  },
  {
    id: "zen.view.show-newtab-button-top",
    type: "bool",
    default: true,
  },
  {
    id: "media.videocontrols.picture-in-picture.enabled",
    type: "bool",
    default: true,
  },
  {
    id: "zen.workspaces.continue-where-left-off",
    type: "bool",
    default: false,
  },
  {
    id: "zen.mods.auto-update",
    type: "bool",
    default: true,
  },
  {
    id: "zen.tabs.ctrl-tab.ignore-essential-tabs",
    type: "bool",
    default: false,
  },
  {
    id: "zen.tabs.ctrl-tab.ignore-pending-tabs",
    type: "bool",
    default: false,
  },
  {
    id: "zen.tabs.close-on-back-with-no-history",
    type: "bool",
    default: false,
  },
  {
    id: "zen.tabs.select-recently-used-on-close",
    type: "bool",
    default: true,
  },
  {
    id: "zen.window-sync.sync-only-pinned-tabs",
    type: "bool",
    default: false,
  },
]);

Preferences.addSetting({
  id: "zenWorkspaceContinueWhereLeftOff",
  pref: "zen.workspaces.continue-where-left-off",
});



================================================
FILE: src/browser/components/preferences/zenKeyboardShortcuts.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<html:template id="template-paneZenCKS">
<hbox id="ZenCKSCategory"
      class="subcategory"
      hidden="true"
      data-category="paneZenCKS">
<html:h1 data-l10n-id="pane-zen-CKS-title"/>
</hbox>

<groupbox id="zenCKSGroup" data-category="paneZenCKS" hidden="true" class="highlighting-group">
      <label><html:h2 data-l10n-id="zen-settings-CKS-header"/></label>
      <description class="description-deemphasized" data-l10n-id="zen-settings-CKS-description" />
      <hbox>
            <button id="zenCKSResetButton" data-l10n-id="zen-settings-CKS-reset-shortcuts" class="reset-button"/>
      </hbox>
      <vbox id="zenCKSOption-wrapper"></vbox>
</groupbox>

</html:template>



================================================
FILE: src/browser/components/preferences/zenLooksAndFeel.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<script type="text/javascript" src="chrome://browser/content/preferences/zen-settings.js"/>
<html:template id="template-paneZenLooks">

<hbox id="zenVerticalTabsCategory"
      class="subcategory"
      hidden="true"
      data-category="paneZenLooks">
<html:h1 data-l10n-id="zen-vertical-tabs-title"/>
</hbox>

<groupbox id="zenVerticalTabsGroup" data-category="paneZenLooks" hidden="true" class="highlighting-group">
  <label><html:h2 data-l10n-id="zen-vertical-tabs-layout-header"/></label>
    <description class="description-deemphasized" data-l10n-id="zen-vertical-tabs-layout-description" />
    <hbox id="zenLayoutList">
      <hbox layout="single">
        <html:img src="chrome://browser/content/zen-images/layouts/single-toolbar.png" />
        <label data-l10n-id="zen-layout-single-toolbar"></label>
      </hbox>
      <hbox layout="multiple">
        <html:img src="chrome://browser/content/zen-images/layouts/multiple-toolbar.png" />
        <label data-l10n-id="zen-layout-multiple-toolbar"></label>
      </hbox>
      <hbox layout="collapsed">
        <html:img src="chrome://browser/content/zen-images/layouts/collapsed.png" />
        <label data-l10n-id="zen-layout-collapsed-toolbar"></label>
      </hbox>
    </hbox>
  <label><html:h2 data-l10n-id="zen-vertical-tabs-header"/></label>
      <description class="description-deemphasized" data-l10n-id="zen-vertical-tabs-description" />

      <checkbox id="zenLooksAndFeelNewtabUnderLastTab"
            data-l10n-id="zen-vertical-tabs-newtab-on-tab-list"
            preference="zen.tabs.show-newtab-vertical"/>
    <vbox class="indent">
        <checkbox id="zenLooksAndFeelMoveNewtabToTop"
                data-l10n-id="zen-vertical-tabs-newtab-top-button-up"
                preference="zen.view.show-newtab-button-top"/>
    </vbox>
    <html:div data-l10n-id="preferences-web-appearance-footer">
        <html:a id="web-appearance-manage-themes-link" class="text-link" data-l10n-name="themes-link" href="about:addons" target="_blank" />
    </html:div>
</groupbox>

<hbox id="zenThemeCategory"
      class="subcategory"
      hidden="true"
      data-category="paneZenLooks">
<html:h1 data-l10n-id="pane-zen-theme-title"/>
</hbox>

<groupbox id="zenThemeGroup" data-category="paneZenLooks" hidden="true" class="highlighting-group">
      <label><html:h2 data-l10n-id="zen-look-and-feel-compact-view-header"/></label>
      <description class="description-deemphasized" data-l10n-id="zen-look-and-feel-compact-view-description" />

      <vbox class="indent">
            <checkbox id="zenLooksAndFeelEnableToolbarFlashPopup"
                      data-l10n-id="zen-look-and-feel-compact-toolbar-flash-popup"
                      preference="zen.view.compact.toolbar-flash-popup"/>
      </vbox>
</groupbox>

<hbox id="zenGlanceCategory"
      class="subcategory"
      hidden="true"
      data-category="paneZenLooks">
<html:h1 data-l10n-id="zen-glance-title"/>
</hbox>

<groupbox id="zenGlanceGroup" data-category="paneZenLooks" hidden="true" class="highlighting-group">
      <label><html:h2 data-l10n-id="zen-glance-header"/></label>
      <description class="description-deemphasized" data-l10n-id="zen-glance-description" />

      <checkbox id="zenLooksAndFeelGlanceEnabled"
            data-l10n-id="zen-glance-enabled"
            preference="zen.glance.enabled"/>
      <hbox align="center">
            <label id="zenGlanceTriggerLabel" data-l10n-id="zen-glance-trigger-label"/>
            <menulist id="zenGlanceTrigger" preference="zen.glance.activation-method">
                  <menupopup>
                        <menuitem data-l10n-id="zen-glance-trigger-ctrl-click" value="ctrl"/>
                        <menuitem data-l10n-id="zen-glance-trigger-alt-click" value="alt"/>
                        <menuitem data-l10n-id="zen-glance-trigger-shift-click" value="shift"/>
#ifdef XP_MACOSX
                        <menuitem data-l10n-id="zen-glance-trigger-meta-click" value="meta"/>
#endif
                  </menupopup>
            </menulist>
        </hbox>
</groupbox>

<hbox id="zenUrlBarCategory"
      class="subcategory"
      hidden="true"
      data-category="paneZenLooks">
<html:h1 data-l10n-id="zen-urlbar-title"/>
</hbox>

<groupbox id="zenUrlbarGroup" data-category="paneZenLooks" hidden="true" class="highlighting-group">
      <label><html:h2 data-l10n-id="zen-urlbar-header"/></label>
      <description class="description-deemphasized" data-l10n-id="zen-urlbar-description" />

      <hbox align="center">
            <label data-l10n-id="zen-urlbar-behavior-label"/>
            <menulist preference="zen.urlbar.behavior">
                  <menupopup>
                        <menuitem data-l10n-id="zen-urlbar-behavior-normal" value="normal"/>
                        <menuitem data-l10n-id="zen-urlbar-behavior-floating-on-type" value="floating-on-type"/>
                        <menuitem data-l10n-id="zen-urlbar-behavior-float" value="float"/>
                  </menupopup>
            </menulist>
        </hbox>
</groupbox>

</html:template>



================================================
FILE: src/browser/components/preferences/zenMarketplace.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<html:template id="template-paneZenMarketplace">
<hbox id="ZenMarketplaceCategory"
      class="subcategory"
      hidden="true"
      data-category="paneZenMarketplace">
<html:h1 data-l10n-id="pane-zen-marketplace-title"/>
</hbox>

<groupbox id="zenMarketplaceGroup" data-category="paneZenMarketplace" hidden="true" class="highlighting-group">

      <hbox id="zenMarketplaceHeader">
        <html:h2 data-l10n-id="zen-theme-marketplace-header"/>
      </hbox>
      <description class="description-deemphasized" data-l10n-id="zen-theme-marketplace-description" />
      <hbox class="indent">
            <html:a id="zenThemeMarketplaceLink" href="https://zen-browser.app/mods/" target="_blank" data-l10n-id="zen-theme-marketplace-link" />
            <button id="zenThemeMarketplaceImport" data-l10n-id="zen-theme-marketplace-import-button" />
            <button id="zenThemeMarketplaceExport" data-l10n-id="zen-theme-marketplace-export-button" />
            <button id="zenThemeMarketplaceCheckForUpdates" data-l10n-id="zen-theme-marketplace-check-for-updates-button" />
      </hbox>

      <checkbox id="zenThemeMarketplaceAutoUpdate"
            data-l10n-id="zen-themes-auto-update"
            preference="zen.mods.auto-update"/>

      <description class="description-deemphasized" data-l10n-id="zen-theme-marketplace-updates-success" hidden="true" id="zenThemeMarketplaceUpdatesSuccess" />
      <description class="description-deemphasized" data-l10n-id="zen-theme-marketplace-updates-failure" hidden="true" id="zenThemeMarketplaceUpdatesFailure" />

      <description class="description-deemphasized" data-l10n-id="zen-theme-marketplace-import-success" hidden="true" id="zenThemeMarketplaceImportSuccess" />
      <description class="description-deemphasized" data-l10n-id="zen-theme-marketplace-import-failure" hidden="true" id="zenThemeMarketplaceImportFailure" />

      <description class="description-deemphasized" data-l10n-id="zen-theme-marketplace-export-success" hidden="true" id="zenThemeMarketplaceExportSuccess" />
      <description class="description-deemphasized" data-l10n-id="zen-theme-marketplace-export-failure" hidden="true" id="zenThemeMarketplaceExportFailure" />

      <vbox id="zenThemeMarketplaceList"></vbox>
</groupbox>

</html:template>



================================================
FILE: src/browser/components/preferences/zenTabsManagement.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<html:template id="template-paneZenTabManagement">
<hbox id="ZenWorkspacesCategory"
      class="subcategory"
      hidden="true"
      data-category="paneZenTabManagement">
</hbox>

<hbox id="zenTabManagementCategory"
      class="subcategory"
      hidden="true"
      data-category="paneZenTabManagement">
<html:h1 data-l10n-id="pane-settings-workspaces-title"/>
</hbox>

<groupbox id="zenWorkspacesGroup" data-category="paneZenTabManagement" hidden="true" class="highlighting-group">
      <label><html:h2 data-l10n-id="zen-settings-workspaces-header"/></label>
      <description class="description-deemphasized" data-l10n-id="zen-settings-workspaces-description" />

      <checkbox id="zenWorkspacesSyncUnpinnedTabs"
            data-l10n-id="zen-settings-workspaces-sync-unpinned-tabs"
            preference="zen.window-sync.sync-only-pinned-tabs"/>
      <checkbox id="zenWorkspacesHideDefaultContainer"
            data-l10n-id="zen-settings-workspaces-hide-default-container-indicator"
            preference="zen.workspaces.hide-default-container-indicator"/>
      <checkbox id="zenWorkspacesForceContainerTabsToWorkspace"
            data-l10n-id="zen-settings-workspaces-force-container-tabs-to-workspace"
            preference="zen.workspaces.force-container-workspace"/>
      <checkbox id="zenTabsCloseOnBackWithNoHistory"
            data-l10n-id="zen-tabs-close-on-back-with-no-history"
            preference="zen.tabs.close-on-back-with-no-history"/>
      <checkbox data-l10n-id="zen-tabs-cycle-ignore-pending-tabs"
            preference="zen.tabs.ctrl-tab.ignore-pending-tabs"/>
      <checkbox data-l10n-id="zen-tabs-cycle-by-attribute"
            preference="zen.tabs.ctrl-tab.ignore-essential-tabs"/>
      <description id="zenTabsCycleByAttributeWarning"
            class="description-deemphasized"
            data-l10n-id="zen-tabs-cycle-by-attribute-warning"
            hidden="true"/>
      <checkbox data-l10n-id="zen-tabs-select-recently-used-on-close"
            preference="zen.tabs.select-recently-used-on-close"/>
</groupbox>

<hbox id="zenPinnedTabsManagerCategory"
      class="subcategory"
      hidden="true"
      data-category="paneZenTabManagement">
      <html:h1 data-l10n-id="pane-zen-pinned-tab-manager-title"/>
</hbox>

<groupbox id="zenPinnedTabsManagerGroup" data-category="paneZenTabManagement" hidden="true" class="highlighting-group">
      <label><html:h2 data-l10n-id="zen-pinned-tab-manager-header"/></label>
      <description class="description-deemphasized" data-l10n-id="zen-pinned-tab-manager-description" />

      <checkbox id="zenPinnedTabRestorePinnedTabsToPinnedUrl"
                data-l10n-id="zen-pinned-tab-manager-restore-pinned-tabs-to-pinned-url"
                preference="zen.pinned-tab-manager.restore-pinned-tabs-to-pinned-url"/>
      <checkbox id="zenPinnedTabContainerSpecificEssentials"
                data-l10n-id="zen-pinned-tab-manager-container-specific-essentials-enabled"
                preference="zen.workspaces.separate-essentials"/>

      <hbox align="center">
            <label id="zenPinnedTabCloseShortcutBehaviorLabel" data-l10n-id="zen-pinned-tab-manager-close-shortcut-behavior-label"/>
            <menulist id="zenPinnedTabCloseShortcutBehavior" preference="zen.pinned-tab-manager.close-shortcut-behavior">
                  <menupopup>
                        <menuitem data-l10n-id="zen-pinned-tab-manager-reset-unload-switch-close-shortcut-option" value="reset-unload-switch"/>
                        <menuitem data-l10n-id="zen-pinned-tab-manager-unload-switch-close-shortcut-option" value="unload-switch"/>
                        <menuitem data-l10n-id="zen-pinned-tab-manager-reset-switch-close-shortcut-option" value="reset-switch"/>
                        <menuitem data-l10n-id="zen-pinned-tab-manager-switch-close-shortcut-option" value="switch"/>
                        <menuitem data-l10n-id="zen-pinned-tab-manager-reset-close-shortcut-option" value="reset"/>
                        <menuitem data-l10n-id="zen-pinned-tab-manager-close-close-shortcut-option" value="close"/>
                  </menupopup>
            </menulist>
      </hbox>
</groupbox>

</html:template>





================================================
FILE: src/browser/components/preferences/dialogs/syncChooseWhatToSync-js.patch
================================================
diff --git a/browser/components/preferences/dialogs/syncChooseWhatToSync.js b/browser/components/preferences/dialogs/syncChooseWhatToSync.js
index 64aa0d98a0622c01f3dcfff1a04bfcda368354d2..2013e04b0881ad2295d6897b91e1573cc6efc571 100644
--- a/browser/components/preferences/dialogs/syncChooseWhatToSync.js
+++ b/browser/components/preferences/dialogs/syncChooseWhatToSync.js
@@ -21,6 +21,7 @@ Preferences.addAll([
   { id: "services.sync.engine.passwords", type: "bool" },
   { id: "services.sync.engine.addresses", type: "bool" },
   { id: "services.sync.engine.creditcards", type: "bool" },
+  { id: "services.sync.engine.workspaces", type: "bool" },
 ]);
 
 let gSyncChooseWhatToSync = {



================================================
FILE: src/browser/components/preferences/dialogs/syncChooseWhatToSync-xhtml.patch
================================================
diff --git a/browser/components/preferences/dialogs/syncChooseWhatToSync.xhtml b/browser/components/preferences/dialogs/syncChooseWhatToSync.xhtml
index ef127a1bc2e3ea4221b641156c38a74edb3b44ae..acd39fe7f6dc7ec03ea50928e2d002791b834dcf 100644
--- a/browser/components/preferences/dialogs/syncChooseWhatToSync.xhtml
+++ b/browser/components/preferences/dialogs/syncChooseWhatToSync.xhtml
@@ -27,6 +27,10 @@
         rel="localization"
         href="browser/preferences/preferences.ftl"
       />
+      <html:link
+        rel="localization"
+        href="browser/preferences/zen-preferences.ftl"
+      />
     </linkset>
     <script src="chrome://global/content/preferencesBindings.js" />
     <script src="chrome://browser/content/preferences/dialogs/syncChooseWhatToSync.js" />
@@ -87,6 +91,12 @@
           preference="services.sync.engine.prefs"
         />
       </html:div>
+      <html:div class="sync-engine-workspaces">
+        <checkbox
+                data-l10n-id="sync-engine-workspaces"
+                preference="services.sync.engine.workspaces"
+        />
+      </html:div>
     </html:div>
   </dialog>
 </window>



================================================
FILE: src/browser/components/screenshots/overlay/overlay-css.patch
================================================
diff --git a/browser/components/screenshots/overlay/overlay.css b/browser/components/screenshots/overlay/overlay.css
index 43a5d2109ad107ce1c79eef7cb8635bc1fa813f7..c1e5648d0e71826119bda1bc18c5d16886bab8fd 100644
--- a/browser/components/screenshots/overlay/overlay.css
+++ b/browser/components/screenshots/overlay/overlay.css
@@ -196,6 +196,9 @@
   pointer-events: none;
   position: absolute;
   z-index: var(--screenshots-high-layer);
+  transition: all .1s;
+  border: 2px solid rgba(255,255,255,.4);
+  border-radius: 6px;
 }
 
 #top-background {
@@ -214,7 +217,7 @@
 }
 
 .bghighlight {
-  background-color: rgba(0, 0, 0, 0.7);
+  background-color: rgba(0, 0, 0, 0.5);
   position: absolute;
   overflow: clip;
   pointer-events: none;



================================================
FILE: src/browser/components/search/SearchOneOffs-sys-mjs.patch
================================================
diff --git a/browser/components/search/SearchOneOffs.sys.mjs b/browser/components/search/SearchOneOffs.sys.mjs
index 3e5b29bc0a740df503e69f811ef01de1d6f0340a..b1bcdfc8c1bba506370f1a05fb31630c64bbd6d3 100644
--- a/browser/components/search/SearchOneOffs.sys.mjs
+++ b/browser/components/search/SearchOneOffs.sys.mjs
@@ -473,7 +473,7 @@ export class SearchOneOffs {
     // For the search-bar, always show the one-off buttons where there is an
     // option to add an engine.
     let addEngineNeeded = isSearchBar && addEngines.length;
-    let hideOneOffs = (await this.willHide()) && !addEngineNeeded;
+    let hideOneOffs = (await this.willHide()) && !addEngineNeeded || Services.prefs.getBoolPref("zen.urlbar.hide-one-offs");
 
     // The _engineInfo cache is used by more consumers, thus it is not a good
     // representation of whether this method already updated the one-off buttons



================================================
FILE: src/browser/components/search/SearchUIUtils-sys-mjs.patch
================================================
diff --git a/browser/components/search/SearchUIUtils.sys.mjs b/browser/components/search/SearchUIUtils.sys.mjs
index 65daa1402a52e252360386e60471f726c1387bb3..be8f588316a8a4d7f33a324bf11f9e1f19def32d 100644
--- a/browser/components/search/SearchUIUtils.sys.mjs
+++ b/browser/components/search/SearchUIUtils.sys.mjs
@@ -444,7 +444,7 @@ export var SearchUIUtils = {
         triggeringSearchEngine: engine.name,
       },
     });
-
+    window.gZenGlanceManager?.onSearchSelectCommand(where);
     return { engine, url: submission.uri };
   },
 



================================================
FILE: src/browser/components/sessionstore/SessionFile-sys-mjs.patch
================================================
diff --git a/browser/components/sessionstore/SessionFile.sys.mjs b/browser/components/sessionstore/SessionFile.sys.mjs
index 5580838acd72bf0e1189d367984859529d89f5b4..e5fa6076a9cc6ada016ccc4e129cad455010a522 100644
--- a/browser/components/sessionstore/SessionFile.sys.mjs
+++ b/browser/components/sessionstore/SessionFile.sys.mjs
@@ -22,6 +22,7 @@ ChromeUtils.defineESModuleGetters(lazy, {
   RunState: "resource:///modules/sessionstore/RunState.sys.mjs",
   SessionStore: "resource:///modules/sessionstore/SessionStore.sys.mjs",
   SessionWriter: "resource:///modules/sessionstore/SessionWriter.sys.mjs",
+  ZenSessionStore: "resource:///modules/zen/ZenSessionManager.sys.mjs",
 });
 
 const PREF_UPGRADE_BACKUP = "browser.sessionstore.upgradeBackup.latestBuildID";
@@ -381,7 +382,7 @@ var SessionFileInternal = {
     this._readOrigin = result.origin;
 
     result.noFilesFound = noFilesFound;
-
+    await lazy.ZenSessionStore.readFile();
     return result;
   },
 



================================================
FILE: src/browser/components/sessionstore/SessionSaver-sys-mjs.patch
================================================
diff --git a/browser/components/sessionstore/SessionSaver.sys.mjs b/browser/components/sessionstore/SessionSaver.sys.mjs
index 9141793550f7c7ff6aa63d4c85bf571b4499e2d0..6906fd9be7ae6ca4316133e0d6552b797c54a7ec 100644
--- a/browser/components/sessionstore/SessionSaver.sys.mjs
+++ b/browser/components/sessionstore/SessionSaver.sys.mjs
@@ -20,6 +20,7 @@ ChromeUtils.defineESModuleGetters(lazy, {
   SessionFile: "resource:///modules/sessionstore/SessionFile.sys.mjs",
   SessionStore: "resource:///modules/sessionstore/SessionStore.sys.mjs",
   sessionStoreLogger: "resource:///modules/sessionstore/SessionLogger.sys.mjs",
+  ZenSessionStore: "resource:///modules/zen/ZenSessionManager.sys.mjs",
 });
 
 /*
@@ -250,7 +251,7 @@ var SessionSaverInternal = {
     // Cancel any pending timeouts.
     this.cancel();
 
-    if (lazy.PrivateBrowsingUtils.permanentPrivateBrowsing) {
+    if (false) {
       // Don't save (or even collect) anything in permanent private
       // browsing mode
 
@@ -305,6 +306,7 @@ var SessionSaverInternal = {
     this._maybeClearCookiesAndStorage(state);
 
     Glean.sessionRestore.collectData.stopAndAccumulate(timerId);
+    lazy.ZenSessionStore.saveState(state);
     return this._writeState(state);
   },
 



================================================
FILE: src/browser/components/sessionstore/SessionStartup-sys-mjs.patch
================================================
diff --git a/browser/components/sessionstore/SessionStartup.sys.mjs b/browser/components/sessionstore/SessionStartup.sys.mjs
index 86600ffb5178599ab23270a964064ca657a3283f..70d7b5c7d69d3700475d663b595052264c67d351 100644
--- a/browser/components/sessionstore/SessionStartup.sys.mjs
+++ b/browser/components/sessionstore/SessionStartup.sys.mjs
@@ -40,6 +40,7 @@ ChromeUtils.defineESModuleGetters(lazy, {
   StartupPerformance:
     "resource:///modules/sessionstore/StartupPerformance.sys.mjs",
   sessionStoreLogger: "resource:///modules/sessionstore/SessionLogger.sys.mjs",
+  ZenSessionStore: "resource:///modules/zen/ZenSessionManager.sys.mjs",
 });
 
 const STATE_RUNNING_STR = "running";
@@ -85,7 +86,7 @@ export var SessionStartup = {
     }
 
     // do not need to initialize anything in auto-started private browsing sessions
-    if (lazy.PrivateBrowsingUtils.permanentPrivateBrowsing) {
+    if (false) {
       this._initialized = true;
       gOnceInitializedDeferred.resolve();
       return;
@@ -179,6 +180,8 @@ export var SessionStartup = {
       this._initialState = parsed;
     }
 
+    this._initialState = lazy.ZenSessionStore.onFileRead(this._initialState);
+
     if (this._initialState == null) {
       // No valid session found.
       this._sessionType = this.NO_SESSION;
@@ -276,6 +279,8 @@ export var SessionStartup = {
         `Previous shutdown ok? ${this._previousSessionCrashed}, reason: ${previousSessionCrashedReason}`
       );
 
+      lazy.ZenSessionStore.onCrashCheckpoints(this._initialState);
+
       Services.obs.addObserver(this, "sessionstore-windows-restored", true);
 
       if (this.sessionType == this.NO_SESSION) {
@@ -336,12 +341,7 @@ export var SessionStartup = {
   isAutomaticRestoreEnabled() {
     if (this._resumeSessionEnabled === null) {
       this._resumeSessionEnabled =
-        !lazy.PrivateBrowsingUtils.permanentPrivateBrowsing &&
-        (Services.prefs.getBoolPref(
-          "browser.sessionstore.resume_session_once"
-        ) ||
-          Services.prefs.getIntPref("browser.startup.page") ==
-            BROWSER_STARTUP_RESUME_SESSION);
+        true;
     }
 
     return this._resumeSessionEnabled;
@@ -354,8 +354,7 @@ export var SessionStartup = {
    */
   willRestore() {
     return (
-      this.sessionType == this.RECOVER_SESSION ||
-      this.sessionType == this.RESUME_SESSION
+      true
     );
   },
 



================================================
FILE: src/browser/components/sessionstore/SessionStore-sys-mjs.patch
================================================
diff --git a/browser/components/sessionstore/SessionStore.sys.mjs b/browser/components/sessionstore/SessionStore.sys.mjs
index 2a055f0c5f34f0a2667f659185120c07d38f4e41..53465df6060e6765e1e4564d340bba5fbefff5ce 100644
--- a/browser/components/sessionstore/SessionStore.sys.mjs
+++ b/browser/components/sessionstore/SessionStore.sys.mjs
@@ -127,6 +127,9 @@ const TAB_EVENTS = [
   "TabGroupCollapse",
   "TabGroupExpand",
   "TabSplitViewActivate",
+  "TabAddedToEssentials",
+  "TabRemovedFromEssentials",
+  "ZenWorkspaceDataChanged",
 ];
 
 const XUL_NS = "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";
@@ -196,6 +199,8 @@ ChromeUtils.defineESModuleGetters(lazy, {
   TabStateCache: "resource:///modules/sessionstore/TabStateCache.sys.mjs",
   TabStateFlusher: "resource:///modules/sessionstore/TabStateFlusher.sys.mjs",
   setTimeout: "resource://gre/modules/Timer.sys.mjs",
+  ZenSessionStore: "resource:///modules/zen/ZenSessionManager.sys.mjs",
+  ZenWindowSync: "resource:///modules/zen/ZenWindowSync.sys.mjs",
 });
 
 ChromeUtils.defineLazyGetter(lazy, "blankURI", () => {
@@ -1261,10 +1266,7 @@ var SessionStoreInternal = {
    */
   get willAutoRestore() {
     return (
-      !PrivateBrowsingUtils.permanentPrivateBrowsing &&
-      (Services.prefs.getBoolPref("browser.sessionstore.resume_session_once") ||
-        Services.prefs.getIntPref("browser.startup.page") ==
-          BROWSER_STARTUP_RESUME_SESSION)
+      true
     );
   },
 
@@ -1934,6 +1936,9 @@ var SessionStoreInternal = {
       case "TabPinned":
       case "TabUnpinned":
       case "SwapDocShells":
+      case "TabRemovedFromEssentials":
+      case "TabAddedToEssentials":
+      case "ZenWorkspaceDataChanged":
         this.saveStateDelayed(win);
         break;
       case "TabGroupCreate":
@@ -2044,6 +2049,10 @@ var SessionStoreInternal = {
       this._windows[aWindow.__SSi].isTaskbarTab = true;
     }
 
+    if (aWindow.document.documentElement.hasAttribute("zen-unsynced-window")) {
+      this._windows[aWindow.__SSi].isZenUnsynced = true;
+    }
+
     let tabbrowser = aWindow.gBrowser;
 
     // add tab change listeners to all already existing tabs
@@ -2076,7 +2085,7 @@ var SessionStoreInternal = {
     let isTaskbarTab = this._windows[aWindow.__SSi].isTaskbarTab;
     // A regular window is not a private window, taskbar tab window, or popup window
     let isRegularWindow =
-      !isPrivateWindow && !isTaskbarTab && aWindow.toolbar.visible;
+      !isPrivateWindow && !isTaskbarTab && aWindow.toolbar.visible && !this._windows[aWindow.__SSi].isZenUnsynced;
 
     // perform additional initialization when the first window is loading
     if (lazy.RunState.isStopped) {
@@ -2088,7 +2097,7 @@ var SessionStoreInternal = {
         // to disk to NOW() to enforce a full interval before the next write.
         lazy.SessionSaver.updateLastSaveTime();
 
-        if (isPrivateWindow || isTaskbarTab) {
+        if (isPrivateWindow || isTaskbarTab || aWindow.document.documentElement.hasAttribute("zen-unsynced-window")) {
           this._log.debug(
             "initializeWindow, the window is private or a web app. Saving SessionStartup.state for possibly restoring later"
           );
@@ -2131,6 +2140,7 @@ var SessionStoreInternal = {
           null,
           "sessionstore-one-or-no-tab-restored"
         );
+        lazy.ZenSessionStore.onNewEmptySession(aWindow);
         this._deferredAllWindowsRestored.resolve();
       }
       // this window was opened by _openWindowWithState
@@ -2175,7 +2185,6 @@ var SessionStoreInternal = {
       if (closedWindowState) {
         let newWindowState;
         if (
-          AppConstants.platform == "macosx" ||
           !lazy.SessionStartup.willRestore()
         ) {
           // We want to split the window up into pinned tabs and unpinned tabs.
@@ -2211,6 +2220,7 @@ var SessionStoreInternal = {
         }
 
         if (newWindowState) {
+          lazy.ZenSessionStore.onRestoringClosedWindow(newWindowState);
           // Ensure that the window state isn't hidden
           this._restoreCount = 1;
           let state = { windows: [newWindowState] };
@@ -2239,6 +2249,15 @@ var SessionStoreInternal = {
       });
       this._shouldRestoreLastSession = false;
     }
+    else if (!aInitialState && isRegularWindow) {
+      let windowPromises = [];
+      for (let window of this._browserWindows) {
+        windowPromises.push(lazy.TabStateFlusher.flushWindow(window));
+      }
+      Promise.all(windowPromises).finally(() => {
+        lazy.ZenSessionStore.restoreNewWindow(aWindow, this);
+      });
+    }
 
     if (this._restoreLastWindow && aWindow.toolbar.visible) {
       // always reset (if not a popup window)
@@ -2383,7 +2402,7 @@ var SessionStoreInternal = {
 
     var tabbrowser = aWindow.gBrowser;
 
-    let browsers = Array.from(tabbrowser.browsers);
+    let browsers = aWindow.gZenWorkspaces.allUsedBrowsers;
 
     TAB_EVENTS.forEach(function (aEvent) {
       tabbrowser.tabContainer.removeEventListener(aEvent, this, true);
@@ -2434,7 +2453,7 @@ var SessionStoreInternal = {
 
       let isLastRegularWindow =
         Object.values(this._windows).filter(
-          wData => !wData.isPrivate && !wData.isTaskbarTab
+          wData => !wData.isPrivate && !wData.isTaskbarTab && !wData.isZenUnsynced
         ).length == 1;
       this._log.debug(
         `onClose, closing window isLastRegularWindow? ${isLastRegularWindow}`
@@ -2491,8 +2510,8 @@ var SessionStoreInternal = {
       // 2) Flush the window.
       // 3) When the flush is complete, revisit our decision to store the window
       //    in _closedWindows, and add/remove as necessary.
-      if (!winData.isPrivate && !winData.isTaskbarTab) {
-        this.maybeSaveClosedWindow(winData, isLastWindow);
+      if (!winData.isPrivate && !winData.isTaskbarTab && !winData.isZenUnsynced) {
+        this.maybeSaveClosedWindow(winData, isLastWindow, isLastRegularWindow);
       }
 
       completionPromise = lazy.TabStateFlusher.flushWindow(aWindow).then(() => {
@@ -2512,8 +2531,9 @@ var SessionStoreInternal = {
 
         // Save non-private windows if they have at
         // least one saveable tab or are the last window.
-        if (!winData.isPrivate && !winData.isTaskbarTab) {
-          this.maybeSaveClosedWindow(winData, isLastWindow);
+        lazy.ZenWindowSync.on_WindowCloseAndBrowserFlushed(browsers);
+        if (!winData.isPrivate && !winData.isTaskbarTab && !winData.isZenUnsynced) {
+          this.maybeSaveClosedWindow(winData, isLastWindow, isLastRegularWindow);
 
           if (!isLastWindow && winData.closedId > -1) {
             this._addClosedAction(
@@ -2589,7 +2609,7 @@ var SessionStoreInternal = {
    *        to call this method again asynchronously (for example, after
    *        a window flush).
    */
-  maybeSaveClosedWindow(winData, isLastWindow) {
+  maybeSaveClosedWindow(winData, isLastWindow, isLastRegularWindow = false) {
     // Make sure SessionStore is still running, and make sure that we
     // haven't chosen to forget this window.
     if (
@@ -2606,6 +2626,7 @@ var SessionStoreInternal = {
       // _closedWindows from a previous call to this function.
       let winIndex = this._closedWindows.indexOf(winData);
       let alreadyStored = winIndex != -1;
+      lazy.ZenSessionStore.maybeSaveClosedWindow(winData, isLastRegularWindow);
       // If sidebar command is truthy, i.e. sidebar is open, store sidebar settings
       let shouldStore = hasSaveableTabs || isLastWindow;
 
@@ -3408,7 +3429,7 @@ var SessionStoreInternal = {
     if (!isPrivateWindow && tabState.isPrivate) {
       return;
     }
-    if (aTab == aWindow.FirefoxViewHandler.tab) {
+    if (aTab == aWindow.FirefoxViewHandler.tab || aTab.hasAttribute("zen-empty-tab")) {
       return;
     }
 
@@ -4129,6 +4150,12 @@ var SessionStoreInternal = {
         Math.min(tabState.index, tabState.entries.length)
       );
       tabState.pinned = false;
+      tabState.zenEssential = false;
+      tabState.zenSyncId = null;
+      tabState.zenIsGlance = false;
+      tabState.zenGlanceId = null;
+      tabState.zenHasStaticLabel = false;
+      tabState.zenWorkspace = aWindow.gZenWorkspaces.activeWorkspace;
 
       if (inBackground === false) {
         aWindow.gBrowser.selectedTab = newTab;
@@ -4565,6 +4592,8 @@ var SessionStoreInternal = {
       // Append the tab if we're opening into a different window,
       tabIndex: aSource == aTargetWindow ? pos : Infinity,
       pinned: state.pinned,
+      essential: state.zenEssential,
+      zenWorkspaceId: state.zenWorkspace,
       userContextId: state.userContextId,
       skipLoad: true,
       preferredRemoteType,
@@ -5055,9 +5084,10 @@ var SessionStoreInternal = {
       if (activePageData.title && activePageData.title != activePageData.url) {
         win.gBrowser.setInitialTabTitle(tab, activePageData.title, {
           isContentTitle: true,
+          _zenChangeLabelFlag: true,
         });
       } else {
-        win.gBrowser.setInitialTabTitle(tab, activePageData.url);
+        win.gBrowser.setInitialTabTitle(tab, activePageData.url, { _zenChangeLabelFlag: true });
       }
     }
 
@@ -5414,7 +5444,7 @@ var SessionStoreInternal = {
 
     for (let i = tabbrowser.pinnedTabCount; i < tabbrowser.tabs.length; i++) {
       let tab = tabbrowser.tabs[i];
-      if (homePages.includes(tab.linkedBrowser.currentURI.spec)) {
+      if (homePages.includes(tab.linkedBrowser.currentURI.spec) && !tab.hasAttribute("zen-empty-tab")) {
         removableTabs.push(tab);
       }
     }
@@ -5525,7 +5555,7 @@ var SessionStoreInternal = {
 
     // collect the data for all windows
     for (ix in this._windows) {
-      if (this._windows[ix]._restoring || this._windows[ix].isTaskbarTab) {
+      if (this._windows[ix]._restoring || this._windows[ix].isTaskbarTab && !this._windows[ix].isZenUnsynced) {
         // window data is still in _statesToRestore
         continue;
       }
@@ -5668,11 +5698,12 @@ var SessionStoreInternal = {
     }
 
     let tabbrowser = aWindow.gBrowser;
-    let tabs = tabbrowser.tabs;
+    let tabs = aWindow.gZenWorkspaces.allStoredTabs;
     /** @type {WindowStateData} */
     let winData = this._windows[aWindow.__SSi];
     let tabsData = (winData.tabs = []);
 
+    winData.splitViewData = aWindow.gZenViewSplitter?.storeDataForSessionStore();
     // update the internal state data for this window
     for (let tab of tabs) {
       if (tab == aWindow.FirefoxViewHandler.tab) {
@@ -5683,6 +5714,9 @@ var SessionStoreInternal = {
       tabsData.push(tabData);
     }
 
+    winData.folders = aWindow.gZenFolders?.storeDataForSessionStore() || [];
+    winData.activeZenSpace = aWindow.gZenWorkspaces?.activeWorkspace || null;
+    winData.spaces = aWindow.gZenWorkspaces?.getWorkspacesForSessionStore();
     // update tab group state for this window
     winData.groups = [];
     for (let tabGroup of aWindow.gBrowser.tabGroups) {
@@ -5695,7 +5729,7 @@ var SessionStoreInternal = {
     // a window is closed, point to the first item in the tab strip instead (it will never be the Firefox View tab,
     // since it's only inserted into the tab strip after it's selected).
     if (aWindow.FirefoxViewHandler.tab?.selected) {
-      selectedIndex = 1;
+      selectedIndex = 0;
       winData.title = tabbrowser.tabs[0].label;
     }
     winData.selected = selectedIndex;
@@ -5810,8 +5844,8 @@ var SessionStoreInternal = {
     // selectTab represents.
     let selectTab = 0;
     if (overwriteTabs) {
-      selectTab = parseInt(winData.selected || 1, 10);
-      selectTab = Math.max(selectTab, 1);
+      selectTab = parseInt(winData.selected || 0, 10);
+      selectTab = Math.max(selectTab, 0);
       selectTab = Math.min(selectTab, winData.tabs.length);
     }
 
@@ -5833,6 +5867,7 @@ var SessionStoreInternal = {
     if (overwriteTabs) {
       for (let i = tabbrowser.browsers.length - 1; i >= 0; i--) {
         if (!tabbrowser.tabs[i].selected) {
+          aWindow.gZenWorkspaces._shouldOverrideTabs = true;
           tabbrowser.removeTab(tabbrowser.tabs[i]);
         }
       }
@@ -5866,6 +5901,12 @@ var SessionStoreInternal = {
         savedTabGroup => !openTabGroupIdsInWindow.has(savedTabGroup.id)
       );
     }
+    if (winData.isZenUnsynced) {
+      aWindow.document.documentElement.setAttribute("zen-unsynced-window", "true");
+    }
+    aWindow.gZenFolders?.restoreDataFromSessionStore(winData.folders);
+    aWindow.gZenWorkspaces?.restoreWorkspacesFromSessionStore(winData);
+    aWindow.gZenViewSplitter?.restoreDataFromSessionStore(winData.splitViewData);
 
     // Move the originally open tabs to the end.
     if (initialTabs) {
@@ -6419,6 +6460,25 @@ var SessionStoreInternal = {
 
     // Most of tabData has been restored, now continue with restoring
     // attributes that may trigger external events.
+    if (tabData.zenEssential) {
+      tab.setAttribute("zen-essential", "true");
+      tabData.pinned = true; // Essential tabs are always pinned.
+    }
+    if (tabData.zenIsEmpty) {
+      tab.setAttribute("zen-empty-tab", "true");
+    }
+    if (typeof tabData.zenStaticLabel === "string") {
+      tab.zenStaticLabel = tabData.zenStaticLabel;
+    }
+    if (tabData.zenHasStaticIcon && tabData.image) {
+      tab.zenStaticIcon = tabData.image;
+    }
+    if (tabData.zenDefaultUserContextId) {
+      tab.setAttribute("zenDefaultUserContextId", true);
+    }
+    if (tabData.zenWorkspace) {
+      tab.setAttribute("zen-workspace-id", tabData.zenWorkspace);
+    }
 
     if (tabData.pinned) {
       tabbrowser.pinTab(tab);
@@ -6567,6 +6627,9 @@ var SessionStoreInternal = {
         aWindow.gURLBar.readOnly = false;
       }
     }
+    if (aWinData.isZenUnsynced) {
+      this._windows[aWindow.__SSi].isZenUnsynced = true;
+    }
 
     let promiseParts = Promise.withResolvers();
     aWindow.setTimeout(() => {
@@ -7343,7 +7406,7 @@ var SessionStoreInternal = {
 
       let groupsToSave = new Map();
       for (let tIndex = 0; tIndex < window.tabs.length; ) {
-        if (window.tabs[tIndex].pinned) {
+        if (window.tabs[tIndex].pinned && false) {
           // Adjust window.selected
           if (tIndex + 1 < window.selected) {
             window.selected -= 1;
@@ -7358,7 +7421,7 @@ var SessionStoreInternal = {
           );
           // We don't want to increment tIndex here.
           continue;
-        } else if (window.tabs[tIndex].groupId) {
+        } else if (window.tabs[tIndex].groupId && false) {
           // Convert any open groups into saved groups.
           let groupStateToSave = window.groups.find(
             groupState => groupState.id == window.tabs[tIndex].groupId



================================================
FILE: src/browser/components/sessionstore/TabGroupState-sys-mjs.patch
================================================
diff --git a/browser/components/sessionstore/TabGroupState.sys.mjs b/browser/components/sessionstore/TabGroupState.sys.mjs
index 934326aefc80479a2ca2ee9e376375f117512b4d..db840ead9ab53849f8f1f33864972347d43f9398 100644
--- a/browser/components/sessionstore/TabGroupState.sys.mjs
+++ b/browser/components/sessionstore/TabGroupState.sys.mjs
@@ -62,6 +62,9 @@ class _TabGroupState {
    */
   collect(tabGroup) {
     return {
+      pinned: tabGroup.pinned,
+      essential: tabGroup.essential,
+      splitView: tabGroup.hasAttribute("split-view-group"),
       id: tabGroup.id,
       name: tabGroup.label,
       color: tabGroup.color,



================================================
FILE: src/browser/components/sessionstore/TabState-sys-mjs.patch
================================================
diff --git a/browser/components/sessionstore/TabState.sys.mjs b/browser/components/sessionstore/TabState.sys.mjs
index 82721356d191055bec0d4b0ca49e481221988801..68437e6f9fa54fc75ca9e24d738e8afcd0ea22f8 100644
--- a/browser/components/sessionstore/TabState.sys.mjs
+++ b/browser/components/sessionstore/TabState.sys.mjs
@@ -85,7 +85,24 @@ class _TabState {
       tabData.groupId = tab.group.id;
     }
 
+    tabData.zenWorkspace = tab.getAttribute("zen-workspace-id");
+    tabData.zenSyncId = tab.getAttribute("id");
+    tabData.zenEssential = tab.getAttribute("zen-essential") === "true";
+    tabData.pinned = tabData.pinned || tabData.zenEssential;
+    tabData.zenDefaultUserContextId = tab.getAttribute("zenDefaultUserContextId");
+    tabData.zenPinnedIcon = tab.getAttribute("zen-pinned-icon");
+    tabData.zenIsEmpty = tab.hasAttribute("zen-empty-tab");
+    tabData.zenStaticLabel = tab.zenStaticLabel;
+    tabData.zenHasStaticIcon = !!tab.zenStaticIcon;
+    tabData.zenGlanceId = tab.getAttribute("glance-id");
+    tabData.zenIsGlance = tab.hasAttribute("zen-glance-tab");
+    tabData._zenPinnedInitialState = tab._zenPinnedInitialState;
+    tabData._zenIsActiveTab = tab._zenContentsVisible;
+
     tabData.searchMode = tab.ownerGlobal.gURLBar.getSearchMode(browser, true);
+    if (tabData.searchMode?.source === tab.ownerGlobal.UrlbarUtils.RESULT_SOURCE.ZEN_ACTIONS) {
+      delete tabData.searchMode;
+    }
 
     tabData.userContextId = tab.userContextId || 0;
 



================================================
FILE: src/browser/components/sessionstore/TabStateFlusher-sys-mjs.patch
================================================
diff --git a/browser/components/sessionstore/TabStateFlusher.sys.mjs b/browser/components/sessionstore/TabStateFlusher.sys.mjs
index ed7953e41e8d61695c04cd9fc40f9a9d40d56d77..6d5730e428a5e9bf5a07ce329eae66b101c15df4 100644
--- a/browser/components/sessionstore/TabStateFlusher.sys.mjs
+++ b/browser/components/sessionstore/TabStateFlusher.sys.mjs
@@ -101,7 +101,7 @@ var TabStateFlusherInternal = {
    */
   flushWindow(window) {
     let promises = [];
-    for (let browser of window.gBrowser.browsers) {
+    for (let browser of window.gZenWorkspaces.allUsedBrowsers) {
       if (window.gBrowser.getTabForBrowser(browser).linkedPanel) {
         promises.push(this.flush(browser));
       }



================================================
FILE: src/browser/components/sidebar/browser-sidebar-js.patch
================================================
diff --git a/browser/components/sidebar/browser-sidebar.js b/browser/components/sidebar/browser-sidebar.js
index bd6db85732e6e99ca51ce9c4c1a7d469199cf8cb..6c7859c1014baf4e343714ef797cf558d065e189 100644
--- a/browser/components/sidebar/browser-sidebar.js
+++ b/browser/components/sidebar/browser-sidebar.js
@@ -793,7 +793,7 @@ var SidebarController = {
   setPosition() {
     // First reset all ordinals to match DOM ordering.
     let contentArea = document.getElementById("tabbrowser-tabbox");
-    let browser = document.getElementById("browser");
+    let browser = document.getElementById("tabbrowser-tabbox");
     [...browser.children].forEach((node, i, children) => {
       node.style.order = this._positionStart ? i + 1 : children.length - i;
     });



================================================
FILE: src/browser/components/tabbrowser/AsyncTabSwitcher-sys-mjs.patch
================================================
diff --git a/browser/components/tabbrowser/AsyncTabSwitcher.sys.mjs b/browser/components/tabbrowser/AsyncTabSwitcher.sys.mjs
index 9c5e92fbd555d328ce09c0cf0ff8078584f68478..2af7a428bc830d8c12b3d3c0af375c97e6942994 100644
--- a/browser/components/tabbrowser/AsyncTabSwitcher.sys.mjs
+++ b/browser/components/tabbrowser/AsyncTabSwitcher.sys.mjs
@@ -939,6 +939,7 @@ export class AsyncTabSwitcher {
       this.tabbrowser._printPreviewBrowsers.has(browser) ||
       this.tabbrowser.splitViewBrowsers.includes(browser) ||
       lazy.PictureInPicture.isOriginatingBrowser(browser)
+      || browser?.zenModeActive
     );
   }
 



================================================
FILE: src/browser/components/tabbrowser/TabsList-sys-mjs.patch
================================================
diff --git a/browser/components/tabbrowser/TabsList.sys.mjs b/browser/components/tabbrowser/TabsList.sys.mjs
index 400a69449e6477da754b06530eef7c15ea9ad887..7dd22f481dade16286533acffc2c2321d4c34b41 100644
--- a/browser/components/tabbrowser/TabsList.sys.mjs
+++ b/browser/components/tabbrowser/TabsList.sys.mjs
@@ -87,7 +87,7 @@ class TabsListBase {
     /** @type {function(MozTabbrowserTab):boolean} */
     this.filterFn = onlyHiddenTabs
       ? tab => filterFn(tab) && tab.hidden
-      : filterFn;
+      : tab =>  !tab.hasAttribute("zen-empty-tab") && filterFn(tab);
     /** @type {Element} */
     this.containerNode = containerNode;
     /** @type {Element|null} */



================================================
FILE: src/browser/components/tabbrowser/TabUnloader-sys-mjs.patch
================================================
diff --git a/browser/components/tabbrowser/TabUnloader.sys.mjs b/browser/components/tabbrowser/TabUnloader.sys.mjs
index aefccef39f0b81176a5710a794e8a5e2650d6507..53c838b3bc322cadee4ef9b411d02fc0af8c35e5 100644
--- a/browser/components/tabbrowser/TabUnloader.sys.mjs
+++ b/browser/components/tabbrowser/TabUnloader.sys.mjs
@@ -52,7 +52,7 @@ let CRITERIA_WEIGHT = 1;
  */
 let DefaultTabUnloaderMethods = {
   isNonDiscardable(tab, weight) {
-    if (tab.undiscardable || tab.selected) {
+    if (tab.undiscardable || tab.selected || tab.zenModeActive) {
       return weight;
     }
 
@@ -106,7 +106,7 @@ let DefaultTabUnloaderMethods = {
 
   *iterateTabs() {
     for (let win of Services.wm.getEnumerator("navigator:browser")) {
-      for (let tab of win.gBrowser.tabs) {
+      for (let tab of win.gZenWorkspaces.allStoredTabs) {
         yield { tab, gBrowser: win.gBrowser };
       }
     }



================================================
FILE: src/browser/components/tabbrowser/content/browser-ctrlTab-js.patch
================================================
diff --git a/browser/components/tabbrowser/content/browser-ctrlTab.js b/browser/components/tabbrowser/content/browser-ctrlTab.js
index 3330dc133c120e7fbeecd2a36c71f9dfba60b3fb..0243cdfe67e5eb3f68fc7cde66bb3809e79bd6c3 100644
--- a/browser/components/tabbrowser/content/browser-ctrlTab.js
+++ b/browser/components/tabbrowser/content/browser-ctrlTab.js
@@ -252,7 +252,8 @@ var ctrlTab = {
   },
 
   get tabList() {
-    return this._recentlyUsedTabs;
+    const canShowPending = Services.prefs.getBoolPref("zen.ctrlTab.show-pending-tabs", false);
+    return this._recentlyUsedTabs.filter(tab => !tab.hasAttribute("pending") || canShowPending);
   },
 
   init: function ctrlTab_init() {
@@ -457,7 +458,7 @@ var ctrlTab = {
     // If the tab is hidden, don't add it to the list unless it's selected
     // (Normally hidden tabs would be unhidden when selected, but that doesn't
     // happen for Firefox View).
-    if (aTab.closing || (aTab.hidden && !aTab.selected)) {
+    if (aTab.closing || (aTab.hidden && !aTab.selected) || aTab.hasAttribute("zen-empty-tab")) {
       return;
     }
 
@@ -481,7 +482,7 @@ var ctrlTab = {
   },
 
   open: function ctrlTab_open() {
-    if (this.isOpen) {
+    if (this.isOpen || !this.tabCount) {
       return;
     }
 
@@ -751,7 +752,7 @@ var ctrlTab = {
   _initRecentlyUsedTabs() {
     this._recentlyUsedTabs = Array.prototype.filter.call(
       gBrowser.tabs,
-      tab => !tab.closing && !tab.hidden
+      tab => !tab.closing && !tab.hidden && !tab.hasAttribute("zen-empty-tab")
     );
     this._sortRecentlyUsedTabs();
   },



================================================
FILE: src/browser/components/tabbrowser/content/drag-and-drop-js.patch
================================================
diff --git a/browser/components/tabbrowser/content/drag-and-drop.js b/browser/components/tabbrowser/content/drag-and-drop.js
index 57800333445ec7850742145527e04ae8d504b0bb..a13875436a72f89178455a09c8665b9a1ef240b5 100644
--- a/browser/components/tabbrowser/content/drag-and-drop.js
+++ b/browser/components/tabbrowser/content/drag-and-drop.js
@@ -35,6 +35,9 @@
    * @returns {MozTabbrowserTab|vbox}
    */
   const elementToMove = element => {
+    if (element.group?.hasAttribute("split-view-group")) {
+      return element.group;
+    }
     if (isTab(element) || isSplitViewWrapper(element)) {
       return element;
     }
@@ -115,6 +118,9 @@
       }
 
       let draggedTab = event.dataTransfer.mozGetDataAt(TAB_DROP_TYPE, 0);
+      if (draggedTab && dropEffect === "move") {
+        gZenViewSplitter.onBrowserDragEndToSplit(event);
+      }
       if (
         (dropEffect == "move" || dropEffect == "copy") &&
         document == draggedTab.ownerDocument &&
@@ -133,10 +139,6 @@
 
           // Pinned tabs in expanded vertical mode are on a grid format and require
           // different logic to drag and drop.
-          if (this._isContainerVerticalPinnedGrid(draggedTab)) {
-            this._animateExpandedPinnedTabMove(event);
-            return;
-          }
           this._animateTabMove(event);
           return;
         }
@@ -269,6 +271,10 @@
 
       this._tabDropIndicator.hidden = true;
       event.stopPropagation();
+      if (draggedTab && dropEffect == "move") {
+        this.handle_drop_transition?.(draggedTab._dragData.dropElement, draggedTab, movingTabs, draggedTab._dragData.dropBefore);
+        gZenPinnedTabManager.moveToAnotherTabContainerIfNecessary(event, draggedTab, movingTabs, this._getDropIndex(event));
+      }
       if (draggedTab && dropEffect == "copy") {
         let duplicatedDraggedTab;
         let duplicatedTabs = [];
@@ -294,8 +300,9 @@
         let translateOffsetY = oldTranslateY % tabHeight;
         let newTranslateX = oldTranslateX - translateOffsetX;
         let newTranslateY = oldTranslateY - translateOffsetY;
-        let isPinned = draggedTab.pinned;
-        let numPinned = gBrowser.pinnedTabCount;
+        let isPinned = draggedTab?.group ? draggedTab.group.pinned : draggedTab.pinned;
+        let numPinned = gBrowser._numVisiblePinTabsWithoutCollapsed;
+        let essential = draggedTab.hasAttribute("zen-essential");
 
         if (this._isContainerVerticalPinnedGrid(draggedTab)) {
           // Update both translate axis for pinned vertical expanded tabs
@@ -311,9 +318,12 @@
           }
         } else {
           let tabs = this._tabbrowserTabs.dragAndDropElements.slice(
-            isPinned ? 0 : numPinned,
-            isPinned ? numPinned : undefined
+            isPinned ? (essential ? 0 : gBrowser._numZenEssentials) : numPinned,
+            isPinned ? (essential ? gBrowser._numZenEssentials : numPinned) : undefined 
           );
+          if (tabs.length == 0) {
+            tabs = [...movingTabs];
+          }
           let size = this._tabbrowserTabs.verticalMode ? "height" : "width";
           let screenAxis = this._tabbrowserTabs.verticalMode
             ? "screenY"
@@ -365,11 +375,13 @@
           this._dragToPinPromoCard,
         ];
         let shouldPin =
+          false &&  
           isTab(draggedTab) &&
           !draggedTab.pinned &&
           (overPinnedDropIndicator ||
             dragToPinTargets.some(el => el.contains(event.target)));
         let shouldUnpin =
+          false &&
           isTab(draggedTab) &&
           draggedTab.pinned &&
           this._tabbrowserTabs.arrowScrollbox.contains(event.target);
@@ -432,6 +444,7 @@
           }
         }
 
+        shouldTranslate = false;
         if (shouldTranslate) {
           let translationPromises = [];
           for (let item of movingTabs) {
@@ -443,7 +456,7 @@
                 item.removeAttribute("tabdrop-samewindow");
                 resolve();
               };
-              if (gReduceMotion) {
+              if (true || gReduceMotion) {
                 postTransitionCleanup();
               } else {
                 let onTransitionEnd = transitionendEvent => {
@@ -513,7 +526,7 @@
           if (tab.selected) {
             selectedTab = tab;
             indexForSelectedTab = newIndex;
-          } else {
+          } else if (false) {
             const newTab = gBrowser.adoptTab(tab, {
               elementIndex: newIndex,
               selectTab: tab == draggedTab,
@@ -523,7 +536,7 @@
             }
           }
         }
-        if (selectedTab) {
+        if (false) {
           const newTab = gBrowser.adoptTab(selectedTab, {
             elementIndex: indexForSelectedTab,
             selectTab: selectedTab == draggedTab,
@@ -534,10 +547,6 @@
         }
 
         // Restore tab selection
-        gBrowser.addRangeToMultiSelectedTabs(
-          this._tabbrowserTabs.dragAndDropElements[dropIndex],
-          this._tabbrowserTabs.dragAndDropElements[newIndex - 1]
-        );
       } else {
         // Pass true to disallow dropping javascript: or data: urls
         let links;
@@ -584,6 +593,7 @@
 
           let nextItem = this._tabbrowserTabs.dragAndDropElements[newIndex];
           let tabGroup = isTab(nextItem) && nextItem.group;
+          if (gZenViewSplitter.handleTabDrop(event, urls, replace, inBackground)) return;
           gBrowser.loadTabs(urls, {
             inBackground,
             replace,
@@ -621,7 +631,16 @@
         this._expandGroupOnDrop(draggedTab);
       }
       this._resetTabsAfterDrop(draggedTab.ownerDocument);
-
+      if (!dt.mozUserCancelled && dt.dropEffect == "none" && !this._isCustomizing) {
+        const moved = gZenViewSplitter.moveTabToSplitView(event, draggedTab);
+        if (moved) {
+          delete draggedTab._dragData;
+          return;
+        }
+      } else if (dt.mozUserCancelled) {
+        gZenViewSplitter.onBrowserDragEndToSplit(event, true);
+        if (gZenViewSplitter._lastOpenedTab) gZenViewSplitter._lastOpenedTab._visuallySelected = false;
+      }
       if (
         dt.mozUserCancelled ||
         dt.dropEffect != "none" ||
@@ -825,7 +844,10 @@
     _getDragTarget(event, { ignoreSides = false } = {}) {
       let { target } = event;
       while (target) {
-        if (isTab(target) || isTabGroupLabel(target)) {
+        if (isTab(target) || isTabGroupLabel(target) || target?.classList?.contains("tab-group-label-container")) {
+          if (target.classList?.contains("tab-group-label-container")) {
+            target = target.querySelector(".tab-group-label");
+          }
           break;
         }
         target = target.parentNode;
@@ -842,14 +864,17 @@
           return null;
         }
       }
+      if (target?.group?.hasAttribute("split-view-group")) {
+        target = target.group.labelElement;
+      }
       return target;
     }
 
     _isContainerVerticalPinnedGrid(tab) {
       return (
         this._tabbrowserTabs.verticalMode &&
-        tab.pinned &&
-        this._tabbrowserTabs.hasAttribute("expanded") &&
+        tab.hasAttribute("zen-essential") &&
+        (this._tabbrowserTabs.hasAttribute("expanded") || document.documentElement.hasAttribute("zen-sidebar-expanded")) &&
         !this._tabbrowserTabs.expandOnHover
       );
     }
@@ -880,7 +905,8 @@
         isTabGroupLabel(draggedTab) &&
         draggedTab._dragData?.expandGroupOnDrop
       ) {
-        draggedTab.group.collapsed = false;
+        draggedTab.group.collapsed = draggedTab.group.hasAttribute("has-active");
+        gZenFolders.animateGroupMove(draggedTab.group, true);
       }
     }
 
@@ -1058,7 +1084,6 @@
         // using updateDragImage. On Linux, we can use a panel.
         if (platform == "win" || platform == "macosx") {
           captureListener = function () {
-            dt.updateDragImage(canvas, dragImageOffset, dragImageOffset);
           };
         } else {
           // Create a panel to use it in setDragImage
@@ -1096,7 +1121,6 @@
         );
         dragImageOffset = dragImageOffset * scale;
       }
-      dt.setDragImage(toDrag, dragImageOffset, dragImageOffset);
 
       // _dragData.offsetX/Y give the coordinates that the mouse should be
       // positioned relative to the corner of the new window created upon
@@ -1115,7 +1139,7 @@
       let dropEffect = this.getDropEffectForTabDrag(event);
       let isMovingInTabStrip = !fromTabList && dropEffect == "move";
       let collapseTabGroupDuringDrag =
-        isMovingInTabStrip && isTabGroupLabel(tab) && !tab.group.collapsed;
+        isMovingInTabStrip && isTabGroupLabel(tab) && (!tab.group.collapsed || tab.group.hasAttribute("has-active"));
 
       tab._dragData = {
         offsetX: this._tabbrowserTabs.verticalMode
@@ -1125,7 +1149,7 @@
           ? event.screenY - window.screenY - tabOffset
           : event.screenY - window.screenY,
         scrollPos:
-          this._tabbrowserTabs.verticalMode && tab.pinned
+          this._tabbrowserTabs.verticalMode && tab.pinned && false
             ? this._tabbrowserTabs.pinnedTabsContainer.scrollPosition
             : this._tabbrowserTabs.arrowScrollbox.scrollPosition,
         screenX: event.screenX,
@@ -1152,6 +1176,7 @@
 
           if (collapseTabGroupDuringDrag) {
             tab.group.collapsed = true;
+            gZenFolders.animateGroupMove(tab.group);
           }
         }
       }
@@ -1176,6 +1201,7 @@
       if (tabStripItemElement.hasAttribute("dragtarget")) {
         return;
       }
+      return;
       let isPinned = tab.pinned;
       let numPinned = gBrowser.pinnedTabCount;
       let dragAndDropElements = this._tabbrowserTabs.dragAndDropElements;
@@ -1601,7 +1627,6 @@
 
       for (let item of this._tabbrowserTabs.dragAndDropElements) {
         item = elementToMove(item);
-        item.style.transform = "";
         item.removeAttribute("multiselected-move-together");
         delete item._moveTogetherSelectedTabsData;
       }
@@ -2429,7 +2454,6 @@
       for (let item of this._tabbrowserTabs.dragAndDropElements) {
         this._resetGroupTarget(item);
         item = elementToMove(item);
-        item.style.transform = "";
       }
       this._tabbrowserTabs.removeAttribute("movingtab-group");
       this._tabbrowserTabs.removeAttribute("movingtab-ungroup");
@@ -2460,17 +2484,14 @@
         tab.style.left = "";
         tab.style.top = "";
         tab.style.maxWidth = "";
-        tab.removeAttribute("dragtarget");
       }
       for (let label of draggedTabDocument.getElementsByClassName(
         "tab-group-label-container"
       )) {
         label.style.width = "";
-        label.style.height = "";
         label.style.left = "";
         label.style.top = "";
         label.style.maxWidth = "";
-        label.removeAttribute("dragtarget");
       }
       let periphery = draggedTabDocument.getElementById(
         "tabbrowser-arrowscrollbox-periphery"



================================================
FILE: src/browser/components/tabbrowser/content/tab-js.patch
================================================
diff --git a/browser/components/tabbrowser/content/tab.js b/browser/components/tabbrowser/content/tab.js
index 6528da245d922e2ccdb59cbf8106055bc34d1e74..b5d5ac633c06d7d9c909ec9456a5f3c165a6b925 100644
--- a/browser/components/tabbrowser/content/tab.js
+++ b/browser/components/tabbrowser/content/tab.js
@@ -21,6 +21,7 @@
           <hbox class="tab-group-line"/>
         </vbox>
         <hbox class="tab-content" align="center">
+          <box class="tab-reset-pin-button" role="button" data-l10n-id="tabbrowser-reset-pin-button" data-l10n-args='{"tabCount": 1}' keyNav="false"><image/></box>
           <stack class="tab-icon-stack">
             <hbox class="tab-throbber"/>
             <hbox class="tab-icon-pending"/>
@@ -38,9 +39,11 @@
             <hbox class="tab-secondary-label">
               <label class="tab-icon-sound-label tab-icon-sound-pip-label" data-l10n-id="browser-tab-audio-pip" role="presentation"/>
             </hbox>
+            <label class="tab-reset-pin-label" data-l10n-id="tab-reset-pin-label" role="presentation"/>
           </vbox>
           <image class="tab-note-icon" role="presentation"/>
           <image class="tab-close-button close-icon" role="button" data-l10n-id="tabbrowser-close-tabs-button" data-l10n-args='{"tabCount": 1}' keyNav="false"/>
+          <image class="tab-reset-button reset-icon" role="button" data-l10n-id="tabbrowser-unload-tab-button" data-l10n-args='{"tabCount": 1}' keyNav="false"/>
         </hbox>
       </stack>
       `;
@@ -86,7 +89,7 @@
         ".tab-content":
           "pinned,selected=visuallyselected,multiselected,titlechanged,attention",
         ".tab-icon-stack":
-          "sharing,pictureinpicture,crashed,busy,soundplaying,soundplaying-scheduledremoval,pinned,muted,blocked,selected=visuallyselected,activemedia-blocked",
+          "zen-essential,sharing,pictureinpicture,crashed,busy,soundplaying,soundplaying-scheduledremoval,pinned,muted,blocked,selected=visuallyselected,activemedia-blocked",
         ".tab-throbber":
           "fadein,pinned,busy,progress,selected=visuallyselected",
         ".tab-icon-pending":
@@ -95,9 +98,9 @@
           "src=image,requestcontextid,fadein,pinned,selected=visuallyselected,busy,crashed,sharing,pictureinpicture,pending,discarded",
         ".tab-sharing-icon-overlay": "sharing,selected=visuallyselected,pinned",
         ".tab-icon-overlay":
-          "sharing,pictureinpicture,crashed,busy,soundplaying,soundplaying-scheduledremoval,pinned,muted,blocked,selected=visuallyselected,activemedia-blocked",
+          "zen-essential,sharing,pictureinpicture,crashed,busy,soundplaying,soundplaying-scheduledremoval,pinned,muted,blocked,selected=visuallyselected,activemedia-blocked",
         ".tab-audio-button":
-          "crashed,soundplaying,soundplaying-scheduledremoval,pinned,muted,activemedia-blocked",
+          "zen-essential,crashed,soundplaying,soundplaying-scheduledremoval,pinned,muted,activemedia-blocked",
         ".tab-label-container":
           "pinned,selected=visuallyselected,labeldirection",
         ".tab-label":
@@ -188,7 +191,7 @@
     }
 
     set _visuallySelected(val) {
-      if (val == this.hasAttribute("visuallyselected")) {
+      if (val == this.hasAttribute("visuallyselected") || (!val && this.linkedBrowser?.closest('.browserSidebarContainer').classList.contains('zen-glance-background'))) {
         return;
       }
 
@@ -224,11 +227,23 @@
     }
 
     get visible() {
-      return (
-        this.isOpen &&
-        !this.hidden &&
-        (!this.group || this.group.isTabVisibleInGroup(this))
-      );
+      if (!this.isOpen || this.hidden || this.hasAttribute("zen-empty-tab")) {
+        return false;
+      }
+      // Selected tabs are always visible
+      if (this.selected || this.multiselected || this.hasAttribute("folder-active")) return true;
+      // Recursively check all parent groups
+      let currentParent = this.group;
+      while (currentParent) {
+        if (currentParent.collapsed) {
+          return false;
+        }
+        currentParent = currentParent.group;
+      }
+      if (this.pinned && !this.hasAttribute("zen-essential") && gZenWorkspaces.activeWorkspaceElement?.hasCollapsedPinnedTabs) {
+        return false;
+      }
+      return true;
     }
 
     get hidden() {
@@ -307,7 +322,7 @@
         return false;
       }
 
-      return true;
+      return !this.hasAttribute("zen-empty-tab");
     }
 
     get lastAccessed() {
@@ -384,7 +399,18 @@
     }
 
     get group() {
-      return this.closest("tab-group");
+      if (typeof gBrowser === "undefined") {
+        return null;
+      }
+      if (gBrowser.isTabGroup(this.parentElement?.parentElement)) {
+        return this.parentElement.parentElement;
+      }
+      if (this.pinned && !this.hasAttribute('zen-essential')) {
+        let collapsiblePins = gZenWorkspaces.workspaceElement(this.getAttribute('zen-workspace-id'))?.collapsiblePins;
+        if (collapsiblePins?.collapsed) {
+          return collapsiblePins;
+        }
+      }
     }
 
     get splitview() {
@@ -489,6 +515,8 @@
         this.style.MozUserFocus = "ignore";
       } else if (
         event.target.classList.contains("tab-close-button") ||
+        event.target.classList.contains("tab-reset-button") ||
+        event.target.classList.contains("tab-reset-pin-button") ||
         event.target.classList.contains("tab-icon-overlay") ||
         event.target.classList.contains("tab-audio-button")
       ) {
@@ -543,6 +571,10 @@
       this.style.MozUserFocus = "";
     }
 
+    get glanceTab() {
+      return this.querySelector("tab[zen-glance-tab]");
+    }
+
     on_click(event) {
       if (event.button != 0) {
         return;
@@ -603,6 +635,14 @@
         // (see tabbrowser-tabs 'click' handler).
         gBrowser.tabContainer._blockDblClick = true;
       }
+
+      if (event.target.classList.contains("tab-reset-pin-button")) {
+        gZenPinnedTabManager._onTabResetPinButton(event, this, 'reset');
+        gBrowser.tabContainer._blockDblClick = true;
+      } else if (event.target.classList.contains("tab-reset-button")) {
+        gZenPinnedTabManager.onCloseTabShortcut(event, this);
+        gBrowser.tabContainer._blockDblClick = true;
+      }
     }
 
     on_dblclick(event) {
@@ -626,6 +666,8 @@
           animate: true,
           triggeringEvent: event,
         });
+      } else if (this.hasAttribute('zen-essential') && !event.target.classList.contains("tab-icon-overlay")) {
+        gZenPinnedTabManager._onTabResetPinButton(event, this, 'reset');
       }
     }
 



================================================
FILE: src/browser/components/tabbrowser/content/tabbrowser-js.patch
================================================
diff --git a/browser/components/tabbrowser/content/tabbrowser.js b/browser/components/tabbrowser/content/tabbrowser.js
index 0eaca7a58e0026237b71b2ad515efe84d9e8c779..41cbe295b29abd014cc0425972be45b54fc684d9 100644
--- a/browser/components/tabbrowser/content/tabbrowser.js
+++ b/browser/components/tabbrowser/content/tabbrowser.js
@@ -398,6 +398,7 @@
      * @type {MozBrowser[]}
      */
     get splitViewBrowsers() {
+      return gZenViewSplitter.splitViewBrowsers;
       const browsers = [];
       if (this.#activeSplitView) {
         for (const tab of this.#activeSplitView.tabs) {
@@ -462,15 +463,66 @@
       return this.tabContainer.visibleTabs;
     }
 
+    zenHandleTabMove(...args) {
+      return this.#handleTabMove(...args);
+    }
+
+    get zenTabProgressListener() { return TabProgressListener; }
+
+    get _numVisiblePinTabsWithoutCollapsed() {
+      let i = 0;
+      for (let item of this.tabContainer.ariaFocusableItems) {
+        if (this.isTabGroupLabel(item) && item.group?.pinned) {
+          i += 1;
+          continue;
+        }
+        if (!item.pinned && !item.hasAttribute("zen-glance-tab")) {
+          break;
+        }
+        if (item.visible) {
+          i += !item.hasAttribute("zen-glance-tab");
+        }
+      }
+      return i;
+    }
+
+    ungroupTabsUntilNoActive(tab) {
+      if (!tab || !tab.group) return;
+      const activeGroups = tab.group.activeGroups;
+      if (activeGroups?.length) {
+        const lastActiveGroup = activeGroups[activeGroups.length - 1];
+        this.#handleTabMove(tab, () => {
+          lastActiveGroup.after(tab);
+        });
+      }
+    }
+
+    get _numZenEssentials() {
+      let i = 0;
+      for (let tab of this.tabs) {
+        if (!tab.hasAttribute("zen-essential") && !tab.hasAttribute("zen-glance-tab")) {
+          break;
+        }
+        i += !tab.hasAttribute("zen-glance-tab");
+      }
+      return i;
+    }
+
     get pinnedTabCount() {
-      for (var i = 0; i < this.tabs.length; i++) {
-        if (!this.tabs[i].pinned) {
+      let i = 0;
+      for (let tab of this.tabs) {
+        if (!tab.pinned && !tab.hasAttribute("zen-glance-tab")) {
           break;
         }
+        i += !tab.hasAttribute("zen-glance-tab");
       }
       return i;
     }
 
+    get tabsWithoutGlance() {
+      return this.tabs.filter(tab => !tab.hasAttribute("zen-glance-tab"));
+    }
+
     set selectedTab(val) {
       if (
         gSharedTabWarning.willShowSharedTabWarning(val) ||
@@ -546,6 +598,10 @@
         userContextId = parseInt(tabArgument.getAttribute("usercontextid"), 10);
       }
 
+      if (typeof window._zenStartupUnsyncedUserContextId == 'number') {
+        userContextId = window._zenStartupUnsyncedUserContextId;
+      }
+
       if (tabArgument && tabArgument.linkedBrowser) {
         remoteType = tabArgument.linkedBrowser.remoteType;
         initialBrowsingContextGroupId =
@@ -625,6 +681,8 @@
       this.tabpanels.appendChild(panel);
 
       let tab = this.tabs[0];
+      gZenWorkspaces.handleInitialTab(tab, (!remoteType || remoteType === E10SUtils.PRIVILEGEDABOUT_REMOTE_TYPE) && !gZenUIManager.testingEnabled);
+      tab._zenContentsVisible = true;
       tab.linkedPanel = uniqueId;
       this._selectedTab = tab;
       this._selectedBrowser = browser;
@@ -912,13 +970,18 @@
       }
 
       this.showTab(aTab);
+      const handled = gZenFolders.handleTabPin(aTab);
+      if (!handled) {
+        this.ungroupTab(aTab);
       this.#handleTabMove(aTab, () => {
         let periphery = document.getElementById(
           "pinned-tabs-container-periphery"
         );
         // If periphery is null, append to end
-        this.pinnedTabsContainer.insertBefore(aTab, periphery);
+        this.tabContainer.tabDragAndDrop.handle_drop_transition(this.tabs[this.pinnedTabCount - 1], aTab, [aTab], false);
+        aTab.hasAttribute("zen-essential") ? gZenWorkspaces.getEssentialsSection(aTab).appendChild(aTab) : this.pinnedTabsContainer.insertBefore(aTab, this.pinnedTabsContainer.lastChild)
       });
+      }
 
       aTab.setAttribute("pinned", "true");
       this._updateTabBarForPinnedTabs();
@@ -931,11 +994,19 @@
       }
 
       this.#handleTabMove(aTab, () => {
+        const handled = gZenFolders.handleTabUnpin(aTab);
+        if (!handled) {
+          this.tabContainer.tabDragAndDrop.handle_drop_transition(this.tabs[this.pinnedTabCount + 1 /* empty + extra */], aTab, [aTab], true);
+        }
+
         // we remove this attribute first, so that allTabs represents
         // the moving of a tab from the pinned tabs container
         // and back into arrowscrollbox.
         aTab.removeAttribute("pinned");
-        this.tabContainer.arrowScrollbox.prepend(aTab);
+        aTab.removeAttribute("zen-essential");
+        if (!handled) {
+          gZenWorkspaces.activeWorkspaceStrip.prepend(aTab);
+        }
       });
 
       aTab.style.marginInlineStart = "";
@@ -1112,6 +1183,9 @@
 
       let LOCAL_PROTOCOLS = ["chrome:", "about:", "resource:", "data:"];
 
+      try {
+        aIconURL = aTab.zenStaticIcon || aIconURL;
+        gZenPinnedTabManager.onTabIconChanged(aTab, aIconURL);
       if (
         aIconURL &&
         !LOCAL_PROTOCOLS.some(protocol => aIconURL.startsWith(protocol))
@@ -1121,6 +1195,9 @@
         );
         return;
       }
+      } catch (e) {
+        console.warn(e);
+      }
 
       let browser = this.getBrowserForTab(aTab);
       browser.mIconURL = aIconURL;
@@ -1393,7 +1470,6 @@
 
       // Preview mode should not reset the owner
       if (!this._previewMode && !oldTab.selected) {
-        oldTab.owner = null;
       }
 
       let lastRelatedTab = this._lastRelatedTabMap.get(oldTab);
@@ -1484,6 +1560,7 @@
       if (!this._previewMode) {
         newTab.recordTimeFromUnloadToReload();
         newTab.updateLastAccessed();
+        newTab.removeAttribute("unread");
         oldTab.updateLastAccessed();
         // if this is the foreground window, update the last-seen timestamps.
         if (this.ownerGlobal == BrowserWindowTracker.getTopWindow()) {
@@ -1636,6 +1713,9 @@
       }
 
       let activeEl = document.activeElement;
+      if (gURLBar._zenHandleUrlbarClose) {
+        gURLBar._zenHandleUrlbarClose(true);
+      }
       // If focus is on the old tab, move it to the new tab.
       if (activeEl == oldTab) {
         newTab.focus();
@@ -1958,7 +2038,12 @@
       return this._setTabLabel(aTab, aLabel);
     }
 
-    _setTabLabel(aTab, aLabel, { beforeTabOpen, isContentTitle, isURL } = {}) {
+    _setTabLabel(aTab, aLabel, { beforeTabOpen, isContentTitle, isURL, _zenChangeLabelFlag } = {}) {
+      if (!aTab._zenContentsVisible && !aTab._zenChangeLabelFlag && !aTab._labelIsInitialTitle && !gZenWorkspaces.privateWindowOrDisabled && !_zenChangeLabelFlag) {
+        return false;
+      }
+      aLabel = (typeof aTab.zenStaticLabel === "string" && aTab.zenStaticLabel) ? aTab.zenStaticLabel : aLabel;
+      gZenPinnedTabManager.onTabLabelChanged(aTab);
       if (!aLabel || aLabel.includes("about:reader?")) {
         return false;
       }
@@ -2067,7 +2152,7 @@
         newIndex = this.selectedTab._tPos + 1;
       }
 
-      if (replace) {
+      if (replace && !(!targetTab && this.selectedTab?.hasAttribute('zen-empty-tab'))) {
         if (this.isTabGroupLabel(targetTab)) {
           throw new Error(
             "Replacing a tab group label with a tab is not supported"
@@ -2342,6 +2427,7 @@
       uriIsAboutBlank,
       userContextId,
       skipLoad,
+      _forZenEmptyTab,
     } = {}) {
       let b = document.createXULElement("browser");
       // Use the JSM global to create the permanentKey, so that if the
@@ -2415,8 +2501,7 @@
         // we use a different attribute name for this?
         b.setAttribute("name", name);
       }
-
-      if (this._allowTransparentBrowser) {
+      if (this._allowTransparentBrowser || _forZenEmptyTab) {
         b.setAttribute("transparent", "true");
       }
 
@@ -2581,7 +2666,7 @@
 
       let panel = this.getPanel(browser);
       let uniqueId = this._generateUniquePanelID();
-      panel.id = uniqueId;
+      if (!panel.id?.startsWith("zen-")) panel.id = uniqueId;
       aTab.linkedPanel = uniqueId;
 
       // Inject the <browser> into the DOM if necessary.
@@ -2640,8 +2725,8 @@
       // If we transitioned from one browser to two browsers, we need to set
       // hasSiblings=false on both the existing browser and the new browser.
       if (this.tabs.length == 2) {
-        this.tabs[0].linkedBrowser.browsingContext.hasSiblings = true;
-        this.tabs[1].linkedBrowser.browsingContext.hasSiblings = true;
+        if (this.tabs[0].linkedBrowser.browsingContext) this.tabs[0].linkedBrowser.browsingContext.hasSiblings = true;
+        if (this.tabs[1].linkedBrowser.browsingContext) this.tabs[1].linkedBrowser.browsingContext.hasSiblings = true;
       } else {
         aTab.linkedBrowser.browsingContext.hasSiblings = this.tabs.length > 1;
       }
@@ -2828,7 +2913,6 @@
             this.selectedTab = this.addTrustedTab(BROWSER_NEW_TAB_URL, {
               tabIndex: tab._tPos + 1,
               userContextId: tab.userContextId,
-              tabGroup: tab.group,
               focusUrlBar: true,
             });
             resolve(this.selectedBrowser);
@@ -2938,6 +3022,9 @@
         schemelessInput,
         hasValidUserGestureActivation = false,
         textDirectiveUserActivation = false,
+        _forZenEmptyTab,
+        essential,
+        zenWorkspaceId,
       } = {}
     ) {
       // all callers of addTab that pass a params object need to pass
@@ -2948,10 +3035,17 @@
         );
       }
 
+      let hasZenDefaultUserContextId = false;
+      let zenForcedWorkspaceId = undefined;
+      if (typeof gZenWorkspaces !== "undefined" && !_forZenEmptyTab) {
+        [userContextId, hasZenDefaultUserContextId, zenForcedWorkspaceId] = gZenWorkspaces.getContextIdIfNeeded(userContextId, fromExternal);
+      }
+
       if (!UserInteraction.running("browser.tabs.opening", window)) {
         UserInteraction.start("browser.tabs.opening", "initting", window);
       }
 
+      if (!gURLBar.hasAttribute("zen-newtab")) {
       // If we're opening a foreground tab, set the owner by default.
       ownerTab ??= inBackground ? null : this.selectedTab;
 
@@ -2959,6 +3053,7 @@
       if (this.selectedTab.owner) {
         this.selectedTab.owner = null;
       }
+      }
 
       // Find the tab that opened this one, if any. This is used for
       // determining positioning, and inherited attributes such as the
@@ -3011,6 +3106,22 @@
           noInitialLabel,
           skipBackgroundNotify,
         });
+        if (hasZenDefaultUserContextId) {
+          t.setAttribute("zenDefaultUserContextId", "true");
+        }
+        if (zenWorkspaceId) {
+          t.setAttribute("zen-workspace-id", zenWorkspaceId);
+          t.setAttribute("change-workspace", "")
+        } else if (zenForcedWorkspaceId !== undefined) {
+          t.setAttribute("zen-workspace-id", zenForcedWorkspaceId);
+          t.setAttribute("change-workspace", "")
+        }
+        if (_forZenEmptyTab) {
+          t.setAttribute("zen-empty-tab", "true");
+        }
+        if (essential) {
+          t.setAttribute("zen-essential", "true");
+        }
         if (insertTab) {
           // Insert the tab into the tab container in the correct position.
           this.#insertTabAtIndex(t, {
@@ -3019,6 +3130,7 @@
             ownerTab,
             openerTab,
             pinned,
+            essential,
             bulkOrderedOpen,
             tabGroup: tabGroup ?? openerTab?.group,
           });
@@ -3037,6 +3149,7 @@
           openWindowInfo,
           skipLoad,
           triggeringRemoteType,
+          _forZenEmptyTab,
         }));
 
         if (focusUrlBar) {
@@ -3161,6 +3274,12 @@
         }
       }
 
+      if (typeof window.gZenVerticalTabsManager !== "undefined") {
+        gZenVerticalTabsManager.animateItemOpen(t);
+      }
+      if (typeof window.gZenCompactModeManager !== "undefined" && !skipLoad && insertTab) {
+        gZenCompactModeManager._onTabOpen(t, inBackground);
+      }
       // Additionally send pinned tab events
       if (pinned) {
         this.#notifyPinnedStatus(t);
@@ -3375,6 +3494,7 @@
         isAdoptingGroup = false,
         isUserTriggered = false,
         telemetryUserCreateSource = "unknown",
+        forSplitView = false,
       } = {}
     ) {
       if (
@@ -3385,9 +3505,6 @@
             !this.isSplitViewWrapper(tabOrSplitView)
         )
       ) {
-        throw new Error(
-          "Cannot create tab group with zero tabs or split views"
-        );
       }
 
       if (!color) {
@@ -3408,9 +3525,14 @@
         label,
         isAdoptingGroup
       );
-      this.tabContainer.insertBefore(
+      if (forSplitView) {
+        group.setAttribute('split-view-group', true);
+      }
+      group.essential = tabsAndSplitViews.some(tab => tab.hasAttribute("essential"));
+      group.pinned = group.essential || tabsAndSplitViews.some(tab => tab.pinned);
+      if (forSplitView && !insertBefore?.group?.isZenFolder) insertBefore = insertBefore?.group ?? insertBefore;
+      insertBefore.before(
         group,
-        insertBefore?.group ?? insertBefore
       );
       group.addTabs(tabsAndSplitViews);
 
@@ -3531,7 +3653,7 @@
       }
 
       this.#handleTabMove(tab, () =>
-        gBrowser.tabContainer.insertBefore(tab, tab.group.nextElementSibling)
+        tab.group.after(tab)
       );
     }
 
@@ -3599,6 +3721,7 @@
         color: group.color,
         insertBefore: newTabs[0],
         isAdoptingGroup: true,
+        forSplitView: group.hasAttribute('split-view-group'),
       });
     }
 
@@ -3746,6 +3869,7 @@
         openWindowInfo,
         skipLoad,
         triggeringRemoteType,
+        _forZenEmptyTab
       }
     ) {
       // If we don't have a preferred remote type (or it is `NOT_REMOTE`), and
@@ -3815,6 +3939,7 @@
           openWindowInfo,
           name,
           skipLoad,
+          _forZenEmptyTab
         });
       }
 
@@ -4003,7 +4128,7 @@
         // Add a new tab if needed.
         if (!tab) {
           let createLazyBrowser =
-            restoreTabsLazily && !select && !tabData.pinned;
+            restoreTabsLazily && !(tabData.pinned && !Services.prefs.getBoolPref("browser.sessionstore.restore_pinned_tabs_on_demand"));
 
           let url = "about:blank";
           if (tabData.entries?.length) {
@@ -4040,8 +4165,10 @@
             insertTab: false,
             skipLoad: true,
             preferredRemoteType,
+            _forZenEmptyTab: tabData.zenIsEmpty,
           });
-
+          tab._originalUrl = url;
+          gZenSessionStore.restoreInitialTabData(tab, tabData);
           if (select) {
             tabToSelect = tab;
           }
@@ -4053,7 +4180,8 @@
           this.pinTab(tab);
           // Then ensure all the tab open/pinning information is sent.
           this._fireTabOpen(tab, {});
-        } else if (tabData.groupId) {
+        }
+        if (tabData.groupId && tabGroupWorkingData.get(tabData.groupId)) {
           let { groupId } = tabData;
           const tabGroup = tabGroupWorkingData.get(groupId);
           // if a tab refers to a tab group we don't know, skip any group
@@ -4067,7 +4195,10 @@
                 tabGroup.stateData.id,
                 tabGroup.stateData.color,
                 tabGroup.stateData.collapsed,
-                tabGroup.stateData.name
+                tabGroup.stateData.name,
+                tabGroup.stateData.pinned,
+                tabGroup.stateData.essential,
+                tabGroup.stateData.splitView,
               );
               tabsFragment.appendChild(tabGroup.node);
             }
@@ -4112,9 +4243,23 @@
       // to remove the old selected tab.
       if (tabToSelect) {
         let leftoverTab = this.selectedTab;
+        if (this._hasAlreadyInitializedZenSessionStore || !gZenWorkspaces.workspaceEnabled) {
         this.selectedTab = tabToSelect;
         this.removeTab(leftoverTab);
+        } else {
+          gZenWorkspaces._tabToRemoveForEmpty = leftoverTab;
+          if (Services.prefs.getBoolPref("zen.workspaces.continue-where-left-off")) {
+            gZenWorkspaces._tabToSelect = selectTab - 2; // -1 for the offset, and another -1 for the empty tab.
+          }
+          if (gZenWorkspaces._initialTab && !gZenVerticalTabsManager._canReplaceNewTab) {
+            gZenWorkspaces._initialTab._shouldRemove = true;
+          }
+        }
       }
+      else {
+        gZenWorkspaces._tabToRemoveForEmpty = this.selectedTab;
+      }
+      this._hasAlreadyInitializedZenSessionStore = true;
 
       if (tabs.length > 1 || !tabs[0].selected) {
         this._updateTabsAfterInsert();
@@ -4305,11 +4450,14 @@
       if (ownerTab) {
         tab.owner = ownerTab;
       }
+      if ((!tab.pinned && tabGroup?.isZenFolder && !Services.prefs.getBoolPref('zen.folders.owned-tabs-in-folder')) || (tabGroup && tabGroup.hasAttribute("split-view-group"))) {
+        tabGroup = null;
+      }
 
       // Ensure we have an index if one was not provided.
       if (typeof elementIndex != "number" && typeof tabIndex != "number") {
         // Move the new tab after another tab if needed, to the end otherwise.
-        elementIndex = Infinity;
+        elementIndex = Services.prefs.getBoolPref("zen.view.show-newtab-button-top") ? this._numVisiblePinTabsWithoutCollapsed : Infinity;
         if (
           !bulkOrderedOpen &&
           ((openerTab &&
@@ -4321,7 +4469,7 @@
           let lastRelatedTab =
             openerTab && this._lastRelatedTabMap.get(openerTab);
           let previousTab = lastRelatedTab || openerTab || this.selectedTab;
-          if (!tabGroup) {
+          if (!tabGroup && pinned === previousTab.group?.pinned) {
             tabGroup = previousTab.group;
           }
           if (
@@ -4337,7 +4485,7 @@
                 previousTab.splitview
               ) + 1;
           } else if (previousTab.visible) {
-            elementIndex = previousTab.elementIndex + 1;
+            elementIndex = (typeof previousTab.elementIndex === 'undefined') ? elementIndex : (previousTab.elementIndex + 1);
           } else if (previousTab == FirefoxViewHandler.tab) {
             elementIndex = 0;
           }
@@ -4365,14 +4513,14 @@
       }
       // Ensure index is within bounds.
       if (tab.pinned) {
-        index = Math.max(index, 0);
-        index = Math.min(index, this.pinnedTabCount);
+        index = Math.max(index, tab.hasAttribute("zen-essential") ? 0 : this._numZenEssentials);
+        index = Math.min(index, tab.hasAttribute("zen-essential") ? this._numZenEssentials : this._numVisiblePinTabsWithoutCollapsed);
       } else {
-        index = Math.max(index, this.pinnedTabCount);
+        index = Math.max(index, typeof elementIndex == "number" ? this._numVisiblePinTabsWithoutCollapsed : this.pinnedTabCount);
         index = Math.min(index, allItems.length);
       }
       /** @type {MozTabbrowserTab|undefined} */
-      let itemAfter = allItems.at(index);
+      let itemAfter = gZenGlanceManager.getTabOrGlanceParent(allItems.at(index));
 
       if (pinned && !itemAfter?.pinned) {
         itemAfter = null;
@@ -4385,7 +4533,7 @@
 
       this.tabContainer._invalidateCachedTabs();
 
-      if (tabGroup) {
+      if (tabGroup && !tabGroup.hasAttribute("split-view-group")) {
         if (
           (this.isTab(itemAfter) && itemAfter.group == tabGroup) ||
           this.isSplitViewWrapper(itemAfter)
@@ -4416,7 +4564,11 @@
         const tabContainer = pinned
           ? this.tabContainer.pinnedTabsContainer
           : this.tabContainer;
+        if (itemAfter) {
+          itemAfter.before(tab);
+        } else {
         tabContainer.insertBefore(tab, itemAfter);
+        }
       }
 
       if (tab.group?.collapsed) {
@@ -4431,6 +4583,7 @@
       if (pinned) {
         this._updateTabBarForPinnedTabs();
       }
+      gZenWorkspaces.fixTabInsertLocation(tab, itemAfter);
 
       TabBarVisibility.update();
     }
@@ -4983,6 +5136,7 @@
         telemetrySource,
       } = {}
     ) {
+      tabs = tabs.filter(tab => !tab.hasAttribute("zen-empty-tab"));
       // When 'closeWindowWithLastTab' pref is enabled, closing all tabs
       // can be considered equivalent to closing the window.
       if (
@@ -5072,6 +5226,7 @@
         if (lastToClose) {
           this.removeTab(lastToClose, aParams);
         }
+        gZenUIManager.onTabClose(undefined);
       } catch (e) {
         console.error(e);
       }
@@ -5110,6 +5265,12 @@
         aTab._closeTimeNoAnimTimerId = Glean.browserTabclose.timeNoAnim.start();
       }
 
+      if (gZenWorkspaces.workspaceEnabled) {
+        let newTab = gZenWorkspaces.handleTabBeforeClose(aTab, closeWindowWithLastTab);
+        if (newTab) {
+          this.selectedTab = newTab;
+        }
+      }
       // Handle requests for synchronously removing an already
       // asynchronously closing tab.
       if (!animate && aTab.closing) {
@@ -5124,6 +5285,9 @@
       // state).
       let tabWidth = window.windowUtils.getBoundsWithoutFlushing(aTab).width;
       let isLastTab = this.#isLastTabInWindow(aTab);
+      if (gZenGlanceManager.manageTabClose(aTab)) {
+        return;
+      }
       if (
         !this._beginRemoveTab(aTab, {
           closeWindowFastpath: true,
@@ -5172,7 +5336,13 @@
         // We're not animating, so we can cancel the animation stopwatch.
         Glean.browserTabclose.timeAnim.cancel(aTab._closeTimeAnimTimerId);
         aTab._closeTimeAnimTimerId = null;
-        this._endRemoveTab(aTab);
+        if (animate && !gReduceMotion && !(gZenUIManager.testingEnabled && !gZenUIManager.profilingEnabled)) {
+          gZenVerticalTabsManager.animateTabClose(aTab, (animate && !gReduceMotion)).then(() => {
+            this._endRemoveTab(aTab);
+          });
+        } else {
+          this._endRemoveTab(aTab);
+        }
         return;
       }
 
@@ -5306,7 +5476,7 @@
           closeWindowWithLastTab != null
             ? closeWindowWithLastTab
             : !window.toolbar.visible ||
-              Services.prefs.getBoolPref("browser.tabs.closeWindowWithLastTab");
+              Services.prefs.getBoolPref("browser.tabs.closeWindowWithLastTab") && !gZenWorkspaces._isClosingWindow && !gZenWorkspaces._removedByStartupPage;
 
         if (closeWindow) {
           // We've already called beforeunload on all the relevant tabs if we get here,
@@ -5330,6 +5500,7 @@
 
         newTab = true;
       }
+      gZenWorkspaces._removedByStartupPage = false;
       aTab._endRemoveArgs = [closeWindow, newTab];
 
       // swapBrowsersAndCloseOther will take care of closing the window without animation.
@@ -5370,13 +5541,7 @@
       aTab._mouseleave();
 
       if (newTab) {
-        this.addTrustedTab(BROWSER_NEW_TAB_URL, {
-          skipAnimation: true,
-          // In the event that insertAfterCurrent is set and the current tab is
-          // inside a group that is being closed we want to avoid creating the
-          // new tab inside that group.
-          tabIndex: 0,
-        });
+        gZenWorkspaces.selectEmptyTab(BROWSER_NEW_TAB_URL);
       } else {
         TabBarVisibility.update();
       }
@@ -5509,6 +5674,7 @@
         this.tabs[i]._tPos = i;
       }
 
+      gZenWorkspaces.updateTabsContainers();
       if (!this._windowIsClosing) {
         // update tab close buttons state
         this.tabContainer._updateCloseButtons();
@@ -5732,6 +5898,7 @@
       }
 
       let excludeTabs = new Set(aExcludeTabs);
+      gZenWorkspaces.getTabsToExclude(aTab).forEach(tab => excludeTabs.add(tab));
 
       // If this tab has a successor, it should be selectable, since
       // hiding or closing a tab removes that tab as a successor.
@@ -5744,15 +5911,22 @@
         !excludeTabs.has(aTab.owner) &&
         Services.prefs.getBoolPref("browser.tabs.selectOwnerOnClose")
       ) {
-        return aTab.owner;
+        return gZenWorkspaces.findTabToBlur(aTab.owner);
       }
 
       // Try to find a remaining tab that comes after the given tab
       let remainingTabs = Array.prototype.filter.call(
         this.visibleTabs,
-        tab => !excludeTabs.has(tab)
+        tab => !excludeTabs.has(tab) && gZenWorkspaces._shouldChangeToTab(tab) && tab !== aTab
       );
 
+      if (remainingTabs.length > 0 && Services.prefs.getBoolPref("zen.tabs.select-recently-used-on-close")) {
+        let mostRecentTab = remainingTabs.reduce((a, b) =>
+          b.lastAccessed > a.lastAccessed ? b : a
+        );
+        return gZenWorkspaces.findTabToBlur(mostRecentTab);
+      }
+
       let tab = this.tabContainer.findNextTab(aTab, {
         direction: 1,
         filter: _tab => remainingTabs.includes(_tab),
@@ -5766,7 +5940,7 @@
       }
 
       if (tab) {
-        return tab;
+        return gZenWorkspaces.findTabToBlur(tab);
       }
 
       // If no qualifying visible tab was found, see if there is a tab in
@@ -5787,7 +5961,7 @@
         });
       }
 
-      return tab;
+      return gZenWorkspaces.findTabToBlur(tab);
     }
 
     _blurTab(aTab) {
@@ -5798,7 +5972,7 @@
      * @returns {boolean}
      *   False if swapping isn't permitted, true otherwise.
      */
-    swapBrowsersAndCloseOther(aOurTab, aOtherTab) {
+    swapBrowsersAndCloseOther(aOurTab, aOtherTab, zenCloseOther = true) {
       // Do not allow transfering a private tab to a non-private window
       // and vice versa.
       if (
@@ -5852,6 +6026,7 @@
       // fire the beforeunload event in the process.  Close the other
       // window if this was its last tab.
       if (
+        zenCloseOther &&
         !remoteBrowser._beginRemoveTab(aOtherTab, {
           adoptedByTab: aOurTab,
           closeWindowWithLastTab: true,
@@ -5863,7 +6038,7 @@
       // If this is the last tab of the window, hide the window
       // immediately without animation before the docshell swap, to avoid
       // about:blank being painted.
-      let [closeWindow] = aOtherTab._endRemoveArgs;
+      let [closeWindow] = !zenCloseOther ? [false] : aOtherTab._endRemoveArgs;
       if (closeWindow) {
         let win = aOtherTab.ownerGlobal;
         win.windowUtils.suppressAnimation(true);
@@ -5987,11 +6162,13 @@
       }
 
       // Finish tearing down the tab that's going away.
+      if (zenCloseOther) {
       if (closeWindow) {
         aOtherTab.ownerGlobal.close();
       } else {
         remoteBrowser._endRemoveTab(aOtherTab);
       }
+      }
 
       this.setTabTitle(aOurTab);
 
@@ -6193,10 +6370,10 @@
       SessionStore.deleteCustomTabValue(aTab, "hiddenBy");
     }
 
-    hideTab(aTab, aSource) {
+    hideTab(aTab, aSource, forZenWorkspaces = false) {
       if (
         aTab.hidden ||
-        aTab.pinned ||
+        (aTab.pinned && !forZenWorkspaces) ||
         aTab.selected ||
         aTab.closing ||
         // Tabs that are sharing the screen, microphone or camera cannot be hidden.
@@ -6254,7 +6431,8 @@
      *
      * @param {MozTabbrowserTab|MozTabbrowserTabGroup|MozTabbrowserTabGroup.labelElement} aTab
      */
-    replaceTabWithWindow(aTab, aOptions) {
+    replaceTabWithWindow(aTab, aOptions, zenForceSync = false) {
+      if (!this.isTab(aTab)) return; // TODO: Handle tab groups
       if (this.tabs.length == 1) {
         return null;
       }
@@ -6278,12 +6456,14 @@
       }
 
       // tell a new window to take the "dropped" tab
-      return window.openDialog(
+      let win = window.openDialog(
         AppConstants.BROWSER_CHROME_URL,
         "_blank",
         options,
         aTab
       );
+      win._zenStartupSyncFlag = (zenForceSync || !Services.prefs.getBoolPref("zen.tabs.dnd-open-blank-window", true)) ? 'synced' : 'unsynced';
+      return win;
     }
 
     /**
@@ -6388,7 +6568,7 @@
      *   `true` if element is a `<tab-group>`
      */
     isTabGroup(element) {
-      return !!(element?.tagName == "tab-group");
+      return !!(element?.tagName == "tab-group" || element?.tagName == "zen-folder");
     }
 
     /**
@@ -6473,8 +6653,8 @@
       }
 
       // Don't allow mixing pinned and unpinned tabs.
-      if (this.isTab(element) && element.pinned) {
-        tabIndex = Math.min(tabIndex, this.pinnedTabCount - 1);
+      if (element.pinned) {
+        tabIndex = element.hasAttribute('zen-essential') ? Math.min(tabIndex, this._numZenEssentials - 1) : Math.min(Math.max(tabIndex, this._numZenEssentials), this.pinnedTabCount - 1);
       } else {
         tabIndex = Math.max(tabIndex, this.pinnedTabCount);
       }
@@ -6500,10 +6680,16 @@
       this.#handleTabMove(
         element,
         () => {
-          let neighbor = this.tabs[tabIndex];
-          if (forceUngrouped && neighbor?.group) {
+          let neighbor = gZenGlanceManager.getTabOrGlanceParent(this.tabs[tabIndex]);
+          if ((forceUngrouped && neighbor?.group) || neighbor?.group?.hasAttribute("split-view-group")) {
             neighbor = neighbor.group;
           }
+          if (element.group?.hasAttribute("split-view-group")) {
+            element = element.group;
+          }
+          if (element.group?.hasAttribute("split-view-group") && neighbor == element.group) {
+            return;
+          }
           if (neighbor && this.isTab(element) && tabIndex > element._tPos) {
             neighbor.after(element);
           } else {
@@ -6561,23 +6747,31 @@
     #moveTabNextTo(element, targetElement, moveBefore = false, metricsContext) {
       if (this.isTabGroupLabel(targetElement)) {
         targetElement = targetElement.group;
-        if (!moveBefore && !targetElement.collapsed) {
+        if (!moveBefore && !targetElement.collapsed && !targetElement.hasAttribute("split-view-group")) {
           // Right after the tab group label = before the first tab in the tab group
           targetElement = targetElement.tabs[0];
           moveBefore = true;
         }
       }
-      if (this.isTabGroupLabel(element)) {
+      if (this.isTabGroupLabel(element) || element.group?.hasAttribute("split-view-group")) {
         element = element.group;
-        if (targetElement?.group) {
-          targetElement = targetElement.group;
-        }
       }
 
       // Don't allow mixing pinned and unpinned tabs.
+      targetElement = gZenGlanceManager.getTabOrGlanceParent(targetElement);
+      if (targetElement?.classList.contains('tab-group-label-container')) {
+        targetElement = targetElement.parentElement;
+      }
+      if (element.hasAttribute('zen-essential') && !targetElement?.hasAttribute('zen-essential')) {
+        targetElement = this.tabsWithoutGlance[this._numZenEssentials - 1];
+      } else
       if (element.pinned && !targetElement?.pinned) {
-        targetElement = this.tabs[this.pinnedTabCount - 1];
+        targetElement = this.tabsWithoutGlance[this.pinnedTabCount - 1];
         moveBefore = false;
+        if (!this.visibleTabs.includes(targetElement)) {
+          targetElement = gZenWorkspaces.pinnedTabsContainer.querySelector('.pinned-tabs-container-separator')
+          moveBefore = true;
+        }
       } else if (!element.pinned && targetElement && targetElement.pinned) {
         // If the caller asks to move an unpinned element next to a pinned
         // tab, move the unpinned element to be the first unpinned element
@@ -6590,14 +6784,38 @@
         //    move the tab group right before the first unpinned tab.
         // 4. Moving a tab group and the first unpinned tab is grouped:
         //    move the tab group right before the first unpinned tab's tab group.
-        targetElement = this.tabs[this.pinnedTabCount];
+        targetElement = this.tabsWithoutGlance[this.pinnedTabCount];
         if (targetElement.group) {
           targetElement = targetElement.group;
         }
         moveBefore = true;
       }
+      if (!gZenFolders.canDropElement(element, targetElement)) {
+        element = element.group;
+      }
+      if (!element.hasAttribute('zen-essential') && targetElement?.hasAttribute('zen-essential')) { 
+        targetElement = null;
+        moveBefore = false;
+      }
+      // It is necessary to place the check below to avoid inserting an element
+      // inside when the split group is the last element.
+      if (targetElement?.group?.hasAttribute("split-view-group")) {
+        targetElement = targetElement.group;
+      }
+      if (targetElement?.hasAttribute("zen-empty-tab")) {
+        // When the folder is the last element in the pinned section,
+        // targetElement is a tab with the zen-empty-tab attribute.
+        // If the movement is from top to bottom, it must be redefined as a folder.
+        if (!moveBefore) {
+          targetElement = targetElement.group;
+        } else {
+          // Always insert an element after zen-empty-tab to avoid it moving from the first position
+          moveBefore = false;
+        }
+      }
 
       let getContainer = () =>
+        element.hasAttribute("zen-essential") ? gZenWorkspaces.getEssentialsSection(element) :
         element.pinned
           ? this.tabContainer.pinnedTabsContainer
           : this.tabContainer;
@@ -6606,11 +6824,15 @@
         element,
         () => {
           if (moveBefore) {
-            getContainer().insertBefore(element, targetElement);
+            targetElement.parentElement.insertBefore(element, targetElement);
           } else if (targetElement) {
             targetElement.after(element);
           } else {
+            if (element.pinned) {
+              getContainer().prepend(element);
+            } else {
             getContainer().appendChild(element);
+            }
           }
         },
         metricsContext
@@ -6676,10 +6898,10 @@
      * @param {TabMetricsContext} [metricsContext]
      */
     moveTabToExistingGroup(aTab, aGroup, metricsContext) {
-      if (!this.isTab(aTab)) {
+      if (!this.isTab(aTab) && !aTab.hasAttribute('split-view-group')) {
         throw new Error("Can only move a tab into a tab group");
       }
-      if (aTab.pinned) {
+      if (aTab.pinned != !!aGroup.pinned) {
         return;
       }
       if (aTab.group && aTab.group.id === aGroup.id) {
@@ -6751,6 +6973,7 @@
 
       let state = {
         tabIndex: tab._tPos,
+        workspaceId: tab.getAttribute("zen-workspace-id")
       };
       if (tab.visible) {
         state.elementIndex = tab.elementIndex;
@@ -6777,7 +7000,7 @@
       let changedTabGroup =
         previousTabState.tabGroupId != currentTabState.tabGroupId;
 
-      if (changedPosition || changedTabGroup) {
+      if (changedPosition || changedTabGroup || (previousTabState.workspaceId != currentTabState.workspaceId)) {
         tab.dispatchEvent(
           new CustomEvent("TabMove", {
             bubbles: true,
@@ -6818,6 +7041,10 @@
 
       moveActionCallback();
 
+      gZenWorkspaces.makeSureEmptyTabIsFirst();
+      gZenViewSplitter._maybeRemoveFakeBrowser(false);
+      gZenViewSplitter._canDrop = false;
+
       // Clear tabs cache after moving nodes because the order of tabs may have
       // changed.
       this.tabContainer._invalidateCachedTabs();
@@ -6868,7 +7095,22 @@
      * @returns {object}
      *    The new tab in the current window, null if the tab couldn't be adopted.
      */
-    adoptTab(aTab, { elementIndex, tabIndex, selectTab = false } = {}) {
+    adoptTab(aTab, { elementIndex, tabIndex, selectTab = false, spaceId = null } = {}) {
+      if (window.gZenWorkspaces.currentWindowIsSyncing && aTab.ownerGlobal.gZenWorkspaces?.currentWindowIsSyncing) {
+        const tabId = aTab.id;
+        const thisTab = window.gZenWindowSync.getItemFromWindow(window, tabId);
+        if (thisTab) {
+          // Just move the tab to the index
+          this.moveTabTo(thisTab, { elementIndex, tabIndex });
+          if (spaceId) {
+            thisTab.setAttribute("zen-workspace-id", spaceId);
+          }
+          if (selectTab) {
+            this.selectedTab = thisTab;
+          }
+          return thisTab;
+        }
+      }
       // Swap the dropped tab with a new one we create and then close
       // it in the other window (making it seem to have moved between
       // windows). We also ensure that the tab we create to swap into has
@@ -6910,6 +7152,8 @@
         params.userContextId = aTab.getAttribute("usercontextid");
       }
       let newTab = this.addWebTab("about:blank", params);
+      newTab._zenContentsVisible = true;
+      newTab.zenStaticLabel = aTab.zenStaticLabel;
       let newBrowser = this.getBrowserForTab(newTab);
 
       aTab.container.tabDragAndDrop.finishAnimateTabMove();
@@ -7718,7 +7962,7 @@
             // preventDefault(). It will still raise the window if appropriate.
             break;
           }
-          this.selectedTab = tab;
+          gZenWorkspaces.switchTabIfNeeded(tab);
           window.focus();
           aEvent.preventDefault();
           break;
@@ -7735,7 +7979,6 @@
         }
         case "TabGroupCollapse":
           aEvent.target.tabs.forEach(tab => {
-            this.removeFromMultiSelectedTabs(tab);
           });
           break;
         case "TabGroupCreateByUser":
@@ -7895,7 +8138,9 @@
 
         let filter = this._tabFilters.get(tab);
         if (filter) {
+          try {
           browser.webProgress.removeProgressListener(filter);
+          } catch {}
 
           let listener = this._tabListeners.get(tab);
           if (listener) {
@@ -8698,6 +8943,7 @@
             aWebProgress.isTopLevel
           ) {
             this.mTab.setAttribute("busy", "true");
+            if (!this.mTab.selected) this.mTab.setAttribute("unread", "true");
             gBrowser._tabAttrModified(this.mTab, ["busy"]);
             this.mTab._notselectedsinceload = !this.mTab.selected;
           }
@@ -8778,6 +9024,7 @@
         // known defaults. Note we use the original URL since about:newtab
         // redirects to a prerendered page.
         const shouldRemoveFavicon =
+          !this.mTab.zenStaticIcon &&
           !this.mBrowser.mIconURL &&
           !ignoreBlank &&
           !(originalLocation.spec in FAVICON_DEFAULTS);
@@ -9803,7 +10050,7 @@ var TabContextMenu = {
     );
     contextUnpinSelectedTabs.hidden =
       !this.contextTab.pinned || !this.multiselected;
-
+    gZenPinnedTabManager.updatePinnedTabContextMenu(this.contextTab);
     // Build Ask Chat items
     TabContextMenu.GenAI.buildTabMenu(
       document.getElementById("context_askChat"),



================================================
FILE: src/browser/components/tabbrowser/content/tabgroup-js.patch
================================================
diff --git a/browser/components/tabbrowser/content/tabgroup.js b/browser/components/tabbrowser/content/tabgroup.js
index 9abf115062e7c86196d7cb6b8ac82a9bb63b5a65..9a38d7dc10403c1ee721b6abf33d525a4aa1f821 100644
--- a/browser/components/tabbrowser/content/tabgroup.js
+++ b/browser/components/tabbrowser/content/tabgroup.js
@@ -14,11 +14,11 @@
   class MozTabbrowserTabGroup extends MozXULElement {
     static markup = `
       <vbox class="tab-group-label-container" pack="center">
-        <vbox class="tab-group-label-hover-highlight" pack="center">
           <label class="tab-group-label" role="button" />
-        </vbox>
       </vbox>
-      <html:slot/>
+      <html:div class="tab-group-container">
+        <html:div class="zen-tab-group-start"/>
+      </html:div>
       <vbox class="tab-group-overflow-count-container" pack="center">
         <label class="tab-group-overflow-count" role="button" />
       </vbox>
@@ -69,20 +69,36 @@
     }
 
     connectedCallback() {
+      if (this._lastGroup && this._lastGroup !== this.group) {
+        this._lastGroup.dispatchEvent(
+          new CustomEvent("FolderUngrouped", {
+            bubbles: true,
+            detail: this,
+          })
+        );
+      }
+      if (this.group && this._lastGroup != this.group) {
+        this._lastGroup = this.group;
+        this.group.dispatchEvent(
+          new CustomEvent("FolderGrouped", {
+            bubbles: true,
+            detail: this,
+          })
+        );
+      } else if (!this.group) {
+        this._lastGroup = null;
+      }
       // Always set the mutation observer to listen for tab change events, even
       // if we are already initialized.
       // This is needed to ensure events continue to fire even if the tab group is
       // moved from the horizontal to vertical tab layout or vice-versa, which
       // causes the component to be repositioned in the DOM.
-      this.#observeTabChanges();
 
       // Similar to above, always set up TabSelect listener, as this gets
       // removed in disconnectedCallback
       this.ownerGlobal.addEventListener("TabSelect", this);
 
-      if (this._initialized) {
-        return;
-      }
+      if (!this._initialized) {
 
       this._initialized = true;
       this.saveOnWindowClose = true;
@@ -114,11 +130,14 @@
 
       this.#labelContainerElement.addEventListener("mouseover", this);
       this.#labelContainerElement.addEventListener("mouseout", this);
-      this.#labelElement.addEventListener("contextmenu", e => {
-        e.preventDefault();
-        gBrowser.tabGroupMenu.openEditModal(this);
-        return false;
-      });
+      this.appendChild = function (child) {
+        this.groupContainer.appendChild(child);
+        for (let tab of this.tabs) {
+          if (tab.hasAttribute("zen-empty-tab") && tab.group === this) {
+            this.groupStartElement.after(tab);
+          }
+        }
+      };
 
       this.#updateLabelAriaAttributes();
 
@@ -132,17 +151,21 @@
       let tabGroupCreateDetail = this.#wasCreatedByAdoption
         ? { isAdoptingGroup: true }
         : {};
+      if (!this.hasAttribute('drag-image')) {
       this.dispatchEvent(
         new CustomEvent("TabGroupCreate", {
           bubbles: true,
           detail: tabGroupCreateDetail,
         })
       );
+      }
       // Reset `wasCreatedByAdoption` to default of false so that we only
       // claim that a tab group was created by adoption the first time it
       // mounts after getting created by `Tabbrowser.adoptTabGroup`.
       this.#wasCreatedByAdoption = false;
     }
+      this.#observeTabChanges();
+    }
 
     resetDefaultGroupName = () => {
       this.#defaultGroupName = "";
@@ -211,7 +234,10 @@
           }
         });
       }
-      this.#tabChangeObserver.observe(this, { childList: true });
+      const container = this.groupContainer;
+      if (container) {
+        this.#tabChangeObserver.observe(container, { childList: true });
+      }
     }
 
     get color() {
@@ -305,6 +331,9 @@
     }
 
     set collapsed(val) {
+      if (this.hasAttribute("split-view-group")) {
+        return;
+      }
       if (!!val == this.collapsed) {
         return;
       }
@@ -391,7 +420,6 @@
           tabGroupName,
         })
         .then(result => {
-          this.dataset.tooltip = result;
         });
     }
 
@@ -466,13 +494,65 @@
      * @returns {MozTabbrowserTab[]}
      */
     get tabs() {
-      let childrenArray = Array.from(this.children);
-      for (let i = childrenArray.length - 1; i >= 0; i--) {
-        if (childrenArray[i].tagName == "tab-split-view-wrapper") {
-          childrenArray.splice(i, 1, ...childrenArray[i].tabs);
+      // add other group tabs if they are under this group
+      let childs = Array.from(this.groupContainer?.children ?? []);
+      const tabsCollect = [];
+      for (let item of childs) {
+        tabsCollect.push(item);
+        if (gBrowser.isTabGroup(item)) {
+          tabsCollect.push(...item.tabs);
         }
       }
-      return childrenArray.filter(node => node.matches("tab"));
+      return tabsCollect.filter(node => node.matches("tab"));
+    }
+
+    get groupContainer() {
+      return this.querySelector(".tab-group-container");
+    }
+
+    get groupStartElement() {
+      return this.querySelector(".zen-tab-group-start");
+    }
+
+    get childGroupsAndTabs() {
+      const result = [];
+      const container = this.groupContainer;
+
+      for (const item of Array.from(container.children)) {
+        if (gBrowser.isTab(item)) {
+          result.push(item);
+        } else if (gBrowser.isTabGroup(item)) {
+          const labelContainer = item.labelElement;
+          labelContainer.visible = item.visible;
+          if (gBrowser.isTabGroupLabel(labelContainer)) {
+            result.push(labelContainer);
+          }
+          result.push(...item.childGroupsAndTabs);
+        }
+      }
+      return result;
+    }
+
+    get group() {
+      if (gBrowser.isTabGroup(this.parentElement?.parentElement)) {
+        return this.parentElement.parentElement;
+      }
+      return null;
+    }
+
+    get visible() {
+      let currentGroup = this;
+      while (currentGroup?.group) {
+        currentGroup = currentGroup?.group;
+        if (currentGroup.collapsed) {
+          return false;
+        }
+      }
+      return true;
+    }
+
+    get level() {
+      return this.group?.level + 1 || 0;
     }
 
     /**
@@ -560,7 +640,6 @@
           );
         } else {
           if (tabOrSplitView.pinned) {
-            tabOrSplitView.ownerGlobal.gBrowser.unpinTab(tabOrSplitView);
           }
           let tabToMove =
             this.ownerGlobal === tabOrSplitView.ownerGlobal
@@ -625,7 +704,7 @@
      */
     on_click(event) {
       let isToggleElement =
-        event.target === this.#labelElement ||
+        this.labelElement.parentElement.contains(event.target) ||
         event.target === this.#overflowCountLabel;
       if (isToggleElement && event.button === 0) {
         event.preventDefault();
@@ -696,5 +775,6 @@
     }
   }
 
+  window.MozTabbrowserTabGroup = MozTabbrowserTabGroup;
   customElements.define("tab-group", MozTabbrowserTabGroup);
 }



================================================
FILE: src/browser/components/tabbrowser/content/tabs-js.patch
================================================
diff --git a/browser/components/tabbrowser/content/tabs.js b/browser/components/tabbrowser/content/tabs.js
index a61b4e7af40f1404bf3555a7011c6211de917635..69e3e360b3040dfcb4541bda57e88b0da1d59be3 100644
--- a/browser/components/tabbrowser/content/tabs.js
+++ b/browser/components/tabbrowser/content/tabs.js
@@ -240,7 +240,7 @@
         true
       )
         ? new window.TabStacking(this)
-        : new window.TabDragAndDrop(this);
+        : Services.prefs.getBoolPref("zen.tabs.use-legacy-drag-and-drop") ? new window.TabDragAndDrop(this) : new window.ZenDragAndDrop(this);
       this.tabDragAndDrop.init();
     }
 
@@ -453,7 +453,7 @@
       // and we're not hitting the scroll buttons.
       if (
         event.button != 0 ||
-        event.target != this.arrowScrollbox ||
+        !event.target.classList.contains("zen-workspace-empty-space") ||
         event.composedTarget.localName == "toolbarbutton"
       ) {
         return;
@@ -534,7 +534,6 @@
             });
           }
         } else if (isTabGroupLabel(event.target)) {
-          event.target.group.saveAndClose();
         } else if (
           event.originalTarget.closest("scrollbox") &&
           !Services.prefs.getBoolPref(
@@ -570,6 +569,9 @@
     }
 
     on_keydown(event) {
+      if (document.documentElement.getAttribute('zen-renaming-tab') === 'true') {
+        return;
+      }
       let { altKey, shiftKey } = event;
       let [accel, nonAccel] =
         AppConstants.platform == "macosx"
@@ -764,7 +766,6 @@
       this._updateCloseButtons();
 
       if (!this.#animatingGroups.size) {
-        this._handleTabSelect(true);
       }
 
       document
@@ -825,7 +826,7 @@
     }
 
     get newTabButton() {
-      return this.querySelector("#tabs-newtab-button");
+      return gZenWorkspaces.activeWorkspaceStrip.querySelector("#tabs-newtab-button");
     }
 
     get verticalMode() {
@@ -841,6 +842,7 @@
     }
 
     get overflowing() {
+      gZenWorkspaces.updateOverflowingTabs();
       return this.hasAttribute("overflow");
     }
 
@@ -854,29 +856,56 @@
       if (pinnedChildren?.at(-1)?.id == "pinned-tabs-container-periphery") {
         pinnedChildren.pop();
       }
-      let unpinnedChildren = Array.from(this.arrowScrollbox.children);
+      let unpinnedChildren = gZenWorkspaces.tabboxChildren;
       // remove arrowScrollbox periphery element.
       unpinnedChildren.pop();
 
       // explode tab groups and split view wrappers
       // Iterate backwards over the array to preserve indices while we modify
       // things in place
-      for (let i = unpinnedChildren.length - 1; i >= 0; i--) {
-        if (
-          unpinnedChildren[i].tagName == "tab-group" ||
-          unpinnedChildren[i].tagName == "tab-split-view-wrapper"
-        ) {
-          unpinnedChildren.splice(i, 1, ...unpinnedChildren[i].tabs);
+      const pinnedTabs = [...gZenWorkspaces.getCurrentEssentialsContainer().children, ...pinnedChildren];
+      const expandTabs = (tabs) => {
+        for (let i = tabs.length - 1; i >= 0; i--) {
+          const tab = tabs[i];
+          if (isTabGroup(tab)) {
+            // remove the group from the list
+            tabs.splice(i, 1);
+            // add the tabs in the group to the list
+            tabs.splice(i, 0, ...tab.tabs);
+          } else if (!isTab(tab)) {
+            tabs.splice(i, 1);
+          }
         }
+      };
+      expandTabs(pinnedTabs);
+      expandTabs(unpinnedChildren);
+      const allTabs = [
+        ...pinnedTabs,
+        ...unpinnedChildren,
+      ];
+      const lastPinnedTabIdx = pinnedTabs.length - 1;
+      let i = 0;
+      for (const tab of [...allTabs]) {
+        // add glance tabs (tabs inside tabs) to the list
+        const glanceTab = tab.glanceTab;
+        if (glanceTab) {
+          // insert right after the parent tab. note: it must be inserted before
+          // the last pinned tab so it can be inserted in the correct order
+          allTabs.splice(Math.max(i++ + 1, lastPinnedTabIdx), 0, glanceTab);
+        } else if (tab.classList.contains("pinned-tabs-container-separator")) {
+          // remove the separator from the list
+          allTabs.splice(i, 1);
+          i--;
+        }
+        i++;
       }
-
-      this.#allTabs = [...pinnedChildren, ...unpinnedChildren];
+      this.#allTabs = allTabs;
       return this.#allTabs;
     }
 
     get allGroups() {
       let children = Array.from(this.arrowScrollbox.children);
-      return children.filter(node => node.tagName == "tab-group");
+      return gZenWorkspaces.allTabGroups;
     }
 
     /**
@@ -944,29 +973,28 @@
         return this.#focusableItems;
       }
 
-      let unpinnedChildren = Array.from(this.arrowScrollbox.children);
-      let pinnedChildren = Array.from(this.pinnedTabsContainer.children);
+      let elementIndex = 0;
+      let children = gZenWorkspaces.tabboxChildrenWithoutEmpty;
 
       let focusableItems = [];
-      for (let child of pinnedChildren) {
-        if (isTab(child)) {
-          focusableItems.push(child);
-        }
-      }
-      for (let child of unpinnedChildren) {
+      for (let child of [...gZenWorkspaces.getCurrentEssentialsContainer().children, ...(gZenWorkspaces.activeWorkspaceElement?.hasCollapsedPinnedTabs ? [] : this.pinnedTabsContainer.children), ...children]) {
         if (isTab(child) && child.visible) {
           focusableItems.push(child);
         } else if (isTabGroup(child)) {
           focusableItems.push(child.labelElement);
-
-          let visibleTabsInGroup = child.tabs.filter(tab => tab.visible);
+        if (!child.hasAttribute("split-view-group")) {
+          let visibleTabsInGroup = child.childGroupsAndTabs.filter(tab => tab.visible);
+          
           focusableItems.push(...visibleTabsInGroup);
+        }
         } else if (child.tagName == "tab-split-view-wrapper") {
           let visibleTabsInSplitView = child.tabs.filter(tab => tab.visible);
           focusableItems.push(...visibleTabsInSplitView);
         }
       }
-
+      focusableItems.forEach(item => {
+        item.elementIndex = elementIndex++;
+      });
       this.#focusableItems = focusableItems;
 
       return this.#focusableItems;
@@ -979,6 +1007,7 @@
      * focusable (ex, we don't want the splitview container to be focusable, only its children).
      */
     get dragAndDropElements() {
+      return this.ariaFocusableItems;
       if (this.#dragAndDropElements) {
         return this.#dragAndDropElements;
       }
@@ -1050,6 +1079,7 @@
     _invalidateCachedTabs() {
       this.#allTabs = null;
       this._invalidateCachedVisibleTabs();
+      gZenWorkspaces._allStoredTabs = null;
     }
 
     _invalidateCachedVisibleTabs() {
@@ -1154,7 +1184,7 @@
 
       if (node == null) {
         // We have a container for non-tab elements at the end of the scrollbox.
-        node = this.arrowScrollbox.lastChild;
+        node = gZenWorkspaces.activeWorkspaceStrip.lastChild;
       }
 
       node.before(tab);
@@ -1252,7 +1282,7 @@
           // There are separate "new tab" buttons for horizontal tabs toolbar, vertical tabs and
           // for when the tab strip is overflowed (which is shared by vertical and horizontal tabs);
           // Attach the long click popup to all of them.
-          const newTab = document.getElementById("new-tab-button");
+          const newTab = gZenWorkspaces.activeWorkspaceStrip.querySelector("#tabs-newtab-button");
           const newTab2 = this.newTabButton;
           const newTabVertical = document.getElementById(
             "vertical-tabs-newtab-button"
@@ -1353,8 +1383,10 @@
      */
     _handleTabSelect(aInstant) {
       let selectedTab = this.selectedItem;
+      if (!selectedTab) return;
       this.#ensureTabIsVisible(selectedTab, aInstant);
 
+      gZenCompactModeManager.flashSidebarIfNecessary(aInstant);
       selectedTab._notselectedsinceload = false;
     }
 
@@ -1363,7 +1395,7 @@
      * @param {boolean} [shouldScrollInstantly=false]
      */
     #ensureTabIsVisible(tab, shouldScrollInstantly = false) {
-      let arrowScrollbox = tab.closest("arrowscrollbox");
+      let arrowScrollbox = this.arrowScrollbox;
       if (arrowScrollbox?.overflowing) {
         arrowScrollbox.ensureElementIsVisible(tab, shouldScrollInstantly);
       }
@@ -1496,7 +1528,7 @@
     }
 
     _notifyBackgroundTab(aTab) {
-      if (aTab.pinned || !aTab.visible || !this.overflowing) {
+      if (aTab.hasAttribute("zen-essential") || !aTab.visible || !this.overflowing) {
         return;
       }
 



================================================
FILE: src/browser/components/urlbar/UrlbarController-sys-mjs.patch
================================================
diff --git a/browser/components/urlbar/UrlbarController.sys.mjs b/browser/components/urlbar/UrlbarController.sys.mjs
index dc8ca021feff9e5c623dd2e9b3e3a8d6f55aa461..b6382bdcfef0cf6c2975fdb6f1a3c9b5c53f81af 100644
--- a/browser/components/urlbar/UrlbarController.sys.mjs
+++ b/browser/components/urlbar/UrlbarController.sys.mjs
@@ -302,7 +302,6 @@ export class UrlbarController {
     const isMac = AppConstants.platform == "macosx";
     // Handle readline/emacs-style navigation bindings on Mac.
     if (
-      isMac &&
       this.view.isOpen &&
       event.ctrlKey &&
       (event.key == "n" || event.key == "p")
@@ -451,6 +450,8 @@ export class UrlbarController {
             });
           }
           event.preventDefault();
+        } else if (!this.input.value && !(event.ctrlKey || event.altKey || event.shiftKey)) {
+          this.browserWindow.gZenUIManager.enableCommandsMode(event);
         }
         break;
       }



================================================
FILE: src/browser/components/urlbar/UrlbarMuxerStandard-sys-mjs.patch
================================================
diff --git a/browser/components/urlbar/UrlbarMuxerStandard.sys.mjs b/browser/components/urlbar/UrlbarMuxerStandard.sys.mjs
index c12d875172650dddfe7de623a776149517c83302..de24df54f510c44acda8c64584bf483a2cb5650a 100644
--- a/browser/components/urlbar/UrlbarMuxerStandard.sys.mjs
+++ b/browser/components/urlbar/UrlbarMuxerStandard.sys.mjs
@@ -849,11 +849,16 @@ class MuxerUnifiedComplete extends UrlbarMuxer {
       result.providerName == "UrlbarProviderHeuristicFallback" &&
       state.context.heuristicResult?.providerName !=
         "UrlbarProviderHeuristicFallback"
+      && !(
+        result.type == UrlbarUtils.RESULT_TYPE.SEARCH &&
+        state.context.heuristicResult?.type == UrlbarUtils.RESULT_TYPE.URL
+      )
     ) {
       return false;
     }
 
     if (result.providerName == "UrlbarProviderTabToSearch") {
+      return false;
       // Discard the result if a tab-to-search result was added already.
       if (!state.canAddTabToSearch) {
         return false;
@@ -1500,7 +1505,9 @@ class MuxerUnifiedComplete extends UrlbarMuxer {
       usedLimits.maxResultCount++;
     }
 
+    if (!(result.heuristic && result.source == UrlbarUtils.RESULT_SOURCE.ZEN_ACTIONS)) {
     state.usedResultSpan += span;
+    }
     this._updateStatePostAdd(result, state);
 
     return true;



================================================
FILE: src/browser/components/urlbar/UrlbarPrefs-sys-mjs.patch
================================================
diff --git a/browser/components/urlbar/UrlbarPrefs.sys.mjs b/browser/components/urlbar/UrlbarPrefs.sys.mjs
index 41e8aa0ee37fef0d24d41f2c4e776c39ed3895f6..293e993175bbbd67fa1541db6b9419b687de7fcd 100644
--- a/browser/components/urlbar/UrlbarPrefs.sys.mjs
+++ b/browser/components/urlbar/UrlbarPrefs.sys.mjs
@@ -759,6 +759,7 @@ function makeResultGroups({ showSearchSuggestionsFirst }) {
    */
   let rootGroup = {
     children: [
+      { children: [{ group: lazy.UrlbarUtils.RESULT_GROUP.ZEN_ACTION }] },
       // heuristic
       {
         maxResultCount: 1,



================================================
FILE: src/browser/components/urlbar/UrlbarProviderHeuristicFallback-sys-mjs.patch
================================================
diff --git a/browser/components/urlbar/UrlbarProviderHeuristicFallback.sys.mjs b/browser/components/urlbar/UrlbarProviderHeuristicFallback.sys.mjs
index 7a60a871022df44c0d26745f0035fce988cc5f92..0b89f9b66573d4c5ffb67983d728bb593e5cb524 100644
--- a/browser/components/urlbar/UrlbarProviderHeuristicFallback.sys.mjs
+++ b/browser/components/urlbar/UrlbarProviderHeuristicFallback.sys.mjs
@@ -75,22 +75,26 @@ export class UrlbarProviderHeuristicFallback extends UrlbarProvider {
         // Since we can't tell if this is a real URL and whether the user wants
         // to visit or search for it, we provide an alternative searchengine
         // match if the string looks like an alphanumeric origin or an e-mail.
-        let str = queryContext.searchString;
-        if (!URL.canParse(str)) {
-          if (
-            lazy.UrlbarPrefs.get("keyword.enabled") &&
-            (lazy.UrlUtils.looksLikeOrigin(str, {
-              noIp: true,
-              noPort: true,
-            }) ||
-              lazy.UrlUtils.REGEXP_COMMON_EMAIL.test(str))
-          ) {
+        let trimmedSearchString = queryContext.trimmedSearchString;
+        let [searchCandidate] = UrlbarUtils.stripPrefixAndTrim(
+          trimmedSearchString,
+          {
+            trimSlash: true,
+           }
+        );
+        if (
+          lazy.UrlbarPrefs.get("keyword.enabled") &&
+          (lazy.UrlUtils.looksLikeUrl(searchCandidate) ||
+            lazy.UrlUtils.looksLikeOrigin(searchCandidate, {
+              allowPartialNumericalTLDs: true,
+            }) !== lazy.UrlUtils.LOOKS_LIKE_ORIGIN.NONE ||
+            lazy.UrlUtils.REGEXP_COMMON_EMAIL.test(trimmedSearchString))
+        ) {
             let searchResult = await this._engineSearchResult({ queryContext });
             if (instance != this.queryInstance) {
               return;
             }
             addCallback(this, searchResult);
-          }
         }
         return;
       }



================================================
FILE: src/browser/components/urlbar/UrlbarProvidersManager-sys-mjs.patch
================================================
diff --git a/browser/components/urlbar/UrlbarProvidersManager.sys.mjs b/browser/components/urlbar/UrlbarProvidersManager.sys.mjs
index 3a9cb4735185691df021157e42f8b9cc93f14aa1..00d7eaf3177d27df1e0db5303405ce28f3031d34 100644
--- a/browser/components/urlbar/UrlbarProvidersManager.sys.mjs
+++ b/browser/components/urlbar/UrlbarProvidersManager.sys.mjs
@@ -893,6 +893,7 @@ export class Query {
     if (
       result.heuristic &&
       this.context.searchMode &&
+      !(this.context.searchMode.source === lazy.UrlbarUtils.RESULT_SOURCE.ZEN_ACTIONS && result.payload?.zenAction) &&
       (!this.context.trimmedSearchString ||
         (!this.context.searchMode.engineName && !result.autofill))
     ) {



================================================
FILE: src/browser/components/urlbar/UrlbarResult-sys-mjs.patch
================================================
diff --git a/browser/components/urlbar/UrlbarResult.sys.mjs b/browser/components/urlbar/UrlbarResult.sys.mjs
index 99f331b2c6e4f8eda1bda02cbc6bc6d3f9f4a572..d504632a3f689aefb7d22b863649cb1a8bb3c6a4 100644
--- a/browser/components/urlbar/UrlbarResult.sys.mjs
+++ b/browser/components/urlbar/UrlbarResult.sys.mjs
@@ -179,6 +179,10 @@ export class UrlbarResult {
     return this.#heuristic;
   }
 
+  set heuristic(value) {
+    this.#heuristic = value;
+  }
+
   get hideRowLabel() {
     return this.#hideRowLabel;
   }



================================================
FILE: src/browser/components/urlbar/UrlbarUtils-sys-mjs.patch
================================================
diff --git a/browser/components/urlbar/UrlbarUtils.sys.mjs b/browser/components/urlbar/UrlbarUtils.sys.mjs
index a4ed35032c0c60f230d95f451b3f615232784cad..2c92860acb2ddc9829eef006d93431e871241c3a 100644
--- a/browser/components/urlbar/UrlbarUtils.sys.mjs
+++ b/browser/components/urlbar/UrlbarUtils.sys.mjs
@@ -81,6 +81,7 @@ export var UrlbarUtils = {
     RESTRICT_SEARCH_KEYWORD: "restrictSearchKeyword",
     SUGGESTED_INDEX: "suggestedIndex",
     TAIL_SUGGESTION: "tailSuggestion",
+    ZEN_ACTION: "zenAction",
   }),
 
   // Defines provider types.
@@ -140,6 +141,7 @@ export var UrlbarUtils = {
     OTHER_NETWORK: 6,
     ADDON: 7,
     ACTIONS: 8,
+    ZEN_ACTIONS: 9,
   }),
 
   // Per-result exposure telemetry.
@@ -552,6 +554,8 @@ export var UrlbarUtils = {
           return this.RESULT_GROUP.HEURISTIC_FALLBACK;
         case "UrlbarProviderHistoryUrlHeuristic":
           return this.RESULT_GROUP.HEURISTIC_HISTORY_URL;
+        case "ZenUrlbarProviderGlobalActions":
+          return this.RESULT_GROUP.ZEN_ACTION;
         case "UrlbarProviderOmnibox":
           return this.RESULT_GROUP.HEURISTIC_OMNIBOX;
         case "UrlbarProviderRestrictKeywordsAutofill":



================================================
FILE: src/browser/components/urlbar/UrlbarValueFormatter-sys-mjs.patch
================================================
diff --git a/browser/components/urlbar/UrlbarValueFormatter.sys.mjs b/browser/components/urlbar/UrlbarValueFormatter.sys.mjs
index 3a8c233dd1e05c070e497ec9877e65b9d8a3e87b..dd2a7aac6945331a3a50a0d7f6d62aeda396b560 100644
--- a/browser/components/urlbar/UrlbarValueFormatter.sys.mjs
+++ b/browser/components/urlbar/UrlbarValueFormatter.sys.mjs
@@ -76,7 +76,7 @@ export class UrlbarValueFormatter {
       if (this.#updateInstance != instance) {
         return;
       }
-      this.#formattingApplied = this.#formatURL() || this.#formatSearchAlias();
+      this.#formattingApplied = this._formatURL() || this.#formatSearchAlias();
     });
   }
 
@@ -370,7 +370,7 @@ export class UrlbarValueFormatter {
    * @returns {boolean}
    *   True if formatting was applied and false if not.
    */
-  #formatURL() {
+  _formatURL() {
     let urlMetaData = this.#getUrlMetaData();
     if (!urlMetaData) {
       return false;
@@ -639,6 +639,7 @@ export class UrlbarValueFormatter {
       this.#window.requestAnimationFrame(() => {
         if (instance == this.#resizeInstance) {
           this.#ensureFormattedHostVisible();
+          this._formatURL();
         }
       });
     }, 100);



================================================
FILE: src/browser/components/urlbar/UrlbarView-sys-mjs.patch
================================================
diff --git a/browser/components/urlbar/UrlbarView.sys.mjs b/browser/components/urlbar/UrlbarView.sys.mjs
index 6d6cc27e203a5799683a4e6eae1007ff30a69cd0..953c5cd09bcfd832d8ad11016977509f55935eb7 100644
--- a/browser/components/urlbar/UrlbarView.sys.mjs
+++ b/browser/components/urlbar/UrlbarView.sys.mjs
@@ -618,7 +618,7 @@ export class UrlbarView {
       !this.input.value ||
       this.input.getAttribute("pageproxystate") == "valid"
     ) {
-      if (!this.isOpen && ["mousedown", "command"].includes(event.type)) {
+      if (!this.isOpen && ["mousedown", "click", "command"].includes(event.type)) {
         // Try to reuse the cached top-sites context. If it's not cached, then
         // there will be a gap of time between when the input is focused and
         // when the view opens that can be perceived as flicker.
@@ -2852,6 +2852,8 @@ export class UrlbarView {
       if (row?.hasAttribute("row-selectable")) {
         row?.toggleAttribute("selected", true);
       }
+      // only scroll if its not already fully visible
+      element.scrollIntoView({ behavior: "smooth", block: "nearest" });
       if (element != row) {
         row?.toggleAttribute("descendant-selected", true);
       }
@@ -3336,7 +3338,7 @@ export class UrlbarView {
   }
 
   #enableOrDisableRowWrap() {
-    let wrap = getBoundsWithoutFlushing(this.input).width < 650;
+    let wrap = false;
     this.#rows.toggleAttribute("wrap", wrap);
     this.oneOffSearchButtons?.container.toggleAttribute("wrap", wrap);
   }



================================================
FILE: src/browser/components/urlbar/content/UrlbarInput-mjs.patch
================================================
diff --git a/browser/components/urlbar/content/UrlbarInput.mjs b/browser/components/urlbar/content/UrlbarInput.mjs
index edb0482f0bfb22c70a585b0770e5b0437983779e..109e9eb18b90c650caff1287caef04dce857e122 100644
--- a/browser/components/urlbar/content/UrlbarInput.mjs
+++ b/browser/components/urlbar/content/UrlbarInput.mjs
@@ -68,6 +68,13 @@ const lazy = XPCOMUtils.declareLazy({
   logger: () => lazy.UrlbarUtils.getLogger({ prefix: "Input" }),
 });
 
+XPCOMUtils.defineLazyPreferenceGetter(
+  lazy,
+  "ZEN_URLBAR_BEHAVIOR",
+  "zen.urlbar.behavior",
+  'default'
+);
+
 const UNLIMITED_MAX_RESULTS = 99;
 
 let getBoundsWithoutFlushing = element =>
@@ -630,7 +637,16 @@ export class UrlbarInput extends HTMLElement {
     // See _on_select().  HTMLInputElement.select() dispatches a "select"
     // event but does not set the primary selection.
     this._suppressPrimaryAdjustment = true;
+    const zenToolbox = this.document.getElementById("navigator-toolbox");
+    this.window.document.documentElement.setAttribute("supress-primary-adjustment", !(
+      zenToolbox.hasAttribute("zen-has-hover") ||
+      zenToolbox.hasAttribute("zen-has-empty-tab") ||
+      zenToolbox.hasAttribute("zen-user-show")
+    ));
     this.inputField.select();
+    this.document.ownerGlobal.setTimeout(() => {
+      this.window.document.documentElement.removeAttribute("supress-primary-adjustment");
+    }, 0);
     this._suppressPrimaryAdjustment = false;
   }
 
@@ -704,6 +720,10 @@ export class UrlbarInput extends HTMLElement {
     hideSearchTerms = false,
     isSameDocument = false,
   } = {}) {
+    if (this.hasAttribute("zen-newtab")) {
+      return;
+    }
+
     if (!this.#isAddressbar) {
       throw new Error(
         "Cannot set URI for UrlbarInput that is not an address bar"
@@ -985,8 +1005,16 @@ export class UrlbarInput extends HTMLElement {
         return;
       }
     }
-
+    const zenToolbox = this.document.getElementById("navigator-toolbox");
+    this.window.document.documentElement.setAttribute("supress-primary-adjustment", !(
+      zenToolbox.hasAttribute("zen-has-hover") ||
+      zenToolbox.hasAttribute("zen-has-empty-tab") ||
+      zenToolbox.hasAttribute("zen-user-show")
+    ));
     this.handleNavigation({ event });
+    this.document.ownerGlobal.setTimeout(() => {
+      this.window.document.documentElement.removeAttribute("supress-primary-adjustment");
+    }, 100);
   }
 
   /**
@@ -1405,7 +1433,11 @@ export class UrlbarInput extends HTMLElement {
     }
 
     if (!this.#providesSearchMode(result)) {
-      this.view.close({ elementPicked: true });
+      if (this._zenHandleUrlbarClose) {
+        this._zenHandleUrlbarClose(true, true);
+      } else {
+        this.window.setTimeout(() => this.view.close({ elementPicked: true }), 0);
+      }
     }
 
     if (isCanonized) {
@@ -2529,6 +2561,32 @@ export class UrlbarInput extends HTMLElement {
     await this.#updateLayoutBreakoutDimensions();
   }
 
+  zenFormatURLValue() {
+    return this.#lazy.valueFormatter._formatURL();
+  }
+
+  get zenUrlbarBehavior() {
+    if (this.document.documentElement.hasAttribute("inDOMFullscreen")) {
+      return "float";
+    }
+    return lazy.ZEN_URLBAR_BEHAVIOR;
+  }
+
+  get zenStrippedURI() {
+    let strippedURI = null;
+
+    // Error check occurs during isClipboardURIValid
+    let uri = this.window.gBrowser.currentURI;
+    try {
+      strippedURI = lazy.QueryStringStripper.stripForCopyOrShare(uri);
+    } catch (e) {
+      console.warn(`stripForCopyOrShare: ${e.message}`);
+      return [uri, lazy.ClipboardHelper];
+    }
+
+    return [strippedURI ? this.makeURIReadable(strippedURI) : uri, lazy.ClipboardHelper];
+  }
+
   startLayoutExtend() {
     if (!this.#allowBreakout || this.hasAttribute("breakout-extend")) {
       // Do not expand if the Urlbar does not support being expanded or it is
@@ -2543,6 +2601,13 @@ export class UrlbarInput extends HTMLElement {
 
     this.setAttribute("breakout-extend", "true");
 
+    this.window.gZenUIManager.onUrlbarOpen();
+    if (this.zenUrlbarBehavior == 'float' || (this.zenUrlbarBehavior == 'floating-on-type' && !this.focusedViaMousedown)) {
+      this.setAttribute("zen-floating-urlbar", "true");
+      this.window.gZenUIManager.onFloatingURLBarOpen();
+    } else {
+      this.removeAttribute("zen-floating-urlbar");
+    }
     // Enable the animation only after the first extend call to ensure it
     // doesn't run when opening a new window.
     if (!this.hasAttribute("breakout-extend-animate")) {
@@ -2562,6 +2627,27 @@ export class UrlbarInput extends HTMLElement {
       return;
     }
 
+    if (this._zenHandleUrlbarClose) {
+      this._zenHandleUrlbarClose();
+    } else if (!this._untrimmedValue) {
+      // Restore the current page URL when the urlbar is empty on blur
+      this.handleRevert();
+    }
+
+    // Arc like URLbar: Blur the input on exit
+    const zenToolbox = this.document.getElementById("navigator-toolbox");
+    this.window.document.documentElement.setAttribute("supress-primary-adjustment", !(
+      zenToolbox.hasAttribute("zen-has-hover") ||
+      zenToolbox.hasAttribute("zen-has-empty-tab") ||
+      zenToolbox.hasAttribute("zen-user-show")
+    ));
+    this.window.gBrowser.selectedBrowser.focus();
+    this.document.ownerGlobal.setTimeout(() => {
+      this.window.document.documentElement.removeAttribute("supress-primary-adjustment");
+    }, 100);
+    this.window.gZenUIManager.onUrlbarClose();
+    this.removeAttribute("zen-floating-urlbar");
+
     this.removeAttribute("breakout-extend");
     this.#updateTextboxPosition();
   }
@@ -2592,7 +2678,7 @@ export class UrlbarInput extends HTMLElement {
     forceUnifiedSearchButtonAvailable = false
   ) {
     let prevState = this.getAttribute("pageproxystate");
-
+    this.removeAttribute("had-proxystate");
     this.setAttribute("pageproxystate", state);
     this._inputContainer.setAttribute("pageproxystate", state);
     this._identityBox?.setAttribute("pageproxystate", state);
@@ -2846,10 +2932,12 @@ export class UrlbarInput extends HTMLElement {
       return;
     }
     this.style.top = px(
+      this.window.gZenVerticalTabsManager._hasSetSingleToolbar ?
       this.parentNode.getBoxQuads({
         ignoreTransforms: true,
         flush: false,
       })[0].p1.y
+      : (AppConstants.platform == "macosx" ? -2 : -5)
     );
   }
 
@@ -2908,9 +2996,10 @@ export class UrlbarInput extends HTMLElement {
           return;
         }
 
+        this.window.gZenVerticalTabsManager.recalculateURLBarHeight();
         this.parentNode.style.setProperty(
           "--urlbar-container-height",
-          px(getBoundsWithoutFlushing(this.parentNode).height)
+          px(getBoundsWithoutFlushing(this.parentNode).height + 8)
         );
         this.style.setProperty(
           "--urlbar-height",
@@ -3344,6 +3433,7 @@ export class UrlbarInput extends HTMLElement {
   }
 
   _toggleActionOverride(event) {
+    if (!Services.prefs.getBoolPref("zen.urlbar.enable-overrides")) return;
     if (
       event.keyCode == KeyEvent.DOM_VK_SHIFT ||
       event.keyCode == KeyEvent.DOM_VK_ALT ||
@@ -3447,8 +3537,8 @@ export class UrlbarInput extends HTMLElement {
     if (!this.#isAddressbar) {
       return val;
     }
-    let trimmedValue = lazy.UrlbarPrefs.get("trimURLs")
-      ? lazy.BrowserUIUtils.trimURL(val)
+    let trimmedValue = lazy.UrlbarPrefs.get("trimURLs") && this._zenTrimURL
+      ? this._zenTrimURL(val)
       : val;
     // Only trim value if the directionality doesn't change to RTL and we're not
     // showing a strikeout https protocol.
@@ -3754,6 +3844,7 @@ export class UrlbarInput extends HTMLElement {
     resultDetails = null,
     browser = this.window.gBrowser.selectedBrowser
   ) {
+    openUILinkWhere = this.window.gZenUIManager.getOpenUILinkWhere(url, browser, openUILinkWhere);
     if (this.#isAddressbar) {
       this.#prepareAddressbarLoad(
         url,
@@ -3861,6 +3952,10 @@ export class UrlbarInput extends HTMLElement {
       }
       reuseEmpty = true;
     }
+    if (this.hasAttribute("zen-newtab")) {
+      where = "tab";
+      reuseEmpty = true;
+    }
     if (
       where == "tab" &&
       reuseEmpty &&
@@ -3868,6 +3963,9 @@ export class UrlbarInput extends HTMLElement {
     ) {
       where = "current";
     }
+    if (this.window.gBrowser.selectedTab.hasAttribute("zen-empty-tab")) {
+      return "tab"; // Always open in a new tab if the current tab is "our empty tab".
+    }
     return where;
   }
 
@@ -4122,6 +4220,7 @@ export class UrlbarInput extends HTMLElement {
       this.setResultForCurrentValue(null);
       this.handleCommand();
       this.controller.clearLastQueryContextCache();
+      this.view.close();
 
       this._suppressStartQuery = false;
     });
@@ -4129,7 +4228,6 @@ export class UrlbarInput extends HTMLElement {
     contextMenu.addEventListener("popupshowing", () => {
       // Close the results pane when the input field contextual menu is open,
       // because paste and go doesn't want a result selection.
-      this.view.close();
 
       let controller =
         this.document.commandDispatcher.getControllerForCommand("cmd_paste");
@@ -4239,7 +4337,11 @@ export class UrlbarInput extends HTMLElement {
     if (!engineName && !source && !this.hasAttribute("searchmode")) {
       return;
     }
-
+    this.window.dispatchEvent(
+      new CustomEvent("Zen:UrlbarSearchModeChanged", {
+        detail: { searchMode },
+      })
+    );
     if (this._searchModeIndicatorTitle) {
       this._searchModeIndicatorTitle.textContent = "";
       this._searchModeIndicatorTitle.removeAttribute("data-l10n-id");
@@ -4549,6 +4651,7 @@ export class UrlbarInput extends HTMLElement {
 
     this.document.l10n.setAttributes(
       this.inputField,
+      this.window.gZenVerticalTabsManager._hasSetSingleToolbar ? 'zen-singletoolbar-urlbar-placeholder-with-name' :
       l10nId,
       l10nId == "urlbar-placeholder-with-name"
         ? { name: engineName }
@@ -4662,6 +4765,11 @@ export class UrlbarInput extends HTMLElement {
   }
 
   _on_click(event) {
+    if (event.target == this.inputField) {
+      event.zenOriginalTarget = this;
+      this._on_mousedown(event);
+    }
+
     switch (event.target) {
       case this.inputField:
       case this._inputContainer:
@@ -4740,7 +4848,7 @@ export class UrlbarInput extends HTMLElement {
       }
     }
 
-    if (this.focusedViaMousedown) {
+    if (this.focusedViaMousedown || this.hasAttribute("zen-newtab")) {
       this.view.autoOpen({ event });
     } else {
       if (this._untrimOnFocusAfterKeydown) {
@@ -4780,9 +4888,16 @@ export class UrlbarInput extends HTMLElement {
   }
 
   _on_mousedown(event) {
-    switch (event.currentTarget) {
+    switch (event.zenOriginalTarget || event.currentTarget) {
       case this: {
         this._mousedownOnUrlbarDescendant = true;
+        const isProbablyFloating =
+          (this.zenUrlbarBehavior == "floating-on-type" &&
+          this.hasAttribute("breakout-extend") && !this.focusedViaMousedown) ||
+          (this.zenUrlbarBehavior == "float") || this.window.gZenVerticalTabsManager._hasSetSingleToolbar;
+        if (event.type != "click" && isProbablyFloating || event.type == "click" && !isProbablyFloating) {
+          return true;
+        }
         if (
           event.composedTarget != this.inputField &&
           event.composedTarget != this._inputContainer
@@ -4792,6 +4907,10 @@ export class UrlbarInput extends HTMLElement {
 
         this.focusedViaMousedown = !this.focused;
         this._preventClickSelectsAll = this.focused;
+        if (isProbablyFloating) {
+          this.focusedViaMousedown = !this.hasAttribute("breakout-extend");
+          this._preventClickSelectsAll = this.hasAttribute("breakout-extend");
+        }
 
         // Keep the focus status, since the attribute may be changed
         // upon calling this.focus().
@@ -4827,7 +4946,7 @@ export class UrlbarInput extends HTMLElement {
         }
         // Don't close the view when clicking on a tab; we may want to keep the
         // view open on tab switch, and the TabSelect event arrived earlier.
-        if (event.target.closest("tab")) {
+        if (event.target.closest("tab") || event.target.closest("#tabs-newtab-button")) {
           break;
         }
 
@@ -5155,7 +5274,7 @@ export class UrlbarInput extends HTMLElement {
     // When we are in actions search mode we can show more results so
     // increase the limit.
     let maxResults =
-      this.searchMode?.source != lazy.UrlbarUtils.RESULT_SOURCE.ACTIONS
+      this.searchMode?.source != lazy.UrlbarUtils.RESULT_SOURCE.ZEN_ACTIONS
         ? lazy.UrlbarPrefs.get("maxRichResults")
         : UNLIMITED_MAX_RESULTS;
     let options = {



================================================
FILE: src/browser/extensions/newtab/lib/ActivityStream-sys-mjs.patch
================================================
diff --git a/browser/extensions/newtab/lib/ActivityStream.sys.mjs b/browser/extensions/newtab/lib/ActivityStream.sys.mjs
index 0f73c33c3237413131a2f4d2d1f3be857e533437..d7e9fcadc7744651fbe14952589df4603e7db592 100644
--- a/browser/extensions/newtab/lib/ActivityStream.sys.mjs
+++ b/browser/extensions/newtab/lib/ActivityStream.sys.mjs
@@ -295,7 +295,7 @@ export const PREFS_CONFIG = new Map([
     "showSponsoredTopSites",
     {
       title: "Show sponsored top sites",
-      value: true,
+      value: false,
     },
   ],
   [



================================================
FILE: src/browser/installer/package-manifest-in.patch
================================================
diff --git a/browser/installer/package-manifest.in b/browser/installer/package-manifest.in
index dbfb287747ed9059cfb46838800421ac9ffe78c1..47279559a7dbea8b08bafb75e968f7b219e1d818 100644
--- a/browser/installer/package-manifest.in
+++ b/browser/installer/package-manifest.in
@@ -374,17 +374,17 @@ bin/libfreebl_64int_3.so
 ; [MaintenanceService]
 ;
 #ifdef MOZ_MAINTENANCE_SERVICE
-@BINPATH@/maintenanceservice.exe
-@BINPATH@/maintenanceservice_installer.exe
+;@BINPATH@/maintenanceservice.exe
+;@BINPATH@/maintenanceservice_installer.exe
 #endif
 
 ; [Crash Reporter]
 ;
 #ifdef MOZ_CRASHREPORTER
 #ifdef XP_MACOSX
-@BINPATH@/crashreporter.app/
+;@BINPATH@/crashreporter.app/
 #else
-@BINPATH@/crashreporter@BIN_SUFFIX@
+;@BINPATH@/crashreporter@BIN_SUFFIX@
 #if defined(XP_WIN)
 @BINPATH@/@DLL_PREFIX@mozwer@DLL_SUFFIX@
 #endif



================================================
FILE: src/browser/installer/windows/msix/AppxManifest-xml-in.patch
================================================
diff --git a/browser/installer/windows/msix/AppxManifest.xml.in b/browser/installer/windows/msix/AppxManifest.xml.in
index b81a73518a183b7b1d178793886c66f44651058d..89690a4177229b70013bcf35ec1d805fff7e1b26 100644
--- a/browser/installer/windows/msix/AppxManifest.xml.in
+++ b/browser/installer/windows/msix/AppxManifest.xml.in
@@ -61,6 +61,7 @@
               <uap:FileType>.avif</uap:FileType>
               <uap:FileType>.htm</uap:FileType>
               <uap:FileType>.html</uap:FileType>
+              <uap:FileType>.jxl</uap:FileType>
               <uap:FileType>.pdf</uap:FileType>
               <uap:FileType>.shtml</uap:FileType>
               <uap:FileType>.xht</uap:FileType>



================================================
FILE: src/browser/installer/windows/nsis/defines-nsi-in.patch
================================================
diff --git a/browser/installer/windows/nsis/defines.nsi.in b/browser/installer/windows/nsis/defines.nsi.in
index c6bb41695d70d17e5691e0d1856b79f7111d5026..8a9393a79a60aca23f80fc989fe2ae333ba54e39 100644
--- a/browser/installer/windows/nsis/defines.nsi.in
+++ b/browser/installer/windows/nsis/defines.nsi.in
@@ -90,7 +90,7 @@
 !define BETA_UPDATE_CHANNEL
 !endif
 
-!define BaseURLStubPing "http://download-stats.mozilla.org/stub"
+!define BaseURLStubPing ""
 
 # ARCH is used when it is necessary to differentiate the x64 registry keys from
 # the x86 registry keys (e.g. the uninstall registry key).
@@ -152,7 +152,7 @@ VIAddVersionKey "ProductVersion"  "${AppVersion}"
 !define APPROXIMATE_REQUIRED_SPACE_MB "145"
 
 # Constants for parts of the telemetry submission URL
-!define TELEMETRY_BASE_URL https://incoming.telemetry.mozilla.org/submit
+!define TELEMETRY_BASE_URL 
 !define TELEMETRY_NAMESPACE firefox-installer
 !define TELEMETRY_INSTALL_PING_VERSION 1
 !define TELEMETRY_INSTALL_PING_DOCTYPE install



================================================
FILE: src/browser/installer/windows/nsis/installer-nsi.patch
================================================
diff --git a/browser/installer/windows/nsis/installer.nsi b/browser/installer/windows/nsis/installer.nsi
index e877b4b8a8cc6fc233025d0b58de50a68ecb9fd9..9d7d9064d0b4c62a3de3b81e852b2b49170bf8a3 100755
--- a/browser/installer/windows/nsis/installer.nsi
+++ b/browser/installer/windows/nsis/installer.nsi
@@ -836,7 +836,7 @@ Section "-InstallEndCleanup"
   ; When we're using the GUI, .onGUIEnd sends the ping, but of course that isn't
   ; invoked when we're running silently.
   ${If} ${Silent}
-    Call SendPing
+    ; Call SendPing
   ${EndIf}
 SectionEnd
 
@@ -1964,5 +1964,5 @@ FunctionEnd
 
 Function .onGUIEnd
   ${OnEndCommon}
-  Call SendPing
+  ; Call SendPing
 FunctionEnd



================================================
FILE: src/browser/installer/windows/nsis/shared-nsh.patch
================================================
diff --git a/browser/installer/windows/nsis/shared.nsh b/browser/installer/windows/nsis/shared.nsh
old mode 100755
new mode 100644
index bc8f5775785e08a0cc1c8a6ad1f0e19e980c607d..bf11d30d10fb38855f6a0e8d5346be271042769e
--- a/browser/installer/windows/nsis/shared.nsh
+++ b/browser/installer/windows/nsis/shared.nsh
@@ -513,6 +513,7 @@ ${RemoveDefaultBrowserAgentShortcut}
   ${AddAssociationIfNoneExist} ".svg" "FirefoxHTML$5"
   ${AddAssociationIfNoneExist} ".webp"  "FirefoxHTML$5"
   ${AddAssociationIfNoneExist} ".avif" "FirefoxHTML$5"
+  ${AddAssociationIfNoneExist} ".jxl" "FirefoxHTML$5"
 
   ${AddAssociationIfNoneExist} ".pdf" "FirefoxPDF$5"
 
@@ -609,6 +610,7 @@ ${RemoveDefaultBrowserAgentShortcut}
   WriteRegStr ${RegKey} "$0\Capabilities\FileAssociations" ".svg"   "FirefoxHTML$2"
   WriteRegStr ${RegKey} "$0\Capabilities\FileAssociations" ".webp"  "FirefoxHTML$2"
   WriteRegStr ${RegKey} "$0\Capabilities\FileAssociations" ".avif"  "FirefoxHTML$2"
+  WriteRegStr ${RegKey} "$0\Capabilities\FileAssociations" ".jxl"   "FirefoxHTML$2"
 
   WriteRegStr ${RegKey} "$0\Capabilities\FileAssociations" ".pdf"   "FirefoxPDF$2"
 
@@ -681,6 +683,7 @@ ${RemoveDefaultBrowserAgentShortcut}
     ${WriteApplicationsSupportedType} ${RegKey} ".webm"
     ${WriteApplicationsSupportedType} ${RegKey} ".webp"
     ${WriteApplicationsSupportedType} ${RegKey} ".avif"
+    ${WriteApplicationsSupportedType} ${RegKey} ".jxl"
     ${WriteApplicationsSupportedType} ${RegKey} ".xht"
     ${WriteApplicationsSupportedType} ${RegKey} ".xhtml"
     ${WriteApplicationsSupportedType} ${RegKey} ".xml"
@@ -1727,6 +1730,8 @@ Function SetAsDefaultAppUserHKCU
     Pop $0
     AppAssocReg::SetAppAsDefault "$R9" ".avif" "file"
     Pop $0
+    AppAssocReg::SetAppAsDefault "$R9" ".jxl" "file"
+    Pop $0
     AppAssocReg::SetAppAsDefault "$R9" ".xht" "file"
     Pop $0
     AppAssocReg::SetAppAsDefault "$R9" ".xhtml" "file"
@@ -1856,7 +1861,7 @@ FunctionEnd
   ; uninstalled.
 
   ; Do all of that twice, once for the local machine and once for the current user
-  
+
   ; Remove protocol handlers
   ClearErrors
   ReadRegStr $0 HKLM "Software\Classes\${_PROTOCOL}\DefaultIcon" ""



================================================
FILE: src/browser/installer/windows/nsis/uninstaller-nsi.patch
================================================
diff --git a/browser/installer/windows/nsis/uninstaller.nsi b/browser/installer/windows/nsis/uninstaller.nsi
old mode 100755
new mode 100644
index 4eecccea6e053073fafad35cc97b326f7d0f5162..e4d077415294d456539637868144331ea9a46753
--- a/browser/installer/windows/nsis/uninstaller.nsi
+++ b/browser/installer/windows/nsis/uninstaller.nsi
@@ -514,6 +514,7 @@ Section "Uninstall"
   ${un.RegCleanFileHandler}  ".svg"   "FirefoxHTML-$AppUserModelID"
   ${un.RegCleanFileHandler}  ".webp"  "FirefoxHTML-$AppUserModelID"
   ${un.RegCleanFileHandler}  ".avif"  "FirefoxHTML-$AppUserModelID"
+  ${un.RegCleanFileHandler}  ".jxl"  "FirefoxHTML-$AppUserModelID"
 
   ${un.RegCleanFileHandler}  ".pdf"   "FirefoxPDF-$AppUserModelID"
 



================================================
FILE: src/browser/locales/en-US/installer/custom-properties.patch
================================================
diff --git a/browser/locales/en-US/installer/custom.properties b/browser/locales/en-US/installer/custom.properties
index 8c33192e589de1d819cbb21c31cec0480ed4c85e..9db296363303c153dc05ad9e85493f1197bb1efd 100644
--- a/browser/locales/en-US/installer/custom.properties
+++ b/browser/locales/en-US/installer/custom.properties
@@ -73,7 +73,7 @@ STATUS_INSTALL_APP=Installing $BrandShortName…
 STATUS_UNINSTALL_MAIN=Uninstalling $BrandShortName…
 STATUS_CLEANUP=A Little Housekeeping…
 
-UN_SURVEY_CHECKBOX_LABEL=Tell Mozilla why you uninstalled $BrandShortName
+UN_SURVEY_CHECKBOX_LABEL=Tell Zen´s Team why you uninstalled $BrandShortName
 
 # _DESC strings support approximately 65 characters per line.
 # One line



================================================
FILE: src/browser/modules/BrowserDOMWindow-sys-mjs.patch
================================================
diff --git a/browser/modules/BrowserDOMWindow.sys.mjs b/browser/modules/BrowserDOMWindow.sys.mjs
index e951af5edb966718ee20422c8e46d868c177cd1c..cd41305a4da8e675417eca7df5cd4a1ecee90c3d 100644
--- a/browser/modules/BrowserDOMWindow.sys.mjs
+++ b/browser/modules/BrowserDOMWindow.sys.mjs
@@ -437,7 +437,7 @@ export class BrowserDOMWindow {
     // Passing a null-URI to only create the content window,
     // and pass true for aSkipLoad to prevent loading of
     // about:blank
-    return this.#getContentWindowOrOpenURIInFrame(
+    let res = this.#getContentWindowOrOpenURIInFrame(
       null,
       aParams,
       aWhere,
@@ -445,6 +445,10 @@ export class BrowserDOMWindow {
       aName,
       true
     );
+    if (typeof this.win?.gZenGlanceManager !== "undefined" && this.win.toolbar.visible) {
+      this.win.gZenGlanceManager.onTabOpen(res, aURI);
+    }
+    return res;
   }
 
   /**



================================================
FILE: src/browser/modules/BrowserWindowTracker-sys-mjs.patch
================================================
diff --git a/browser/modules/BrowserWindowTracker.sys.mjs b/browser/modules/BrowserWindowTracker.sys.mjs
index 0cd9e9630fff20d71dc1dd7367ae6af4f7a53f71..7212c5f4745f3c93c1ede932af1b0e85580aa679 100644
--- a/browser/modules/BrowserWindowTracker.sys.mjs
+++ b/browser/modules/BrowserWindowTracker.sys.mjs
@@ -326,6 +326,7 @@ export const BrowserWindowTracker = {
     args = null,
     remote = undefined,
     fission = undefined,
+    zenSyncedWindow = true,
   } = {}) {
     let windowFeatures = "chrome,dialog=no";
     if (all) {
@@ -382,6 +383,12 @@ export const BrowserWindowTracker = {
       windowFeatures,
       args
     );
+    win._zenStartupSyncFlag = Services.prefs.getBoolPref("zen.window-sync.prefer-unsynced-windows")
+      ? (zenSyncedWindow ? 'unsynced' : 'synced')
+      : (zenSyncedWindow ? 'synced' : 'unsynced');
+    if (win._zenStartupSyncFlag === 'unsynced' && openerWindow) {
+      win._zenStartupUnsyncedUserContextId = openerWindow.gZenWorkspaces.getCurrentSpaceContainerId();
+    }
     this.registerOpeningWindow(win, isPrivate);
 
     win.addEventListener(



================================================
FILE: src/browser/modules/ExtensionsUI-sys-mjs.patch
================================================
diff --git a/browser/modules/ExtensionsUI.sys.mjs b/browser/modules/ExtensionsUI.sys.mjs
index 31229b3bc1b93565a57c2c0b0307ceeb594c3936..30456ef5d3c58e96717cd292f861a04a790d0ee1 100644
--- a/browser/modules/ExtensionsUI.sys.mjs
+++ b/browser/modules/ExtensionsUI.sys.mjs
@@ -480,7 +480,7 @@ export var ExtensionsUI = {
         eventCallback,
         removeOnDismissal: true,
         popupOptions: {
-          position: "bottomright topright",
+          position: window.gZenUIManager.panelUIPosition(),
         },
         // Pass additional options used internally by the
         // addon-webext-permissions-notification custom element



================================================
FILE: src/browser/modules/URILoadingHelper-sys-mjs.patch
================================================
diff --git a/browser/modules/URILoadingHelper.sys.mjs b/browser/modules/URILoadingHelper.sys.mjs
index 9175fa820ad6bb75cd125fbfda2bf07d6dba4c90..62a1a62f304ec8c83e859196861025347e79ba46 100644
--- a/browser/modules/URILoadingHelper.sys.mjs
+++ b/browser/modules/URILoadingHelper.sys.mjs
@@ -225,6 +225,7 @@ function openInWindow(url, params, sourceWindow) {
     features,
     sa
   );
+  win._zenStartupSyncFlag = Services.prefs.getBoolPref('zen.window-sync.open-link-in-new-unsynced-window') ? 'unsynced' : 'synced';
 }
 
 function openInCurrentTab(targetBrowser, url, uriObj, params) {
@@ -542,7 +543,7 @@ export const URILoadingHelper = {
       // page. If a load request bounces off for the currently selected tab,
       // we'll open a new tab instead.
       let tab = w.gBrowser.getTabForBrowser(targetBrowser);
-      if (tab == w.FirefoxViewHandler.tab) {
+      if (tab == w.FirefoxViewHandler.tab || tab.hasAttribute("zen-empty-tab")) {
         where = "tab";
         targetBrowser = null;
       } else if (
@@ -972,7 +973,7 @@ export const URILoadingHelper = {
         ignoreQueryString || replaceQueryString,
         ignoreFragmentWhenComparing
       );
-      let browsers = aWindow.gBrowser.browsers;
+      let browsers = aWindow.gZenWorkspaces.allUsedBrowsers;
       for (let i = 0; i < browsers.length; i++) {
         let browser = browsers[i];
         let browserCompare = cleanURL(
@@ -1018,7 +1019,7 @@ export const URILoadingHelper = {
           }
 
           if (!doAdopt) {
-            aWindow.gBrowser.tabContainer.selectedIndex = i;
+            aWindow.gZenWorkspaces.switchIfNeeded(browser);
           }
 
           return true;



================================================
FILE: src/browser/themes/linux/browser-css.patch
================================================
diff --git a/browser/themes/linux/browser.css b/browser/themes/linux/browser.css
index 646cf238ebfbd5ac1826cf47f578f66aa020199f..ba5a1950f683c4d8cb836ee9cd466c0b446f2241 100644
--- a/browser/themes/linux/browser.css
+++ b/browser/themes/linux/browser.css
@@ -14,7 +14,6 @@
     @media (-moz-gtk-theme-family) {
       --tabs-navbar-separator-style: none;
       @media (prefers-color-scheme: light) {
-        --urlbar-box-bgcolor: #fafafa;
       }
     }
   }
@@ -43,7 +42,8 @@
       -moz-default-appearance: -moz-window-decorations;
       appearance: auto;
 
-      #navigator-toolbox,
+      #zen-main-app-wrapper,
+      #zen-browser-background,
       dialog::backdrop {
         border-top-left-radius: env(-moz-gtk-csd-titlebar-radius);
         border-top-right-radius: env(-moz-gtk-csd-titlebar-radius);
@@ -51,13 +51,11 @@
 
       /* stylelint-disable-next-line media-query-no-invalid */
       @media -moz-pref("widget.gtk.rounded-bottom-corners.enabled") {
-        #navigator-toolbox {
-          /* The body clip below covers this. */
-          border-radius: 0;
-        }
 
         body,
-        dialog::backdrop {
+        dialog::backdrop,
+        #zen-main-app-wrapper,
+        #zen-browser-background {
           /* Use an uniform clip to allow WebRender to optimize it better */
           border-radius: env(-moz-gtk-csd-titlebar-radius);
         }



================================================
FILE: src/browser/themes/osx/browser-css.patch
================================================
diff --git a/browser/themes/osx/browser.css b/browser/themes/osx/browser.css
index 79f62b14809196e6ac073b8e560331e96be5d990..dcec04606e78c66673fb602b6a986321d20e1d4c 100644
--- a/browser/themes/osx/browser.css
+++ b/browser/themes/osx/browser.css
@@ -37,7 +37,7 @@
 
 .titlebar-buttonbox {
   &:-moz-locale-dir(ltr) {
-    margin-inline: 12px 0;
+    margin-inline: 12px 4px;
 
     @media (-moz-mac-rtl) {
       margin-inline: 12px;



================================================
FILE: src/browser/themes/shared/browser-shared-css.patch
================================================
diff --git a/browser/themes/shared/browser-shared.css b/browser/themes/shared/browser-shared.css
index 63d9641c7107c1444cb74f1536193246106f5cae..4298760fab4862e64ec74df23e00b373c5745605 100644
--- a/browser/themes/shared/browser-shared.css
+++ b/browser/themes/shared/browser-shared.css
@@ -103,7 +103,7 @@ body {
   --toolbarbutton-border-radius: var(--button-border-radius);
   --identity-box-margin-inline: 4px;
   --urlbar-min-height: max(32px, 1.4em);
-  --urlbar-icon-padding: calc((var(--urlbar-min-height) - 2px /* border */ - 2px /* padding */ - 16px /* icon */) / 2);
+  --urlbar-icon-padding: calc((var(--urlbar-min-height) - 2px /* border */ - 14px /* icon */) / 2);
 
   /* This should be used for icons and chiclets inside the input field, as well
      as result rows. It makes the gap around them more uniform when they are
@@ -172,8 +172,6 @@ body {
    */
   &.fullscreen-with-menubar {
     z-index: var(--browser-area-z-index-toolbox-while-animating);
-    box-shadow: var(--content-area-shadow);
-    border-bottom-color: var(--chrome-content-separator-color);
   }
 
   /* Themes define a set of toolbox foreground and background colors which we
@@ -282,13 +280,13 @@ body {
 
   @media (-moz-platform: macos) and (not (-moz-mac-rtl)) {
     &:-moz-locale-dir(ltr) {
-      order: -1;
+      order: -2;
     }
   }
 
   @media (-moz-mac-rtl) {
     &:-moz-locale-dir(rtl) {
-      order: -1;
+      order: -2;
     }
   }
 



================================================
FILE: src/browser/themes/shared/jar-inc-mn.patch
================================================
diff --git a/browser/themes/shared/jar.inc.mn b/browser/themes/shared/jar.inc.mn
index ab8601e76409ad1a026763379a395dd52f503f27..3b32198dfa770d29f4e2f2b0faed5f3ff735c664 100644
--- a/browser/themes/shared/jar.inc.mn
+++ b/browser/themes/shared/jar.inc.mn
@@ -326,3 +326,5 @@
 
   skin/classic/browser/illustrations/market-opt-in.svg         (../shared/illustrations/market-opt-in.svg)
   skin/classic/browser/illustrations/yelpRealtime-opt-in.svg   (../shared/illustrations/yelpRealtime-opt-in.svg)
+
+#include zen-sources.inc.mn
\ No newline at end of file



================================================
FILE: src/browser/themes/shared/toolbarbuttons-css.patch
================================================
diff --git a/browser/themes/shared/toolbarbuttons.css b/browser/themes/shared/toolbarbuttons.css
index e2b8a7cae70ed2bd3c80ee4214a09dbdb68a0d01..ab1b50a06b68cc6941789b31494b44da6aecdb19 100644
--- a/browser/themes/shared/toolbarbuttons.css
+++ b/browser/themes/shared/toolbarbuttons.css
@@ -44,20 +44,6 @@
     --toolbarbutton-inner-padding: 9px;
     --bookmark-block-padding: 7px;
   }
-  @media (width <= 900px) {
-    --toolbarbutton-outer-padding: 1px;
-  }
-  @media (width <= 800px) {
-    --toolbarbutton-inner-padding: 7px;
-    &:where([uidensity="touch"]) {
-      --toolbarbutton-inner-padding: 8px;
-    }
-  }
-  /* 700px is just above half of the popular 1366px screen width, so two browser
-     windows put next to each other will be below this threshold. */
-  @media (width <= 700px) {
-    --toolbarbutton-inner-padding: 6px;
-  }
   &:where([uidensity="compact"]) {
     --toolbarbutton-inner-padding: 6px;
     --bookmark-block-padding: 1px;
@@ -67,9 +53,7 @@
 #TabsToolbar {
   /* Override the inner padding to ensure the dimensions match the tabs, but also making sure
      different types of buttons (combined-buttons-dropmarker or text) still look correct. */
-  @media (width > 900px) {
     --toolbarbutton-inner-padding: calc((var(--tab-min-height) - 16px) / 2);
-  }
 }
 
 /* Primary toolbar buttons */
@@ -148,8 +132,8 @@ toolbar .toolbarbutton-1 {
 
   > .toolbarbutton-icon {
     /* horizontal padding + actual icon width */
-    width: calc(2 * var(--toolbarbutton-inner-padding) + 16px);
-    height: calc(2 * var(--toolbarbutton-inner-padding) + 16px);
+    width: calc(2 * var(--toolbarbutton-inner-padding) + var(--zen-toolbar-button-size, 16px));
+    height: calc(2 * var(--toolbarbutton-inner-padding) + var(--zen-toolbar-button-size, 16px));
   }
 
   > .toolbarbutton-text {
@@ -159,7 +143,7 @@ toolbar .toolbarbutton-1 {
      * height as the button icons and the same vertical padding, but as a minimum,
      * because otherwise an increase in text sizes would break things.
      */
-    min-height: calc(16px + 2 * var(--toolbarbutton-inner-padding));
+    min-height: calc(var(--zen-toolbar-button-size, 16px) + 2 * var(--toolbarbutton-inner-padding));
 
     @media (-moz-platform: macos) {
       padding-top: calc(var(--toolbarbutton-inner-padding) + 1px);
@@ -279,7 +263,7 @@ toolbar .toolbaritem-combined-buttons {
 #nav-bar-overflow-button {
   list-style-image: url("chrome://global/skin/icons/chevron.svg");
 
-  #nav-bar:not([overflowing], [nonemptyoverflow], [customizing]) > & {
+  toolbar:not([overflowing], [nonemptyoverflow], [customizing]) > & {
     display: none;
   }
 
@@ -489,7 +473,7 @@ toolbarbutton.bookmark-item:not(.subviewbutton) {
      */
     align-items: stretch;
     > .toolbarbutton-icon {
-      height: auto;
+      margin-top: auto; margin-bottom: auto;
     }
     > .toolbarbutton-badge-stack {
       align-items: center;



================================================
FILE: src/browser/themes/shared/urlbar-searchbar-css.patch
================================================
diff --git a/browser/themes/shared/urlbar-searchbar.css b/browser/themes/shared/urlbar-searchbar.css
index edfe3e05a1b4517a4de6e09221ebdcfb5d8f1fe5..5986f88babf2b8d48ec8a5c0724787b13275aeff 100644
--- a/browser/themes/shared/urlbar-searchbar.css
+++ b/browser/themes/shared/urlbar-searchbar.css
@@ -9,7 +9,7 @@
   /* Usually we wouldn't need snapping border widths manually, but we use this
    * for other layout calculations too */
   --urlbar-container-border-width: max(env(hairline), round(down, 1px, env(hairline)));
-  --urlbar-container-padding: round(up, 1px, env(hairline));
+  --urlbar-container-padding: 2px;
   --urlbar-container-border-padding: calc(var(--urlbar-container-border-width) + var(--urlbar-container-padding));
   --urlbar-margin-inline: 5px;
   --urlbar-padding-block: 4px;
@@ -52,7 +52,7 @@
 #urlbar[usertyping] > .urlbar-input-container > #page-action-buttons > #urlbar-zoom-button,
 .urlbar:is(:not([usertyping]), :not([focused])) > .urlbar-input-container > .urlbar-go-button,
 .urlbar-revert-button-container {
-  display: none;
+  display: none !important;
 }
 
 /* When rich suggestions are enabled the urlbar identity icon is given extra padding to
@@ -323,10 +323,14 @@
 
 .urlbar[breakout][breakout-extend] {
   height: auto;
+  align-items: center;
+  :root:not([zen-single-toolbar='true']) {
   margin-left: calc(-1 * var(--urlbar-margin-inline));
+  }
   width: calc(var(--urlbar-width) + 2 * var(--urlbar-margin-inline));
 
   > .urlbar-input-container {
+    align-items: center;
     height: var(--urlbar-container-height);
     padding-block: calc((var(--urlbar-container-height) - var(--urlbar-height)) / 2 + var(--urlbar-container-padding));
     padding-inline: calc(var(--urlbar-margin-inline) + var(--urlbar-container-padding));



================================================
FILE: src/browser/themes/shared/urlbarView-css.patch
================================================
diff --git a/browser/themes/shared/urlbarView.css b/browser/themes/shared/urlbarView.css
index 1ba5a570cb1fe690cf88396643baba02f9265095..312891b41e1c62b4ed53f5cbd63bd3280dde7512 100644
--- a/browser/themes/shared/urlbarView.css
+++ b/browser/themes/shared/urlbarView.css
@@ -20,7 +20,7 @@
 
   --urlbarView-small-font-size: 0.85em;
 
-  --urlbarView-results-padding: 7px;
+  --urlbarView-results-padding: 8px;
   --urlbarView-row-gutter: 2px;
   --urlbarView-item-inline-padding: var(--urlbar-icon-padding);
   --urlbarView-item-block-padding: 6px;
@@ -171,7 +171,6 @@
       min-height: 32px;
     }
     :root[uidensity="touch"] & {
-      padding-block: 11px;
     }
   }
 



================================================
FILE: src/browser/themes/shared/zen-sources.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

  skin/classic/browser/preferences/zen-preferences.css             (../shared/preferences/zen-preferences.css)

#include zen-icons/jar.inc.mn


================================================
FILE: src/browser/themes/shared/identity-block/identity-block-css.patch
================================================
diff --git a/browser/themes/shared/identity-block/identity-block.css b/browser/themes/shared/identity-block/identity-block.css
index e9f0ea328cde3631ef856f44d47abb9c5cec5ee1..66ec2bc8bb716ad9e87f88f3d93f9516c9eb8052 100644
--- a/browser/themes/shared/identity-block/identity-block.css
+++ b/browser/themes/shared/identity-block/identity-block.css
@@ -7,7 +7,7 @@
 #identity-box {
   margin-inline-end: var(--identity-box-margin-inline);
 
-  &[pageproxystate="invalid"] {
+  :root[zen-has-empty-tab='true'] & {
     pointer-events: none;
     -moz-user-focus: ignore;
   }
@@ -85,13 +85,6 @@
   }
 }
 
-#identity-box[pageproxystate="valid"]:is(.notSecureText, .chromeUI, .extensionPage) > .identity-box-button,
-#urlbar-label-box {
-  background-color: var(--urlbar-box-bgcolor);
-  color: var(--urlbar-box-text-color);
-  padding-inline: 8px;
-  border-radius: var(--urlbar-inner-border-radius);
-}
 
 #urlbar[focused] {
   #identity-box[pageproxystate="valid"]:is(.notSecureText, .chromeUI, .extensionPage) > .identity-box-button:not(:hover, [open]),
@@ -182,16 +175,17 @@
   }
 
   #identity-icon {
-    list-style-image: url(chrome://global/skin/icons/search-glass.svg);
+    list-style-image: url(chrome://global/skin/icons/search-glass.svg) !important;
+    fill-opacity: 0.5;
   }
 }
 
 #urlbar[actiontype="extension"] > .urlbar-input-container > #identity-box #identity-icon {
-  list-style-image: url(chrome://mozapps/skin/extensions/extension.svg);
+  list-style-image: url(chrome://mozapps/skin/extensions/extension.svg) !important;
 }
 
 #identity-box[pageproxystate="valid"].extensionPage #identity-icon {
-  list-style-image: url(chrome://mozapps/skin/extensions/extension.svg);
+  list-style-image: url(chrome://mozapps/skin/extensions/extension.svg) !important;
 }
 
 #identity-box[pageproxystate="valid"].verifiedDomain #identity-icon,



================================================
FILE: src/browser/themes/shared/preferences/zen-preferences.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

@namespace html "http://www.w3.org/1999/xhtml";

:root {
  --in-content-box-background: var(--zen-colors-tertiary) !important;
}

.main-content {
  padding-top: 60px !important;
}

.pane-container {
  margin: auto;
}

description {
  margin-top: 0 !important;
}

@keyframes dialogPopin {
  0% {
    transform: scale(0.9);
    opacity: 0;
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

html|dialog {
  animation: dialogPopin 0.2s ease-out;
}

.sticky-inner-container {
  display: none !important;
}

.subcategory {
  border-top: none !important;
}

.navigation {
  padding: 4%;
  background: var(--zen-colors-tertiary);
}

groupbox button {
  border-radius: 5px !important;
}

groupbox button,
groupbox menulist {
  background-color: light-dark(#f1f1f1, #363636);
  color: light-dark(black, white);
}

groupbox h2 {
  opacity: 0.7;
  font-size: 15px;
}

#categories {
  margin: 0 !important;
}

#categories > .category {
  margin-left: 0 !important;
  min-height: 40px !important;
  position: relative;
  padding-inline: 20px !important;
}

.textbox-search-sign {
  margin-right: 15px;
}

.sidebar-footer-list {
  margin-left: 0 !important;
}

.category-icon {
  width: 20px;
  height: 20px;
  margin-right: 5px;
}

/* Look and feel */

#webAppearanceSettings {
  margin-bottom: 15px;
}

#category-zen-looks > .category-icon {
  list-style-image: url("chrome://browser/skin/customize.svg");
}

#zenLooksAndFeelGroup > html|div:last-of-type {
  margin-top: 15px;
}

.zen-compact-mode-styles-browser-wrapper {
  width: 55%;
  height: 60px;
  display: flex;
  border-radius: 10px;
  border: 1px solid var(--zen-colors-border);
  background: var(--zen-colors-tertiary);
  position: relative;
  --zen-compact-mode-styles-shadow: 0 0 2px 2px rgba(0, 0, 0, 0.1);

  @media not (prefers-color-scheme: dark) {
    --zen-compact-mode-styles-shadow: 0 0 0.5px 0.5px rgba(0, 0, 0, 0.1);
  }

  box-shadow: var(--zen-compact-mode-styles-shadow);

  padding: 7px;

  &[top] div {
    width: 100%;
    background: var(--zen-primary-color);
    border-radius: 5px;
    height: 18px;
    box-shadow: var(--zen-compact-mode-styles-shadow);
  }

  &[left] div {
    width: 18px;
    background: var(--zen-primary-color);
    border-radius: 5px;
    height: 100%;
    box-shadow: var(--zen-compact-mode-styles-shadow);
  }

  &[both] div {
    width: 100%;
    height: 100%;
    background: var(--zen-colors-secondary);
    border-radius: 5px;
    box-shadow: var(--zen-compact-mode-styles-shadow);
  }
}

/* Workspace */

#category-zen-tabs-management > .category-icon {
  list-style-image: url("chrome://browser/skin/window.svg");
}

#zenTabsUnloadDelayContainer {
  display: flex;
  align-items: center;

  & #zenTabsUnloadDelay {
    margin-left: auto;
  }
}

/* CKS */

#category-zen-CKS > .category-icon {
  list-style-image: url("chrome://browser/skin/quickactions.svg");
}

.zenCKSOption-input {
  padding: 5px;
  border-radius: 5px;
  border: 1px solid var(--zen-colors-border);
  margin-left: auto;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  width: 40%;
  user-select: none;
  cursor: text;
  background: transparent;
  transition: border-color 0.1s;
}

.zenCKSOption {
  margin-bottom: 10px;
  display: flex;
  align-items: center;

  & > vbox {
    width: fit-content;
    justify-content: end;
    min-width: 70%;

    & > label {
      margin-left: auto;
    }
  }
}

.zenCKSOption > label {
  font-size: 14px;
  color: light-dark(rgba(0, 0, 0, 0.7), rgba(255, 255, 255, 0.7));
  width: 100%;
}

.zenCKSOption-input.zenCKSOption-input-not-set {
  color: light-dark(rgba(0, 0, 0, 0.3), rgba(255, 255, 255, 0.3));
}

.zenCKSOption-input.zenCKSOption-input-editing {
  border-color: transparent;
  box-shadow: 0 0 0 2px var(--zen-primary-color);
}

.zenCKSOption-conflict {
  color: red;
  margin-left: 10px;
  margin-top: 5px;
}

.zenCKSOption-unsafed {
  color: light-dark(orange, yellow);
  margin-left: 10px;
  margin-top: 5px;
}

.zenCKSOption-input.zenCKSOption-input-invalid {
  border-color: red;
}

.zenCKSOption-input.zenCKSOption-input-unsafed {
  border-color: light-dark(orange, yellow);
}

.zenCKSOption-input.zenCKSOption-input-valid {
  border-color: green;
}

#zenCKSOption-wrapper > [data-group] {
  border-bottom: 1px solid light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
  padding-top: 20px;
  padding-bottom: 10px;
  margin-bottom: 15px;
}

/* Theme builder */

#zen-theme-builder {
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 15px;
  background: var(--zen-colors-tertiary);
  border-radius: 10px;
  margin-bottom: 10px;
}

#zen-theme-builder-color-picker {
  width: 180px;
  height: 180px;
  border-radius: 10px;
  margin-right: 10px;
  position: relative;
}

#zen-theme-builder-color-picker-canvas {
  border-radius: 10px;
  width: 100%;
  height: 100%;
}

#zen-theme-builder-color-picker-deck {
  position: absolute;
  top: 0;
  left: 0;
  width: calc(100% - 20px);
  height: calc(100% - 20px);
  border-radius: 10px;
  margin: 10px;
  background: light-dark(rgba(255, 255, 255, 0.3), rgba(0, 0, 0, 0.3));
  backdrop-filter: blur(15px);
  border: 2px solid light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
}

#zen-theme-builder-color-picker-thumb {
  position: absolute;
  top: 0;
  left: 0;
  border: 4px solid light-dark(white, black);
  width: 20px;
  height: 20px;
  border-radius: 50px;
  background: var(--zen-primary-color);
  transform: translate(-50%, -50%);
}

/* THemes marketplace */

#category-zen-marketplace > .category-icon {
  list-style-image: url("chrome://mozapps/skin/extensions/category-themes.svg");
}

.zenThemeMarketplaceItem {
  border: 1px solid var(--zen-colors-border);
  border-radius: 5px;
  padding: var(--space-medium);
  position: relative;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
}

.zenThemeMarketplaceItemHomepageButton {
  width: 30px;
  min-width: 0;
  position: relative;
  cursor: pointer;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 18px;
    height: 18px;
    background-image: url("chrome://browser/skin/home.svg");
    background-repeat: no-repeat;
    background-size: cover;
    fill: currentColor;
    -moz-context-properties: fill, fill-opacity;
  }
}

.zenThemeMarketplaceItemConfigureButton {
  width: 30px;
  min-width: 0;
  position: relative;
  cursor: pointer;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 15px;
    height: 15px;
    background-image: url("chrome://global/skin/icons/settings.svg");
    background-repeat: no-repeat;
    background-size: cover;
  }
}

.zenThemeMarketplaceItemPreferenceCheckbox {
  margin-right: 10px;
}

.zenThemeMarketplaceItemPreference:first-of-type {
  margin-top: 10px;
}

.zenThemeMarketplaceItemPreference:not(:last-of-type) {
  margin-bottom: 10px;
}

.zenThemeMarketplaceItemPreferenceData > * {
  margin: 0;
}

.zenThemeMarketplaceItemContent {
  max-width: 100%;
  width: 100%;
}

.zenThemeMarketplaceItemTitle,
.zenThemeMarketplaceItemDescription {
  overflow: hidden;
  text-overflow: ellipsis;
  width: 100%;
}

.zenThemeMarketplaceItemActions {
  width: 100%;
  display: flex;
  align-items: center;
  margin-top: var(--space-small);
  justify-content: space-between;
}

#zenThemeMarketplaceList {
  display: grid;
  gap: var(--space-medium);
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
}

#zenThemeMarketplaceList:has(> *) {
  margin: 15px 0;
}

.zenThemeMarketplaceItemUninstallButton,
#zenThemeMarketplaceImport {
  margin-left: auto;
  cursor: pointer;
}

#zenThemeMarketplaceExport,
#zenThemeMarketplaceCheckForUpdates {
  cursor: pointer;
}

.zenThemeMarketplaceItemPreferenceDialog {
  display: flex;
  flex-direction: column;
  padding: 10px;
  min-width: 650px;
}

.zenThemeMarketplaceItemPreferenceDialogTopBar {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

.zenThemeMarketplaceItemPreferenceDialogContent {
  display: flex;
  flex-direction: row;
}

#zenMarketplaceHeader {
  display: flex;
  justify-content: space-between;

  & h2 {
    margin: 0;
  }
}

.zenThemeMarketplaceDisableAllToggle {
  align-self: center;
}

#zenThemeMarketplaceItemContentHeader {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  & moz-toggle {
    margin-left: 10px;
  }
}

#zenLayoutList {
  display: flex;
  gap: 20px;
  margin-bottom: 10px;

  & > [layout] {
    display: flex;
    flex-direction: column;
    gap: 3px;
    font-weight: 600;
    cursor: pointer;

    &[disabled="true"] {
      opacity: 0.7;
      cursor: not-allowed;
    }

    & img {
      width: 250px;
      border-radius: 10px;
      border: 4px solid transparent;
    }

    &.selected img {
      border: 4px solid var(--zen-colors-primary);
    }
  }
}

@media (max-width: 1320px) {
  #zenLayoutList {
    flex-wrap: wrap;
  }
}

/* Disable mozilla's settings */

#dataCollectionCategory,
#dataCollectionGroup,
#websiteAdvertisingCategory,
#websiteAdvertisingGroup,
#helpButton,
#support-firefox,
#tabGroupSuggestions,
#web-appearance-manage-themes-link,
.mission-message {
  display: none !important;
}

.sync-engine-workspaces .checkbox-icon,
.sync-engine-workspaces.sync-engine-image {
  list-style-image: url("chrome://devtools/skin/images/tool-storage.svg");
}

@media -moz-pref("zen.theme.disable-lightweight") {
  html|div[data-l10n-id="preferences-web-appearance-footer"] {
    display: none;
  }
}

@media -moz-pref("zen.urlbar.replace-newtab") {
  #category-home {
    display: none !important;
  }
}



================================================
FILE: src/browser/themes/shared/tabbrowser/content-area-css.patch
================================================
diff --git a/browser/themes/shared/tabbrowser/content-area.css b/browser/themes/shared/tabbrowser/content-area.css
index b00139d7af878326ff303c08d5ddd47501b8c7db..7361a5e98d6ea372f6fdc583d90044d276cfb81b 100644
--- a/browser/themes/shared/tabbrowser/content-area.css
+++ b/browser/themes/shared/tabbrowser/content-area.css
@@ -90,7 +90,6 @@
   min-height: 0;
 
   /* We want to be able to show the frame color behind the clipped radiused corner */
-  background: var(--tabpanel-background-color);
 
   /* stylelint-disable-next-line media-query-no-invalid */
   @media -moz-pref("sidebar.revamp") {
@@ -145,7 +144,6 @@
   }
 
   browser:is([blank], [pendingpaint]) {
-    opacity: 0;
   }
 
   browser[type="content"] {
@@ -392,7 +390,7 @@ split-view-footer {
 
 .dialogStack {
   z-index: var(--browser-stack-z-index-dialog-stack);
-  position: absolute;
+  position: fixed;
   inset: 0;
 
   /* Hide tab-modal dialogs when a window-modal one is up. */
@@ -553,7 +551,7 @@ split-view-footer {
 
 .dialogOverlay[topmost="true"],
 #window-modal-dialog::backdrop {
-  background-color: var(--dialog-backdrop-color);
+  background-color: light-dark(rgba(255, 255, 255, .3), rgba(0, 0, 0, .3));
 }
 
 .dialogOverlay[hideContent="true"][topmost="true"] {



================================================
FILE: src/browser/themes/shared/tabbrowser/ctrlTab-css.patch
================================================
diff --git a/browser/themes/shared/tabbrowser/ctrlTab.css b/browser/themes/shared/tabbrowser/ctrlTab.css
index ffda4922c675f6159c825334cba9d49658d316ba..7b3d4d2b5c6d732a1d0074e05cc48131fe57c630 100644
--- a/browser/themes/shared/tabbrowser/ctrlTab.css
+++ b/browser/themes/shared/tabbrowser/ctrlTab.css
@@ -11,6 +11,7 @@
   --panel-border-color: transparent;
   --panel-padding: 20px 10px 10px;
   -moz-window-shadow: none;
+  --panel-shadow-margin: 0;
   @media not (-moz-platform: macos) {
     font-weight: var(--font-weight-bold);
   }



================================================
FILE: src/browser/themes/shared/tabbrowser/tabs-css.patch
================================================
diff --git a/browser/themes/shared/tabbrowser/tabs.css b/browser/themes/shared/tabbrowser/tabs.css
index 310e7866b942df5c3c34815f4612a2a2ad8c42a6..d4931a0184209951ced288c894613dccdf3b11fc 100644
--- a/browser/themes/shared/tabbrowser/tabs.css
+++ b/browser/themes/shared/tabbrowser/tabs.css
@@ -21,7 +21,7 @@
   --tab-group-line-thickness: 2px;
   --tab-group-line-toolbar-border-distance: 1px;
   /* Collapsed tabs should be square, so set width to match the min height */
-  --tab-collapsed-background-width: var(--tab-min-height);
+  --tab-collapsed-background-width: 48px;
   --tab-collapsed-width: calc(var(--tab-collapsed-background-width) + 2 * var(--tab-inner-inline-margin));
   --tab-inner-inline-margin: var(--space-medium);
   --tab-inline-padding: 8px;
@@ -35,9 +35,9 @@
   --tab-block-margin: 4px;
   --tab-icon-end-margin: 5.5px;
   --tab-label-line-height: 1.7;
-  --tab-loading-fill: #0a84ff;
+  --tab-loading-fill: var(--zen-primary-color);
   --tab-hover-background-color: color-mix(in srgb, currentColor 11%, transparent);
-  --tab-selected-textcolor: var(--toolbar-color);
+  --tab-selected-textcolor: currentColor;
   --tab-selected-bgcolor: var(--toolbar-bgcolor);
   --tab-selected-color-scheme: var(--toolbar-color-scheme);
   &[lwt-tab-selected="light"] {
@@ -293,7 +293,6 @@
   }
 
   :root:not([uidensity="compact"], [sidebar-expand-on-hover]) &[pinned] {
-    padding: 0 10px;
   }
 
   &:is([selected], [multiselected]) {
@@ -307,6 +306,7 @@
     border-radius: inherit;
     position: relative;
     overflow: hidden;
+    display: none;
 
     &::before {
       position: absolute;
@@ -506,10 +506,6 @@
   /* stylelint-disable-next-line media-query-no-invalid */
   @media -moz-pref("browser.tabs.fadeOutUnloadedTabs") {
     &[pending] {
-      filter: grayscale(100%);
-      @media (prefers-color-scheme: dark) {
-        filter: grayscale(100%) invert();
-      }
       opacity: 0.5;
       /* Fade the favicon out */
       transition-property: filter, opacity;
@@ -526,10 +522,6 @@
   /* stylelint-disable-next-line media-query-no-invalid */
   @media -moz-pref("browser.tabs.fadeOutExplicitlyUnloadedTabs") {
     &[pending][discarded] {
-      filter: grayscale(100%);
-      @media (prefers-color-scheme: dark) {
-        filter: grayscale(100%) invert();
-      }
       opacity: 0.5;
       /* Fade the favicon out */
       transition-property: filter, opacity;
@@ -598,7 +590,7 @@
   z-index: 1; /* Overlay tab title */
 
   #tabbrowser-tabs[orient="vertical"] & {
-    top: 7px;
+    top: -7px;
   }
 
   &[crashed] {
@@ -606,7 +598,7 @@
   }
 
   #tabbrowser-tabs[orient="vertical"]:not([expanded]) &:not([crashed]),
-  &[pinned]:not([crashed]) {
+  &:not([crashed]) {
     &[soundplaying] {
       list-style-image: url("chrome://browser/skin/tabbrowser/tab-audio-playing-small.svg");
     }
@@ -663,7 +655,7 @@
     }
   }
 
-  &[pinned]:is([soundplaying], [muted], [activemedia-blocked]),
+  &[zen-essential]:is([soundplaying], [muted], [activemedia-blocked]),
   &[crashed] {
     display: revert;
   }
@@ -830,7 +822,7 @@
       has not been added to root. There are certain scenarios when that attribute is temporarily
       removed from root such as when toggling the sidebar to expand with the toolbar button. */
     #tabbrowser-tabs[orient="horizontal"] &:not([pinned]):not([crashed]),
-    :root:not([sidebar-expand-on-hover]) #tabbrowser-tabs[orient="vertical"][expanded] &:not([pinned]):not([crashed]) {
+    :root:not([sidebar-expand-on-hover]) #tabbrowser-tabs[orient="vertical"][expanded] &:not([zen-essential]):not([crashed]) {
       &:is([soundplaying], [muted], [activemedia-blocked]) {
         display: flex;
       }
@@ -1521,7 +1513,7 @@ tab-group {
 }
 
 #tabbrowser-tabs[orient="vertical"][expanded] {
-  tab-group > :is(.tab-group-label-container, .tabbrowser-tab),
+  tab-group > :is(.tab-group-label-container, .tab-group-container, .tabbrowser-tab),
   &[movingtab][movingtab-addToGroup]:not([movingtab-group], [movingtab-ungroup]) .tabbrowser-tab:is(:active, [multiselected]) {
     margin-inline-start: var(--space-medium);
   }
@@ -1999,7 +1991,7 @@ tab-group {
   }
 }
 
-#tabbrowser-arrowscrollbox[orient="vertical"] > #tabbrowser-arrowscrollbox-periphery > #tabs-newtab-button,
+#tabs-newtab-button,
 #vertical-tabs-newtab-button {
   appearance: none;
   min-height: var(--tab-min-height);
@@ -2010,7 +2002,7 @@ tab-group {
   margin-inline: var(--tab-inner-inline-margin);
 
   #tabbrowser-tabs[orient="vertical"]:not([expanded]) & > .toolbarbutton-text {
-    display: none;
+    display: flex;
   }
 
   &:hover {
@@ -2034,7 +2026,7 @@ tab-group {
  * flex container. #tabs-newtab-button is a child of the arrowscrollbox where
  * we don't want a gap (between tabs), so we have to add some margin.
  */
-#tabbrowser-arrowscrollbox[orient="vertical"] > #tabbrowser-arrowscrollbox-periphery > #tabs-newtab-button {
+#tabbrowser-arrowscrollbox[orient="vertical"] #tabbrowser-arrowscrollbox-periphery > #tabs-newtab-button {
   margin-block: var(--tab-block-margin);
 }
 
@@ -2222,7 +2214,6 @@ tab-group {
 
   &:not([expanded]) {
     .tabbrowser-tab[pinned] {
-      width: var(--tab-collapsed-width);
     }
 
     .tab-background {
@@ -2262,8 +2253,8 @@ tab-group {
       display: block;
       position: absolute;
       inset: auto;
-      top: -3px;
-      inset-inline-start: 2px;
+      top: -2px;
+      inset-inline-start: -2px;
 
       &:-moz-window-inactive {
         background-image:
@@ -2348,9 +2339,6 @@ tab-group {
 
 :root:not([privatebrowsingmode]) :is(toolbarbutton, toolbarpaletteitem) ~ #tabbrowser-tabs,
 :root[privatebrowsingmode] :is(toolbarbutton:not(#firefox-view-button), toolbarpaletteitem:not(#wrapper-firefox-view-button)) ~ #tabbrowser-tabs {
-  border-inline-start: var(--tabstrip-inner-border);
-  padding-inline-start: 2px;
-  margin-inline-start: 2px;
 }
 
 :root[privatebrowsingmode] :is(#firefox-view-button, #menu_openFirefoxView) {
@@ -2382,7 +2370,6 @@ toolbar:not(#TabsToolbar) #firefox-view-button {
   list-style-image: url(chrome://global/skin/icons/plus.svg);
 }
 
-#tabbrowser-tabs[hasadjacentnewtabbutton]:not([overflow]) ~ #new-tab-button,
 #tabbrowser-tabs[orient="horizontal"] > #vertical-tabs-newtab-button,
 #tabbrowser-tabs[orient="vertical"]:not([overflow]) > #vertical-tabs-newtab-button,
 #tabbrowser-arrowscrollbox[overflowing] > #tabbrowser-arrowscrollbox-periphery > #tabs-newtab-button,



================================================
FILE: src/browser/themes/shared/zen-icons/check_unused_icons.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Note: You'll need to be on the root directory of the repo to run this script:
#       python3 src/browser/themes/shared/zen-icons/check_unused_icons.py

import os
import sys
import argparse

IGNORE_DIRS = ['node_modules', 'engine']


def get_all_icon_files(icon_dir):
  icon_files = []
  for root, _, files in os.walk(icon_dir):
    for file in files:
      if file.endswith('.svg'):
        icon_files.append(file)
  return icon_files


def find_icon_usage(icon_files):
  used_icons = set()
  for root, _, files in os.walk('src'):
    if any(ignored in root for ignored in IGNORE_DIRS):
      continue
    for file in files:
      # ignore jar files
      if file.endswith(('.mn')):
        continue
      try:
        with open(os.path.join(root, file), 'r', encoding='utf-8') as f:
          content = f.read()
          for icon in icon_files:
            if icon in content:
              used_icons.add(icon)
      except BaseException:
        continue
  return used_icons


def main(args):
  parser = argparse.ArgumentParser(description='Check for unused zen icons.')
  parser.add_argument('--remove', action='store_true', help='Remove unused icons')
  parsed_args = parser.parse_args(args)

  icon_dir = 'src/browser/themes/shared/zen-icons/lin'
  icon_files = get_all_icon_files(icon_dir)
  used_icons = find_icon_usage(icon_files)

  unused_icons = set(icon_files) - used_icons

  if unused_icons:
    print("Unused icons:")
    for icon in sorted(unused_icons):
      if parsed_args.remove:
        os.remove(os.path.join(icon_dir, icon))
        print(f"Removed {icon}")
      else:
        print(icon)
  else:
    print("No unused icons found.")

  if parsed_args.remove:
    print("Unused icons removed.")
    os.chdir('src/browser/themes/shared/zen-icons')
    os.system("sh ./update-resources.sh")


if __name__ == "__main__":
  main(sys.argv[1:])



================================================
FILE: src/browser/themes/shared/zen-icons/icons.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

.subviewbutton,
#zen-welcome-start-button,
.zen-toast button,
.zen-current-workspace-indicator-chevron,
.pinned-tabs-container-separator toolbarbutton {
  -moz-context-properties: fill, fill-opacity !important;
  fill: currentColor !important;
}

.private-browsing-indicator-icon {
  list-style-image: url("account-private.svg") !important;
  border-radius: 100% !important;
}

#back-button {
  list-style-image: url("back.svg") !important;
}

#forward-button {
  list-style-image: url("forward.svg") !important;
}

#reload-button {
  list-style-image: url("reload.svg") !important;
}

#stop-button,
.close-icon,
.zen-glance-sidebar-close,
.zen-theme-picker-custom-list-item-remove,
#appMenu-quit-button2 {
  list-style-image: url("close.svg") !important;
}

#PanelUI-zen-emojis-picker-none {
  list-style-image: url("trash.svg");
}

#PanelUI-zen-gradient-generator-color-remove {
  list-style-image: url("unpin.svg") !important;
}

.tab-reset-button {
  list-style-image: url("unpin.svg");

  @media (-moz-pref("zen.pinned-tab-manager.close-shortcut-behavior", "close")) {
    list-style-image: url("close.svg");
  }
}

#sidebar-button {
  list-style-image: url("sidebars-right.svg") !important;
}

#sidebar-button:-moz-locale-dir(ltr):not([positionend]),
#sidebar-button:-moz-locale-dir(rtl)[positionend],
#zen-toggle-compact-mode {
  list-style-image: url("sidebar.svg") !important;

  :root[zen-right-side="true"] & {
    list-style-image: url("sidebar-right.svg") !important;
  }
}

#downloads-button,
#downloads-indicator-anchor,
#appMenu-downloads-button,
#appMenu-library-downloads-button {
  list-style-image: url("downloads.svg") !important;
}

#downloads-indicator-icon {
  max-height: 16px;
}

#appMenu-translate-button {
  list-style-image: url("translations.svg") !important;
}

#appMenu-zoom-controls,
#PanelUI-zen-gradient-generator-color-add,
#zen-site-data-new-addon-button {
  list-style-image: url("plus.svg") !important;
}

#appMenu-passwords-button,
#password-notification-icon,
#PopupAutoComplete > richlistbox > richlistitem[originaltype="generatedPassword"] > .two-line-wrapper > .ac-site-icon,
#PopupAutoComplete > richlistbox > richlistitem[originaltype="loginWithOrigin"] > .two-line-wrapper > .ac-site-icon,
#PopupAutoComplete > richlistbox > richlistitem[originaltype="login"] > .ac-site-icon {
  list-style-image: url("passwords.svg") !important;
}

#nav-bar-overflow-button {
  list-style-image: url("chevron.svg") !important;

  /* On macos, we don't display the app menu, meaning
   * we can re-use the menu icon for the overflow button.
   * Which is more intuitive for users and looks better.
   */
  @media (-moz-platform: macos) {
    list-style-image: url("menu.svg") !important;
  }
}

.zen-current-workspace-indicator-chevron,
#PanelUI-zen-gradient-generator-color-page-right {
  list-style-image: url("arrow-right.svg");
}

#PanelUI-menu-button,
#appMenu-more-button2,
.zen-workspaces-actions,
#zen-workspace-actions-menu-icon {
  list-style-image: url("menu.svg") !important;
}

#appMenu-help-button2 {
  list-style-image: url("help.svg") !important;
}

#sync-button,
.urlbarView-row[source="tabs"] > .urlbarView-row-inner > .urlbarView-no-wrap > .urlbarView-favicon,
#urlbar-engine-one-off-item-tabs,
#zen-open-background-tab-button {
  list-style-image: url("tab.svg") !important;
}

#context-navigation > menuitem {
  padding: 4px;
}

#history-panelmenu,
.urlbarView-row[source="history"] > .urlbarView-row-inner > .urlbarView-no-wrap > .urlbarView-favicon,
#urlbar-engine-one-off-item-history,
#appMenu-history-button,
#appMenu-library-history-button,
#sidebar-switcher-history,
#zen-history-button,
#sidebar-box[sidebarcommand="viewHistorySidebar"] > #sidebar-header > #sidebar-switcher-target > #sidebar-icon {
  list-style-image: url("history.svg") !important;
}

#save-page-button,
#appMenu-save-file-button2 {
  list-style-image: url("save.svg") !important;
}

#print-button,
#appMenu-print-button2 {
  list-style-image: url("print.svg") !important;
}

.searchbar-search-icon {
  list-style-image: url("search-glass.svg") !important;
}

#find-button,
#appMenu-find-button2 {
  list-style-image: url("search-page.svg") !important;
}

#open-file-button {
  list-style-image: url("open.svg") !important;
}

#add-ons-button,
#appMenu-extensions-themes-button,
#appMenu-unified-extensions-button,
#unified-extensions-button {
  list-style-image: url("extension.svg") !important;
}

#zoom-out-button,
#appMenu-zoomReduce-button2 {
  list-style-image: url("zoom-out.svg") !important;
}

#zoom-in-button,
#tabs-newtab-button,
#zen-create-new-button,
#new-tab-button,
#appMenu-zoomEnlarge-button2,
#PanelUI-zen-profiles-newProfile,
#zen-sidebar-add-panel-button,
#PanelUI-zen-gradient-generator-color-custom-add image {
  list-style-image: url("plus.svg") !important;
}

#cut-button {
  list-style-image: url("edit-cut.svg") !important;
}

#copy-button {
  list-style-image: url("edit-copy.svg") !important;
}

#paste-button {
  list-style-image: url("edit-paste.svg") !important;
}

#email-link-button {
  list-style-image: url("mail.svg") !important;
}

#screenshot-button {
  list-style-image: url("screenshot.svg") !important;
}

#preferences-button,
#zen-preferences-button,
.search-setting-button > .button-box > .button-icon,
#appMenu-settings-button,
#PanelUI-zen-profiles-managePrfs,
.unified-extensions-item-open-menu.subviewbutton {
  list-style-image: url("settings.svg") !important;
}

#spell-check-enabled {
  list-style-image: url("spell-check.svg") !important;
}

#panic-button {
  list-style-image: url("forget.svg") !important;
}

#appMenu-new-private-window-button2,
#PanelUI-zen-profiles-privateWin {
  list-style-image: url("private-window.svg") !important;
}

#privatebrowsing-button {
  list-style-image: url("privateBrowsing.svg") !important;
}

#profiler-button-button > .toolbarbutton-icon {
  list-style-image: url("tool-profiler.svg") !important;
}

#developer-button {
  list-style-image: url("developer.svg") !important;
}

#new-window-button,
#appMenu-new-window-button2,
#appMenu-new-zen-unsynced-window-button {
  list-style-image: url("window.svg") !important;
}

#restore-button,
#fullscreen-button,
.zen-glance-sidebar-open,
#appMenu-fullscreen-button2,
.zen-tab-unsplit-button {
  list-style-image: url("fullscreen.svg") !important;
}

#restore-button[checked],
#fullscreen-button[checked],
#appMenu-fullscreen-button2[checked] {
  list-style-image: url("fullscreen-exit.svg") !important;
}

#bookmarks-menu-button,
#appMenu-bookmarks-button,
#sidebar-switcher-bookmarks,
#appMenu-library-bookmarks-button,
#sidebar-box[sidebarcommand="viewBookmarksSidebar"] > #sidebar-header > #sidebar-switcher-target > #sidebar-icon {
  list-style-image: url("bookmark-star-on-tray.svg") !important;
}

#home-button {
  list-style-image: url("home.svg") !important;
}

#toggle_toolbar-menubar,
#appMenu_menu_openHelp {
  display: none;
}

#library-button {
  list-style-image: url("library.svg") !important;
}

/* identity icons */
#identity-icon {
  list-style-image: url("info.svg");
}

#identity-box[pageproxystate="valid"].chromeUI #identity-icon {
  filter: grayscale(1);
}

#identity-box[pageproxystate="valid"].localResource #identity-icon {
  list-style-image: url("page-portrait.svg") !important;
}

#urlbar:not(.searchButton) > #urlbar-input-container > #identity-box[pageproxystate="invalid"] #identity-icon {
  list-style-image: url("search-glass.svg") !important;
}

#urlbar[actiontype="extension"] > #urlbar-input-container > #identity-box #identity-icon,
#identity-box[pageproxystate="valid"].extensionPage #identity-icon {
  list-style-image: url("extension.svg") !important;
}

#identity-box[pageproxystate="valid"].verifiedDomain #identity-icon,
#identity-box[pageproxystate="valid"].mixedActiveBlocked #identity-icon {
  list-style-image: url("security.svg") !important;
}

#urlbar-input-container[pageproxystate="valid"] > #tracking-protection-icon-container > #tracking-protection-icon-box > #tracking-protection-icon {
  list-style-image: url("tracking-protection.svg") !important;
}

/* security */
.identity-popup-security-connection,
#appMenu-report-broken-site-button {
  list-style-image: url("security-broken.svg") !important;
}

#identity-box[pageproxystate="valid"].notSecure #identity-icon,
#identity-box[pageproxystate="valid"].mixedActiveContent #identity-icon,
#identity-box[pageproxystate="valid"].httpsOnlyErrorPage #identity-icon {
  list-style-image: url("security-broken.svg") !important;
}

#identity-popup[connection="chrome"] .identity-popup-security-connection {
  list-style-image: url("chrome://branding/content/icon48.png") !important;
  filter: grayscale(1);
}

#identity-popup[connection="file"] .identity-popup-security-connection {
  list-style-image: url("page-portrait.svg") !important;
}

#identity-popup[connection^="secure"] .identity-popup-security-connection {
  list-style-image: url("security.svg") !important;
}

#identity-popup[ciphers="weak"] .identity-popup-security-connection,
#identity-popup[mixedcontent~="passive-loaded"][isbroken] .identity-popup-security-connection,
#identity-popup[connection="secure-cert-user-overridden"] .identity-popup-security-connection,
#identity-popup[connection="cert-error-page"] .identity-popup-security-connection {
  list-style-image: url("security-warning.svg") !important;
}

#identity-popup[connection="net-error-page"] .identity-popup-security-connection {
  list-style-image: url("info.svg") !important;
}

#identity-popup[connection="extension"] .identity-popup-security-connection {
  list-style-image: url("extension.svg") !important;
}

#appMenu-new-tab-button2 {
  list-style-image: url("new-tab-image.svg") !important;
}

.findbar-find-previous {
  list-style-image: url("arrow-up.svg") !important;
}

.findbar-find-next {
  list-style-image: url("arrow-down.svg") !important;
}

.zen-workspace-close-unpinned-tabs-button {
  list-style-image: url("dart-down.svg");

  &:not([can-close="true"]) .toolbarbutton-icon {
    display: none;
  }

  @media -moz-pref("zen.view.show-clear-tabs-button", false) {
    display: none;
  }
}

.zen-workspace-actions-reorder-icon,
.zen-tab-rearrange-button {
  list-style-image: url("drag-indicator.svg") !important;
}

#protections-popup-mainView .subviewbutton-nav:not(.notFound)::after,
#identity-popup-mainView .subviewbutton-nav::after,
.widget-overflow-list .subviewbutton-nav::after,
.PanelUI-subView .subviewbutton-nav::after,
.menu-right {
  content: url("arrow-right.svg") !important;
}

#PlacesChevron {
  list-style-image: url("arrow-right.svg") !important;
}

#zen-expand-sidebar-button {
  list-style-image: url("expand-sidebar.svg") !important;
}

.panel-header > .subviewbutton-back,
#PanelUI-zen-gradient-generator-color-page-left {
  list-style-image: url("arrow-left.svg") !important;
}

#appmenu-moreTools-button {
  list-style-image: url("customize.svg") !important;
}

#zen-copy-current-url-button,
#zen-site-data-header-share {
  list-style-image: url("share.svg");
}

.bookmark-item[container] {
  list-style-image: url("folder.svg") !important;
}

#zen-site-data-header-bookmark,
#pageAction-panel-bookmark,
#star-button,
#zen-bookmark-button {
  list-style-image: url("bookmark-hollow.svg") !important;
}

#zen-site-data-header-bookmark.active,
#pageAction-panel-bookmark[starred],
#star-button[starred] {
  list-style-image: url("bookmark.svg") !important;
}

.zen-glance-sidebar-split {
  list-style-image: url("split.svg");

  &[disabled="true"] {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

#sidebar-box[sidebarcommand="viewTabsSidebar"] > #sidebar-header > #sidebar-switcher-target > #sidebar-icon,
#sidebar-switcher-tabs {
  list-style-image: url("send-to-device.svg") !important;
}

/* tab icons */
.tab-icon-image[src="chrome://branding/content/icon32.png"],
.tab-icon-image[src="chrome://browser/skin/privatebrowsing/favicon.svg"]
{
  content: url("new-tab-image.svg") !important;
}

.tab-icon-image[src="chrome://global/skin/icons/settings.svg"]
{
  content: url("settings.svg") !important;
}

.tab-icon-image[src="chrome://mozapps/skin/extensions/extension.svg"]
{
  content: url("extension.svg") !important;
}

.tab-icon-image[src="chrome://browser/skin/customize.svg"]
{
  content: url("customize.svg") !important;
}

/* permissions */

#zen-site-data-icon-button {
  display: flex !important;
}

#identity-permission-box,
:root:not([zen-has-empty-tab="true"]) #urlbar:not([breakout-extend="true"]) #identity-icon-box:not([open]),
:root[zen-has-empty-tab="true"] #zen-site-data-icon-button,
#urlbar[breakout-extend="true"] #zen-site-data-icon-button {
  display: none !important;
}

#zen-site-data-icon-button {
  padding: 0 4px !important;
  border-radius: var(--urlbar-icon-border-radius) !important;

  & image {
    list-style-image: url("permissions.svg");
    -moz-context-properties: fill, fill-opacity;
    pointer-events: none;
  }

  &:is([open], [starred]) image {
    list-style-image: url("permissions-fill.svg");
  }
}

.geo-icon {
  list-style-image: url("geo.svg") !important;
}

.geo-icon.blocked-permission-icon {
  list-style-image: url("geo-blocked.svg") !important;
}

.xr-icon {
  list-style-image: url("xr.svg") !important;
}

.xr-icon.blocked-permission-icon {
  list-style-image: url("xr-blocked.svg") !important;
}

.popup-notification-icon[popupid="web-notifications"],
.desktop-notification-icon {
  list-style-image: url("desktop-notification.svg") !important;
}

.desktop-notification-icon.blocked-permission-icon {
  list-style-image: url("desktop-notification-blocked.svg") !important;
}

.camera-icon,
#zen-site-data-header-screenshot {
  list-style-image: url("camera.svg") !important;
}

.camera-icon.blocked-permission-icon {
  list-style-image: url("camera-blocked.svg") !important;
}

.microphone-icon {
  list-style-image: url("microphone.svg") !important;
}

.microphone-icon.blocked-permission-icon {
  list-style-image: url("microphone-blocked.svg") !important;
}

.screen-icon {
  list-style-image: url("screen.svg") !important;
}

.screen-icon.blocked-permission-icon {
  list-style-image: url("screen-blocked.svg") !important;
}

.popup-notification-icon[popupid="persistent-storage"],
.persistent-storage-icon,
.indexedDB-icon {
  list-style-image: url("persistent-storage.svg") !important;
}

.persistent-storage-icon.blocked-permission-icon {
  list-style-image: url("persistent-storage-blocked.svg") !important;
}

.popup-icon {
  list-style-image: url("popup.svg") !important;
}

.autoplay-media-icon {
  list-style-image: url("autoplay-media.svg") !important;
}

.autoplay-media-icon.blocked-permission-icon {
  list-style-image: url("autoplay-media-blocked.svg") !important;
}

#canvas-notification-icon,
.popup-notification-icon[popupid="canvas-permissions-prompt"],
.canvas-icon {
  list-style-image: url("canvas.svg") !important;
}

.canvas-icon.blocked-permission-icon {
  list-style-image: url("canvas-blocked.svg") !important;
}

.midi-icon,
.midi-sysex-icon,
.popup-notification-icon[popupid="midi"],
.popup-notification-icon[popupid="midi-sysex"] {
  list-style-image: url("midi.svg") !important;
}

.install-icon {
  list-style-image: url("extension.svg") !important;
}

.install-icon.blocked-permission-icon,
.popup-notification-icon[popupid="xpinstall-disabled"],
.popup-notification-icon[popupid="addon-install-blocked"],
.popup-notification-icon[popupid="addon-install-origin-blocked"] {
  list-style-image: url("extension-blocked.svg") !important;
}

.permission-popup-permission-item {
  list-style-image: url("settings-fill.svg") !important;
}
.permission-popup-permission-item-geo {
  list-style-image: url("geo-fill.svg") !important;
}
.permission-popup-permission-item-xr {
  list-style-image: url("xr-fill.svg") !important;
}
.permission-popup-permission-item-desktop-notification {
  list-style-image: url("desktop-notification-fill.svg") !important;
}
.permission-popup-permission-item-camera {
  list-style-image: url("camera-fill.svg") !important;
}
.permission-popup-permission-item-microphone {
  list-style-image: url("microphone-fill.svg") !important;
}
.permission-popup-permission-item-screen {
  list-style-image: url("screen.svg") !important;
}
.permission-popup-permission-item-persistent-storage {
  list-style-image: url("persistent-storage-fill.svg") !important;
}
.permission-popup-permission-item-popup {
  list-style-image: url("popup-fill.svg") !important;
}
.permission-popup-permission-item-autoplay-media {
  list-style-image: url("autoplay-media-fill.svg") !important;
}
.zen-permission-shield-icon {
  list-style-image: url("tracking-protection-fill.svg");
}
.zen-permission-extension-icon {
  list-style-image: url("extension-fill.svg");
}
.zen-permission-cookie-icon {
  list-style-image: url("cookies-fill.svg");
}

/* tab sound icons */
.tab-icon-overlay[soundplaying] {
  list-style-image: url("tab-audio-playing-small.svg") !important;
}

.tab-icon-overlay[muted] {
  list-style-image: url("tab-audio-muted-small.svg") !important;
}

.tab-icon-overlay[activemedia-blocked] {
  list-style-image: url("tab-audio-blocked-small.svg") !important;
}

#reader-mode-button > .urlbar-icon,
#zen-site-data-header-reader-mode {
  list-style-image: url("reader-mode.svg") !important;
}

#unified-extensions-manage-extensions {
  list-style-image: url("manage.svg") !important;
}

#appMenuRecentlyClosedTabs {
  list-style-image: url("container-tab.svg") !important;
}

#PanelUI-zen-gradient-generator-color-toggle-algo {
  list-style-image: url("algorithm.svg");
}

#appMenuClearRecentHistory {
  list-style-image: url("edit-delete.svg") !important;
}

#appMenuRecentlyClosedWindows {
  list-style-image: url("window.svg") !important;
}

#appMenuSearchHistory {
  list-style-image: url("search-glass.svg") !important;
}

#PanelUI-historyMore {
  list-style-image: url("manage.svg") !important;
}

#panelMenuBookmarkThisPage {
  list-style-image: url("bookmark-hollow.svg") !important;
}

#panelMenu_searchBookmarks {
  list-style-image: url("search-glass.svg") !important;
}

#panelMenu_viewBookmarksToolbar {
  list-style-image: url("open.svg") !important;
}

#panelMenu_showAllBookmarks {
  list-style-image: url("manage.svg") !important;
}

/* FIX header icons for the app menu sub menus (eg. fx account, history...) */
.panel-header > h1 {
  text-align: left;
  margin-left: 8px !important;
}

/* header icons for the app menu sub menus (eg. fx account, history...) */
.panel-header > h1 > span::before {
  content: "";
  background: var(--header-image, none) center / 16px no-repeat;
  -moz-context-properties: fill, fill-opacity;
  fill: currentColor;
  padding-inline-start: calc(var(--fp-enabled, 0) * 16px);
  margin-inline-end: calc(var(--fp-enabled, 0) * 8px);
}

#PanelUI-fxa .panel-header > h1 > span::before {
  --header-image: var(--avatar-image-url);
  --fp-enabled: 1;
  transform: scale(1.25);
  border-radius: 99px;
  display: inline-block;
  height: 16px;
}

#PanelUI-bookmarks .panel-header > h1 > span::before {
  --header-image: url("bookmark-star-on-tray.svg");
  --fp-enabled: 1;
}

#PanelUI-history .panel-header > h1 > span::before {
  --header-image: url("history.svg");
  --fp-enabled: 1;
}

#PanelUI-helpView .panel-header > h1 > span::before {
  --header-image: url("help.svg");
  --fp-enabled: 1;
}

#appMenu-libraryView .panel-header > h1 > span::before {
  --header-image: url("library.svg");
  --fp-enabled: 1;
}

#unified-extensions-panel .panel-header > h1 > span::before {
  --header-image: url("extension.svg");
  --fp-enabled: 1;
}

#alltabs-button {
  list-style-image: url("chrome://browser/skin/tabs.svg") !important;
}

#toolbar-context-toggle-vertical-tabs,
#toolbar-context-customize-sidebar,
#sidebarRevampSeparator {
  display: none !important;
}

#zen-media-playpause-button {
  list-style-image: url("media-play.svg");
}

#zen-media-controls-toolbar.playing #zen-media-playpause-button {
  list-style-image: url("media-pause.svg");
}

#zen-media-nexttrack-button {
  list-style-image: url("media-next.svg");
}

#zen-media-previoustrack-button {
  list-style-image: url("media-previous.svg");
}

#zen-media-controls-toolbar[muted] #zen-media-mute-button {
  list-style-image: url("media-mute.svg");
}

#zen-media-mute-button {
  list-style-image: url("media-unmute.svg");
}

#zen-media-close-button {
  list-style-image: url("close.svg");
}

#zen-media-focus-button:hover {
  list-style-image: url("screen.svg");
}

#zen-media-close-button {
  list-style-image: url("close.svg");
}

#zen-media-mute-mic-button {
  list-style-image: url("microphone-fill.svg");
}

#zen-media-controls-toolbar[mic-muted] #zen-media-mute-mic-button {
  list-style-image: url("microphone-blocked-fill.svg");
  fill: rgb(224, 41, 29);
}

#zen-media-mute-camera-button {
  list-style-image: url("video-fill.svg");
}

#zen-media-controls-toolbar[camera-muted] #zen-media-mute-camera-button {
  list-style-image: url("video-blocked-fill.svg");
  fill: rgb(224, 41, 29);
}

#zen-media-pip-button {
  list-style-image: url("chrome://global/skin/media/picture-in-picture-open.svg");
}

#zenCreateNewPopup > menuitem img {
  -moz-context-properties: fill;
  fill: currentColor;
}

#zen-create-new-button {
  border-radius: var(--tab-border-radius);

  &:hover {
    background: var(--toolbarbutton-hover-background);
  }

  & image {
    background: transparent !important;
  }
}

#PanelUI-zen-gradient-generator-scheme-auto {
  list-style-image: url("sparkles.svg");
}

@media -moz-pref("zen.view.window.scheme", 2) {
  #PanelUI-zen-gradient-generator-scheme-auto {
    background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
  }
}

#PanelUI-zen-gradient-generator-scheme-dark {
  list-style-image: url("moon-stars.svg");
}

@media -moz-pref("zen.view.window.scheme", 0) {
  #PanelUI-zen-gradient-generator-scheme-dark {
    background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
  }
}

#PanelUI-zen-gradient-generator-scheme-light {
  list-style-image: url("face-sun.svg");
}

@media -moz-pref("zen.view.window.scheme", 1) {
  #PanelUI-zen-gradient-generator-scheme-light {
    background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
  }
}

.zen-workspace-context-icon img {
  -moz-context-properties: fill;
  fill: currentColor;
}

#zen-site-data-security-info {
  -moz-context-properties: fill, fill-opacity;
  fill: currentColor;
  appearance: none;
  border-radius: 6px;
  padding: 6px 10px 6px 8px;

  &[identity="secure"] {
    list-style-image: url("security.svg");
  }

  &[identity="not-secure"] {
    list-style-image: url("security-broken.svg");
  }

  &[identity="extension"] {
    list-style-image: url("extension.svg");
  }

  &:not([identity="secure"]) * {
    color: light-dark(var(--color-red-70), var(--color-red-30));
  }

  & .toolbarbutton-text {
    font-weight: 600;
    padding-inline-start: 4px !important;
  }

  & .toolbarbutton-icon {
    width: 16px;
  }

  & > * {
    opacity: 0.8;
  }
}

#zen-site-data-actions {
  -moz-context-properties: fill, fill-opacity;
  fill: currentColor;
  appearance: none;
  width: 30px;
  height: 30px;
  border-radius: 99px;
  margin-left: auto !important;
  list-style-image: url("menu.svg");
  justify-content: center;
  align-items: center;
  padding: 0;

  & label {
    display: none;
  }
}

#zen-copy-url-button image {
  list-style-image: url("link.svg");
  fill-opacity: 0.65;
}



================================================
FILE: src/browser/themes/shared/zen-icons/update-resources.sh
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# note: you need to be in the same directory as the script to run it

if [ $(basename $PWD) != "zen-icons" ]; then
  echo "You need to be in the zen-icons directory to run this script"
  exit 1
fi

echo "# This Source Code Form is subject to the terms of the Mozilla Public" > jar.inc.mn
echo "# License, v. 2.0. If a copy of the MPL was not distributed with this" >> jar.inc.mn
echo "# file, You can obtain one at http://mozilla.org/MPL/2.0/." >> jar.inc.mn
echo "" >> jar.inc.mn

add_header_to_file() {
  # add "#filter dumbComments emptyLines substitution" if it doesnt exist at the top of the file
  HEADER="#filter dumbComments emptyLines substitution"
  file="$1"
  if ! grep -qF "$HEADER" "$file"; then
    echo "$HEADER" | cat - "$file" > temp && mv temp "$file"
  fi
}

merge_svg_paths() {
  # Remove all lines starting with "#" so we can use a valid svg file
  file="$1"
  echo "Merging paths in $file"
  temp_file=${file}.tmp.svg
  grep -v '^#' "$file" > $temp_file && mv $temp_file "$file"
  # migrate the svg attributes such as fill and fill-opacity, stroke, etc to the svg tag
  fill_attr=$(grep -o 'fill="[^"]*"' "$file" | head -n 1)
  fill_opacity_attr=$(grep -o 'fill-opacity="[^"]*"' "$file" | head -n 1)
  stroke_attr=$(grep -o 'stroke="[^"]*"' "$file" | head -n 1)
  stroke_width_attr=$(grep -o 'stroke-width="[^"]*"' "$file" | head -n 1)
  stroke_opacity_attr=$(grep -o 'stroke-opacity="[^"]*"' "$file" | head -n 1)
  # Use inkscape to merge all paths into one
  inkscape "$file" --actions="select-all;object-to-path;select-all;path-combine" --export-plain-svg --export-filename="${temp_file}"
  # optimize the svg
  npx svgo --multipass "${temp_file}" --config=../../../../../svgo.config.js
  # add the attributes to the svg tag
  sed -i '' "s/<svg /<svg $fill_attr $fill_opacity_attr $stroke_attr $stroke_width_attr $stroke_opacity_attr /" "${temp_file}"
  # Run it one more time
  npx svgo --multipass "${temp_file}" --config=../../../../../svgo.config.js
  mv ${temp_file} "$file"
  echo "# This Source Code Form is subject to the terms of the Mozilla Public" > $temp_file
  echo "# License, v. 2.0. If a copy of the MPL was not distributed with this" >> $temp_file
  echo "# file, You can obtain one at http://mozilla.org/MPL/2.0/." >> $temp_file
  cat "$file" >> $temp_file
  mv "$temp_file" "$file"
}

do_icons() {
  system=$1
  preprocessed_os=$2
  echo "#ifdef XP_$preprocessed_os" >> jar.inc.mn
  for filename in $system/*.svg; do
    # make it a sub-process so we can do this process faster
    merge_svg_paths $filename &
  done
  wait # wait for all background processes to finish
  for filename in $system/*.svg; do
    echo "Working on $filename"
    add_header_to_file $filename
    filename=$(basename $filename)
    echo "*  skin/classic/browser/zen-icons/$filename                      (../shared/zen-icons/$system/$filename) " >> jar.inc.mn
  done
  echo "#endif" >> jar.inc.mn
}

do_common_icons() {
  for filename in common/*.svg; do
    # remove the os/ prefix
    add_header_to_file $filename
    filename=$(basename $filename)
    echo "*  skin/classic/browser/zen-icons/$filename                      (../shared/zen-icons/common/$filename) " >> jar.inc.mn
  done
  for filename in common/selectable/*.svg; do
    # remove the os/ prefix
    add_header_to_file $filename
    filename=$(basename $filename)
    echo "*  skin/classic/browser/zen-icons/selectable/$filename          (../shared/zen-icons/common/selectable/$filename) " >> jar.inc.mn
  done
}

do_icons nucleo WIN    # TODO: use windows icons
do_icons nucleo MACOSX # TODO: use macos icons
do_icons nucleo LINUX

do_common_icons

echo "Working on icons.css"
echo "  skin/classic/browser/zen-icons/icons.css                      (../shared/zen-icons/icons.css) " >> jar.inc.mn

echo "Done!"



================================================
FILE: src/browser/themes/shared/zen-icons/common/selectable/CREDITS.md
================================================
# Icons used in Zen's emoji picker:

Credit to [Ionicons](https://ionic.io/ionicons) by [Ionic Framework](https://ionic.io/), used under the [MIT License](https://opensource.org/license/MIT).



================================================
FILE: src/browser/themes/shared/zen-icons/fluent/NOTE.md
================================================
# Notice

Windows icons are using Nucleo icons. This until we figure out how sizing works with Fluent icons.



================================================
FILE: src/browser/themes/shared/zen-icons/nucleo/nucleo-copyright-notice.html
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Nucleo Icons - Copyright Notice</title>
</head>
<body>
	<p>Copyright (C) Nucleo</p>
    <p>Version 1.2, 23 November 2023</p>
    <p>Nucleo Icons</p>
    <p><a href="https://nucleoapp.com/">https://nucleoapp.com/</a></p>
    <p>The Nucleo icons are copyrighted. Redistribution is not permitted. Use in source and binary forms, with or without modification, is permitted only if you possess a Nucleo license.</p>
    <p>Refer to the license page for additional information:</p>
    <p><a href="https://nucleoapp.com/license">https://nucleoapp.com/license</a></p>
</body>
</html>


================================================
FILE: src/browser/themes/shared/zen-icons/sf/NOTE.md
================================================
# Notice

MacOS icons are using Nucleo icons. This until we figure out how sizing works with SF Pro icons.



================================================
FILE: src/browser/themes/windows/browser-css.patch
================================================
diff --git a/browser/themes/windows/browser.css b/browser/themes/windows/browser.css
index b114781254018a27cd559c28d5d469fbab8673b5..79e6e21dd6e0a63237850bd315558540f050793c 100644
--- a/browser/themes/windows/browser.css
+++ b/browser/themes/windows/browser.css
@@ -39,7 +39,6 @@
     /* stylelint-disable-next-line media-query-no-invalid */
     @media -moz-pref("widget.windows.mica.toplevel-backdrop", 2) {
       /* For acrylic, do the same we do for popups to guarantee some contrast */
-      background-color: light-dark(rgba(255, 255, 255, 0.6), rgba(0, 0, 0, 0.6));
     }
 
     /* Using a semitransparent background preserves the tinting from the backdrop.
@@ -68,14 +67,13 @@
 }
 
 /* This is needed for Windows 10, see bug 1961257 */
-@media (-moz-windows-accent-color-in-titlebar) {
-  :root[customtitlebar][sizemode="normal"] #navigator-toolbox {
+  :root[customtitlebar][sizemode="normal"] #browser {
+    --zen-sidebar-compact-top-offset: 1px;
     border-top: 0.5px solid ActiveBorder;
     &:-moz-window-inactive {
       border-top-color: InactiveBorder;
     }
   }
-}
 
 /* Titlebar */
 



================================================
FILE: src/devtools/client/locales/en-US/toolbox-properties.patch
================================================
diff --git a/devtools/client/locales/en-US/toolbox.properties b/devtools/client/locales/en-US/toolbox.properties
index d4f986b024d3505b8c151f8e0166a20ff1862c5d..b2fb69e8897abdacb090d5a6faca203656e7cd44 100644
--- a/devtools/client/locales/en-US/toolbox.properties
+++ b/devtools/client/locales/en-US/toolbox.properties
@@ -66,11 +66,11 @@ toolbox.androidElementPicker.mac.tooltip=Pick an element from the Android phone
 
 # LOCALIZATION NOTE (toolbox.elementPicker.key)
 # Key shortcut used to toggle the element picker.
-toolbox.elementPicker.key=CmdOrCtrl+Shift+C
+toolbox.elementPicker.key=CmdOrCtrl+Shift+L
 
 # LOCALIZATION NOTE (toolbox.elementPicker.mac.key)
 # Key shortcut used to toggle the element picker for macOS.
-toolbox.elementPicker.mac.key=Cmd+Opt+C
+toolbox.elementPicker.mac.key=Cmd+Opt+L
 
 # LOCALIZATION NOTE (toolbox.viewCssSourceInStyleEditor.label)
 # Used as a message in either tooltips or contextual menu items to open the



================================================
FILE: src/devtools/server/actors/animation-type-longhand-js.patch
================================================
diff --git a/devtools/server/actors/animation-type-longhand.js b/devtools/server/actors/animation-type-longhand.js
index f6cd7b4599ab74fbdc301f316fd7ecc2e2eb841c..8279a943803ca75fe0a231606ae26a678fcc0b60 100644
--- a/devtools/server/actors/animation-type-longhand.js
+++ b/devtools/server/actors/animation-type-longhand.js
@@ -342,6 +342,7 @@ exports.ANIMATION_TYPE_FOR_LONGHANDS = [
       "transform-origin",
       "translate",
       "-moz-window-transform",
+      "-zen-window-transform-origin",
       "-webkit-line-clamp",
     ]),
   ],



================================================
FILE: src/devtools/startup/DevToolsStartup-sys-mjs.patch
================================================
diff --git a/devtools/startup/DevToolsStartup.sys.mjs b/devtools/startup/DevToolsStartup.sys.mjs
index 40926f9620bfe8ecc1d295026b219f5b7f83860c..6811d0681c9c9b8555f0c7f72d6cd3cd42a0b1bd 100644
--- a/devtools/startup/DevToolsStartup.sys.mjs
+++ b/devtools/startup/DevToolsStartup.sys.mjs
@@ -835,6 +835,7 @@ DevToolsStartup.prototype = {
     // account (see bug 832984).
     const mainKeyset = doc.getElementById("mainKeyset");
     mainKeyset.parentNode.insertBefore(keyset, mainKeyset);
+    window.dispatchEvent(new window.Event("zen-devtools-keyset-added"));
   },
 
   /**



================================================
FILE: src/devtools/startup/locales/en-US/key-shortcuts-ftl.patch
================================================
diff --git a/devtools/startup/locales/en-US/key-shortcuts.ftl b/devtools/startup/locales/en-US/key-shortcuts.ftl
index bbc2c7ca1e8c3544289407371457790cf8b0fa65..f307e5cb75df9175106184f97b2f500c1adf9fca 100644
--- a/devtools/startup/locales/en-US/key-shortcuts.ftl
+++ b/devtools/startup/locales/en-US/key-shortcuts.ftl
@@ -13,7 +13,7 @@ devtools-commandkey-browser-console = J
 # Key pressed to toggle on the Responsive Design Mode
 devtools-commandkey-responsive-design-mode = M
 # Key pressed to open a toolbox with the inspector panel selected
-devtools-commandkey-inspector = C
+devtools-commandkey-inspector = L
 # Key pressed to open a toolbox with the web console panel selected
 devtools-commandkey-webconsole = K
 # Key pressed to open a toolbox with the debugger panel selected



================================================
FILE: src/docshell/base/nsAboutRedirector-cpp.patch
================================================
diff --git a/docshell/base/nsAboutRedirector.cpp b/docshell/base/nsAboutRedirector.cpp
index 49779b7cc79a602e764c8346e17a02310808aab8..1b1000cf7177bd83ca6d6c484a1c3b48c7216fc9 100644
--- a/docshell/base/nsAboutRedirector.cpp
+++ b/docshell/base/nsAboutRedirector.cpp
@@ -117,7 +117,7 @@ static const RedirEntry kRedirMap[] = {
     {"crashes", "chrome://global/content/crashes.html",
      nsIAboutModule::IS_SECURE_CHROME_UI},
 #endif
-    {"credits", "https://www.mozilla.org/credits/",
+    {"credits", "https://zen-browser.app/about/",
      nsIAboutModule::URI_SAFE_FOR_UNTRUSTED_CONTENT |
          nsIAboutModule::URI_MUST_LOAD_IN_CHILD},
     {"fingerprintingprotection",



================================================
FILE: src/dom/base/Document-cpp.patch
================================================
diff --git a/dom/base/Document.cpp b/dom/base/Document.cpp
index 7bbbaf6fb936eda9cf87f164f93f4a96a50cf733..b1a50d8b4932f60f882b7f60c7d65ce3a9fde99d 100644
--- a/dom/base/Document.cpp
+++ b/dom/base/Document.cpp
@@ -461,6 +461,7 @@
 #include "prtime.h"
 #include "prtypes.h"
 #include "xpcpublic.h"
+#include "mozilla/ZenStyleSheetCache.h"
 
 // clang-format off
 #include "mozilla/Encoding.h"
@@ -3446,6 +3447,10 @@ void Document::FillStyleSetUserAndUASheets() {
   for (StyleSheet* sheet : *sheetService->UserStyleSheets()) {
     styleSet.AppendStyleSheet(*sheet);
   }
+  if (auto sheet = zen::ZenStyleSheetCache::Singleton()->GetModsSheet(); sheet && IsInChromeDocShell()) {
+    // The mods sheet is only used in the chrome docshell.
+    styleSet.AppendStyleSheet(*sheet);
+  }
 
   StyleSheet* sheet = IsInChromeDocShell() ? cache->GetUserChromeSheet()
                                            : cache->GetUserContentSheet();



================================================
FILE: src/dom/base/use_counter_metrics-yaml.patch
================================================
diff --git a/dom/base/use_counter_metrics.yaml b/dom/base/use_counter_metrics.yaml
index 84aa1ac40d01bc73f5039bd5c589c3fdf3a6c8ce..090f9e1eef46ed45c0a98a73013ad59faeb3414f 100644
--- a/dom/base/use_counter_metrics.yaml
+++ b/dom/base/use_counter_metrics.yaml
@@ -22106,6 +22106,22 @@ use.counter.css.page:
     send_in_pings:
       - use-counters
 
+  css_zen_window_transform_origin:
+    type: counter
+    description: >
+      Whether a page used the CSS property -zen-window-transform-origin.
+      Compare against `use.counter.top_level_content_documents_destroyed`
+      to calculate the rate.
+    bugs:
+      - https://bugzilla.mozilla.org/show_bug.cgi?id=1852098
+    data_reviews:
+      - https://bugzilla.mozilla.org/show_bug.cgi?id=1852098
+    notification_emails:
+      - dom-core@mozilla.com
+    expires: never
+    send_in_pings:
+      - use-counters
+
   css_transform_origin:
     type: counter
     description: >
@@ -34076,6 +34092,22 @@ use.counter.css.doc:
     send_in_pings:
       - use-counters
 
+  css_zen_window_transform_origin:
+    type: counter
+    description: >
+      Whether a document used the CSS property -zen-window-transform-origin.
+      Compare against `use.counter.content_documents_destroyed`
+      to calculate the rate.
+    bugs:
+      - https://bugzilla.mozilla.org/show_bug.cgi?id=1852098
+    data_reviews:
+      - https://bugzilla.mozilla.org/show_bug.cgi?id=1852098
+    notification_emails:
+      - dom-core@mozilla.com
+    expires: never
+    send_in_pings:
+      - use-counters
+
   css_transform_origin:
     type: counter
     description: >



================================================
FILE: src/dom/chrome-webidl/MediaController-webidl.patch
================================================
diff --git a/dom/chrome-webidl/MediaController.webidl b/dom/chrome-webidl/MediaController.webidl
index 20f416d1c3b41798e0f90bbac5db40ed2a4ab000..1c5d893f9166a3aa7bc7802bb0d1207d169033ee 100644
--- a/dom/chrome-webidl/MediaController.webidl
+++ b/dom/chrome-webidl/MediaController.webidl
@@ -20,6 +20,12 @@ enum MediaControlKey {
   "stop",
 };
 
+dictionary MediaControllerPositionState {
+  required double duration;
+  required double playbackRate;
+  required double position;
+};
+
 /**
  * MediaController is used to control media playback for a tab, and each tab
  * would only have one media controller, which can be accessed from the
@@ -32,10 +38,14 @@ interface MediaController : EventTarget {
   readonly attribute boolean isAudible;
   readonly attribute boolean isPlaying;
   readonly attribute MediaSessionPlaybackState playbackState;
+  readonly attribute boolean isBeingUsedInPIPModeOrFullscreen;
 
   [Throws]
   MediaMetadataInit getMetadata();
 
+  [Throws]
+  MediaControllerPositionState getPositionState();
+
   [Frozen, Cached, Pure]
   readonly attribute sequence<MediaControlKey> supportedKeys;
 



================================================
FILE: src/dom/media/mediacontrol/MediaController-cpp.patch
================================================
diff --git a/dom/media/mediacontrol/MediaController.cpp b/dom/media/mediacontrol/MediaController.cpp
index 8a1735b70f2003b7ee554230c4ad93c68793fce2..86d86a83545287356be5e455501b8c30062adc3a 100644
--- a/dom/media/mediacontrol/MediaController.cpp
+++ b/dom/media/mediacontrol/MediaController.cpp
@@ -51,6 +51,25 @@ void MediaController::GetSupportedKeys(
   }
 }
 
+void MediaController::GetPositionState(MediaControllerPositionState& aPositionState, ErrorResult& aRv) {
+  if (!IsActive() || mShutdown) {
+    LOG("Cannot get position state: controller is inactive or shut down");
+    aRv.Throw(NS_ERROR_NOT_AVAILABLE);
+    return;
+  }
+
+  Maybe<PositionState> currentPositionState = GetCurrentPositionState();
+  if (!currentPositionState) {
+    LOG("No position state available for controller %" PRId64, Id());
+    aRv.Throw(NS_ERROR_NOT_AVAILABLE);
+    return;
+  }
+
+  aPositionState.mDuration = currentPositionState->mDuration;
+  aPositionState.mPosition = currentPositionState->mLastReportedPlaybackPosition;
+  aPositionState.mPlaybackRate = currentPositionState->mPlaybackRate;
+}
+
 void MediaController::GetMetadata(MediaMetadataInit& aMetadata,
                                   ErrorResult& aRv) {
   if (!IsActive() || mShutdown) {
@@ -412,6 +431,7 @@ void MediaController::SetIsInPictureInPictureMode(
   ForceToBecomeMainControllerIfNeeded();
   UpdateDeactivationTimerIfNeeded();
   mPictureInPictureModeChangedEvent.Notify(mIsInPictureInPictureMode);
+  DispatchAsyncEvent(u"pictureinpicturemodechange"_ns);
 }
 
 void MediaController::NotifyMediaFullScreenState(uint64_t aBrowsingContextId,



================================================
FILE: src/dom/media/mediacontrol/MediaController-h.patch
================================================
diff --git a/dom/media/mediacontrol/MediaController.h b/dom/media/mediacontrol/MediaController.h
index 327ea6201304b3d26a2b4f0267b1c926c73ee9e4..ad14bb2572c29df4897672e14afc185b9b517da4 100644
--- a/dom/media/mediacontrol/MediaController.h
+++ b/dom/media/mediacontrol/MediaController.h
@@ -90,6 +90,7 @@ class MediaController final : public DOMEventTargetHelper,
                        JS::Handle<JSObject*> aGivenProto) override;
   void GetSupportedKeys(nsTArray<MediaControlKey>& aRetVal) const;
   void GetMetadata(MediaMetadataInit& aMetadata, ErrorResult& aRv);
+  void GetPositionState(MediaControllerPositionState& aPositionState, ErrorResult& aRv);
   IMPL_EVENT_HANDLER(activated);
   IMPL_EVENT_HANDLER(deactivated);
   IMPL_EVENT_HANDLER(metadatachange);



================================================
FILE: src/dom/media/mediacontrol/MediaStatusManager-cpp.patch
================================================
diff --git a/dom/media/mediacontrol/MediaStatusManager.cpp b/dom/media/mediacontrol/MediaStatusManager.cpp
index c1282b8b1d99327df972c8f0aa848816fcbc4b2b..acaaff389838886267f96993a7f0d27950f08624 100644
--- a/dom/media/mediacontrol/MediaStatusManager.cpp
+++ b/dom/media/mediacontrol/MediaStatusManager.cpp
@@ -427,7 +427,8 @@ void MediaStatusManager::UpdateGuessedPositionState(
     return;
   }
 
-  mPositionStateChangedEvent.Notify(GetCurrentPositionState());
+  // Workaround to position state getting stuck after seek
+  mPositionStateChangedEvent.Notify(aGuessedState);
 }
 
 void MediaStatusManager::NotifySupportedKeysChangedIfNeeded(



================================================
FILE: src/dom/media/mediaelement/HTMLMediaElement-cpp.patch
================================================
diff --git a/dom/media/mediaelement/HTMLMediaElement.cpp b/dom/media/mediaelement/HTMLMediaElement.cpp
index 935c9783ceb66ad8c6c8748ca3113664f5b114d3..a9f256a83b68940c829b24a19c67c56f11a01765 100644
--- a/dom/media/mediaelement/HTMLMediaElement.cpp
+++ b/dom/media/mediaelement/HTMLMediaElement.cpp
@@ -451,6 +451,7 @@ class HTMLMediaElement::MediaControlKeyListener final
     // audible state. Therefore, in that case we would noitfy the audible state
     // when media starts playing.
     if (mState == MediaPlaybackState::ePlayed) {
+      NotifyMediaPositionState();
       NotifyAudibleStateChanged(mIsOwnerAudible
                                     ? MediaAudibleState::eAudible
                                     : MediaAudibleState::eInaudible);
@@ -7247,6 +7248,9 @@ void HTMLMediaElement::FireTimeUpdate(TimeupdateType aType) {
     QueueTask(std::move(runner));
     mQueueTimeUpdateRunnerTime = TimeStamp::Now();
     mLastCurrentTime = CurrentTime();
+    if (aType == TimeupdateType::eMandatory) {
+      mMediaControlKeyListener->NotifyMediaPositionState();
+    }
   }
   if (mFragmentEnd >= 0.0 && CurrentTime() >= mFragmentEnd) {
     Pause();



================================================
FILE: src/external-patches/manifest.json
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
[
  {
    "type": "phabricator",
    "id": "D279007",
    "name": "Fix MacOS Crash on Shutdown Firefox 149"
  },
  {
    "type": "local",
    "path": "firefox/no_liquid_glass_icon.patch"
  },
  {
    "type": "patch",
    "url": "https://codeberg.org/librewolf/source/raw/branch/main/patches/firefox-in-ua.patch",
    "dest": "librewolf",
    "replaces": {
      // They don't correctly export this patch, so we need to replace
      // the parameter's help description with the correct one.
      "application": "Application"
    }
  }
]



================================================
FILE: src/external-patches/firefox/README.md
================================================
# Temporal patches done to Firefox

**IMPORTANT**: Once they start failing (on new Firefox releases), they should be removed as these patches are imported from future versions of Firefox as temporary solutions while we wait.



================================================
FILE: src/external-patches/firefox/fix_macos_crash_on_shutdown_firefox_149.patch
================================================
diff --git a/toolkit/components/asyncshutdown/AsyncShutdown.sys.mjs b/toolkit/components/asyncshutdown/AsyncShutdown.sys.mjs
--- a/toolkit/components/asyncshutdown/AsyncShutdown.sys.mjs
+++ b/toolkit/components/asyncshutdown/AsyncShutdown.sys.mjs
@@ -490,10 +490,27 @@
       if (accepted) {
         return () => spinner.observe();
       }
       return undefined;
     },
+
+    /**
+     * Reset the phase after a call to _trigger().
+     * For testing purposes only.
+     */
+    get _reset() {
+      let accepted = Services.prefs.getBoolPref(
+        "toolkit.asyncshutdown.testing",
+        false
+      );
+      if (accepted) {
+        return () => {
+          spinner = new Spinner(topic);
+        };
+      }
+      return undefined;
+    },
   });
   gPhases.set(topic, phase);
   return phase;
 }
 
diff --git a/toolkit/components/contentrelevancy/ContentRelevancyManager.sys.mjs b/toolkit/components/contentrelevancy/ContentRelevancyManager.sys.mjs
--- a/toolkit/components/contentrelevancy/ContentRelevancyManager.sys.mjs
+++ b/toolkit/components/contentrelevancy/ContentRelevancyManager.sys.mjs
@@ -104,18 +104,14 @@
     this._nimbusUpdateCallback = this.#onNimbusUpdate.bind(this);
     // This will handle both Nimbus updates and pref changes.
     lazy.NimbusFeatures.contentRelevancy.onUpdate(this._nimbusUpdateCallback);
     this.#initialized = true;
 
-    if (
-      Services.startup.isInOrBeyondShutdownPhase(
-        Ci.nsIAppStartup.SHUTDOWN_PHASE_APPSHUTDOWNCONFIRMED
-      )
-    ) {
+    if (lazy.AsyncShutdown.profileChangeTeardown.isClosed) {
       // Corner case, where we're already in the shutdown phase while being constructed.  In this
       // case, uninitialize immediately to deregister callback handlers
-      // (#https://bugzilla.mozilla.org/show_bug.cgi?id=1990569#c11)
+      // (https://bugzilla.mozilla.org/show_bug.cgi?id=1990569#c11)
       this.uninit();
     } else {
       // If we're not in the above corner case, then register a shutdown blocker to uninitialize.
       // Interrupt sooner prior to the `profile-before-change` phase to allow
       // all the in-progress IOs to exit.
diff --git a/toolkit/components/contentrelevancy/tests/xpcshell/test_ContentRelevancyManager.js b/toolkit/components/contentrelevancy/tests/xpcshell/test_ContentRelevancyManager.js
--- a/toolkit/components/contentrelevancy/tests/xpcshell/test_ContentRelevancyManager.js
+++ b/toolkit/components/contentrelevancy/tests/xpcshell/test_ContentRelevancyManager.js
@@ -149,10 +149,39 @@
   await TestUtils.waitForCondition(
     () => ContentRelevancyManager.interrupt.calledOnce,
     "The interrupt shutdown blocker should be called"
   );
 
+  AsyncShutdown.profileChangeTeardown._reset();
+  Services.prefs.clearUserPref("toolkit.asyncshutdown.testing");
+  Services.prefs.clearUserPref(PREF_CONTENT_RELEVANCY_ENABLED);
+  gSandbox.restore();
+});
+
+add_task(async function test_dont_register_blocker_if_in_shutdown() {
+  // Test a corner case: the ContentRelevancyManager is initialized during shutdown.
+  //
+  // In this case it shouldn't register a shutdown blocker, because it's too late to do that.
+  // Instead, it should just immediately uninitialize itself.
+  //
+  // See https://bugzilla.mozilla.org/show_bug.cgi?id=1990569
+  ContentRelevancyManager.uninit();
+  Services.prefs.setBoolPref(PREF_CONTENT_RELEVANCY_ENABLED, true);
+  await TestUtils.waitForTick();
+
+  gSandbox.spy(ContentRelevancyManager, "interrupt");
+
+  // Simulate shutdown.
+  Services.prefs.setBoolPref("toolkit.asyncshutdown.testing", true);
+  AsyncShutdown.profileChangeTeardown._trigger();
+  ContentRelevancyManager.init();
+  Assert.ok(
+    !ContentRelevancyManager.initialized,
+    "ContentRelevancyManager should have uninitialized itself"
+  );
+
+  AsyncShutdown.profileChangeTeardown._reset();
   Services.prefs.clearUserPref("toolkit.asyncshutdown.testing");
   Services.prefs.clearUserPref(PREF_CONTENT_RELEVANCY_ENABLED);
   gSandbox.restore();
 });
 
diff --git a/toolkit/modules/AppServicesTracing.sys.mjs b/toolkit/modules/AppServicesTracing.sys.mjs
--- a/toolkit/modules/AppServicesTracing.sys.mjs
+++ b/toolkit/modules/AppServicesTracing.sys.mjs
@@ -9,10 +9,11 @@
  */
 
 const lazy = {};
 
 ChromeUtils.defineESModuleGetters(lazy, {
+  AsyncShutdown: "resource://gre/modules/AsyncShutdown.sys.mjs",
   // eslint-disable-next-line mozilla/use-console-createInstance
   Log: "resource://gre/modules/Log.sys.mjs",
 });
 
 import {
@@ -118,20 +119,33 @@
   }
 }
 
 /** A singleton uniffi callback interface. */
 class TracingEventHandler extends EventSink {
-  static OBSERVER_NAME = "xpcom-will-shutdown";
-
   constructor() {
     super();
     // Map targets to CallbackLists
     this.targetCallbackLists = new Map();
     // CallbackList for callbacks registered with registerMinLevelEventSink
     this.minLevelCallbackList = new CallbackList();
 
-    Services.obs.addObserver(this, TracingEventHandler.OBSERVER_NAME);
+    // Choose `profileBeforeChange` to call `#close()` and deregister our callbacks.
+    //
+    // Most other components will shutdown during the `profileChangeTeardown` phase, since that's
+    // the last opportunity to write to the profile directory.  By choosing the next one, we ensure
+    // we can forward any logging that happens when those components shutdown.
+    if (lazy.AsyncShutdown.profileBeforeChange.isClosed) {
+      // Corner case, where we're already in the shutdown phase while being constructed.  In this
+      // case, uninitialize immediately.
+      this.#close();
+    } else {
+      // If we're not in the above corner case, then register a shutdown blocker to uninitialize.
+      lazy.AsyncShutdown.profileBeforeChange.addBlocker(
+        "TracingEventHandler: deregister callbacks",
+        () => this.#close()
+      );
+    }
   }
 
   register(target, level, callback) {
     if (this.targetCallbackLists === null) {
       lazy.console.trace(
@@ -223,19 +237,17 @@
       targetList.processEvent(event);
     }
     this.minLevelCallbackList.processEvent(event);
   }
 
-  observe(_aSubject, aTopic, _aData) {
-    if (aTopic == TracingEventHandler.OBSERVER_NAME) {
-      for (let target of this.targetCallbackLists.keys()) {
-        unregisterEventSink(target);
-      }
-      unregisterMinLevelEventSink();
-      this.targetCallbackLists = null;
-      this.minLevelCallbackList = null;
+  #close() {
+    for (let target of this.targetCallbackLists.keys()) {
+      unregisterEventSink(target);
     }
+    unregisterMinLevelEventSink();
+    this.targetCallbackLists = null;
+    this.minLevelCallbackList = null;
   }
 }
 
 // the singleton.
 let tracingEventHandler = new TracingEventHandler();




================================================
FILE: src/external-patches/firefox/no_liquid_glass_icon.patch
================================================
diff --git a/browser/app/macbuild/Contents/Info.plist.in b/browser/app/macbuild/Contents/Info.plist.in
index 0c4fb837a24490c66b284abf2bd9299c2e021de0..ea28831b90662b12bdcb137c35b6bb83626c77e7 100644
--- a/browser/app/macbuild/Contents/Info.plist.in
+++ b/browser/app/macbuild/Contents/Info.plist.in
@@ -190,8 +190,6 @@
 	<string>@MAC_APP_NAME@ @APP_VERSION@</string>
 	<key>CFBundleIconFile</key>
 	<string>firefox.icns</string>
-	<key>CFBundleIconName</key>
-	<string>AppIcon</string>
 	<key>CFBundleIdentifier</key>
 	<string>@MOZ_MACBUNDLE_ID@</string>
 	<key>CFBundleInfoDictionaryVersion</key>



================================================
FILE: src/external-patches/firefox/.gitkeep
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.



================================================
FILE: src/external-patches/librewolf/README.md
================================================
# Patches imported from LibreWolf

Firefox sometimes makes changes without considering the impact on forks. This is the case of the patches that are imported from LibreWolf, which are already present in LibreWolf but not yet (or never) present in Firefox. Thanks to LibreWolf for making these patches available and for their work in maintaining them. We will keep these patches as long as they are needed, and we will remove them once they are no longer necessary (for example, when they are merged into Firefox or when the issue they solve is no longer present).



================================================
FILE: src/external-patches/librewolf/firefox-in-ua.patch
================================================
diff --git a/toolkit/moz.configure b/toolkit/moz.configure
--- a/toolkit/moz.configure
+++ b/toolkit/moz.configure
@@ -28,7 +28,7 @@ project_flag(
 
 project_flag(
     env="MOZ_APP_UA_NAME",
-    default="",
+    default="Firefox",
     nargs=1,
     help="Application name in the User Agent string",
 )



================================================
FILE: src/gfx/wr/webrender/src/picture-rs.patch
================================================
diff --git a/gfx/wr/webrender/src/picture.rs b/gfx/wr/webrender/src/picture.rs
index 79e062a40ed097fa6614abc6b5201f868c447733..91c10d17f0dca55eafec522ddc94b91bf4cd2cfb 100644
--- a/gfx/wr/webrender/src/picture.rs
+++ b/gfx/wr/webrender/src/picture.rs
@@ -8121,7 +8121,12 @@ fn get_relative_scale_offset(
         CoordinateSpaceMapping::Local => ScaleOffset::identity(),
         CoordinateSpaceMapping::ScaleOffset(scale_offset) => scale_offset,
         CoordinateSpaceMapping::Transform(m) => {
-            ScaleOffset::from_transform(&m).expect("bug: pictures caches don't support complex transforms")
+            // Temporary fix when opening extensions (#34)
+            // TODO: Look more into this
+            ScaleOffset {
+                scale: Vector2D::new(m.m11, m.m22),
+                offset: Vector2D::new(m.m41, m.m42),
+            }
         }
     };
 



================================================
FILE: src/image/decoders/nsJXLDecoder-cpp.patch
================================================
diff --git a/image/decoders/nsJXLDecoder.cpp b/image/decoders/nsJXLDecoder.cpp
index ffb7f3cd51e1d0e480bf8ac5e936a90c11f0c93d..378ae56d7fa99fbe8bdea2e689949994bbdf8034 100644
--- a/image/decoders/nsJXLDecoder.cpp
+++ b/image/decoders/nsJXLDecoder.cpp
@@ -45,9 +45,20 @@ nsJXLDecoder::nsJXLDecoder(RasterImage* aImage)
              Transition::TerminateSuccess()),
       mDecoder(JxlDecoderMake(nullptr)),
       mParallelRunner(
-          JxlThreadParallelRunnerMake(nullptr, PreferredThreadCount())) {
-  JxlDecoderSubscribeEvents(mDecoder.get(),
-                            JXL_DEC_BASIC_INFO | JXL_DEC_FULL_IMAGE);
+        JxlThreadParallelRunnerMake(nullptr, PreferredThreadCount())),
+      mUsePipeTransform(true),
+      mCMSLine(nullptr),
+      mNumFrames(0),
+      mTimeout(FrameTimeout::Forever()),
+      mSurfaceFormat(SurfaceFormat::OS_RGBX),
+      mContinue(false) {
+  int events = JXL_DEC_BASIC_INFO | JXL_DEC_FRAME | JXL_DEC_FULL_IMAGE;
+
+  if (mCMSMode != CMSMode::Off) {
+    events |= JXL_DEC_COLOR_ENCODING;
+  }
+
+  JxlDecoderSubscribeEvents(mDecoder.get(), events);
   JxlDecoderSetParallelRunner(mDecoder.get(), JxlThreadParallelRunner,
                               mParallelRunner.get());
 
@@ -58,6 +69,10 @@ nsJXLDecoder::nsJXLDecoder(RasterImage* aImage)
 nsJXLDecoder::~nsJXLDecoder() {
   MOZ_LOG(sJXLLog, LogLevel::Debug,
           ("[this=%p] nsJXLDecoder::~nsJXLDecoder", this));
+
+  if (mCMSLine) {
+    free(mCMSLine);
+  }
 }
 
 size_t nsJXLDecoder::PreferredThreadCount() {
@@ -86,14 +101,20 @@ LexerResult nsJXLDecoder::DoDecode(SourceBufferIterator& aIterator,
 
 LexerTransition<nsJXLDecoder::State> nsJXLDecoder::ReadJXLData(
     const char* aData, size_t aLength) {
-  const uint8_t* input = (const uint8_t*)aData;
-  size_t length = aLength;
-  if (mBuffer.length() != 0) {
-    JXL_TRY_BOOL(mBuffer.append(aData, aLength));
-    input = mBuffer.begin();
-    length = mBuffer.length();
+  // Ignore data we have already read.
+  // This will only occur as a result of a yield for animation.
+  if (!mContinue) {
+    const uint8_t* input = (const uint8_t*)aData;
+    size_t length = aLength;
+    if (mBuffer.length() != 0) {
+      JXL_TRY_BOOL(mBuffer.append(aData, aLength));
+      input = mBuffer.begin();
+      length = mBuffer.length();
+    }
+
+    JXL_TRY(JxlDecoderSetInput(mDecoder.get(), input, length));
   }
-  JXL_TRY(JxlDecoderSetInput(mDecoder.get(), input, length));
+  mContinue = false;
 
   while (true) {
     JxlDecoderStatus status = JxlDecoderProcessInput(mDecoder.get());
@@ -106,51 +127,238 @@ LexerTransition<nsJXLDecoder::State> nsJXLDecoder::ReadJXLData(
         size_t remaining = JxlDecoderReleaseInput(mDecoder.get());
         mBuffer.clear();
         JXL_TRY_BOOL(mBuffer.append(aData + aLength - remaining, remaining));
+
+        if (mNumFrames == 0 && InFrame()) {
+          // If an image was flushed by JxlDecoderFlushImage, then we know that
+          // JXL_DEC_FRAME has already been run and there is a pipe.
+          if (JxlDecoderFlushImage(mDecoder.get()) == JXL_DEC_SUCCESS) {
+            // A full frame partial image is written to the buffer.
+            mPipe.ResetToFirstRow();
+            for (uint8_t* rowPtr = mOutBuffer.begin();
+                 rowPtr < mOutBuffer.end(); rowPtr += mInfo.xsize * mChannels) {
+              uint8_t* rowToWrite = rowPtr;
+
+              if (!mUsePipeTransform && mTransform) {
+                qcms_transform_data(mTransform, rowToWrite, mCMSLine,
+                                    mInfo.xsize);
+                rowToWrite = mCMSLine;
+              }
+
+              mPipe.WriteBuffer(reinterpret_cast<uint32_t*>(rowToWrite));
+            }
+
+            if (Maybe<SurfaceInvalidRect> invalidRect =
+                    mPipe.TakeInvalidRect()) {
+              PostInvalidation(invalidRect->mInputSpaceRect,
+                               Some(invalidRect->mOutputSpaceRect));
+            }
+          }
+        }
+
         return Transition::ContinueUnbuffered(State::JXL_DATA);
       }
 
       case JXL_DEC_BASIC_INFO: {
         JXL_TRY(JxlDecoderGetBasicInfo(mDecoder.get(), &mInfo));
         PostSize(mInfo.xsize, mInfo.ysize);
+
         if (WantsFrameCount()) {
-          PostFrameCount(/* aFrameCount */ 1);
+          // We start at 1 as additional frames are added in
+          PostFrameCount(1);
         }
+
         if (mInfo.alpha_bits > 0) {
+          mSurfaceFormat = SurfaceFormat::OS_RGBA;
           PostHasTransparency();
         }
+
+        if (!mInfo.have_animation && IsMetadataDecode()) {
+          return Transition::TerminateSuccess();
+        }
+
+        // If CMS is off or the image is RGB, always output in RGBA.
+        // If the image is grayscale, then the pipe transform can't be used.
+        if (mCMSMode != CMSMode::Off) {
+          mChannels = mInfo.num_color_channels == 1
+                          ? 1 + (mInfo.alpha_bits > 0 ? 1 : 0)
+                          : 4;
+        } else {
+          mChannels = 4;
+        }
+
+        mFormat = {mChannels, JXL_TYPE_UINT8, JXL_LITTLE_ENDIAN, 0};
+
+        break;
+      }
+
+      case JXL_DEC_COLOR_ENCODING: {
+        size_t size = 0;
+        JXL_TRY(JxlDecoderGetICCProfileSize(
+            mDecoder.get(), JXL_COLOR_PROFILE_TARGET_DATA, &size))
+        std::vector<uint8_t> icc_profile(size);
+        JXL_TRY(JxlDecoderGetColorAsICCProfile(mDecoder.get(),
+                                               JXL_COLOR_PROFILE_TARGET_DATA,
+                                               icc_profile.data(), size))
+
+        mInProfile = qcms_profile_from_memory((char*)icc_profile.data(), size);
+
+        uint32_t profileSpace = qcms_profile_get_color_space(mInProfile);
+
+        // Skip color management if color profile is not compatible with number
+        // of channels.
+        if (profileSpace != icSigRgbData &&
+            (mInfo.num_color_channels == 3 || profileSpace != icSigGrayData)) {
+          break;
+        }
+
+        mUsePipeTransform =
+            profileSpace == icSigRgbData && mInfo.num_color_channels == 3;
+
+        qcms_data_type inType;
+        if (mInfo.num_color_channels == 3) {
+          inType = QCMS_DATA_RGBA_8;
+        } else if (mInfo.alpha_bits > 0) {
+          inType = QCMS_DATA_GRAYA_8;
+        } else {
+          inType = QCMS_DATA_GRAY_8;
+        }
+
+        if (!mUsePipeTransform) {
+          mCMSLine =
+              static_cast<uint8_t*>(malloc(sizeof(uint32_t) * mInfo.xsize));
+        }
+
+        int intent = gfxPlatform::GetRenderingIntent();
+        if (intent == -1) {
+          intent = qcms_profile_get_rendering_intent(mInProfile);
+        }
+
+        mTransform =
+            qcms_transform_create(mInProfile, inType, GetCMSOutputProfile(),
+                                  QCMS_DATA_RGBA_8, (qcms_intent)intent);
+
+        break;
+      }
+
+      case JXL_DEC_FRAME: {
+        if (mInfo.have_animation) {
+          JXL_TRY(JxlDecoderGetFrameHeader(mDecoder.get(), &mFrameHeader));
+          int32_t duration = (int32_t)(1000.0 * mFrameHeader.duration *
+                                       mInfo.animation.tps_denominator /
+                                       mInfo.animation.tps_numerator);
+
+          mTimeout = FrameTimeout::FromRawMilliseconds(duration);
+
+          if (!HasAnimation()) {
+            PostIsAnimated(mTimeout);
+          }
+        }
+
+        bool is_last = mInfo.have_animation ? mFrameHeader.is_last : true;
+        MOZ_LOG(sJXLLog, LogLevel::Debug,
+                ("[this=%p] nsJXLDecoder::ReadJXLData - frame %d, is_last %d, "
+                 "metadata decode %d, first frame decode %d\n",
+                 this, mNumFrames, is_last, IsMetadataDecode(),
+                 IsFirstFrameDecode()));
+
         if (IsMetadataDecode()) {
           return Transition::TerminateSuccess();
         }
+
+        OrientedIntSize size(mInfo.xsize, mInfo.ysize);
+
+        Maybe<AnimationParams> animParams;
+        if (!IsFirstFrameDecode()) {
+          animParams.emplace(FullFrame().ToUnknownRect(), mTimeout, mNumFrames,
+                             BlendMethod::SOURCE, DisposalMethod::CLEAR);
+        }
+
+        SurfacePipeFlags pipeFlags = SurfacePipeFlags();
+        if (mNumFrames == 0) {
+          // The first frame may be displayed progressively.
+          pipeFlags |= SurfacePipeFlags::PROGRESSIVE_DISPLAY;
+        }
+        if (mSurfaceFormat == SurfaceFormat::OS_RGBA &&
+            !(GetSurfaceFlags() & SurfaceFlags::NO_PREMULTIPLY_ALPHA)) {
+          pipeFlags |= SurfacePipeFlags::PREMULTIPLY_ALPHA;
+        }
+
+        qcms_transform* pipeTransform =
+          mUsePipeTransform ? mTransform : nullptr;
+
+        Maybe<SurfacePipe> pipe = SurfacePipeFactory::CreateSurfacePipe(
+            this, size, OutputSize(), FullFrame(), SurfaceFormat::R8G8B8A8,
+            mSurfaceFormat, animParams, pipeTransform, pipeFlags);
+
+        if (!pipe) {
+          MOZ_LOG(sJXLLog, LogLevel::Debug,
+                  ("[this=%p] nsJXLDecoder::ReadJXLData - no pipe\n", this));
+          return Transition::TerminateFailure();
+        }
+
+        mPipe = std::move(*pipe);
+
         break;
       }
 
       case JXL_DEC_NEED_IMAGE_OUT_BUFFER: {
         size_t size = 0;
-        JxlPixelFormat format{4, JXL_TYPE_UINT8, JXL_LITTLE_ENDIAN, 0};
-        JXL_TRY(JxlDecoderImageOutBufferSize(mDecoder.get(), &format, &size));
+        JXL_TRY(JxlDecoderImageOutBufferSize(mDecoder.get(), &mFormat, &size));
 
         mOutBuffer.clear();
         JXL_TRY_BOOL(mOutBuffer.growBy(size));
-        JXL_TRY(JxlDecoderSetImageOutBuffer(mDecoder.get(), &format,
+        JXL_TRY(JxlDecoderSetImageOutBuffer(mDecoder.get(), &mFormat,
                                             mOutBuffer.begin(), size));
         break;
       }
 
       case JXL_DEC_FULL_IMAGE: {
-        OrientedIntSize size(mInfo.xsize, mInfo.ysize);
-        Maybe<SurfacePipe> pipe = SurfacePipeFactory::CreateSurfacePipe(
-            this, size, OutputSize(), FullFrame(), SurfaceFormat::R8G8B8A8,
-            SurfaceFormat::OS_RGBA, Nothing(), nullptr, SurfacePipeFlags());
+        mPipe.ResetToFirstRow();
+
         for (uint8_t* rowPtr = mOutBuffer.begin(); rowPtr < mOutBuffer.end();
-             rowPtr += mInfo.xsize * 4) {
-          pipe->WriteBuffer(reinterpret_cast<uint32_t*>(rowPtr));
+             rowPtr += mInfo.xsize * mChannels) {
+            uint8_t* rowToWrite = rowPtr;
+
+            if (!mUsePipeTransform && mTransform) {
+              qcms_transform_data(mTransform, rowToWrite, mCMSLine, mInfo.xsize);
+              rowToWrite = mCMSLine;
+            }
+
+            mPipe.WriteBuffer(reinterpret_cast<uint32_t*>(rowToWrite));
         }
 
-        if (Maybe<SurfaceInvalidRect> invalidRect = pipe->TakeInvalidRect()) {
+        if (Maybe<SurfaceInvalidRect> invalidRect = mPipe.TakeInvalidRect()) {
           PostInvalidation(invalidRect->mInputSpaceRect,
                            Some(invalidRect->mOutputSpaceRect));
         }
-        PostFrameStop();
+
+        Opacity opacity = (mSurfaceFormat == SurfaceFormat::OS_RGBA)
+                              ? Opacity::SOME_TRANSPARENCY
+                              : Opacity::FULLY_OPAQUE;
+        PostFrameStop(opacity);
+
+        if (!IsFirstFrameDecode() && mInfo.have_animation &&
+            !mFrameHeader.is_last) {
+          mNumFrames++;
+          mContinue = true;
+          if (WantsFrameCount()) {
+            // If we want frame count, report it now.
+            PostFrameCount(mNumFrames + 1);
+          }
+          // Notify for a new frame but there may be data in the current buffer
+          // that can immediately be processed.
+          return Transition::ToAfterYield(State::JXL_DATA);
+        }
+        [[fallthrough]];  // We are done.
+      }
+
+      case JXL_DEC_SUCCESS: {
+        // Decoding is done. Report the full frame count.
+        if (WantsFrameCount()) {
+          PostFrameCount(mInfo.have_animation ? mNumFrames + 1 : 1);
+        }
+        PostLoopCount(HasAnimation() ? (int32_t)mInfo.animation.num_loops - 1
+                                      : 0);
         PostDecodeDone();
         return Transition::TerminateSuccess();
       }



================================================
FILE: src/image/decoders/nsJXLDecoder-h.patch
================================================
diff --git a/image/decoders/nsJXLDecoder.h b/image/decoders/nsJXLDecoder.h
index 0b723878aefdc5a37c2cffb72a561f859ad79cdf..6d39326dbefa9a85cc02b426de5c9f9149fe612d 100644
--- a/image/decoders/nsJXLDecoder.h
+++ b/image/decoders/nsJXLDecoder.h
@@ -46,6 +46,18 @@ class nsJXLDecoder final : public Decoder {
   Vector<uint8_t> mBuffer;
   Vector<uint8_t> mOutBuffer;
   JxlBasicInfo mInfo{};
+  JxlPixelFormat mFormat;
+  JxlFrameHeader mFrameHeader;
+
+  bool mUsePipeTransform;
+  uint8_t mChannels;
+  uint8_t* mCMSLine;
+
+  uint32_t mNumFrames;
+  FrameTimeout mTimeout;
+  gfx::SurfaceFormat mSurfaceFormat;
+  SurfacePipe mPipe;
+  bool mContinue;
 };
 
 }  // namespace mozilla::image



================================================
FILE: src/layout/generic/nsIFrame-cpp.patch
================================================
diff --git a/layout/generic/nsIFrame.cpp b/layout/generic/nsIFrame.cpp
index 2c4aca4a5984fc3201a2c643f8d26b8c4f4ef3bd..4c21cee90e5442d45cdb2bcf3f91200f0441218f 100644
--- a/layout/generic/nsIFrame.cpp
+++ b/layout/generic/nsIFrame.cpp
@@ -11956,6 +11956,11 @@ gfx::Matrix nsIFrame::ComputeWidgetTransform() const {
   gfx::Matrix4x4 matrix = nsStyleTransformMatrix::ReadTransforms(
       uiReset->mMozWindowTransform, refBox, float(appUnitsPerDevPixel));
 
+  const StyleTransformOrigin& origin = uiReset->mWindowTransformOrigin;
+  Point transformOrigin = nsStyleTransformMatrix::Convert2DPosition(
+      origin.horizontal, origin.vertical, refBox, appUnitsPerDevPixel);
+  matrix.ChangeBasis(Point3D(transformOrigin.x, transformOrigin.y, 0));
+
   gfx::Matrix result2d;
   if (!matrix.CanDraw2D(&result2d)) {
     // FIXME: It would be preferable to reject non-2D transforms at parse time.



================================================
FILE: src/layout/style/nsStyleSheetService-h.patch
================================================
diff --git a/layout/style/nsStyleSheetService.h b/layout/style/nsStyleSheetService.h
index 86a6767302820221f879e31e06cf012137185ffd..50c8cdfb94f186ffdc9f1ebdedf8db294f8b8366 100644
--- a/layout/style/nsStyleSheetService.h
+++ b/layout/style/nsStyleSheetService.h
@@ -49,6 +49,8 @@ class nsStyleSheetService final : public nsIStyleSheetService,
 
   size_t SizeOfIncludingThis(mozilla::MallocSizeOf aMallocSizeOf) const;
 
+  void ZenMarkStylesAsChanged();
+
   static nsStyleSheetService* GetInstance();
   static nsStyleSheetService* gInstance;
 



================================================
FILE: src/layout/style/nsStyleStruct-cpp.patch
================================================
diff --git a/layout/style/nsStyleStruct.cpp b/layout/style/nsStyleStruct.cpp
index 25357c6a506b969c5049190c29e4e411ee5f4c31..bef909ddfc28d084cf87cae3fbd050bbde21468d 100644
--- a/layout/style/nsStyleStruct.cpp
+++ b/layout/style/nsStyleStruct.cpp
@@ -3270,6 +3270,9 @@ nsStyleUIReset::nsStyleUIReset()
       mWindowShadow(StyleWindowShadow::Auto),
       mWindowOpacity(1.0),
       mMozWindowInputRegionMargin(StyleLength::Zero()),
+      mWindowTransformOrigin{LengthPercentage::FromPercentage(0.5),
+                                   LengthPercentage::FromPercentage(0.5),
+                                   {0.}},
       mTransitions(
           nsStyleAutoArray<StyleTransition>::WITH_SINGLE_INITIAL_ELEMENT),
       mTransitionTimingFunctionCount(1),
@@ -3314,6 +3317,7 @@ nsStyleUIReset::nsStyleUIReset(const nsStyleUIReset& aSource)
       mWindowOpacity(aSource.mWindowOpacity),
       mMozWindowInputRegionMargin(aSource.mMozWindowInputRegionMargin),
       mMozWindowTransform(aSource.mMozWindowTransform),
+      mWindowTransformOrigin(aSource.mWindowTransformOrigin),
       mTransitions(aSource.mTransitions.Clone()),
       mTransitionTimingFunctionCount(aSource.mTransitionTimingFunctionCount),
       mTransitionDurationCount(aSource.mTransitionDurationCount),



================================================
FILE: src/layout/style/nsStyleStruct-h.patch
================================================
diff --git a/layout/style/nsStyleStruct.h b/layout/style/nsStyleStruct.h
index ca11ab168761a6da23811d802a87f6c31af6cca9..cb74679626620a12d37fb1671c373ea9793ae004 100644
--- a/layout/style/nsStyleStruct.h
+++ b/layout/style/nsStyleStruct.h
@@ -2094,6 +2094,7 @@ struct MOZ_NEEDS_MEMMOVABLE_MEMBERS nsStyleUIReset {
   // The margin of the window region that should be transparent to events.
   mozilla::StyleLength mMozWindowInputRegionMargin;
   mozilla::StyleTransform mMozWindowTransform;
+  mozilla::StyleTransformOrigin mWindowTransformOrigin;
 
   nsStyleAutoArray<mozilla::StyleTransition> mTransitions;
   // The number of elements in mTransitions that are not from repeating



================================================
FILE: src/layout/style/test/ListCSSProperties-cpp.patch
================================================
diff --git a/layout/style/test/ListCSSProperties.cpp b/layout/style/test/ListCSSProperties.cpp
index 1870bfc3735255f2d41356b00dc52faf95d9d9f2..59ad4fb11c7d48d9ba84dceef09a67a42b486ed8 100644
--- a/layout/style/test/ListCSSProperties.cpp
+++ b/layout/style/test/ListCSSProperties.cpp
@@ -110,6 +110,7 @@ const char* gInaccessibleProperties[] = {
     "-moz-window-opacity",                // chrome-only internal properties
     "-moz-window-transform",              // chrome-only internal properties
     "-moz-window-shadow",                 // chrome-only internal properties
+    "-zen-window-transform-origin",       // chrome-only internal properties
 };
 
 inline int is_inaccessible(const char* aPropName) {



================================================
FILE: src/modules/libpref/moz-build.patch
================================================
diff --git a/modules/libpref/moz.build b/modules/libpref/moz.build
index 46034d8d99ba227f85824d472933ec556f54ba81..42f7f68aba60ca9c8f85f5fe13ffb56fa542e344 100644
--- a/modules/libpref/moz.build
+++ b/modules/libpref/moz.build
@@ -93,6 +93,7 @@ pref_groups = [
     "view_source",
     "webgl",
     "widget",
+    "zen",
     "zoom",
 ]
 if CONFIG["OS_TARGET"] == "Android":



================================================
FILE: src/modules/libpref/init/StaticPrefList-yaml.patch
================================================
diff --git a/modules/libpref/init/StaticPrefList.yaml b/modules/libpref/init/StaticPrefList.yaml
index 0986e53121fdb821bca4a7c30ff707bfdf2dbad7..2a1865098a00282aa1839df245cb472cdd64fdec 100644
--- a/modules/libpref/init/StaticPrefList.yaml
+++ b/modules/libpref/init/StaticPrefList.yaml
@@ -19748,6 +19748,7 @@
   mirror: always
 #endif
 
+#include zen-static-prefs.inc
 #---------------------------------------------------------------------------
 # Prefs starting with "zoom."
 #---------------------------------------------------------------------------



================================================
FILE: src/security/mac/hardenedruntime/production/firefox-browser-xml.patch
================================================
diff --git a/security/mac/hardenedruntime/production/firefox.browser.xml b/security/mac/hardenedruntime/production/firefox.browser.xml
index abbf33e9d2b3c9d1e0a34bd46e7cd289c435533b..d580b156fed13f4de8eb73e5c29c646a7a22a1d2 100644
--- a/security/mac/hardenedruntime/production/firefox.browser.xml
+++ b/security/mac/hardenedruntime/production/firefox.browser.xml
@@ -26,7 +26,7 @@
 
     <!-- Required for com.apple.developer.web-browser.public-key-credential -->
     <key>com.apple.application-identifier</key>
-    <string>43AQ936H96.org.mozilla.firefox</string>
+    <string>9V5K9TP787.app.zen-browser.zen</string>
 
     <!-- For platform passkey (webauthn) support -->
     <key>com.apple.developer.web-browser.public-key-credential</key><true/>



================================================
FILE: src/servo/components/style/gecko/media_features-rs.patch
================================================
diff --git a/servo/components/style/gecko/media_features.rs b/servo/components/style/gecko/media_features.rs
index 26871fb68d4eae54c750b7fcc4db2cf73f9bb9c9..cca3546d0a25aa34be578427ced241856c6a63a7 100644
--- a/servo/components/style/gecko/media_features.rs
+++ b/servo/components/style/gecko/media_features.rs
@@ -13,6 +13,9 @@ use crate::values::computed::{CSSPixelLength, Context, Ratio, Resolution};
 use crate::values::specified::color::ForcedColors;
 use app_units::Au;
 use euclid::default::Size2D;
+use crate::queries::condition::MozPrefFeatureValue;
+use selectors::kleene_value::KleeneValue;
+use crate::values::AtomString;
 
 fn device_size(device: &Device) -> Size2D<Au> {
     let mut width = 0;
@@ -609,6 +612,13 @@ fn eval_scripting(context: &Context, query_value: Option<Scripting>) -> bool {
 fn eval_moz_overlay_scrollbars(context: &Context) -> bool {
     unsafe { bindings::Gecko_MediaFeatures_UseOverlayScrollbars(context.device().document()) }
 }
+ 
+fn eval_moz_bool_pref(_: &Context, pref: Option<&AtomString>) -> KleeneValue {
+    let Some(pref) = pref else {
+        return KleeneValue::False;
+    };
+    KleeneValue::from(unsafe { bindings::Gecko_EvalMozPrefFeature(pref.as_ptr(), &MozPrefFeatureValue::<i32>::None) })
+}
 
 fn eval_moz_mac_rtl(context: &Context) -> bool {
     unsafe { bindings::Gecko_MediaFeatures_MacRTL(context.device().document()) }
@@ -652,7 +662,13 @@ macro_rules! lnf_int_feature {
 /// to support new types in these entries and (2) ensuring that either
 /// nsPresContext::MediaFeatureValuesChanged is called when the value that
 /// would be returned by the evaluator function could change.
-pub static MEDIA_FEATURES: [QueryFeatureDescription; 60] = [
+pub static MEDIA_FEATURES: [QueryFeatureDescription; 61] = [
+    feature!(
+        atom!("-moz-bool-pref"),
+        AllowsRanges::No,
+        Evaluator::String(eval_moz_bool_pref),
+        FeatureFlags::CHROME_AND_UA_ONLY,
+    ),
     feature!(
         atom!("width"),
         AllowsRanges::Yes,



================================================
FILE: src/servo/components/style/properties/longhands/ui-mako-rs.patch
================================================
diff --git a/servo/components/style/properties/longhands/ui.mako.rs b/servo/components/style/properties/longhands/ui.mako.rs
index 24e1e1b7e8fe4d4b70aaa4f5f022500c3dcfcbae..1176bf5d12885b4d96abb2f72288f6c631072578 100644
--- a/servo/components/style/properties/longhands/ui.mako.rs
+++ b/servo/components/style/properties/longhands/ui.mako.rs
@@ -284,6 +284,18 @@ ${helpers.predefined_type(
     affects="",
 )}
 
+${helpers.predefined_type(
+    "-zen-window-transform-origin",
+    "TransformOrigin",
+    "computed::TransformOrigin::initial_value()",
+    engines="gecko",
+    gecko_ffi_name="mWindowTransformOrigin",
+    boxed=True,
+    spec="None (Nonstandard internal property)",
+    enabled_in="chrome",
+    affects="overflow",
+)}
+
 ${helpers.predefined_type(
     "animation-fill-mode",
     "AnimationFillMode",



================================================
FILE: src/servo/components/style/queries/feature-rs.patch
================================================
diff --git a/servo/components/style/queries/feature.rs b/servo/components/style/queries/feature.rs
index 1414dd624e0761d269f7e3b1c64ed4bb6576a6e3..f0204c2ee3e8c3527750a26788b5fb7cdf8dfc67 100644
--- a/servo/components/style/queries/feature.rs
+++ b/servo/components/style/queries/feature.rs
@@ -6,6 +6,7 @@
 
 use crate::parser::ParserContext;
 use crate::values::computed::{self, CSSPixelLength, Ratio, Resolution};
+use crate::values::AtomString;
 use crate::Atom;
 use cssparser::Parser;
 use selectors::kleene_value::KleeneValue;
@@ -44,6 +45,7 @@ pub enum Evaluator {
     OptionalNumberRatio(QueryFeatureGetter<Option<Ratio>>),
     /// A resolution.
     Resolution(QueryFeatureGetter<Resolution>),
+    String(fn(&computed::Context, Option<&AtomString>) -> KleeneValue),
     /// A keyword value.
     Enumerated {
         /// The parser to get a discriminant given a string.



================================================
FILE: src/servo/components/style/queries/feature_expression-rs.patch
================================================
diff --git a/servo/components/style/queries/feature_expression.rs b/servo/components/style/queries/feature_expression.rs
index e0787193559ccd32b214272f1a0560cb058e3729..4388de8e2bcba9c3610dfc791fb751d916820e6f 100644
--- a/servo/components/style/queries/feature_expression.rs
+++ b/servo/components/style/queries/feature_expression.rs
@@ -11,7 +11,7 @@ use crate::parser::{Parse, ParserContext};
 use crate::str::{starts_with_ignore_ascii_case, string_as_ascii_lowercase};
 use crate::values::computed::{self, Ratio, ToComputedValue};
 use crate::values::specified::{Integer, Length, Number, Resolution};
-use crate::values::CSSFloat;
+use crate::values::{AtomString, CSSFloat};
 use crate::{Atom, Zero};
 use cssparser::{Parser, Token};
 use selectors::kleene_value::KleeneValue;
@@ -623,6 +623,10 @@ impl QueryFeatureExpression {
                     .map(|v| *expect!(Enumerated, v));
                 return evaluator(context, computed);
             },
+            Evaluator::String(evaluator) => {
+                let string = self.kind.non_ranged_value().map(|v| expect!(String, v));
+                return evaluator(context, string);
+            },
             Evaluator::BoolInteger(eval) => {
                 let computed = self
                     .kind
@@ -661,6 +665,7 @@ pub enum QueryExpressionValue {
     /// An enumerated value, defined by the variant keyword table in the
     /// feature's `mData` member.
     Enumerated(KeywordDiscriminant),
+    String(AtomString),
 }
 
 impl QueryExpressionValue {
@@ -679,6 +684,7 @@ impl QueryExpressionValue {
                 Evaluator::Enumerated { serializer, .. } => dest.write_str(&*serializer(value)),
                 _ => unreachable!(),
             },
+            QueryExpressionValue::String(ref s) => s.to_css(dest),
         }
     }
 
@@ -716,6 +722,9 @@ impl QueryExpressionValue {
             Evaluator::Resolution(..) => {
                 QueryExpressionValue::Resolution(Resolution::parse(context, input)?)
             },
+            Evaluator::String(..) => {
+                QueryExpressionValue::String(input.expect_string()?.as_ref().into())
+            },
             Evaluator::Enumerated { parser, .. } => {
                 QueryExpressionValue::Enumerated(parser(context, input)?)
             },



================================================
FILE: src/testing/mochitest/browser-test-js.patch
================================================
diff --git a/testing/mochitest/browser-test.js b/testing/mochitest/browser-test.js
index a687d271a91207f3e4a7b9afdf67031f8d9385d1..ebbf2e0cbf5e9eeca472c4c2a5963c290be8897d 100644
--- a/testing/mochitest/browser-test.js
+++ b/testing/mochitest/browser-test.js
@@ -442,10 +442,10 @@ Tester.prototype = {
     // But not the Thunderbird window, it doesn't have these things!
     if (AppConstants.MOZ_APP_NAME != "thunderbird") {
       // Remove stale tabs
-      if (this.currentTest && window.gBrowser && gBrowser.tabs.length > 1) {
+      if (this.currentTest && window.gBrowser && gBrowser.tabs.length > 2) {
         let lastURI = "";
         let lastURIcount = 0;
-        while (gBrowser.tabs.length > 1) {
+        while (gBrowser.tabs.length > 2) {
           let lastTab = gBrowser.tabs[gBrowser.tabs.length - 1];
           if (!lastTab.closing) {
             // Report the stale tab as an error only when they're not closing.
@@ -480,12 +480,6 @@ Tester.prototype = {
 
       // Replace the last tab with a fresh one
       if (window.gBrowser) {
-        gBrowser.addTab("about:blank", {
-          skipAnimation: true,
-          triggeringPrincipal:
-            Services.scriptSecurityManager.getSystemPrincipal(),
-        });
-        gBrowser.removeTab(gBrowser.selectedTab, { skipPermitUnload: true });
         gBrowser.stop();
       }
 



================================================
FILE: src/testing/profiles/mochitest/user-js.patch
================================================
diff --git a/testing/profiles/mochitest/user.js b/testing/profiles/mochitest/user.js
index 782258420cdce901f182897b796731a1fdf69ecf..a762067169b1cf3cd05147f9e715eb0db56a3299 100644
--- a/testing/profiles/mochitest/user.js
+++ b/testing/profiles/mochitest/user.js
@@ -36,3 +36,9 @@ user_pref("places.history.floodingPrevention.enabled", false);
 // permission, and we can open it and wait for the user to give permission, then
 // don't do that.
 user_pref("geo.prompt.open_system_prefs", false);
+
+user_pref("zen.welcome-screen.seen", true);
+user_pref("zen.watermark.enabled", false);
+user_pref("zen.testing.enabled", true);
+user_pref("zen.window-sync.enabled", true);
+user_pref("widget.macos.native-context-menus", false);



================================================
FILE: src/testing/profiles/profileserver/user-js.patch
================================================
diff --git a/testing/profiles/profileserver/user.js b/testing/profiles/profileserver/user.js
index 19ff7d474f6d22d2d386764e2e6942ce6a324470..1ebee9ead3c73f74ab73a5303a98ec172f94edd2 100644
--- a/testing/profiles/profileserver/user.js
+++ b/testing/profiles/profileserver/user.js
@@ -8,3 +8,12 @@
 user_pref("dom.timeout.enable_budget_timer_throttling", false);
 // Turn off update
 user_pref("app.update.disabledForTesting", true);
+
+// zen:
+// Disable some of zen's features to better match the default Firefox experience
+user_pref("zen.welcome-screen.seen", true);
+user_pref("zen.watermark.enabled", false);
+user_pref("zen.urlbar.replace-newtab", false);
+user_pref("zen.testing.enabled", true);
+user_pref("zen.window-sync.enabled", true);
+user_pref("zen.testing.profiling.enabled", true);



================================================
FILE: src/third_party/rust/mime_guess/src/mime_types-rs.patch
================================================
diff --git a/third_party/rust/mime_guess/src/mime_types.rs b/third_party/rust/mime_guess/src/mime_types.rs
index 13c91b7bee77a0c0a4b45b8e05a25bb89daac66e..1521cd729ec78dbc51b86cf04546c4cd4ceb1163 100644
--- a/third_party/rust/mime_guess/src/mime_types.rs
+++ b/third_party/rust/mime_guess/src/mime_types.rs
@@ -103,6 +103,7 @@ pub static MIME_TYPES: &[(&str, &[&str])] = &[
     ("au", &["audio/basic"]),
     ("avi", &["video/x-msvideo"]),
     ("avif", &["image/avif"]),
+    ("avifs", &["image/avif-sequence"]),
     ("aw", &["application/applixware"]),
     ("axa", &["audio/annodex"]),
     ("axs", &["application/olescript"]),
@@ -449,6 +450,10 @@ pub static MIME_TYPES: &[(&str, &[&str])] = &[
     ("hdf", &["application/x-hdf"]),
     ("hdml", &["text/x-hdml"]),
     ("hdr", &["image/vnd.radiance"]),
+    ("heic", &["image/heic"]),
+    ("heics", &["image/heic-sequence"]),
+    ("heif", &["image/heif"]),
+    ("heifs", &["image/heif-sequence"]),
     ("hh", &["text/plain"]),
     ("hhc", &["application/x-oleobject"]),
     ("hhk", &["application/octet-stream"]),
@@ -567,6 +572,7 @@ pub static MIME_TYPES: &[(&str, &[&str])] = &[
     ("jsonml", &["application/jsonml+json"]),
     ("jsx", &["text/jscript"]),
     ("jsxbin", &["text/plain"]),
+    ("jxl", &["image/jxl"]),
     ("kar", &["audio/midi"]),
     ("karbon", &["application/vnd.kde.karbon"]),
     ("kfo", &["application/vnd.kde.kformula"]),



================================================
FILE: src/toolkit/moz-configure.patch
================================================
diff --git a/toolkit/moz.configure b/toolkit/moz.configure
index 226d0c5a93a9a2404e1974001da4e34b7b670067..b73277448f7d2706d316df2505e17d232f392d47 100644
--- a/toolkit/moz.configure
+++ b/toolkit/moz.configure
@@ -22,6 +22,7 @@ def check_moz_app_id(moz_app_id, build_project):
 
 project_flag(
     env="MOZ_APP_VENDOR",
+    default="Zen Team",
     nargs=1,
     help='Used for application.ini\'s "Vendor" field, which also impacts profile location and user-visible fields',
 )
@@ -35,6 +36,7 @@ project_flag(
 
 project_flag(
     "MOZ_APP_PROFILE",
+    default="zen",
     nargs=1,
     help='Used for application.ini\'s "Profile" field, which controls profile location',
 )
@@ -86,10 +88,13 @@ option(
 )
 set_config("MOZ_INCLUDE_SOURCE_INFO", True, when="MOZ_INCLUDE_SOURCE_INFO")
 
+option(env="ZEN_FIREFOX_VERSION", help="Set Zen version of Firefox", nargs=1)
+set_config("ZEN_FIREFOX_VERSION", depends_if("ZEN_FIREFOX_VERSION")(lambda v: v[0]))
+
 option(
     "--with-distribution-id",
     nargs=1,
-    default="org.mozilla",
+    default="app.zen-browser",
     help="Set distribution-specific id",
 )
 set_config("MOZ_DISTRIBUTION_ID", depends("--with-distribution-id")(lambda v: v[0]))
@@ -931,9 +936,9 @@ set_config("MOZ_SYSTEM_AV1", True, when="--with-system-av1")
 option("--disable-jxl", help="Disable jxl image support")
 
 
-@depends("--disable-jxl", milestone.is_nightly)
-def jxl(value, is_nightly):
-    if is_nightly and value:
+@depends("--disable-jxl")
+def jxl(value):
+    if value:
         return True
 
 
@@ -2070,7 +2075,7 @@ set_define("A11Y_LOG", True, when=a11y_log)
 # ==============================================================
 @depends(milestone)
 def require_signing(milestone):
-    return milestone.is_release_or_beta and not milestone.is_esr
+    return False
 
 
 option(
@@ -3903,7 +3908,7 @@ with only_when(compile_environment):
             return "Mozilla"
         elif target.os == "Android":
             return ".mozilla"
-        return "mozilla"
+        return "zen"
 
     option(
         "--with-user-appdir",



================================================
FILE: src/toolkit/actors/PictureInPictureChild-sys-mjs.patch
================================================
diff --git a/toolkit/actors/PictureInPictureChild.sys.mjs b/toolkit/actors/PictureInPictureChild.sys.mjs
index 36652b2d70fd5131d56710a27e7cba350d032da8..13ebbf99b5517b635272d02db740bd3aee1b9ce4 100644
--- a/toolkit/actors/PictureInPictureChild.sys.mjs
+++ b/toolkit/actors/PictureInPictureChild.sys.mjs
@@ -296,6 +296,7 @@ export class PictureInPictureLauncherChild extends JSWindowActorChild {
       if (
         video &&
         PictureInPictureChild.videoIsPlaying(video) &&
+        !video.muted &&
         PictureInPictureChild.videoIsPiPEligible(video)
       ) {
         this.togglePictureInPicture({ video, reason: "AutoPip" }, false);



================================================
FILE: src/toolkit/components/downloads/DownloadList-sys-mjs.patch
================================================
diff --git a/toolkit/components/downloads/DownloadList.sys.mjs b/toolkit/components/downloads/DownloadList.sys.mjs
index ef84be4cfd8194a99e2b2019360b780c700d8d42..3979c03670902ea3ae8bd344612612b20bec6176 100644
--- a/toolkit/components/downloads/DownloadList.sys.mjs
+++ b/toolkit/components/downloads/DownloadList.sys.mjs
@@ -50,6 +50,7 @@ const FILE_EXTENSIONS = [
   "jpg",
   "jpeg",
   "json",
+  "jxl",
   "m4a",
   "mdb",
   "mid",



================================================
FILE: src/toolkit/components/extensions/parent/ext-downloads-js.patch
================================================
diff --git a/toolkit/components/extensions/parent/ext-downloads.js b/toolkit/components/extensions/parent/ext-downloads.js
index 4665c05116908133382be99ebeefd3546205750d..ba7cee3800e72f0fbd9b735c064cb6e61b4b4d28 100644
--- a/toolkit/components/extensions/parent/ext-downloads.js
+++ b/toolkit/components/extensions/parent/ext-downloads.js
@@ -87,6 +87,7 @@ const FILTER_IMAGES_EXTENSIONS = [
   "jpe",
   "jpg",
   "jpeg",
+  "jxl",
   "gif",
   "png",
   "bmp",
@@ -104,6 +105,7 @@ const FILTER_IMAGES_EXTENSIONS = [
   "raw",
   "webp",
   "heic",
+  "avif",
 ];
 
 const FILTER_XML_EXTENSIONS = ["xml"];



================================================
FILE: src/toolkit/components/extensions/parent/ext-runtime-js.patch
================================================
diff --git a/toolkit/components/extensions/parent/ext-runtime.js b/toolkit/components/extensions/parent/ext-runtime.js
index 0d7a3e505b6bd30548c6dda1504dd343a517b083..fb6c6b4ef3eae24995a02f708ec41afd31d812ef 100644
--- a/toolkit/components/extensions/parent/ext-runtime.js
+++ b/toolkit/components/extensions/parent/ext-runtime.js
@@ -333,7 +333,7 @@ this.runtime = class extends ExtensionAPIPersistent {
 
         getBrowserInfo: function () {
           const { name, vendor, version, appBuildID } = Services.appinfo;
-          const info = { name, vendor, version, buildID: appBuildID };
+          const info = { name: 'Firefox', vendor, version: AppConstants.ZEN_FIREFOX_VERSION, buildID: appBuildID, zen: {version: AppConstants.MOZ_APP_VERSION_DISPLAY} };
           return Promise.resolve(info);
         },
 



================================================
FILE: src/toolkit/components/extensions/parent/ext-tabs-base-js.patch
================================================
diff --git a/toolkit/components/extensions/parent/ext-tabs-base.js b/toolkit/components/extensions/parent/ext-tabs-base.js
index d3c2d62406d17a14b0288752c34b6dd4350f032a..2f970d41b8ada9a13fc18b8d2a6607b973983072 100644
--- a/toolkit/components/extensions/parent/ext-tabs-base.js
+++ b/toolkit/components/extensions/parent/ext-tabs-base.js
@@ -1942,6 +1942,7 @@ class TabManagerBase {
    */
   addActiveTabPermission(nativeTab) {
     let tab = this.getWrapper(nativeTab);
+    if (!tab) return; // Empty tabs aren't tracked, nothing to add
     if (
       this.extension.hasPermission("activeTab") ||
       (this.extension.originControls &&
@@ -1963,7 +1964,9 @@ class TabManagerBase {
    *        The native tab for which to revoke permissions.
    */
   revokeActiveTabPermission(nativeTab) {
-    this.getWrapper(nativeTab).activeTabWindowID = null;
+    let wrapper = this.getWrapper(nativeTab);
+    if (!wrapper) return; // Empty tabs arent tracked, nothing to revoke
+    wrapper.activeTabWindowID = null;
   }
 
   /**
@@ -1976,7 +1979,9 @@ class TabManagerBase {
    *        True if the extension has activeTab permissions for this tab.
    */
   hasActiveTabPermission(nativeTab) {
-    return this.getWrapper(nativeTab).hasActiveTabPermission;
+    let wrapper = this.getWrapper(nativeTab);
+    if (!wrapper) return false; // Empty tabs arent tracked, nothing to check
+    return wrapper.hasActiveTabPermission;
   }
 
   /**
@@ -1987,6 +1992,7 @@ class TabManagerBase {
    */
   activateScripts(nativeTab) {
     let tab = this.getWrapper(nativeTab);
+    if (!tab) return; // Empty tabs aren't tracked, nothing to activate
     if (
       this.extension.originControls &&
       !tab.matchesHostPermission &&
@@ -2019,7 +2025,9 @@ class TabManagerBase {
    *        True if the extension has permissions for this tab.
    */
   hasTabPermission(nativeTab) {
-    return this.getWrapper(nativeTab).hasTabPermission;
+    let wrapper = this.getWrapper(nativeTab);
+    if (!wrapper) return false; // Empty tabs arent tracked, nothing to check
+    return wrapper.hasTabPermission;
   }
 
   /**
@@ -2066,7 +2074,9 @@ class TabManagerBase {
    * @returns {object}
    */
   convert(nativeTab, fallbackTabSize = null) {
-    return this.getWrapper(nativeTab).convert(fallbackTabSize);
+    let wrapper = this.getWrapper(nativeTab);
+    if (!wrapper) return null; // Empty tabs aren't tracked, can't convert
+    return wrapper.convert(fallbackTabSize);
   }
 
   /**



================================================
FILE: src/toolkit/components/pictureinpicture/PictureInPicture-sys-mjs.patch
================================================
diff --git a/toolkit/components/pictureinpicture/PictureInPicture.sys.mjs b/toolkit/components/pictureinpicture/PictureInPicture.sys.mjs
index 098742100858b266aebc8f764f918c85815f3c5f..71b8f8d71d48229fc96d6c84c635d09012a82250 100644
--- a/toolkit/components/pictureinpicture/PictureInPicture.sys.mjs
+++ b/toolkit/components/pictureinpicture/PictureInPicture.sys.mjs
@@ -122,6 +122,9 @@ export class PictureInPictureToggleParent extends JSWindowActorParent {
         if (browser.ownerGlobal.gBrowser.selectedBrowser == browser) {
           break;
         }
+        if (browser.audioMuted) {
+          break;
+        }
         let actor = browsingContext.currentWindowGlobal.getActor(
           "PictureInPictureLauncher"
         );
@@ -493,7 +496,7 @@ export var PictureInPicture = {
     // focus the tab's window
     tab.ownerGlobal.focus();
 
-    gBrowser.selectedTab = tab;
+    browser?.ownerGlobal?.gZenWorkspaces.switchIfNeeded(browser);
     await this.closeSinglePipWindow({ reason: "Unpip", actorRef: pipActor });
   },
 



================================================
FILE: src/toolkit/components/pictureinpicture/content/player-js.patch
================================================
diff --git a/toolkit/components/pictureinpicture/content/player.js b/toolkit/components/pictureinpicture/content/player.js
index 34d92dcfba54de4752036d0e251243729b6c9626..20a0399e3bf6f9827f805ea6975b801ae269646d 100644
--- a/toolkit/components/pictureinpicture/content/player.js
+++ b/toolkit/components/pictureinpicture/content/player.js
@@ -764,6 +764,11 @@ let Player = {
         document.getElementById("large").click();
         break;
       }
+
+      case "minimize": {
+        this.closePipWindow({ reason: "CloseButton" });
+        break;
+      }
     }
     // If the click came from a element that is not inside the subtitles settings panel
     // then we want to hide the panel



================================================
FILE: src/toolkit/components/pictureinpicture/content/player-xhtml.patch
================================================
diff --git a/toolkit/components/pictureinpicture/content/player.xhtml b/toolkit/components/pictureinpicture/content/player.xhtml
index 09c9c5000de96fcd4a9d26328408996540c2cbda..b6d93850bbfe63a4e21756c97415a6c1908dae25 100644
--- a/toolkit/components/pictureinpicture/content/player.xhtml
+++ b/toolkit/components/pictureinpicture/content/player.xhtml
@@ -18,6 +18,7 @@
     <link rel="localization" href="browser/browserSets.ftl"/>
     <script src="chrome://global/content/pictureinpicture/player.js"></script>
     <title data-l10n-id="pictureinpicture-player-title"></title>
+    <link rel="localization" href="browser/zen-general.ftl"/>
   </head>
 
   <body>
@@ -53,13 +54,22 @@
       tabindex="10"
 #endif
       />
-      <button id="unpip"
-      class="control-item control-button tooltip-under-controls" data-l10n-id="pictureinpicture-unpip-btn" data-l10n-attrs="tooltip"
+      <button id="minimize"
+      class="control-item control-button tooltip-under-controls" data-l10n-id="pictureinpicture-minimize-btn" data-l10n-attrs="tooltip"
 #ifdef XP_MACOSX
       mac="true"
       tabindex="10"
 #else
       tabindex="9"
+#endif
+      />
+      <button id="unpip"
+      class="control-item control-button tooltip-under-controls" data-l10n-id="pictureinpicture-unpip-btn" data-l10n-attrs="tooltip"
+#ifdef XP_MACOSX
+      mac="true"
+      tabindex="11"
+#else
+      tabindex="10"
 #endif
       />
     <div id="controls-bottom-gradient" class="control-item"></div>



================================================
FILE: src/toolkit/components/prompts/content/commonDialog-css.patch
================================================
diff --git a/toolkit/components/prompts/content/commonDialog.css b/toolkit/components/prompts/content/commonDialog.css
index d811fb62d502cf6fc0bf8163f11e1d264dee9e82..9aa4dc90c73e2f1e2fdcb6bdc26a505402a5c28f 100644
--- a/toolkit/components/prompts/content/commonDialog.css
+++ b/toolkit/components/prompts/content/commonDialog.css
@@ -3,7 +3,8 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 :root {
-  min-width: 29em;
+  min-width: 32em;
+  min-height: 12rem;
 }
 
 dialog[insecureauth] {
@@ -91,7 +92,7 @@ dialog[insecureauth] {
     --grid-padding: 16px;
     /* All the inner items should have 4px inline margin, leading to 1.16em spacing
      * between the dialog and its contents, and 8px horizontal spacing between items. */
-    padding: var(--grid-padding) calc(var(--grid-padding) - 4px);
+    padding: 26px 22px;
 
     &::part(dialog-button) {
       /* Adjust vertical margins for buttons in subdialogs. */



================================================
FILE: src/toolkit/content/filepicker-properties.patch
================================================
diff --git a/toolkit/content/filepicker.properties b/toolkit/content/filepicker.properties
index 03daec114c2882ed5ab7899b9b435d1cce936838..b6bd09c3c5625a1649b31dc99935bc90773d4133 100644
--- a/toolkit/content/filepicker.properties
+++ b/toolkit/content/filepicker.properties
@@ -5,7 +5,7 @@
 allFilter=*
 htmlFilter=*.html; *.htm; *.shtml; *.xhtml
 textFilter=*.txt; *.text
-imageFilter=*.jpe; *.jpg; *.jpeg; *.gif; *.png; *.bmp; *.ico; *.svg; *.svgz; *.tif; *.tiff; *.ai; *.drw; *.pct; *.psp; *.xcf; *.psd; *.raw; *.webp; *.heic
+imageFilter=*.jpe; *.jpg; *.jpeg; *.gif; *.png; *.bmp; *.ico; *.svg; *.svgz; *.tif; *.tiff; *.ai; *.drw; *.pct; *.psp; *.xcf; *.psd; *.raw; *.webp; *.heic; *.avif; *.jxl
 xmlFilter=*.xml
 xulFilter=*.xul
 audioFilter=*.aac; *.aif; *.flac; *.iff; *.m4a; *.m4b; *.mid; *.midi; *.mp3; *.mpa; *.mpc; *.oga; *.ogg; *.opus; *.ra; *.ram; *.snd; *.wav; *.wma



================================================
FILE: src/toolkit/content/xul-css.patch
================================================
diff --git a/toolkit/content/xul.css b/toolkit/content/xul.css
index 57dd6042d2620dd64c55e0e966913047a6c3502f..40d016a0a13596439046e2bbcfa59daa30f10b2d 100644
--- a/toolkit/content/xul.css
+++ b/toolkit/content/xul.css
@@ -463,7 +463,8 @@ deck > *|*:not(:-moz-native-anonymous) {
 tabpanels > .deck-selected,
 tabpanels > .split-view-panel,
 tabpanels > .split-view-splitter,
-deck > .deck-selected {
+deck > .deck-selected,
+tabpanels > [zen-split="true"] {
   -moz-subtree-hidden-only-visually: 0;
   visibility: inherit;
 }



================================================
FILE: src/toolkit/content/widgets/arrowscrollbox-js.patch
================================================
diff --git a/toolkit/content/widgets/arrowscrollbox.js b/toolkit/content/widgets/arrowscrollbox.js
index b80d1049bb6ae305f2ac9c4c35fe975fd508031c..9bc80194d4e35f663b5c15baae55fa48eed4ffe9 100644
--- a/toolkit/content/widgets/arrowscrollbox.js
+++ b/toolkit/content/widgets/arrowscrollbox.js
@@ -98,6 +98,7 @@
 
       let slot = this.shadowRoot.querySelector("slot");
       let overflowObserver = new ResizeObserver(_ => {
+        if (this.id == 'tabbrowser-arrowscrollbox') return; // zen: do NOT underflow/overflow on tabbrowser-arrowscrollbox
         let contentSize =
           slot.getBoundingClientRect()[this.#verticalMode ? "height" : "width"];
         // NOTE(emilio): This should be contentSize > scrollClientSize, but due
@@ -642,7 +643,7 @@
 
     on_wheel(event) {
       // Don't consume the event if we can't scroll.
-      if (!this.overflowing) {
+      if (!this.overflowing || this.id === 'tabbrowser-arrowscrollbox' || ((event.deltaY == 0 || window.gZenWorkspaces?._swipeState?.isGestureActive) && this.classList.contains('workspace-arrowscrollbox'))) {
         return;
       }
 



================================================
FILE: src/toolkit/content/widgets/browser-custom-element-mjs.patch
================================================
diff --git a/toolkit/content/widgets/browser-custom-element.mjs b/toolkit/content/widgets/browser-custom-element.mjs
index bd950fab1b2382738297dff429ad9e6cc68e1ddb..dfda3b7cffec5c3ff35079761283c9baa43951ce 100644
--- a/toolkit/content/widgets/browser-custom-element.mjs
+++ b/toolkit/content/widgets/browser-custom-element.mjs
@@ -495,11 +495,11 @@ export class MozBrowser extends MozElements.MozElementMixin(XULFrameElement) {
     if (!this.browsingContext) {
       return;
     }
-    this.browsingContext.isActive = val;
+    this.browsingContext.isActive = val || this.zenModeActive;
     if (this.isRemoteBrowser) {
       let remoteTab = this.frameLoader?.remoteTab;
       if (remoteTab) {
-        remoteTab.renderLayers = val;
+        remoteTab.renderLayers = val || this.zenModeActive;
       }
     }
   }



================================================
FILE: src/toolkit/content/widgets/findbar-js.patch
================================================
diff --git a/toolkit/content/widgets/findbar.js b/toolkit/content/widgets/findbar.js
index b66dce5bea757fdf6a9bbd656551d876e47aa8a3..bdfb6331d7ebfb283290b1c97601b743421194e3 100644
--- a/toolkit/content/widgets/findbar.js
+++ b/toolkit/content/widgets/findbar.js
@@ -1189,6 +1189,7 @@
      *   e.g. <command name="cmd_find" oncommand="gFindBar.onFindCommand();"/>
      */
     onFindCommand() {
+      if (gBrowser?.selectedTab?.hasAttribute("zen-empty-tab")) return;
       return this.startFind(this.FIND_NORMAL);
     }
 



================================================
FILE: src/toolkit/content/widgets/infobar-css.patch
================================================
diff --git a/toolkit/content/widgets/infobar.css b/toolkit/content/widgets/infobar.css
index 4c224f90b747aa674743ac2182066f5da5e730e0..0ef2c8691459a5c3ace5b3530bfaf245b440678b 100644
--- a/toolkit/content/widgets/infobar.css
+++ b/toolkit/content/widgets/infobar.css
@@ -102,3 +102,18 @@ strong {
 :host([type="system"]) .content {
   margin-inline-start: 0;
 }
+
+/**
+ * Zen Override
+ */
+:host(.infobar) {
+  --info-bar-background-color: transparent !important;
+  margin: 0;
+  border: 0;
+  border-top: 1px solid var(--arrowpanel-border-color);
+
+  &::before {
+    border-start-start-radius: 0px;
+    border-end-start-radius: 0px;
+  }
+}



================================================
FILE: src/toolkit/content/widgets/panel-js.patch
================================================
diff --git a/toolkit/content/widgets/panel.js b/toolkit/content/widgets/panel.js
index dc3e34847f1b6dfd58f5e036fd7d714ef51c1380..8d8e370ca8549d8208669d4fb344fc8abb54fadd 100644
--- a/toolkit/content/widgets/panel.js
+++ b/toolkit/content/widgets/panel.js
@@ -137,6 +137,9 @@
             this.anchorNode.closest("toolbarbutton, .anchor-root") ||
             this.anchorNode;
           anchorRoot.setAttribute("open", "true");
+          if (anchorRoot.closest("#urlbar") && window.gURLBar) {
+            gURLBar.setAttribute("has-popup-open", "true");
+          }
         }
 
         if (this.getAttribute("animate") != "false") {
@@ -183,6 +186,9 @@
             this.anchorNode.closest("toolbarbutton, .anchor-root") ||
             this.anchorNode;
           anchorRoot.removeAttribute("open");
+          if (anchorRoot.closest("#urlbar") && window.gURLBar) {
+            gURLBar.removeAttribute("has-popup-open");
+          }
         }
       }
 



================================================
FILE: src/toolkit/content/widgets/tabbox-js.patch
================================================
diff --git a/toolkit/content/widgets/tabbox.js b/toolkit/content/widgets/tabbox.js
index 7f6e075c818a6aefdcbdfb8ab04df8daa07499d5..9e2d05a9ce02630b8305d5642b6c0d7cbafb10b2 100644
--- a/toolkit/content/widgets/tabbox.js
+++ b/toolkit/content/widgets/tabbox.js
@@ -11,6 +11,23 @@
     "resource://gre/modules/AppConstants.sys.mjs"
   );
 
+  const { XPCOMUtils } = ChromeUtils.importESModule(
+    "resource://gre/modules/XPCOMUtils.sys.mjs"
+  );
+  const lazyZenPrefs = {};
+  XPCOMUtils.defineLazyPreferenceGetter(
+    lazyZenPrefs,
+    "cycleByAttribute",
+    "zen.tabs.ctrl-tab.ignore-essential-tabs",
+    false
+  );
+  XPCOMUtils.defineLazyPreferenceGetter(
+    lazyZenPrefs,
+    "ignorePendingTabs",
+    "zen.tabs.ctrl-tab.ignore-pending-tabs",
+    false
+  );
+
   let imports = {};
   ChromeUtils.defineESModuleGetters(imports, {
     ShortcutUtils: "resource://gre/modules/ShortcutUtils.sys.mjs",
@@ -213,7 +230,7 @@
     ) {
       this._inAsyncOperation = false;
       if (oldPanel != this._selectedPanel) {
-        oldPanel?.classList.remove("deck-selected");
+        if (!(window.gZenGlanceManager && gZenGlanceManager.shouldShowDeckSelected(this._selectedPanel, oldPanel))) oldPanel?.classList.remove("deck-selected");
         this._selectedPanel?.classList.add("deck-selected");
       }
       this.setAttribute("selectedIndex", val);
@@ -718,7 +735,7 @@
       if (!tab) {
         return;
       }
-      for (let otherTab of this.allTabs) {
+      for (let otherTab of window.gZenWorkspaces?.allStoredTabs ?? this.allTabs) {
         if (otherTab != tab && otherTab.selected) {
           otherTab._selected = false;
         }
@@ -754,6 +771,7 @@
      * @param {MozTab|null} [val]
      */
     set selectedItem(val) {
+      val = window.gZenGlanceManager?.getTabOrGlanceChild(val) || val;
       if (val && !val.selected) {
         // The selectedIndex setter ignores invalid values
         // such as -1 if |val| isn't one of our child nodes.
@@ -931,7 +949,7 @@
         if (tab == startTab) {
           return null;
         }
-        if (filter(tab)) {
+        if (filter(tab) && !tab.hasAttribute("zen-glance-tab") && !tab.hasAttribute("zen-empty-tab")) {
           return tab;
         }
       }
@@ -993,13 +1011,30 @@
      * @param {boolean} [aWrap]
      */
     advanceSelectedTab(aDir, aWrap) {
+      if (window?.gZenGlanceManager?._animating) return;
       let { ariaFocusedItem } = this;
       let startTab = ariaFocusedItem;
       if (!ariaFocusedItem || !this.allTabs.includes(ariaFocusedItem)) {
-        startTab = this.selectedItem;
+        startTab = gZenGlanceManager.getFocusedTab(aDir) || this.selectedItem;
       }
       let newTab = null;
 
+      const tabFilter = tab => {
+        if (!tab.visible) {
+          return false
+        }
+        if (lazyZenPrefs.ignorePendingTabs && tab.hasAttribute("pending")) {
+          return false
+        }
+        if (!lazyZenPrefs.cycleByAttribute) {
+          return true
+        }
+        if (startTab.hasAttribute("zen-essential")) {
+          return tab.hasAttribute("zen-essential")
+        }
+        return !tab.hasAttribute("zen-essential")
+      }
+
       // Handle keyboard navigation for a hidden tab that can be selected, like the Firefox View tab,
       // which has a random placement in this.allTabs.
       if (startTab.hidden) {
@@ -1012,7 +1047,7 @@
         newTab = this.findNextTab(startTab, {
           direction: aDir,
           wrap: aWrap,
-          filter: tab => tab.visible,
+          filter: tabFilter,
         });
       }
 



================================================
FILE: src/toolkit/content/widgets/moz-toggle/moz-toggle-css.patch
================================================
diff --git a/toolkit/content/widgets/moz-toggle/moz-toggle.css b/toolkit/content/widgets/moz-toggle/moz-toggle.css
index 49f04a3a8eedf580e9854f04014c637894181300..4e1336b4a58afaba182de87b4e670b0f0b3d607e 100644
--- a/toolkit/content/widgets/moz-toggle/moz-toggle.css
+++ b/toolkit/content/widgets/moz-toggle/moz-toggle.css
@@ -6,8 +6,8 @@
   --toggle-background-color: var(--button-background-color);
   --toggle-background-color-hover: var(--button-background-color-hover);
   --toggle-background-color-active: var(--button-background-color-active);
-  --toggle-background-color-pressed: var(--color-accent-primary);
-  --toggle-background-color-pressed-hover: var(--color-accent-primary-hover);
+  --toggle-background-color-pressed: var(--zen-primary-color);
+  --toggle-background-color-pressed-hover: var(--zen-colors-hover-bg);
   --toggle-background-color-pressed-active: var(--color-accent-primary-active);
   --toggle-border-color: var(--border-color-interactive);
   --toggle-border-color-hover: var(--toggle-border-color);



================================================
FILE: src/toolkit/locales/en-US/chrome/mozapps/downloads/unknownContentType-properties.patch
================================================
diff --git a/toolkit/locales/en-US/chrome/mozapps/downloads/unknownContentType.properties b/toolkit/locales/en-US/chrome/mozapps/downloads/unknownContentType.properties
index fa3c5e389bad5abb05c86a3cb08d6c7abf34166c..1bb1f48c4d3964e4637462bb0b3d4a1e965ca5ec 100644
--- a/toolkit/locales/en-US/chrome/mozapps/downloads/unknownContentType.properties
+++ b/toolkit/locales/en-US/chrome/mozapps/downloads/unknownContentType.properties
@@ -17,6 +17,7 @@ fileType=%S file
 # LOCALIZATION NOTE (orderedFileSizeWithType): first %S is type, second %S is size, and third %S is unit
 orderedFileSizeWithType=%1$S (%2$S %3$S)
 avifExtHandlerDescription=AV1 Image File (AVIF)
+jxlExtHandlerDescription=JPEG XL Image (JXL)
 pdfExtHandlerDescription=Portable Document Format (PDF)
 svgExtHandlerDescription=Scalable Vector Graphics (SVG)
 webpExtHandlerDescription=WebP Image



================================================
FILE: src/toolkit/modules/AppConstants-sys-mjs.patch
================================================
diff --git a/toolkit/modules/AppConstants.sys.mjs b/toolkit/modules/AppConstants.sys.mjs
index e2a22ddd6c6ba36491f37ed22bc2e1fbc149790c..920d8649ef48d685891223a834110ad9a059001a 100644
--- a/toolkit/modules/AppConstants.sys.mjs
+++ b/toolkit/modules/AppConstants.sys.mjs
@@ -170,6 +170,8 @@ export var AppConstants = Object.freeze({
   MOZ_UPDATE_CHANNEL: "@MOZ_UPDATE_CHANNEL@",
   MOZ_WIDGET_TOOLKIT: "@MOZ_WIDGET_TOOLKIT@",
 
+  ZEN_FIREFOX_VERSION: "@ZEN_FIREFOX_VERSION@",
+
   DEBUG_JS_MODULES: "@DEBUG_JS_MODULES@",
 
   MOZ_BING_API_CLIENTID: "@MOZ_BING_API_CLIENTID@",



================================================
FILE: src/toolkit/modules/LightweightThemeConsumer-sys-mjs.patch
================================================
diff --git a/toolkit/modules/LightweightThemeConsumer.sys.mjs b/toolkit/modules/LightweightThemeConsumer.sys.mjs
index c12ba1cd3891dab6ccf07e0ee069d44cc11f3c8f..d7e35aa2dc93629f74e62d6437e3a064242e8974 100644
--- a/toolkit/modules/LightweightThemeConsumer.sys.mjs
+++ b/toolkit/modules/LightweightThemeConsumer.sys.mjs
@@ -32,7 +32,7 @@ const toolkitVariableMap = [
       lwtProperty: "accentcolor",
       processColor(rgbaChannels) {
         if (!rgbaChannels || rgbaChannels.a == 0) {
-          return "white";
+          return "var(--zen-colors-primary)";
         }
         // Remove the alpha channel
         const { r, g, b } = rgbaChannels;
@@ -320,7 +320,7 @@ LightweightThemeConsumer.prototype = {
     let forcedColorsThemeOverride =
       this.FORCED_COLORS_OVERRIDE_ENABLED &&
       this.forcedColorsMediaQuery?.matches;
-    if (!theme || forcedColorsThemeOverride) {
+    if (!theme || forcedColorsThemeOverride || Services.prefs.getBoolPref("zen.theme.disable-lightweight")) {
       theme = { id: DEFAULT_THEME_ID };
     }
     let builtinThemeConfig = lazy.BuiltInThemeConfig.get(theme.id);



================================================
FILE: src/toolkit/modules/moz-build.patch
================================================
diff --git a/toolkit/modules/moz.build b/toolkit/modules/moz.build
index 114a8c3e2e36e57cb2334a893a11f1619831a6e7..9c9ae37b6462d00c93d8f3319cea2960b3cd9816 100644
--- a/toolkit/modules/moz.build
+++ b/toolkit/modules/moz.build
@@ -281,6 +281,7 @@ for var in (
     "DLL_SUFFIX",
     "DEBUG_JS_MODULES",
     "OMNIJAR_NAME",
+    "ZEN_FIREFOX_VERSION"
 ):
     DEFINES[var] = CONFIG[var] or ""
 



================================================
FILE: src/toolkit/modules/ShortcutUtils-sys-mjs.patch
================================================
diff --git a/toolkit/modules/ShortcutUtils.sys.mjs b/toolkit/modules/ShortcutUtils.sys.mjs
index 0a2a5ac202fe7fbdd1540254db847d59c3fe2a88..fca3cd0719e51ffa745e8dac050dcefc7bc70f93 100644
--- a/toolkit/modules/ShortcutUtils.sys.mjs
+++ b/toolkit/modules/ShortcutUtils.sys.mjs
@@ -414,13 +414,11 @@ export var ShortcutUtils = {
         }
         break;
       case event.DOM_VK_UP: // fall through
-      case event.DOM_VK_LEFT:
         if (metaAltAccel) {
           return ShortcutUtils.PREVIOUS_TAB;
         }
         break;
       case event.DOM_VK_DOWN: // fall through
-      case event.DOM_VK_RIGHT:
         if (metaAltAccel) {
           return ShortcutUtils.NEXT_TAB;
         }



================================================
FILE: src/toolkit/modules/UpdateUtils-sys-mjs.patch
================================================
diff --git a/toolkit/modules/UpdateUtils.sys.mjs b/toolkit/modules/UpdateUtils.sys.mjs
index 2c8a093013d40623aa16864eca18945887add7c8..592f8a77665f8e8b4c2f64fe6ae44f3f1f3935e1 100644
--- a/toolkit/modules/UpdateUtils.sys.mjs
+++ b/toolkit/modules/UpdateUtils.sys.mjs
@@ -81,7 +81,7 @@ export var UpdateUtils = {
           replacement = Services.appinfo.name;
           break;
         case "VERSION":
-          replacement = Services.appinfo.version;
+          replacement = AppConstants.ZEN_FIREFOX_VERSION;
           break;
         case "BUILD_ID":
           replacement = Services.appinfo.appBuildID;



================================================
FILE: src/toolkit/mozapps/extensions/AddonManager-sys-mjs.patch
================================================
diff --git a/toolkit/mozapps/extensions/AddonManager.sys.mjs b/toolkit/mozapps/extensions/AddonManager.sys.mjs
index 4fe6aaa127d12bfebb9b246cf1bcaeb78aeef506..879831ff1f979f38c677b941fae447f876999d35 100644
--- a/toolkit/mozapps/extensions/AddonManager.sys.mjs
+++ b/toolkit/mozapps/extensions/AddonManager.sys.mjs
@@ -1278,12 +1278,12 @@ var AddonManagerInternal = {
         ITEM_VERSION: aAddon.version,
         ITEM_STATUS: addonStatus,
         APP_ID: Services.appinfo.ID,
-        APP_VERSION: aAppVersion ? aAppVersion : Services.appinfo.version,
+        APP_VERSION: AppConstants.ZEN_FIREFOX_VERSION,
         REQ_VERSION: UPDATE_REQUEST_VERSION,
         APP_OS: Services.appinfo.OS,
         APP_ABI: Services.appinfo.XPCOMABI,
         APP_LOCALE: getLocale(),
-        CURRENT_APP_VERSION: Services.appinfo.version,
+        CURRENT_APP_VERSION: AppConstants.ZEN_FIREFOX_VERSION,
       })
     );
 



================================================
FILE: src/toolkit/mozapps/extensions/content/aboutaddons-css.patch
================================================
diff --git a/toolkit/mozapps/extensions/content/aboutaddons.css b/toolkit/mozapps/extensions/content/aboutaddons.css
index da127019467107973300b4df8d9b95e8bfb0e05c..bcee9583654609bdcba55605eebb97be8bec286e 100644
--- a/toolkit/mozapps/extensions/content/aboutaddons.css
+++ b/toolkit/mozapps/extensions/content/aboutaddons.css
@@ -106,6 +106,13 @@ h2 {
 .category[name="theme"] {
   background-image: url("chrome://mozapps/skin/extensions/category-themes.svg");
 }
+
+@media -moz-pref('zen.theme.disable-lightweight') {
+  .category[name="theme"] {
+    display: none;
+  }
+}
+
 .category[name="plugin"] {
   background-image: url("chrome://mozapps/skin/extensions/category-plugins.svg");
 }



================================================
FILE: src/toolkit/mozapps/extensions/internal/AddonUpdateChecker-sys-mjs.patch
================================================
diff --git a/toolkit/mozapps/extensions/internal/AddonUpdateChecker.sys.mjs b/toolkit/mozapps/extensions/internal/AddonUpdateChecker.sys.mjs
index 5b7b10a7641c57e1f5206fb57030c8c2afb60971..a1161428e6ae4141b3d6767042edf90935694121 100644
--- a/toolkit/mozapps/extensions/internal/AddonUpdateChecker.sys.mjs
+++ b/toolkit/mozapps/extensions/internal/AddonUpdateChecker.sys.mjs
@@ -558,7 +558,7 @@ export var AddonUpdateChecker = {
     aIgnoreStrictCompat
   ) {
     if (!aAppVersion) {
-      aAppVersion = Services.appinfo.version;
+      aAppVersion = Services.appinfo.platformVersion;
     }
     if (!aPlatformVersion) {
       aPlatformVersion = Services.appinfo.platformVersion;



================================================
FILE: src/toolkit/mozapps/installer/windows/nsis/makensis-mk.patch
================================================
diff --git a/toolkit/mozapps/installer/windows/nsis/makensis.mk b/toolkit/mozapps/installer/windows/nsis/makensis.mk
index facc5b1c058bc90ae12cb2e68f8db86e71626300..5940cf442b38b0c786818c6b76fa6c88b9a619ec 100755
--- a/toolkit/mozapps/installer/windows/nsis/makensis.mk
+++ b/toolkit/mozapps/installer/windows/nsis/makensis.mk
@@ -63,6 +63,11 @@ endif
 
 ifdef ZIP_IN
 installer:: $(CONFIG_DIR)/setup.exe $(ZIP_IN)
+ifneq ("$(ZEN_SETUP_EXE_PATH)","")
+	@echo 'setup-zen.exe exists, moving it to setup.exe ($(ZEN_SETUP_EXE_PATH))'
+	rm $(CONFIG_DIR)/setup.exe
+	cp $(ZEN_SETUP_EXE_PATH) $(CONFIG_DIR)/setup.exe
+endif
 	$(NSINSTALL) -D '$(ABS_DIST)/$(PKG_PATH)'
 	$(PYTHON3) $(MOZILLA_DIR)/mach repackage installer \
 	  -o '$(ABS_DIST)/$(PKG_PATH)$(PKG_INST_BASENAME).exe' \



================================================
FILE: src/toolkit/mozapps/update/updater/updater-common-build.patch
================================================
diff --git a/toolkit/mozapps/update/updater/updater-common.build b/toolkit/mozapps/update/updater/updater-common.build
index 57ea0415653678bb300e277e66c97e332e756cc7..5f757e68a685948c83fee8f963c49bee71a8e4a4 100644
--- a/toolkit/mozapps/update/updater/updater-common.build
+++ b/toolkit/mozapps/update/updater/updater-common.build
@@ -88,6 +88,11 @@ if link_with_nss:
         "nss",
         "signmar",
     ]
+    if CONFIG["OS_ARCH"] == "Linux":
+        # Zen: --enable-unverified-updates is enabled, the RPATH is not added
+        OS_LIBS += [
+            "-Wl,-rpath=\\$$ORIGIN",
+        ]
 
 if CONFIG["MOZ_WIDGET_TOOLKIT"] == "gtk":
     have_progressui = 1



================================================
FILE: src/toolkit/profile/nsToolkitProfileService-cpp.patch
================================================
diff --git a/toolkit/profile/nsToolkitProfileService.cpp b/toolkit/profile/nsToolkitProfileService.cpp
index c9f742dc4588a21db5011b3386999a5832defd33..4a4a6fc28822200c3e254d682d303b38d10d9c67 100644
--- a/toolkit/profile/nsToolkitProfileService.cpp
+++ b/toolkit/profile/nsToolkitProfileService.cpp
@@ -83,6 +83,8 @@ using namespace mozilla;
 #define INSTALL_PREFIX_LENGTH 7
 #define STORE_ID_PREF "toolkit.profiles.storeID"
 
+#include "zenToolkitProfileServiceDefaultOverride.h"
+
 struct KeyValue {
   KeyValue(const char* aKey, const char* aValue) : key(aKey), value(aValue) {}
 
@@ -1369,7 +1371,7 @@ nsresult nsToolkitProfileService::CreateDefaultProfile(
   if (mUseDevEditionProfile) {
     name.AssignLiteral(DEV_EDITION_NAME);
   } else if (mUseDedicatedProfile) {
-    name.AppendPrintf("default-%s", mUpdateChannel.get());
+    name.AppendPrintf("Default (%s)", mUpdateChannel.get());
   } else {
     name.AssignLiteral(DEFAULT_NAME);
   }



================================================
FILE: src/toolkit/profile/zenToolkitProfileServiceDefaultOverride.h
================================================
/* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 -*- */
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#ifndef ZEN_TOOLKIT_PROFILE_OVERRIDE
#define ZEN_TOOLKIT_PROFILE_OVERRIDE "Default Profile"
#endif

#ifndef ZEN_DO_NOT_OVERRIDE_DEFAULT_PROFILE_NAME
#undef DEFAULT_NAME
#define DEFAULT_NAME ZEN_TOOLKIT_PROFILE_OVERRIDE
#endif



================================================
FILE: src/toolkit/themes/shared/aboutReader-css.patch
================================================
diff --git a/toolkit/themes/shared/aboutReader.css b/toolkit/themes/shared/aboutReader.css
index 978d0ac8ae4a82947424c13c20d0f1d274dffe10..e5c7c489f7fff0661f103cdb383364bc8aa423a8 100644
--- a/toolkit/themes/shared/aboutReader.css
+++ b/toolkit/themes/shared/aboutReader.css
@@ -1187,3 +1187,43 @@ pre code {
   display: block;
   overflow: auto;
 }
+
+/* Zen Overrides */
+
+.toolbar {
+  border: none !important;
+  padding: 0 !important;
+  box-shadow: none !important;
+}
+
+.toolbar-button {
+  border-radius: 50% !important;
+}
+
+.open>.dropdown-popup {
+  border: 1px solid light-dark(#00000033, #ffffff33) !important;
+  border-radius: 12px !important;
+}
+
+.font-type-buttons > label {
+  background-color: transparent !important;
+}
+
+.radiorow>label {
+  border-radius: 8px !important;
+}
+
+.buttonrow > button {
+  opacity: .6;
+}
+
+.buttonrow > button:enabled:hover,
+.buttonrow > button:enabled:hover:active {
+  background-color: transparent !important;
+  opacity: 1;
+}
+
+.radiorow>input[type=radio]:focus-visible+label::after,
+.radiorow>label:hover::after {
+  border: none !important;
+}



================================================
FILE: src/toolkit/themes/shared/menulist-css.patch
================================================
diff --git a/toolkit/themes/shared/menulist.css b/toolkit/themes/shared/menulist.css
index 56e61a11aa1180ed637104838a802d1dd2808e7b..3b44880e1aa194f0ff2f05760fd2f36d5e167738 100644
--- a/toolkit/themes/shared/menulist.css
+++ b/toolkit/themes/shared/menulist.css
@@ -53,7 +53,7 @@
 
 :host(:not([native])) {
   appearance: none;
-  background-color: var(--button-background-color);
+  background-color: light-dark(rgba(0,0,0,.1), rgba(255,255,255,.1));
   color: var(--button-text-color);
   border-radius: var(--button-border-radius);
   padding-block: 4px;



================================================
FILE: src/toolkit/themes/shared/popup-css.patch
================================================
diff --git a/toolkit/themes/shared/popup.css b/toolkit/themes/shared/popup.css
index c2618b86d7e8bb71f9f7f71ef9916c8140ca1ead..96a602f9cbfb77ee0a52151ce8ccf7ba17cf5c43 100644
--- a/toolkit/themes/shared/popup.css
+++ b/toolkit/themes/shared/popup.css
@@ -22,8 +22,8 @@ panel {
   --panel-border-color: ThreeDShadow;
   --panel-width: initial;
 
-  --panel-shadow-margin: 4px;
-  --panel-shadow: 0 0 var(--panel-shadow-margin) hsla(0, 0%, 0%, 0.2);
+  --panel-shadow-margin: 10px;
+  --panel-shadow: var(--zen-big-shadow);
   -moz-window-input-region-margin: var(--panel-shadow-margin);
   margin: calc(-1 * var(--panel-shadow-margin));
 
@@ -143,11 +143,7 @@ panel[type="arrow"] {
       -moz-window-transform,
       -moz-window-opacity;
     @media not (prefers-reduced-motion) {
-      -moz-window-transform: translateY(-70px);
-
-      &:where([side="bottom"]) {
-        -moz-window-transform: translateY(70px);
-      }
+      -moz-window-transform: scale(0);
     }
     /* Only do the fade-in animation on pre-Big Sur to avoid missing shadows on
      * Big Sur+, see bug 1672091. */
@@ -161,7 +157,6 @@ panel[type="arrow"] {
   }
 
   &[animate="cancel"] {
-    -moz-window-transform: none;
     transform: none;
   }
 



================================================
FILE: src/toolkit/themes/shared/in-content/common-shared-css.patch
================================================
diff --git a/toolkit/themes/shared/in-content/common-shared.css b/toolkit/themes/shared/in-content/common-shared.css
index c1acf2d6ab3c9a260e73d43af027f34a807e01dc..223afae5c36c98d3b09c001f91e07e90b0b0887a 100644
--- a/toolkit/themes/shared/in-content/common-shared.css
+++ b/toolkit/themes/shared/in-content/common-shared.css
@@ -63,7 +63,7 @@
    * this in forced colors mode, as we should be using system colours then.
    */
   :root[dialogroot] {
-    --background-color-canvas: #42414d;
+    --background-color-canvas: var(--zen-dialog-background);
   }
 }
 
@@ -177,7 +177,7 @@ xul|menulist {
   border-radius: var(--button-border-radius);
   background-color: var(--button-background-color);
   font-weight: normal;
-  padding: 0.45em 1em;
+  padding: 0.7em 1em;
   text-decoration: none;
   margin: 4px 8px;
   /* Ensure font-size isn't overridden by widget styling (e.g. in forms.css) */
@@ -696,7 +696,7 @@ html|*#categories[last-input-type="mouse"] > html|button.category:focus-visible
   fill-opacity: 1;
 }
 
-@media (max-width: 830px) {
+@media (max-width: 130px) {
   :root {
     --in-content-sidebar-width: 118px;
   }
@@ -1078,7 +1078,7 @@ xul|*.sidebar-footer-link {
   user-select: none;
 }
 
-@media (max-width: 830px) {
+@media (max-width: 130px) {
   .sidebar-footer-list {
     margin-inline-start: 40px;
     align-items: flex-start;



================================================
FILE: src/toolkit/themes/shared/pictureinpicture/player-css.patch
================================================
diff --git a/toolkit/themes/shared/pictureinpicture/player.css b/toolkit/themes/shared/pictureinpicture/player.css
index 2e502fb075546bab4349f3da97069e764528d763..4ff7f2ee47085c2d2131f54a647468fab81c7d88 100644
--- a/toolkit/themes/shared/pictureinpicture/player.css
+++ b/toolkit/themes/shared/pictureinpicture/player.css
@@ -738,3 +738,17 @@ input:checked + .slider::before {
     justify-self: center;
   }
 }
+
+#minimize {
+  background-image: url("chrome://browser/skin/zen-icons/unpin.svg");
+  background-color: rgba(255, 255, 255, .8);
+  position: absolute;
+  fill: var(--close-btn-fill-color);
+  right: 50px;
+  top: 10px;
+}
+
+#minimize[mac="true"] {
+  right: auto;
+  left: 50px;
+}



================================================
FILE: src/toolkit/themes/shared/tree/tree-css.patch
================================================
diff --git a/toolkit/themes/shared/tree/tree.css b/toolkit/themes/shared/tree/tree.css
index ee8c5fc6399092cbb45657bb3ee49178f797349e..f30ff2db77854fb4acca6279369e313da0a6a4e2 100644
--- a/toolkit/themes/shared/tree/tree.css
+++ b/toolkit/themes/shared/tree/tree.css
@@ -12,6 +12,7 @@
 /* ::::: tree ::::: */
 
 tree {
+  --color-accent-primary: var(--zen-primary-color, inherit);
   margin: 0 4px;
   background-color: Field;
   color: FieldText;



================================================
FILE: src/toolkit/xre/nsXREDirProvider-cpp.patch
================================================
diff --git a/toolkit/xre/nsXREDirProvider.cpp b/toolkit/xre/nsXREDirProvider.cpp
index 5eae0bca990fea9e995bd2edf5e879361f89391c..3f8bfedb83ddae07b1e82715fc7f6b2109a39e33 100644
--- a/toolkit/xre/nsXREDirProvider.cpp
+++ b/toolkit/xre/nsXREDirProvider.cpp
@@ -1322,9 +1322,11 @@ nsresult nsXREDirProvider::AppendFromAppData(nsIFile* aFile, bool aIsDotted) {
   // Similar to nsXREDirProvider::AppendProfilePath.
   // TODO: Bug 1990407 - Evaluate if refactoring might be required there in the
   // future?
-  if (gAppData->profile) {
+  // Use aIsDotted for a different purpose here, will probably break in the future
+  if (gAppData->profile && aIsDotted) {
     nsAutoCString profile;
     profile = gAppData->profile;
+    profile = "."_ns + nsDependentCString(gAppData->profile);
     MOZ_TRY(aFile->AppendRelativeNativePath(profile));
   } else {
     nsAutoCString vendor;
@@ -1334,8 +1336,6 @@ nsresult nsXREDirProvider::AppendFromAppData(nsIFile* aFile, bool aIsDotted) {
     ToLowerCase(vendor);
     ToLowerCase(appName);
 
-    MOZ_TRY(aFile->AppendRelativeNativePath(aIsDotted ? ("."_ns + vendor)
-                                                      : vendor));
     MOZ_TRY(aFile->AppendRelativeNativePath(appName));
   }
 
@@ -1503,13 +1503,8 @@ nsresult nsXREDirProvider::GetLegacyOrXDGHomePath(const char* aHomeDir,
 
     // If the build was made against a specific profile name, MOZ_APP_PROFILE=
     // then make sure we respect this and dont move to XDG directory
-    if (gAppData->profile) {
-      MOZ_TRY(NS_NewNativeLocalFile(nsDependentCString(aHomeDir),
-                                    getter_AddRefs(localDir)));
-    } else {
       MOZ_TRY(GetLegacyOrXDGConfigHome(aHomeDir, getter_AddRefs(localDir)));
       MOZ_TRY(localDir->Clone(getter_AddRefs(parentDir)));
-    }
 
     MOZ_TRY(AppendFromAppData(localDir, false));
   }



================================================
FILE: src/tools/signing/macos/mach_commands-py.patch
================================================
diff --git a/tools/signing/macos/mach_commands.py b/tools/signing/macos/mach_commands.py
index 3bd0fa80c18b903e9828d2f61be3cfb71e2132e0..4d0fdd64d19cb429c19701ea008e02dc16489834 100644
--- a/tools/signing/macos/mach_commands.py
+++ b/tools/signing/macos/mach_commands.py
@@ -37,7 +37,6 @@ from mozbuild.base import MachCommandConditions as conditions
     "Release channel entitlements, but the configuration used will be the "
     "Release configuration as defined in the repo working directory, not the "
     "configuration from the revision of the earlier 120 build.",
-    conditions=[conditions.is_firefox],
 )
 @CommandArgument(
     "-v",
@@ -342,6 +341,10 @@ def macos_sign(
     cs_reset_cmd = ["find", app, "-exec", "codesign", "--remove-signature", "{}", ";"]
     run(command_context, cs_reset_cmd, capture_output=not verbose_arg)
 
+    originProfile = os.path.join(os.curdir, "embedded.provisionprofile")
+    endProfile = os.path.join(app, "Contents", "embedded.provisionprofile")
+    print(f"ZEN: Moving {originProfile} to {endProfile}")
+    os.rename(originProfile, endProfile)
     if use_rcodesign_arg is True:
         sign_with_rcodesign(
             command_context,
@@ -613,7 +616,7 @@ def sign_with_rcodesign(
     # input path and its options are specified as standard arguments.
     ctx.log(logging.INFO, "macos-sign", {}, "Signing with rcodesign")
 
-    cs_cmd = ["rcodesign", "sign"]
+    cs_cmd = ["rcodesign", "sign", "--for-notarization"]
     if p12_file_arg is not None:
         cs_cmd.append("--p12-file")
         cs_cmd.append(p12_file_arg)



================================================
FILE: src/widget/SwipeTracker-cpp.patch
================================================
diff --git a/widget/SwipeTracker.cpp b/widget/SwipeTracker.cpp
index b09252fd60beb10d5865d226c39ee0c8a9c22d87..91f68161209c6ca3f3bac22997d4e2066f1fafec 100644
--- a/widget/SwipeTracker.cpp
+++ b/widget/SwipeTracker.cpp
@@ -5,6 +5,7 @@
  * You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "SwipeTracker.h"
+#include "mozilla/StaticPrefs_zen.h"
 
 #include "InputData.h"
 #include "mozilla/FlushType.h"
@@ -90,7 +91,7 @@ bool SwipeTracker::ComputeSwipeSuccess() const {
 
   return (mGestureAmount * targetValue +
           mCurrentVelocity * targetValue *
-              StaticPrefs::widget_swipe_success_velocity_contribution()) >=
+              (StaticPrefs::zen_swipe_is_fast_swipe() ? 0.5 : StaticPrefs::widget_swipe_success_velocity_contribution())) >=
          kSwipeSuccessThreshold;
 }
 



================================================
FILE: src/widget/cocoa/nsDragService-mm.patch
================================================
diff --git a/widget/cocoa/nsDragService.mm b/widget/cocoa/nsDragService.mm
index f1614b823a859ff8fbc74982f205bb1f2ef29beb..897c24846a97c132babe3ad79da12ebfcec90484 100644
--- a/widget/cocoa/nsDragService.mm
+++ b/widget/cocoa/nsDragService.mm
@@ -23,6 +23,7 @@
 #include "mozilla/PresShell.h"
 #include "mozilla/dom/Document.h"
 #include "mozilla/dom/DocumentInlines.h"
+#include "mozilla/nsZenDragAndDrop.h"
 #include "nsIContent.h"
 #include "nsCocoaUtils.h"
 #include "mozilla/gfx/2D.h"
@@ -148,6 +149,10 @@
                                             bitsPerPixel:32];
 
   uint8_t* dest = [imageRep bitmapData];
+  auto drag_translucency = DRAG_TRANSLUCENCY;
+  if (auto zenDragAndDrop = zen::nsZenDragAndDrop::GetZenDragAndDropInstance()) {
+    drag_translucency = zenDragAndDrop->GetDragImageOpacity();
+  }
   for (uint32_t i = 0; i < height; ++i) {
     uint8_t* src = map.mData + i * map.mStride;
     for (uint32_t j = 0; j < width; ++j) {
@@ -155,15 +160,15 @@
       // is premultipled here. Also, Quartz likes RGBA, so do that translation
       // as well.
 #ifdef IS_BIG_ENDIAN
-      dest[0] = uint8_t(src[1] * DRAG_TRANSLUCENCY);
-      dest[1] = uint8_t(src[2] * DRAG_TRANSLUCENCY);
-      dest[2] = uint8_t(src[3] * DRAG_TRANSLUCENCY);
-      dest[3] = uint8_t(src[0] * DRAG_TRANSLUCENCY);
+      dest[0] = uint8_t(src[1] * drag_translucency);
+      dest[1] = uint8_t(src[2] * drag_translucency);
+      dest[2] = uint8_t(src[3] * drag_translucency);
+      dest[3] = uint8_t(src[0] * drag_translucency);
 #else
-      dest[0] = uint8_t(src[2] * DRAG_TRANSLUCENCY);
-      dest[1] = uint8_t(src[1] * DRAG_TRANSLUCENCY);
-      dest[2] = uint8_t(src[0] * DRAG_TRANSLUCENCY);
-      dest[3] = uint8_t(src[3] * DRAG_TRANSLUCENCY);
+      dest[0] = uint8_t(src[2] * drag_translucency);
+      dest[1] = uint8_t(src[1] * drag_translucency);
+      dest[2] = uint8_t(src[0] * drag_translucency);
+      dest[3] = uint8_t(src[3] * drag_translucency);
 #endif
       src += 4;
       dest += 4;



================================================
FILE: src/widget/cocoa/VibrancyManager-mm.patch
================================================
diff --git a/widget/cocoa/VibrancyManager.mm b/widget/cocoa/VibrancyManager.mm
index b4c14233c64dd3515518d3167f8ee2877fe41a93..2b91fa3044794765b8e15c6b66b348de4111f29f 100644
--- a/widget/cocoa/VibrancyManager.mm
+++ b/widget/cocoa/VibrancyManager.mm
@@ -13,6 +13,7 @@
 
 #include "nsCocoaWindow.h"
 #include "mozilla/StaticPrefs_widget.h"
+#include "mozilla/StaticPrefs_zen.h"
 
 using namespace mozilla;
 
@@ -38,7 +39,23 @@ static NSVisualEffectMaterial VisualEffectMaterialForVibrancyType(
     VibrancyType aType) {
   switch (aType) {
     case VibrancyType::Sidebar:
-      return NSVisualEffectMaterialSidebar;
+      switch (StaticPrefs::zen_widget_macos_window_material()) {
+        case 1:
+          return NSVisualEffectMaterialHUDWindow;
+        case 2:
+          return NSVisualEffectMaterialFullScreenUI;
+        case 3:
+          return NSVisualEffectMaterialPopover;
+        case 4:
+          return NSVisualEffectMaterialMenu;
+        case 5:
+          return NSVisualEffectMaterialToolTip;
+        case 6:
+          return NSVisualEffectMaterialHeaderView;
+        case 7:
+        default:
+          return NSVisualEffectMaterialUnderWindowBackground;
+      }
     case VibrancyType::Titlebar:
       return NSVisualEffectMaterialTitlebar;
   }
@@ -78,6 +95,7 @@ - (NSView*)hitTest:(NSPoint)aPoint {
 
 - (void)prefChanged {
   self.blendingMode = VisualEffectBlendingModeForVibrancyType(mType);
+  self.material = VisualEffectMaterialForVibrancyType(mType);
 }
 @end
 
@@ -88,6 +106,7 @@ static void PrefChanged(const char* aPref, void* aClosure) {
 static constexpr nsLiteralCString kObservedPrefs[] = {
     "widget.macos.sidebar-blend-mode.behind-window"_ns,
     "widget.macos.titlebar-blend-mode.behind-window"_ns,
+    "zen.widget.macos.window-material"_ns,
 };
 
 VibrancyManager::VibrancyManager(const nsCocoaWindow& aCoordinateConverter,



================================================
FILE: src/widget/gtk/nsAppShell-cpp.patch
================================================
diff --git a/widget/gtk/nsAppShell.cpp b/widget/gtk/nsAppShell.cpp
index 3e57fab78f630eba8401cc77d9cc7e024d482a76..248d1271ca257dbe415d477827f90c8d6902bb86 100644
--- a/widget/gtk/nsAppShell.cpp
+++ b/widget/gtk/nsAppShell.cpp
@@ -504,7 +504,8 @@ nsresult nsAppShell::Init() {
     gchar* name = gdk_pixbuf_format_get_name(format);
     if (strcmp(name, "jpeg") && strcmp(name, "png") && strcmp(name, "gif") &&
         strcmp(name, "bmp") && strcmp(name, "ico") && strcmp(name, "xpm") &&
-        strcmp(name, "svg") && strcmp(name, "webp") && strcmp(name, "avif")) {
+        strcmp(name, "svg") && strcmp(name, "webp") && strcmp(name, "avif") &&
+        strcmp(name, "jxl")) {
       gdk_pixbuf_format_set_disabled(format, TRUE);
     }
     g_free(name);



================================================
FILE: src/xpfe/appshell/AppWindow-cpp.patch
================================================
diff --git a/xpfe/appshell/AppWindow.cpp b/xpfe/appshell/AppWindow.cpp
index 43b1546c4f4e4a2cba57c69ffb414c0b26c21ddd..0989f74f2f2e219162298d6ad7ea5c68ca9491a1 100644
--- a/xpfe/appshell/AppWindow.cpp
+++ b/xpfe/appshell/AppWindow.cpp
@@ -1879,7 +1879,7 @@ nsresult AppWindow::MaybeSaveEarlyWindowPersistentValues(
     }
   }
 
-  settings.verticalTabs = Preferences::GetBool("sidebar.verticalTabs", false);
+  settings.verticalTabs = Preferences::GetBool("zen.tabs.vertical", false);
 
   (void)PersistPreXULSkeletonUIValues(settings);
 #endif



================================================
FILE: src/zen/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

EXTRA_PP_COMPONENTS += [
  "ZenComponents.manifest",
]

DIRS += [
    "common",
    "drag-and-drop",
    "glance",
    "mods",
    "tests",
    "urlbar",
    "toolkit",
    "sessionstore",
    "share",
]



================================================
FILE: src/zen/zen.globals.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

export default [
  "nsZenSiteDataPanel",

  "ZenThemeModifier",
  "ZenHasPolyfill",

  "gZenOperatingSystemCommonUtils",
  "gZenCommonActions",

  "gZenCompactModeManager",

  "gZenWindowSync",

  "gZenUIManager",
  "gZenVerticalTabsManager",
  "gZenStartup",
  "gZenMenubar",

  "gZenWorkspaces",
  "gZenKeyboardShortcutsManager",
  "ZenWorkspacesEngine",
  "ZenWorkspaceBookmarksStorage",

  "ZEN_KEYSET_ID",

  "gZenPinnedTabManager",

  "gZenEmojiPicker",
  "gZenSessionStore",
  "gZenFolders",
  "gZenMediaController",
  "gZenGlanceManager",

  "gZenThemePicker",

  "gZenViewSplitter",

  "Ci",
  "Cu",
  "Cc",

  "JSWindowActorParent",
  "JSWindowActorChild",

  "delayedStartupPromise",

  "BookmarkingUI",
  "Services",
  "PathUtils",
  "ChromeUtils",
  "IOUtils",
  "XPCOMUtils",
  "AppConstants",
  "gBrowserInit",
  "gBrowser",
  "gContextMenu",
  "gMultiProcessBrowser",
  "gFissionBrowser",
  "gBrowserAllowScriptsToCloseInitialTabs",
  "gEditUIVisible",
  "gReduceMotionSetting",
  "gReduceMotionOverride",
  "shouldSuppressPopupNotifications",
  "gLazyFindCommand",
  "gPageIcons",
  "gInitialPages",
  "isInitialPage",
  "browserWindows",
  "MozTabbrowserTabGroup",
  "updateBookmarkToolbarVisibility",
  "gNavigatorBundle",
  "updateFxaToolbarMenu",
  "UpdateBackForwardCommands",
  "updatePrintCommands",
  "SetClickAndHoldHandlers",
  "gClickAndHoldListenersOnElement",
  "gSessionHistoryObserver",
  "gStoragePressureObserver",
  "PopupBlockerObserver",
  "gKeywordURIFixup",
  "_createNullPrincipalFromTabUserContextId",
  "HandleAppCommandEvent",
  "BrowserCommands",
  "kSkipCacheFlags",
  "loadOneOrMoreURIs",
  "openLocation",
  "gLastOpenDirectory",
  "readFromClipboard",
  "UpdateUrlbarSearchSplitterState",
  "UpdatePopupNotificationsVisibility",
  "PageProxyClickHandler",
  "OpenSearchManager",
  "SimpleGestureEvent",
  "MozXULElement",
  "TabContextMenu",
  "CreateContainerTabMenu",
  "FillHistoryMenu",
  "toOpenWindowByType",
  "OpenBrowserWindow",
  "updateEditUIVisibility",
  "gFileMenu",
  "openNewUserContextTab",
  "XULBrowserWindow",
  "LinkTargetDisplay",
  "CombinedStopReload",
  "TabsProgressListener",
  "showFullScreenViewContextMenuItems",
  "onViewToolbarCommand",
  "setToolbarVisibility",
  "updateToggleControlLabel",
  "Win10TabletModeUpdater",
  "displaySecurityInfo",
  "gUIDensity",
  "nodeToTooltipMap",
  "nodeToShortcutMap",
  "gDynamicTooltipCache",
  "GetDynamicShortcutTooltipText",
  "UpdateDynamicShortcutTooltipText",
  "hrefAndLinkNodeForClickEvent",
  "contentAreaClick",
  "handleLinkClick",
  "middleMousePaste",
  "handleDroppedLink",
  "ToolbarContextMenu",
  "BrowserOffline",
  "CanvasPermissionPromptHelper",
  "WebAuthnPromptHelper",
  "CanCloseWindow",
  "WindowIsClosing",
  "warnAboutClosingWindow",
  "MailIntegration",
  "gRemoteControl",
  "gPrivateBrowsingUI",
  "switchToTabHavingURI",
  "gRestoreLastSessionObserver",
  "safeModeRestart",
  "duplicateTabIn",
  "MousePosTracker",
  "ToolbarIconColor",
  "PanicButtonNotifier",
  "TabDialogBox",
  "gDialogBox",
  "ConfirmationHint",
  "FirefoxViewHandler",
  "AMTelemetry",
  "AboutNewTab",
  "AboutReaderParent",
  "AddonManager",
  "BrowserTelemetryUtils",
  "BrowserUIUtils",
  "BrowserUsageTelemetry",
  "BrowserWindowTracker",
  "CFRPageActions",
  "Color",
  "ContentAnalysis",
  "ContextualIdentityService",
  "CustomizableUI",
  "DevToolsSocketStatus",
  "DownloadUtils",
  "DownloadsCommon",
  "E10SUtils",
  "ExtensionsUI",
  "HomePage",
  "LightweightThemeConsumer",
  "LoginHelper",
  "LoginManagerParent",
  "MigrationUtils",
  "NetUtil",
  "NewTabPagePreloading",
  "NewTabUtils",
  "NimbusFeatures",
  "OpenInTabsUtils",
  "PageActions",
  "PageThumbs",
  "PanelMultiView",
  "PanelView",
  "PictureInPicture",
  "PlacesTransactions",
  "PlacesUIUtils",
  "PlacesUtils",
  "PrivateBrowsingUtils",
  "ProcessHangMonitor",
  "PromptUtils",
  "ReaderMode",
  "ResetPBMPanel",
  "SafeBrowsing",
  "Sanitizer",
  "ScreenshotsUtils",
  "SearchUIUtils",
  "SessionStartup",
  "SessionStore",
  "SessionWindowUI",
  "SharingUtils",
  "ShortcutUtils",
  "SiteDataManager",
  "SitePermissions",
  "SubDialog",
  "SubDialogManager",
  "TabCrashHandler",
  "TabsSetupFlowManager",
  "TaskbarTabsChrome",
  "TelemetryEnvironment",
  "TranslationsParent",
  "UITour",
  "UpdateUtils",
  "URILoadingHelper",
  "UrlbarInput",
  "UrlbarPrefs",
  "UrlbarProviderSearchTips",
  "UrlbarTokenizer",
  "UrlbarUtils",
  "UrlbarValueFormatter",
  "Weave",
  "WebNavigationFrames",
  "webrtcUI",
  "WebsiteFilter",
  "ZoomUI",
  "fxAccounts",
  "PlacesTreeView",
  "PlacesInsertionPoint",
  "PlacesController",
  "PlacesControllerDragHelper",
  "PrintUtils",
  "ZoomManager",
  "FullZoom",
  "PanelUI",
  "gViewSourceUtils",
  "gTabsPanel",
  "BrowserAddonUI",
  "gExtensionsNotifications",
  "gUnifiedExtensions",
  "gXPInstallObserver",
  "ctrlTab",
  "CustomizationHandler",
  "AutoHideMenubar",
  "PointerLock",
  "FullScreen",
  "gIdentityHandler",
  "gPermissionPanel",
  "SelectTranslationsPanel",
  "FullPageTranslationsPanel",
  "gProtectionsHandler",
  "gGestureSupport",
  "gHistorySwipeAnimation",
  "gSafeBrowsing",
  "gSync",
  "gBrowserThumbnails",
  "nsContextMenu",
  "DownloadsPanel",
  "DownloadsOverlayLoader",
  "DownloadsView",
  "DownloadsViewUI",
  "DownloadsViewController",
  "DownloadsSummary",
  "DownloadsFooter",
  "DownloadsBlockedSubview",
  "DownloadsButton",
  "DownloadsIndicatorView",
  "gEditItemOverlay",
  "gGfxUtils",
  "ToolbarKeyboardNavigator",
  "A11yUtils",
  "gSharedTabWarning",
  "gPageStyleMenu",
  "gProfiles",
  "ContentPrefService2",
  "classifierService",
  "Favicons",
  "WindowsUIUtils",
  "BrowserHandler",
  "Marionette",
  "RemoteAgent",
  "Marionette",
  "RemoteAgent",
  "RTL_UI",
  "gLocaleChangeObserver",
  "gBrandBundle",
  "gBrowserBundle",
  "gCustomizeMode",
  "gNavToolbox",
  "gURLBar",
  "gNotificationBox",
  "InlineSpellCheckerUI",
  "PopupNotifications",
  "MacUserActivityUpdater",
  "Win7Features",
  "gToolbarKeyNavEnabled",
  "gBookmarksToolbarVisibility",
  "gFxaToolbarEnabled",
  "gFxaToolbarAccessed",
  "gAddonAbuseReportEnabled",
  "gMiddleClickNewTabUsesPasteboard",
  "gPrintEnabled",
  "gTranslationsEnabled",
  "gUseFeltPrivacyUI",
  "gReduceMotion",
  "gFindBar",
  "gFindBarInitialized",
  "gFindBarPromise",
  "SelectableProfileService",
  "ActionsProviderContextualSearch",
  "ToolbarDropHandler",
  "ProfilesDatastoreService",

  "TAB_DROP_TYPE",
];



================================================
FILE: src/zen/ZenComponents.manifest
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# nsBrowserGlue.js

# This component must restrict its registration for the app-startup category
# to the specific list of apps that use it so it doesn't get loaded in xpcshell.
# Thus we restrict it to these apps:
#
#   browser:        {ec8030f7-c20a-464f-9b0e-13a3a9e97384}
#   mobile/android: {aa3c5121-dab2-40e2-81ca-7ea25febc110}

category app-startup nsBrowserGlue @mozilla.org/browser/browserglue;1 application={ec8030f7-c20a-464f-9b0e-13a3a9e97384} application={aa3c5121-dab2-40e2-81ca-7ea25febc110}

#include common/Components.manifest
#include sessionstore/SessionComponents.manifest



================================================
FILE: src/zen/@types/index.d.ts
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

/// <reference lib="es2024" />
/// <reference lib="esnext.iterator" />

/// <reference types="./lib.gecko.custom.d.ts" />
/// <reference types="./generated/lib.gecko.dom.d.ts" />
/// <reference types="./generated/lib.gecko.glean.d.ts" />
/// <reference types="./generated/lib.gecko.nsresult.d.ts" />
/// <reference types="./generated/lib.gecko.services.d.ts" />
/// <reference types="./generated/lib.gecko.xpcom.d.ts" />
/// <reference types="./lib.gecko.xpidl.d.ts" />

/// Platform specific XPCOM modules.
/// <reference types="./generated/lib.gecko.darwin.d.ts" />
/// <reference types="./generated/lib.gecko.linux.d.ts" />
/// <reference types="./generated/lib.gecko.win32.d.ts" />

/// Order of references matters here, for overriding type signatures.
/// <reference types="./lib.gecko.esnext.d.ts" />
/// <reference types="./lib.gecko.tweaks.d.ts" />

import type {} from "./lib.gecko.augmentations.d.ts";

declare global {
  const Cc: nsXPCComponents_Classes;
  const Ci: nsIXPCComponents_Interfaces;
  const Components: nsIXPCComponents;
  const Cr: nsIXPCComponents_Results;

  // Resolve typed generic overloads before the generated ones.
  const Cu: nsXPCComponents_Utils & nsIXPCComponents_Utils;

  const Services: JSServices;
  const uneval: (any) => string;
}

export {};

/// <reference types="./zen.d.ts" />



================================================
FILE: src/zen/@types/lib.gecko.darwin.d.ts
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
/**
 * NOTE: Do not modify this file by hand.
 * Content was generated from source XPCOM .idl files.
 * If you're updating some of the sources, see README for instructions.
 */

declare global {
  // https://searchfox.org/mozilla-central/source/accessible/interfaces/nsIAccessibleMacInterface.idl

  interface nsIAccessibleMacNSObjectWrapper extends nsISupports {}

  interface nsIAccessibleMacInterface extends nsISupports {
    readonly attributeNames: string[];
    readonly parameterizedAttributeNames: string[];
    readonly actionNames: string[];
    getAttributeValue(attributeName: string): any;
    getParameterizedAttributeValue(attributeName: string, parameter: any): any;
    getActionDescription(actionName: string): string;
    performAction(actionName: string): void;
    isAttributeSettable(attributeName: string): boolean;
    setAttributeValue(attributeName: string, attributeValue: any): void;
  }

  interface nsIAccessibleMacEvent extends nsISupports {
    readonly macIface: nsIAccessibleMacInterface;
    readonly data: any;
  }

  // https://searchfox.org/mozilla-central/source/browser/components/migration/nsIKeychainMigrationUtils.idl

  interface nsIKeychainMigrationUtils extends nsISupports {
    getGenericPassword(aServiceName: string, aAccountName: string): string;
  }

  // https://searchfox.org/mozilla-central/source/browser/components/shell/nsIMacShellService.idl

  interface nsIMacShellService extends nsIShellService {
    showDesktopPreferences(): void;
    showSecurityPreferences(aPaneID: string): void;
    getAvailableApplicationsForProtocol(protocol: string): string[][];
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIMacDockSupport.idl

  interface nsIAppBundleLaunchOptions extends nsISupports {
    readonly addsToRecentItems: boolean;
  }

  interface nsIMacDockSupport extends nsISupports {
    dockMenu: nsIStandaloneNativeMenu;
    activateApplication(aIgnoreOtherApplications: boolean): void;
    badgeText: string;
    setBadgeImage(aBadgeImage: imgIContainer, aPaintContext?: nsISVGPaintContext): void;
    readonly isAppInDock: boolean;
    ensureAppIsPinnedToDock(aAppPath?: string, aAppToReplacePath?: string): boolean;
    launchAppBundle(
      aAppBundle: nsIFile,
      aArgs: string[],
      aLaunchOptions?: nsIAppBundleLaunchOptions
    ): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIMacFinderProgress.idl

  type nsIMacFinderProgressCanceledCallback = Callable<{
    canceled(): void;
  }>;

  interface nsIMacFinderProgress extends nsISupports {
    init(path: string, canceledCallback: nsIMacFinderProgressCanceledCallback): void;
    updateProgress(currentProgress: u64, totalProgress: u64): void;
    end(): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIMacSharingService.idl

  interface nsIMacSharingService extends nsISupports {
    getSharingProviders(pageUrl: string): any;
    shareUrl(serviceName: string, pageUrl: string, pageTitle: string): void;
    openSharingPreferences(): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIMacUserActivityUpdater.idl

  interface nsIMacUserActivityUpdater extends nsISupports {
    updateLocation(pageUrl: string, pageTitle: string, window: nsIBaseWindow): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIMacWebAppUtils.idl

  type nsITrashAppCallback = Callable<{
    trashAppFinished(rv: nsresult): void;
  }>;

  interface nsIMacWebAppUtils extends nsISupports {
    pathForAppWithIdentifier(bundleIdentifier: string): string;
    launchAppWithIdentifier(bundleIdentifier: string): void;
    trashApp(path: string, callback: nsITrashAppCallback): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIStandaloneNativeMenu.idl

  interface nsIStandaloneNativeMenu extends nsISupports {
    init(aElement: Element): void;
    menuWillOpen(): boolean;
    activateNativeMenuItemAt(anIndexString: string): void;
    forceUpdateNativeMenuAt(anIndexString: string): void;
    dump(): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITaskbarProgress.idl

  interface nsITaskbarProgress extends nsISupports {
    readonly STATE_NO_PROGRESS?: 0;
    readonly STATE_INDETERMINATE?: 1;
    readonly STATE_NORMAL?: 2;
    readonly STATE_ERROR?: 3;
    readonly STATE_PAUSED?: 4;

    setProgressState(state: nsTaskbarProgressState, currentValue?: u64, maxValue?: u64): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITouchBarHelper.idl

  interface nsITouchBarHelper extends nsISupports {
    readonly activeUrl: string;
    readonly activeTitle: string;
    readonly isUrlbarFocused: boolean;
    toggleFocusUrlbar(): void;
    unfocusUrlbar(): void;
    allItems: nsIArray;
    readonly document: Document;
    getTouchBarInput(aInputName: string): nsITouchBarInput;
    insertRestrictionInUrlbar(aToken: string): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITouchBarInput.idl

  type nsITouchBarInputCallback = Callable<{
    onCommand(): void;
  }>;

  interface nsITouchBarInput extends nsISupports {
    readonly key: string;
    title: string;
    image: nsIURI;
    type: string;
    callback: nsITouchBarInputCallback;
    color: u32;
    disabled: boolean;
    children: nsIArray;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITouchBarUpdater.idl

  interface nsITouchBarUpdater extends nsISupports {
    updateTouchBarInputs(aWindow: nsIBaseWindow, aInputs: nsITouchBarInput[]): void;
    enterCustomizeMode(): void;
    isTouchBarInitialized(): boolean;
    setTouchBarInitialized(aIsInitialized: boolean): void;
    showPopover(aWindow: nsIBaseWindow, aPopover: nsITouchBarInput, aShowing: boolean): void;
  }

  // https://searchfox.org/mozilla-central/source/xpcom/base/nsIMacPreferencesReader.idl

  interface nsIMacPreferencesReader extends nsISupports {
    policiesEnabled(): boolean;
    readPreferences(): any;
  }

  // https://searchfox.org/mozilla-central/source/xpcom/io/nsILocalFileMac.idl

  interface nsILocalFileMac extends nsIFile {
    launchWithDoc(aDocToLoad: nsIFile, aLaunchInBackground: boolean): void;
    isPackage(): boolean;
    readonly bundleDisplayName: string;
    hasXAttr(aAttrName: string): boolean;
    getXAttr(aAttrName: string): u8[];
    setXAttr(aAttrName: string, aAttrValue: u8[]): void;
    delXAttr(aAttrName: string): void;
  }

  interface nsIXPCComponents_Interfaces {
    nsIAccessibleMacNSObjectWrapper: nsJSIID<nsIAccessibleMacNSObjectWrapper>;
    nsIAccessibleMacInterface: nsJSIID<nsIAccessibleMacInterface>;
    nsIAccessibleMacEvent: nsJSIID<nsIAccessibleMacEvent>;
    nsIKeychainMigrationUtils: nsJSIID<nsIKeychainMigrationUtils>;
    nsIMacShellService: nsJSIID<nsIMacShellService>;
    nsIAppBundleLaunchOptions: nsJSIID<nsIAppBundleLaunchOptions>;
    nsIMacDockSupport: nsJSIID<nsIMacDockSupport>;
    nsIMacFinderProgressCanceledCallback: nsJSIID<nsIMacFinderProgressCanceledCallback>;
    nsIMacFinderProgress: nsJSIID<nsIMacFinderProgress>;
    nsIMacSharingService: nsJSIID<nsIMacSharingService>;
    nsIMacUserActivityUpdater: nsJSIID<nsIMacUserActivityUpdater>;
    nsITrashAppCallback: nsJSIID<nsITrashAppCallback>;
    nsIMacWebAppUtils: nsJSIID<nsIMacWebAppUtils>;
    nsIStandaloneNativeMenu: nsJSIID<nsIStandaloneNativeMenu>;
    nsITaskbarProgress: nsJSIID<nsITaskbarProgress>;
    nsITouchBarHelper: nsJSIID<nsITouchBarHelper>;
    nsITouchBarInputCallback: nsJSIID<nsITouchBarInputCallback>;
    nsITouchBarInput: nsJSIID<nsITouchBarInput>;
    nsITouchBarUpdater: nsJSIID<nsITouchBarUpdater>;
    nsIMacPreferencesReader: nsJSIID<nsIMacPreferencesReader>;
    nsILocalFileMac: nsJSIID<nsILocalFileMac>;
  }
} // global

// Typedefs from xpidl.
type PRTime = i64;
type nsTaskbarProgressState = i32;

// XPCOM internal utility types.

/** XPCOM inout param is passed in as a js object with a value property. */
type InOutParam<T> = { value: T };

/** XPCOM out param is written to the passed in object's value property. */
type OutParam<T> = { value?: T };

/** Enable interfaces to inherit from enums: pick variants as optional. */
type Enums<enums> = Partial<Pick<enums, keyof enums>>;

/** Callable accepts either form of a [function] interface. */
type Callable<iface> = iface | Extract<iface[keyof iface], Function>;

export {};



================================================
FILE: src/zen/@types/lib.gecko.linux.d.ts
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
/**
 * NOTE: Do not modify this file by hand.
 * Content was generated from source XPCOM .idl files.
 * If you're updating some of the sources, see README for instructions.
 */

declare global {
  // https://searchfox.org/mozilla-central/source/browser/components/shell/nsIGNOMEShellService.idl

  interface nsIGNOMEShellService extends nsIShellService {
    readonly canSetDesktopBackground: boolean;
    isDefaultForScheme(aScheme: string): boolean;
  }

  // https://searchfox.org/mozilla-central/source/browser/components/shell/nsIOpenTabsProvider.idl

  interface nsIOpenTabsProvider extends nsISupports {
    getOpenTabs(): string[];
    switchToOpenTab(url: string): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIApplicationChooser.idl

  type nsIApplicationChooserFinishedCallback = Callable<{
    done(handlerApp: nsIHandlerApp): void;
  }>;

  interface nsIApplicationChooser extends nsISupports {
    init(parent: mozIDOMWindowProxy, title: string): void;
    open(
      contentType: string,
      applicationChooserFinishedCallback: nsIApplicationChooserFinishedCallback
    ): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIGtkTaskbarProgress.idl

  interface nsIGtkTaskbarProgress extends nsITaskbarProgress {
    setPrimaryWindow(aWindow: mozIDOMWindowProxy): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITaskbarProgress.idl

  interface nsITaskbarProgress extends nsISupports {
    readonly STATE_NO_PROGRESS?: 0;
    readonly STATE_INDETERMINATE?: 1;
    readonly STATE_NORMAL?: 2;
    readonly STATE_ERROR?: 3;
    readonly STATE_PAUSED?: 4;

    setProgressState(state: nsTaskbarProgressState, currentValue?: u64, maxValue?: u64): void;
  }

  interface nsIXPCComponents_Interfaces {
    nsIGNOMEShellService: nsJSIID<nsIGNOMEShellService>;
    nsIOpenTabsProvider: nsJSIID<nsIOpenTabsProvider>;
    nsIApplicationChooserFinishedCallback: nsJSIID<nsIApplicationChooserFinishedCallback>;
    nsIApplicationChooser: nsJSIID<nsIApplicationChooser>;
    nsIGtkTaskbarProgress: nsJSIID<nsIGtkTaskbarProgress>;
    nsITaskbarProgress: nsJSIID<nsITaskbarProgress>;
  }
} // global

// Typedefs from xpidl.
type PRTime = i64;
type nsHandlerInfoAction = i32;
type nsTaskbarProgressState = i32;

// XPCOM internal utility types.

/** XPCOM inout param is passed in as a js object with a value property. */
type InOutParam<T> = { value: T };

/** XPCOM out param is written to the passed in object's value property. */
type OutParam<T> = { value?: T };

/** Enable interfaces to inherit from enums: pick variants as optional. */
type Enums<enums> = Partial<Pick<enums, keyof enums>>;

/** Callable accepts either form of a [function] interface. */
type Callable<iface> = iface | Extract<iface[keyof iface], Function>;

export {};



================================================
FILE: src/zen/@types/lib.gecko.nsresult.d.ts
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
/**
 * NOTE: Do not modify this file by hand.
 * Content was generated from xpc.msg and error_list.json.
 * If you're updating some of the sources, see README for instructions.
 */

interface nsIXPCComponents_Results {
  // Error Message definitions.

  // xpconnect specific codes (from nsIXPConnect.h)

  /** Not enough arguments */
  NS_ERROR_XPC_NOT_ENOUGH_ARGS: 0x80570001;

  /** 'Out' argument must be an object */
  NS_ERROR_XPC_NEED_OUT_OBJECT: 0x80570002;

  /** Cannot set 'value' property of 'out' argument */
  NS_ERROR_XPC_CANT_SET_OUT_VAL: 0x80570003;

  /** Component returned failure code: */
  NS_ERROR_XPC_NATIVE_RETURNED_FAILURE: 0x80570004;

  /** Cannot find interface information */
  NS_ERROR_XPC_CANT_GET_INTERFACE_INFO: 0x80570005;

  /** Cannot find interface information for parameter */
  NS_ERROR_XPC_CANT_GET_PARAM_IFACE_INFO: 0x80570006;

  /** Cannot find method information */
  NS_ERROR_XPC_CANT_GET_METHOD_INFO: 0x80570007;

  /** Unexpected error in XPConnect */
  NS_ERROR_XPC_UNEXPECTED: 0x80570008;

  /** Could not convert JavaScript argument */
  NS_ERROR_XPC_BAD_CONVERT_JS: 0x80570009;

  /** Could not convert Native argument */
  NS_ERROR_XPC_BAD_CONVERT_NATIVE: 0x8057000a;

  /** Could not convert JavaScript argument (NULL value cannot be used for a C++ reference type) */
  NS_ERROR_XPC_BAD_CONVERT_JS_NULL_REF: 0x8057000b;

  /** Illegal operation on WrappedNative prototype object */
  NS_ERROR_XPC_BAD_OP_ON_WN_PROTO: 0x8057000c;

  /** Cannot convert WrappedNative to function */
  NS_ERROR_XPC_CANT_CONVERT_WN_TO_FUN: 0x8057000d;

  /** Cannot define new property in a WrappedNative */
  NS_ERROR_XPC_CANT_DEFINE_PROP_ON_WN: 0x8057000e;

  /** Cannot place watchpoints on WrappedNative object static properties */
  NS_ERROR_XPC_CANT_WATCH_WN_STATIC: 0x8057000f;

  /** Cannot export a WrappedNative object's static properties */
  NS_ERROR_XPC_CANT_EXPORT_WN_STATIC: 0x80570010;

  /** nsIXPCScriptable::Call failed */
  NS_ERROR_XPC_SCRIPTABLE_CALL_FAILED: 0x80570011;

  /** nsIXPCScriptable::Construct failed */
  NS_ERROR_XPC_SCRIPTABLE_CTOR_FAILED: 0x80570012;

  /** Cannot use wrapper as function unless it implements nsIXPCScriptable */
  NS_ERROR_XPC_CANT_CALL_WO_SCRIPTABLE: 0x80570013;

  /** Cannot use wrapper as constructor unless it implements nsIXPCScriptable */
  NS_ERROR_XPC_CANT_CTOR_WO_SCRIPTABLE: 0x80570014;

  /** ComponentManager::CreateInstance returned failure code: */
  NS_ERROR_XPC_CI_RETURNED_FAILURE: 0x80570015;

  /** ServiceManager::GetService returned failure code: */
  NS_ERROR_XPC_GS_RETURNED_FAILURE: 0x80570016;

  /** Invalid ClassID or ContractID */
  NS_ERROR_XPC_BAD_CID: 0x80570017;

  /** Invalid InterfaceID */
  NS_ERROR_XPC_BAD_IID: 0x80570018;

  /** Cannot create wrapper around native interface */
  NS_ERROR_XPC_CANT_CREATE_WN: 0x80570019;

  /** JavaScript component threw exception */
  NS_ERROR_XPC_JS_THREW_EXCEPTION: 0x8057001a;

  /** JavaScript component threw a native object that is not an exception */
  NS_ERROR_XPC_JS_THREW_NATIVE_OBJECT: 0x8057001b;

  /** JavaScript component threw a JavaScript object */
  NS_ERROR_XPC_JS_THREW_JS_OBJECT: 0x8057001c;

  /** JavaScript component threw a null value as an exception */
  NS_ERROR_XPC_JS_THREW_NULL: 0x8057001d;

  /** JavaScript component threw a string as an exception */
  NS_ERROR_XPC_JS_THREW_STRING: 0x8057001e;

  /** JavaScript component threw a number as an exception */
  NS_ERROR_XPC_JS_THREW_NUMBER: 0x8057001f;

  /** JavaScript component caused a JavaScript error */
  NS_ERROR_XPC_JAVASCRIPT_ERROR: 0x80570020;

  /** JavaScript component caused a JavaScript error (detailed report attached) */
  NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS: 0x80570021;

  /** Cannot convert primitive JavaScript value into an array */
  NS_ERROR_XPC_CANT_CONVERT_PRIMITIVE_TO_ARRAY: 0x80570022;

  /** Cannot convert JavaScript object into an array */
  NS_ERROR_XPC_CANT_CONVERT_OBJECT_TO_ARRAY: 0x80570023;

  /** JavaScript Array does not have as many elements as indicated by size argument */
  NS_ERROR_XPC_NOT_ENOUGH_ELEMENTS_IN_ARRAY: 0x80570024;

  /** Cannot find array information */
  NS_ERROR_XPC_CANT_GET_ARRAY_INFO: 0x80570025;

  /** JavaScript String does not have as many characters as indicated by size argument */
  NS_ERROR_XPC_NOT_ENOUGH_CHARS_IN_STRING: 0x80570026;

  /** Security Manager vetoed action */
  NS_ERROR_XPC_SECURITY_MANAGER_VETO: 0x80570027;

  /** Failed to build a wrapper because the interface that was not declared [scriptable] */
  NS_ERROR_XPC_INTERFACE_NOT_SCRIPTABLE: 0x80570028;

  /** Failed to build a wrapper because the interface does not inherit from nsISupports */
  NS_ERROR_XPC_INTERFACE_NOT_FROM_NSISUPPORTS: 0x80570029;

  /** Property is a constant and cannot be changed */
  NS_ERROR_XPC_CANT_SET_READ_ONLY_CONSTANT: 0x8057002b;

  /** Property is a read only attribute and cannot be changed */
  NS_ERROR_XPC_CANT_SET_READ_ONLY_ATTRIBUTE: 0x8057002c;

  /** Property is an interface method and cannot be changed */
  NS_ERROR_XPC_CANT_SET_READ_ONLY_METHOD: 0x8057002d;

  /** Cannot add property to WrappedNative object */
  NS_ERROR_XPC_CANT_ADD_PROP_TO_WRAPPED_NATIVE: 0x8057002e;

  /** Call to nsIXPCScriptable interface for WrappedNative failed unexpecedly */
  NS_ERROR_XPC_CALL_TO_SCRIPTABLE_FAILED: 0x8057002f;

  /** JavaScript component does not have a method named: */
  NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED: 0x80570030;

  /** Bad ID string */
  NS_ERROR_XPC_BAD_ID_STRING: 0x80570031;

  /** Bad initializer name in Constructor - Component has no method with that name */
  NS_ERROR_XPC_BAD_INITIALIZER_NAME: 0x80570032;

  /** Operation failed because the XPConnect subsystem has been shutdown */
  NS_ERROR_XPC_HAS_BEEN_SHUTDOWN: 0x80570033;

  /** Cannot modify properties of a WrappedNative */
  NS_ERROR_XPC_CANT_MODIFY_PROP_ON_WN: 0x80570034;

  /** Could not convert JavaScript argument - 0 was passed, expected object. Did you mean null? */
  NS_ERROR_XPC_BAD_CONVERT_JS_ZERO_ISNOT_NULL: 0x80570035;

  // common global codes (from nsError.h)

  /** Success */
  NS_OK: 0x0;

  /** Component not initialized */
  NS_ERROR_NOT_INITIALIZED: 0xc1f30001;

  /** Component already initialized */
  NS_ERROR_ALREADY_INITIALIZED: 0xc1f30002;

  /** Method not implemented */
  NS_ERROR_NOT_IMPLEMENTED: 0x80004001;

  /** Component does not have requested interface */
  NS_NOINTERFACE: 0x80004002;

  /** Component does not have requested interface */
  NS_ERROR_NO_INTERFACE: 0x80004002;

  /** Illegal value */
  NS_ERROR_ILLEGAL_VALUE: 0x80070057;

  /** Invalid pointer */
  NS_ERROR_INVALID_POINTER: 0x80070057;

  /** Null pointer */
  NS_ERROR_NULL_POINTER: 0x80070057;

  /** Abort */
  NS_ERROR_ABORT: 0x80004004;

  /** Failure */
  NS_ERROR_FAILURE: 0x80004005;

  /** Unexpected error */
  NS_ERROR_UNEXPECTED: 0x8000ffff;

  /** Out of Memory */
  NS_ERROR_OUT_OF_MEMORY: 0x8007000e;

  /** Invalid argument */
  NS_ERROR_INVALID_ARG: 0x80070057;

  /** Component is not available */
  NS_ERROR_NOT_AVAILABLE: 0x80040111;

  /** Factory not registered */
  NS_ERROR_FACTORY_NOT_REGISTERED: 0x80040154;

  /** Factory not registered (may be tried again) */
  NS_ERROR_FACTORY_REGISTER_AGAIN: 0x80040155;

  /** Factory not loaded */
  NS_ERROR_FACTORY_NOT_LOADED: 0x800401f8;

  /** Factory does not support signatures */
  NS_ERROR_FACTORY_NO_SIGNATURE_SUPPORT: 0xc1f30101;

  /** Factory already exists */
  NS_ERROR_FACTORY_EXISTS: 0xc1f30100;

  // added from nsError.h on Feb 28 2001...

  /** Stream closed */
  NS_BASE_STREAM_CLOSED: 0x80470002;

  /** Error from the operating system */
  NS_BASE_STREAM_OSERROR: 0x80470003;

  /** Illegal arguments */
  NS_BASE_STREAM_ILLEGAL_ARGS: 0x80470004;

  /** No converter for unichar streams */
  NS_BASE_STREAM_NO_CONVERTER: 0x80470005;

  /** Bad converter for unichar streams */
  NS_BASE_STREAM_BAD_CONVERSION: 0x80470006;

  /** Stream would block */
  NS_BASE_STREAM_WOULD_BLOCK: 0x80470007;

  /** File error: Unrecognized path */
  NS_ERROR_FILE_UNRECOGNIZED_PATH: 0x80520001;

  /** File error: Unresolvable symlink */
  NS_ERROR_FILE_UNRESOLVABLE_SYMLINK: 0x80520002;

  /** File error: Execution failed */
  NS_ERROR_FILE_EXECUTION_FAILED: 0x80520003;

  /** File error: Unknown type */
  NS_ERROR_FILE_UNKNOWN_TYPE: 0x80520004;

  /** File error: Destination not dir */
  NS_ERROR_FILE_DESTINATION_NOT_DIR: 0x80520005;

  /** File error: Copy or move failed */
  NS_ERROR_FILE_COPY_OR_MOVE_FAILED: 0x80520007;

  /** File error: Already exists */
  NS_ERROR_FILE_ALREADY_EXISTS: 0x80520008;

  /** File error: Invalid path */
  NS_ERROR_FILE_INVALID_PATH: 0x80520009;

  /** File error: Corrupted */
  NS_ERROR_FILE_CORRUPTED: 0x8052000b;

  /** File error: Not directory */
  NS_ERROR_FILE_NOT_DIRECTORY: 0x8052000c;

  /** File error: Is directory */
  NS_ERROR_FILE_IS_DIRECTORY: 0x8052000d;

  /** File error: Is locked */
  NS_ERROR_FILE_IS_LOCKED: 0x8052000e;

  /** File error: Too big */
  NS_ERROR_FILE_TOO_BIG: 0x8052000f;

  /** File error: No device space */
  NS_ERROR_FILE_NO_DEVICE_SPACE: 0x80520010;

  /** File error: Name too long */
  NS_ERROR_FILE_NAME_TOO_LONG: 0x80520011;

  /** File error: Not found */
  NS_ERROR_FILE_NOT_FOUND: 0x80520012;

  /** File error: Read only */
  NS_ERROR_FILE_READ_ONLY: 0x80520013;

  /** File error: Dir not empty */
  NS_ERROR_FILE_DIR_NOT_EMPTY: 0x80520014;

  /** File error: Access denied */
  NS_ERROR_FILE_ACCESS_DENIED: 0x80520015;

  // added from nsError.h on Sept 6 2001...

  /** Data conversion error */
  NS_ERROR_CANNOT_CONVERT_DATA: 0x80460001;

  /** Can not modify immutable data container */
  NS_ERROR_OBJECT_IS_IMMUTABLE: 0x80460002;

  /** Data conversion failed because significant data would be lost */
  NS_ERROR_LOSS_OF_SIGNIFICANT_DATA: 0x80460003;

  /** Data conversion succeeded but data was rounded to fit */
  NS_SUCCESS_LOSS_OF_INSIGNIFICANT_DATA: 0x460001;

  // network related codes (from nsNetError.h)

  /** The async request failed for some unknown reason */
  NS_BINDING_FAILED: 0x804b0001;

  /** The async request failed because it was aborted by some user action */
  NS_BINDING_ABORTED: 0x804b0002;

  /** The async request has been redirected to a different async request */
  NS_BINDING_REDIRECTED: 0x804b0003;

  /** The async request has been retargeted to a different handler */
  NS_BINDING_RETARGETED: 0x804b0004;

  /** The URI is malformed */
  NS_ERROR_MALFORMED_URI: 0x804b000a;

  /** The URI scheme corresponds to an unknown protocol handler */
  NS_ERROR_UNKNOWN_PROTOCOL: 0x804b0012;

  /** Channel opened successfully but no data will be returned */
  NS_ERROR_NO_CONTENT: 0x804b0011;

  /** The requested action could not be completed while the object is busy */
  NS_ERROR_IN_PROGRESS: 0x804b000f;

  /** Channel is already open */
  NS_ERROR_ALREADY_OPENED: 0x804b0049;

  /** The content encoding of the source document is incorrect */
  NS_ERROR_INVALID_CONTENT_ENCODING: 0x804b001b;

  /** Corrupted content received from server (potentially MIME type mismatch because of 'X-Content-Type-Options: nosniff') */
  NS_ERROR_CORRUPTED_CONTENT: 0x804b001d;

  /** Couldn't extract first component from potentially corrupted header field */
  NS_ERROR_FIRST_HEADER_FIELD_COMPONENT_EMPTY: 0x804b0022;

  /** The connection is already established */
  NS_ERROR_ALREADY_CONNECTED: 0x804b000b;

  /** The connection does not exist */
  NS_ERROR_NOT_CONNECTED: 0x804b000c;

  /** The connection was refused */
  NS_ERROR_CONNECTION_REFUSED: 0x804b000d;

  /** User refused navigation to potentially unsafe URL with embedded credentials/superfluos authentication */
  NS_ERROR_SUPERFLUOS_AUTH: 0x804b005b;

  /** User attempted basic HTTP authentication when it is disabled */
  NS_ERROR_BASIC_HTTP_AUTH_DISABLED: 0x804b005c;

  /** The access to local network is denied */
  NS_ERROR_LOCAL_NETWORK_ACCESS_DENIED: 0x804b005d;

  // Error codes return from the proxy

  /** The connection to the proxy server was refused */
  NS_ERROR_PROXY_CONNECTION_REFUSED: 0x804b0048;

  /** The proxy requires authentication */
  NS_ERROR_PROXY_AUTHENTICATION_FAILED: 0x804b057f;

  /** The request failed on the proxy */
  NS_ERROR_PROXY_BAD_GATEWAY: 0x804b05de;

  /** The request timed out on the proxy */
  NS_ERROR_PROXY_GATEWAY_TIMEOUT: 0x804b05e0;

  /** Sending too many requests to a proxy */
  NS_ERROR_PROXY_TOO_MANY_REQUESTS: 0x804b0595;

  /** The proxy does not support the version of the HTTP request */
  NS_ERROR_PROXY_VERSION_NOT_SUPPORTED: 0x804b05e1;

  /** The user is banned from the proxy */
  NS_ERROR_PROXY_FORBIDDEN: 0x804b057b;

  /** The proxy is not available */
  NS_ERROR_PROXY_SERVICE_UNAVAILABLE: 0x804b05df;

  /** The desired destination is unavailable for legal reasons */
  NS_ERROR_PROXY_UNAVAILABLE_FOR_LEGAL_REASONS: 0x804b05ab;

  /** The connection has timed out */
  NS_ERROR_NET_TIMEOUT: 0x804b000e;

  /** The request has been cancelled because of a timeout */
  NS_ERROR_NET_TIMEOUT_EXTERNAL: 0x804b0055;

  /** The requested action could not be completed in the offline state */
  NS_ERROR_OFFLINE: 0x804b0010;

  /** Establishing a connection to an unsafe or otherwise banned port was prohibited */
  NS_ERROR_PORT_ACCESS_NOT_ALLOWED: 0x804b0013;

  /** The connection was established, but no data was ever received */
  NS_ERROR_NET_RESET: 0x804b0014;

  /** The connection was established, but the browser received an empty page with an error response */
  NS_ERROR_NET_EMPTY_RESPONSE: 0x804b0024;

  /** The connection was established, but the browser received an error response from the server */
  NS_ERROR_NET_ERROR_RESPONSE: 0x804b0023;

  /** The connection was established, but the data transfer was interrupted */
  NS_ERROR_NET_INTERRUPT: 0x804b0047;

  /** A transfer was only partially done when it completed */
  NS_ERROR_NET_PARTIAL_TRANSFER: 0x804b004c;

  /** There has been a http3 protocol error */
  NS_ERROR_NET_HTTP3_PROTOCOL_ERROR: 0x804b0054;

  /** This request is not resumable, but it was tried to resume it, or to request resume-specific data */
  NS_ERROR_NOT_RESUMABLE: 0x804b0019;

  /** It was attempted to resume the request, but the entity has changed in the meantime */
  NS_ERROR_ENTITY_CHANGED: 0x804b0020;

  /** The request failed as a result of a detected redirection loop */
  NS_ERROR_REDIRECT_LOOP: 0x804b001f;

  /** The request failed because the content type returned by the server was not a type expected by the channel */
  NS_ERROR_UNSAFE_CONTENT_TYPE: 0x804b004a;

  /** The load caused an error page to be displayed. */
  NS_ERROR_LOAD_SHOWED_ERRORPAGE: 0x804b004d;

  /** The request was blocked by a policy set by the system administrator. */
  NS_ERROR_BLOCKED_BY_POLICY: 0x80780003;

  /** The lookup of the hostname failed */
  NS_ERROR_UNKNOWN_HOST: 0x804b001e;

  /** The DNS lookup queue is full */
  NS_ERROR_DNS_LOOKUP_QUEUE_FULL: 0x804b0021;

  /** The lookup of the proxy hostname failed */
  NS_ERROR_UNKNOWN_PROXY_HOST: 0x804b002a;

  /** The specified socket type does not exist */
  NS_ERROR_UNKNOWN_SOCKET_TYPE: 0x804b0033;

  /** The specified socket type could not be created */
  NS_ERROR_SOCKET_CREATE_FAILED: 0x804b0034;

  /** The specified socket address type is not supported */
  NS_ERROR_SOCKET_ADDRESS_NOT_SUPPORTED: 0x804b0035;

  /** Some other socket is already using the specified address. */
  NS_ERROR_SOCKET_ADDRESS_IN_USE: 0x804b0036;

  /** Cache key could not be found */
  NS_ERROR_CACHE_KEY_NOT_FOUND: 0x804b003d;

  /** Cache data is a stream */
  NS_ERROR_CACHE_DATA_IS_STREAM: 0x804b003e;

  /** Cache data is not a stream */
  NS_ERROR_CACHE_DATA_IS_NOT_STREAM: 0x804b003f;

  /** Cache entry exists but needs to be validated first */
  NS_ERROR_CACHE_WAIT_FOR_VALIDATION: 0x804b0040;

  /** Cache entry has been  doomed */
  NS_ERROR_CACHE_ENTRY_DOOMED: 0x804b0041;

  /** Read access to cache denied */
  NS_ERROR_CACHE_READ_ACCESS_DENIED: 0x804b0042;

  /** Write access to cache denied */
  NS_ERROR_CACHE_WRITE_ACCESS_DENIED: 0x804b0043;

  /** Cache is currently in use */
  NS_ERROR_CACHE_IN_USE: 0x804b0044;

  /** Document does not exist in cache */
  NS_ERROR_DOCUMENT_NOT_CACHED: 0x804b0046;

  /** The requested number of domain levels exceeds those present in the host string */
  NS_ERROR_INSUFFICIENT_DOMAIN_LEVELS: 0x804b0050;

  /** The host string is an IP address */
  NS_ERROR_HOST_IS_IP_ADDRESS: 0x804b0051;

  /** Can't access a wrapped JS object from a different thread */
  NS_ERROR_NOT_SAME_THREAD: 0x80460004;

  /** Access to restricted URI denied */
  NS_ERROR_DOM_BAD_URI: 0x805303f4;

  /** Opening the Websocket failed */
  NS_ERROR_WEBSOCKET_CONNECTION_REFUSED: 0x804b0057;

  // storage related codes (from mozStorage.h)

  /** SQLite database connection is busy */
  NS_ERROR_STORAGE_BUSY: 0x80630001;

  /** SQLite encountered an IO error */
  NS_ERROR_STORAGE_IOERR: 0x80630002;

  /** SQLite database operation failed because a constraint was violated */
  NS_ERROR_STORAGE_CONSTRAINT: 0x80630003;

  // plugin related codes (from nsPluginError.h)

  /** Clearing site data by time range not supported by plugin */
  NS_ERROR_PLUGIN_TIME_RANGE_NOT_SUPPORTED: 0x804c03eb;

  // character converter related codes

  /** The input characters have illegal sequences */
  NS_ERROR_ILLEGAL_INPUT: 0x8050000e;

  // Codes related to signd jars

  /** The JAR is not signed. */
  NS_ERROR_SIGNED_JAR_NOT_SIGNED: 0x80680001;

  /** An entry in the JAR has been modified after the JAR was signed. */
  NS_ERROR_SIGNED_JAR_MODIFIED_ENTRY: 0x80680002;

  /** An entry in the JAR has not been signed. */
  NS_ERROR_SIGNED_JAR_UNSIGNED_ENTRY: 0x80680003;

  /** An entry is missing from the JAR file. */
  NS_ERROR_SIGNED_JAR_ENTRY_MISSING: 0x80680004;

  /** The JAR's signature is wrong. */
  NS_ERROR_SIGNED_JAR_WRONG_SIGNATURE: 0x80680005;

  /** An entry in the JAR is too large. */
  NS_ERROR_SIGNED_JAR_ENTRY_TOO_LARGE: 0x80680006;

  /** An entry in the JAR is invalid. */
  NS_ERROR_SIGNED_JAR_ENTRY_INVALID: 0x80680007;

  /** The JAR's manifest or signature file is invalid. */
  NS_ERROR_SIGNED_JAR_MANIFEST_INVALID: 0x80680008;

  /** The PKCS#7 signature is malformed or invalid. */
  NS_ERROR_CMS_VERIFY_NO_CONTENT_INFO: 0x805a0401;

  /** The PKCS#7 information is not signed. */
  NS_ERROR_CMS_VERIFY_NOT_SIGNED: 0x805a0400;

  // Codes related to pdf signature verification

  /** The PKCS#7 parsing has failed. */
  NS_ERROR_CMS_VERIFY_ERROR_PROCESSING: 0x805a0408;

  /** The PKCS#7 certificate verification was cancelled. */
  NS_ERROR_CMS_VERIFY_NOT_YET_ATTEMPTED: 0x805a040f;

  /** Invalid signature. */
  NS_ERROR_CMS_VERIFY_BAD_SIGNATURE: 0x805a0409;

  /** No certificate was found. */
  NS_ERROR_CMS_VERIFY_NOCERT: 0x805a0404;

  // Codes related to signed manifests

  /** The signed app manifest or signature file is invalid. */
  NS_ERROR_SIGNED_APP_MANIFEST_INVALID: 0x806b0001;

  // Codes for printing-related errors.

  /** No printers available. */
  NS_ERROR_GFX_PRINTER_NO_PRINTER_AVAILABLE: 0x80480001;

  /** The selected printer could not be found. */
  NS_ERROR_GFX_PRINTER_NAME_NOT_FOUND: 0x80480002;

  /** Failed to open output file for print to file. */
  NS_ERROR_GFX_PRINTER_COULD_NOT_OPEN_FILE: 0x80480003;

  /** Printing failed while starting the print job. */
  NS_ERROR_GFX_PRINTER_STARTDOC: 0x80480004;

  /** Printing failed while completing the print job. */
  NS_ERROR_GFX_PRINTER_ENDDOC: 0x80480005;

  /** Printing failed while starting a new page. */
  NS_ERROR_GFX_PRINTER_STARTPAGE: 0x80480006;

  /** Cannot print this document yet, it is still being loaded. */
  NS_ERROR_GFX_PRINTER_DOC_IS_BUSY: 0x80480007;

  // Codes related to content

  /** The process that hosted this content has crashed. */
  NS_ERROR_CONTENT_CRASHED: 0x805e0010;

  /** The process that hosted this frame has crashed. */
  NS_ERROR_FRAME_CRASHED: 0x805e000e;

  /** The process that hosted this content did not have the same buildID as the parent. */
  NS_ERROR_BUILDID_MISMATCH: 0x805e0011;

  /** The load for this content was blocked. */
  NS_ERROR_CONTENT_BLOCKED: 0x805e0006;

  // Codes for the JS-implemented Push DOM API. These can be removed as part of bug 1252660.

  /** Invalid raw ECDSA P-256 public key. */
  NS_ERROR_DOM_PUSH_INVALID_KEY_ERR: 0x806d0005;

  /** A subscription with a different application server key already exists. */
  NS_ERROR_DOM_PUSH_MISMATCHED_KEY_ERR: 0x806d0006;

  // Codes defined in WebIDL https://heycam.github.io/webidl/#idl-DOMException-error-names

  /** The object can not be found here. */
  NS_ERROR_DOM_NOT_FOUND_ERR: 0x80530008;

  /** The request is not allowed. */
  NS_ERROR_DOM_NOT_ALLOWED_ERR: 0x80530021;

  // Codes related to the URIClassifier service

  /** The URI is malware */
  NS_ERROR_MALWARE_URI: 0x805d001e;

  /** The URI is phishing */
  NS_ERROR_PHISHING_URI: 0x805d001f;

  /** The URI is tracking */
  NS_ERROR_TRACKING_URI: 0x805d0022;

  /** The URI is unwanted */
  NS_ERROR_UNWANTED_URI: 0x805d0023;

  /** The URI is blocked */
  NS_ERROR_BLOCKED_URI: 0x805d0025;

  /** The URI is harmful */
  NS_ERROR_HARMFUL_URI: 0x805d0026;

  /** The URI is fingerprinting */
  NS_ERROR_FINGERPRINTING_URI: 0x805d0029;

  /** The URI is cryptomining */
  NS_ERROR_CRYPTOMINING_URI: 0x805d002a;

  /** The URI is social tracking */
  NS_ERROR_SOCIALTRACKING_URI: 0x805d002b;

  /** The URI is email tracking */
  NS_ERROR_EMAILTRACKING_URI: 0x805d002c;

  // Profile manager error codes

  /** Flushing the profiles to disk would have overwritten changes made elsewhere. */
  NS_ERROR_DATABASE_CHANGED: 0x805800ca;

  // Codes related to URILoader

  /** The data from a channel has already been parsed and cached so it doesn't need to be reparsed from the original source. */
  NS_ERROR_PARSED_DATA_CACHED: 0x805d0021;

  /** The async request has been cancelled by another async request */
  NS_BINDING_CANCELLED_OLD_LOAD: 0x805d0027;

  /** The ProgID classes had not been registered. */
  NS_ERROR_WDBA_NO_PROGID: 0x80720001;

  /** The existing UserChoice Hash could not be verified. */
  NS_ERROR_WDBA_HASH_CHECK: 0x80720002;

  /** UserChoice was set, but checking the default did not return our ProgID. */
  NS_ERROR_WDBA_REJECTED: 0x80720003;

  /** The existing UserChoice Hash was verified, but we're on an older, unsupported Windows build, so do not attempt to update the UserChoice hash. */
  NS_ERROR_WDBA_BUILD: 0x80720004;

  // Codes related to QuotaManager

  /** Client initialization attempted before origin has been initialized. */
  NS_ERROR_DOM_QM_CLIENT_INIT_ORIGIN_UNINITIALIZED: 0x80730001;
}

type nsIXPCComponents_Values = nsIXPCComponents_Results[keyof nsIXPCComponents_Results];



================================================
FILE: src/zen/@types/lib.gecko.services.d.ts
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
/**
 * NOTE: Do not modify this file by hand.
 * Content was generated from services.json.
 * If you're updating some of the sources, see README for instructions.
 */

interface JSServices {
  DAPTelemetry: nsIDAPTelemetry;
  appShell: nsIAppShellService;
  appinfo: nsICrashReporter & nsIXULAppInfo & nsIXULRuntime;
  blocklist: nsIBlocklistService;
  cache2: nsICacheStorageService;
  catMan: nsICategoryManager;
  clearData: nsIClearDataService;
  clipboard: nsIClipboard;
  console: nsIConsoleService;
  cookieBanners: nsICookieBannerService;
  cookies: nsICookieManager & nsICookieService;
  cpmm: ContentProcessMessageManager;
  dirsvc: nsIDirectoryService & nsIProperties;
  dns: nsIDNSService;
  domStorageManager: nsIDOMStorageManager & nsILocalStorageManager;
  droppedLinkHandler: nsIDroppedLinkHandler;
  eTLD: nsIEffectiveTLDService;
  els: nsIEventListenerService;
  env: nsIEnvironment;
  focus: nsIFocusManager;
  fog: nsIFOG;
  intl: mozIMozIntl;
  io: nsIIOService & nsINetUtil & nsISpeculativeConnect;
  loadContextInfo: nsILoadContextInfoFactory;
  locale: mozILocaleService;
  logins: nsILoginManager;
  mm: ChromeMessageBroadcaster;
  obs: nsIObserverService;
  perms: nsIPermissionManager;
  policies: nsIEnterprisePolicies;
  ppmm: ParentProcessMessageManager;
  prefs: nsIPrefBranch & nsIPrefService;
  profiler: nsIProfiler;
  prompt: nsIPromptService;
  qms: nsIQuotaManagerService;
  rfp: nsIRFPService;
  scriptSecurityManager: nsIScriptSecurityManager;
  scriptloader: mozIJSSubScriptLoader;
  search: nsISearchService;
  sessionStorage: nsISessionStorageService;
  startup: nsIAppStartup;
  storage: mozIStorageService;
  strings: nsIStringBundleService;
  sysinfo: nsIPropertyBag2 & nsISystemInfo;
  telemetry: nsITelemetry;
  textToSubURI: nsITextToSubURI;
  tm: nsIThreadManager;
  uriFixup: nsIURIFixup;
  urlFormatter: nsIURLFormatter;
  uuid: nsIUUIDGenerator;
  vc: nsIVersionComparator;
  wm: nsIWindowMediator;
  ww: nsIWindowWatcher;
  xulStore: nsIXULStore;
}



================================================
FILE: src/zen/@types/lib.gecko.tweaks.d.ts
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
/**
 * Gecko generic/specialized adjustments for xpcom and webidl types.
 */

// More specific types for parent process browsing contexts.
interface CanonicalBrowsingContext extends LoadContextMixin {
  embedderElement: MozBrowser;
  currentWindowContext: WindowGlobalParent;
  parent: CanonicalBrowsingContext;
  parentWindowContext: WindowGlobalParent;
  top: CanonicalBrowsingContext;
  topWindowContext: WindowGlobalParent;
}

declare namespace ChromeUtils {
  type Modules = import("./generated/lib.gecko.modules").Modules;

  function importESModule<T extends keyof Modules>(
    aResourceURI: T,
    aOptions?: ImportESModuleOptionsDictionary
  ): Modules[T];
}

interface ChromeWindow extends Window {
  isChromeWindow: true;
}

interface Document {
  createXULElement(name: "browser"): MozBrowser;
}

type nsIGleanPingNoReason = {
  [K in keyof nsIGleanPing]: K extends "submit" ? (_?: never) => void : nsIGleanPing[K];
};

type nsIGleanPingWithReason<T> = {
  [K in keyof nsIGleanPing]: K extends "submit" ? (reason: T) => void : nsIGleanPing[K];
};

interface MessageListenerManagerMixin {
  // Overloads that define `data` arg as required, since it's ~always expected.
  addMessageListener(
    msg: string,
    listener: { receiveMessage(_: ReceiveMessageArgument & { data }) }
  );
  removeMessageListener(
    msg: string,
    listener: { receiveMessage(_: ReceiveMessageArgument & { data }) }
  );
}

interface MozQueryInterface {
  <T>(iid: T): nsQIResult<T>;
}

interface nsICryptoHash extends nsISupports {
  // Accepts a TypedArray.
  update(aData: ArrayLike<number>, aLen: number): void;
}

interface nsIDOMWindow extends Window {}

interface nsISimpleEnumerator extends Iterable<any> {}

interface nsISupports {
  wrappedJSObject?: object;
}

interface nsIXPCComponents_Constructor {
  <const T, IIDs = nsIXPCComponents_Interfaces>(
    cid,
    id: T,
    init?
  ): {
    new (...any): nsQIResult<T extends keyof IIDs ? IIDs[T] : T>;
    (...any): nsQIResult<T extends keyof IIDs ? IIDs[T] : T>;
  };
}

interface ComponentsExceptionOptions {
  result?: number;
  stack?: nsIStackFrame;
  data?: object;
}

interface nsIException extends Exception {}

interface nsIXPCComponents_Exception {
  (
    message?: string,
    resultOrOptions?: number | ComponentsExceptionOptions,
    stack?: nsIStackFrame,
    data?: object
  ): nsIException;
}

interface nsIXPCComponents_ID {
  (uuid: string): nsID;
}

interface nsIXPCComponents_utils_Sandbox {
  (principal: nsIPrincipal | nsIPrincipal[], options: object): Sandbox;
}

interface nsXPCComponents_Classes {
  [cid: string]: {
    createInstance<T>(aID: T): nsQIResult<T>;
    getService<T>(aID?: T): unknown extends T ? nsISupports : nsQIResult<T>;
  };
}

// Generic overloads.
interface nsXPCComponents_Utils {
  cloneInto<T>(value: T, ...any): T;
  createObjectIn<T = object>(_, object?: T): T;
  exportFunction<T>(func: T, ...any): T;
  getWeakReference<T>(value: T): { get(): T };
  waiveXrays<T>(object: T): T;
}

type Sandbox = typeof globalThis & nsISupports;

interface WindowGlobalParent extends WindowContext {
  readonly browsingContext: CanonicalBrowsingContext;
}

// https://github.com/microsoft/TypeScript-DOM-lib-generator/issues/1736
interface Localization {
  formatValuesSync(aKeys: L10nKey[]): (string | null)[];
}

/**
 * Redefine the DOMStringMap interface to match its implementation.
 * xref Bug 1965336.
 *
 * [MDN Reference](https://developer.mozilla.org/docs/Web/API/DOMStringMap)
 */
interface DOMStringMap {
  [name: string]: string | undefined;
}

/**
 * Define base64/hex methods for Uint8Array
 * https://github.com/microsoft/TypeScript/issues/61695
 */
interface Uint8Array<TArrayBuffer extends ArrayBufferLike> {
  setFromBase64(
    string: string,
    options?: { alphabet?: string; lastChunkHandling: string }
  ): { read: number; written: number };
  setFromHex(string: string): { read: number; written: number };
  toBase64(options?: { alphabet?: string; omitPadding: boolean }): string;
  toHex(): string;
}



================================================
FILE: src/zen/@types/lib.gecko.win32.d.ts
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
/**
 * NOTE: Do not modify this file by hand.
 * Content was generated from source XPCOM .idl files.
 * If you're updating some of the sources, see README for instructions.
 */

declare global {
  // https://searchfox.org/mozilla-central/source/toolkit/components/aboutthirdparty/nsIAboutThirdParty.idl

  interface nsIInstalledApplication extends nsISupports {
    readonly name: string;
    readonly publisher: string;
  }

  interface nsIAboutThirdParty extends nsISupports {
    readonly ModuleType_Unknown?: 1;
    readonly ModuleType_IME?: 2;
    readonly ModuleType_ShellExtension?: 4;
    readonly ModuleType_BlockedByUser?: 8;
    readonly ModuleType_BlockedByUserAtLaunch?: 16;

    lookupModuleType(aLeafName: string): u32;
    lookupApplication(aModulePath: string): nsIInstalledApplication;
    readonly isDynamicBlocklistAvailable: boolean;
    readonly isDynamicBlocklistDisabled: boolean;
    updateBlocklist(aLeafName: string, aNewBlockStatus: boolean): Promise<any>;
    collectSystemInfo(): Promise<any>;
    loadModuleForTesting(aModulePath: string): void;
  }

  // https://searchfox.org/mozilla-central/source/toolkit/components/aboutwindowsmessages/nsIAboutWindowsMessages.idl

  interface nsIAboutWindowsMessages extends nsISupports {
    getMessages(
      currentWindow: mozIDOMWindowProxy,
      messages: OutParam<string[][]>,
      windowTitles: OutParam<string[]>
    ): void;
  }

  // https://searchfox.org/mozilla-central/source/toolkit/components/alerts/nsIWindowsAlertsService.idl
} // global

declare enum nsIWindowsAlertNotification_ImagePlacement {
  eInline = 0,
  eHero = 1,
  eIcon = 2,
}

declare global {
  namespace nsIWindowsAlertNotification {
    type ImagePlacement = nsIWindowsAlertNotification_ImagePlacement;
  }

  interface nsIWindowsAlertNotification
    extends nsIAlertNotification,
      Enums<typeof nsIWindowsAlertNotification_ImagePlacement> {
    imagePlacement: nsIWindowsAlertNotification.ImagePlacement;
  }

  interface nsIWindowsAlertsService extends nsIAlertsService {
    handleWindowsTag(aWindowsTag: string): Promise<any>;
    getXmlStringForWindowsAlert(aAlert: nsIAlertNotification, aWindowsTag?: string): string;
    removeAllNotificationsForInstall(): void;
  }

  // https://searchfox.org/mozilla-central/source/toolkit/mozapps/defaultagent/nsIDefaultAgent.idl

  interface nsIDefaultAgent extends nsISupports {
    registerTask(aUniqueToken: string): void;
    updateTask(aUniqueToken: string): void;
    unregisterTask(aUniqueToken: string): void;
    uninstall(aUniqueToken: string): void;
    secondsSinceLastAppRun(): i64;
    getDefaultBrowser(): string;
    getReplacePreviousDefaultBrowser(aCurrentBrowser: string): string;
    getDefaultPdfHandler(): string;
    sendPing(
      aCurrentBrowser: string,
      aPreviousBrowser: string,
      aPdfHandler: string,
      aNotificationShown: string,
      aNotificationAction: string,
      daysSinceLastAppLaunch: u32
    ): void;
    setDefaultBrowserUserChoice(aAumid: string, aExtraFileExtensions: string[]): void;
    setDefaultBrowserUserChoiceAsync(aAumid: string, aExtraFileExtensions: string[]): Promise<any>;
    setDefaultExtensionHandlersUserChoice(aAumid: string, aFileExtensions: string[]): void;
    agentDisabled(): boolean;
  }

  // https://searchfox.org/mozilla-central/source/toolkit/mozapps/defaultagent/nsIWindowsMutex.idl

  interface nsIWindowsMutex extends nsISupports {
    tryLock(): void;
    isLocked(): boolean;
    unlock(): void;
  }

  interface nsIWindowsMutexFactory extends nsISupports {
    createMutex(aName: string): nsIWindowsMutex;
  }

  // https://searchfox.org/mozilla-central/source/dom/geolocation/nsIGeolocationUIUtilsWin.idl

  interface nsIGeolocationUIUtilsWin extends nsISupports {
    dismissPrompts(aBC: BrowsingContext): void;
  }

  // https://searchfox.org/mozilla-central/source/netwerk/socket/nsINamedPipeService.idl

  // https://searchfox.org/mozilla-central/source/browser/components/shell/nsIWindowsShellService.idl
} // global

declare enum nsIWindowsShellService_LaunchOnLoginEnabledEnumerator {
  LAUNCH_ON_LOGIN_DISABLED_BY_SETTINGS = 0,
  LAUNCH_ON_LOGIN_DISABLED = 1,
  LAUNCH_ON_LOGIN_ENABLED = 2,
  LAUNCH_ON_LOGIN_ENABLED_BY_POLICY = 3,
}

declare global {
  namespace nsIWindowsShellService {
    type LaunchOnLoginEnabledEnumerator = nsIWindowsShellService_LaunchOnLoginEnabledEnumerator;
  }

  interface nsIWindowsShellService
    extends nsIShellService,
      Enums<typeof nsIWindowsShellService_LaunchOnLoginEnabledEnumerator> {
    createShortcut(
      aBinary: nsIFile,
      aArguments: string[],
      aDescription: string,
      aIconFile: nsIFile,
      aIconIndex: u16,
      aAppUserModelId: string,
      aShortcutFolder: string,
      aShortcutName: string
    ): Promise<any>;
    getLaunchOnLoginShortcuts(): string[];
    pinCurrentAppToStartMenuAsync(aCheckOnly: boolean): Promise<any>;
    isCurrentAppPinnedToStartMenuAsync(): Promise<any>;
    enableLaunchOnLoginMSIXAsync(aTaskId: string): Promise<any>;
    disableLaunchOnLoginMSIXAsync(aTaskId: string): Promise<any>;
    getLaunchOnLoginEnabledMSIXAsync(aTaskId: string): Promise<any>;
    pinCurrentAppToTaskbarAsync(aPrivateBrowsing: boolean): Promise<any>;
    checkPinCurrentAppToTaskbarAsync(aPrivateBrowsing: boolean): Promise<any>;
    isCurrentAppPinnedToTaskbarAsync(aumid: string): Promise<any>;
    pinShortcutToTaskbar(aAppUserModelId: string, aShortcutPath: string): Promise<any>;
    createWindowsIcon(aFile: nsIFile, aContainer: imgIContainer): Promise<any>;
    unpinShortcutFromTaskbar(aShortcutPath: string): void;
    getTaskbarTabShortcutPath(aShortcutName: string): string;
    getTaskbarTabPins(): string[];
    classifyShortcut(aPath: string): string;
    hasPinnableShortcut(aAUMID: string, aPrivateBrowsing: boolean): Promise<any>;
    canSetDefaultBrowserUserChoice(): boolean;
    checkAllProgIDsExist(): boolean;
    checkBrowserUserChoiceHashes(): boolean;
    checkCurrentProcessAUMIDForTesting(): string;
    isDefaultHandlerFor(aFileExtensionOrProtocol: string): boolean;
    queryCurrentDefaultHandlerFor(aFileExtensionOrProtocol: string): string;
  }

  // https://searchfox.org/mozilla-central/source/toolkit/components/taskscheduler/nsIWinTaskSchedulerService.idl

  interface nsIWinTaskSchedulerService extends nsISupports {
    registerTask(
      aFolderName: string,
      aTaskName: string,
      aDefinitionXML: string,
      aUpdateExisting?: boolean
    ): void;
    validateTaskDefinition(aDefinitionXML: string): i32;
    getTaskXML(aFolderName: string, aTaskName: string): string;
    getCurrentUserSid(): string;
    deleteTask(aFolderName: string, aTaskName: string): void;
    getFolderTasks(aFolderName: string): string[];
    createFolder(aParentFolderName: string, aSubFolderName: string): void;
    deleteFolder(aParentFolderName: string, aSubFolderName: string): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIJumpListBuilder.idl

  interface nsIJumpListBuilder extends nsISupports {
    obtainAndCacheFavicon(faviconURL: nsIURI): string;
    obtainAndCacheFaviconAsync(faviconURL: nsIURI): Promise<any>;
    isAvailable(): Promise<any>;
    checkForRemovals(): Promise<any>;
    populateJumpList(
      aTaskDescriptions: any,
      aCustomTitle: string,
      aCustomDescriptions: any
    ): Promise<any>;
    clearJumpList(): Promise<any>;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIPrintSettingsWin.idl

  // https://searchfox.org/mozilla-central/source/widget/nsITaskbarOverlayIconController.idl

  interface nsITaskbarOverlayIconController extends nsISupports {
    setOverlayIcon(
      statusIcon: imgIContainer,
      statusDescription: string,
      paintContext?: nsISVGPaintContext
    ): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITaskbarPreview.idl

  interface nsITaskbarPreview extends nsISupports {
    controller: nsITaskbarPreviewController;
    tooltip: string;
    visible: boolean;
    active: boolean;
    invalidate(): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITaskbarPreviewButton.idl

  interface nsITaskbarPreviewButton extends nsISupports {
    tooltip: string;
    dismissOnClick: boolean;
    hasBorder: boolean;
    disabled: boolean;
    image: imgIContainer;
    visible: boolean;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITaskbarPreviewController.idl

  type nsITaskbarPreviewCallback = Callable<{
    done(aCanvas: nsISupports, aDrawBorder: boolean): void;
  }>;

  interface nsITaskbarPreviewController extends nsISupports {
    readonly width: u32;
    readonly height: u32;
    readonly thumbnailAspectRatio: float;
    requestPreview(aCallback: nsITaskbarPreviewCallback): void;
    requestThumbnail(aCallback: nsITaskbarPreviewCallback, width: u32, height: u32): void;
    onClose(): void;
    onActivate(): boolean;
    onClick(button: nsITaskbarPreviewButton): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITaskbarProgress.idl

  interface nsITaskbarProgress extends nsISupports {
    readonly STATE_NO_PROGRESS?: 0;
    readonly STATE_INDETERMINATE?: 1;
    readonly STATE_NORMAL?: 2;
    readonly STATE_ERROR?: 3;
    readonly STATE_PAUSED?: 4;

    setProgressState(state: nsTaskbarProgressState, currentValue?: u64, maxValue?: u64): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITaskbarTabPreview.idl

  interface nsITaskbarTabPreview extends nsITaskbarPreview {
    title: string;
    icon: imgIContainer;
    move(aNext: nsITaskbarTabPreview): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsITaskbarWindowPreview.idl

  interface nsITaskbarWindowPreview extends nsITaskbarPreview {
    readonly NUM_TOOLBAR_BUTTONS?: 7;

    getButton(index: u32): nsITaskbarPreviewButton;
    enableCustomDrawing: boolean;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIWinTaskbar.idl

  interface nsIWinTaskbar extends nsISupports {
    readonly available: boolean;
    readonly defaultGroupId: string;
    readonly defaultPrivateGroupId: string;
    createTaskbarTabPreview(
      shell: nsIDocShell,
      controller: nsITaskbarPreviewController
    ): nsITaskbarTabPreview;
    getTaskbarWindowPreview(shell: nsIDocShell): nsITaskbarWindowPreview;
    getTaskbarProgress(shell: nsIDocShell): nsITaskbarProgress;
    getOverlayIconController(shell: nsIDocShell): nsITaskbarOverlayIconController;
    createJumpListBuilder(aPrivateBrowsing: boolean): nsIJumpListBuilder;
    getGroupIdForWindow(aParent: mozIDOMWindow): string;
    setGroupIdForWindow(aParent: mozIDOMWindow, aIdentifier: string): void;
  }

  // https://searchfox.org/mozilla-central/source/widget/nsIWindowsUIUtils.idl

  interface nsIWindowsUIUtils extends nsISupports {
    readonly systemSmallIconSize: i32;
    readonly systemLargeIconSize: i32;
    setWindowIcon(
      aWindow: mozIDOMWindowProxy,
      aSmallIcon: imgIContainer,
      aLargeIcon: imgIContainer
    ): void;
    setWindowIconFromExe(aWindow: mozIDOMWindowProxy, aExe: string, aIndex: u16): void;
    setWindowIconNoData(aWindow: mozIDOMWindowProxy): void;
    readonly inWin10TabletMode: boolean;
    readonly inWin11TabletMode: boolean;
    shareUrl(urlToShare: string, shareTitle: string): void;
  }

  // https://searchfox.org/mozilla-central/source/toolkit/system/windowsPackageManager/nsIWindowsPackageManager.idl

  interface nsIWindowsPackageManager extends nsISupports {
    findUserInstalledPackages(prefix: string[]): string[];
    getInstalledDate(): u64;
    campaignId(): Promise<any>;
  }

  // https://searchfox.org/mozilla-central/source/xpcom/ds/nsIWindowsRegKey.idl

  interface nsIWindowsRegKey extends nsISupports {
    readonly ROOT_KEY_CLASSES_ROOT?: 2147483648;
    readonly ROOT_KEY_CURRENT_USER?: 2147483649;
    readonly ROOT_KEY_LOCAL_MACHINE?: 2147483650;
    readonly ACCESS_BASIC?: 131072;
    readonly ACCESS_QUERY_VALUE?: 1;
    readonly ACCESS_SET_VALUE?: 2;
    readonly ACCESS_CREATE_SUB_KEY?: 4;
    readonly ACCESS_ENUMERATE_SUB_KEYS?: 8;
    readonly ACCESS_NOTIFY?: 16;
    readonly ACCESS_READ?: 131097;
    readonly ACCESS_WRITE?: 131078;
    readonly ACCESS_ALL?: 131103;
    readonly WOW64_32?: 512;
    readonly WOW64_64?: 256;
    readonly TYPE_NONE?: 0;
    readonly TYPE_STRING?: 1;
    readonly TYPE_BINARY?: 3;
    readonly TYPE_INT?: 4;
    readonly TYPE_INT64?: 11;

    close(): void;
    open(rootKey: u32, relPath: string, mode: u32): void;
    create(rootKey: u32, relPath: string, mode: u32): void;
    openChild(relPath: string, mode: u32): nsIWindowsRegKey;
    createChild(relPath: string, mode: u32): nsIWindowsRegKey;
    readonly childCount: u32;
    getChildName(index: u32): string;
    hasChild(name: string): boolean;
    readonly valueCount: u32;
    getValueName(index: u32): string;
    hasValue(name: string): boolean;
    removeChild(relPath: string): void;
    removeValue(name: string): void;
    getValueType(name: string): u32;
    readStringValue(name: string): string;
    readIntValue(name: string): u32;
    readInt64Value(name: string): u64;
    readBinaryValue(name: string): string;
    writeStringValue(name: string, data: string): void;
    writeIntValue(name: string, data: u32): void;
    writeInt64Value(name: string, data: u64): void;
    writeBinaryValue(name: string, data: string): void;
  }

  // https://searchfox.org/mozilla-central/source/toolkit/xre/nsIWinAppHelper.idl

  interface nsIWinAppHelper extends nsISupports {
    readonly userCanElevate: boolean;
  }

  interface nsIXPCComponents_Interfaces {
    nsIInstalledApplication: nsJSIID<nsIInstalledApplication>;
    nsIAboutThirdParty: nsJSIID<nsIAboutThirdParty>;
    nsIAboutWindowsMessages: nsJSIID<nsIAboutWindowsMessages>;
    nsIWindowsAlertNotification: nsJSIID<
      nsIWindowsAlertNotification,
      typeof nsIWindowsAlertNotification_ImagePlacement
    >;
    nsIWindowsAlertsService: nsJSIID<nsIWindowsAlertsService>;
    nsIDefaultAgent: nsJSIID<nsIDefaultAgent>;
    nsIWindowsMutex: nsJSIID<nsIWindowsMutex>;
    nsIWindowsMutexFactory: nsJSIID<nsIWindowsMutexFactory>;
    nsIGeolocationUIUtilsWin: nsJSIID<nsIGeolocationUIUtilsWin>;
    nsIWindowsShellService: nsJSIID<
      nsIWindowsShellService,
      typeof nsIWindowsShellService_LaunchOnLoginEnabledEnumerator
    >;
    nsIWinTaskSchedulerService: nsJSIID<nsIWinTaskSchedulerService>;
    nsIJumpListBuilder: nsJSIID<nsIJumpListBuilder>;
    nsITaskbarOverlayIconController: nsJSIID<nsITaskbarOverlayIconController>;
    nsITaskbarPreview: nsJSIID<nsITaskbarPreview>;
    nsITaskbarPreviewButton: nsJSIID<nsITaskbarPreviewButton>;
    nsITaskbarPreviewCallback: nsJSIID<nsITaskbarPreviewCallback>;
    nsITaskbarPreviewController: nsJSIID<nsITaskbarPreviewController>;
    nsITaskbarProgress: nsJSIID<nsITaskbarProgress>;
    nsITaskbarTabPreview: nsJSIID<nsITaskbarTabPreview>;
    nsITaskbarWindowPreview: nsJSIID<nsITaskbarWindowPreview>;
    nsIWinTaskbar: nsJSIID<nsIWinTaskbar>;
    nsIWindowsUIUtils: nsJSIID<nsIWindowsUIUtils>;
    nsIWindowsPackageManager: nsJSIID<nsIWindowsPackageManager>;
    nsIWindowsRegKey: nsJSIID<nsIWindowsRegKey>;
    nsIWinAppHelper: nsJSIID<nsIWinAppHelper>;
  }
} // global

// Typedefs from xpidl.
type PRTime = i64;
type nsTaskbarProgressState = i32;

// XPCOM internal utility types.

/** XPCOM inout param is passed in as a js object with a value property. */
type InOutParam<T> = { value: T };

/** XPCOM out param is written to the passed in object's value property. */
type OutParam<T> = { value?: T };

/** Enable interfaces to inherit from enums: pick variants as optional. */
type Enums<enums> = Partial<Pick<enums, keyof enums>>;

/** Callable accepts either form of a [function] interface. */
type Callable<iface> = iface | Extract<iface[keyof iface], Function>;

export {};



================================================
FILE: src/zen/@types/lib.gecko.xpidl.d.ts
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
/**
 * Gecko XPIDL base types.
 */

/**
 * Generic IDs are created by most code which passes a nsID to js.
 * https://searchfox.org/mozilla-central/source/js/xpconnect/src/XPCJSID.cpp#24
 */
interface nsID<uuid = string> {
  readonly number: uuid;
}

/**
 * In addition to nsID, interface IIDs support instanceof type guards,
 * and expose constants defined on the class, including variants from enums.
 * https://searchfox.org/mozilla-central/source/js/xpconnect/src/XPCJSID.cpp#45
 */
type nsJSIID<iface, enums = {}> = nsID &
  Constants<iface> &
  enums & {
    new (_: never): void;
    prototype: iface;
  };

/** A union type of all known interface IIDs. */
type nsIID = nsIXPCComponents_Interfaces[keyof nsIXPCComponents_Interfaces];

/** A generic to resolve QueryInterface return type from a nsIID. */
type nsQIResult<iid> = iid extends { prototype: infer U } ? U : never;

/** Picks only const number properties from T. */
type Constants<T> = { [K in keyof T as IfConst<K, T[K]>]: T[K] };

/** Resolves only for keys K whose corresponding type T is a narrow number. */
type IfConst<K, T> = T extends number ? (number extends T ? never : K) : never;

/** u32 */
type nsresult = u32;

// Numeric typedefs, useful as a quick reference in method signatures.
type double = number;
type float = number;
type i16 = number;
type i32 = number;
type i64 = number;
type u16 = number;
type u32 = number;
type u64 = number;
type u8 = number;



================================================
FILE: src/zen/@types/zen.d.ts
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
/**
 * NOTE: Do not modify this file by hand.
 * Content was generated from source .webidl files.
 */
/**
 * This file from https://phabricator.services.mozilla.com/D209620,
 * the source of https://bugzilla.mozilla.org/show_bug.cgi?id=1895418
 * Currently https://searchfox.org/mozilla-central/source/tools/%40types
 * in 2024-12-28 21:05 KST
 */

/// <reference types="../lib.gecko.xpcom.d.ts" />
/// <reference types="../lib.gecko.services.d.ts" />
/// <reference types="../lib.gecko.dom.d.ts" />
/// <reference types="../lib.gecko.tweaks.d.ts" />
/// <reference types="../lib.gecko.nsresult.d.ts" />

declare let window: Window;
declare let Components: nsIXPCComponents;
declare var Cu: nsIXPCComponents_Utils;
declare var Ci: nsIXPCComponents_Interfaces;
declare var Services: JSServices;
declare var Cc: nsIXPCComponents_Classes & {
  [key: string]: {
    getService: (t: (typeof Ci)[keyof typeof Ci]) => any;
    createInstance: (aClass: (typeof Ci)[keyof typeof Ci]) => any;
  };
};
interface CSSStyleDeclaration {
  display: string;
  flex: string;
  order: string;
  flexDirection: string;
  flexTemplateAreas: string;
  height: string;
  animation: string;
}

interface nsIXPCComponents extends nsISupports {
  readonly interfaces: nsIXPCComponents_Interfaces;
  readonly results: nsIXPCComponents_Results;
  isSuccessCode(result: any): boolean;
  readonly classes: nsIXPCComponents_Classes;
  readonly stack: nsIStackFrame;
  readonly manager: nsIComponentManager;
  readonly utils: nsIXPCComponents_Utils;
  readonly ID: nsIXPCComponents_ID;
  readonly Exception: any;
  readonly Constructor: (aClass: any, aIID: any, aFlags: any) => any;
  returnCode: any;
}

/**
 * TS-TODO - Needs typing.
 *
 * This file contains type stubs for loading things from Gecko. All of these
 * types should be used in the correct places eventually.
 */

/**
 * Namespace anything that has its types mocked out here. These definitions are
 * only "good enough" to get the type checking to pass in this directory.
 * Eventually some more structured solution should be found. This namespace is
 * global and makes sure that all the definitions inside do not clash with
 * naming.
 */
declare namespace MockedExports {
  /**
   * This interface teaches ChromeUtils.importESModule how to find modules.
   */
  interface KnownModules {
    Services: typeof import("Services");
    "resource://gre/modules/AppConstants.sys.mjs": typeof import("resource://gre/modules/AppConstants.sys.mjs");
    "resource:///modules/CustomizableUI.sys.mjs": typeof import("resource:///modules/CustomizableUI.sys.mjs");
    "resource:///modules/CustomizableWidgets.sys.mjs": typeof import("resource:///modules/CustomizableWidgets.sys.mjs");
  }

  interface ChromeUtils {
    /**
     * This function reads the KnownModules and resolves which import to use.
     * If you are getting the TS2345 error:
     *
     *  Argument of type '"resource:///.../file.sys.mjs"' is not assignable to
     *  parameter of type
     *
     * Then add the file path to the KnownModules above.
     */
    importESModule: <S extends keyof KnownModules>(module: S) => KnownModules[S];
    defineESModuleGetters: (target: any, mappings: any) => void;
  }

  interface MessageManager {
    loadFrameScript(url: string, flag: boolean): void;
    sendAsyncMessage: (event: string, data: any) => void;
    addMessageListener: (event: string, listener: (event: any) => void) => void;
  }

  // This is the thing in window.gBrowser, defined in
  // https://searchfox.org/mozilla-central/source/browser/base/content/tabbrowser.js
  interface Browser {
    addWebTab: (url: string, options: any) => BrowserTab;
    contentPrincipal: any;
    selectedTab: BrowserTab;
    selectedBrowser?: ChromeBrowser;
    messageManager: MessageManager;
    ownerDocument?: ChromeDocument;
    tabs: BrowserTab[];
  }

  interface BrowserGroup {
    readonly tabs: BrowserTab[];
    readonly group?: BrowserGroup;
  }

  // This is a tab in a browser, defined in
  // https://searchfox.org/mozilla-central/rev/6b8a3f804789fb865f42af54e9d2fef9dd3ec74d/browser/base/content/tabbrowser.js#2580
  interface BrowserTab extends XULElement {
    linkedBrowser: ChromeBrowser;
    readonly group?: BrowserGroup;
  }

  interface BrowserWindow extends Window {
    gBrowser: Browser;
    focus(): void;
  }

  // The thing created in https://searchfox.org/mozilla-central/rev/6b8a3f804789fb865f42af54e9d2fef9dd3ec74d/browser/base/content/tabbrowser.js#2088
  // This is linked to BrowserTab.
  interface ChromeBrowser {
    browsingContext?: BrowsingContext;
    browserId: number;
  }

  interface BrowsingContext {
    /**
     * A unique identifier for the browser element that is hosting this
     * BrowsingContext tree. Every BrowsingContext in the element's tree will
     * return the same ID in all processes and it will remain stable regardless of
     * process changes. When a browser element's frameloader is switched to
     * another browser element this ID will remain the same but hosted under the
     * under the new browser element.
     * We are using this identifier for getting the active tab ID and passing to
     * the profiler back-end. See `getActiveBrowserID` for the usage.
     */
    browserId: number;
  }

  type GetPref<T> = (prefName: string, defaultValue?: T) => T;
  type SetPref<T> = (prefName: string, value?: T) => T;
  type nsIPrefBranch = {
    clearUserPref: (prefName: string) => void;
    getStringPref: GetPref<string>;
    setStringPref: SetPref<string>;
    getCharPref: GetPref<string>;
    setCharPref: SetPref<string>;
    getIntPref: GetPref<number>;
    setIntPref: SetPref<number>;
    getBoolPref: GetPref<boolean>;
    setBoolPref: SetPref<boolean>;
    addObserver: (aDomain: string, aObserver: PrefObserver, aHoldWeak?: boolean) => void;
    removeObserver: (aDomain: string, aObserver: PrefObserver) => void;
  };

  type PrefObserverFunction = (
    aSubject: nsIPrefBranch,
    aTopic: "nsPref:changed",
    aData: string
  ) => unknown;
  type PrefObserver = PrefObserverFunction | { observe: PrefObserverFunction };

  interface nsIURI {}

  interface SharedLibrary {
    start: number;
    end: number;
    offset: number;
    name: string;
    path: string;
    debugName: string;
    debugPath: string;
    breakpadId: string;
    arch: string;
  }

  interface ProfileGenerationAdditionalInformation {
    sharedLibraries: SharedLibrary[];
  }

  interface ProfileAndAdditionalInformation {
    profile: ArrayBuffer;
    additionalInformation?: ProfileGenerationAdditionalInformation;
  }

  type Services = {
    env: {
      set: (name: string, value: string) => void;
      get: (name: string) => string;
      exists: (name: string) => boolean;
    };
    prefs: nsIPrefBranch;
    profiler: {
      StartProfiler: (
        entryCount: number,
        interval: number,
        features: string[],
        filters?: string[],
        activeTabId?: number,
        duration?: number
      ) => void;
      StopProfiler: () => void;
      IsPaused: () => boolean;
      Pause: () => void;
      Resume: () => void;
      IsSamplingPaused: () => boolean;
      PauseSampling: () => void;
      ResumeSampling: () => void;
      GetFeatures: () => string[];
      getProfileDataAsync: (sinceTime?: number) => Promise<object>;
      getProfileDataAsArrayBuffer: (sinceTime?: number) => Promise<ArrayBuffer>;
      getProfileDataAsGzippedArrayBuffer: (
        sinceTime?: number
      ) => Promise<ProfileAndAdditionalInformation>;
      IsActive: () => boolean;
      sharedLibraries: SharedLibrary[];
    };
    platform: string;
    obs: {
      addObserver: (observer: object, type: string) => void;
      removeObserver: (observer: object, type: string) => void;
    };
    wm: {
      getMostRecentWindow: (name: string) => BrowserWindow;
      getMostRecentNonPBWindow: (name: string) => BrowserWindow;
    };
    focus: {
      activeWindow: BrowserWindow;
    };
    io: {
      newURI(url: string): nsIURI;
    };
    scriptSecurityManager: any;
    startup: {
      quit: (optionsBitmask: number) => void;
      eForceQuit: number;
      eRestart: number;
    };
  };

  const EventEmitter: {
    decorate: (target: object) => void;
  };

  const AppConstantsSYSMJS: {
    AppConstants: {
      platform: string;
    };
  };

  interface BrowsingContextStub {}
  interface PrincipalStub {}

  interface WebChannelTarget {
    browsingContext: BrowsingContextStub;
    browser: Browser;
    eventTarget: null;
    principal: PrincipalStub;
  }

  interface FaviconData {
    uri: nsIURI;
    dataLen: number;
    data: number[];
    mimeType: string;
    size: number;
  }

  const PlaceUtilsSYSMJS: {
    PlacesUtils: {
      // TS-TODO: Add the rest.
    };
  };

  // TS-TODO
  const CustomizableUISYSMJS: any;
  const CustomizableWidgetsSYSMJS: any;
  const PanelMultiViewSYSMJS: any;

  const LoaderESM: {
    require: (path: string) => any;
  };

  const Services: Services;

  // This class is needed by the Cc importing mechanism. e.g.
  // Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker);
  class nsIFilePicker {}

  interface FilePicker {
    init: (browsingContext: BrowsingContext, title: string, mode: number) => void;
    open: (callback: (rv: number) => unknown) => void;
    // The following are enum values.
    modeGetFolder: number;
    returnOK: number;
    file: {
      path: string;
    };
  }

  interface Cc {
    "@mozilla.org/filepicker;1": {
      createInstance(instance: nsIFilePicker): FilePicker;
    };
  }

  interface Ci {
    nsIFilePicker: nsIFilePicker;
  }

  interface Cu {
    exportFunction: (fn: Function, scope: object, options?: object) => void;
    cloneInto: (value: any, scope: object, options?: object) => void;
    isInAutomation: boolean;
  }

  interface FluentLocalization {
    /**
     * This function sets the attributes data-l10n-id and possibly data-l10n-args
     * on the element.
     */
    setAttributes(target: Element, id?: string, args?: Record<string, string>): void;
  }
}

interface PathUtilsInterface {
  split: (path: string) => string[];
  isAbsolute: (path: string) => boolean;
}

declare module "Services" {
  export = MockedExports.Services;
}

declare module "ChromeUtils" {
  export = ChromeUtils;
}

declare let ChromeUtils: MockedExports.ChromeUtils;

declare let PathUtils: PathUtilsInterface;

// These global objects can be used directly in JSM files only.
declare var Cu: MockedExports.Cu;
declare var Cc: MockedExports.Cc;
declare var Ci: MockedExports.Ci;
declare var Services: MockedExports.Services;

/**
 * This is a variant on the normal Document, as it contains chrome-specific properties.
 */
declare interface ChromeDocument extends Document {
  /**
   * Create a XUL element of a specific type. Right now this function
   * only refines iframes, but more tags could be added.
   */
  createXULElement: ((type: "iframe") => XULIframeElement) & ((type: string) => XULElement);

  /**
   * This is a fluent instance connected to this document.
   */
  l10n: MockedExports.FluentLocalization;
}

/**
 * This is a variant on the HTMLElement, as it contains chrome-specific properties.
 */
declare interface ChromeHTMLElement extends HTMLElement {
  ownerDocument: ChromeDocument;
}

declare interface XULIframeElement extends XULElement {
  contentWindow: Window;
  src: string;
}

// `declare interface Window` is TypeScript way to let us implicitely extend and
// augment the already existing Window interface defined in the TypeScript library.
// This makes it possible to define properties that exist in the window object
// while in a privileged context. We assume that all of the environments we run
// in this project will be pribileged, that's why we take this shortcut of
// globally extending the Window type.
// See the ChromeOnly attributes in https://searchfox.org/mozilla-central/rev/896042a1a71066254ceb5291f016ca3dbca21cb7/dom/webidl/Window.webidl#391
//
// openWebLinkIn and openTrustedLinkIn aren't in all privileged windows, but
// they're also defined in the privileged environments we're dealing with in
// this project, so they're defined here for convenience.
declare interface Window {
  browsingContext: MockedExports.BrowsingContext;
  openWebLinkIn: (
    url: string,
    where: "current" | "tab" | "tabshifted" | "window" | "save",
    options?: Partial<{
      // Not all possible options are present, please add more if/when needed.
      userContextId: number;
      forceNonPrivate: boolean;
      relatedToCurrent: boolean;
      resolveOnContentBrowserCreated: (contentBrowser: MockedExports.ChromeBrowser) => unknown;
    }>
  ) => void;
  openTrustedLinkIn: (
    url: string,
    where: "current" | "tab" | "tabshifted" | "window" | "save",
    options?: Partial<{
      // Not all possible options are present, please add more if/when needed.
      userContextId: number;
      forceNonPrivate: boolean;
      relatedToCurrent: boolean;
      resolveOnContentBrowserCreated: (contentBrowser: MockedExports.ChromeBrowser) => unknown;
    }>
  ) => void;
}

declare class ChromeWorker extends Worker {}

declare interface MenuListElement extends XULElement {
  value: string;
  disabled: boolean;
}

declare interface XULCommandEvent extends Event {
  target: XULElement;
}

declare interface XULElementWithCommandHandler {
  addEventListener: (
    type: "command",
    handler: (event: XULCommandEvent) => void,
    isCapture?: boolean
  ) => void;
  removeEventListener: (
    type: "command",
    handler: (event: XULCommandEvent) => void,
    isCapture?: boolean
  ) => void;
}

declare type nsIPrefBranch = MockedExports.nsIPrefBranch;

// chrome context-only DOM isInstance method
// XXX: This hackishly extends Function because there is no way to extend DOM constructors.
// Callers should manually narrow the type when needed.
// See also https://github.com/microsoft/TypeScript-DOM-lib-generator/issues/222
interface Function {
  isInstance(obj: any): boolean;
}



================================================
FILE: src/zen/common/Components.manifest
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

category browser-before-ui-startup resource:///modules/ZenActorsManager.sys.mjs gZenActorsManager.init



================================================
FILE: src/zen/common/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zenThemeModifier.js                                     (../../zen/common/zenThemeModifier.js)
        content/browser/ZenPreloadedScripts.js                                  (../../zen/common/ZenPreloadedScripts.js)
        content/browser/zen-sets.js                                             (../../zen/common/zen-sets.js)

        content/browser/ZenStartup.mjs                                          (../../zen/common/modules/ZenStartup.mjs)
        content/browser/ZenUpdates.mjs                                          (../../zen/common/modules/ZenUpdates.mjs)
        content/browser/ZenUIManager.mjs                                        (../../zen/common/modules/ZenUIManager.mjs)
        content/browser/zen-components/ZenCommonUtils.mjs                       (../../zen/common/modules/ZenCommonUtils.mjs)
        content/browser/zen-components/ZenSessionStore.mjs                      (../../zen/common/modules/ZenSessionStore.mjs)
        content/browser/zen-components/ZenHasPolyfill.mjs                       (../../zen/common/modules/ZenHasPolyfill.mjs)
        content/browser/zen-components/ZenSidebarNotification.mjs               (../../zen/common/modules/ZenSidebarNotification.mjs)
        content/browser/zen-components/ZenMenubar.mjs                           (../../zen/common/modules/ZenMenubar.mjs)

        content/browser/zen-components/ZenEmojisData.min.mjs                    (../../zen/common/emojis/ZenEmojisData.min.mjs)
        content/browser/zen-components/ZenEmojiPicker.mjs                       (../../zen/common/emojis/ZenEmojiPicker.mjs)

*       content/browser/zen-styles/zen-theme.css                                (../../zen/common/styles/zen-theme.css)
        content/browser/zen-styles/zen-buttons.css                              (../../zen/common/styles/zen-buttons.css)
        content/browser/zen-styles/zen-browser-ui.css                           (../../zen/common/styles/zen-browser-ui.css)
        content/browser/zen-styles/zen-animations.css                           (../../zen/common/styles/zen-animations.css)
        content/browser/zen-styles/zen-panel-ui.css                             (../../zen/common/styles/zen-panel-ui.css)
        content/browser/zen-styles/zen-single-components.css                    (../../zen/common/styles/zen-single-components.css)
        content/browser/zen-styles/zen-sidebar.css                              (../../zen/common/styles/zen-sidebar.css)
*       content/browser/zen-styles/zen-toolbar.css                              (../../zen/common/styles/zen-toolbar.css)
        content/browser/zen-styles/zen-browser-container.css                    (../../zen/common/styles/zen-browser-container.css)
        content/browser/zen-styles/zen-omnibox.css                              (../../zen/common/styles/zen-omnibox.css)
        content/browser/zen-styles/zen-popup.css                                (../../zen/common/styles/zen-popup.css)
        content/browser/zen-styles/zen-branding.css                             (../../zen/common/styles/zen-branding.css)
        content/browser/zen-styles/zen-sidebar-notification.css                 (../../zen/common/styles/zen-sidebar-notification.css)

        content/browser/zen-styles/zen-panels/bookmarks.css                     (../../zen/common/styles/zen-panels/bookmarks.css)
        content/browser/zen-styles/zen-panels/print.css                         (../../zen/common/styles/zen-panels/print.css)
        content/browser/zen-styles/zen-panels/dialog.css                        (../../zen/common/styles/zen-panels/dialog.css)



================================================
FILE: src/zen/common/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

EXTRA_JS_MODULES += [
  "sys/ZenActorsManager.sys.mjs",
  "sys/ZenCustomizableUI.sys.mjs",
  "sys/ZenUIMigration.sys.mjs",
]



================================================
FILE: src/zen/common/zen-sets.js
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

document.addEventListener(
  "MozBeforeInitialXULLayout",
  () => {
    // <commandset id="mainCommandSet"> defined in browser-sets.inc
    // eslint-disable-next-line complexity
    document.getElementById("zenCommandSet").addEventListener("command", (event) => {
      switch (event.target.id) {
        case "cmd_zenCompactModeToggle":
          gZenCompactModeManager.toggle();
          break;
        case "cmd_toggleCompactModeIgnoreHover":
          gZenCompactModeManager.toggle(true);
          break;
        case "cmd_zenCompactModeShowSidebar":
          gZenCompactModeManager.toggleSidebar();
          break;
        case "cmd_zenWorkspaceForward":
          gZenWorkspaces.changeWorkspaceShortcut();
          break;
        case "cmd_zenWorkspaceBackward":
          gZenWorkspaces.changeWorkspaceShortcut(-1);
          break;
        case "cmd_zenSplitViewGrid":
          gZenViewSplitter.toggleShortcut("grid");
          break;
        case "cmd_zenSplitViewVertical":
          gZenViewSplitter.toggleShortcut("vsep");
          break;
        case "cmd_zenSplitViewHorizontal":
          gZenViewSplitter.toggleShortcut("hsep");
          break;
        case "cmd_zenSplitViewUnsplit":
          gZenViewSplitter.toggleShortcut("unsplit");
          break;
        case "cmd_zenSplitViewContextMenu":
          gZenViewSplitter.contextSplitTabs();
          break;
        case "cmd_zenCopyCurrentURLMarkdown":
          gZenCommonActions.copyCurrentURLAsMarkdownToClipboard();
          break;
        case "cmd_zenCopyCurrentURL":
          gZenCommonActions.copyCurrentURLToClipboard();
          break;
        case "cmd_zenPinnedTabReset":
          gZenPinnedTabManager.resetPinnedTab(gBrowser.selectedTab);
          break;
        case "cmd_zenPinnedTabResetNoTab":
          gZenPinnedTabManager.resetPinnedTab();
          break;
        case "cmd_zenToggleSidebar":
          gZenVerticalTabsManager.toggleExpand();
          break;
        case "cmd_zenOpenZenThemePicker":
          gZenThemePicker.openThemePicker(event);
          break;
        case "cmd_zenChangeWorkspaceTab":
          gZenWorkspaces.changeTabWorkspace(
            event.sourceEvent.target.getAttribute("zen-workspace-id")
          );
          break;
        case "cmd_zenToggleTabsOnRight":
          gZenVerticalTabsManager.toggleTabsOnRight();
          break;
        case "cmd_zenSplitViewLinkInNewTab":
          gZenViewSplitter.splitLinkInNewTab();
          break;
        case "cmd_zenNewEmptySplit":
          setTimeout(() => {
            gZenViewSplitter.createEmptySplit();
          }, 0);
          break;
        case "cmd_zenReplacePinnedUrlWithCurrent":
          gZenPinnedTabManager.replacePinnedUrlWithCurrent();
          break;
        case "cmd_contextZenAddToEssentials":
          gZenPinnedTabManager.addToEssentials();
          break;
        case "cmd_contextZenRemoveFromEssentials":
          gZenPinnedTabManager.removeEssentials();
          break;
        case "cmd_zenCtxDeleteWorkspace":
          gZenWorkspaces.contextDeleteWorkspace(event);
          break;
        case "cmd_zenChangeWorkspaceName":
          gZenVerticalTabsManager.renameTabStart({
            target: gZenWorkspaces.activeWorkspaceIndicator.querySelector(
              ".zen-current-workspace-indicator-name"
            ),
          });
          break;
        case "cmd_zenChangeWorkspaceIcon":
          gZenWorkspaces.changeWorkspaceIcon();
          break;
        case "cmd_zenReorderWorkspaces":
          gZenUIManager.showToast("zen-workspaces-how-to-reorder-title", {
            timeout: 9000,
            descriptionId: "zen-workspaces-how-to-reorder-desc",
          });
          break;
        case "cmd_zenOpenWorkspaceCreation":
          gZenWorkspaces.openWorkspaceCreation(event);
          break;
        case "cmd_zenOpenFolderCreation":
          gZenFolders.createFolder([], {
            renameFolder: true,
          });
          break;
        case "cmd_zenTogglePinTab": {
          const currentTab = gBrowser.selectedTab;
          if (currentTab && !currentTab.hasAttribute("zen-empty-tab")) {
            if (currentTab.pinned) {
              gBrowser.unpinTab(currentTab);
            } else {
              gBrowser.pinTab(currentTab);
            }
          }
          break;
        }
        case "cmd_zenCloseUnpinnedTabs":
          gZenWorkspaces.closeAllUnpinnedTabs();
          break;
        case "cmd_zenUnloadWorkspace": {
          gZenWorkspaces.unloadWorkspace();
          break;
        }
        case "cmd_zenNewNavigatorUnsynced":
          OpenBrowserWindow({ zenSyncedWindow: false });
          break;
        default:
          gZenGlanceManager.handleMainCommandSet(event);
          if (event.target.id.startsWith("cmd_zenWorkspaceSwitch")) {
            const index = parseInt(event.target.id.replace("cmd_zenWorkspaceSwitch", ""), 10) - 1;
            gZenWorkspaces.shortcutSwitchTo(index);
          }
          break;
      }
    });
  },
  { once: true }
);



================================================
FILE: src/zen/common/ZenPreloadedScripts.js
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

// prettier-ignore
// eslint-disable-next-line no-lone-blocks
{
  Services.scriptloader.loadSubScript("chrome://browser/content/zen-components/ZenWorkspaceBookmarksStorage.js", this);

  ChromeUtils.importESModule("chrome://browser/content/ZenStartup.mjs", { global: "current" });
  ChromeUtils.importESModule("chrome://browser/content/zen-components/ZenCompactMode.mjs", { global: "current" });
  ChromeUtils.importESModule("chrome://browser/content/ZenUIManager.mjs", { global: "current" });
  ChromeUtils.importESModule("chrome://browser/content/zen-components/ZenMods.mjs", { global: "current" });
  ChromeUtils.importESModule("chrome://browser/content/zen-components/ZenKeyboardShortcuts.mjs", { global: "current" });
  ChromeUtils.importESModule("chrome://browser/content/zen-components/ZenSessionStore.mjs", { global: "current" });

  Services.scriptloader.loadSubScript("chrome://browser/content/zen-components/ZenDragAndDrop.js", this);
}



================================================
FILE: src/zen/common/zenThemeModifier.js
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

"use strict";

/* INCLUDE THIS FILE AS:
 *   <script src="chrome://browser/content/zenThemeModifier.js"></script>
 *
 * FOR ANY WEBSITE THAT WOULD NEED TO USE THE ACCENT COLOR, ETC
 */
{
  const { AppConstants } = ChromeUtils.importESModule(
    "resource://gre/modules/AppConstants.sys.mjs"
  );

  const kZenThemePrefsList = [
    "zen.theme.accent-color",
    "zen.theme.border-radius",
    "zen.theme.content-element-separation",
  ];
  const kZenMaxElementSeparation = 12;

  /**
   * ZenThemeModifier controls the application of theme data to the browser,
   * for example, it injects the accent color to the document. This is used
   * because we need a way to apply the accent color without having to worry about
   * shadow roots not inheriting the accent color.
   *
   * note: It must be a Firefox builtin page with access to the browser's configuration
   *  and services.
   */
  window.ZenThemeModifier = {
    _inMainBrowserWindow: false,

    /**
     * Listen for theming updates from the LightweightThemeChild actor, and
     * begin listening to changes in preferred color scheme.
     */
    init() {
      this._inMainBrowserWindow = window.location.href == "chrome://browser/content/browser.xhtml";
      this.listenForEvents();
      this.updateAllThemeBasics();
    },

    listenForEvents() {
      var handleEvent = this.handleEvent.bind(this);
      // Listen for changes in the accent color and border radius
      for (let pref of kZenThemePrefsList) {
        Services.prefs.addObserver(pref, handleEvent);
      }

      // Add fullscreen listener to update the theme when going in and out of fullscreen
      const eventsForSeparation = [
        "ZenViewSplitter:SplitViewDeactivated",
        "ZenViewSplitter:SplitViewActivated",
        "fullscreen",
        "ZenCompactMode:Toggled",
      ];
      const separationHandler = this.updateElementSeparation.bind(this);
      for (let eventName of eventsForSeparation) {
        window.addEventListener(eventName, separationHandler);
      }

      window.addEventListener(
        "unload",
        () => {
          for (let pref of kZenThemePrefsList) {
            Services.prefs.removeObserver(pref, handleEvent);
          }
          for (let eventName of eventsForSeparation) {
            window.removeEventListener(eventName, separationHandler);
          }
        },
        { once: true }
      );
    },

    handleEvent() {
      // note: even might be undefined, but we shoudnt use it!
      this.updateAllThemeBasics();
    },

    /**
     * Update all theme basics, like the accent color.
     */
    async updateAllThemeBasics() {
      this.updateAccentColor();
      this.updateBorderRadius();
      this.updateElementSeparation();
    },

    updateBorderRadius() {
      const borderRadius = Services.prefs.getIntPref("zen.theme.border-radius", -1);

      // -1 is the default value, will use platform-native values
      // otherwise, use the custom value
      if (borderRadius == -1) {
        if (AppConstants.platform == "macosx") {
          const targetRadius = window.matchMedia("(-moz-mac-tahoe-theme)").matches ? 16 : 10;
          document.documentElement.style.setProperty("--zen-border-radius", targetRadius + "px");
        } else if (AppConstants.platform == "linux") {
          // Linux uses GTK CSD titlebar radius, default to 8px
          document.documentElement.style.setProperty(
            "--zen-border-radius",
            "env(-moz-gtk-csd-titlebar-radius, 8px)"
          );
        } else {
          // Windows defaults to 8px
          document.documentElement.style.setProperty("--zen-border-radius", "8px");
        }
      } else {
        // Use the overridden value
        document.documentElement.style.setProperty("--zen-border-radius", borderRadius + "px");
      }
    },

    updateElementSeparation() {
      const kMinElementSeparation = 0.1; // in px
      let separation = this.elementSeparation;
      if (
        document.documentElement.hasAttribute("inFullscreen") &&
        window.gZenCompactModeManager?.preference &&
        !document.getElementById("tabbrowser-tabbox")?.hasAttribute("zen-split-view") &&
        Services.prefs.getBoolPref("zen.view.borderless-fullscreen", true)
      ) {
        separation = 0;
      }
      // In order to still use it on fullscreen, even if it's 0px, add .1px (almost invisible)
      separation = Math.max(kMinElementSeparation, separation);
      document.documentElement.style.setProperty("--zen-element-separation", separation + "px");
      if (separation == kMinElementSeparation) {
        document.documentElement.setAttribute("zen-no-padding", true);
      } else {
        document.documentElement.removeAttribute("zen-no-padding");
      }
    },

    get elementSeparation() {
      return Math.min(
        Services.prefs.getIntPref("zen.theme.content-element-separation"),
        kZenMaxElementSeparation
      );
    },

    /**
     * Update the accent color.
     */
    updateAccentColor() {
      const accentColor = Services.prefs.getStringPref("zen.theme.accent-color");
      document.documentElement.style.setProperty("--zen-primary-color", accentColor);
    },
  };

  if (typeof Services !== "undefined") {
    ZenThemeModifier.init();
  }
}



================================================
FILE: src/zen/common/emojis/fetch_emojis.py
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

import os
import requests
import json


def get_emojis(url):
  """
  Fetches emojis from the given URL and formats them into a JavaScript module.

  Args:
      url (str): The URL to fetch the emoji data from.

  Returns:
      array: A JavaScript array of emoji objects formatted for use in a module.
  """
  response = requests.get(url)
  response.raise_for_status()  # Raise an error for bad responses
  emojis_data = response.json()

  # We only want "tags", "emoji" amd "order" from the dictionaries inside this array
  emojis = []
  for emoji in emojis_data:
    emojis.append({
        "tags": emoji.get("tags", []),
        "order": emoji.get("order", 0),
        "emoji": emoji.get("emoji", "")
    })
  return emojis


def get_js_code(emojis):
  """
  Generates JavaScript code to export the emojis as a module.

  Args:
      emojis (list): A list of emoji dictionaries.

  Returns:
      str: JavaScript code as a string.
  """
  js_code = "/* eslint-disable no-unused-vars */\n"
  js_code += "var ZenEmojisData = "
  # dump without unicode escape
  js_code += json.dumps(emojis, ensure_ascii=False)
  return js_code


if __name__ == "__main__":
  # Define the URL for the emoji JSON file
  url = "https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json"
  emojis_path = os.path.join(os.path.dirname(__file__), "ZenEmojisData.min.mjs")
  emojis = get_emojis(url)
  js_code = get_js_code(emojis)
  with open(emojis_path, "w", encoding="utf-8") as file:
    file.write(js_code)
  print(f"Emojis data has been written to {emojis_path}")



================================================
FILE: src/zen/common/emojis/ZenEmojiPicker.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

import { nsZenDOMOperatedFeature } from "chrome://browser/content/zen-components/ZenCommonUtils.mjs";

// prettier-ignore
const SVG_ICONS = [
    "airplane.svg", "american-football.svg", "baseball.svg", "basket.svg", 
    "bed.svg", "bell.svg", "bookmark.svg", "book.svg", 
    "briefcase.svg", "brush.svg", "bug.svg", "build.svg", 
    "cafe.svg", "call.svg", "card.svg", "chat.svg", 
    "checkbox.svg", "circle.svg", "cloud.svg", "code.svg", 
    "coins.svg", "construct.svg", "cutlery.svg", "egg.svg", 
    "extension-puzzle.svg", "eye.svg", "fast-food.svg", "fish.svg", 
    "flag.svg", "flame.svg", "flask.svg", "folder.svg", 
    "game-controller.svg", "globe-1.svg", "globe.svg", "grid-2x2.svg", 
    "grid-3x3.svg", "heart.svg", "ice-cream.svg", "image.svg", 
    "inbox.svg", "key.svg", "layers.svg", "leaf.svg", 
    "lightning.svg", "location.svg", "lock-closed.svg", "logo-rss.svg", 
    "logo-usd.svg", "mail.svg", "map.svg", "megaphone.svg", 
    "moon.svg", "music.svg", "navigate.svg", "nuclear.svg", 
    "page.svg", "palette.svg", "paw.svg", "people.svg", 
    "pizza.svg", "planet.svg", "present.svg", "rocket.svg", 
    "school.svg", "shapes.svg", "shirt.svg", "skull.svg", 
    "squares.svg", "square.svg", "star-1.svg", "star.svg", 
    "stats-chart.svg", "sun.svg", "tada.svg", "terminal.svg", 
    "ticket.svg", "time.svg", "trash.svg", "triangle.svg", 
    "video.svg", "volume-high.svg", "wallet.svg", "warning.svg", 
    "water.svg", "weight.svg", 
  ];

class nsZenEmojiPicker extends nsZenDOMOperatedFeature {
  #panel;

  #anchor;
  #emojiAsSVG = false;

  #currentPromise = null;
  #currentPromiseResolve = null;
  #currentPromiseReject = null;

  init() {
    this.#panel = document.getElementById("PanelUI-zen-emojis-picker");
    this.#panel.addEventListener("popupshowing", this);
    this.#panel.addEventListener("popuphidden", this);
    this.#panel.addEventListener("command", this);
    this.searchInput.addEventListener("input", this);
  }

  handleEvent(event) {
    switch (event.type) {
      case "popupshowing":
        this.#onPopupShowing(event);
        break;
      case "popuphidden":
        this.#onPopupHidden(event);
        break;
      case "command":
        if (event.target.id === "PanelUI-zen-emojis-picker-none") {
          this.#selectEmoji(null);
        } else if (event.target.id === "PanelUI-zen-emojis-picker-change-emojis") {
          this.#changePage(false);
        } else if (event.target.id === "PanelUI-zen-emojis-picker-change-svg") {
          this.#changePage(true);
        }
        break;
      case "input":
        this.#onSearchInput(event);
        break;
    }
  }

  get #emojis() {
    if (this._emojis) {
      return this._emojis;
    }
    const lazy = {};
    Services.scriptloader.loadSubScript(
      "chrome://browser/content/zen-components/ZenEmojisData.min.mjs",
      lazy
    );
    /* eslint-disable mozilla/valid-lazy */
    this._emojis = lazy.ZenEmojisData;
    return this._emojis;
  }

  get emojiList() {
    return document.getElementById("PanelUI-zen-emojis-picker-list");
  }

  get svgList() {
    return document.getElementById("PanelUI-zen-emojis-picker-svgs");
  }

  get searchInput() {
    return document.getElementById("PanelUI-zen-emojis-picker-search");
  }

  #changePage(toSvg = false) {
    const itemToScroll = toSvg
      ? this.svgList
      : document.getElementById("PanelUI-zen-emojis-picker-pages").querySelector('[emojis="true"]');
    itemToScroll.scrollIntoView({
      behavior: "smooth",
      block: "nearest",
      inline: "start",
    });
    const button = document.getElementById(
      `PanelUI-zen-emojis-picker-change-${toSvg ? "svg" : "emojis"}`
    );
    const otherButton = document.getElementById(
      `PanelUI-zen-emojis-picker-change-${toSvg ? "emojis" : "svg"}`
    );
    button.classList.add("selected");
    otherButton.classList.remove("selected");
  }

  #clearEmojis() {
    delete this._emojis;
  }

  #onSearchInput(event) {
    const input = event.target;
    const value = input.value.trim().toLowerCase();
    // search for emojis.tags and order by emojis.order
    const filteredEmojis = this.#emojis
      .filter((emoji) => {
        return emoji.tags.some((tag) => tag.toLowerCase().includes(value));
      })
      .sort((a, b) => a.order - b.order);
    for (const button of this.emojiList.children) {
      const buttonEmoji = button.getAttribute("label");
      const emojiObject = filteredEmojis.find((emoji) => emoji.emoji === buttonEmoji);
      if (emojiObject) {
        button.hidden = !emojiObject.tags.some((tag) => tag.toLowerCase().includes(value));
        button.style.order = emojiObject.order;
      } else {
        button.hidden = true;
      }
    }
  }

  // note: It's async on purpose so we can render the popup before processing the emojis
  async #onPopupShowing(event) {
    if (event.target !== this.#panel) {
      return;
    }
    this.searchInput.value = "";
    const allowEmojis = !this.#panel.hasAttribute("only-svg-icons");
    if (allowEmojis) {
      const emojiList = this.emojiList;
      for (const emoji of this.#emojis) {
        const item = document.createXULElement("toolbarbutton");
        item.className = "toolbarbutton-1 zen-emojis-picker-emoji";
        item.setAttribute("label", emoji.emoji);
        item.setAttribute("tooltiptext", "");
        item.addEventListener("command", () => {
          this.#selectEmoji(emoji.emoji);
        });
        emojiList.appendChild(item);
      }
      setTimeout(() => {
        this.searchInput.focus();
      }, 500);
    }
    const svgList = this.svgList;
    for (const icon of SVG_ICONS) {
      const item = document.createXULElement("toolbarbutton");
      item.className = "toolbarbutton-1 zen-emojis-picker-svg";
      item.setAttribute("label", icon);
      item.setAttribute("tooltiptext", "");
      item.style.listStyleImage = `url(${this.getSVGURL(icon)})`;
      item.setAttribute("icon", icon);
      item.addEventListener("command", () => {
        this.#selectEmoji(this.getSVGURL(icon));
      });
      svgList.appendChild(item);
    }
  }

  #onPopupHidden(event) {
    if (event.target !== this.#panel) {
      return;
    }
    this.#clearEmojis();

    this.#changePage(false);

    const emojiList = this.emojiList;
    emojiList.innerHTML = "";

    this.svgList.innerHTML = "";

    if (this.#currentPromiseReject) {
      this.#currentPromiseReject(new Error("Emoji picker closed without selection"));
    }

    this.#currentPromise = null;
    this.#currentPromiseResolve = null;
    this.#currentPromiseReject = null;

    this.#anchor.removeAttribute("zen-emoji-open");
    this.#anchor.parentElement.removeAttribute("zen-emoji-open");
    this.#anchor = null;
  }

  #selectEmoji(emoji) {
    if (this.#emojiAsSVG && emoji && !emoji.startsWith("chrome://")) {
      emoji = `data:image/svg+xml;base64,${btoa(
        `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><text y="28" font-size="28" x="0">${unescape(
          encodeURIComponent(emoji)
        )}</text></svg>`
      )}`;
    }
    this.#currentPromiseResolve?.(emoji);
    this.#panel.hidePopup();
  }

  open(anchor, { onlySvgIcons = false, emojiAsSVG = false } = {}) {
    if (this.#currentPromise) {
      return null;
    }
    this.#emojiAsSVG = emojiAsSVG;
    this.#currentPromise = new Promise((resolve, reject) => {
      this.#currentPromiseResolve = resolve;
      this.#currentPromiseReject = reject;
    });
    this.#anchor = anchor;
    this.#anchor.setAttribute("zen-emoji-open", "true");
    this.#anchor.parentElement.setAttribute("zen-emoji-open", "true");
    if (onlySvgIcons) {
      this.#panel.setAttribute("only-svg-icons", "true");
    } else {
      this.#panel.removeAttribute("only-svg-icons");
    }
    this.#panel.openPopup(anchor, "after_start", 0, 0, false, false);
    return this.#currentPromise;
  }

  getSVGURL(icon) {
    return `chrome://browser/skin/zen-icons/selectable/${icon}`;
  }
}

window.gZenEmojiPicker = new nsZenEmojiPicker();



================================================
FILE: src/zen/common/modules/ZenCommonUtils.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

window.gZenOperatingSystemCommonUtils = {
  kZenOSToSmallName: {
    WINNT: "windows",
    Darwin: "macos",
    Linux: "linux",
  },

  get currentOperatingSystem() {
    let os = Services.appinfo.OS;
    return this.kZenOSToSmallName[os];
  },
};

export class nsZenMultiWindowFeature {
  constructor() {}

  static get browsers() {
    return Services.wm.getEnumerator("navigator:browser");
  }

  static get currentBrowser() {
    return Services.wm.getMostRecentWindow("navigator:browser");
  }

  static get isActiveWindow() {
    return nsZenMultiWindowFeature.currentBrowser === window;
  }

  windowIsActive(browser) {
    return browser === nsZenMultiWindowFeature.currentBrowser;
  }

  async foreachWindowAsActive(callback) {
    if (!nsZenMultiWindowFeature.isActiveWindow) {
      return;
    }
    await this.forEachWindow(callback);
  }

  async forEachWindow(callback) {
    for (const browser of nsZenMultiWindowFeature.browsers) {
      try {
        if (browser.closed) {
          continue;
        }
        await callback(browser);
      } catch (e) {
        console.error(e);
      }
    }
  }

  forEachWindowSync(callback) {
    for (const browser of nsZenMultiWindowFeature.browsers) {
      try {
        if (browser.closed) {
          continue;
        }
        callback(browser);
      } catch (e) {
        console.error(e);
      }
    }
  }
}

export class nsZenDOMOperatedFeature {
  constructor() {
    var initBound = this.init.bind(this);
    document.addEventListener("DOMContentLoaded", initBound, { once: true });
  }
}

export class nsZenPreloadedFeature {
  constructor() {
    var initBound = this.init.bind(this);
    document.addEventListener("MozBeforeInitialXULLayout", initBound, { once: true });
  }
}

window.gZenCommonActions = {
  copyCurrentURLToClipboard() {
    const [currentUrl, ClipboardHelper] = gURLBar.zenStrippedURI;
    const displaySpec = currentUrl.displaySpec;
    ClipboardHelper.copyString(displaySpec);
    let button;
    /* eslint-disable mozilla/valid-services */
    if (Services.zen.canShare() && displaySpec.startsWith("http")) {
      button = {
        id: "zen-copy-current-url-button",
        command: (event) => {
          const buttonRect = event.target.getBoundingClientRect();
          /* eslint-disable mozilla/valid-services */
          Services.zen.share(
            currentUrl,
            "",
            "",
            buttonRect.left,
            window.innerHeight - buttonRect.bottom,
            buttonRect.width,
            buttonRect.height
          );
        },
      };
    }
    gZenUIManager.showToast("zen-copy-current-url-confirmation", { button, timeout: 3000 });
  },

  copyCurrentURLAsMarkdownToClipboard() {
    const [currentUrl, ClipboardHelper] = gURLBar.zenStrippedURI;
    const tabTitle = gBrowser.selectedTab.label;
    const markdownLink = `[${tabTitle}](${currentUrl.displaySpec})`;
    ClipboardHelper.copyString(markdownLink);
    gZenUIManager.showToast("zen-copy-current-url-confirmation", { timeout: 3000 });
  },

  throttle(f, delay) {
    let timer = 0;
    return function (...args) {
      clearTimeout(timer);
      timer = setTimeout(() => f.apply(this, args), delay);
    };
  },

  /**
   * Determines if a tab should be closed when navigating back with no history.
   * Only tabs with an owner that are not pinned and not empty are eligible.
   * Respects the user preference zen.tabs.close-on-back-with-no-history.
   *
   * @returns {boolean} True if the tab should be closed on back
   */
  shouldCloseTabOnBack() {
    if (!Services.prefs.getBoolPref("zen.tabs.close-on-back-with-no-history", true)) {
      return false;
    }
    const tab = gBrowser.selectedTab;
    return Boolean(tab.owner && !tab.pinned && !tab.hasAttribute("zen-empty-tab"));
  },
};



================================================
FILE: src/zen/common/modules/ZenHasPolyfill.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

class nsHasPolyfill {
  constructor() {
    this.observers = [];
    this.idStore = 0;
  }

  /**
   * @param {HTMLElement} element
   * @param {Array<{selector: string, exists: boolean}>} descendantSelectors
   * @param {string} stateAttribute
   * @param {Array<string>} attributeFilter
   */
  observeSelectorExistence(element, descendantSelectors, stateAttribute, attributeFilter = []) {
    const updateState = () => {
      const exists = descendantSelectors.some(({ selector }) => {
        let selected = element.querySelector(selector);
        if (selected?.tagName?.toLowerCase() === "menu") {
          return null;
        }
        return selected;
      });
      const { exists: shouldExist = true } = descendantSelectors;
      if (exists === shouldExist) {
        if (!element.hasAttribute(stateAttribute)) {
          gZenCompactModeManager._setElementExpandAttribute(element, true, stateAttribute);
        }
      } else if (element.hasAttribute(stateAttribute)) {
        gZenCompactModeManager._setElementExpandAttribute(element, false, stateAttribute);
      }
    };

    const observer = new MutationObserver(updateState);
    updateState();
    const observerId = this.idStore++;
    this.observers.push({
      id: observerId,
      observer,
      element,
      attributeFilter,
    });
    return observerId;
  }

  disconnectObserver(observerId) {
    const index = this.observers.findIndex((o) => o.id === observerId);
    if (index !== -1) {
      this.observers[index].observer.disconnect();
    }
  }

  connectObserver(observerId) {
    const observer = this.observers.find((o) => o.id === observerId);
    if (observer) {
      observer.observer.observe(observer.element, {
        childList: true,
        subtree: true,
        attributes: true,
        attributeFilter: observer.attributeFilter.length ? observer.attributeFilter : undefined,
      });
    }
  }

  destroy() {
    this.observers.forEach((observer) => observer.observer.disconnect());
    this.observers = [];
  }
}

const hasPolyfillInstance = new nsHasPolyfill();
window.addEventListener("unload", () => hasPolyfillInstance.destroy(), { once: true });

window.ZenHasPolyfill = hasPolyfillInstance;



================================================
FILE: src/zen/common/modules/ZenMenubar.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

const WINDOW_SCHEME_PREF = "zen.view.window.scheme";
const WINDOW_SCHEME_MAPPING = {
  dark: 0,
  light: 1,
  auto: 2,
};

export class nsZenMenuBar {
  constructor() {
    window.addEventListener(
      "ZenKeyboardShortcutsReady",
      () => {
        this.#init();
      },
      { once: true }
    );
  }

  #init() {
    this.#initViewMenu();
    this.#initSpacesMenu();
    this.#initAppMenu();
    this.#hideWindowRestoreMenus();
  }

  #initViewMenu() {
    let appearanceMenu = window.MozXULElement.parseXULToFragment(`
      <menu data-l10n-id="zen-menubar-appearance">
        <menupopup>
          <menuitem data-l10n-id="zen-menubar-appearance-description" disabled="true" />
          <menuitem data-l10n-id="zen-menubar-appearance-auto" data-type="auto" type="radio" checked="true" />
          <menuitem data-l10n-id="zen-menubar-appearance-light" data-type="light" type="radio" />
          <menuitem data-l10n-id="zen-menubar-appearance-dark" data-type="dark" type="radio" />
        </menupopup>
      </menu>`);
    const menu = appearanceMenu.querySelector("menu");
    menu.addEventListener("command", (event) => {
      const type = event.target.getAttribute("data-type");
      const schemeValue = WINDOW_SCHEME_MAPPING[type];
      Services.prefs.setIntPref(WINDOW_SCHEME_PREF, schemeValue);
    });
    const viewMenu = document.getElementById("view-menu");
    const parentPopup = viewMenu.querySelector("menupopup");
    parentPopup.prepend(document.createXULElement("menuseparator"));
    parentPopup.prepend(menu);

    const sibling = document.getElementById("viewSidebarMenuMenu");
    const togglePinnedItem = window.MozXULElement.parseXULToFragment(
      '<menuitem data-l10n-id="zen-menubar-toggle-pinned-tabs" />'
    ).querySelector("menuitem");
    if (!gZenWorkspaces.privateWindowOrDisabled) {
      sibling.after(togglePinnedItem);
    }

    parentPopup.addEventListener("popupshowing", () => {
      const currentScheme = Services.prefs.getIntPref(WINDOW_SCHEME_PREF);
      for (const [type, value] of Object.entries(WINDOW_SCHEME_MAPPING)) {
        let menuItem = menu.querySelector(`menuitem[data-type="${type}"]`);
        if (value === currentScheme) {
          menuItem.setAttribute("checked", "true");
        } else {
          menuItem.removeAttribute("checked");
        }
      }
      const pinnedAreCollapsed =
        gZenWorkspaces.activeWorkspaceElement?.hasCollapsedPinnedTabs ?? false;
      const args = { pinnedAreCollapsed };
      document.l10n.setArgs(togglePinnedItem, args);
    });

    togglePinnedItem.addEventListener("command", () => {
      gZenWorkspaces.activeWorkspaceElement?.collapsiblePins.toggle();
    });
  }

  #initSpacesMenu() {
    let spacesMenubar = window.MozXULElement.parseXULToFragment(`
      <menu id="zen-spaces-menubar" data-l10n-id="zen-panel-ui-spaces-label">
        <menupopup>
          <menuitem data-l10n-id="zen-panel-ui-workspaces-create" command="cmd_zenOpenWorkspaceCreation"/>
          <menuitem data-l10n-id="zen-workspaces-change-theme" command="cmd_zenOpenZenThemePicker"/>
          <menuitem data-l10n-id="zen-workspaces-panel-change-name" command="cmd_zenChangeWorkspaceName"/>
          <menuitem data-l10n-id="zen-workspaces-panel-change-icon" command="cmd_zenChangeWorkspaceIcon"/>
          <menuseparator/>
          <menuitem 
            data-l10n-id="zen-panel-ui-workspaces-change-forward"
            command="cmd_zenWorkspaceForward"
            key="zen-workspace-forward"/>
          <menuitem
            data-l10n-id="zen-panel-ui-workspaces-change-back"
            command="cmd_zenWorkspaceBack"
            key="zen-workspace-backward"/>
        </menupopup>
      </menu>`);
    document.getElementById("view-menu").after(spacesMenubar);
    document.getElementById("zen-spaces-menubar").addEventListener("popupshowing", () => {
      if (AppConstants.platform === "linux") {
        // On linux, there seems to be a bug where the menu freezes up and makes the browser
        // suppiciously unresponsive if we try to update the menu while it's opening.
        // See https://github.com/zen-browser/desktop/issues/12024
        return;
      }
      gZenWorkspaces.updateWorkspacesChangeContextMenu();
    });
  }

  #initAppMenu() {
    const openUnsyncedWindowItem = window.MozXULElement.parseXULToFragment(
      `<toolbarbutton id="appMenu-new-zen-unsynced-window-button"
                class="subviewbutton"
                data-l10n-id="zen-appmenu-new-blank-window"
                key="zen-new-unsynced-window"
                command="cmd_zenNewNavigatorUnsynced"/>`
    ).querySelector("toolbarbutton");
    PanelMultiView.getViewNode(document, "appMenu-new-window-button2").after(
      openUnsyncedWindowItem
    );
    document.getElementById("menu_newNavigator").after(
      window.MozXULElement.parseXULToFragment(`
        <menuitem id="menu_new_zen_unsynced_window"
                class="subviewbutton"
                data-l10n-id="zen-menubar-new-blank-window"
                key="zen-new-unsynced-window"
                command="cmd_zenNewNavigatorUnsynced"/>`)
    );
  }

  #hideWindowRestoreMenus() {
    if (!Services.prefs.getBoolPref("zen.window-sync.enabled", true)) {
      return;
    }
    const itemsToHide = ["appMenuRecentlyClosedWindows", "historyUndoWindowMenu"];
    for (const id of itemsToHide) {
      const element = PanelMultiView.getViewNode(document, id);
      element.setAttribute("hidden", "true");
    }
  }
}



================================================
FILE: src/zen/common/modules/ZenSessionStore.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

import { nsZenPreloadedFeature } from "chrome://browser/content/zen-components/ZenCommonUtils.mjs";

class ZenSessionStore extends nsZenPreloadedFeature {
  init() {
    this.#waitAndCleanup();
  }

  promiseInitialized = new Promise((resolve) => {
    this._resolveInitialized = resolve;
  });

  restoreInitialTabData(tab, tabData) {
    if (tabData.zenWorkspace) {
      tab.setAttribute("zen-workspace-id", tabData.zenWorkspace);
    }
    // Keep for now, for backward compatibility for window sync to work.
    if (tabData.zenSyncId || tabData.zenPinnedId) {
      tab.setAttribute("id", tabData.zenSyncId || tabData.zenPinnedId);
    }
    if (typeof tabData.zenStaticLabel === "string") {
      tab.zenStaticLabel = tabData.zenStaticLabel;
    }
    if (tabData.zenHasStaticIcon && tabData.image) {
      tab.zenStaticIcon = tabData.image;
    }
    if (tabData.zenEssential) {
      tab.setAttribute("zen-essential", "true");
    }
    if (tabData.zenDefaultUserContextId) {
      tab.setAttribute("zenDefaultUserContextId", "true");
    }
    if (tabData._zenPinnedInitialState) {
      tab._zenPinnedInitialState = tabData._zenPinnedInitialState;
    }
  }

  async #waitAndCleanup() {
    await SessionStore.promiseInitialized;
    this.#cleanup();
  }

  #cleanup() {
    this._resolveInitialized();
  }
}

window.gZenSessionStore = new ZenSessionStore();



================================================
FILE: src/zen/common/modules/ZenSidebarNotification.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { html } from "chrome://global/content/vendor/lit.all.mjs";
import { MozLitElement } from "chrome://global/content/lit-utils.mjs";

const lazy = {};

ChromeUtils.defineLazyGetter(lazy, "siblingElement", () => {
  // All our notifications should be attached after the media controls toolbar
  return document.getElementById("zen-media-controls-toolbar");
});

/**
 * Zen Sidebar Notification Component
 *
 * Displays and takes care of animations for notifications that
 * appear in the sidebar.
 */
class ZenSidebarNotification extends MozLitElement {
  static properties = {
    headingL10nId: { type: String, fluent: true },
    links: { type: Array },
  };

  constructor({ headingL10nId = "", links = [] } = {}) {
    super();
    this.headingL10nId = headingL10nId;
    this.links = links;
  }

  connectedCallback() {
    super.connectedCallback();
    if (this.parentElement) {
      this.#animateIn();
    }
  }

  remove() {
    this.#animateOut().then(() => {
      super.remove();
    });
  }

  render() {
    return html`
      <link
        rel="stylesheet"
        href="chrome://browser/content/zen-styles/zen-sidebar-notification.css" />
      <div class="zen-sidebar-notification-header">
        <label
          class="zen-sidebar-notification-heading"
          flex="1"
          data-l10n-id=${this.headingL10nId}></label>
        <div class="zen-sidebar-notification-close-button" @click=${() => this.remove()}>
          <img src="chrome://browser/skin/zen-icons/close.svg" />
        </div>
      </div>
      <div class="zen-sidebar-notification-body">
        ${this.links.map(
          (link) => html`
            <div
              class="zen-sidebar-notification-link-container"
              data-l10n-id="${link.l10nId}-tooltip"
              ?special=${link.special}
              @click=${() => {
                if (link.action) {
                  link.action();
                  return;
                }
                window.openLinkIn(link.url, "tab", {
                  triggeringPrincipal: Services.scriptSecurityManager.getSystemPrincipal(),
                  forceForeground: true,
                });
                this.remove();
              }}>
              <img class="zen-sidebar-notification-link-icon" src=${link.icon} />
              <label
                class="zen-sidebar-notification-link-text"
                data-l10n-id="${link.l10nId}-label"></label>
            </div>
          `
        )}
      </div>
    `;
  }

  #animateIn() {
    this.style.opacity = "0";
    return gZenUIManager.motion.animate(
      this,
      {
        opacity: [0, 1],
        y: [50, 0],
      },
      {
        delay: 1,
      }
    );
  }

  #animateOut() {
    return gZenUIManager.motion.animate(
      this,
      {
        opacity: [1, 0],
        y: [0, 10],
      },
      {}
    );
  }
}

export default function createSidebarNotification(args) {
  if (!gZenVerticalTabsManager._prefsSidebarExpanded) {
    return null;
  }

  const notification = new ZenSidebarNotification(args);

  lazy.siblingElement.insertAdjacentElement("afterend", notification);
  return notification;
}

customElements.define("zen-sidebar-notification", ZenSidebarNotification);



================================================
FILE: src/zen/common/modules/ZenStartup.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

import checkForZenUpdates, {
  createWindowUpdateAnimation,
} from "chrome://browser/content/ZenUpdates.mjs";

class ZenStartup {
  #watermarkIgnoreElements = ["zen-toast-container"];
  #hasInitializedLayout = false;

  isReady = false;

  init() {
    this.openWatermark();
    this.#initBrowserBackground();
    this.#changeSidebarLocation();
    this.#zenInitBrowserLayout();
  }

  #initBrowserBackground() {
    const background = document.createXULElement("box");
    background.id = "zen-browser-background";
    background.classList.add("zen-browser-generic-background");
    const grain = document.createXULElement("box");
    grain.classList.add("zen-browser-grain");
    background.appendChild(grain);
    document.getElementById("browser").prepend(background);
    const toolbarBackground = background.cloneNode(true);
    toolbarBackground.removeAttribute("id");
    toolbarBackground.classList.add("zen-toolbar-background");
    document.getElementById("titlebar").prepend(toolbarBackground);
  }

  #zenInitBrowserLayout() {
    if (this.#hasInitializedLayout) {
      return;
    }
    this.#hasInitializedLayout = true;
    gZenKeyboardShortcutsManager.beforeInit();
    try {
      const kNavbarItems = ["nav-bar", "PersonalToolbar"];
      const kNewContainerId = "zen-appcontent-navbar-container";
      let newContainer = document.getElementById(kNewContainerId);
      for (let id of kNavbarItems) {
        const node = document.getElementById(id);
        if (!node) {
          console.error("Could not find node with id: " + id);
          continue;
        }
        newContainer.appendChild(node);
      }

      // Fix notification deck
      const deckTemplate = document.getElementById("tab-notification-deck-template");
      if (deckTemplate) {
        document.getElementById("zen-appcontent-wrapper").prepend(deckTemplate);
      }

      gZenWorkspaces.init();
      setTimeout(() => {
        gZenUIManager.init();
        this.#checkForWelcomePage();
      }, 0);
    } catch (e) {
      console.error("ZenThemeModifier: Error initializing browser layout", e);
    }
    if (gBrowserInit.delayedStartupFinished) {
      this.delayedStartupFinished();
    } else {
      Services.obs.addObserver(this, "browser-delayed-startup-finished");
    }
  }

  observe(aSubject, aTopic) {
    // This nsIObserver method allows us to defer initialization until after
    // this window has finished painting and starting up.
    if (aTopic == "browser-delayed-startup-finished" && aSubject == window) {
      Services.obs.removeObserver(this, "browser-delayed-startup-finished");
      this.delayedStartupFinished();
    }
  }

  delayedStartupFinished() {
    gZenWorkspaces.promiseInitialized.then(async () => {
      await delayedStartupPromise;
      await SessionStore.promiseAllWindowsRestored;
      delete gZenUIManager.promiseInitialized;
      gZenCompactModeManager.init();
      // Fix for https://github.com/zen-browser/desktop/issues/7605, specially in compact mode
      if (gURLBar.hasAttribute("breakout-extend")) {
        gURLBar.focus();
      }
      // A bit of a hack to make sure the tabs toolbar is updated.
      // Just in case we didn't get the right size.
      gZenUIManager.updateTabsToolbar();
      this.closeWatermark();
      document.getElementById("tabbrowser-arrowscrollbox").setAttribute("orient", "vertical");
      this.isReady = true;
    });
  }

  openWatermark() {
    if (!Services.prefs.getBoolPref("zen.watermark.enabled", false)) {
      document.documentElement.removeAttribute("zen-before-loaded");
      return;
    }
    for (let elem of document.querySelectorAll("#browser > *, #urlbar")) {
      elem.style.opacity = 0;
    }
  }

  closeWatermark() {
    document.documentElement.removeAttribute("zen-before-loaded");
    if (Services.prefs.getBoolPref("zen.watermark.enabled", false)) {
      let elementsToIgnore = this.#watermarkIgnoreElements.map((id) => "#" + id).join(", ");
      gZenUIManager.motion
        .animate(
          "#browser > *:not(" + elementsToIgnore + "), #urlbar, #tabbrowser-tabbox > *",
          {
            opacity: [0, 1],
          },
          {
            duration: 0.1,
          }
        )
        .then(() => {
          for (let elem of document.querySelectorAll(
            "#browser > *, #urlbar, #tabbrowser-tabbox > *"
          )) {
            elem.style.removeProperty("opacity");
          }
        });
    }
    window.requestAnimationFrame(() => {
      window.dispatchEvent(new window.Event("resize")); // To recalculate the layout
    });
  }

  #changeSidebarLocation() {
    const kElementsToAppend = ["sidebar-splitter", "sidebar-box"];

    const browser = document.getElementById("browser");
    browser.prepend(gNavToolbox);

    const sidebarPanelWrapper = document.getElementById("tabbrowser-tabbox");
    for (let id of kElementsToAppend) {
      const elem = document.getElementById(id);
      if (elem) {
        sidebarPanelWrapper.prepend(elem);
      }
    }
  }

  #checkForWelcomePage() {
    if (!Services.prefs.getBoolPref("zen.welcome-screen.seen", false)) {
      Services.prefs.setBoolPref("zen.welcome-screen.seen", true);
      Services.prefs.setStringPref("zen.updates.last-build-id", Services.appinfo.appBuildID);
      Services.prefs.setStringPref("zen.updates.last-version", Services.appinfo.version);
      Services.scriptloader.loadSubScript(
        "chrome://browser/content/zen-components/ZenWelcome.mjs",
        window
      );
    } else {
      this.#createUpdateAnimation();
    }
  }

  async #createUpdateAnimation() {
    checkForZenUpdates();
    return await createWindowUpdateAnimation();
  }
}

window.gZenStartup = new ZenStartup();

window.addEventListener(
  "MozBeforeInitialXULLayout",
  () => {
    gZenStartup.init();
  },
  { once: true }
);



================================================
FILE: src/zen/common/modules/ZenUpdates.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

import createSidebarNotification from "chrome://browser/content/zen-components/ZenSidebarNotification.mjs";

const ZEN_UPDATE_PREF = "zen.updates.last-version";
const ZEN_BUILD_ID_PREF = "zen.updates.last-build-id";
const ZEN_UPDATE_SHOW = "zen.updates.show-update-notification";

export default function checkForZenUpdates() {
  const version = Services.appinfo.version;
  const lastVersion = Services.prefs.getStringPref(ZEN_UPDATE_PREF, "");
  Services.prefs.setStringPref(ZEN_UPDATE_PREF, version);
  if (
    version !== lastVersion &&
    !gZenUIManager.testingEnabled &&
    Services.prefs.getBoolPref(ZEN_UPDATE_SHOW, true)
  ) {
    const updateUrl = Services.prefs.getStringPref("app.releaseNotesURL.prompt", "");
    createSidebarNotification({
      headingL10nId: "zen-sidebar-notification-updated-heading",
      links: [
        {
          url: Services.urlFormatter.formatURL(updateUrl.replace("%VERSION%", version)),
          l10nId: "zen-sidebar-notification-updated",
          special: true,
          icon: "chrome://browser/skin/zen-icons/heart-circle-fill.svg",
        },
        {
          action: () => {
            Services.obs.notifyObservers(window, "restart-in-safe-mode");
          },
          l10nId: "zen-sidebar-notification-restart-safe-mode",
          icon: "chrome://browser/skin/zen-icons/security-broken.svg",
        },
      ],
    });
  }
}

export async function createWindowUpdateAnimation() {
  const appID = Services.appinfo.appBuildID;
  if (
    Services.prefs.getStringPref(ZEN_BUILD_ID_PREF, "") === appID ||
    gZenUIManager.testingEnabled
  ) {
    return;
  }
  Services.prefs.setStringPref(ZEN_BUILD_ID_PREF, appID);
  await gZenWorkspaces.promiseInitialized;
  const appWrapper = document.getElementById("zen-main-app-wrapper");
  const element = document.createElement("div");
  element.id = "zen-update-animation";
  const elementBorder = document.createElement("div");
  elementBorder.id = "zen-update-animation-border";
  requestIdleCallback(() => {
    if (gReduceMotion) {
      return;
    }
    appWrapper.appendChild(element);
    appWrapper.appendChild(elementBorder);
    Promise.all([
      gZenUIManager.motion.animate(
        "#zen-update-animation",
        {
          top: ["100%", "-50%"],
          opacity: [0.5, 1],
        },
        {
          duration: 0.35,
        }
      ),
      gZenUIManager.motion.animate(
        "#zen-update-animation-border",
        {
          "--background-top": ["150%", "-50%"],
        },
        {
          duration: 0.35,
          delay: 0.08,
        }
      ),
    ]).then(() => {
      element.remove();
      elementBorder.remove();
    });
  });
}



================================================
FILE: src/zen/common/styles/zen-animations.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

@keyframes zen-theme-picker-dot-animation {
  from {
    transform: scale(0.8) translate(-50%, -50%);
  }
  50% {
    transform: scale(1.2) translate(-50%, -50%);
  }
  to {
    transform: scale(1) translate(-50%, -50%);
  }
}

/* Mark: Zen Glance */
@keyframes zen-glance-overlay-animation {
  from {
    opacity: 0;
    transform: scale(0.8);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes zen-glance-overlay-animation-out {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

@keyframes zen-back-and-forth-text {
  0%,
  10% {
    transform: translateX(0);
    left: 0;
  }

  45%,
  65% {
    transform: translateX(calc(-100% - 5px));
    left: 100%;
  }

  90%,
  100% {
    transform: translateX(0);
    left: 0;
  }
}

/* Mark: URL Bar */
@keyframes zen-urlbar-searchmode {
  0% {
    box-shadow: 0 0 20px
      color-mix(in srgb, color-mix(in srgb, var(--zen-primary-color), var(--toolbox-textcolor) 20%), light-dark(rgba(0, 0, 0, 0.3), transparent) 50%);
  }

  100% {
    box-shadow: 0 0 250px color-mix(in srgb, var(--zen-primary-color), transparent 100%);
  }
}

@keyframes zen-dialog-fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}



================================================
FILE: src/zen/common/styles/zen-branding.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

@font-face {
  font-family: "Zen-Junicode";
  src: url("chrome://browser/content/zen-fonts/JunicodeVF-Roman.woff2") format("woff2");
}

@font-face {
  font-family: "Zen-Junicode-Italic";
  src: url("chrome://browser/content/zen-fonts/JunicodeVF-Italic.woff2") format("woff2");
}

.zen-branding-title {
  font-size: 6rem;
  line-height: 0.9;
  margin-bottom: 0.4rem;
  font-family: "Zen-Junicode", serif;
  font-weight: 400;
  font-style: normal;
  font-feature-settings: "swsh" 1;

  & .zen-branding-title-italic {
    font-family: "Zen-Junicode-Italic", serif;
  }
}



================================================
FILE: src/zen/common/styles/zen-browser-container.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
:root:not([inDOMFullscreen="true"]):not([chromehidden~="location"]):not([chromehidden~="toolbar"]) {
  & #tabbrowser-tabbox #tabbrowser-tabpanels .browserSidebarContainer {
    overflow: clip;

    :root:not([zen-no-padding="true"]) &:not(.zen-glance-overlay) {
      border-radius: var(--zen-native-inner-radius);
      box-shadow: var(--zen-big-shadow);
    }

    & browser[type="content"] {
      &:not([transparent="true"]) {
        background: light-dark(rgb(255, 255, 255), rgb(32, 32, 32));
      }

      &[transparent="true"] {
        background: light-dark(rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.1));
      }
    }

    @media not -moz-pref("layout.css.prefers-color-scheme.content-override", 2) {
      & browser[type="content"] {
        color-scheme: env(-moz-content-preferred-color-scheme);
      }
    }

    @media -moz-pref("zen.theme.acrylic-elements") {
      & browser[type="content"] {
        /* For the rendering engine to apply layering optimizations. This
           * is a hacky solution, but it works for now. */
        will-change: transform;
      }
    }
  }

  @media (not -moz-pref("zen.view.shift-down-site-on-hover")) and (not ((-moz-pref("zen.view.experimental-no-window-controls") or (not -moz-pref("zen.view.hide-window-controls"))) and -moz-pref("zen.view.use-single-toolbar"))) {
    .browserSidebarContainer:is(.deck-selected, [zen-split="true"]) .browserContainer {
      transition: margin var(--zen-hidden-toolbar-transition);

      :root[zen-single-toolbar="true"] & {
        transition-delay: 0.2s;
        --zen-toolbar-height: 34px;
      }

      #tabbrowser-tabpanels[has-toolbar-hovered] & {
        --margin-top-fix: calc(-1 * var(--zen-toolbar-height) + var(--zen-element-separation));

        :root:not([zen-single-toolbar="true"]) & {
          --margin-top-fix: calc(-1 * var(--zen-toolbar-height-with-bookmarks) + var(--zen-element-separation));
        }

        margin-top: var(--margin-top-fix);
      }
    }
  }
}

.zen-pseudo-browser-image {
  position: absolute;
  transform: scale(1);
  width: 100%;
  height: 100%;
  inset: 0;
  opacity: 0.4;
  pointer-events: none;
  z-index: 2;
}

browser[zen-pseudo-hidden="true"] {
  -moz-subtree-hidden-only-visually: 1 !important;
}



================================================
FILE: src/zen/common/styles/zen-browser-ui.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

#tabbrowser-tabpanels {
  background: transparent !important;
}

#navigator-toolbox {
  /* see issue #426 */
  background: var(--zen-navigator-toolbox-background, transparent) !important;
  --inactive-titlebar-opacity: 0.8;
}

#nav-bar,
#navigator-toolbox {
  position: inherit;
}

:root:is([inDOMFullscreen="true"], [chromehidden~="location"], [chromehidden~="toolbar"]) {
  #navigator-toolbox,
  #zen-sidebar-splitter {
    visibility: collapse;
  }
}

:root[zen-before-loaded="true"] #browser > *:not(#zen-toast-container),
:root[zen-before-loaded="true"] #urlbar {
  opacity: 0 !important;
}

#browser {
  background: transparent !important;
  width: 100%;
}

.zen-browser-generic-background {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: clip;

  isolation: isolate;

  &::after,
  &::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 0;
    pointer-events: none;
  }

  &::after {
    background: var(--zen-main-browser-background);
    opacity: var(--zen-background-opacity);
    transition: 0s;
    background-blend-mode: screen;
  }

  &:is(.zen-toolbar-background) {
    &::after {
      background: var(--zen-main-browser-background-toolbar);
    }
  }

  &::before {
    background: var(--zen-main-browser-background-old);
    opacity: calc(1 - var(--zen-background-opacity));
    transition: 0s;
    background-blend-mode: screen;
  }

  &:is(.zen-toolbar-background) {
    &::before {
      background: var(--zen-main-browser-background-toolbar-old);
    }
  }

  :root:not([animating-background="true"]) &::before {
    transition: background-color var(--inactive-window-transition);
  }

  & .zen-browser-grain {
    display: none;
  }

  :root[zen-show-grainy-background="true"] & .zen-browser-grain {
    display: flex;
    width: 100%;
    height: 100%;
    background-image: url(chrome://browser/content/zen-images/grain-bg.png);
    pointer-events: none;
    z-index: 1;
    opacity: var(--zen-grainy-background-opacity, 0);
    mix-blend-mode: overlay;
    :root:not([swipe-gesture="true"]) & {
      /* note: Keep in sync with kGlobalAnimationDuration */
      transition: opacity 0.2s ease-in-out;
    }
  }
}

#zen-browser-background {
  /* This is conceptually a background, but putting this on a pseudo-element
    * avoids it from suppressing the chrome-content separator border, etc.
    *
    * See bugzilla's 1949528 and bug 1476281 (which would make this unnecessary). */
  @media (-moz-platform: macos) {
    -moz-default-appearance: -moz-sidebar;
    appearance: auto;
  }

  /*
   *  Important: We set the color to `AccentColor` so we can
   *  Compute the stylings and get the native accent color.
   *  Please, do not remove this.
   */
  color: AccentColor;
}

#sidebar-box {
  /** Sidebar is already hidden in full screen mode */
  border: none;
}

:root:not([zen-single-toolbar="true"]) #zen-appcontent-wrapper {
  z-index: 3;
}

#nav-bar {
  border-top-color: transparent !important;

  :root[zen-single-toolbar="true"] & {
    border-top: none !important;
    --zen-toolbar-height: 37px;
  }
}

#zen-main-app-wrapper {
  background: var(--zen-themed-toolbar-bg-transparent);
  /* See bug #8814, don't an overflow here as it causes issues 
   * with firefox's rendering of the tab bar */

  @media (-moz-pref("zen.view.grey-out-inactive-windows")) {
    &:-moz-window-inactive {
      background: InactiveCaption;
    }
  }

  & > * {
    z-index: 1;
  }

  @media (-moz-windows-accent-color-in-titlebar) and ((-moz-windows-mica) or -moz-pref("browser.theme.windows.accent-color-in-tabs.enabled")) {
    background: ActiveCaption;
    color: CaptionText;
  }
}

#zen-appcontent-wrapper {
  z-index: 1;
  /* Use this trick to prevent bookmarks from overflowing the window,
   * without using overflow: hidden.
   */
  min-width: 1px;
}

:root:not([inDOMFullscreen="true"]):not([chromehidden~="location"]):not([chromehidden~="toolbar"]) {
  & #zen-tabbox-wrapper {
    margin: var(--zen-element-separation);
    margin-top: 0;
  }

  &:not([zen-right-side="true"]) #zen-tabbox-wrapper {
    margin-left: 0;
  }

  &[zen-right-side="true"] #zen-tabbox-wrapper {
    margin-right: 0;
  }
}

#tabbrowser-tabbox {
  display: flex;
  flex-direction: row;
  position: relative;
  gap: var(--zen-element-separation);
}

@media not (-moz-platform: macos) {
  .titlebar-buttonbox-container {
    height: 100%;
  }
}

@media (-moz-platform: macos) {
  .titlebar-buttonbox-container {
    margin-inline-end: 8px;
    padding: 3px 0;

    & > .titlebar-buttonbox {
      margin-inline-start: var(--zen-toolbox-padding);
    }
  }

  @media -moz-pref("zen.widget.mac.mono-window-controls") {
    :root:not([window-modal-open="true"]) .titlebar-buttonbox-container {
      color: var(--toolbox-textcolor);

      --zen-traffic-light-size: 6px;

      @media (-moz-mac-tahoe-theme) {
        --zen-traffic-light-size: 7px;
      }

      /* Draw 3 dots as background to represent the window controls,
        all with the same cololr as the titlebar */
      background-image: radial-gradient(circle, var(--zen-toolbar-element-bg) var(--zen-traffic-light-size), transparent 0.5px);
      background-size: 20px 22px;
      background-position: 53% 50%;

      @media (-moz-mac-tahoe-theme) {
        background-size: 23px 22px;
        background-position: 52% 50%;
      }

      &:not([zen-has-hover="true"]) > .titlebar-buttonbox {
        opacity: 0;
      }
    }
  }
}

@media (-moz-platform: macos) {
  :root[zen-window-buttons-reversed="true"][zen-right-side="true"] .titlebar-buttonbox-container {
    margin-inline-start: max(calc(var(--zen-element-separation) - 3px), 4px);
    margin-block: auto;
  }
}

.zen-split-view-splitter[orient="vertical"],
#zen-sidebar-splitter {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: var(--zen-element-separation);
  background: transparent;
  border: none;
  cursor: ew-resize;
  z-index: 3;

  &:is(.zen-split-view-splitter[orient="vertical"]) {
    /* Bit of a hacky solution, but it works */
    width: var(--zen-split-row-gap);
    margin-left: calc(var(--zen-element-separation) * -1 - 1px);
    height: unset;
    cursor: ew-resize;
  }

  &::before {
    height: 50px;
    width: 2px;
    background: var(--button-background-color-primary);
    border-radius: 2px;
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    opacity: 0;
    transition: opacity 0.1s ease-in-out;
    pointer-events: none;
  }

  &:hover::before {
    opacity: 1;
  }
}
.zen-split-view-splitter[orient="horizontal"] {
  &::before {
    height: 2px;
    width: 50px;
    background: var(--button-background-color-primary);
    border-radius: 2px;
    content: "";
    position: absolute;
    top: 40%;
    left: 50%;
    opacity: 0;
    transition: opacity 0.1s ease-in-out;
    pointer-events: none;
    transform: translateX(-50%);
  }

  &:hover::before {
    opacity: 1;
  }
}

:root:not([customizing]) #TabsToolbar-customization-target > #alltabs-button {
  display: none;
}

:root[customizing] #TabsToolbar-customization-target {
  visibility: collapse;
}

:root[customizing] #zen-sidebar-top-buttons-customization-target {
  border: 1px dashed;
  border-radius: 2px;
  margin: 10px 2px 0 0;
}

#zen-sidebar-splitter {
  border-radius: 14px;
  transition:
    background 0.2s ease-in-out,
    opacity 0.2s ease-in-out;

  &:hover {
    background: var(--zen-primary-color);
    transition: background 0.2s ease-in-out;
    transition-delay: 0.2s;
    opacity: 1;
  }
}

#zen-appcontent-navbar-wrapper {
  z-index: 1;
  & #zen-sidebar-top-buttons {
    max-width: fit-content;
    :root[zen-right-side="true"] & {
      order: 1;
    }
  }
}

:root[zen-right-side="true"] #zen-appcontent-navbar-wrapper #PanelUI-button {
  order: 2;
}



================================================
FILE: src/zen/common/styles/zen-buttons.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

@namespace html "http://www.w3.org/1999/xhtml";
@namespace xul "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";

/** This file is used to override UI inside "common-shared.css" */

/** These types of buttons look INSAINELY bad in the preferences page */
xul|button {
  --size-item-large: 34px;

  padding: var(--zen-button-padding) !important;
  transition: 0.1s;
}

dialog::part(dialog-button) {
  --button-background-color: light-dark(white, #302f63);
  --button-background-color-hover: color-mix(in srgb, var(--button-background-color) 90%, transparent);
  --button-background-color-active: color-mix(in srgb, var(--button-background-color) 80%, transparent);
  --button-background-color-primary: #3138fc;
  --button-background-color-primary-hover: color-mix(in srgb, var(--button-background-color-primary) 95%, transparent);
  --button-text-color-primary: white;
  --button-text-color-primary-hover: var(--button-text-color-primary);
  border-color: light-dark(rgba(0, 0, 0, 0.2), rgba(255, 255, 255, 0.2)) !important;
  border-bottom-width: 2px !important;
  position: relative;
}

dialog[defaultButton="accept"]::part(dialog-button) {
  &:is([dlgtype="accept"], [dlgtype="cancel"]) {
    padding-inline-end: 3.7em;
    @media (-moz-platform: windows) {
      padding-inline-end: 4em;
    }

    &::after {
      border-radius: 4px;
      font-weight: 600;
      position: absolute;
      right: 0.6em;
      padding: 3px 0;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      width: 34px;
      text-align: center;
    }

    &[dlgtype="accept"]::after {
      content: "⏎";
      background: rgba(255, 255, 255, 0.1);
      outline: 2px solid color-mix(in srgb, currentColor 20%, transparent);
      outline-offset: -2px;
    }

    &[dlgtype="cancel"]::after {
      content: "ESC";
      background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
    }
  }
}

xul|button:not(#zen-workspaces-button):active {
  transform: scale(0.98);
}

.footer-button {
  font-weight: 500 !important;

  transition: scale 0.2s;
  &:active {
    scale: 0.98;
  }
}



================================================
FILE: src/zen/common/styles/zen-omnibox.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
/* URL and tool bars */

#urlbar-container {
  padding-block: 0 !important;
}

:root[zen-single-toolbar="true"] {
  & #urlbar:not([breakout-extend="true"]) {
    padding: 1px;
    --toolbarbutton-border-radius: 6px;
  }
}

.urlbar {
  --urlbarView-separator-color: light-dark(hsl(0, 0%, 92%), hsl(0, 0%, 20%));
  --urlbarView-hover-background: var(--toolbarbutton-hover-background);
  --urlbarView-highlight-background: var(--toolbarbutton-hover-background);
  border-radius: calc(var(--toolbarbutton-border-radius) - 2px);
  height: var(--urlbar-height);
  --urlbarView-results-padding: 8px !important;
  --urlbar-container-height: 48px !important;

  --urlbar-margin-inline: 5px;
  --urlbar-container-padding: 4px;

  &[breakout-extend="true"] {
    --urlbar-container-padding: 0px;
  }

  :root[inDOMFullscreen] & {
    /* See issue https://github.com/zen-browser/desktop/issues/5229 */
    visibility: visible;
  }

  :root[zen-single-toolbar="true"] &[breakout-extend="true"],
  &[zen-floating-urlbar="true"] {
    --urlbar-container-padding: 3px;
    --urlbar-margin-inline: 11px;

    &:not([zen-floating-urlbar="true"]) {
      --urlbar-container-height: 52px !important;
    }
  }
}

.urlbar-input::placeholder {
  text-overflow: ellipsis;
}

/* Consolidated focus visuals */
#searchbar:focus-within {
  border-color: transparent !important;
  background: var(--urlbar-box-bgcolor);
}

.urlbar-background {
  background: var(--zen-toolbar-element-bg) !important;
  border-radius: var(--border-radius-medium);
  outline: none !important;

  #urlbar:not([breakout-extend="true"]) & {
    margin: 1px;
  }

  border: none !important;
  box-shadow: none !important;
}

#urlbar[focused="true"]:not([suppress-focus-border]) > .urlbar-background,
#searchbar:focus-within {
  outline: none !important;
  outline-offset: none !important;
  outline-color: none !important;
}

#urlbar:not([breakout-extend="true"]) {
  &:hover .urlbar-background {
    background-color: var(--zen-toolbar-element-bg-hover) !important;
  }
}

#identity-box.chromeUI:not([pageproxystate="invalid"]) {
  & #identity-icon-box {
    background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1)) !important;
  }

  & #identity-icon-label {
    display: none;
  }
}

#identity-permission-box:not(:hover):not(:focus-within) {
  background: transparent !important;
}

#identity-box:not(.chromeUI) #identity-icon-label {
  padding-inline-start: 8px !important;
}

#urlbar:not([extend="true"]) #identity-box #identity-icon-box {
  position: relative;
}

#identity-icon-box,
#identity-permission-box {
  margin-top: auto;
  outline: none !important;

  margin-bottom: auto;
  padding: 6px 8px !important;
  :root:not([zen-single-toolbar="true"]) & {
    padding-block: 2px !important;
  }
}

#urlbar .urlbar-input {
  border-radius: 0px !important;
}

#urlbar .urlbar-input-box {
  font-weight: 500;
}

:root[zen-single-toolbar="true"] #urlbar:not([breakout-extend="true"]) {
  & #urlbar-input {
    cursor: default;
  }

  & #identity-box {
    margin-inline-end: 0 !important;
    &.chromeUI:not([pageproxystate="invalid"]) #identity-icon-box {
      border-radius: 10px !important;
    }
  }

  .identity-box-button,
  .urlbar-page-action {
    opacity: 0;
    height: 100%; /* To still be able to open popups */
    visibility: collapse;

    :root:not([supress-primary-adjustment="true"]) & {
      transition:
        opacity 0.15s,
        visibility 0.15s;
    }

    #navigator-toolbox[zen-has-implicit-hover="true"] &,
    &[open],
    #urlbar[has-popup-open="true"] &,
    :root[zen-has-empty-tab="true"] & {
      opacity: 1;
      visibility: visible;
    }
  }
}

:root:not([zen-single-toolbar="true"]):not([zen-has-empty-tab="true"]) #urlbar:not([breakout-extend="true"]) .urlbar-input-container {
  padding: 2px 3px;
  gap: 2px;

  & .urlbar-page-action {
    height: 100%;
  }

  & #zen-copy-url-button {
    order: -1;
  }

  & #identity-box {
    order: 999;
    margin: 0px !important;
  }
}

#zen-copy-url-button[disabled] {
  opacity: 0.3;
  background: transparent !important;
}

:root:is([zen-single-toolbar="true"], [zen-has-empty-tab="true"]) {
  #zen-copy-url-button[disabled] {
    display: none !important;
  }
}

@media -moz-pref("zen.urlbar.single-toolbar-show-copy-url", false) {
  :root[zen-single-toolbar="true"] #zen-copy-url-button {
    display: none !important;
  }
}

@media not -moz-pref("zen.urlbar.show-pip-button") {
  #picture-in-picture-button {
    display: none !important;
  }
}

.urlbar-page-action,
#tracking-protection-icon-container {
  padding: 0 !important;
  justify-content: center !important;
  align-items: center !important;
  margin: 0;

  :root[zen-single-toolbar="true"] & {
    padding: 5px !important;
    width: unset !important;
    height: unset !important;
  }
}

#tracking-protection-icon-container {
  margin: 0 0 0 2px !important;
}

.urlbar-page-action,
#tracking-protection-icon-container,
.urlbarView-title,
.urlbarView-title-separator,
.urlbarView-action,
.urlbarView-url {
  margin-top: auto !important;
  margin-bottom: auto !important;
}

#tracking-protection-icon-container,
#page-action-buttons {
  order: 2 !important;
}

#urlbar[breakout] {
  position: fixed;
}

#urlbar[breakout-extend="true"] {
  z-index: 2;

  :root[zen-single-toolbar="true"] & .urlbar-input-box,
  &[zen-floating-urlbar="true"] .urlbar-input-box {
    font-weight: 500;
    @media (-moz-platform: linux) {
      font-weight: 400;
    }
  }

  & #identity-box {
    height: 100%;
  }

  :root:not([zen-single-toolbar="true"]) &:not([zen-floating-urlbar="true"]) #identity-box:not([pageproxystate="invalid"]) {
    margin-inline-end: 0;
  }

  & .urlbar-background {
    --zen-urlbar-background-base: light-dark(#fbfbfb, color-mix(in srgb, hsl(0, 0%, 6.7%), var(--zen-colors-primary) 30%));
    @media -moz-pref("zen.theme.acrylic-elements") {
      --zen-urlbar-background-transparent: color-mix(in srgb, var(--zen-urlbar-background-base) 70%, transparent 30%);
    }
    background-color: var(--zen-urlbar-background-transparent, var(--zen-urlbar-background-base)) !important;
    box-shadow: 0px 30px 140px -15px light-dark(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.6)) !important;
    backdrop-filter: none !important;
    outline: 0.5px solid light-dark(rgba(0, 0, 0, 0.2), rgba(255, 255, 255, 0.2)) !important;
    outline-offset: var(--zen-urlbar-outline-offset) !important;
    @media -moz-pref("zen.theme.acrylic-elements") {
      backdrop-filter: blur(42px) saturate(110%) brightness(0.25) contrast(100%) !important;
    }
  }

  &,
  .urlbar-background {
    border-radius: 12px !important;
  }

  &[breakout-extend][animate-searchmode="true"]::before {
    position: absolute;
    content: "";
    inset: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    pointer-events: none;
    animation: zen-urlbar-searchmode ease-out 1s forwards;
  }

  & #zen-copy-url-button {
    display: none;
  }
}

:root[zen-single-toolbar="true"] {
  --urlbar-icon-border-radius: 8px !important;
  --urlbar-inner-border-radius: var(--toolbarbutton-border-radius) !important;

  #identity-permission-box > *:not(#zen-site-data-icon-button) {
    visibility: collapse;
  }

  #identity-icon-label {
    display: none;
  }

  &:not([zen-has-empty-tab="true"]) #urlbar:not([breakout-extend="true"]) #identity-box {
    order: 2;
  }

  #notification-popup-box:not([open]):not(:has(> [showing="true"])) {
    margin-inline-start: calc(-10px - 2 * var(--urlbar-icon-padding));
    opacity: 0;
    transition: all 0.2s;
  }

  #notification-popup-box {
    align-items: center;
    justify-content: center;
    height: unset !important;
    background: transparent !important;

    & > image {
      margin-top: auto;
      margin-bottom: auto;
      height: 24px; /* double 12px */
      width: 24px;
      padding: 4px !important;

      &:hover {
        background: var(--toolbarbutton-hover-background);
        border-radius: var(--toolbarbutton-border-radius);
        overflow: visible;
      }
    }
  }
}

:root:not([zen-single-toolbar="true"]) {
  --urlbar-icon-border-radius: 6px !important;

  #notification-popup-box {
    margin: 0 4px 0 0 !important;
    justify-content: center;
    height: unset !important;
    gap: 8px;
    background: transparent;

    & > image {
      margin-top: auto;
      margin-bottom: auto;
      padding: 0;
    }
  }
}

#urlbar[breakout-extend="true"] #notification-popup-box {
  min-width: calc(var(--urlbar-min-height) - 4 * var(--urlbar-container-padding)) !important;
  height: calc(var(--urlbar-min-height) - 4 * var(--urlbar-container-padding)) !important;
}

.popup-notification-dropmarker {
  border-top-left-radius: 0 !important;
  border-bottom-left-radius: 0 !important;
}

.searchbar-engine-one-off-item {
  max-width: 28px;
  min-width: 28px !important;
  transition: background 0s;
  justify-content: center;
}

#urlbar-container {
  container: urlbar-container / inline-size;
  z-index: 1;
}

@container urlbar-container (width < 350px) {
  #userContext-label {
    display: none;
  }

  #userContext-indicator {
    margin-inline-end: 4px;
  }
}

#notification-popup-box {
  border-radius: 10px !important;
}

/* Border radius on hover */
#urlbar .urlbar-page-action,
#urlbar #tracking-protection-icon-container,
#urlbar:not([breakout-extend="true"]) #identity-box:is(:not(.chromeUI), [pageproxystate="invalid"]) #identity-icon-box {
  border-radius: var(--urlbar-icon-border-radius) !important;
  min-width: 26px;
}

/* Notification Stack */

.notificationbox-stack {
  background: transparent;

  &[notificationside="top"] {
    position: fixed;
    bottom: calc(var(--zen-element-separation) * 1.5);
    right: calc(var(--zen-element-separation) * 1.5);
    width: fit-content;
    max-width: 30rem !important;
    z-index: 9999;

    & notification-message {
      background: color-mix(in srgb, var(--zen-colors-tertiary) 70%, transparent 30%);
      backdrop-filter: blur(10px);
      border: 1px solid var(--arrowpanel-border-color);
      border-radius: var(--zen-border-radius);

      &::before {
        display: none;
      }
    }
  }
}

#nav-bar,
#zen-sidebar-top-buttons {
  min-height: var(--zen-toolbar-height) !important;
  height: var(--zen-toolbar-height) !important;
  max-height: var(--zen-toolbar-height) !important;
  display: flex;
  align-items: center;
}

:root:not([zen-single-toolbar="true"]) {
  &[zen-right-side="true"]:not([zen-window-buttons-reversed="true"]) #nav-bar {
    margin-inline-start: var(--zen-element-separation);
  }

  &:not([zen-right-side="true"])[zen-window-buttons-reversed="true"] #nav-bar {
    margin-inline-end: var(--zen-element-separation);
  }
}

/* Other small tweaks */
#nav-bar-customization-target {
  /* Don't grow if potentially-user-sized elements (like the searchbar or the
   * bookmarks toolbar item list) are too wide. This forces them to flex to the
   * available space as much as possible, see bug 1795260. */
  min-width: 0;

  --toolbarbutton-inner-padding: var(--zen-toolbar-button-inner-padding);

  /* Add space to beginning of toolbar and make that space click the first <toolbarbutton> */
  > :is(toolbarbutton, toolbaritem):first-child,
  > toolbarpaletteitem:first-child > :is(toolbarbutton, toolbaritem) {
    padding-inline-start: 0;
  }
}

#urlbar {
  & .search-panel-one-offs-header {
    display: none;
  }

  & .search-panel-one-offs-container .searchbar-engine-one-off-item {
    box-shadow: none;
  }
}

:root[zen-single-toolbar="true"] {
  #urlbar[open] {
    min-width: min(90%, 40rem);
  }

  &[zen-right-side="true"] #urlbar[open]:not([zen-floating-urlbar="true"]) {
    right: 0;
  }
}

#urlbar[open][zen-floating-urlbar="true"] {
  z-index: 1000;
  max-width: unset;
  --urlbar-container-height: 62px !important;
  --urlbar-margin-inline: 10px !important;

  min-width: min(90%, 62rem) !important;
  width: var(--zen-urlbar-width, min(90%, 62rem)) !important;
  font-size: 1.15em !important;
  @media (-moz-platform: macos) {
    font-size: 1.5em !important;
  }
  top: var(--zen-urlbar-top) !important;
  translate: -50% 0%;
  left: 50% !important;

  #urlbar-container:has(&) {
    border-radius: var(--border-radius-medium);
    background: var(--toolbarbutton-hover-background);
    height: var(--urlbar-height) !important;
    margin-inline: 0.15rem !important;
    :root:not([zen-single-toolbar="true"]) & {
      max-height: 32px !important;
      min-height: unset !important;
      margin-block: -1px !important;
    }
  }
}

@media not -moz-pref("zen.urlbar.show-protections-icon") {
  #tracking-protection-icon-container {
    display: none !important;
  }
}

.urlbarView-title {
  font-size: 14px !important;
  font-weight: 500 !important;
}

.urlbarView-url,
.urlbarView-title-separator::before {
  font-size: 14px !important;
  font-weight: 500 !important;
  color: light-dark(#4f4f4f, #aaa) !important;
}

.urlbarView-favicon {
  margin-left: 0 !important;
  margin-right: 12px !important;
  padding: 6px !important;
  border-radius: 4px !important;
}

.urlbarView-userContext {
  border-top: none !important;
}

.urlbarView-shortcutContent {
  text-transform: uppercase;
  margin-left: auto;
  background-color: color-mix(in srgb, var(--zen-branding-bg-reverse), transparent 95%);
  padding: 6px 8px;
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);
  font-size: 10px;
  margin-right: 2px;

  &:empty {
    display: none !important;
  }
}

.urlbarView-prettyName,
.urlbarView-shortcutContent {
  border-radius: 4px;
  font-weight: 600;
  margin-top: auto;
  margin-bottom: auto;
}

.urlbarView-prettyName {
  padding: 4px 6px;
  background-color: color-mix(in srgb, var(--zen-branding-bg-reverse), transparent 90%);
  margin-left: 6px;
  font-size: 12px;
  align-items: center;
  gap: 6px;
  display: flex;
  color: color-mix(in srgb, var(--zen-primary-color), currentColor 95%);

  & img {
    -moz-context-properties: fill;
    fill: currentColor;
    width: 16px;
    height: 16px;
  }

  &[hidden] {
    display: none !important;
  }
}

.urlbarView-row[has-action]:is([type="switchtab"], [type="remotetab"], [type="clipboard"]) {
  & .urlbarView-action:last-child {
    margin-left: auto !important;
    margin-right: 0 !important;
  }

  &:is([type="switchtab"], [type="remotetab"]) .urlbarView-action:last-child {
    background: transparent !important;
    align-items: center;
    display: flex;
    gap: 12px;
    font-weight: 600;
    margin-right: 28px !important;
    position: relative;
    scale: 0.93;
    transform-origin: right;

    &::after {
      content: "";
      display: inline-block;
      width: 28px;
      height: 28px;

      background-color: currentColor;
      mask-image: url("chrome://browser/skin/zen-icons/urlbar-arrow.svg");
      mask-size: contain;
      mask-repeat: no-repeat;
      mask-position: center;
      pointer-events: none;
      position: absolute;

      right: -26px;
    }
  }

  & .urlbarView-no-wrap {
    width: 100%;
  }
}

.urlbarView-no-wrap {
  align-items: center !important;
  position: relative;
}

#urlbar-label-box,
#urlbar-search-mode-indicator {
  background-color: color-mix(in srgb, var(--zen-primary-color) 50%, light-dark(rgba(0, 0, 0, 0.5), rgba(255, 255, 255, 0.2)) 50%) !important;
  color: white;
  padding: 4px 8px;
  border-radius: 50px;
  font-size: 14px;
}

.urlbarView-row {
  --urlbarView-item-inline-padding: 8px;
  --urlbarView-item-block-padding: 10px;
  color: light-dark(rgba(0, 0, 0, 0.7), rgba(255, 255, 255, 0.7)) !important;

  &:hover {
    &,
    & .urlbarView-favicon {
      background-color: color-mix(in srgb, var(--zen-branding-bg-reverse) 5%, transparent 95%) !important;
    }
  }

  &[selected] {
    --zen-selected-bg: color-mix(in srgb, var(--zen-primary-color) 55%, light-dark(rgba(0, 0, 0, 0.5), rgba(255, 255, 255, 0.2)) 50%);
    --zen-selected-color: color-mix(in srgb, var(--zen-selected-bg), black 30%);
    background-color: var(--zen-selected-bg) !important;

    & *,
    & .urlbarView-title-separator::before {
      color: white !important;
    }

    & .urlbarView-favicon {
      fill: currentColor !important;
      stroke: currentColor !important;
    }

    & .urlbarView-shortcutContent {
      color: var(--zen-selected-color) !important;
    }

    &:is([type="switchtab"], [type="dynamic"], [type="history_serp"], [type="autofill_origin"], [type="top_site"]) .urlbarView-favicon,
    & .urlbarView-shortcutContent {
      fill: var(--zen-selected-color) !important;
      background-color: rgba(255, 255, 255, 0.9) !important;
    }

    & .urlbarView-prettyName {
      background-color: color-mix(in srgb, var(--zen-branding-bg-reverse), transparent 80%);
    }
  }
}

#urlbar-results {
  max-height: 260px;
  overflow-y: auto;
  scrollbar-width: none;
  margin-block-start: calc(var(--urlbarView-results-padding) - 2px);
  margin-block-end: var(--urlbarView-results-padding);
  padding-block: 0 !important;

  & .action-contextualidentity {
    display: none;
  }
}

:root:not([zen-single-toolbar="true"]) #urlbar[breakout-extend="true"]:not([zen-floating-urlbar="true"]) {
  & .urlbar-background {
    border-radius: 10px !important;
  }

  #urlbar-results {
    margin-block: calc(var(--urlbarView-results-padding) - 2px);
  }

  #identity-box {
    margin-inline-end: 0px;
  }
}

/* Hide the results body when there are no results, to avoid showing an empty box */
.urlbarView[noresults] > .urlbarView-body-outer > .urlbarView-body-inner,
#urlbar-search-mode-indicator-close {
  display: none;
}

#urlbar-search-mode-indicator-title {
  font-weight: 600;
  padding: 0px;
}

/* These are buttons that we dont need to be
 * displayed anymore, since now zen displays
 * them into a single, unified button */
#reader-mode-button,
.urlbar-go-button,
#star-button-box,
#pageActionButton:not([open]) {
  display: none !important;
}

@media not -moz-pref("zen.urlbar.show-contextual-id") {
  #userContext-icons {
    display: none !important;
  }
}



================================================
FILE: src/zen/common/styles/zen-overflowing-addons.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

#zen-overflow-extensions-list:not(:empty) {
  --uei-icon-size: 14px;
  display: flex;
  gap: 8px;
  padding: 8px 2px;
  padding-bottom: 0px;

  & .unified-extensions-item {
    flex: 1;
    margin: 0;
  }

  & .toolbarbutton-badge-stack {
    margin: 0;
    width: 100%;
    height: 100%;
    padding: 8px 0;
    justify-content: center;
    align-items: center;
  }

  & .unified-extensions-item-action-button {
    background-color: var(--zen-toolbar-element-bg);
    height: 30px;
    margin: 0;
    justify-content: center;
    align-items: center;
    border-radius: var(--border-radius-medium);
    overflow: clip;
    padding: 0;

    &:hover {
      background-color: var(--zen-toolbar-element-bg-hover);
    }
  }

  .unified-extensions-item-contents,
  .unified-extensions-item-menu-button,
  unified-extensions-item-messagebar-wrapper {
    display: none;
  }
}



================================================
FILE: src/zen/common/styles/zen-panel-ui.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
panel[type="arrow"] {
  @media (-moz-platform: macos) and (-moz-panel-animations) {
    &[side="bottom"] {
      /* Animate from the bottom */
      -zen-window-transform-origin: 0 100%;
    }
    &[side="left"] {
      /* Animate from the left and center */
      -zen-window-transform-origin: 0 50%;
    }
    &[side="right"] {
      /* Animate from the right */
      -zen-window-transform-origin: 100% 50%;
    }
    :root[zen-right-side="true"] & {
      /* Animate from the right */
      -zen-window-transform-origin: 100% 0;
      &[side="bottom"] {
        /* Animate from the bottom right */
        -zen-window-transform-origin: 100% 100%;
      }
      &[side="left"] {
        /* Animate from the right */
        -zen-window-transform-origin: 100% 50%;
      }
      &[side="right"] {
        /* Animate from the right */
        -zen-window-transform-origin: 100% 50%;
      }
    }
  }
}

menupopup,
panel[type="arrow"]:not(#feature-callout) {
  @media (-moz-windows-mica-popups) {
    appearance: auto !important;
    -moz-default-appearance: menupopup;
    /* The blur behind doesn't blur all that much, add a semi-transparent
     * background to improve contrast */
    --panel-background: light-dark(rgba(255, 255, 255, 0.5), rgba(0, 0, 0, 0.5)) !important;

    /* The mica rendering already adds a shadow and a border, so we
     * remove the one we add via CSS */
    --panel-shadow-margin: 0px !important;
    --panel-border-color: transparent !important;
    border: none !important;

    transition-duration: 0s !important;

    &::part(content) {
      /* Refrain from animating for now as we haven't found a 
       * way to properly animate the popup without having the mica
       * backdrop staying still while the popup animates */
      animation: none !important;
    }
  }

  @media (-moz-platform: macos) {
    appearance: auto !important;
    -moz-default-appearance: menupopup;
    /* We set the default background here, rather than on ::part(content),
     * because otherwise it'd interfere with the native look. Non-native-looking
     * popups should get their background via --panel-background */
    background-color: Menu;
    --panel-shadow-margin: 0px !important;
    --panel-background: transparent !important;
    --panel-border-color: transparent;

    /* Remove the shadow for the native panels, as macos already
     * adds the shadows to the window. This is specially important
     * on Tahoe, where we *dont* apply an image mask, meaning that 
     * trying to render a shadow would end up in having weird borders
     * around the panel */
    --panel-shadow: none;

    &::part(content) {
      /* This shoudn't really be needed, but just in case */
      background-color: transparent !important;
    }
  }
}



================================================
FILE: src/zen/common/styles/zen-popup.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
@import url("chrome://browser/content/zen-styles/zen-panels/bookmarks.css");
@import url("chrome://browser/content/zen-styles/zen-panels/print.css");
@import url("chrome://browser/content/zen-styles/zen-panels/dialog.css");

:root {
  --panel-subview-body-padding: 2px 0;
  --arrowpanel-menuitem-border-radius: 5px;
  --arrowpanel-menuitem-margin: var(--uc-arrowpanel-menuitem-margin-block) var(--uc-arrowpanel-menuitem-margin-inline);
  --arrowpanel-menuitem-padding-block: 8px;
  --arrowpanel-menuitem-padding-inline: 14px;
  --uc-arrowpanel-menuicon-margin-inline: 14px;
  --uc-arrowpanel-menuitem-margin-inline: 4px;
  --uc-arrowpanel-menuitem-margin-block: 2px;
  --panel-separator-margin-vertical: 2px;
  --panel-separator-margin-horizontal: 1px;

  --uc-panel-zoom-button-padding: 8px;
  --uc-panel-zoom-button-inline-padding: 9px;
  --uc-panel-zoom-padding-block: calc(var(--panel-separator-margin-vertical) + var(--uc-arrowpanel-menuitem-margin-block));

  --uc-autocomplete-panel-menuitem-margin: 4px;
  --uc-autocomplete-panel-menuicon-padding-inline: 14px;
  --uc-autocomplete-panel-separator-margin-vertical: 4px;

  --uc-permission-itemcontainer-padding-block: 8px;
  --uc-permission-item-padding-inline: 16px;
  --zen-panel-separator-width: 1px;
}

menupopup,
panel {
  --panel-background: var(--arrowpanel-background);
  --menuitem-padding: 6px !important;
  --panel-shadow-margin: 10px;

  /* This should match GetMenuCornerRadius() on macOS, or be overridden below */
  @media (-moz-platform: macos) {
    --panel-border-radius: 10px;

    @media (-moz-mac-tahoe-theme) {
      --panel-border-radius: 12px;
    }
  }
}

/* split-view popup */
#confirmation-hint {
  --arrowpanel-background: var(--zen-colors-primary);
}

/* app menu */
.addon-banner-item,
.panel-banner-item {
  margin: 2px 4px 2px;
  padding-inline: 4px 12px;
  padding-block: var(--arrowpanel-menuitem-padding-block);
  border-radius: var(--arrowpanel-menuitem-border-radius);
}

#appMenu-fxa-label2 label,
#PanelUI-fxa-menu-syncnow-button label {
  margin-block: 0;
}

.widget-overflow-list .toolbarbutton-1:not(.toolbarbutton-combined) > .toolbarbutton-text,
.subviewbutton:not(#appMenu-zoom-controls > .subviewbutton) > .toolbarbutton-icon + .toolbarbutton-text,
#appMenu-fxa-label2 > vbox {
  padding-inline-start: var(--uc-arrowpanel-menuicon-margin-inline);
}

/* special case menuitems with no icons */
#appMenu-zoom-controls > .toolbarbutton-text,
#fxa-manage-account-button > vbox,
#PanelUI-fxa-menu-syncnow-button > hbox {
  padding-inline-start: calc(16px + var(--uc-arrowpanel-menuicon-margin-inline));
}

/* Firefox profile avatar in appmenu */
#appMenu-fxa-label2::before {
  content: "";
  display: -moz-box;
  height: 16px;
  width: 16px;
  background: var(--avatar-image-url) 0/16px;
  scale: 1.25;
  border-radius: 99px;
}

/* disable proton account separator */
#appMenu-fxa-separator {
  border-image: none;
}

#appMenu-fxa-status2:not([fxastatus]) {
  padding-block: 0;
}

#appMenu-fxa-status2:not([fxastatus]) > #appMenu-fxa-label2 {
  margin-inline-end: calc(var(--arrowpanel-menuitem-padding-inline) * -1);
}

/* zoom controls */
#appMenu-zoom-controls {
  border-top: 1px solid var(--panel-separator-color);
  padding-inline: calc(var(--arrowpanel-menuitem-padding-inline) + var(--uc-arrowpanel-menuitem-margin-inline)) var(--uc-arrowpanel-menuitem-margin-inline);
  padding-block: var(--uc-panel-zoom-padding-block);
  margin: var(--panel-separator-margin-vertical) 0 calc(var(--panel-separator-margin-vertical) * -1);
}

#appMenu-zoom-controls > .subviewbutton {
  padding: var(--uc-panel-zoom-button-padding) var(--uc-panel-zoom-button-inline-padding);
  margin: 0;
}

#appMenu-zoom-controls > #appMenu-zoomReset-button2 {
  padding: var(--uc-panel-zoom-button-padding) calc(var(--uc-panel-zoom-button-padding) / 2);
}

/* #appMenu-zoomReduce-button2, */
#appMenu-zoom-controls > #appMenu-fullscreen-button2 {
  margin-left: calc((var(--panel-separator-margin-vertical) + var(--uc-arrowpanel-menuitem-margin-block)) * 2 + 1px);
}

#appMenu-zoom-controls > #appMenu-fullscreen-button2::before {
  content: "";
  border-inline-start: 1px solid var(--panel-separator-color);
  display: block;
  position: relative;
  height: 32px;
  margin-block: calc(var(--uc-panel-zoom-button-padding) * -1);
  transform: translateX(
    calc(var(--uc-panel-zoom-button-inline-padding) * -1 - (var(--panel-separator-margin-vertical) + var(--uc-arrowpanel-menuitem-margin-block)) - 1px)
  );
}

#appMenu-zoomReset-button2 {
  height: calc(16px + var(--uc-panel-zoom-button-padding) * 2);
  min-height: calc(16px + var(--uc-panel-zoom-button-padding) * 2);
}

#appMenu-zoomReduce-button2:not([disabled], [open], :active):is(:hover),
#appMenu-zoomEnlarge-button2:not([disabled], [open], :active):is(:hover),
#appMenu-fullscreen-button2:not([disabled], [open], :active):is(:hover),
#appMenu-zoomReset-button2:not([disabled], [open], :active):is(:hover) {
  background-color: var(--panel-item-hover-bgcolor);
}

#appMenu-zoomReduce-button2:not([disabled]):is([open], :hover:active),
#appMenu-zoomEnlarge-button2:not([disabled]):is([open], :hover:active),
#appMenu-fullscreen-button2:not([disabled]):is([open], :hover:active),
#appMenu-zoomReset-button2:not([disabled]):is([open], :hover:active) {
  background-color: var(--panel-item-active-bgcolor);
}

#appMenu-zoomReset-button2 > .toolbarbutton-text,
#appMenu-fullscreen-button2 > .toolbarbutton-icon {
  background-color: transparent;
  padding: 0;
}

.subviewbutton[shortcut]::after {
  opacity: 0.7;
}

.PanelUI-subView > .panel-header + toolbarseparator {
  margin-bottom: 0;
}

.PanelUI-subView > .panel-header + toolbarseparator + .panel-subview-body {
  padding-top: var(--panel-separator-margin-vertical);
}

#identity-popup-security-button {
  margin-bottom: var(--panel-separator-margin-vertical);
}

#permission-popup-mainView-panel-header,
#identity-popup-mainView-panel-header,
#protections-popup-mainView-panel-header,
.panel-header {
  min-height: calc((var(--arrowpanel-menuitem-padding-block) + 4px) * 2 + 16px);
}

/* URL bar popup */

.identity-popup-security-connection > hbox > description {
  margin-inline-start: 0;
}

.identity-popup-security-connection.identity-button {
  margin-inline-end: calc(-1 * (var(--arrowpanel-menuitem-padding-inline) - 10px));
}

#identity-popup-mainView-panel-header-span,
#permission-popup-mainView-panel-header-span,
#identity-popup-mainView-panel-header label,
#permission-popup-mainView-panel-header label,
#protections-popup-mainView-panel-header-span {
  margin-block: 0;
}

.permission-popup-section {
  padding-block: var(--uc-permission-itemcontainer-padding-block);
}

#permission-popup-permissions-content {
  padding-inline: var(--uc-permission-item-padding-inline);
}

.permission-popup-permission-item,
#permission-popup-storage-access-permission-list-header {
  padding-block: 4px;
  margin-block: 0px;
}

#editBookmarkPanel > #editBookmarkHeaderSeparator,
#editBookmarkPanel > .panel-subview-body > #editBookmarkSeparator {
  margin-inline: 0;
}

menupopup,
panel {
  box-shadow: none;
}

.panel-subview-footer-button {
  padding-top: 10px;
  padding-bottom: 10px;
}

#identity-popup-clear-sitedata-footer {
  margin: 0;
  padding: 0;
}

.panel-subview-footer-button {
  --arrowpanel-menuitem-padding-block: 20px;
  --arrowpanel-menuitem-padding-inline: 15px;
}

menuseparator {
  padding-inline: 0 !important;
}

toolbarseparator,
menuseparator {
  border-width: var(--zen-panel-separator-width);
}

#appMenu-zoom-controls {
  border-top-width: var(--zen-panel-separator-width);
}

#identity-popup-multiView toolbarseparator,
#editBookmarkHeaderSeparator {
  display: none;
}

/*Bookmark workspace selector styles*/
.workspace-dropdown {
  position: relative;
  width: 100%;
  display: flex;
}

.workspace-trigger {
  width: 100%;
  text-align: left;
  padding: 8px 12px;
  border: 1px solid var(--input-border-color);
  border-radius: 4px;
  background-color: var(--zen-colors-tertiary);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

#editBMPanel_workspaceList {
  flex-direction: column;
  width: 100%;
  max-height: 200px;
  overflow-y: auto;
  margin-top: 4px;
  border: 1px solid var(--zen-colors-border);
  border-radius: 4px;
  background-color: var(--zen-colors-tertiary);
  box-shadow: 0 0 1px 1px rgba(0, 0, 0, 0.1);
  padding: 4px 0;
}

#editBMPanel_workspaceList li {
  list-style: none;
  margin: 0;
  padding: 0;
}

#editBMPanel_workspaceList li > label {
  display: flex;
  align-items: center;
  padding: 4px 12px;
  cursor: pointer;
}

#editBMPanel_workspaceList input[type="checkbox"] {
  margin-right: 8px;
}

/* Section: Toast notifications */

#zen-toast-container {
  position: fixed;
  --zen-toast-spacing: max(4px, var(--zen-element-separation));
  top: var(--zen-toast-spacing);
  z-index: 1000;
  display: flex;
  align-items: end;

  :root:not([zen-right-side="true"]) & {
    right: var(--zen-toast-spacing);
  }

  :root[zen-right-side="true"] & {
    left: var(--zen-toast-spacing);
  }

  & .zen-toast {
    :root[zen-right-side="true"] & {
      translate: 100%;
    }

    --zen-toast-padding: 6px;
    --zen-toast-max-height: 42px;
    @media (-moz-platform: macos) {
      --zen-toast-padding: 8px;
      --zen-toast-max-height: 48px;
    }

    gap: 8px;
    z-index: 1000;
    padding: var(--zen-toast-padding);
    border-radius: 10px;
    background: linear-gradient(to bottom, var(--zen-primary-color) -40%, color-mix(in srgb, var(--zen-primary-color), #0f0f0f 20%));
    box-shadow: light-dark(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.4)) 0px 0px 22px 2px;
    border: none;
    display: flex;
    font-weight: 600;
    align-items: center;
    width: max-content;
    position: absolute;
    transform-origin: top center;
    max-height: var(--zen-toast-max-height);
    min-height: var(--zen-toast-max-height);
    font-size: 14px;

    & .description {
      opacity: 0.6;
      font-size: smaller;
    }

    & label {
      margin: 0 4px;

      & span {
        background: light-dark(rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.1));
        border-radius: 4px;
        padding: 5px 7px;
        font-size: 12px;
        font-weight: 600;
        margin: 0 2px;
        word-spacing: 2px;
      }
    }

    & button {
      width: min-content;
      padding: 0px 8px !important;
      min-width: unset !important;
      min-height: 28px;
      margin: 0px !important;
      border-radius: 6px !important;
      border-top: 2px solid light-dark(transparent, rgba(255, 255, 255, 0.1));
      color: light-dark(rgba(0, 0, 0, 0.8), rgba(255, 255, 255, 0.8)) !important;
      box-shadow: 0 0 1px 1px rgba(0, 0, 0, 0.05);
      background: light-dark(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.1)) !important;

      outline: 0.5px solid light-dark(transparent, rgba(255, 255, 255, 0.02));
      outline-offset: -0.5px;

      :root[zen-right-side="true"] & {
        order: -1;
      }

      & .button-text {
        display: none;
      }

      & .button-icon {
        width: 14px;
        opacity: 0.6;
      }
    }
  }
}

#downloadsHistory {
  border: none !important;
}

.downloadButton {
  padding: 0 !important;
  min-width: unset !important;
}

#window-modal-dialog {
  inset: 0;
}



================================================
FILE: src/zen/common/styles/zen-sidebar-notification.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

@keyframes zen-text-gradient {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 100% 50%;
  }
}

:host {
  background: var(--zen-sidebar-notification-bg);
  display: flex;
  flex-direction: column;
  min-width: 0;
  border-radius: var(--border-radius-medium);
  box-shadow: var(--zen-sidebar-notification-shadow);
  font-size: 12px;
}

.zen-sidebar-notification-header {
  display: flex;
  position: relative;
  flex: 1;
  padding: 8px;
  border-bottom: 1px solid color-mix(in srgb, currentColor 10%, transparent);
}

.zen-sidebar-notification-heading {
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-weight: 500;
  flex: 1;
}

.zen-sidebar-notification-close-button {
  position: absolute;
  right: 2px;
  top: 2px;
  border-radius: 4px;
  border-top-right-radius: calc(var(--border-radius-medium) - 2px);
  z-index: 1;
  padding: 4px;
  width: 18px;
  height: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.4;

  &:hover {
    background: color-mix(in srgb, currentColor 15%, transparent);
  }

  & img {
    -moz-context-properties: fill, fill-opacity;
    fill-opacity: 1;
    fill: currentColor;
    width: 14px;
    pointer-events: none;
  }
}

.zen-sidebar-notification-body {
  padding: 6px;
  display: flex;
  flex-direction: column;
  gap: 2px;

  & .zen-sidebar-notification-link-container {
    cursor: pointer;
    padding: 4px;
    display: flex;
    gap: 6px;
    align-items: center;
    transition: opacity 0.2s ease-in-out;
    opacity: 0.7;

    & .zen-sidebar-notification-link-text {
      cursor: inherit;
    }

    &[special] {
      opacity: 1;
      --special-color: color-mix(in srgb, var(--zen-primary-color), currentColor 50%);
      --specia-color-2: color-mix(in srgb, var(--zen-primary-color), currentColor 90%);
      background: linear-gradient(135deg, var(--specia-color-2), var(--special-color), var(--specia-color-2), var(--special-color));
      background-size: 400%;
      filter: saturate(3);
      background-clip: text;
      /* Still works on firefox */
      -webkit-text-fill-color: transparent;
      animation: zen-text-gradient 2s linear infinite;
    }

    &:hover {
      opacity: 1;
    }

    & .zen-sidebar-notification-link-icon {
      pointer-events: none;
      width: 16px;
      height: 16px;
      -moz-context-properties: fill, fill-opacity;
      fill: var(--special-color, currentColor);
    }
  }
}



================================================
FILE: src/zen/common/styles/zen-sidebar.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

/* Bookmarks sidebar */
#zen-tabbox-wrapper {
  & #sidebar-splitter {
    opacity: 0;
    margin: 0 calc(-1 * var(--zen-element-separation) + 2px);
  }

  & #sidebar-box {
    border-radius: var(--zen-native-inner-radius);
    box-shadow: var(--zen-big-shadow);
    overflow: hidden;
  }

  & #tabbrowser-tabbox[sidebar-positionend] {
    & #sidebar-box {
      order: 8 !important;
    }

    & #sidebar-splitter {
      order: 7 !important;
    }
  }
}

/* Menubar */
#toolbar-menubar {
  display: none !important;
}



================================================
FILE: src/zen/common/styles/zen-single-components.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
/* Screenshots */

#screenshotsPagePanel {
  position: absolute !important;
  top: 3%;
  right: 1.5%;
}

#zen-workspaces-button .zen-workspace-sidebar-name {
  margin-left: 10px;
  display: none;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

#customization-footer #customization-toolbar-visibility-button {
  display: none !important;
}

@media -moz-pref("zen.theme.disable-lightweight") {
  #customization-lwtheme-link {
    display: none !important;
  }
}

.private-browsing-indicator-with-label {
  display: none !important;
}

/* hide Mozilla services from the app menu */
#PanelUI-fxa-menu-services,
#PanelUI-fxa-cta-menu {
  display: none !important;
}

/* Bookmarks */
#PersonalToolbar:not([collapsed]) {
  min-height: 30px;
}

/* Firefox View */
#firefox-view-button,
#wrapper-firefox-view-button {
  display: none !important;
}

/* Emojis picker */

#PanelUI-zen-emojis-picker {
  --panel-width: 250px;
  --panel-padding: 0px;

  #PanelUI-zen-emojis-picker-header {
    gap: 10px;
    align-items: center;
    padding: 0px 10px;
    padding-bottom: 6px;
  }

  #PanelUI-zen-emojis-picker-pages {
    overflow: hidden;
    max-height: 230px;

    & > * {
      min-width: 100%;
    }
  }

  &[only-svg-icons="true"] {
    & #PanelUI-zen-emojis-picker-change-emojis {
      display: none;
    }

    & #PanelUI-zen-emojis-picker-change-svg {
      pointer-events: none;
    }

    & #PanelUI-zen-emojis-picker-pages > vbox[emojis="true"] {
      display: none;
    }
  }

  #PanelUI-zen-emojis-picker-none label {
    display: none;
  }

  #PanelUI-zen-emojis-picker-search {
    padding: 4px;
    width: 100%;
  }

  #PanelUI-zen-picker-header {
    padding: 6px 16px;
    justify-content: space-between;

    & > toolbarbutton:first-of-type {
      pointer-events: none;
    }

    & #PanelUI-zen-emojis-buttons-wrapper {
      gap: 4px;

      & toolbarbutton {
        appearance: none;
        font-size: small;
        padding: 0 6px;
        border-radius: 4px;
        font-weight: 600;

        &:hover {
          background-color: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
        }

        &.selected {
          background-color: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
        }
      }
    }
  }

  #PanelUI-zen-emojis-picker-list,
  #PanelUI-zen-emojis-picker-svgs {
    overflow-y: auto;
    overflow-x: hidden;
    width: 100%;

    padding: 10px;
    padding-top: 5px;

    gap: 5px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(28px, 1fr));

    .zen-emojis-picker-emoji {
      font-size: 14px;
      padding: 0px !important;
      & image {
        display: none;
      }
    }

    .zen-emojis-picker-svg {
      padding: 4px !important;
      & label {
        display: none;
      }

      & .toolbarbutton-icon {
        width: 22px;
      }
    }
  }

  .zen-emojis-picker-emoji,
  .zen-emojis-picker-svg,
  #PanelUI-zen-emojis-picker-none {
    width: 22px;
    height: 22px;
    appearance: none;

    &:hover {
      background-color: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
      border-radius: 4px;
      cursor: pointer;
    }
  }
}

.toolbarbutton-1:not(#tabs-newtab-button),
.urlbar-page-action,
.identity-box-button {
  --tab-border-radius: 6px;
  --toolbarbutton-border-radius: var(--tab-border-radius);
  --toolbarbutton-inner-padding: 6px;
  --toolbarbutton-outer-padding: 1px;
  --toolbarbutton-icon-fill: color-mix(in srgb, currentColor 70%, transparent);

  transition:
    background-color 0.1s,
    transform 0.2s;

  &[open="true"] {
    transition: background-color 0.1s;
  }

  &:not([open="true"]):active:hover {
    transform: scale(0.95);
  }
}

.zen-interactive-button {
  background: color-mix(in srgb, currentColor 6%, transparent) !important;
  transition:
    background-color 0.12s ease-in-out,
    transform 0.12s ease-in-out;

  &:hover {
    background-color: color-mix(in srgb, currentColor 10%, transparent) !important;
  }

  &:active:hover {
    transform: scale(0.95);
  }
}

/** Update animation */

#zen-update-animation {
  position: fixed;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.5) 40%, rgba(255, 255, 255, 0.5) 60%, transparent 100%);
  left: 0;
  z-index: 999;
  opacity: 0;
  transform: translateY(-50%);
  pointer-events: none;
}

#zen-update-animation-border {
  position: absolute;
  border-radius: var(--zen-border-radius);
  width: 100%;
  height: 100%;
}

#zen-update-animation-border::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 2px; /* thickness of border */

  background: radial-gradient(ellipse 100% 50% at center var(--background-top), rgba(255, 255, 255, 0.5) 80%, transparent);

  /* Punch out the inside once (not animated) */
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask-composite: exclude;
}

#TabsToolbar {
  gap: var(--zen-toolbox-padding);
  -moz-window-dragging: unset;
}

/* Status panel */

@media (-moz-pref("zen.theme.styled-status-panel")) {
  #statuspanel {
    padding: 6px;

    & > #statuspanel-label {
      border-radius: 16px !important;
      border: 1px solid rgba(225, 225, 225, 0.15) !important;
      padding: 4px 8px 5px 8px !important;
      font-weight: 600 !important;
      background: color-mix(in srgb, var(--zen-primary-color), black 70%) !important;
      color: rgba(255, 255, 255, 0.8) !important;
    }
  }
}

/* Customizable modes */
#customization-container {
  --toolbar-bgcolor: var(--arrowpanel-background);
}

/* Site Data popup */

#zen-unified-site-data-panel {
  --panel-padding: 0px;
  --panel-width: 234px;
  --menu-panel-width-wide: calc(var(--panel-width) - var(--panel-padding) * 2);
  --uei-icon-size: 16px;
  --arrowpanel-menuitem-border-radius: 10px;
}

#unified-extensions-empty-state,
#unified-extensions-discover-extensions {
  display: none !important;
}

#zen-site-data-addons {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  overflow: visible;

  unified-extensions-item-messagebar-wrapper,
  .unified-extensions-item-contents {
    display: none !important;
  }

  &[overflowing="true"] {
    overflow-x: auto;
    max-height: 420px;
    mask-image: linear-gradient(to top, transparent, black 5%);
  }

  .unified-extensions-item-name,
  .unified-extensions-item-message,
  .unified-extensions-item-message-hover,
  .unified-extensions-item-message-hover-menu-button,
  .unified-extensions-item-menu-button {
    display: none;
  }

  #overflowed-extensions-list,
  #unified-extensions-area,
  .unified-extensions-list,
  #zen-site-data-new-addon-button-container {
    display: contents;

    &:empty {
      display: none;
    }

    & > * {
      background-color: color-mix(in srgb, currentcolor 6%, transparent);
      width: 48px;
      height: 32px;
      margin: 0;
      justify-content: center;
      align-items: center;
      border-radius: 6px;

      @media not (-moz-platform: macos) {
        border-radius: 4px;
      }

      transition:
        background-color 0.1s ease-in-out,
        transform 0.12s ease-in-out;

      & toolbarbutton {
        background: transparent !important;
      }

      & .toolbarbutton-badge-stack {
        margin: 0;
      }

      &:hover {
        transform: scale(1.05);
      }

      &:active:hover {
        transform: scale(0.95);
        background-color: color-mix(in srgb, currentcolor 10%, transparent);
      }
    }
  }
}

.zen-site-data-section {
  gap: 2px;
  padding: 9px;
  padding-bottom: 8px;
}

.zen-site-data-section-header {
  font-weight: 600;

  & label {
    margin: 0;
  }

  & > label:nth-child(2) {
    font-weight: 500;
    font-size: smaller;
    transition: opacity 0.15s ease-in-out;
    opacity: 0;
    border-radius: 6px;
    padding: 2px 6px;

    &:hover {
      background-color: color-mix(in srgb, currentColor 10%, transparent);
    }

    .zen-site-data-section:hover & {
      opacity: 0.5;
    }
  }
}

#zen-site-data-new-addon-button .toolbarbutton-text {
  display: none;
}

.permission-popup-permission-item {
  gap: 8px;
  overflow: hidden;
  align-items: center;
}

.permission-popup-permission-label-container {
  min-width: 1px;
}

.permission-popup-permission-label {
  margin: 0px;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.permission-popup-permission-icon {
  fill: var(--button-primary-color);
  padding: 8px;
  width: 34px;
  height: 34px;
  overflow: visible;
  position: relative;
  appearance: none;

  & label {
    display: none;
  }

  & image {
    -moz-context-properties: fill;
    z-index: 1;
  }

  &::before {
    content: "";
    position: absolute;
    inset: 1px;
    border-radius: 99px;
    width: 32px;
    height: 32px;
    background: var(--button-background-color-primary);
    opacity: 0.6;
    transition:
      transform 0.12s ease-in-out,
      opacity 0.12s ease-in-out;
  }

  .permission-popup-permission-item:hover &::before {
    transform: scale(1.05);
  }

  .permission-popup-permission-item:active:hover &::before {
    transform: scale(0.95);
  }

  .permission-popup-permission-item[state="allow"] &::before {
    opacity: 1;
  }
}

.zen-permission-popup-permission-state-label {
  opacity: 0.6;
  font-size: smaller;
  font-weight: 400;
  margin: 0;
}

#identity-box,
#page-action-buttons {
  opacity: 0.6;
}

#zen-site-data-footer {
  border-top: 1px solid color-mix(in srgb, currentColor 6%, transparent);
  padding-top: 8px;
  margin: 2px 8px 8px 8px;

  & toolbarbutton {
    margin: 0;
  }
}

@media -moz-pref("zen.theme.hide-unified-extensions-button") {
  #unified-extensions-button:not([showing]) {
    display: none !important;
  }
}

@media not -moz-pref("zen.theme.hide-unified-extensions-button") {
  #zen-site-data-section-addons {
    display: none;
  }
}

#zen-site-data-header {
  gap: 8px;
  align-items: center;
  padding: 10px 9px;
  padding-bottom: 8px;

  :root[zen-single-toolbar="true"]:not([zen-right-side="true"]) & {
    flex-direction: row-reverse;
  }

  & toolbarbutton {
    margin: 0;
    appearance: none;
    -moz-context-properties: fill;
    fill: currentColor;
    color: light-dark(rgba(0, 0, 0, 0.8), rgba(255, 255, 255, 0.8));
    width: 48px;
    height: 32px;
    position: relative;

    &[disabled] {
      opacity: 0.5;
      pointer-events: none;
    }

    & .toolbarbutton-text {
      display: none;
    }

    & image {
      width: 18px;
      pointer-events: none;
      z-index: 1;
    }

    &::before {
      content: "";
      position: absolute;
      width: 100%;
      height: 100%;
      @media (-moz-platform: macos) {
        background: linear-gradient(to bottom, light-dark(rgb(255, 255, 255), rgb(34, 34, 34)), light-dark(rgb(246, 246, 246), rgb(21, 21, 21)));

        box-shadow:
          0px 2px 4px rgba(0, 0, 0, 0.1),
          inset 0px 1px 0px light-dark(transparent, rgba(255, 255, 255, 0.15));
        border-radius: 6px;
        --base-border-color: light-dark(rgba(0, 0, 0, 0.3), rgba(255, 255, 255, 0.1));
        border: 1px solid light-dark(var(--base-border-color), rgb(21, 21, 21));
      }

      @media not (-moz-platform: macos) {
        border-radius: 4px;
        background-color: color-mix(in srgb, currentcolor 6%, transparent);
      }

      transition: transform 0.12s ease-in-out;
      box-sizing: border-box;
      will-change: transform;
    }

    &.active {
      color: var(--button-primary-color);

      &::before {
        background: var(--button-background-color-primary);
      }
    }

    &:hover::before {
      transform: scale(1.03);
    }

    &:active:hover::before {
      transform: scale(0.97);
    }
  }
}

#zen-site-data-settings-list toolbarseparator {
  margin: 6px 0;
}

#unified-extensions-messages-container:empty {
  display: none;
}

/* Overflow panel */
#widget-overflow-mainView {
  --menu-panel-width-wide: 200px;

  & toolbarbutton {
    scale: 1 !important;
  }

  & .panel-subview-body {
    padding: var(--panel-subview-body-padding) !important;
  }
}

#widget-overflow-mainView > toolbarseparator,
#overflowMenu-customize-button {
  display: none;
}

#widget-overflow-list {
  flex-direction: column-reverse;
}

/* Contextual new tab popup menu */
#navigator-toolbox #titlebar #TabsToolbar #tabs-newtab-button > .new-tab-popup > menuitem {
  & > :is(.menu-highlightable-text, .menu-accel) {
    display: none;
  }
}

/* Sidebar notification */
:root:not([zen-sidebar-expanded="true"]) zen-sidebar-notification {
  display: none;
}



================================================
FILE: src/zen/common/styles/zen-theme.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
/* Here, we contain all the theme related variables, for example theme
 * colors, border radius, etc.
 * We have `--zen-border-radius` and `--zen-primary-color` as variables.
 */

:host(:is(.anonymous-content-host, notification-message)),
:root {
  /* Default values */
  --zen-border-radius: 7px;
  --zen-primary-color: AccentColor;

  --zen-background-opacity: 1;

  /* Branding */
  --zen-branding-dark: #101010;
  --zen-branding-paper: #e2e2e2;

  --zen-branding-bg: light-dark(var(--zen-branding-paper), var(--zen-branding-dark));
  --zen-branding-bg-reverse: light-dark(var(--zen-branding-dark), var(--zen-branding-paper));

  /** Zen colors are generated automatically from the primary color */
  --zen-colors-primary: light-dark(
    color-mix(in srgb, var(--zen-primary-color) 50%, black 50%),
    color-mix(in srgb, var(--zen-primary-color) 20%, var(--zen-branding-bg) 80%)
  );
  --zen-colors-secondary: light-dark(
    color-mix(in srgb, var(--zen-colors-primary) 20%, white 80%),
    color-mix(in srgb, var(--zen-primary-color) 30%, var(--zen-branding-bg) 70%)
  );
  --zen-colors-tertiary: light-dark(
    color-mix(in srgb, var(--zen-primary-color) 2%, white 98%),
    color-mix(in srgb, var(--zen-primary-color) 1%, var(--zen-branding-bg) 99%)
  );

  --zen-colors-hover-bg: light-dark(
    color-mix(in srgb, var(--zen-primary-color) 90%, white 10%),
    color-mix(in srgb, var(--zen-primary-color) 90%, var(--zen-branding-bg) 10%)
  );
  --zen-colors-primary-foreground: light-dark(
    var(--zen-branding-bg-reverse),
    color-mix(in srgb, var(--zen-primary-color) 80%, white 20%)
  );
  --zen-colors-border: light-dark(
    color-mix(in srgb, var(--zen-colors-secondary) 50%, transparent),
    color-mix(in srgb, var(--zen-colors-secondary) 20%, rgb(79, 79, 79))
  );
  --zen-colors-border-contrast: light-dark(
    color-mix(in srgb, var(--zen-colors-secondary) 10%, rgba(181, 181, 181, 0.11) 90%),
    color-mix(in srgb, var(--zen-colors-secondary) 10%, rgba(255, 255, 255, 0.11) 90%)
  );

  --zen-colors-input-bg: light-dark(
    color-mix(in srgb, var(--zen-primary-color) 1%, var(--zen-colors-tertiary) 99%),
    color-mix(in srgb, var(--zen-primary-color) 1%, var(--zen-branding-bg) 99%)
  );

  --zen-dialog-background: light-dark(#FAFBFF, #161C31);
  --zen-urlbar-background: light-dark(
    color-mix(in srgb, var(--zen-primary-color) 3%, #f4f4f4 97%),
    color-mix(in srgb, var(--zen-primary-color) 4%, rgb(24, 24, 24) 96%)
  );

  --zen-secondary-btn-color: var(--zen-colors-primary-foreground);
  --panel-separator-zap-gradient: none !important;

  --in-content-primary-button-background: color-mix(
    in srgb,
    var(--zen-primary-color) 30%,
    var(--zen-branding-bg-reverse) 70%
  ) !important;
  --in-content-primary-button-background-hover: color-mix(
    in srgb,
    var(--zen-primary-color) 35%,
    var(--zen-branding-bg-reverse) 65%
  ) !important;
  --in-content-primary-button-background-active: color-mix(
    in srgb,
    var(--zen-primary-color) 40%,
    var(--zen-branding-bg-reverse) 60%
  ) !important;
  --in-content-primary-button-text-color: var(--zen-branding-bg) !important;
  --in-content-primary-button-border-color: transparent !important;
  --in-content-primary-button-border-hover: transparent !important;
  --in-content-primary-button-border-active: var(--zen-colors-border) !important;

  --in-content-accent-color: var(--zen-colors-primary) !important;
  --in-content-accent-color-active: currentColor !important;

  /* This is like the secondary button */
  --in-content-button-background: transparent !important;
  --in-content-button-text-color: var(--zen-secondary-btn-color) !important;
  --in-content-button-background-hover: color-mix(
    in srgb,
    currentColor,
    transparent 85%
  ) !important;
  --focus-outline-color: var(--color-accent-primary) !important;

  --toolbarbutton-icon-fill-attention: var(--toolbar-color) !important;
  --toolbarbutton-icon-fill: currentColor !important;

  --button-background-color-primary: var(--in-content-primary-button-background) !important;
  --button-primary-hover-bgcolor: var(--in-content-primary-button-background-hover) !important;
  --button-primary-active-bgcolor: var(--in-content-primary-button-background-active) !important;
  --button-primary-color: var(--in-content-primary-button-text-color) !important;
  --button-border-color-primary: var(--in-content-primary-button-border-color) !important;

  --button-border-color: var(--in-content-primary-button-border-color) !important;
  --button-font-weight: 500 !important;

  --button-border-radius: 6px;
  --button-text-color-primary: var(--in-content-primary-button-text-color) !important;

  --button-background-color: var(--in-content-button-background) !important;
  --button-background-color-hover: color-mix(in srgb, currentColor 5%, transparent) !important;
  --button-background-color-active: color-mix(in srgb, currentColor 10%, transparent) !important;

  --color-accent-primary: var(--button-background-color-primary) !important;
  --color-accent-primary-hover: var(--button-primary-hover-bgcolor) !important;
  --color-accent-primary-active: var(--button-primary-active-bgcolor) !important;

  --link-color: var(--zen-branding-bg-reverse) !important;
  --link-color-hover: var(--zen-colors-primary-foreground) !important;
  --link-color-active: color-mix(
    in srgb,
    var(--zen-colors-primary-foreground) 80%,
    transparent 20%
  ) !important;

  --in-content-page-background: var(--zen-colors-tertiary) !important;
  --zen-in-content-dialog-background: light-dark(
    var(--zen-colors-tertiary),
    var(--zen-branding-bg)
  );

  --zen-button-padding: 0.6rem 1.2rem;

  --zen-toolbar-element-bg: light-dark(
    color-mix(in oklch, var(--toolbox-textcolor) 8%, transparent),
    color-mix(in oklch, var(--toolbox-textcolor) 15%, transparent)
  );

  --zen-toolbar-element-bg-hover: light-dark(rgba(0, 0, 0, 0.08), rgba(255, 255, 255, 0.1));

  /* Toolbar */
  --tab-selected-color-scheme: inherit !important;
  --tabstrip-inner-border: transparent;

  --zen-toolbar-height: 38px;
  @media (-moz-platform: macos) {
    --zen-toolbar-height: 42px;
  }

  --zen-toolbar-button-inner-padding: 6px;
  --toolbarbutton-outer-padding: 4px;
  --zen-toolbar-height-with-bookmarks: var(--zen-toolbar-height);
  &[zen-has-bookmarks='true'] {
    /* Make sure `30px` matches the bookmarks toolbar height */
    --zen-toolbar-height-with-bookmarks: calc(var(--zen-toolbar-height) + 30px);
  }

  --toolbarbutton-hover-background: var(--zen-toolbar-element-bg-hover) !important;
  --zen-toolbar-button-size: 16px;
  @media (-moz-platform: macos) {
    --zen-toolbar-button-size: 18px;
  }

  /* Using a semitransparent background preserves the tinting from the backdrop.
    * Note that the toolbar text color from browser-colors.css should be ok,
    * as the backdrop matches our color scheme. The .6 matches what we do for
    * acrylic, and the .15 matches the 85% we do for the default toolbar
    * background on the native theme. */
  --toolbar-bgcolor: light-dark(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.15));

  --toolbarbutton-active-background: color-mix(
    in srgb,
    var(--zen-branding-bg-reverse) 7%,
    transparent 93%
  ) !important;

  --toolbar-color: var(--toolbox-textcolor) !important;
  --toolbox-textcolor-inactive: var(--toolbox-textcolor) !important;

  /* Other colors */
  --urlbar-box-active-bgcolor: var(--toolbarbutton-hover-background) !important;
  --zen-input-border-color: light-dark(rgb(204, 204, 204), rgb(66, 65, 77));
  --urlbar-box-hover-bgcolor: var(--toolbarbutton-hover-background) !important;
  --input-bgcolor: light-dark(rgba(255, 255, 255, 0.2), rgba(0, 0, 0, 0.2)) !important;
  --toolbar-field-focus-background-color: light-dark(
    rgba(255, 255, 255, 0.25),
    rgba(0, 0, 0, 0.3)
  ) !important;

  /* Transitions */
  --zen-tabbox-element-indent-transition: margin-inline-start 0.1s ease-in-out;
  --zen-hidden-toolbar-transition-duration: 0.15s;
  --zen-hidden-toolbar-transition: var(--zen-hidden-toolbar-transition-duration) ease-in-out;

  /* XUL */
  --zen-main-browser-background: light-dark(rgb(235, 235, 235), #1b1b1b);
  --zen-main-browser-background-toolbar: var(--zen-main-browser-background);

  --browser-area-z-index-toolbox: 2 !important;
  --attention-dot-color: transparent !important;

  --zen-appcontent-border: 1px solid var(--zen-colors-border);

  --toolbarbutton-border-radius: 6px;
  --urlbar-margin-inline: 1px !important;

  --tab-icon-overlay-stroke: light-dark(white, black) !important;
  --tab-close-button-padding: 5px !important;

  --input-border-color: var(--zen-input-border-color) !important;
  --zen-themed-toolbar-bg-transparent: light-dark(var(--zen-branding-bg), #171717);

  --zen-workspace-indicator-height: 44px;

  &:not([zen-sidebar-expanded='true']) {
    --zen-workspace-indicator-height: 38px;
  }

  --toolbar-field-color: var(--toolbox-textcolor) !important;

  &[zen-private-window='true'] {
    --zen-main-browser-background: color-mix(in srgb, rgb(11, 10, 11) 90%, var(--zen-themed-toolbar-bg-transparent));
    --zen-main-browser-background-toolbar: var(--zen-main-browser-background);
    --zen-primary-color: light-dark(rgb(93, 42, 107), rgb(110, 48, 125)) !important;
    --toolbox-textcolor: color-mix(in srgb, currentColor 95%, transparent) !important;
  }

  &[zen-unsynced-window='true'] {
    --zen-main-browser-background: color-mix(in srgb, light-dark(rgb(196, 202, 229), rgb(8, 9, 40)) 60%, var(--zen-themed-toolbar-bg-transparent));
    --zen-main-browser-background-toolbar: var(--zen-main-browser-background);
    --zen-primary-color: light-dark(rgb(100, 115, 255), rgb(80, 90, 200)) !important;
    --toolbox-textcolor: color-mix(in srgb, currentColor 95%, transparent) !important;
    --zen-workspace-indicator-height: 42px;
  }

  --toolbar-field-background-color: var(--zen-colors-input-bg) !important;
  --arrowpanel-background: light-dark(rgb(244, 244, 244), rgb(31, 31, 31)) !important;

  --panel-separator-color: color-mix(in srgb, currentColor 15%, transparent) !important;

  --zen-big-shadow: 0 0 9.73px 0px light-dark(rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.25));
  --zen-active-tab-scale: 0.98;

  /* Define tab hover background color */
  --tab-hover-background-color: var(--toolbarbutton-hover-background);

  /* Sidebar Notifications */
  --zen-sidebar-notification-bg: color-mix(
    in srgb,
    var(--zen-primary-color) 15%,
    light-dark(white, black)
  );
  --zen-sidebar-notification-shadow: 0 0 6px light-dark(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3));

  --zen-native-inner-radius: var(
    --zen-webview-border-radius,
    /* Inner radius calculation:
       * 1. If the native radius - the separation is less than 4px, use 4px.
       * 2. Otherwise, use the the calculated value (inner radius = outer radius - separation).
     */
      max(5px, calc(var(--zen-border-radius) - var(--zen-element-separation) / 2))
  );

  /** Other theme-related styles */
  @media (-moz-platform: macos) {
    font-family:
      SF Pro,
      ui-sans-serif,
      system-ui,
      sans-serif,
      Apple Color Emoji,
      Segoe UI Emoji,
      Segoe UI Symbol,
      Noto Color Emoji;
  }

  @media (-moz-platform: windows) {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
}

#main-window[windowtype="navigator:browser"]:not([chromehidden~='toolbar']) {
  min-height: 495px !important;

  @media (-moz-windows-mica) or (-moz-platform: macos) or ((-moz-platform: linux) and
        -moz-pref('zen.widget.linux.transparency')) {
    background: transparent;
    --zen-themed-toolbar-bg-transparent: transparent;

    @media (-moz-windows-mica) and (not (-moz-pref('widget.windows.mica.toplevel-backdrop', 1))) and (not (-moz-pref('widget.windows.mica.toplevel-backdrop', 2))) {
      --zen-themed-toolbar-bg-transparent: rgba(255, 255, 255, 0.2);
    }
  }

  &,
  & panel,
  & menupopup,
  & .zen-browser-generic-background,
  & #urlbar[breakout-extend='true'],
  & #tabbrowser-tabpanels browser[type='content'],
  &:not([zen-should-be-dark-mode]) #zen-toast-container {
    @media -moz-pref('zen.view.window.scheme', 0) {
%include schemes/dark.inc.css
    }

    @media -moz-pref('zen.view.window.scheme', 1) {
%include schemes/light.inc.css
    }

    @media -moz-pref('zen.view.window.scheme', 2) {
%include schemes/light.inc.css
      @media (-moz-system-dark-theme) {
%include schemes/dark.inc.css
      }
    }

    :root[privatebrowsingmode='temporary'] &,
    &[privatebrowsingmode='temporary'] {
%include schemes/dark.inc.css
    }
  }

  &[zen-should-be-dark-mode='true'] #browser {
%include schemes/dark.inc.css
  }

  &[zen-should-be-dark-mode='false'] #browser {
%include schemes/light.inc.css
  }
}

%include zen-buttons.css



================================================
FILE: src/zen/common/styles/zen-toolbar.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

#nav-bar,
#zen-sidebar-top-buttons {
  background: transparent;
}

:root[inDOMFullscreen="true"] #zen-appcontent-navbar-wrapper {
  visibility: collapse;
}

%include zen-overflowing-addons.css



================================================
FILE: src/zen/common/styles/schemes/dark.inc.css
================================================
% This Source Code Form is subject to the terms of the Mozilla Public
% License, v. 2.0. If a copy of the MPL was not distributed with this
% file, You can obtain one at http://mozilla.org/MPL/2.0/.

color-scheme: dark;
--toolbar-color-scheme: dark;
--zen-urlbar-outline-offset: -2px;



================================================
FILE: src/zen/common/styles/schemes/light.inc.css
================================================
% This Source Code Form is subject to the terms of the Mozilla Public
% License, v. 2.0. If a copy of the MPL was not distributed with this
% file, You can obtain one at http://mozilla.org/MPL/2.0/.

color-scheme: light;
--toolbar-color-scheme: light;
--zen-urlbar-outline-offset: 0px;



================================================
FILE: src/zen/common/styles/zen-panels/bookmarks.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
#zenEditBookmarkPanelFaviconContainer {
  border: 1px solid var(--input-border-color);
  width: 100px;
  height: 100px;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 16px;
  background: light-dark(#fff, rgba(255, 255, 255, 0.1));
}

#editBookmarkPanel::part(content) {
  display: flex;
  flex-direction: row;
}

#zenEditBookmarkPanelFavicon {
  width: 20px;
  height: 20px;
}

#editBookmarkPanel .panel-header {
  min-height: 0;
  padding-bottom: 0;
  padding-top: 16px;
}

#editBMPanel_namePicker {
  width: -moz-available;
}

label.editBMPanel_folderRow,
label.editBMPanel_nameRow {
  min-width: 60px;
}

hbox.editBMPanel_folderRow {
  width: -moz-available;
}

.zenEditBMPanel_fieldContainer:not(:first-child) {
  margin-top: 10px;
}

.zenEditBMPanel_fieldContainer {
  align-items: center;
}

#editBookmarkPanelBottomContent {
  display: none;
}

:host(:not([native])) #label-box {
  font-weight: 500;
}

#editBMPanel_folderMenuList::part(icon) {
  margin-right: 10px;
}

/* Bookmarks in toolbar */
#PersonalToolbar {
  background: transparent;
}



================================================
FILE: src/zen/common/styles/zen-panels/dialog.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
.dialogBox {
  border: none;
  outline: 1px solid light-dark(transparent, #646464);
  animation: zen-dialog-fade-in 0.3s ease-out;
  border-radius: 12px !important;
  border: 1px solid light-dark(#a8a8a9, black);
  outline-offset: -1.5px;
}



================================================
FILE: src/zen/common/styles/zen-panels/print.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

.printSettingsBrowser {
  min-width: 350px;
}



================================================
FILE: src/zen/common/sys/ZenActorsManager.sys.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
// Utility to register JSWindowActors

import { ActorManagerParent } from "resource://gre/modules/ActorManagerParent.sys.mjs";

/**
 * Fission-compatible JSProcess implementations.
 * Each actor options object takes the form of a ProcessActorOptions dictionary.
 * Detailed documentation of these options is in dom/docs/ipc/jsactors.rst,
 * available at https://firefox-source-docs.mozilla.org/dom/ipc/jsactors.html
 */
let JSPROCESSACTORS = {};

/**
 * Fission-compatible JSWindowActor implementations.
 * Detailed documentation of these options is in dom/docs/ipc/jsactors.rst,
 * available at https://firefox-source-docs.mozilla.org/dom/ipc/jsactors.html
 */
let JSWINDOWACTORS = {
  ZenModsMarketplace: {
    parent: {
      esModuleURI: "resource:///actors/ZenModsMarketplaceParent.sys.mjs",
    },
    child: {
      esModuleURI: "resource:///actors/ZenModsMarketplaceChild.sys.mjs",
      events: {
        DOMContentLoaded: {},
      },
    },
    matches: [
      ...Services.prefs.getStringPref("zen.injections.match-urls").split(","),
      "about:preferences",
    ],
  },
  ZenGlance: {
    parent: {
      esModuleURI: "resource:///actors/ZenGlanceParent.sys.mjs",
    },
    child: {
      esModuleURI: "resource:///actors/ZenGlanceChild.sys.mjs",
      events: {
        DOMContentLoaded: {},
        mousedown: {
          capture: true,
        },
        keydown: {
          capture: true,
        },
        click: {
          capture: true,
        },
      },
    },
    allFrames: true,
    matches: ["*://*/*"],
    enablePreference: "zen.glance.enabled",
  },
};

export let gZenActorsManager = {
  init() {
    ActorManagerParent.addJSProcessActors(JSPROCESSACTORS);
    ActorManagerParent.addJSWindowActors(JSWINDOWACTORS);
  },
};



================================================
FILE: src/zen/common/sys/ZenCustomizableUI.sys.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

import { AppConstants } from "resource://gre/modules/AppConstants.sys.mjs";

export const ZenCustomizableUI = new (class {
  constructor() {}

  TYPE_TOOLBAR = "toolbar";
  defaultSidebarIcons = ["downloads-button", "zen-workspaces-button", "zen-create-new-button"];

  startup(CustomizableUIInternal) {
    CustomizableUIInternal.registerArea(
      "zen-sidebar-top-buttons",
      {
        type: this.TYPE_TOOLBAR,
        defaultPlacements: ["zen-toggle-compact-mode"],
        defaultCollapsed: null,
        overflowable: true,
      },
      true
    );
    CustomizableUIInternal.registerArea(
      "zen-sidebar-foot-buttons",
      {
        type: this.TYPE_TOOLBAR,
        defaultPlacements: this.defaultSidebarIcons,
        defaultCollapsed: null,
      },
      true
    );
  }

  // We do not have access to the window object here
  init(window) {
    this.#addSidebarButtons(window);
    this.#modifyToolbarButtons(window);
  }

  #addSidebarButtons(window) {
    const kDefaultSidebarWidth = AppConstants.platform === "macosx" ? "230px" : "186px";
    const toolbox = window.gNavToolbox;

    // Set a splitter to navigator-toolbox
    const splitter = window.document.createXULElement("splitter");
    splitter.setAttribute("id", "zen-sidebar-splitter");
    splitter.setAttribute("orient", "horizontal");
    splitter.setAttribute("resizebefore", "sibling");
    splitter.setAttribute("resizeafter", "none");
    toolbox.insertAdjacentElement("afterend", splitter);

    const sidebarBox = window.MozXULElement.parseXULToFragment(`
      <toolbar id="zen-sidebar-top-buttons"
        fullscreentoolbar="true"
        class="browser-toolbar customization-target"
        brighttext="true"
        data-l10n-id="tabs-toolbar"
        customizable="true"
        context="toolbar-context-menu"
        flex="1"
        skipintoolbarset="true"
        customizationtarget="zen-sidebar-top-buttons-customization-target"
        overflowable="true"
        default-overflowbutton="nav-bar-overflow-button"
        default-overflowtarget="widget-overflow-list"
        default-overflowpanel="widget-overflow"
        addon-webext-overflowbutton="zen-site-data-icon-button"
        addon-webext-overflowtarget="overflowed-extensions-list"
        mode="icons">
        <hbox id="zen-sidebar-top-buttons-customization-target" class="customization-target" flex="1">
          <toolbaritem id="zen-toggle-compact-mode" removable="true" data-l10n-id="zen-toggle-compact-mode-button">
            <toolbarbutton
              class="toolbarbutton-1"
              command="cmd_toggleCompactModeIgnoreHover"
              data-l10n-id="zen-toggle-compact-mode-button"
              flex="1" />
          </toolbaritem>
          <html:div id="zen-sidebar-top-buttons-separator" skipintoolbarset="true" overflows="false"></html:div>
        </hbox>
      </toolbar>
    `);
    toolbox.prepend(sidebarBox);
    new window.MutationObserver((e) => {
      if (e[0].type !== "attributes" || e[0].attributeName !== "width") {
        return;
      }
      this._dispatchResizeEvent(window);
    }).observe(toolbox, {
      attributes: true, //configure it to listen to attribute changes
    });

    // remove all styles except for the width, since we are xulstoring the complet style list
    const width = toolbox.style.width || kDefaultSidebarWidth;
    toolbox.removeAttribute("style");
    toolbox.style.width = width;
    toolbox.setAttribute("width", width);

    splitter.addEventListener("dblclick", (e) => {
      if (e.button !== 0) {
        return;
      }
      toolbox.style.width = kDefaultSidebarWidth;
      toolbox.setAttribute("width", kDefaultSidebarWidth);
    });

    const newTab = window.document.getElementById("vertical-tabs-newtab-button");
    newTab.classList.add("zen-sidebar-action-button");

    for (let id of this.defaultSidebarIcons) {
      const elem = window.document.getElementById(id);
      if (!elem || elem.id === "zen-workspaces-button") {
        continue;
      }
      elem.setAttribute("removable", "true");
    }

    this.#initCreateNewButton(window);
    this.#moveWindowButtons(window);
  }

  #initCreateNewButton(window) {
    const button = window.document.getElementById("zen-create-new-button");
    // If we use "mousedown" event for private windows (which open a new tab on "click"), we might end up with
    // the urlbar flicking and therefore we use "command" event to avoid that.
    let isPrivateMode = window.gZenWorkspaces.privateWindowOrDisabled;
    button.addEventListener(isPrivateMode ? "command" : "mousedown", (event) => {
      if (isPrivateMode) {
        window.document.getElementById("cmd_newNavigatorTab").doCommand();
        return;
      }
      if (button.hasAttribute("open")) {
        return;
      }
      const popup = window.document.getElementById("zenCreateNewPopup");
      popup.openPopup(
        button,
        "before_start",
        0,
        0,
        true /* isContextMenu */,
        false /* attributesOverride */,
        event
      );
    });
  }

  #moveWindowButtons(window) {
    const windowControls = window.document.getElementsByClassName("titlebar-buttonbox-container");
    const toolboxIcons = window.document.getElementById(
      "zen-sidebar-top-buttons-customization-target"
    );
    if (
      window.AppConstants.platform === "macosx" ||
      window.matchMedia("(-moz-gtk-csd-reversed-placement)").matches
    ) {
      for (let i = 0; i < windowControls.length; i++) {
        if (i === 0) {
          toolboxIcons.prepend(windowControls[i]);
          continue;
        }
        windowControls[i].remove();
      }
    }
  }

  #modifyToolbarButtons(window) {
    const wrapper = window.document.getElementById("zen-sidebar-foot-buttons");
    const elementsToHide = ["new-tab-button"];
    for (let id of elementsToHide) {
      const elem = window.document.getElementById(id);
      if (elem) {
        wrapper.prepend(elem);
      }
    }
    window.document.getElementById("stop-reload-button").removeAttribute("overflows");
  }

  _dispatchResizeEvent(window) {
    window.dispatchEvent(new window.Event("resize"));
  }

  registerToolbarNodes(window) {
    window.CustomizableUI.registerToolbarNode(
      window.document.getElementById("zen-sidebar-top-buttons")
    );
    window.CustomizableUI.registerToolbarNode(
      window.document.getElementById("zen-sidebar-foot-buttons")
    );
  }
})();



================================================
FILE: src/zen/common/sys/ZenUIMigration.sys.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

import { AppConstants } from "resource://gre/modules/AppConstants.sys.mjs";

const lazy = {};

ChromeUtils.defineESModuleGetters(lazy, {
  SessionStore: "resource:///modules/sessionstore/SessionStore.sys.mjs",
});

class nsZenUIMigration {
  PREF_NAME = "zen.ui.migration.version";
  MIGRATION_VERSION = 6;

  init(isNewProfile) {
    if (!isNewProfile) {
      try {
        this._migrate();
      } catch (e) {
        console.error("ZenUIMigration: Error during migration", e);
      }
    }
    this.clearVariables();
    if (this.shouldRestart) {
      Services.startup.quit(Ci.nsIAppStartup.eAttemptQuit | Ci.nsIAppStartup.eRestart);
    }
  }

  get _migrationVersion() {
    return Services.prefs.getIntPref(this.PREF_NAME, 0);
  }

  set _migrationVersion(value) {
    Services.prefs.setIntPref(this.PREF_NAME, value);
  }

  _migrate() {
    for (let i = 0; i <= this.MIGRATION_VERSION; i++) {
      if (this._migrationVersion < i) {
        this[`_migrateV${i}`]?.();
      }
    }
  }

  clearVariables() {
    this._migrationVersion = this.MIGRATION_VERSION;
  }

  _migrateV1() {
    // If there's an userChrome.css or userContent.css existing, we set
    // 'toolkit.legacyUserProfileCustomizations.stylesheets' back to true
    // We do this to avoid existing user stylesheets to be ignored
    const profileDir = Services.dirsvc.get("ProfD", Ci.nsIFile);
    const userChromeFile = profileDir.clone();
    userChromeFile.append("chrome");
    userChromeFile.append("userChrome.css");
    const userContentFile = profileDir.clone();
    userContentFile.append("chrome");
    userContentFile.append("userContent.css");
    Services.prefs.setBoolPref(
      "zen.workspaces.separate-essentials",
      Services.prefs.getBoolPref("zen.workspaces.container-specific-essentials-enabled", false)
    );
    const theme = Services.prefs.getIntPref("layout.css.prefers-color-scheme.content-override", 0);
    Services.prefs.setIntPref("zen.view.window.scheme", theme);
    if (userChromeFile.exists() || userContentFile.exists()) {
      Services.prefs.setBoolPref("toolkit.legacyUserProfileCustomizations.stylesheets", true);
      console.warn("ZenUIMigration: User stylesheets detected, enabling legacy stylesheets.");
      this.shouldRestart = true;
    }
  }

  _migrateV2() {
    if (AppConstants.platform !== "linux") {
      Services.prefs.setIntPref("zen.theme.gradient-legacy-version", 0);
    }
  }

  _migrateV3() {
    if (Services.prefs.getStringPref("zen.theme.accent-color", "").startsWith("system")) {
      Services.prefs.setStringPref("zen.theme.accent-color", "AccentColor");
    }
  }

  _migrateV4() {
    // Fix spelling mistake in preference name
    Services.prefs.setBoolPref(
      "zen.theme.use-system-colors",
      Services.prefs.getBoolPref("zen.theme.use-sysyem-colors", false)
    );
  }

  _migrateV5() {
    Services.prefs.setBoolPref("zen.site-data-panel.show-callout", true);
  }

  _migrateV6() {
    lazy.SessionStore.promiseAllWindowsRestored.then(() => {
      const win = Services.wm.getMostRecentWindow("navigator:browser");
      win.setTimeout(async () => {
        const [title, message, learnMore, accept] = await win.document.l10n.formatMessages([
          "zen-window-sync-migration-dialog-title",
          "zen-window-sync-migration-dialog-message",
          "zen-window-sync-migration-dialog-learn-more",
          "zen-window-sync-migration-dialog-accept",
        ]);

        // buttonPressed will be 0 for cancel, 1 for "more info"
        let buttonPressed = Services.prompt.confirmEx(
          win,
          title.value,
          message.value,
          Services.prompt.BUTTON_POS_0 * Services.prompt.BUTTON_TITLE_IS_STRING +
            Services.prompt.BUTTON_POS_1 * Services.prompt.BUTTON_TITLE_IS_STRING,
          learnMore.value,
          accept.value,
          null,
          null,
          {}
        );
        // User has clicked on "Learn More"
        if (buttonPressed === 0) {
          win.openTrustedLinkIn("https://docs.zen-browser.app/user-manual/window-sync", "tab");
        }
      }, 1000);
    });
  }
}

export var gZenUIMigration = new nsZenUIMigration();



================================================
FILE: src/zen/compact-mode/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

*       content/browser/zen-styles/zen-compact-mode.css                         (../../zen/compact-mode/zen-compact-mode.css)
        content/browser/zen-components/ZenCompactMode.mjs                       (../../zen/compact-mode/ZenCompactMode.mjs)



================================================
FILE: src/zen/compact-mode/sidebar.inc.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

&:not([zen-compact-animating]) {
  & #zen-sidebar-splitter {
    display: none !important;
  }

  #zen-dragover-background {
    width: calc(100% - var(--zen-toolbox-padding) * 2 - 7px);
    left: unset;
    right: calc(var(--zen-toolbox-padding) + 3px);
    transform: translateY(-4px);

    :root:not([zen-single-toolbar="true"]) & {
      transform: translateY(calc(-100% - 2px));
    }
  }

  #zen-tabbox-wrapper {
    /* Remove extra 1px of margine we have to add to the tabbox */
    margin-left: var(--zen-element-separation) !important;
    margin-right: var(--zen-element-separation) !important;
  }

  #zen-appcontent-wrapper {
    & #tabbrowser-tabbox {
      margin-left: 0 !important;
    }
  }

  #zen-sidebar-splitter {
    display: none !important;
  }

  #zen-sidebar-top-buttons-customization-target {
    padding-inline-start: calc(
      var(--zen-toolbox-padding) - var(--toolbarbutton-outer-padding)
    ) !important;
  }

  &[zen-window-buttons-reversed='true'] #zen-appcontent-navbar-wrapper #nav-bar {
    margin-right: var(--zen-element-separation) !important;
    margin-left: calc(var(--zen-element-separation) - 3px) !important;
  }

  #navigator-toolbox {
    --zen-toolbox-max-width: 74px !important;
    --zen-compact-float: var(--zen-element-separation);
 
    :root[zen-no-padding='true'] & {
      --zen-compact-float: 10px;
      --zen-compact-top-toolbar-hidden-fix: var(--zen-compact-float);
      --zen-compact-mode-no-padding-radius-fix: 2px;
    }

    /* Initial padding for when we are animating */
    padding: 0 0 0 var(--zen-toolbox-padding) !important;

    &:not([animate='true']) {
      position: fixed;
      z-index: 10;
      transition:
        left 0.15s ease,
        right 0.15s ease,
        visibility 0.15s ease;
      bottom: var(--zen-compact-float);
      padding: 0 var(--zen-compact-float) !important;
      :root[zen-single-toolbar='true'] & {
        /* We add an extra offset since windows users have a border top
             * in the window in order to compensate how windows renders the
             * titlebar */
        top: calc(var(--zen-compact-float) / 2 + var(--zen-sidebar-compact-top-offset, 0px));
        height: calc(100% - var(--zen-compact-float));
      }
      :root:not([zen-single-toolbar='true']) & {
        bottom: calc(var(--zen-compact-float) / 2);
        height: calc(100% - var(--zen-toolbar-height-with-bookmarks)); 
        @media -moz-pref('zen.view.compact.hide-toolbar') {
          height: calc(100% - var(--zen-compact-top-toolbar-hidden-fix, 0px));
        }
      }
      & #zen-sidebar-top-buttons {
        margin: 0 0 calc(var(--zen-toolbox-padding) / 2) 0;
      }
    }

    &:not([zen-right-side='true']) #nav-bar {
      margin-left: 0 !important;
    }
  }

  &:not([zen-right-side='true']) #navigator-toolbox {
    left: calc(-1 * var(--actual-zen-sidebar-width) + var(--zen-element-separation) / 2 + 1px);
  }

  /* When we have multiple toolbars and the top-toolbar is NOT being hidden,
   * we need to adjust the top-padding of the toolbox to account for the
   * extra toolbar height. */
  @media not -moz-pref('zen.view.compact.hide-toolbar') {
    &:not([zen-single-toolbar='true']) {
      #navigator-toolbox:not([animate='true']) {
        margin-top: var(--zen-toolbar-height-with-bookmarks) !important;
      }
    }
  }

  &:not([zen-sidebar-expanded='true']) .zen-essentials-container {
    padding: 0;
  }

  &[zen-right-side='true'] {
    & #navigator-toolbox:not([animate='true']) {
      right: calc(-1 * var(--actual-zen-sidebar-width) + var(--zen-element-separation) / 2 + 1px);
    }

    & .browserSidebarContainer:not([is-zen-split='true']) {
      margin-left: 0 !important;
      margin-right: 0 !important;
    }
  }

  #navigator-toolbox:not([animate='true']) #titlebar {
    padding: var(--zen-toolbox-padding) !important;
    :root:not([zen-sidebar-expanded='true']) & {
      padding: var(--zen-toolbox-padding) 0 !important;
      max-width: calc(var(--zen-sidebar-width) - var(--zen-toolbox-padding) * 2);
      width: var(--zen-sidebar-width);
    }
    position: relative;
    min-width: var(--zen-toolbox-min-width);
    transition: visibility 0.15s; /* Same as the toolbox */
    visibility: hidden;

    :root[zen-sidebar-expanded='true'] & {
      width: calc(var(--zen-sidebar-width) + var(--zen-toolbox-padding));
    }

    & .zen-toolbar-background {
      display: flex;
    }
  }

  #navigator-toolbox:is(
    [zen-has-hover], [zen-user-show], 
    [zen-has-empty-tab], [flash-popup],
    [has-popup-menu], [movingtab], 
    [zen-compact-mode-active]
  ),
  &[zen-renaming-tab='true'] #navigator-toolbox {
    &:not([animate='true']) {
      --zen-compact-mode-func: linear(
        0 0%,
        0.002748 1%,
        0.010544 2%,
        0.022757 3%,
        0.038804 4%,
        0.058151 5%,
        0.080308 6%,
        0.104828 7.000000000000001%,
        0.131301 8%,
        0.159358 9%,
        0.188662 10%,
        0.21891 11%,
        0.249828 12%,
        0.281172 13%,
        0.312724 14.000000000000002%,
        0.344288 15%,
        0.375693 16%,
        0.40679 17%,
        0.437447 18%,
        0.467549 19%,
        0.497 20%,
        0.525718 21%,
        0.553633 22%,
        0.580688 23%,
        0.60684 24%,
        0.632052 25%,
        0.656298 26%,
        0.679562 27%,
        0.701831 28.000000000000004%,
        0.723104 28.999999999999996%,
        0.743381 30%,
        0.76267 31%,
        0.780983 32%,
        0.798335 33%,
        0.814744 34%,
        0.830233 35%,
        0.844826 36%,
        0.858549 37%,
        0.87143 38%,
        0.883498 39%,
        0.894782 40%,
        0.905314 41%,
        0.915125 42%,
        0.924247 43%,
        0.93271 44%,
        0.940547 45%,
        0.947787 46%,
        0.954463 47%,
        0.960603 48%,
        0.966239 49%,
        0.971397 50%,
        0.976106 51%,
        0.980394 52%,
        0.984286 53%,
        0.987808 54%,
        0.990984 55.00000000000001%,
        0.993837 56.00000000000001%,
        0.99639 56.99999999999999%,
        0.998664 57.99999999999999%,
        1.000679 59%,
        1.002456 60%,
        1.004011 61%,
        1.005363 62%,
        1.006528 63%,
        1.007522 64%,
        1.008359 65%,
        1.009054 66%,
        1.009618 67%,
        1.010065 68%,
        1.010405 69%,
        1.010649 70%,
        1.010808 71%,
        1.01089 72%,
        1.010904 73%,
        1.010857 74%,
        1.010757 75%,
        1.010611 76%,
        1.010425 77%,
        1.010205 78%,
        1.009955 79%,
        1.009681 80%,
        1.009387 81%,
        1.009077 82%,
        1.008754 83%,
        1.008422 84%,
        1.008083 85%,
        1.00774 86%,
        1.007396 87%,
        1.007052 88%,
        1.00671 89%,
        1.006372 90%,
        1.00604 91%,
        1.005713 92%,
        1.005394 93%,
        1.005083 94%,
        1.004782 95%,
        1.004489 96%,
        1.004207 97%,
        1.003935 98%,
        1.003674 99%,
        1.003423 100%
      );
      --zen-compact-mode-time: 0.25s;
      transition:
        left var(--zen-compact-mode-time) var(--zen-compact-mode-func),
        right var(--zen-compact-mode-time) var(--zen-compact-mode-func);

      :root:not([supress-primary-adjustment='true']) & {
        & #titlebar {
          transition: none;
          visibility: visible;
        }

        left: calc(var(--zen-compact-float) / -2);
        :root[zen-right-side='true'] & {
          right: calc(var(--zen-compact-float) / -2);
          left: auto;
        }
      }
    }
  }
}



================================================
FILE: src/zen/compact-mode/toolbar.inc.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

&:not([zen-single-toolbar='true']) {
  & #navigator-toolbox {
    --zen-toolbox-top-align: var(--zen-element-separation);
  }

  @media -moz-pref('zen.view.compact.hide-tabbar') {
    & #titlebar {
      margin-top: var(--zen-element-separation) !important;
    }
  }

  &[zen-right-side='true'][zen-window-buttons-reversed='true'] #titlebar,
  &:not([zen-right-side='true']):not([zen-window-buttons-reversed='true']) #titlebar {
    /* The same as the expression above */
    margin-top: var(--zen-element-separation) !important;
  }

  & #zen-appcontent-wrapper {
    z-index: 3 !important;
  }

  & #zen-appcontent-navbar-wrapper {
    & .zen-toolbar-background {
      display: flex;
    }
    transition: height var(--zen-hidden-toolbar-transition);
    
    height: var(--zen-element-separation);
    overflow: clip;

    & #urlbar:not([breakout-extend='true']) {
      /* Sometimes, "opacity: 1" is forced elsewhere */
      opacity: 0 !important;
      pointer-events: none;
      transition: opacity var(--zen-hidden-toolbar-transition);
    }

%include windows-captions-fix-default.inc.css

    & #zen-appcontent-navbar-container {
      opacity: 0;
      transition: opacity var(--zen-hidden-toolbar-transition);
    }
  }

  & #zen-appcontent-navbar-wrapper:is(
    [zen-has-hover],
    [has-popup-menu],
    [zen-compact-mode-active]
  ) {
    height: var(--zen-toolbar-height-with-bookmarks);
    overflow: inherit;

%include windows-captions-fix-active.inc.css

    & #urlbar {
      opacity: 1 !important;
      pointer-events: auto;
    }

    & #zen-appcontent-navbar-container {
      opacity: 1;
    }
  }
}



================================================
FILE: src/zen/compact-mode/windows-captions-fix-active.inc.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

& .titlebar-buttonbox-container {
  max-height: 100%;
  transition: none;
}



================================================
FILE: src/zen/compact-mode/windows-captions-fix-default.inc.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

& .titlebar-buttonbox-container {
  max-height: 0px;
  /* We need to hide them since on Windows the native
   * panels when hovering over them can interfere with the
   * web content */
  transition: max-height 0s;
  transition-delay: calc(var(--zen-hidden-toolbar-transition-duration) + 0.2s);

  & .titlebar-button {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }
}



================================================
FILE: src/zen/compact-mode/zen-compact-mode.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
/* All overrides for compact mode go here */

.zen-toolbar-background {
  display: none;
  pointer-events: none;

  overflow: clip;
  z-index: -1;
  background: light-dark(#e9e9e9, #131313);
  box-shadow: var(--zen-big-shadow);
  @media -moz-pref('zen.theme.acrylic-elements') {
    background: transparent;
    backdrop-filter: blur(42px) saturate(110%) brightness(0.25) contrast(100%) !important;
  }

  &::before,
  &::after {
    outline: 1px solid rgba(255, 255, 255, .15);
    outline-offset: -1px;
    background-attachment: fixed !important;
    background-size: 100vw 100vh !important;
  }

  &,
  &::before,
  &::after {
    border-radius: calc(var(--zen-native-inner-radius) - var(--zen-compact-mode-no-padding-radius-fix, 0px));
  }
}

:root[zen-compact-mode='true']:not([customizing]):not([inDOMFullscreen='true']) {

%include ../tabs/zen-tabs/vertical-tabs-topbuttons-fix.css

  & #urlbar {
    visibility: visible;
  }

  @media -moz-pref('zen.view.compact.hide-tabbar') or -moz-pref('zen.view.use-single-toolbar') {
%include sidebar.inc.css
  }

  @media -moz-pref('zen.view.compact.hide-toolbar') {
%include toolbar.inc.css
  }
}



================================================
FILE: src/zen/compact-mode/ZenCompactMode.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* eslint-disable consistent-return */

const lazy = {};

XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "COMPACT_MODE_FLASH_DURATION",
  "zen.view.compact.toolbar-flash-popup.duration",
  800
);

XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "COMPACT_MODE_FLASH_ENABLED",
  "zen.view.compact.toolbar-flash-popup",
  true
);

XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "COMPACT_MODE_CAN_ANIMATE_SIDEBAR",
  "zen.view.compact.animate-sidebar",
  true
);

XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "COMPACT_MODE_SHOW_SIDEBAR_AND_TOOLBAR_ON_HOVER",
  "zen.view.compact.show-sidebar-and-toolbar-on-hover",
  true
);

ChromeUtils.defineLazyGetter(lazy, "mainAppWrapper", () =>
  document.getElementById("zen-main-app-wrapper")
);

window.gZenCompactModeManager = {
  _flashTimeouts: {},
  _eventListeners: [],
  _removeHoverFrames: {},

  // Delay to avoid flickering when hovering over the sidebar
  HOVER_HACK_DELAY: Services.prefs.getIntPref("zen.view.compact.hover-hack-delay", 0),

  preInit() {
    this._wasInCompactMode = Services.prefs.getBoolPref(
      "zen.view.compact.enable-at-startup",
      false
    );
    this._canDebugLog = Services.prefs.getBoolPref("zen.view.compact.debug", false);

    this.addContextMenu();
  },

  init() {
    this.addMouseActions();

    const tabIsRightObserver = this._updateSidebarIsOnRight.bind(this);
    Services.prefs.addObserver("zen.tabs.vertical.right-side", tabIsRightObserver);

    window.addEventListener(
      "unload",
      () => {
        Services.prefs.removeObserver("zen.tabs.vertical.right-side", tabIsRightObserver);
      },
      { once: true }
    );

    gZenUIManager.addPopupTrackingAttribute(this.sidebar);
    gZenUIManager.addPopupTrackingAttribute(
      document.getElementById("zen-appcontent-navbar-wrapper")
    );

    this.addHasPolyfillObserver();

    // Clear hover states when window state changes (minimize, maximize, etc.)
    window.addEventListener("sizemodechange", () => this._clearAllHoverStates());

    this._canShowBackgroundTabToast = Services.prefs.getBoolPref(
      "zen.view.compact.show-background-tab-toast",
      true
    );

    if (AppConstants.platform == "macosx") {
      window.addEventListener("mouseover", (event) => {
        const buttons = gZenVerticalTabsManager.actualWindowButtons;
        if (event.target.closest(".titlebar-buttonbox-container") === buttons) {
          return;
        }
        this._setElementExpandAttribute(buttons, false);
      });
    }

    SessionStore.promiseAllWindowsRestored.then(() => {
      this.preference = this._wasInCompactMode;
    });
  },

  log(...args) {
    if (this._canDebugLog) {
      // eslint-disable-next-line no-console
      console.debug("[Zen Compact Mode]", ...args);
    }
  },

  get preference() {
    return document.documentElement.getAttribute("zen-compact-mode") === "true";
  },

  get shouldBeCompact() {
    return !document.documentElement.getAttribute("chromehidden")?.includes("toolbar");
  },

  set preference(value) {
    if (!this.shouldBeCompact) {
      value = false;
    }
    this.log("Setting compact mode preference to", value);
    if (
      this.preference === value ||
      document.documentElement.hasAttribute("zen-compact-animating")
    ) {
      if (typeof this._wasInCompactMode !== "undefined") {
        // We wont do anything with it anyway, so we remove it
        delete this._wasInCompactMode;
      }
      delete this._ignoreNextHover;
      // We dont want the user to be able to spam the button
      return;
    }
    this.sidebar.removeAttribute("zen-user-show");
    // We use this element in order to make it persis across restarts, by using the XULStore.
    // main-window can't store attributes other than window sizes, so we use this instead
    lazy.mainAppWrapper.setAttribute("zen-compact-mode", value);
    document.documentElement.setAttribute("zen-compact-mode", value);
    if (typeof this._wasInCompactMode === "undefined") {
      Services.prefs.setBoolPref("zen.view.compact.enable-at-startup", value);
    }
    this._updateEvent();
  },

  get sidebarIsOnRight() {
    if (typeof this._sidebarIsOnRight !== "undefined") {
      return this._sidebarIsOnRight;
    }
    this._sidebarIsOnRight = Services.prefs.getBoolPref("zen.tabs.vertical.right-side");
    return this._sidebarIsOnRight;
  },

  get sidebar() {
    return gNavToolbox;
  },

  addHasPolyfillObserver() {
    const attributes = ["panelopen", "open", "breakout-extend", "zen-floating-urlbar"];
    this.sidebarObserverId = ZenHasPolyfill.observeSelectorExistence(
      this.sidebar,
      [
        {
          selector:
            ":is([panelopen='true'], [open='true'], [breakout-extend='true']):not(#urlbar[zen-floating-urlbar='true']):not(tab):not(.zen-compact-mode-ignore)",
        },
      ],
      "zen-compact-mode-active",
      attributes
    );
    this.toolbarObserverId = ZenHasPolyfill.observeSelectorExistence(
      document.getElementById("zen-appcontent-navbar-wrapper"),
      [
        {
          selector:
            ":is([panelopen='true'], [open='true'], #urlbar:focus-within, [breakout-extend='true']):not(.zen-compact-mode-ignore)",
        },
      ],
      "zen-compact-mode-active",
      attributes
    );
    // Always connect this observer, we need it even if compact mode is disabled
    ZenHasPolyfill.connectObserver(this.toolbarObserverId);
  },

  flashSidebarIfNecessary(aInstant = false) {
    // This function is called after exiting DOM fullscreen mode,
    // so we do a bit of a hack to re-calculate the URL height
    if (aInstant) {
      gZenVerticalTabsManager.recalculateURLBarHeight();
    }
    if (
      !aInstant &&
      this.preference &&
      lazy.COMPACT_MODE_FLASH_ENABLED &&
      !gZenGlanceManager._animating
    ) {
      this.flashSidebar();
    }
  },

  addContextMenu() {
    const fragment = window.MozXULElement.parseXULToFragment(`
      <menu id="zen-context-menu-compact-mode" data-l10n-id="zen-toolbar-context-compact-mode">
        <menupopup>
          <menuitem id="zen-context-menu-compact-mode-toggle" data-l10n-id="zen-toolbar-context-compact-mode-enable" type="checkbox" command="cmd_zenCompactModeToggle"/>
          <menuseparator/>
          <menuitem id="zen-context-menu-compact-mode-hide-sidebar" data-l10n-id="zen-toolbar-context-compact-mode-just-tabs" type="radio" />
          <menuitem id="zen-context-menu-compact-mode-hide-toolbar" data-l10n-id="zen-toolbar-context-compact-mode-just-toolbar" type="radio" />
          <menuitem id="zen-context-menu-compact-mode-hide-both" data-l10n-id="zen-toolbar-context-compact-mode-hide-both" type="radio" />
        </menupopup>
      </menu>
    `);

    const idToAction = {
      "zen-context-menu-compact-mode-hide-sidebar": this.hideSidebar.bind(this),
      "zen-context-menu-compact-mode-hide-toolbar": this.hideToolbar.bind(this),
      "zen-context-menu-compact-mode-hide-both": this.hideBoth.bind(this),
    };

    for (let menuitem of fragment.querySelectorAll("menuitem")) {
      if (menuitem.id in idToAction) {
        menuitem.addEventListener("command", idToAction[menuitem.id]);
      }
    }

    document.getElementById("viewToolbarsMenuSeparator").before(fragment);
    this.updateContextMenu();
  },

  updateCompactModeContext(isSingleToolbar) {
    const isIllegalState = this.checkIfIllegalState();
    const menuitem = document.getElementById("zen-context-menu-compact-mode-toggle");
    const menu = document.getElementById("zen-context-menu-compact-mode");
    if (!menu) {
      return;
    }
    if (isSingleToolbar) {
      menu.setAttribute("hidden", "true");
      menu.before(menuitem);
    } else {
      menu.removeAttribute("hidden");
      menu.querySelector("menupopup").prepend(menuitem);
    }
    const hideToolbarMenuItem = document.getElementById(
      "zen-context-menu-compact-mode-hide-toolbar"
    );
    if (isIllegalState) {
      hideToolbarMenuItem.setAttribute("disabled", "true");
    } else {
      hideToolbarMenuItem.removeAttribute("disabled");
    }
  },

  hideSidebar() {
    Services.prefs.setBoolPref("zen.view.compact.hide-tabbar", true);
    Services.prefs.setBoolPref("zen.view.compact.hide-toolbar", false);
    this.callAllEventListeners();
  },

  hideToolbar() {
    Services.prefs.setBoolPref("zen.view.compact.hide-toolbar", true);
    Services.prefs.setBoolPref("zen.view.compact.hide-tabbar", false);
    this.callAllEventListeners();
  },

  hideBoth() {
    Services.prefs.setBoolPref("zen.view.compact.hide-tabbar", true);
    Services.prefs.setBoolPref("zen.view.compact.hide-toolbar", true);
    this.callAllEventListeners();
  },

  /**
   * Check for illegal states and fix them
   *
   * @returns {boolean} If the context menu should just show the "toggle" item
   *    instead of a submenu with hide options
   */
  checkIfIllegalState() {
    // Due to how we layout the sidebar and toolbar, there are some states
    // that are not allowed mainly due to the caption buttons not being accessible
    // at the top left/right of the window.
    const isSidebarExpanded = gZenVerticalTabsManager._prefsSidebarExpanded;
    if (isSidebarExpanded) {
      // Fast exit if the sidebar is expanded, as we dont have illegal states then
      return false;
    }
    const canHideSidebar = this.canHideSidebar;
    const canHideToolbar = this.canHideToolbar;
    const isLeftSideButtons = !gZenVerticalTabsManager.isWindowsStyledButtons;
    const isRightSidebar = gZenVerticalTabsManager._prefsRightSide;
    // on macos: collapsed + left side + only toolbar
    // on windows: collapsed + right side + only toolbar
    const closelyIllegalState =
      (isLeftSideButtons && !isRightSidebar) || (!isLeftSideButtons && isRightSidebar);
    if (closelyIllegalState && canHideToolbar && !canHideSidebar) {
      // This state is illegal
      Services.prefs.setBoolPref("zen.view.compact.hide-tabbar", true);
      Services.prefs.setBoolPref("zen.view.compact.hide-toolbar", false);
      this.callAllEventListeners();
      return true;
    }
    return closelyIllegalState;
  },

  callAllEventListeners() {
    this._eventListeners.forEach((callback) => callback());
  },

  addEventListener(callback) {
    this._eventListeners.push(callback);
  },

  removeEventListener(callback) {
    const index = this._eventListeners.indexOf(callback);
    if (index !== -1) {
      this._eventListeners.splice(index, 1);
    }
  },

  async _updateEvent() {
    const isUrlbarFocused = gURLBar.focused;
    // IF we are animating IN, call the callbacks first so we can calculate the width
    // once the window buttons are shown
    this.updateContextMenu();
    if (!this.preference) {
      this.callAllEventListeners();
      await this.animateCompactMode();
    } else {
      await this.animateCompactMode();
      this.callAllEventListeners();
    }
    gZenUIManager.updateTabsToolbar();
    if (isUrlbarFocused) {
      gURLBar.focus();
    }
    if (this.preference) {
      ZenHasPolyfill.connectObserver(this.sidebarObserverId);
    } else {
      ZenHasPolyfill.disconnectObserver(this.sidebarObserverId);
    }
    window.dispatchEvent(new CustomEvent("ZenCompactMode:Toggled", { detail: this.preference }));
  },

  // NOTE: Dont actually use event, it's just so we make sure
  // the caller is from the ResizeObserver
  getAndApplySidebarWidth(event = undefined) {
    if (this._ignoreNextResize) {
      delete this._ignoreNextResize;
      return;
    }
    let sidebarWidth = this.sidebar.getBoundingClientRect().width;
    const shouldRecalculate =
      this.preference || document.documentElement.hasAttribute("zen-creating-workspace");
    const sidebarExpanded = document.documentElement.hasAttribute("zen-sidebar-expanded");
    if (sidebarWidth > 1) {
      if (shouldRecalculate && sidebarExpanded) {
        sidebarWidth = Math.max(sidebarWidth, 150);
      }
      // Second variable to get the genuine width of the sidebar
      this.sidebar.style.setProperty("--actual-zen-sidebar-width", `${sidebarWidth}px`);
      window.dispatchEvent(new window.Event("resize")); // To recalculate the layout
      if (
        event &&
        shouldRecalculate &&
        sidebarExpanded &&
        !gZenVerticalTabsManager._hadSidebarCollapse
      ) {
        return;
      }
      delete gZenVerticalTabsManager._hadSidebarCollapse;
      this.sidebar.style.setProperty("--zen-sidebar-width", `${sidebarWidth}px`);
    }
    return sidebarWidth;
  },

  get canHideSidebar() {
    return (
      Services.prefs.getBoolPref("zen.view.compact.hide-tabbar") ||
      gZenVerticalTabsManager._hasSetSingleToolbar
    );
  },

  get canHideToolbar() {
    return (
      Services.prefs.getBoolPref("zen.view.compact.hide-toolbar") &&
      !gZenVerticalTabsManager._hasSetSingleToolbar
    );
  },

  animateCompactMode() {
    // Get the splitter width before hiding it (we need to hide it before animating on right)
    document.documentElement.setAttribute("zen-compact-animating", "true");
    return new Promise((resolve) => {
      // We need to set the splitter width before hiding it
      let splitterWidth = document
        .getElementById("zen-sidebar-splitter")
        .getBoundingClientRect().width;
      const isCompactMode = this.preference;
      const canHideSidebar = this.canHideSidebar;
      let canAnimate = lazy.COMPACT_MODE_CAN_ANIMATE_SIDEBAR && !this.isSidebarPotentiallyOpen();
      if (typeof this._wasInCompactMode !== "undefined") {
        canAnimate = false;
        delete this._wasInCompactMode;
      }
      // Do this so we can get the correct width ONCE compact mode styled have been applied
      if (canAnimate) {
        this.sidebar.setAttribute("animate", "true");
      }
      if (this._ignoreNextHover) {
        this._setElementExpandAttribute(this.sidebar, false);
      }
      this.sidebar.style.removeProperty("margin-right");
      this.sidebar.style.removeProperty("margin-left");
      this.sidebar.style.removeProperty("transform");
      window.requestAnimationFrame(() => {
        delete this._ignoreNextResize;
        let sidebarWidth = this.getAndApplySidebarWidth();
        const elementSeparation = ZenThemeModifier.elementSeparation;
        if (!canAnimate) {
          this.sidebar.removeAttribute("animate");
          document.documentElement.removeAttribute("zen-compact-animating");

          this.getAndApplySidebarWidth({});
          this._ignoreNextResize = true;

          delete this._ignoreNextHover;

          resolve();
          return;
        }
        if (document.documentElement.hasAttribute("zen-sidebar-expanded")) {
          sidebarWidth -= 0.5 * splitterWidth;
          if (elementSeparation < splitterWidth) {
            // Subtract from the splitter width to end up with the correct element separation
            sidebarWidth += 1.5 * splitterWidth - elementSeparation;
          }
        } else {
          sidebarWidth -= elementSeparation;
        }
        if (canHideSidebar && isCompactMode) {
          this._setElementExpandAttribute(this.sidebar, false);
          gZenUIManager.motion
            .animate(
              this.sidebar,
              {
                marginRight: [0, this.sidebarIsOnRight ? `-${sidebarWidth}px` : 0],
                marginLeft: [0, this.sidebarIsOnRight ? 0 : `-${sidebarWidth}px`],
              },
              {
                ease: "easeIn",
                type: "spring",
                bounce: 0,
                duration: 0.12,
              }
            )
            .then(() => {
              this.sidebar.style.transition = "none";
              this.sidebar.style.pointEvents = "none";
              const titlebar = document.getElementById("titlebar");
              titlebar.style.visibility = "hidden";
              titlebar.style.transition = "none";
              this.sidebar.removeAttribute("animate");
              document.documentElement.removeAttribute("zen-compact-animating");

              if (this._ignoreNextHover) {
                setTimeout(() => {
                  delete this._ignoreNextHover;
                });
              }

              this.getAndApplySidebarWidth({});
              this._ignoreNextResize = true;

              this.sidebar.style.removeProperty("margin-right");
              this.sidebar.style.removeProperty("margin-left");
              this.sidebar.style.removeProperty("transition");
              this.sidebar.style.removeProperty("transform");
              this.sidebar.style.removeProperty("point-events");

              titlebar.style.removeProperty("visibility");
              titlebar.style.removeProperty("transition");

              gURLBar.style.removeProperty("visibility");

              resolve();
            });
        } else if (canHideSidebar && !isCompactMode) {
          // Shouldn't be ever true, but just in case
          delete this._ignoreNextHover;
          document.getElementById("browser").style.overflow = "clip";
          if (this.sidebarIsOnRight) {
            this.sidebar.style.marginRight = `-${sidebarWidth}px`;
          } else {
            this.sidebar.style.marginLeft = `-${sidebarWidth}px`;
          }
          gZenUIManager.motion
            .animate(
              this.sidebar,
              this.sidebarIsOnRight
                ? {
                    marginRight: [`-${sidebarWidth}px`, 0],
                    transform: ["translateX(100%)", "translateX(0)"],
                  }
                : { marginLeft: 0 },
              {
                ease: "easeOut",
                type: "spring",
                bounce: 0,
                duration: 0.12,
              }
            )
            .then(() => {
              this.sidebar.removeAttribute("animate");
              document.getElementById("browser").style.removeProperty("overflow");
              this.sidebar.style.transition = "none";
              this.sidebar.style.removeProperty("margin-right");
              this.sidebar.style.removeProperty("margin-left");
              this.sidebar.style.removeProperty("transform");
              document.documentElement.removeAttribute("zen-compact-animating");
              setTimeout(() => {
                this.sidebar.style.removeProperty("transition");
                resolve();
              });
            });
        } else {
          this.sidebar.removeAttribute("animate"); // remove the attribute if we are not animating
          document.documentElement.removeAttribute("zen-compact-animating");
          delete this._ignoreNextHover;
          resolve();
        }
      });
    });
  },

  updateContextMenu() {
    const toggle = document.getElementById("zen-context-menu-compact-mode-toggle");
    if (!toggle) {
      return;
    }
    toggle.setAttribute("checked", this.preference);

    const hideTabBar = this.canHideSidebar;
    const hideToolbar = this.canHideToolbar;
    const hideBoth = hideTabBar && hideToolbar;

    const idName = "zen-context-menu-compact-mode-hide-";
    const sidebarItem = document.getElementById(idName + "sidebar");
    const toolbarItem = document.getElementById(idName + "toolbar");
    const bothItem = document.getElementById(idName + "both");
    sidebarItem.setAttribute("checked", !hideBoth && hideTabBar);
    toolbarItem.setAttribute("checked", !hideBoth && hideToolbar);
    bothItem.setAttribute("checked", hideBoth);
  },

  _removeOpenStateOnUnifiedExtensions() {
    // Fix for bug https://github.com/zen-browser/desktop/issues/1925
    const buttons = document.querySelectorAll(
      "toolbarbutton:is(#unified-extensions-button, .webextension-browser-action)"
    );
    for (let button of buttons) {
      button.removeAttribute("open");
    }
  },

  toggle(ignoreHover = false) {
    // Only ignore the next hover when we are enabling compact mode
    this._ignoreNextHover = ignoreHover && !this.preference;
    return (this.preference = !this.preference);
  },

  _updateSidebarIsOnRight() {
    this._sidebarIsOnRight = Services.prefs.getBoolPref("zen.tabs.vertical.right-side");
  },

  toggleSidebar() {
    this.sidebar.toggleAttribute("zen-user-show");
  },

  get hideAfterHoverDuration() {
    if (this._hideAfterHoverDuration) {
      return this._hideAfterHoverDuration;
    }
    return Services.prefs.getIntPref("zen.view.compact.toolbar-hide-after-hover.duration");
  },

  get hoverableElements() {
    return [
      {
        element: this.sidebar,
        screenEdge: this.sidebarIsOnRight ? "right" : "left",
        keepHoverDuration: 100,
      },
      {
        element: document.getElementById("zen-appcontent-navbar-wrapper"),
        screenEdge: "top",
      },
      {
        element: gZenVerticalTabsManager.actualWindowButtons,
      },
    ];
  },

  flashSidebar(duration = lazy.COMPACT_MODE_FLASH_DURATION) {
    let tabPanels = document.getElementById("tabbrowser-tabpanels");
    if (!tabPanels.matches("[zen-split-view='true']")) {
      this.flashElement(this.sidebar, duration, this.sidebar.id);
    }
  },

  flashElement(element, duration, id, attrName = "flash-popup") {
    if (this._flashTimeouts[id]) {
      clearTimeout(this._flashTimeouts[id]);
    } else {
      requestAnimationFrame(() => this._setElementExpandAttribute(element, true, attrName));
    }
    this._flashTimeouts[id] = setTimeout(() => {
      window.requestAnimationFrame(() => {
        this._setElementExpandAttribute(element, false, attrName);
        this._flashTimeouts[id] = null;
      });
    }, duration);
  },

  clearFlashTimeout(id) {
    clearTimeout(this._flashTimeouts[id]);
    this._flashTimeouts[id] = null;
  },

  _setElementExpandAttribute(element, value, attr = "zen-has-hover") {
    const kVerifiedAttributes = ["zen-has-hover", "has-popup-menu", "zen-compact-mode-active"];
    const isToolbar = element.id === "zen-appcontent-navbar-wrapper";
    this.log("Setting", attr, "to", value, "on element", element?.id);
    if (value) {
      if (attr === "zen-has-hover" && element !== gZenVerticalTabsManager.actualWindowButtons) {
        element.setAttribute("zen-has-implicit-hover", "true");
        if (!lazy.COMPACT_MODE_SHOW_SIDEBAR_AND_TOOLBAR_ON_HOVER) {
          return;
        }
      }
      element.setAttribute(attr, "true");
      if (
        isToolbar &&
        ((gZenVerticalTabsManager._hasSetSingleToolbar &&
          (element.hasAttribute("should-hide") ||
            document.documentElement.hasAttribute("zen-has-bookmarks"))) ||
          (this.preference &&
            Services.prefs.getBoolPref("zen.view.compact.hide-toolbar") &&
            !gZenVerticalTabsManager._hasSetSingleToolbar))
      ) {
        gBrowser.tabpanels.setAttribute("has-toolbar-hovered", "true");
      }
    } else {
      if (attr === "zen-has-hover") {
        element.removeAttribute("zen-has-implicit-hover");
      }
      element.removeAttribute(attr);
      // Only remove if none of the verified attributes are present
      if (
        isToolbar &&
        !kVerifiedAttributes.some((verifiedAttr) => element.hasAttribute(verifiedAttr))
      ) {
        gBrowser.tabpanels.removeAttribute("has-toolbar-hovered");
      }
    }
  },

  addMouseActions() {
    gURLBar.addEventListener("mouseenter", (event) => {
      this.log("Mouse entered URL bar:", event.target);
      if (event.target.closest("#urlbar[zen-floating-urlbar]")) {
        window.requestAnimationFrame(() => {
          this._setElementExpandAttribute(gZenVerticalTabsManager.actualWindowButtons, false);
        });
        this._hasHoveredUrlbar = true;
      }
    });

    for (let i = 0; i < this.hoverableElements.length; i++) {
      let target = this.hoverableElements[i].element;

      // Add the attribute on startup if the mouse is already over the element
      if (target.matches(":hover")) {
        this._setElementExpandAttribute(target, true);
      }

      const onEnter = (event) => {
        setTimeout(() => {
          if (event.type === "mouseenter" && !event.target.matches(":hover")) {
            return;
          }
          if (event.target.closest("panel")) {
            return;
          }
          // Dont register the hover if the urlbar is floating and we are hovering over it
          this.clearFlashTimeout("has-hover" + target.id);
          window.requestAnimationFrame(() => {
            if (
              document.documentElement.getAttribute("supress-primary-adjustment") === "true" ||
              this._hasHoveredUrlbar ||
              this._ignoreNextHover ||
              target.hasAttribute("zen-has-hover")
            ) {
              return;
            }
            this._setElementExpandAttribute(target, true);
          });
        }, this.HOVER_HACK_DELAY);
      };

      const onLeave = (event) => {
        if (AppConstants.platform == "macosx") {
          const buttonRect = gZenVerticalTabsManager.actualWindowButtons.getBoundingClientRect();
          const MAC_WINDOW_BUTTONS_X_BORDER = buttonRect.width + buttonRect.x;
          const MAC_WINDOW_BUTTONS_Y_BORDER = buttonRect.height + buttonRect.y;
          if (
            event.clientX < MAC_WINDOW_BUTTONS_X_BORDER &&
            event.clientY < MAC_WINDOW_BUTTONS_Y_BORDER &&
            event.clientX > buttonRect.x &&
            event.clientY > buttonRect.y
          ) {
            return;
          }
        }

        // See bug https://bugzilla.mozilla.org/show_bug.cgi?id=1979340 and issue https://github.com/zen-browser/desktop/issues/7746.
        // If we want the toolbars to be draggable, we need to make sure to check the hover state after a short delay.
        // This is because the mouse is left to be handled natively so firefox thinks the mouse left the window for a split second.
        setTimeout(() => {
          // Let's double check if the mouse is still hovering over the element, see the bug above.
          if (event.target.matches(":hover")) {
            return;
          }

          if (
            event.explicitOriginalTarget?.closest?.("#urlbar[zen-floating-urlbar]") ||
            (document.documentElement.getAttribute("supress-primary-adjustment") === "true" &&
              gZenVerticalTabsManager._hasSetSingleToolbar) ||
            this._hasHoveredUrlbar ||
            this._ignoreNextHover ||
            (event.type === "dragleave" &&
              event.explicitOriginalTarget !== target &&
              target.contains?.(event.explicitOriginalTarget))
          ) {
            return;
          }

          if (this._isTabBeingDragged) {
            return;
          }

          if (this.hoverableElements[i].keepHoverDuration) {
            this.flashElement(
              target,
              this.hoverableElements[i].keepHoverDuration,
              "has-hover" + target.id,
              "zen-has-hover"
            );
          } else {
            this._removeHoverFrames[target.id] = window.requestAnimationFrame(() =>
              this._setElementExpandAttribute(target, false)
            );
          }
        }, this.HOVER_HACK_DELAY);
      };

      target.addEventListener("mouseover", onEnter);
      target.addEventListener("dragover", onEnter);

      target.addEventListener("mouseleave", onLeave);
      target.addEventListener("dragleave", onLeave);
    }

    document.documentElement.addEventListener("mouseleave", (event) => {
      setTimeout(() => {
        const screenEdgeCrossed = this._getCrossedEdge(event.pageX, event.pageY);
        if (!screenEdgeCrossed) {
          return;
        }
        for (let entry of this.hoverableElements) {
          if (screenEdgeCrossed !== entry.screenEdge) {
            continue;
          }
          const target = entry.element;
          const boundAxis = entry.screenEdge === "right" || entry.screenEdge === "left" ? "y" : "x";
          if (!this._positionInBounds(boundAxis, target, event.pageX, event.pageY, 7)) {
            continue;
          }
          window.cancelAnimationFrame(this._removeHoverFrames[target.id]);

          this.flashElement(
            target,
            this.hideAfterHoverDuration,
            "has-hover" + target.id,
            "zen-has-hover"
          );
          document.addEventListener(
            "mousemove",
            () => {
              if (target.matches(":hover")) {
                return;
              }
              this._setElementExpandAttribute(target, false);
              this.clearFlashTimeout("has-hover" + target.id);
            },
            { once: true }
          );
        }
      }, this.HOVER_HACK_DELAY);
    });

    gURLBar.addEventListener("mouseleave", () => {
      setTimeout(() => {
        setTimeout(() => {
          requestAnimationFrame(() => {
            delete this._hasHoveredUrlbar;
          });
        }, 10);
      }, 0);
    });
  },

  _getCrossedEdge(posX, posY, element = document.documentElement, maxDistance = 10) {
    const targetBox = element.getBoundingClientRect();
    posX = Math.max(targetBox.left, Math.min(posX, targetBox.right));
    posY = Math.max(targetBox.top, Math.min(posY, targetBox.bottom));
    return ["top", "bottom", "left", "right"].find((edge, i) => {
      const distance = Math.abs((i < 2 ? posY : posX) - targetBox[edge]);
      return distance <= maxDistance;
    });
  },

  _positionInBounds(axis = "x", element, x, y, error = 0) {
    const bBox = element.getBoundingClientRect();
    if (axis === "y") {
      return bBox.top - error < y && y < bBox.bottom + error;
    }
    return bBox.left - error < x && x < bBox.right + error;
  },

  _clearAllHoverStates() {
    // Clear hover attributes from all hoverable elements
    for (let entry of this.hoverableElements) {
      const target = entry.element;
      if (target && !target.matches(":hover") && target.hasAttribute("zen-has-hover")) {
        this._setElementExpandAttribute(target, false);
        this.clearFlashTimeout("has-hover" + target.id);
      }
    }
  },

  isSidebarPotentiallyOpen() {
    if (this._ignoreNextHover) {
      this._setElementExpandAttribute(this.sidebar, false);
    }
    return (
      this.sidebar.hasAttribute("zen-user-show") ||
      this.sidebar.hasAttribute("zen-has-hover") ||
      this.sidebar.hasAttribute("zen-has-empty-tab")
    );
  },

  async _onTabOpen(tab, inBackground) {
    if (
      inBackground &&
      this.preference &&
      !this.isSidebarPotentiallyOpen() &&
      this._canShowBackgroundTabToast &&
      !gZenGlanceManager._animating &&
      !this._nextTimeWillBeActive
    ) {
      gZenUIManager.showToast("zen-background-tab-opened-toast", {
        button: {
          id: "zen-open-background-tab-button",
          command: () => {
            const targetWindow = window.ownerGlobal.parent || window;
            targetWindow.gBrowser.selectedTab = tab;
          },
        },
      });
    }
    delete this._nextTimeWillBeActive;
  },
};

document.addEventListener(
  "MozBeforeInitialXULLayout",
  () => {
    gZenCompactModeManager.preInit();
  },
  { once: true }
);



================================================
FILE: src/zen/downloads/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenDownloadAnimation.mjs                 (../../zen/downloads/ZenDownloadAnimation.mjs)
        content/browser/zen-styles/zen-download-arc-animation.css               (../../zen/downloads/zen-download-arc-animation.css)
        content/browser/zen-styles/zen-download-box-animation.css               (../../zen/downloads/zen-download-box-animation.css)



================================================
FILE: src/zen/downloads/zen-download-arc-animation.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
:host {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.zen-download-arc-animation {
  position: absolute;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2px;
  background-color: var(--zen-colors-hover-bg);
  box-shadow: var(--zen-big-shadow);
}

.zen-download-arc-animation-inner-circle {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background-color: var(--toolbar-color);
}

.zen-download-arc-animation-icon {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--zen-primary-color);
  mask: url("chrome://browser/content/zen-images/downloads/download.svg") no-repeat center;
  mask-size: 70%;
}



================================================
FILE: src/zen/downloads/zen-download-box-animation.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
.zen-download-box-animation {
  position: absolute;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--toolbar-color);
  border-radius: var(--zen-border-radius);
  box-shadow: var(--zen-big-shadow);
  pointer-events: none;
  z-index: 1100;
}

.zen-download-box-animation-icon {
  width: 50%;
  height: 50%;
  background-color: var(--zen-primary-color);
  mask: url("chrome://browser/content/zen-images/downloads/archive.svg") no-repeat center;
  mask-size: contain;
  display: block;
}



================================================
FILE: src/zen/downloads/ZenDownloadAnimation.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

import {
  nsZenDOMOperatedFeature,
  nsZenMultiWindowFeature,
} from "chrome://browser/content/zen-components/ZenCommonUtils.mjs";

const CONFIG = Object.freeze({
  ANIMATION: {
    ARC_STEPS: 60,
    MAX_ARC_HEIGHT: 1200,
    ARC_HEIGHT_RATIO: 0.8, // Arc height = distance * ratio (capped at MAX_ARC_HEIGHT)
    SCALE_END: 0.45, // Final scale at destination
  },
});

class nsZenDownloadAnimation extends nsZenDOMOperatedFeature {
  async init() {
    await this.#setupDownloadListeners();
  }

  async #setupDownloadListeners() {
    try {
      const Downloads = window.Downloads;
      const list = await Downloads.getList(Downloads.ALL);
      list.addView({
        onDownloadAdded: this.#handleNewDownload.bind(this),
      });
    } catch (error) {
      console.error(
        `[${nsZenDownloadAnimation.name}] Failed to set up download animation listeners: ${error}`
      );
    }
  }

  #handleNewDownload() {
    if (
      !Services.prefs.getBoolPref("zen.downloads.download-animation") ||
      !nsZenMultiWindowFeature.isActiveWindow
    ) {
      return;
    }

    if (!gZenUIManager._lastClickPosition) {
      console.warn(
        `[${nsZenDownloadAnimation.name}] No recent click position available for animation`
      );
      return;
    }

    this.#animateDownload(gZenUIManager._lastClickPosition);
  }

  #animateDownload(startPosition) {
    let animationElement = document.querySelector("zen-download-animation");

    if (!animationElement) {
      animationElement = document.createElement("zen-download-animation");
      document.body.appendChild(animationElement);
    }

    animationElement.initializeAnimation(startPosition);
  }
}

class nsZenDownloadAnimationElement extends HTMLElement {
  #boxAnimationElement = null;
  #boxAnimationTimeoutId = null;
  #isBoxAnimationRunning = false;

  constructor() {
    super();
    this.attachShadow({ mode: "open" });
    this.#loadArcStyles();
  }

  #loadArcStyles() {
    try {
      const link = document.createElement("link");
      link.setAttribute("rel", "stylesheet");
      link.setAttribute(
        "href",
        "chrome://browser/content/zen-styles/zen-download-arc-animation.css"
      );
      this.shadowRoot.appendChild(link);
    } catch (error) {
      console.error(`[${nsZenDownloadAnimationElement.name}] Error loading arc styles: ${error}`);
    }
  }

  async initializeAnimation(startPosition) {
    if (!startPosition) {
      console.warn(
        `[${nsZenDownloadAnimationElement.name}] No start position provided, skipping animation`
      );
      return;
    }

    // Determine animation target position
    const { endPosition, isDownloadButtonVisible } = this.#determineEndPosition();
    const areTabsPositionedRight = this.#areTabsOnRightSide();

    // Create and prepare the arc animation element
    const arcAnimationElement = this.#createArcAnimationElement(startPosition);

    // Calculate optimal arc parameters based on available space
    const distance = this.#calculateDistance(startPosition, endPosition);
    const { arcHeight, shouldArcDownward } = this.#calculateOptimalArc(
      startPosition,
      endPosition,
      distance
    );
    const distanceX = endPosition.clientX - startPosition.clientX;
    const distanceY = endPosition.clientY - startPosition.clientY;
    const arcSequence = this.#createArcAnimationSequence(
      distanceX,
      distanceY,
      arcHeight,
      shouldArcDownward
    );

    // Start the download animation
    await this.#startDownloadAnimation(
      areTabsPositionedRight,
      isDownloadButtonVisible,
      arcAnimationElement,
      arcSequence
    );
  }

  #areTabsOnRightSide() {
    const position = Services.prefs.getIntPref("zen.downloads.icon-popup-position", 0);
    if (position === 1) {
      return false;
    }
    if (position === 2) {
      return true;
    }
    return Services.prefs.getBoolPref("zen.tabs.vertical.right-side");
  }

  #determineEndPosition() {
    const downloadsButton = document.getElementById("downloads-button");
    const isDownloadButtonVisible = downloadsButton && this.#isElementVisible(downloadsButton);

    let endPosition = { clientX: 0, clientY: 0 };

    if (isDownloadButtonVisible) {
      // Use download button as target
      const buttonRect = downloadsButton.getBoundingClientRect();
      endPosition = {
        clientX: buttonRect.left + buttonRect.width / 2,
        clientY: buttonRect.top + buttonRect.height / 2,
      };
    } else {
      // Use alternative position at bottom of wrapper
      const areTabsPositionedRight = this.#areTabsOnRightSide();
      const wrapper = document.getElementById("zen-main-app-wrapper");
      const wrapperRect = wrapper.getBoundingClientRect();

      endPosition = {
        clientX: areTabsPositionedRight ? wrapperRect.right - 42 : wrapperRect.left + 42,
        clientY: wrapperRect.bottom - 40,
      };
    }

    return { endPosition, isDownloadButtonVisible };
  }

  #createArcAnimationElement(startPosition) {
    const arcAnimationHTML = `
            <box class="zen-download-arc-animation">
              <box class="zen-download-arc-animation-inner-circle">
                <html:div class="zen-download-arc-animation-icon"></html:div>
              </box>
            </box>
          `;

    const fragment = window.MozXULElement.parseXULToFragment(arcAnimationHTML);
    const animationElement = fragment.querySelector(".zen-download-arc-animation");

    Object.assign(animationElement.style, {
      left: `${startPosition.clientX}px`,
      top: `${startPosition.clientY}px`,
      transform: "translate(-50%, -50%)",
    });

    this.shadowRoot.appendChild(animationElement);

    return animationElement;
  }

  #calculateOptimalArc(startPosition, endPosition, distance) {
    // Calculate available space for the arc
    const availableTopSpace = Math.min(startPosition.clientY, endPosition.clientY);
    const viewportHeight = window.innerHeight;
    const availableBottomSpace =
      viewportHeight - Math.max(startPosition.clientY, endPosition.clientY);

    // Determine if we should arc downward or upward based on available space
    const shouldArcDownward = availableBottomSpace > availableTopSpace;

    // Use the space in the direction we're arcing
    const availableSpace = shouldArcDownward ? availableBottomSpace : availableTopSpace;

    // Limit arc height to a percentage of the available space
    const arcHeight = Math.min(
      distance * CONFIG.ANIMATION.ARC_HEIGHT_RATIO,
      CONFIG.ANIMATION.MAX_ARC_HEIGHT,
      availableSpace * 0.8
    );

    return { arcHeight, shouldArcDownward };
  }

  #calculateDistance(start, end) {
    const distanceX = end.clientX - start.clientX;
    const distanceY = end.clientY - start.clientY;
    return Math.sqrt(distanceX * distanceX + distanceY * distanceY);
  }

  async #startDownloadAnimation(
    areTabsPositionedRight,
    isDownloadButtonVisible,
    arcAnimationElement,
    sequence
  ) {
    try {
      if (!isDownloadButtonVisible) {
        this.#startBoxAnimation(areTabsPositionedRight);
      }

      await gZenUIManager.motion.animate(arcAnimationElement, sequence, {
        duration: Services.prefs.getIntPref("zen.downloads.download-animation-duration") / 1000,
        easing: "cubic-bezier(0.37, 0, 0.63, 1)",
        fill: "forwards",
      });

      this.#cleanArcAnimation(arcAnimationElement);
    } catch (error) {
      console.error("[nsZenDownloadAnimationElement] Error in animation sequence:", error);
      this.#cleanArcAnimation(arcAnimationElement);
    }
  }

  #createArcAnimationSequence(distanceX, distanceY, arcHeight, shouldArcDownward) {
    const sequence = { offset: [], opacity: [], transform: [] };

    const arcDirection = shouldArcDownward ? 1 : -1;
    const steps = CONFIG.ANIMATION.ARC_STEPS;
    const endScale = CONFIG.ANIMATION.SCALE_END;

    function easeInOutQuad(t) {
      return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
    }

    let previousRotation = 0;
    for (let i = 0; i <= steps; i++) {
      const progress = i / steps;
      const eased = easeInOutQuad(progress);

      // Calculate opacity changes
      let opacity;
      if (progress < 0.3) {
        // Fade in during first 30%
        opacity = 0.3 + (progress / 0.3) * 0.6;
      } else if (progress < 0.98) {
        // Slight increase to full opacity
        opacity = 0.9 + ((progress - 0.3) / 0.6) * 0.1;
      } else {
        // Decrease opacity in the final steps
        opacity = 1 - ((progress - 0.9) / 0.1) * 1;
      }

      // Calculate scaling changes
      let scale;
      if (progress < 0.5) {
        scale = 0.5 + (progress / 0.5) * 1.3;
      } else {
        scale = 1.8 - ((progress - 0.5) / 0.5) * (1.8 - endScale);
      }

      // Position on arc
      const x = distanceX * eased;
      const y = distanceY * eased + arcDirection * arcHeight * (1 - (2 * eased - 1) ** 2);

      // Calculate rotation to point in the direction of movement
      let rotation = previousRotation;
      if (i > 0) {
        const prevEased = easeInOutQuad((i - 1) / steps);

        const prevX = distanceX * prevEased;
        const prevAdjustedProgress = prevEased * 2 - 1;
        const prevVerticalOffset = arcDirection * arcHeight * (1 - prevAdjustedProgress * 2);
        const prevY = distanceY * prevEased + prevVerticalOffset;

        const targetRotation = Math.atan2(y - prevY, x - prevX) * (180 / Math.PI);

        rotation += (targetRotation - previousRotation) * 0.01;
        previousRotation = rotation;
      }

      sequence.offset.push(progress);
      sequence.opacity.push(opacity);
      sequence.transform.push(
        `translate(calc(${x}px - 50%), calc(${y}px - 50%)) rotate(${rotation}deg) scale(${scale})`
      );
    }

    return sequence;
  }

  #cleanArcAnimation(element) {
    element.remove();
  }

  async #startBoxAnimation(areTabsPositionedRight) {
    // If animation is already in progress, don't start a new one
    if (this.#isBoxAnimationRunning) {
      console.warn(
        `[${nsZenDownloadAnimationElement.name}] Box animation already running, skipping new request.`
      );
      return;
    }

    if (this.#boxAnimationElement) {
      clearTimeout(this.#boxAnimationTimeoutId);
      this.#boxAnimationTimeoutId = setTimeout(
        () => this.#finishBoxAnimation(areTabsPositionedRight),
        this.#getBoxAnimationDurationMs()
      );
      return;
    }

    const wrapper = document.getElementById("zen-main-app-wrapper");
    if (!wrapper) {
      console.warn(
        `[${nsZenDownloadAnimationElement.name}] Cannot start box animation, Wrapper element not found`
      );
      return;
    }

    this.#isBoxAnimationRunning = true;

    try {
      const boxAnimationHTML = `
            <box class="zen-download-box-animation">
              <html:div class="zen-download-box-animation-icon"></html:div>
            </box>
          `;

      const sideProp = areTabsPositionedRight ? "right" : "left";

      const fragment = window.MozXULElement.parseXULToFragment(boxAnimationHTML);
      this.#boxAnimationElement = fragment.querySelector(".zen-download-box-animation");

      Object.assign(this.#boxAnimationElement.style, {
        bottom: "24px",
        transform: "scale(0.8)",
        [sideProp]: "-50px",
      });

      wrapper.appendChild(this.#boxAnimationElement);

      await gZenUIManager.motion.animate(
        this.#boxAnimationElement,
        {
          [sideProp]: "34px",
          opacity: 1,
          transform: "scale(1.1)",
        },
        {
          duration: 0.35,
          easing: "ease-out",
        }
      ).finished;

      await gZenUIManager.motion.animate(
        this.#boxAnimationElement,
        {
          [sideProp]: "24px",
          transform: "scale(1)",
        },
        {
          duration: 0.2,
          easing: "ease-in-out",
        }
      ).finished;

      clearTimeout(this.#boxAnimationTimeoutId);
      this.#boxAnimationTimeoutId = setTimeout(
        () => this.#finishBoxAnimation(areTabsPositionedRight),
        this.#getBoxAnimationDurationMs()
      );
    } catch (error) {
      console.error(
        `[${nsZenDownloadAnimationElement.name}] Error during box entry animation: ${error}`
      );
      this.#cleanBoxAnimation();
    } finally {
      this.#isBoxAnimationRunning = false;
    }
  }

  #getBoxAnimationDurationMs() {
    return Services.prefs.getIntPref("zen.downloads.download-animation-duration") + 200;
  }

  async #finishBoxAnimation(areTabsPositionedRight) {
    clearTimeout(this.#boxAnimationTimeoutId);
    this.#boxAnimationTimeoutId = null;

    if (!this.#boxAnimationElement || this.#isBoxAnimationRunning) {
      if (!this.#boxAnimationElement) {
        this.#cleanBoxAnimationState();
      }
      return;
    }

    this.#isBoxAnimationRunning = true;

    try {
      const sideProp = areTabsPositionedRight ? "right" : "left";

      await gZenUIManager.motion.animate(
        this.#boxAnimationElement,
        {
          transform: "scale(0.9)",
        },
        {
          duration: 0.15,
          easing: "ease-in",
        }
      ).finished;

      await gZenUIManager.motion.animate(
        this.#boxAnimationElement,
        {
          [sideProp]: "-50px",
          opacity: 0,
          transform: "scale(0.8)",
        },
        {
          duration: 0.3,
          easing: "cubic-bezier(0.5, 0, 0.75, 0)",
        }
      ).finished;
    } catch (error) {
      console.warn(
        `[${nsZenDownloadAnimationElement.name}] Error during box exit animation: ${error}`
      );
    } finally {
      this.#cleanBoxAnimation();
    }
  }

  #cleanBoxAnimationState() {
    this.#boxAnimationElement = null;
    if (this.#boxAnimationTimeoutId) {
      clearTimeout(this.#boxAnimationTimeoutId);
      this.#boxAnimationTimeoutId = null;
    }
    this.#isBoxAnimationRunning = false;
  }

  #cleanBoxAnimation() {
    if (this.#boxAnimationElement && this.#boxAnimationElement.isConnected) {
      try {
        this.#boxAnimationElement.remove();
      } catch (error) {
        console.error(
          `[${nsZenDownloadAnimationElement.name}] Error removing box animation element: ${error}`,
          error
        );
      }
    }
    this.#cleanBoxAnimationState();
  }

  #isElementVisible(element) {
    if (!element) {
      return false;
    }

    const rect = element.getBoundingClientRect();

    // Element must be in the viewport
    // Is 1 and no 0 because if you pin the download button in the overflow menu
    // the download button is in the viewport but in the position 0,0 so this
    // avoid this case
    if (
      rect.bottom < 1 ||
      rect.right < 1 ||
      rect.top > window.innerHeight ||
      rect.left > window.innerWidth
    ) {
      return false;
    }

    return true;
  }
}

customElements.define("zen-download-animation", nsZenDownloadAnimationElement);

new nsZenDownloadAnimation();



================================================
FILE: src/zen/drag-and-drop/components.conf
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

Classes = [
    {
        'cid': '{f8714110-1fb1-4129-abad-887a64e4085e}',
        'interfaces': ['nsIZenDragAndDrop'],
        'contract_ids': ['@mozilla.org/zen/drag-and-drop;1'],
        'type': 'zen::nsZenDragAndDrop',
        'headers': ['mozilla/nsZenDragAndDrop.h'],
        'processes': ProcessSelector.MAIN_PROCESS_ONLY,
    },
]



================================================
FILE: src/zen/drag-and-drop/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenDragAndDrop.js                        (../../zen/drag-and-drop/ZenDragAndDrop.js)



================================================
FILE: src/zen/drag-and-drop/moz.build
================================================
#
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

XPIDL_SOURCES += [
    "nsIZenDragAndDrop.idl",
]

EXPORTS.mozilla += [
    "nsZenDragAndDrop.h",
]

SOURCES += [
    "nsZenDragAndDrop.cpp",
]

XPCOM_MANIFESTS += [
    "components.conf",
]

include("/ipc/chromium/chromium-config.mozbuild")

LOCAL_INCLUDES += [
    "/dom/base",
    "/layout/base",
    "/widget",
]

FINAL_LIBRARY = "xul"
XPIDL_MODULE = "zen_dnd"



================================================
FILE: src/zen/drag-and-drop/nsIZenDragAndDrop.idl
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "nsISupports.idl"

/**
 * @brief Interface for Zen's drag and drop functionality.
 */
[scriptable, uuid(f8714110-1fb1-4129-abad-887a64e4085e)]
interface nsIZenDragAndDrop : nsISupports {
  /**
   * @brief Indicate that a drag operation has started. Note
   * that this should only be called for zen's drag and drop
   * operations for the tabs.
   * @param opacity The opacity of the drag image.
   */
  void onDragStart(in float opacity);

  /**
   * @brief Indicate that a drag operation has ended.
   */
  void onDragEnd();
};




================================================
FILE: src/zen/drag-and-drop/nsZenDragAndDrop.cpp
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "nsZenDragAndDrop.h"
#include "nsBaseDragService.h"

namespace zen {
namespace {

static constexpr auto kZenDefaultDragImageOpacity =
#if defined(MOZ_WIDGET_GTK)
// For GTK, the default is 0.5 (DRAG_IMAGE_ALPHA_LEVEL) to match 
// the native behavior. Make sure its synced with the following variable:
// https://searchfox.org/firefox-main/rev/14c08f0368ead8bfdddec62f43e0bb5c8fd61289/widget/gtk/nsDragService.cpp#75
    0.5f;
#else
// For other platforms, the default is whatever the value of DRAG_TRANSLUCENCY
// is, defined in nsBaseDragService.h
    DRAG_TRANSLUCENCY;
#endif

} // namespace: <empty>

// Use the macro to inject all of the definitions for nsISupports.
NS_IMPL_ISUPPORTS(nsZenDragAndDrop, nsIZenDragAndDrop)

nsZenDragAndDrop::nsZenDragAndDrop() {
  (void)this->OnDragEnd();
}

auto nsZenDragAndDrop::GetZenDragAndDropInstance() -> nsCOMPtr<nsZenDragAndDrop> {
  return do_GetService(ZEN_BOOSTS_BACKEND_CONTRACTID);
}

NS_IMETHODIMP
nsZenDragAndDrop::OnDragStart(float opacity) {
  mDragImageOpacity = opacity;
  return NS_OK;
}

NS_IMETHODIMP
nsZenDragAndDrop::OnDragEnd() {
  mDragImageOpacity = kZenDefaultDragImageOpacity;
  return NS_OK;
}

} // namespace: zen



================================================
FILE: src/zen/drag-and-drop/nsZenDragAndDrop.h
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#ifndef mozilla_ZenDragAndDrop_h__
#define mozilla_ZenDragAndDrop_h__

#include "nsIZenDragAndDrop.h"
#include "nsCOMPtr.h"

#define ZEN_BOOSTS_BACKEND_CONTRACTID "@mozilla.org/zen/drag-and-drop;1"

namespace zen {

/**
 * @brief Implementation of the nsIZenDragAndDrop interface.
 * When we want to do a drag and drop operation, web standards
 * don't really allow much customization of the drag image.
 * This class allows Zen to have more control over the drag
 * and drop operations for the tabs.
 */
class nsZenDragAndDrop final : public nsIZenDragAndDrop {
  NS_DECL_ISUPPORTS
  NS_DECL_NSIZENDRAGANDDROP

 public:
  explicit nsZenDragAndDrop();
  auto GetDragImageOpacity() const { return mDragImageOpacity; }

  /**
   * @brief Get the singleton instance of nsZenDragAndDrop. There may be occasions
   * where it won't be available (e.g. on the content process), so this may return
   * nullptr.
   * @return nsZenDragAndDrop* The singleton instance, or nullptr if not available
   */
  static auto GetZenDragAndDropInstance() -> nsCOMPtr<nsZenDragAndDrop>;

 private:
  ~nsZenDragAndDrop() = default;
  float mDragImageOpacity{};
};

} // namespace zen

#endif



================================================
FILE: src/zen/folders/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenFolder.mjs                            (../../zen/folders/ZenFolder.mjs)
        content/browser/zen-components/ZenFolders.mjs                           (../../zen/folders/ZenFolders.mjs)
        content/browser/zen-styles/zen-folders.css                              (../../zen/folders/zen-folders.css)


================================================
FILE: src/zen/folders/zen-folders.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

.tab-group-line {
  display: none !important;
}

zen-folder {
  display: flex;
  flex-direction: column;
  visibility: visible;

  --zen-folder-behind-bgcolor: light-dark(color-mix(in srgb, var(--zen-primary-color) 60%, gray), color-mix(in srgb, var(--zen-primary-color) 60%, #c1c1c1));
  --zen-folder-front-bgcolor: light-dark(color-mix(in srgb, var(--zen-primary-color), white 70%), color-mix(in srgb, var(--zen-primary-color), black 40%));
  --zen-folder-stroke: light-dark(color-mix(in srgb, var(--zen-primary-color) 50%, black), color-mix(in srgb, var(--zen-colors-primary) 15%, #ebebeb));

  -moz-window-dragging: no-drag;
  transition: var(--zen-tabbox-element-indent-transition);

  :root[zen-sidebar-expanded="true"] & {
    margin-inline-start: var(--zen-folder-indent) !important;
  }

  &[selected] > .tab-group-label-container::before {
    background-color: var(--zen-toolbar-element-bg-hover);
  }

  &[collapsed][has-active] {
    @media (prefers-reduced-motion: no-preference) {
      #tabbrowser-tabs[movingtab] &:not(:active) {
        transition: var(--tab-dragover-transition);
      }
    }
  }

  :root:not([zen-sidebar-expanded]) & {
    width: var(--tab-min-width) !important;
    margin: 0 !important;

    & .tab-group-label {
      visibility: hidden !important;
    }
  }

  & > .tab-group-container {
    :root[zen-sidebar-expanded] & > * {
      --zen-folder-indent: 14px; /* Can get overriden by the JS */
      margin-inline-start: var(--zen-folder-indent) !important;
    }

    & > zen-folder {
      transition: var(--zen-tabbox-element-indent-transition);
    }

    & > tab::before {
      background: none !important;
    }
  }

  margin: 0 var(--tab-block-margin);
  margin-inline-end: 0;

  & > .tab-group-label-container {
    flex: 0 0 auto !important;
    top: 0 !important;
    --tab-group-color-pale: transparent !important;
    --tab-group-color: transparent !important;
    padding-block-end: 0 !important;
    margin: 0 !important;
    height: calc(var(--tab-block-margin) * 2 + var(--tab-min-height));
    padding-inline: var(--tab-group-label-padding);

    :root[zen-sidebar-expanded="true"] & {
      padding-inline-end: calc(var(--tab-group-label-padding) * 2);
    }

    align-items: center;
    font-weight: 600;

    :root:not([zen-sidebar-expanded]) {
      width: var(--tab-min-width) !important;
    }

    .tab-group-folder-icon {
      width: 28px;
      height: 28px;
      align-content: center;
      pointer-events: none;
      position: absolute;
      pointer-events: none;

      :root[zen-sidebar-expanded] & {
        left: 5px;
      }

      & svg {
        filter: contrast(125%);
        transform: translate(-1px, -1px);

        :root:not([zen-sidebar-expanded]) & {
          transition: transform 0.1s ease;

          &[state="open"] {
            transform: translate(-2px);
          }
        }

        & image {
          fill-opacity: 0.9;
          -moz-context-properties: fill, fill-opacity;
          fill: var(--zen-folder-stroke);
          transform: translate(9px, 11px);
        }

        & g,
        & rect,
        & path {
          transition:
            transform 0.3s cubic-bezier(0.42, 0, 0, 1),
            opacity 0.3s cubic-bezier(0.42, 0, 0, 1);
        }

        &[state="open"] .back {
          transform: skewX(16deg) translate(-4px, 2px) scale(0.85);
        }

        &[state="open"] :is(.front, .dots, .icon) {
          transform: skewX(-16deg) translate(8px, 2px) scale(0.85);
        }

        & .icon {
          opacity: 1;
        }

        & .dots {
          opacity: 0;
        }

        &[active="true"] .icon {
          opacity: 0;
        }

        &[active="true"] .dots {
          opacity: 1;
        }
      }
    }

    &::before {
      content: "";
      position: absolute;
      top: 2px;
      left: 2px;
      width: calc(100% - 4px);
      height: calc(100% - 4px);
      background-color: transparent;
      border-radius: var(--border-radius-medium);
      z-index: -1;
    }

    &:hover::before {
      background-color: var(--tab-hover-background-color) !important;
    }

    &:after {
      display: none;
    }

    & > label,
    & > #tab-label-input {
      padding: 0 0 0 32px !important;
      width: 100%;
    }

    & > label {
      width: 100% !important;
      background: transparent !important;
      border: none !important;
      color: var(--sidebar-text-color) !important;
      margin: 0 !important;
      font-weight: 600;
      align-self: center !important;
      text-align: start;
      align-content: center;
      height: 100% !important;

      :root:not([zen-sidebar-expanded]) & {
        padding: 0 !important;
        max-width: 100% !important;
      }
    }
  }

  :root[zen-sidebar-expanded] &[has-active] > .tab-group-label-container {
    & .tab-reset-button {
      display: flex;
      opacity: 0;
    }

    &:hover .tab-reset-button {
      opacity: 1;
    }
  }
}

zen-workspace[collapsedpinnedtabs] .zen-workspace-pinned-tabs-section,
zen-folder[collapsed]:not([has-active]) > .tab-group-container {
  overflow-y: clip;
}

/* Tabs popup */
#zen-folder-tabs-popup {
  --arrowpanel-padding: 0;
  width: 250px;

  & #zen-folder-tabs-search-no-results {
    height: 100%;
    align-items: center;
    text-align: center;
    padding: 2em 0;
    justify-content: center;
    max-width: calc(100% - 10px);
    margin: 0 auto;
  }
}

#zen-folder-tabs-popup * {
  max-width: -moz-available;
}

#zen-folder-tabs-popup .tabs-list-header {
  display: flex;
  flex-direction: row;
  padding: 6px;
  border-bottom: 1px solid color-mix(in srgb, currentColor, transparent 90%);
}

#zen-folder-tabs-popup #zen-folder-tabs-list-search {
  background-color: transparent;
  border: none !important;
  outline: none !important;
  flex: 1;
  text-overflow: ellipsis;
  white-space: nowrap;
}

#zen-folder-tabs-list {
  padding: 0 4px;
  max-height: 263px;
  overflow-y: auto;
}

#zen-folder-tabs-popup .zen-folder-tabs-list-search-icon {
  width: 16px;
  height: 16px;
  margin: 10px 2px 10px 10px;
  -moz-context-properties: fill;
  fill: currentColor;
  opacity: 0.7;
}

.folders-tabs-list-item-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  margin-inline-end: 10px;
  margin-inline-start: 4px;
  fill: currentColor;
  -moz-context-properties: fill;
}

.folders-tabs-list-item-labels {
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1;
  min-width: 0;
  color: var(--toolbox-textcolor);
}

.folders-tabs-list-item-label,
.tab-list-item-secondary-label {
  position: relative;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 250px;
  color: light-dark(black, white);
}

.tab-list-item-secondary-label {
  opacity: 0.6;
  font-size: 0.7em;
  font-weight: 500;
}

#zen-folder-tabs-popup .tabs-list-scrollbox {
  overflow: scroll;
}

.folders-tabs-list-item {
  position: relative;
  border-radius: var(--zen-border-radius);
  cursor: default;
}

.folders-tabs-list-item-content {
  position: relative;
  height: 40px;
  display: flex;
  align-items: center;
  direction: ltr;
  padding: 0 var(--tab-inline-padding);
  border-radius: 6px;
  margin: 4px 0;

  .folders-tabs-list-item[selected] & {
    background-color: color-mix(in srgb, currentColor, transparent 90%);
  }

  &:last-child {
    border-bottom-left-radius: max(calc(var(--panel-border-radius) - 2px), 4px);
    border-bottom-right-radius: max(calc(var(--panel-border-radius) - 2px), 4px);
  }

  &:first-child {
    border-top-left-radius: max(calc(var(--panel-border-radius) - 2px), 4px);
    border-top-right-radius: max(calc(var(--panel-border-radius) - 2px), 4px);
  }
}

.tab-group-overflow-count-container {
  display: none !important;
}

:root:not([zen-sidebar-expanded]) {
  & #context_zenFolderRename {
    display: none !important;
  }
}



================================================
FILE: src/zen/folders/ZenFolder.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

export class nsZenFolder extends MozTabbrowserTabGroup {
  #initialized = false;

  static markup = `
      <hbox class="tab-group-label-container zen-drop-target" pack="center">
        <html:div class="tab-group-folder-icon"/>
        <label class="tab-group-label" role="button"/>
        <image class="tab-reset-button reset-icon" role="button" keyNav="false" data-l10n-id="zen-folders-unload-all-tooltip"/>
      </hbox>
      <html:div class="tab-group-container">
        <html:div class="zen-tab-group-start" />
      </html:div>
      <vbox class="tab-group-overflow-count-container" pack="center">
        <label class="tab-group-overflow-count" role="button" />
      </vbox>
    `;

  static rawIcon = new DOMParser().parseFromString(
    `
      <svg width="28" height="28" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient gradientUnits="userSpaceOnUse" x1="14" y1="5.625" x2="14" y2="22.375" id="gradient-0">
            <stop offset="0" style="stop-color: rgb(255, 255, 255)"/>
            <stop offset="1" style="stop-color: rgb(0% 0% 0%)"/>
          </linearGradient>
          <linearGradient gradientUnits="userSpaceOnUse" x1="14" y1="9.625" x2="14" y2="22.375" id="gradient-1">
            <stop offset="0" style="stop-color: rgb(255, 255, 255)"/>
            <stop offset="1" style="stop-color: rgb(0% 0% 0%)"/>
          </linearGradient>
        </defs>
        <!--Back Folder (path)-->
        <path class="back" d="M8 5.625H11.9473C12.4866 5.625 13.0105 5.80861 13.4316 6.14551L14.2881 6.83105C14.9308 7.34508 15.7298 7.625 16.5527 7.625H20C21.3117 7.625 22.375 8.68832 22.375 10V20C22.375 21.3117 21.3117 22.375 20 22.375H8C6.68832 22.375 5.625 21.3117 5.625 20V8C5.625 6.68832 6.68832 5.625 8 5.625Z" style="fill: var(--zen-folder-behind-bgcolor);">
        </path>
        <path class="back" d="M8 5.625H11.9473C12.4866 5.625 13.0105 5.80861 13.4316 6.14551L14.2881 6.83105C14.9308 7.34508 15.7298 7.625 16.5527 7.625H20C21.3117 7.625 22.375 8.68832 22.375 10V20C22.375 21.3117 21.3117 22.375 20 22.375H8C6.68832 22.375 5.625 21.3117 5.625 20V8C5.625 6.68832 6.68832 5.625 8 5.625Z" style="stroke-width: 1.5px; stroke: var(--zen-folder-stroke); fill: url(#gradient-0); fill-opacity: 0.1;">
        </path>
        <!--Front Folder (rect)-->
        <rect class="front" x="5.625" y="9.625" width="16.75" height="12.75" rx="2.375" style="fill: var(--zen-folder-front-bgcolor);">
        </rect>
        <rect class="front" x="5.625" y="9.625" width="16.75" height="12.75" rx="2.375" style="stroke-width: 1.5px; stroke: var(--zen-folder-stroke); fill: url(#gradient-1); fill-opacity: 0.1;">
        </rect>
        <!--Icon (g)-->
        <g class="icon" style="fill: var(--zen-folder-stroke);">
          <image href="" height="10" width="10"/>
        </g>
        <!--End Icon (g)-->
        <g class="dots" style="fill: var(--zen-folder-stroke);">
          <ellipse cx="10" cy="16" rx="1.25" ry="1.25"/>
          <ellipse cx="14" cy="16" rx="1.25" ry="1.25"/>
          <ellipse cx="18" cy="16" rx="1.25" ry="1.25"/>
        </g>
      </svg>`,
    "image/svg+xml"
  ).documentElement;

  constructor() {
    super();
  }

  connectedCallback() {
    super.connectedCallback();
    this.labelElement.pinned = true;
    if (this.#initialized) {
      return;
    }
    this.#initialized = true;
    this._activeTabs = [];
    this.icon.appendChild(nsZenFolder.rawIcon.cloneNode(true));

    this.labelElement.parentElement.setAttribute("context", "zenFolderActions");

    this.labelElement.onRenameFinished = (newLabel) => {
      this.name = newLabel.trim() || "Folder";
      const event = new CustomEvent("ZenFolderRenamed", {
        bubbles: true,
      });
      this.dispatchEvent(event);
    };

    if (this.collapsed) {
      this.groupContainer.setAttribute("hidden", true);
    }
  }

  get icon() {
    return this.querySelector(".tab-group-folder-icon");
  }

  /**
   * Returns the group this folder belongs to.
   *
   * @returns {MozTabbrowserTabGroup|null} The group this folder belongs to, or null if it is not part of a group.
   */
  get group() {
    if (gBrowser.isTabGroup(this.parentElement?.parentElement)) {
      return this.parentElement.parentElement;
    }
    return null;
  }

  get isZenFolder() {
    return true;
  }

  get activeGroups() {
    let activeGroups = [];
    let currentGroup = this;
    if (currentGroup?.hasAttribute("has-active")) {
      activeGroups.push(currentGroup);
    }
    while (currentGroup?.group) {
      currentGroup = currentGroup?.group;
      if (currentGroup?.hasAttribute("has-active")) {
        activeGroups.push(currentGroup);
      }
    }
    return activeGroups;
  }

  get childActiveGroups() {
    if (this.tagName === "zen-workspace-collapsible-pins") {
      return Array.from(this.parentElement.querySelectorAll("zen-folder[has-active]"));
    }
    return Array.from(this.querySelectorAll("zen-folder[has-active]"));
  }

  rename() {
    if (!document.documentElement.hasAttribute("zen-sidebar-expanded")) {
      return;
    }
    gZenVerticalTabsManager.renameTabStart({
      target: this.labelElement,
      explicit: true,
    });
  }

  createSubfolder() {
    // We need to expand all parent folders
    let currentFolder = this;
    do {
      currentFolder.collapsed = false;
      currentFolder = currentFolder.group;
    } while (currentFolder);
    gZenFolders.createFolder([], {
      renameFolder: !gZenUIManager.testingEnabled,
      label: "Subfolder",
      insertAfter: this.groupContainer.lastElementChild,
    });
  }

  async unpackTabs() {
    this.collapsed = false;
    for (let tab of this.allItems.reverse()) {
      tab = tab.group.hasAttribute("split-view-group") ? tab.group : tab;
      if (tab.hasAttribute("zen-empty-tab")) {
        gBrowser.removeTab(tab);
      } else {
        gBrowser.ungroupTab(tab);
      }
    }
  }

  async delete() {
    for (const tab of this.allItemsRecursive) {
      if (tab.hasAttribute("zen-empty-tab")) {
        // Manually remove the empty tabs as removeTabs() inside removeTabGroup
        // does ignore them.
        gBrowser.removeTab(tab);
      }
    }
    await gBrowser.removeTabGroup(this, { isUserTriggered: true });
  }

  get allItemsRecursive() {
    const items = [];
    for (const item of this.allItems) {
      if (item.isZenFolder) {
        items.push(item, ...item.allItemsRecursive);
      } else {
        items.push(item);
      }
    }
    return items;
  }

  get allItems() {
    return [...this.groupContainer.children].filter(
      (child) =>
        !(
          child.classList.contains("zen-tab-group-start") ||
          child.classList.contains("pinned-tabs-container-separator")
        )
    );
  }

  get pinned() {
    return this.isZenFolder;
  }

  /**
   * Intentionally ignore attempts to change the pinned state.
   * ZenFolder instances determine their "pinned" status based on their type (isZenFolder)
   * and do not support being pinned or unpinned via this setter.
   * This no-op setter ensures compatibility with interfaces expecting a pinned property,
   * while preserving the invariant that ZenFolders cannot have their pinned state changed externally.
   */
  set pinned(value) {}

  get iconURL() {
    return this.icon.querySelector("image")?.getAttribute("href") || "";
  }

  set activeTabs(tabs) {
    if (tabs.length) {
      this._activeTabs = tabs;
      for (let tab of tabs) {
        tab.setAttribute("folder-active", "true");
      }
    } else {
      const folders = new Map();
      for (let tab of this._activeTabs) {
        const group = tab?.group?.hasAttribute("split-view-group") ? tab?.group?.group : tab?.group;
        if (!folders.has(group?.id)) {
          folders.set(group?.id, group?.activeGroups?.at(-1));
        }
        let activeGroup = folders.get(group?.id);
        if (!activeGroup) {
          tab.removeAttribute("folder-active");
          tab.style.removeProperty("--zen-folder-indent");
        }
      }
      this._activeTabs = [];
      folders.clear();
    }
  }

  get activeTabs() {
    return this._activeTabs;
  }

  get resetButton() {
    return this.labelElement.parentElement?.querySelector(".tab-reset-button") ?? null;
  }

  unloadAllTabs(event) {
    this.#unloadAllActiveTabs(event, /* noClose */ true);
  }

  async #unloadAllActiveTabs(event, noClose = false) {
    await gZenPinnedTabManager.onCloseTabShortcut(event, this.tabs, {
      noClose,
      alwaysUnload: true,
      folderToUnload: this,
    });
    this.activeTabs = [];
    this.collapsed = true;
  }

  on_click(event) {
    if (event.target === this.resetButton) {
      event.stopPropagation();
      this.unloadAllTabs(event);
      return;
    }
    super.on_click(event);
  }

  /**
   * Get the root most collapsed folder in the tree.
   *
   * @returns {ZenFolder|null} The root most collapsed folder, or null if none are collapsed.
   */
  get rootMostCollapsedFolder() {
    let current = this;
    let rootMost = null;
    do {
      if (current.collapsed) {
        rootMost = current;
      }
      current = current.group;
    } while (current);
    return rootMost;
  }
}

customElements.define("zen-folder", nsZenFolder);



================================================
FILE: src/zen/fonts/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-fonts/JunicodeVF-Italic.woff2                       (../../zen/fonts/JunicodeVF-Italic.woff2)
        content/browser/zen-fonts/JunicodeVF-Roman.woff2                        (../../zen/fonts/JunicodeVF-Roman.woff2)



================================================
FILE: src/zen/fonts/JunicodeVF-Italic.woff2
================================================
[Binary file]


================================================
FILE: src/zen/fonts/JunicodeVF-Roman.woff2
================================================
[Binary file]


================================================
FILE: src/zen/glance/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenGlanceManager.mjs                     (../../zen/glance/ZenGlanceManager.mjs)
        content/browser/zen-styles/zen-glance.css                               (../../zen/glance/zen-glance.css)


================================================
FILE: src/zen/glance/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

FINAL_TARGET_FILES.actors += [
    "actors/ZenGlanceChild.sys.mjs",
    "actors/ZenGlanceParent.sys.mjs",
]

TESTING_JS_MODULES += ["tests/GlanceTestUtils.sys.mjs"]



================================================
FILE: src/zen/glance/zen-glance.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

.zen-glance-sidebar-container {
  position: absolute;
  display: flex;
  z-index: 999;

  top: 15px;
  padding: 12px;
  gap: 12px;
  max-width: 56px;

  :root:not([zen-right-side="true"]) & {
    left: 100%;
  }

  :root[zen-right-side="true"] & {
    right: 100%;
  }

  & toolbarbutton {
    width: 32px;
    height: 32px;
    background: color-mix(in srgb, light-dark(rgb(24, 24, 24), rgb(231, 231, 231)) 96%, var(--zen-primary-color));
    transition:
      background 0.05s ease,
      scale 0.05s ease;
    border-radius: 999px;
    appearance: none;
    box-shadow: 0 0 12px 1px rgba(0, 0, 0, 0.07);
    padding: 8px;
    opacity: 1 !important;
    color: var(--zen-primary-color) !important;

    &:hover {
      background: light-dark(rgb(41, 41, 41), rgb(204, 204, 204));
      scale: 1.05;
    }

    &:hover:active {
      scale: 0.95;
    }

    & label {
      display: none;

      &::before {
        text-overflow: unset;
      }
    }

    &[disabled="true"] {
      scale: 1 !important;
      & image {
        opacity: 0.5;
      }
    }
  }

  & .zen-glance-sidebar-close {
    width: fit-content;
    & label {
      display: block;
      max-width: 0px;
      margin: 0;
      overflow: hidden;
      transition:
        max-width 0.2s ease,
        margin-left 0.2s ease;
    }

    &[waitconfirmation] {
      background: rgb(220, 53, 69);
      color: white;
      fill: white;
      & label {
        max-width: 4rem;
        margin-left: 8px;
      }

      & image {
        filter: none;
      }
    }
  }
}

:root[zen-no-padding="true"] .browserSidebarContainer.zen-glance-background {
  --zen-native-inner-radius: 6px;
  --zen-element-separation: 6px;
}

.browserSidebarContainer.zen-glance-background {
  box-shadow: var(--zen-big-shadow);
}

.browserSidebarContainer.zen-glance-background,
.browserSidebarContainer.zen-glance-overlay .browserContainer:not([fade-out="true"]) {
  border-radius: var(--zen-native-inner-radius);
}

.browserSidebarContainer.zen-glance-overlay {
  box-shadow: none !important;
  visibility: inherit;
  z-index: 1;
  /* Hint compositor to optimize animations and scrolling */
  will-change: transform, opacity, filter;

  :root[zen-no-padding="true"] & {
    --zen-native-inner-radius: 0px;
  }

  & .browserContainer {
    transform: translate(-50%, -50%);
    position: fixed;
    top: 0;
    left: 0;
    flex: unset !important;
    /* Promote to its own layer during transitions to reduce jank */
    will-change: transform, top, left;
    width: 85%;
    height: 100%;

    &:not([has-finished-animation="true"]) #statuspanel {
      display: none;
    }

    &[has-finished-animation="true"] {
      position: relative !important;
      transition: 0s !important;
      transform: none !important;
      margin: auto !important;
      top: 0 !important;
      left: 0 !important;
    }

    & .browserStack {
      border-radius: var(--zen-native-inner-radius);
      overflow: hidden;
      box-shadow: var(--zen-big-shadow);
    }

    & browser {
      background: light-dark(rgb(255, 255, 255), rgb(32, 32, 32)) !important;
      width: 100%;
      height: 100%;
    }

    &[animate="true"] {
      position: absolute;
    }
  }

  &[fade-out="true"] {
    & .browserStack {
      transition: opacity 0.15s ease-in-out;
      opacity: 0;
    }
  }
}

.zen-glance-element-preview {
  position: absolute;
  pointer-events: none;
  width: 100%;
  height: 100%;
  z-index: 0;
  border-radius: var(--zen-native-inner-radius);
  top: 0%;
  left: 50%;
  translate: -50% 0%;
  will-change: transform, opacity;
  background: rgba(255, 255, 255, 0.1);

  & image {
    width: 100%;
    max-width: 100%;
  }
}



================================================
FILE: src/zen/glance/zen-glance.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<html:template id="zen-glance-sidebar-template">
  <vbox class="zen-glance-sidebar-container">
    <toolbarbutton class="zen-glance-sidebar-close toolbarbutton-1" command="cmd_zenGlanceClose" data-l10n-id="zen-general-confirm" />
    <toolbarbutton class="zen-glance-sidebar-open toolbarbutton-1" command="cmd_zenGlanceExpand" />
    <toolbarbutton class="zen-glance-sidebar-split toolbarbutton-1" command="cmd_zenGlanceSplit" />
  </vbox>
</html:template>



================================================
FILE: src/zen/glance/actors/ZenGlanceChild.sys.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

export class ZenGlanceChild extends JSWindowActorChild {
  #activationMethod;

  constructor() {
    super();
  }

  async handleEvent(event) {
    const handler = this[`on_${event.type}`];
    if (typeof handler === "function") {
      await handler.call(this, event);
    }
  }

  async #initActivationMethod() {
    this.#activationMethod = await this.sendQuery("ZenGlance:GetActivationMethod");
  }

  #ensureOnlyKeyModifiers(event) {
    return !(event.ctrlKey ^ event.altKey ^ event.shiftKey ^ event.metaKey);
  }

  #openGlance(target) {
    let url = target.href;
    // Add domain to relative URLs
    if (!url.match(/^(?:[a-z]+:)?\/\//i)) {
      url = this.contentWindow.location.origin + url;
    }
    this.sendAsyncMessage("ZenGlance:OpenGlance", {
      url,
    });
  }

  #sendClickDataToParent(target, element) {
    if (!element && !target) {
      return;
    }
    if (!target) {
      target = element;
    }
    // Get the largest element we can get. If the `A` element
    // is a parent of the original target, use the anchor element,
    // otherwise use the original target.
    let rect = element.getBoundingClientRect();
    const anchorRect = target.getBoundingClientRect();
    if (anchorRect.width * anchorRect.height > rect.width * rect.height) {
      rect = anchorRect;
    }
    this.sendAsyncMessage("ZenGlance:RecordLinkClickData", {
      clientX: rect.left,
      clientY: rect.top,
      width: rect.width,
      height: rect.height,
    });
  }

  /**
   * Returns the closest A element from the event target
   * and the element to record (originalTarget or target)
   *
   * @param {Event} event
   */
  #getTargetFromEvent(event) {
    // get closest A element
    const target = event.target.closest("A");
    const elementToRecord = event.originalTarget || event.target;
    return {
      target,
      elementToRecord,
    };
  }

  on_mousedown(event) {
    const { target, elementToRecord } = this.#getTargetFromEvent(event);
    // We record the link data anyway, even if the glance may be invoked
    // or not. We have some cases where glance would open, for example,
    // when clicking on a link with a different domain where glance would open.
    // The problem is that at that stage we don't know the rect or even what
    // element has been clicked, so we send the data here.
    this.#sendClickDataToParent(target, elementToRecord);
  }

  on_click(event) {
    const { target } = this.#getTargetFromEvent(event);
    if (
      event.button !== 0 ||
      !target ||
      event.defaultPrevented ||
      this.#ensureOnlyKeyModifiers(event)
    ) {
      return;
    }
    const activationMethod = this.#activationMethod;
    if (activationMethod === "ctrl" && !event.ctrlKey) {
      return;
    } else if (activationMethod === "alt" && !event.altKey) {
      return;
    } else if (activationMethod === "shift" && !event.shiftKey) {
      return;
    } else if (activationMethod === "meta" && !event.metaKey) {
      return;
    }
    event.preventDefault();
    event.stopPropagation();
    this.#openGlance(target);
  }

  on_keydown(event) {
    if (event.defaultPrevented || event.key !== "Escape") {
      return;
    }
    this.sendAsyncMessage("ZenGlance:CloseGlance", {
      hasFocused: this.contentWindow.document.activeElement !== this.contentWindow.document.body,
    });
  }

  async on_DOMContentLoaded() {
    await this.#initActivationMethod();
  }
}



================================================
FILE: src/zen/glance/actors/ZenGlanceParent.sys.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

/* eslint-disable consistent-return */

export class ZenGlanceParent extends JSWindowActorParent {
  constructor() {
    super();
  }

  async receiveMessage(message) {
    switch (message.name) {
      case "ZenGlance:GetActivationMethod": {
        return Services.prefs.getStringPref("zen.glance.activation-method", "ctrl");
      }
      case "ZenGlance:OpenGlance": {
        this.openGlance(this.browsingContext.topChromeWindow, message.data);
        break;
      }
      case "ZenGlance:CloseGlance": {
        const params = {
          onTabClose: true,
          ...message.data,
        };
        this.browsingContext.topChromeWindow.gZenGlanceManager.closeGlance(params);
        break;
      }
      case "ZenGlance:RecordLinkClickData": {
        this.browsingContext.topChromeWindow.gZenGlanceManager.lastLinkClickData = message.data;
        break;
      }
      default:
        console.warn(`[glance]: Unknown message: ${message.name}`);
    }
  }

  openGlance(window, data) {
    return window.gZenGlanceManager.openGlance(data);
  }
}



================================================
FILE: src/zen/glance/tests/GlanceTestUtils.sys.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

export function openGlanceOnTab(window, callback, close = true) {
  // eslint-disable-next-line no-async-promise-executor
  return new Promise(async (resolve) => {
    window.gZenGlanceManager
      .openGlance({
        url: "https://example.com",
        clientX: 0,
        clientY: 0,
        width: 0,
        height: 0,
      })
      .then(async (glanceTab) => {
        await callback(glanceTab);
        if (close) {
          window.gZenGlanceManager
            .closeGlance({
              onTabClose: true,
            })
            .then(() => {
              resolve();
            });
        } else {
          resolve();
        }
      });
  });
}



================================================
FILE: src/zen/images/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-images/brand-header.svg                             (../../zen/images/brand-header.svg)
        content/browser/zen-images/layouts/collapsed.png                        (../../zen/images/layouts/collapsed.png)
        content/browser/zen-images/layouts/multiple-toolbar.png                 (../../zen/images/layouts/multiple-toolbar.png)
        content/browser/zen-images/layouts/single-toolbar.png                   (../../zen/images/layouts/single-toolbar.png)
        content/browser/zen-images/grain-bg.png                                 (../../zen/images/grain-bg.png)
        content/browser/zen-images/note-indicator.svg                           (../../zen/images/note-indicator.svg)

        content/browser/zen-images/downloads/download.svg                       (../../zen/images/downloads/download.svg)
        content/browser/zen-images/downloads/archive.svg                        (../../zen/images/downloads/archive.svg)

        # FavIcons for startup
        content/browser/zen-images/favicons/calendar.svg                        (../../zen/images/favicons/calendar.svg)
        content/browser/zen-images/favicons/discord.svg                         (../../zen/images/favicons/discord.svg)
        content/browser/zen-images/favicons/figma.svg                           (../../zen/images/favicons/figma.svg)
        content/browser/zen-images/favicons/github.svg                          (../../zen/images/favicons/github.svg)
        content/browser/zen-images/favicons/notion.svg                          (../../zen/images/favicons/notion.svg)
        content/browser/zen-images/favicons/obsidian.svg                        (../../zen/images/favicons/obsidian.svg)
        content/browser/zen-images/favicons/slack.svg                           (../../zen/images/favicons/slack.svg)
        content/browser/zen-images/favicons/tuta.svg                            (../../zen/images/favicons/tuta.svg)
        content/browser/zen-images/favicons/trello.svg                          (../../zen/images/favicons/trello.svg)



================================================
FILE: src/zen/kbs/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenKeyboardShortcuts.mjs                 (../../zen/kbs/ZenKeyboardShortcuts.mjs)



================================================
FILE: src/zen/kbs/ZenKeyboardShortcuts.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

import { nsZenMultiWindowFeature } from "chrome://browser/content/zen-components/ZenCommonUtils.mjs";

const KEYCODE_MAP = {
  F1: "VK_F1",
  F2: "VK_F2",
  F3: "VK_F3",
  F4: "VK_F4",
  F5: "VK_F5",
  F6: "VK_F6",
  F7: "VK_F7",
  F8: "VK_F8",
  F9: "VK_F9",
  F10: "VK_F10",
  F11: "VK_F11",
  F12: "VK_F12",
  F13: "VK_F13",
  F14: "VK_F14",
  F15: "VK_F15",
  F16: "VK_F16",
  F17: "VK_F17",
  F18: "VK_F18",
  F19: "VK_F19",
  F20: "VK_F20",
  F21: "VK_F21",
  F22: "VK_F22",
  F23: "VK_F23",
  F24: "VK_F24",
  TAB: "VK_TAB",
  ENTER: "VK_RETURN",
  ESCAPE: "VK_ESCAPE",
  SPACE: "VK_SPACE",
  ARROWLEFT: "VK_LEFT",
  ARROWRIGHT: "VK_RIGHT",
  ARROWUP: "VK_UP",
  ARROWDOWN: "VK_DOWN",
  DELETE: "VK_DELETE",
  BACKSPACE: "VK_BACK",
  HOME: "VK_HOME",
  NUM_LOCK: "VK_NUMLOCK",
  SCROLL_LOCK: "VK_SCROLL",
};

const defaultKeyboardGroups = {
  windowAndTabManagement: [
    "zen-window-new-shortcut",
    "zen-new-unsynced-window-shortcut",
    "zen-tab-new-shortcut",
    "zen-key-enter-full-screen",
    "zen-key-exit-full-screen",
    "zen-quit-app-shortcut",
    "zen-close-all-unpinned-tabs-shortcut",
    "zen-close-tab-shortcut",
    "zen-close-shortcut",
    "id:key_selectTab1",
    "id:key_selectTab2",
    "id:key_selectTab3",
    "id:key_selectTab4",
    "id:key_selectTab5",
    "id:key_selectTab6",
    "id:key_selectTab7",
    "id:key_selectTab8",
    "id:key_selectLastTab",
  ],
  navigation: [
    "zen-nav-back-shortcut-alt",
    "zen-nav-fwd-shortcut-alt",
    "zen-nav-reload-shortcut-2",
    "zen-nav-reload-shortcut-skip-cache",
    "zen-nav-reload-shortcut",
    "zen-key-stop",
    "zen-private-browsing-shortcut",
    "id:goHome",
    "id:key_gotoHistory",
    "id:goBackKb",
    "id:goForwardKb",
  ],
  searchAndFind: [
    "zen-search-focus-shortcut",
    "zen-search-focus-shortcut-alt",
    "zen-find-shortcut",
    "zen-search-find-again-shortcut-2",
    "zen-search-find-again-shortcut",
    "zen-search-find-again-shortcut-prev",
  ],
  pageOperations: [
    "zen-text-action-copy-url-markdown-shortcut",
    "zen-text-action-copy-url-shortcut",
    "zen-location-open-shortcut",
    "zen-location-open-shortcut-alt",
    "zen-save-page-shortcut",
    "zen-print-shortcut",
    "zen-page-source-shortcut",
    "zen-page-info-shortcut",
    "zen-reader-mode-toggle-shortcut-other",
    "zen-picture-in-picture-toggle-shortcut",
  ],
  historyAndBookmarks: [
    "zen-history-show-all-shortcut",
    "zen-bookmark-this-page-shortcut",
    "zen-bookmark-show-library-shortcut",
  ],
  mediaAndDisplay: [
    "zen-mute-toggle-shortcut",
    "zen-full-zoom-reduce-shortcut",
    "zen-full-zoom-enlarge-shortcut",
    "zen-full-zoom-reset-shortcut",
    "zen-bidi-switch-direction-shortcut",
    "zen-screenshot-shortcut",
  ],
  devTools: [
    /*Filled automatically*/
  ],
};

const fixedL10nIds = {
  cmd_findPrevious: "zen-search-find-again-shortcut-prev",
  "Browser:ReloadSkipCache": "zen-nav-reload-shortcut-skip-cache",
  cmd_close: "zen-close-tab-shortcut",
  "History:RestoreLastClosedTabOrWindowOrSession": "zen-restore-last-closed-tab-shortcut",
};

const ZEN_MAIN_KEYSET_ID = "mainKeyset";
const ZEN_DEVTOOLS_KEYSET_ID = "devtoolsKeyset";
window.ZEN_KEYSET_ID = "zenKeyset";

const ZEN_COMPACT_MODE_SHORTCUTS_GROUP = "zen-compact-mode";
const ZEN_WORKSPACE_SHORTCUTS_GROUP = "zen-workspace";
const ZEN_OTHER_SHORTCUTS_GROUP = "zen-other";
const ZEN_SPLIT_VIEW_SHORTCUTS_GROUP = "zen-split-view";
const FIREFOX_SHORTCUTS_GROUP = "zen-kbs-invalid";
window.VALID_SHORTCUT_GROUPS = [
  ZEN_COMPACT_MODE_SHORTCUTS_GROUP,
  ZEN_WORKSPACE_SHORTCUTS_GROUP,
  ZEN_SPLIT_VIEW_SHORTCUTS_GROUP,
  ZEN_OTHER_SHORTCUTS_GROUP,
  ...Object.keys(defaultKeyboardGroups),
  "other",
];

export class nsKeyShortcutModifiers {
  #control = false;
  #alt = false;
  #shift = false;
  #meta = false;
  #accel = false;

  constructor(ctrl, alt, shift, meta, accel) {
    this.#control = ctrl;
    this.#alt = alt;
    this.#shift = shift;
    this.#meta = meta;
    this.#accel = accel;

    if (AppConstants.platform != "macosx") {
      // Replace control with accel, to make it more consistent
      this.#accel = ctrl || accel;
      this.#control = false;
    }
  }

  static parseFromJSON(modifiers) {
    if (!modifiers) {
      return new nsKeyShortcutModifiers(false, false, false, false, false);
    }

    return new nsKeyShortcutModifiers(
      modifiers.control,
      modifiers.alt,
      modifiers.shift,
      modifiers.meta,
      modifiers.accel
    );
  }

  static parseFromXHTMLAttribute(modifiers) {
    if (!modifiers) {
      return new nsKeyShortcutModifiers(false, false, false, false, false);
    }

    return new nsKeyShortcutModifiers(
      modifiers.includes("control"),
      modifiers.includes("alt"),
      modifiers.includes("shift"),
      modifiers.includes("meta"),
      modifiers.includes("accel")
    );
  }

  // used to avoid any future changes to the object
  static fromObject({ ctrl = false, alt = false, shift = false, meta = false, accel = false }) {
    return new nsKeyShortcutModifiers(ctrl, alt, shift, meta, accel);
  }

  toDisplayString() {
    let str = "";
    const separation = AppConstants.platform == "macosx" ? " " : "+";
    if (this.#control && !this.#accel) {
      str += AppConstants.platform == "macosx" ? "⌃" : "Ctrl";
      str += separation;
    }
    if (this.#meta) {
      str += AppConstants.platform == "macosx" ? "⌘" : "Win";
      str += separation;
    }
    if (this.#accel) {
      str += AppConstants.platform == "macosx" ? "⌘" : "Ctrl";
      str += separation;
    }
    if (this.#alt) {
      str += AppConstants.platform == "macosx" ? "⌥" : "Alt";
      str += separation;
    }
    if (this.#shift) {
      str += "⇧";
      str += separation;
    }
    return str;
  }

  equals(other) {
    if (!other) {
      return false;
    }
    // If we are on macos, we can have accel and meta at the same time
    return (
      this.#alt == other.#alt &&
      this.#shift == other.#shift &&
      this.#control == other.#control &&
      (AppConstants.platform == "macosx"
        ? (this.#meta || this.#accel) == (other.#meta || other.#accel) &&
          this.#control == other.#control
        : // In other platforms, we can have control and accel counting as the same thing
          this.#meta == other.#meta &&
          (this.#control || this.#accel) == (other.#control || other.#accel))
    );
  }

  toString() {
    let str = "";
    if (this.#control) {
      str += "control,";
    }
    if (this.#accel) {
      str += "accel,";
    }
    if (this.#shift) {
      str += "shift,";
    }
    if (this.#alt) {
      str += "alt,";
    }
    if (this.#meta) {
      str += "meta,";
    }
    return str.slice(0, -1);
  }

  toJSONString() {
    return {
      control: this.#control,
      alt: this.#alt,
      shift: this.#shift,
      meta: this.#meta,
      accel: this.#accel,
    };
  }

  areAnyActive() {
    return this.#control || this.#alt || this.#shift || this.#meta || this.#accel;
  }

  get control() {
    return this.#control;
  }

  get alt() {
    return this.#alt;
  }

  get shift() {
    return this.#shift;
  }

  get meta() {
    return this.#meta;
  }

  get accel() {
    return this.#accel;
  }
}

class KeyShortcut {
  #id = "";
  #key = "";
  #keycode = "";
  #group = FIREFOX_SHORTCUTS_GROUP;
  #modifiers = new nsKeyShortcutModifiers(false, false, false, false, false);
  #action = "";
  #l10nId = "";
  #disabled = false;
  #reserved = false;
  #internal = false;

  constructor(
    id,
    key,
    keycode,
    group,
    modifiers,
    action,
    l10nId,
    disabled = false,
    reserved = false,
    internal = false
  ) {
    this.#id = id;
    this.#key = key?.toLowerCase();
    this.#keycode = keycode;

    if (!window.VALID_SHORTCUT_GROUPS.includes(group)) {
      throw new Error("Illegal group value: " + group);
    }

    this.#group = group;
    this.#modifiers = modifiers;
    this.#action = action;
    this.#l10nId = KeyShortcut.sanitizeL10nId(l10nId, action);
    this.#disabled = disabled;
    this.#reserved = reserved;
    this.#internal = internal;
  }

  isEmpty() {
    return !this.#key && !this.getRealKeycode();
  }

  static parseFromSaved(json) {
    let rv = [];
    for (let key of json) {
      rv.push(this.#parseFromJSON(key));
    }

    return rv;
  }

  static getGroupFromL10nId(l10nId, id) {
    // Find inside defaultKeyboardGroups
    for (let group of Object.keys(defaultKeyboardGroups)) {
      for (let shortcut of defaultKeyboardGroups[group]) {
        if (shortcut == l10nId || shortcut == "id:" + id) {
          return group;
        }
      }
    }
    return "other";
  }

  static #parseFromJSON(json) {
    return new KeyShortcut(
      json.id,
      json.key,
      json.keycode,
      json.group,
      nsKeyShortcutModifiers.parseFromJSON(json.modifiers),
      json.action,
      json.l10nId,
      json.disabled,
      json.reserved,
      json.internal
    );
  }

  static parseFromXHTML(key, { group = undefined } = {}) {
    return new KeyShortcut(
      key.getAttribute("id"),
      key.getAttribute("key"),
      key.getAttribute("keycode"),
      group ??
        KeyShortcut.getGroupFromL10nId(
          KeyShortcut.sanitizeL10nId(key.getAttribute("data-l10n-id")),
          key.getAttribute("id")
        ),
      nsKeyShortcutModifiers.parseFromXHTMLAttribute(key.getAttribute("modifiers")),
      key.getAttribute("command"),
      key.getAttribute("data-l10n-id"),
      key.getAttribute("disabled") == "true",
      key.getAttribute("reserved") == "true",
      key.getAttribute("internal") == "true"
    );
  }

  static sanitizeL10nId(id, action) {
    if (!id || id.startsWith("zen-")) {
      return id;
    }
    // Check if any action is on the list of fixed l10n ids
    if (fixedL10nIds[action]) {
      return fixedL10nIds[action];
    }
    return `zen-${id}`;
  }

  set shouldBeEmpty(value) {
    if (value) {
      this.clearKeybind();
    }
  }

  toXHTMLElement(aWindow) {
    let key = aWindow.document.createXULElement("key");
    return this.replaceWithChild(key);
  }

  replaceWithChild(key) {
    key.id = this.#id;
    if (this.#keycode) {
      key.setAttribute("keycode", this.#keycode);
      key.removeAttribute("key");
    } else {
      // note to "mr. macos": Better use setAttribute, because without it, there's a
      //  risk of malforming the XUL element.
      key.setAttribute("key", this.#key);
      key.removeAttribute("keycode");
    }
    key.setAttribute("group", this.#group);

    // note to "mr. macos": We add the `zen-` prefix because Firefox hasnt been built with the
    // shortcuts in mind, it will simply just override the shortcuts with whatever the default is.
    //  note that this l10n id is not used for actually translating the key's label, but rather to
    //  identify the default keybinds.
    if (this.#l10nId) {
      // key.setAttribute('data-l10n-id', this.#l10nId);
    }
    key.setAttribute("modifiers", this.#modifiers.toString());
    if (this.#action) {
      key.setAttribute("command", this.#action);
    }
    if (this.#disabled) {
      key.setAttribute("disabled", this.#disabled);
    }
    if (this.#reserved) {
      key.setAttribute("reserved", this.#reserved);
    }
    if (this.#internal) {
      key.setAttribute("internal", this.#internal);
    }
    key.setAttribute("zen-keybind", "true");

    return key;
  }

  _modifyInternalAttribute(value) {
    this.#internal = value;
  }

  getRealKeycode() {
    if (this.#keycode === "") {
      return null;
    }
    return this.#keycode;
  }

  getID() {
    return this.#id;
  }

  getAction() {
    return this.#action;
  }

  // Only used for migration!
  _setAction(action) {
    this.#action = action;
  }

  getL10NID() {
    return this.#l10nId;
  }

  getGroup() {
    return this.#group;
  }

  getModifiers() {
    return this.#modifiers;
  }

  getKeyName() {
    return this.#key?.toLowerCase();
  }

  getKeyCode() {
    return this.getRealKeycode();
  }

  getKeyNameOrCode() {
    return this.#key ? this.getKeyName() : this.getKeyCode();
  }

  isDisabled() {
    return this.#disabled;
  }

  setDisabled(value) {
    this.#disabled = value;
  }

  isReserved() {
    return this.#reserved;
  }

  isInternal() {
    return this.#internal;
  }

  isInvalid() {
    return this.#key == "" && this.#keycode == "" && this.#l10nId == null;
  }

  setModifiers(modifiers) {
    if ((!modifiers) instanceof nsKeyShortcutModifiers) {
      throw new Error("Only nsKeyShortcutModifiers allowed");
    }
    this.#modifiers = modifiers;
  }

  toJSONForm() {
    return {
      id: this.#id,
      key: this.#key,
      keycode: this.#keycode,
      group: this.#group,
      l10nId: this.#l10nId,
      modifiers: this.#modifiers.toJSONString(),
      action: this.#action,
      disabled: this.#disabled,
      reserved: this.#reserved,
      internal: this.#internal,
    };
  }

  toDisplayString() {
    let str = this.#modifiers.toDisplayString();

    if (this.#key) {
      str += this.#key.toUpperCase();
    } else if (this.#keycode) {
      // Get the key from the value
      for (let [key, value] of Object.entries(KEYCODE_MAP)) {
        if (value == this.#keycode) {
          const normalizedKey = key.toLowerCase();
          switch (normalizedKey) {
            case "arrowleft":
              str += "←";
              break;
            case "arrowright":
              str += "→";
              break;
            case "arrowup":
              str += "↑";
              break;
            case "arrowdown":
              str += "↓";
              break;
            case "escape":
              str += AppConstants.platform == "macosx" ? "⎋" : "Esc";
              break;
            case "enter":
              str += AppConstants.platform == "macosx" ? "↩" : "Enter";
              break;
            case "space":
              str += AppConstants.platform == "macosx" ? "␣" : "Space";
              break;
            default:
              str += normalizedKey;
          }
          break;
        }
      }
    } else {
      return "";
    }
    return str;
  }

  isUserEditable() {
    if (!this.#id || this.#internal || (this.#group == FIREFOX_SHORTCUTS_GROUP && this.#disabled)) {
      return false;
    }
    return true;
  }

  clearKeybind() {
    this.#key = "";
    this.#keycode = "";
    this.#modifiers = new nsKeyShortcutModifiers(false, false, false, false);
  }

  setNewBinding(shortcut) {
    for (let keycode of Object.keys(KEYCODE_MAP)) {
      if (keycode == shortcut.toUpperCase()) {
        this.#keycode = KEYCODE_MAP[keycode];
        this.#key = "";
        return;
      }
    }

    this.#keycode = ""; // Clear the keycode
    this.#key = shortcut;
  }
}

class nsZenKeyboardShortcutsLoader {
  constructor() {}

  get shortcutsFile() {
    return PathUtils.join(PathUtils.profileDir, "zen-keyboard-shortcuts.json");
  }

  async save(data) {
    await IOUtils.writeJSON(this.shortcutsFile, data);
  }

  async loadObject() {
    try {
      return await IOUtils.readJSON(this.shortcutsFile);
    } catch (e) {
      // Recreate shortcuts file
      Services.prefs.clearUserPref("zen.keyboard.shortcuts.version");
      console.warn("Error loading shortcuts file", e);
      return null;
    }
  }

  async load() {
    return (await this.loadObject())?.shortcuts;
  }

  async remove() {
    await IOUtils.remove(this.shortcutsFile);
  }

  static zenGetDefaultShortcuts() {
    // DO NOT CHANGE ANYTHING HERE
    // For adding new default shortcuts, add them to inside the migration function
    //  and increment the version number.

    let keySet = document.getElementById(ZEN_MAIN_KEYSET_ID);
    let newShortcutList = [];

    const correctDefaultShortcut = (shortcut) => {
      if (shortcut.getID() === "key_savePage") {
        shortcut.setModifiers(
          nsKeyShortcutModifiers.fromObject({ accel: true, alt: true, shift: true })
        );
      }
    };

    // Firefox's standard keyset. Reverse order to keep the order of the keys
    for (let i = keySet.children.length - 1; i >= 0; i--) {
      let key = keySet.children[i];
      let parsed = KeyShortcut.parseFromXHTML(key);
      correctDefaultShortcut(parsed);
      newShortcutList.push(parsed);
    }

    // Compact mode's keyset
    newShortcutList.push(
      new KeyShortcut(
        "zen-compact-mode-toggle",
        "S",
        "",
        ZEN_COMPACT_MODE_SHORTCUTS_GROUP,
        nsKeyShortcutModifiers.fromObject({ accel: true }),
        "cmd_toggleCompactModeIgnoreHover",
        "zen-compact-mode-shortcut-toggle"
      )
    );
    newShortcutList.push(
      new KeyShortcut(
        "zen-compact-mode-show-sidebar",
        "S",
        "",
        ZEN_COMPACT_MODE_SHORTCUTS_GROUP,
        nsKeyShortcutModifiers.fromObject({ accel: true, alt: true }),
        "cmd_zenCompactModeShowSidebar",
        "zen-compact-mode-shortcut-show-sidebar"
      )
    );

    // Workspace shortcuts
    for (let i = 10; i > 0; i--) {
      newShortcutList.push(
        new KeyShortcut(
          `zen-workspace-switch-${i}`,
          AppConstants.platform == "macosx" ? `${i === 10 ? 0 : i}` : "",
          "",
          ZEN_WORKSPACE_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject(
            AppConstants.platform == "macosx" ? { ctrl: true } : {}
          ),
          `cmd_zenWorkspaceSwitch${i}`,
          `zen-workspace-shortcut-switch-${i}`
        )
      );
    }
    newShortcutList.push(
      new KeyShortcut(
        "zen-workspace-forward",
        "",
        "VK_RIGHT",
        ZEN_WORKSPACE_SHORTCUTS_GROUP,
        nsKeyShortcutModifiers.fromObject({ alt: true, accel: true }),
        "cmd_zenWorkspaceForward",
        "zen-workspace-shortcut-forward"
      )
    );
    newShortcutList.push(
      new KeyShortcut(
        "zen-workspace-backward",
        "",
        "VK_LEFT",
        ZEN_WORKSPACE_SHORTCUTS_GROUP,
        nsKeyShortcutModifiers.fromObject({ alt: true, accel: true }),
        "cmd_zenWorkspaceBackward",
        "zen-workspace-shortcut-backward"
      )
    );

    // Split view
    newShortcutList.push(
      new KeyShortcut(
        "zen-split-view-grid",
        "G",
        "",
        ZEN_SPLIT_VIEW_SHORTCUTS_GROUP,
        nsKeyShortcutModifiers.fromObject({ accel: true, alt: true }),
        "cmd_zenSplitViewGrid",
        "zen-split-view-shortcut-grid"
      )
    );
    newShortcutList.push(
      new KeyShortcut(
        "zen-split-view-vertical",
        "V",
        "",
        ZEN_SPLIT_VIEW_SHORTCUTS_GROUP,
        nsKeyShortcutModifiers.fromObject({ accel: true, alt: true }),
        "cmd_zenSplitViewVertical",
        "zen-split-view-shortcut-vertical"
      )
    );
    newShortcutList.push(
      new KeyShortcut(
        "zen-split-view-horizontal",
        "H",
        "",
        ZEN_SPLIT_VIEW_SHORTCUTS_GROUP,
        nsKeyShortcutModifiers.fromObject({ accel: true, alt: true }),
        "cmd_zenSplitViewHorizontal",
        "zen-split-view-shortcut-horizontal"
      )
    );
    newShortcutList.push(
      new KeyShortcut(
        "zen-split-view-unsplit",
        "U",
        "",
        ZEN_SPLIT_VIEW_SHORTCUTS_GROUP,
        nsKeyShortcutModifiers.fromObject({ accel: true, alt: true }),
        "cmd_zenSplitViewUnsplit",
        "zen-split-view-shortcut-unsplit"
      )
    );

    return newShortcutList;
  }

  // Make sure to stay in sync with https://searchfox.org/mozilla-central/source/devtools/startup/DevToolsStartup.sys.mjs#879
  static IGNORED_DEVTOOLS_SHORTCUTS = [
    "key_toggleToolboxF12",
    "profilerStartStop",
    "profilerStartStopAlternate",
    "profilerCapture",
    "profilerCaptureAlternate",
    "javascriptTracingToggle",
  ];

  static zenGetDefaultDevToolsShortcuts() {
    let keySet = document.getElementById(ZEN_DEVTOOLS_KEYSET_ID);
    let newShortcutList = [];
    for (let i = keySet.children.length - 1; i >= 0; i--) {
      let key = keySet.children[i];
      if (this.IGNORED_DEVTOOLS_SHORTCUTS.includes(key.id)) {
        continue;
      }
      let parsed = KeyShortcut.parseFromXHTML(key, { group: "devTools" });
      // Move "inspector" shortcut to use "L" key instead of "I"
      if (parsed.getID() == "key_inspector" || parsed.getID() == "key_inspectorMac") {
        parsed.setNewBinding("L");
      }
      newShortcutList.push(parsed);
    }

    return newShortcutList;
  }
}

class nsZenKeyboardShortcutsVersioner {
  static LATEST_KBS_VERSION = 16;

  constructor() {}

  get version() {
    return Services.prefs.getIntPref("zen.keyboard.shortcuts.version", 0);
  }

  set version(version) {
    Services.prefs.setIntPref("zen.keyboard.shortcuts.version", version);
  }

  getVersionedData(data) {
    return {
      shortcuts: data,
    };
  }

  isVersionUpToDate() {
    return this.version == nsZenKeyboardShortcutsVersioner.LATEST_KBS_VERSION;
  }

  isVersionOutdated() {
    return this.version < nsZenKeyboardShortcutsVersioner.LATEST_KBS_VERSION;
  }

  migrateIfNeeded(data) {
    if (!data) {
      // Rebuid the shortcuts, just in case
      this.version = 0;
    }

    if (this.isVersionUpToDate()) {
      return data;
    }

    if (this.isVersionOutdated()) {
      const version = this.version;
      console.warn(
        "Zen CKS: Migrating shortcuts from version",
        version,
        "to",
        nsZenKeyboardShortcutsVersioner.LATEST_KBS_VERSION
      );
      const newData = this.migrate(data, version);
      this.version = nsZenKeyboardShortcutsVersioner.LATEST_KBS_VERSION;
      return newData;
    }

    console.error("Unknown keyboard shortcuts version");
    this.version = 0;
    return this.migrateIfNeeded(data);
  }

  fillDefaultIfNotPresent(data) {
    for (let shortcut of nsZenKeyboardShortcutsLoader.zenGetDefaultShortcuts()) {
      // If it has an ID and we dont find it in the data, we add it
      if (shortcut.getID() && !data.find((s) => s.getID() == shortcut.getID())) {
        data.push(shortcut);
      }
    }
    return data;
  }

  fixedKeyboardShortcuts(data) {
    // Apply migrations and ensure defaults exist
    let out = this.fillDefaultIfNotPresent(this.migrateIfNeeded(data));

    return out;
  }

  // eslint-disable-next-line complexity
  migrate(data, version) {
    if (version < 1) {
      // Migrate from 0 to 1
      // Here, we do a complet reset of the shortcuts,
      // since nothing seems to work properly.
      data = nsZenKeyboardShortcutsLoader.zenGetDefaultShortcuts();
    }
    if (version < 2) {
      // Migrate from 1 to 2
      // In this new version, we are resolving the conflicts between
      //  shortcuts having keycode and key at the same time.
      // If there's both, we remove the keycodes.
      for (let shortcut of data) {
        if (shortcut.getKeyCode() && shortcut.getKeyName()) {
          shortcut.setNewBinding(shortcut.getKeyName());
        }
      }
      data.push(
        new KeyShortcut(
          "zen-pinned-tab-reset-shortcut",
          "",
          "",
          ZEN_OTHER_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject({}),
          "cmd_zenPinnedTabReset",
          "zen-pinned-tab-shortcut-reset"
        )
      );
    }
    if (version < 3) {
      // Migrate from 2 to 3
      // In this new version, there was this *really* annoying bug. Shortcuts
      //  detection for internal keys was not working properly, so every internal
      //  shortcut was being saved as a user-editable shortcut.
      // This migration will fix this issue.
      const defaultShortcuts = nsZenKeyboardShortcutsLoader.zenGetDefaultShortcuts();
      // Get the default shortcut, compare the id and set the internal flag if needed
      for (let shortcut of data) {
        for (let defaultShortcut of defaultShortcuts) {
          if (shortcut.getID() == defaultShortcut.getID()) {
            shortcut._modifyInternalAttribute(defaultShortcut.isInternal());
          }
        }
      }
    }
    if (version < 4) {
      // Migrate from 3 to 4
      // In this new version, we are just removing the 'zen-toggle-sidebar' shortcut
      //  since it's not used anymore.
      data = data.filter((shortcut) => shortcut.getID() != "zen-toggle-sidebar");
    }
    if (version < 5) {
      // Migrate from 4 to 5
      // Here, we are adding the 'zen-toggle-sidebar' shortcut back, but with a new action
      data.push(
        new KeyShortcut(
          "zen-toggle-sidebar",
          "",
          "",
          ZEN_OTHER_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject({}),
          "cmd_zenToggleSidebar",
          "zen-sidebar-shortcut-toggle"
        )
      );
    }
    if (version < 6) {
      // Migrate from 5 to 6
      // In this new version, we add the "Copy URL" shortcut to the default shortcuts
      data.push(
        new KeyShortcut(
          "zen-copy-url",
          "C",
          "",
          ZEN_OTHER_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject({ accel: true, shift: true }),
          "cmd_zenCopyCurrentURL",
          "zen-text-action-copy-url-shortcut"
        )
      );
    }
    if (version < 7) {
      // Migrate from 6 to 7
      // In this new version, we add the devtools shortcuts
      const listener = (event) => {
        event.stopPropagation();

        const devToolsShortcuts = nsZenKeyboardShortcutsLoader.zenGetDefaultDevToolsShortcuts();
        gZenKeyboardShortcutsManager.updatedDefaultDevtoolsShortcuts(devToolsShortcuts);

        window.removeEventListener("zen-devtools-keyset-added", listener);
      };

      // We need to load after an event because the devtools keyset is not in the DOM yet
      // and we need to wait for it to be added.
      gZenKeyboardShortcutsManager._hasToLoadDefaultDevtools = true;
      window.addEventListener("zen-devtools-keyset-added", listener);
    }
    if (version < 8) {
      // Migrate from 7 to 8
      // In this new version, we add the "Copy URL as Markdown" shortcut to the default shortcuts
      data.push(
        new KeyShortcut(
          "zen-copy-url-markdown",
          "C",
          "",
          ZEN_OTHER_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject({ accel: true, shift: true, alt: true }),
          "cmd_zenCopyCurrentURLMarkdown",
          "zen-text-action-copy-url-markdown-shortcut"
        )
      );
    }
    if (version < 9) {
      // Migrate from version 8 to 9
      // Due to security concerns, replace "code:" actions with corresponding <command> IDs
      // we also remove 'zen-toggle-web-panel' since it's not used anymore
      data = data.filter((shortcut) => shortcut.getID() != "zen-toggle-web-panel");
      for (let shortcut of data) {
        if (shortcut.getAction()?.startsWith("code:")) {
          const id = shortcut.getID();

          // Map old shortcut IDs to new <command> IDs
          const commandMap = {
            "zen-compact-mode-toggle": "cmd_zenCompactModeToggle",
            "zen-compact-mode-show-sidebar": "cmd_zenCompactModeShowSidebar",
            "zen-workspace-forward": "cmd_zenWorkspaceForward",
            "zen-workspace-backward": "cmd_zenWorkspaceBackward",
            "zen-split-view-grid": "cmd_zenSplitViewGrid",
            "zen-split-view-vertical": "cmd_zenSplitViewVertical",
            "zen-split-view-horizontal": "cmd_zenSplitViewHorizontal",
            "zen-split-view-unsplit": "cmd_zenSplitViewUnsplit",
            "zen-copy-url": "cmd_zenCopyCurrentURL",
            "zen-copy-url-markdown": "cmd_zenCopyCurrentURLMarkdown",
            "zen-pinned-tab-reset-shortcut": "cmd_zenPinnedTabReset",
            "zen-toggle-sidebar": "cmd_zenToggleSidebar",
          };

          // Dynamically handle workspace switch shortcuts (zen-workspace-switch-1 to 10)
          if (id?.startsWith("zen-workspace-switch-")) {
            const num = id.replace("zen-workspace-switch-", "");
            commandMap[id] = `cmd_zenWorkspaceSwitch${num}`;
          }

          // Replace action if a corresponding command exists
          if (commandMap[id]) {
            shortcut._setAction(commandMap[id]);
          }
        }
      }
    }
    if (version < 10) {
      // Migrate from version 9 to 10
      // 1) Add the new pin/unpin tab toggle shortcut with Ctrl+Shift+D
      data.push(
        new KeyShortcut(
          "zen-toggle-pin-tab",
          "D",
          "",
          ZEN_OTHER_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject({ accel: true, shift: true }),
          "cmd_zenTogglePinTab",
          "zen-toggle-pin-tab-shortcut"
        )
      );

      // 2) Add shortcut to expand Glance into a full tab: Default Accel+O
      data.push(
        new KeyShortcut(
          "zen-glance-expand",
          "O",
          "",
          ZEN_OTHER_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject({ accel: true }),
          "cmd_zenGlanceExpand",
          ""
        )
      );
    }

    if (version < 11) {
      // Migrate from version 10 to 11
      data.push(
        new KeyShortcut(
          "zen-new-empty-split-view",
          "*",
          "",
          ZEN_SPLIT_VIEW_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject({ accel: true, shift: true }),
          "cmd_zenNewEmptySplit",
          "zen-new-empty-split-view-shortcut"
        )
      );
    }

    if (version < 12) {
      // Hard-remove deprecated or conflicting defaults regardless of version
      // - Remove the built-in "Open File" keybinding; menu item remains available
      // - Remove default "Bookmark All Tabs" keybinding (Ctrl+Shift+D) to avoid conflict
      // - Remove "Stop" keybinding to avoid conflict with Firefox's built-in binding
      const shouldBeEmptyShortcuts = ["openFileKb", "bookmarkAllTabsKb", "key_stop"];
      for (let shortcut of data) {
        if (shouldBeEmptyShortcuts.includes(shortcut.getID?.())) {
          shortcut.shouldBeEmpty = true;
        }
      }

      // Also remove zen-compact-mode-show-toolbar
      data = data.filter((shortcut) => shortcut.getID() != "zen-compact-mode-show-toolbar");
    }

    if (version < 13) {
      // Migrate from version 12 to 13
      // Add shortcut to close all unpinned tabs: Default Accel+Shift+K
      data.push(
        new KeyShortcut(
          "zen-close-all-unpinned-tabs",
          "K",
          "",
          ZEN_WORKSPACE_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject({ accel: true, shift: true }),
          "cmd_zenCloseUnpinnedTabs",
          "zen-close-all-unpinned-tabs-shortcut"
        )
      );
    }

    if (version < 15) {
      // Migrate from version 13 to 14
      // Add shortcut to open a new unsynced window: Default accelt+shift+N
      data.push(
        new KeyShortcut(
          "zen-new-unsynced-window",
          "N",
          "",
          ZEN_OTHER_SHORTCUTS_GROUP,
          nsKeyShortcutModifiers.fromObject({ accel: true, shift: true }),
          "cmd_zenNewNavigatorUnsynced",
          "zen-new-unsynced-window-shortcut"
        )
      );
      // Also, change the default for new empty split from + to * on mac
      // and disable the "Restore closed window" shortcut by default due to conflicts
      let emptySplitFound = false,
        undoCloseWindowFound = false;
      for (let shortcut of data) {
        if (shortcut.getID() == "zen-new-empty-split-view" && AppConstants.platform == "macosx") {
          if (shortcut.getKeyName() == "+") {
            shortcut.setNewBinding("*");
          }
          emptySplitFound = true;
        } else if (shortcut.getID() == "key_undoCloseWindow") {
          shortcut.shouldBeEmpty = true;
          shortcut.setDisabled(true);
          undoCloseWindowFound = true;
        }
        if (emptySplitFound && undoCloseWindowFound) {
          break;
        }
      }
    }

    if (version < 16) {
      // Migrate from version 14 to 16.
      // We move the action for "toggle compact mode" to "cmd_toggleCompactModeIgnoreHover"
      for (let shortcut of data) {
        if (shortcut.getID() == "zen-compact-mode-toggle") {
          shortcut._setAction("cmd_toggleCompactModeIgnoreHover");
          break;
        }
      }
    }

    return data;
  }
}

window.gZenKeyboardShortcutsManager = {
  loader: new nsZenKeyboardShortcutsLoader(),
  _hasToLoadDevtools: false,
  _inlineCommands: [],

  beforeInit() {
    if (!this.inBrowserView) {
      return;
    }
    // Create the main keyset before calling the async init function,
    // This is because other browser-sets needs this element and the JS event
    //  handled wont wait for the async function to finish.
    void this.getZenKeyset();

    this._hasCleared = Services.prefs.getBoolPref(
      "zen.keyboard.shortcuts.disable-mainkeyset-clear",
      false
    );
    window.addEventListener("zen-devtools-keyset-added", this._hasAddedDevtoolShortcuts.bind(this));

    this.init();
  },

  async init() {
    if (this.inBrowserView) {
      const loadedShortcuts = await this._loadSaved();

      this._currentShortcutList = this.versioner.fixedKeyboardShortcuts(loadedShortcuts);
      this._applyShortcuts();

      await this._saveShortcuts();
      window.dispatchEvent(new Event("ZenKeyboardShortcutsReady", { bubbles: true }));
    }
  },

  get inBrowserView() {
    return window.location.href == "chrome://browser/content/browser.xhtml";
  },

  async _loadSaved() {
    var innerLoad = async () => {
      let data = await this.loader.load();
      if (!data || !data.length) {
        return null;
      }

      try {
        return KeyShortcut.parseFromSaved(data);
      } catch (e) {
        console.error("Zen CKS: Error parsing saved shortcuts. Resetting to defaults...", e);
        gNotificationBox.appendNotification(
          "zen-shortcuts-corrupted",
          {
            label: { "l10n-id": "zen-shortcuts-corrupted" },
            image: "chrome://browser/skin/notification-icons/persistent-storage-blocked.svg",
            priority: gNotificationBox.PRIORITY_WARNING_HIGH,
          },
          []
        );
        return null;
      }
    };

    const loadedShortcuts = await innerLoad();
    this.versioner = new nsZenKeyboardShortcutsVersioner(loadedShortcuts);
    return loadedShortcuts;
  },

  getZenKeyset(browser = window) {
    if (!browser.gZenKeyboardShortcutsManager._zenKeyset) {
      const existingKeyset = browser.document.getElementById(ZEN_KEYSET_ID);
      if (existingKeyset) {
        browser.gZenKeyboardShortcutsManager._zenKeyset = existingKeyset;
        return browser.gZenKeyboardShortcutsManager._zenKeyset;
      }

      throw new Error("Zen keyset not found");
    }
    return browser.gZenKeyboardShortcutsManager._zenKeyset;
  },

  getZenDevtoolsKeyset() {
    // note: we use `this` here because we are in the context of the browser
    if (!this._zenDevtoolsKeyset) {
      const id = `zen-${ZEN_DEVTOOLS_KEYSET_ID}`;
      const existingKeyset = document.getElementById(id);
      if (existingKeyset) {
        this._zenDevtoolsKeyset = existingKeyset;
        return existingKeyset;
      }

      this._zenDevtoolsKeyset = document.createXULElement("keyset");
      this._zenDevtoolsKeyset.id = id;

      const mainKeyset = document.getElementById(ZEN_DEVTOOLS_KEYSET_ID);
      mainKeyset.before(this._zenDevtoolsKeyset);
    }
    return this._zenDevtoolsKeyset;
  },

  clearMainKeyset(element) {
    if (this._hasCleared) {
      return;
    }
    this._hasCleared = true;
    const children = element.children;
    for (let i = children.length - 1; i >= 0; i--) {
      const key = children[i];
      if (key.getAttribute("internal") == "true") {
        continue;
      }
      key.remove();
    }

    // Restore the keyset, https://searchfox.org/mozilla-central/rev/a59018f9ff34170810b43e12bf6f09a1512de7ab/dom/events/GlobalKeyListener.cpp#478
    // eslint-disable-next-line no-shadow
    const parent = element.parentElement;
    element.remove();
    parent.prepend(element);
  },

  async updatedDefaultDevtoolsShortcuts(shortcuts) {
    this._hasToLoadDefaultDevtools = false;
    this._currentShortcutList = this._currentShortcutList.concat(shortcuts);
    await this._saveShortcuts();
    this._hasAddedDevtoolShortcuts();
  },

  _hasAddedDevtoolShortcuts() {
    if (this._hasToLoadDevtools || this._hasToLoadDefaultDevtools) {
      return;
    }
    this._hasToLoadDevtools = true;
    this.triggerShortcutRebuild();
  },

  _applyShortcuts() {
    for (const browser of nsZenMultiWindowFeature.browsers) {
      let mainKeyset = browser.document.getElementById(ZEN_MAIN_KEYSET_ID);
      if (!mainKeyset) {
        throw new Error("Main keyset not found");
      }
      browser.gZenKeyboardShortcutsManager.clearMainKeyset(mainKeyset);

      const keyset = this.getZenKeyset(browser);
      keyset.innerHTML = "";

      // We dont check this anymore since we are skiping internal keys
      //if (mainKeyset.children.length > 0) {
      //  throw new Error('Child list not empty');
      //}

      for (let key of this._currentShortcutList) {
        if (key.isInternal()) {
          continue;
        }
        let child = key.toXHTMLElement(browser);
        keyset.appendChild(child);
      }

      this._applyDevtoolsShortcuts(browser);
      mainKeyset.after(keyset);
    }
  },

  _applyDevtoolsShortcuts(browser) {
    if (!browser.gZenKeyboardShortcutsManager?._hasToLoadDevtools) {
      return;
    }
    let devtoolsKeyset = browser.gZenKeyboardShortcutsManager.getZenDevtoolsKeyset(browser);
    for (let key of this._currentShortcutList) {
      if (key.getGroup() != "devTools") {
        continue;
      }
      if (nsZenKeyboardShortcutsLoader.IGNORED_DEVTOOLS_SHORTCUTS.includes(key.getID())) {
        continue;
      }
      const originalKey = browser.document.getElementById(key.getID());
      // We do not want to remove and create a new key in these cases,
      // because it will lose the event listeners.
      key.replaceWithChild(originalKey);
      // Move the key to the main keyset if it's not there, this is because
      //  changing modifiers will not work if they are under the devtools keyset
      //  for some really weird reason.
      if (originalKey.parentElement.id === ZEN_DEVTOOLS_KEYSET_ID) {
        devtoolsKeyset.prepend(originalKey);
      }
    }

    const originalDevKeyset = browser.document.getElementById(ZEN_DEVTOOLS_KEYSET_ID);
    originalDevKeyset.after(devtoolsKeyset);
  },

  async resetAllShortcuts() {
    await this.loader.remove();
    Services.prefs.clearUserPref("zen.keyboard.shortcuts.version");
  },

  async _saveShortcuts() {
    let json = [];
    for (const shortcut of this._currentShortcutList) {
      json.push(shortcut.toJSONForm());
    }

    await this.loader.save(this.versioner.getVersionedData(json));
  },

  triggerShortcutRebuild() {
    this._applyShortcuts();
  },

  async setShortcut(action, shortcut, modifiers) {
    if (!action) {
      throw new Error("Action cannot be null");
    }

    // Unsetting shortcut
    for (let targetShortcut of this._currentShortcutList) {
      if (targetShortcut.getID() != action) {
        continue;
      }
      if (!shortcut && !modifiers) {
        targetShortcut.clearKeybind();
      } else {
        targetShortcut.setNewBinding(shortcut);
        targetShortcut.setModifiers(modifiers);
      }
    }

    await this._saveShortcuts();
    this.triggerShortcutRebuild();
  },

  async getModifiableShortcuts() {
    let rv = [];

    if (!this._currentShortcutList) {
      this._currentShortcutList = await this._loadSaved();
    }

    for (let shortcut of this._currentShortcutList) {
      if (shortcut.isUserEditable()) {
        rv.push(shortcut);
      }
    }

    return rv;
  },

  checkForConflicts(shortcut, modifiers, id) {
    const realShortcut = shortcut.toLowerCase();
    for (let targetShortcut of this._currentShortcutList) {
      if (targetShortcut.getID() == id) {
        continue;
      }

      if (
        targetShortcut.getModifiers().equals(modifiers) &&
        targetShortcut.getKeyNameOrCode()?.toLowerCase() == realShortcut
      ) {
        return {
          hasConflicts: true,
          conflictShortcut: targetShortcut,
        };
      }
    }

    return {
      hasConflicts: false,
    };
  },

  getShortcutFromCommand(command) {
    for (let targetShortcut of this._currentShortcutList) {
      if (targetShortcut.getAction() == command) {
        return targetShortcut;
      }
    }
    return null;
  },

  /**
   * Get the shortcut as a display format for a given action/command.
   *
   * @param {string} command The action/command to search for
   * @returns {string|null} The shortcut as a string or null if not found
   */
  getShortcutDisplayFromCommand(command) {
    if (!command) {
      return null;
    }
    const shortcut = this.getShortcutFromCommand(command);
    if (shortcut) {
      return shortcut.toDisplayString();
    }
    return null;
  },
};



================================================
FILE: src/zen/media/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenMediaController.mjs                   (../../zen/media/ZenMediaController.mjs)
        content/browser/zen-styles/zen-media-controls.css                       (../../zen/media/zen-media-controls.css)



================================================
FILE: src/zen/media/zen-media-controls.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

#zen-media-controls-toolbar {
  --progress-height: 4px;
  --button-spacing: 2px;

  display: flex;
  min-width: 0;
  justify-content: space-between;
  background: transparent;
  container-type: inline-size;

  .toolbarbutton-1 {
    border-radius: 5px;
  }

  #zen-media-buttons-hbox {
    align-items: start;
    margin-top: -4px;
    --toolbarbutton-outer-padding: 2px;
  }

  &:not([media-sharing]) {
    #media-device-buttons {
      display: none;
    }
  }

  #media-device-buttons {
    gap: 2px;
  }

  &[media-sharing] :is(#zen-media-playback-buttons, #zen-media-mute-button) {
    display: none;
  }

  &:not([can-pip]) {
    #zen-media-info-vbox {
      width: calc(100% - 26px);
      flex-shrink: 0;
    }

    #zen-media-pip-button {
      display: none;
    }
  }

  #zen-media-prev-button,
  #zen-media-play-pause-button,
  #zen-media-next-button {
    margin: 0;
  }

  image.toolbarbutton-icon {
    padding: 5px;
    width: 26px;
    height: 26px;
  }

  #zen-media-progress-bar {
    appearance: none;
    width: 100%;
    height: var(--progress-height);
    margin: 0 8px;
    border-radius: 2px;
    background-color: rgba(255, 255, 255, 0.2);
    cursor: pointer;
    transition: height 0.15s ease-out;

    &::-moz-range-track {
      background: var(--zen-toolbar-element-bg);
      border-radius: 999px;
      height: var(--progress-height);
    }

    &::-moz-range-progress {
      background: color-mix(in srgb, var(--zen-primary-color) 70%, light-dark(black, white) 30%);
      border-radius: 999px;
      height: var(--progress-height);
    }

    &::-moz-range-thumb {
      background: color-mix(in srgb, var(--zen-primary-color) 70%, light-dark(black, white) 30%);
      border: none;
      width: calc(var(--progress-height) * 2);
      height: calc(var(--progress-height) * 2);
      border-radius: 50%;
      cursor: pointer;
      transform: scale(0);
      transition: transform 0.15s ease-out;
    }

    &:hover::-moz-range-thumb {
      transform: scale(1);
    }
  }

  &:hover {
    .show-on-hover {
      max-height: 50px;
      padding: 5px;
      margin-bottom: 0;
      opacity: 1;
      transform: translateY(0) !important;
      pointer-events: auto;
    }

    & #zen-media-info-vbox label[overflow] {
      animation: zen-back-and-forth-text 10s infinite ease-in-out;
    }
  }

  & #zen-media-focus-button::after {
    content: "";
    position: absolute;
    width: 110%;
    height: 110%;
    background-repeat: no-repeat;
    opacity: 1;
    background: url("chrome://browser/content/zen-images/note-indicator.svg") no-repeat;
    top: -70%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 0;
    pointer-events: none;
    transition: opacity 0.8s ease;
    opacity: 1;
  }

  &:is(:not(.playing:not([muted])), :hover) #zen-media-focus-button::after {
    opacity: 0;
  }

  #zen-media-focus-button {
    align-self: center;
    transition:
      opacity 0.2s ease,
      transform 0.2s ease;
    position: relative;

    & image {
      &:-moz-broken {
        content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3C/svg%3E") !important;
        background: color-mix(in srgb, var(--zen-primary-color) 70%, transparent 30%);
      }
    }
  }

  & > toolbaritem {
    flex-grow: 1;
    padding: 0;
    transition: padding 0.3s ease-out;
    position: absolute;
    left: 0;
    bottom: 0;
    padding: 4px 6px;
    border-radius: var(--border-radius-medium);
    box-shadow: var(--zen-sidebar-notification-shadow);
    background-color: var(--zen-sidebar-notification-bg);
    width: 100%;
  }

  .show-on-hover {
    max-height: 0;
    opacity: 0;
    transform: translateY(1rem);
    padding: 0 6px;
    pointer-events: none;
    transition:
      max-height 0.2s ease,
      opacity 0.2s ease,
      transform 0.2s ease,
      padding 0.2s ease;
  }

  #zen-media-current-time,
  #zen-media-duration {
    margin: 0 0 0 1px;
    font-size: x-small;
    opacity: 0.7;
    font-weight: 500;
    font-variant-numeric: tabular-nums;
  }
}

#zen-media-controls-toolbar {
  display: none;
  animation: none;
  transition: none;

  &:not([hidden]) {
    display: flex;
    height: 2.5rem;
    overflow: visible;
    position: relative;
    z-index: 2;
  }
}

#zen-media-title,
#zen-media-artist {
  align-self: start;
}

#zen-media-artist {
  opacity: 0.7;
  font-size: smaller;

  &:empty {
    display: none;
  }
}

#zen-media-title {
  height: 16px;
  font-size: math;
}

#zen-media-main-vbox,
#zen-media-info-vbox,
#zen-media-progress-hbox {
  width: 100%;
}

#zen-media-info-vbox {
  #zen-media-controls-toolbar:not([media-position-hidden]) & {
    transition-delay: 0.01s !important;
  }
  overflow-x: hidden;
  overflow-x: visible;
  white-space: nowrap;
  /* Overflow inner box shadow from the left to simulate overflow */
  mask-image: linear-gradient(to left, transparent, var(--zen-sidebar-notification-bg) 0.6em);
  min-width: 1px;

  &::before {
    content: "";
    position: absolute;
    width: 0.6em;
    background: linear-gradient(to right, var(--zen-sidebar-notification-bg) 0%, transparent 100%);
    pointer-events: none;
    top: 6px;
    left: 0;
    height: calc(100% - 6px);
    z-index: 1;
  }

  & label {
    min-height: 16px;
    margin-left: 0;
    font-weight: 500;
    position: relative; /* For the animation */
  }
}

#zen-media-main-vbox {
  height: 100%;
  justify-content: space-between;
}

#zen-media-progress-hbox {
  flex-grow: 1;
  height: 2rem;
  align-items: center;
  padding-top: 0px !important;

  #zen-media-controls-toolbar[media-position-hidden] & {
    display: none;
  }
}

#zen-media-controls-hbox {
  align-items: flex-end;
  justify-content: space-between;
  max-width: 100%;
  --toolbarbutton-outer-padding: 0;
  container: media-controls / inline-size;
  gap: 0.7rem;
}

#zen-media-playback-buttons {
  justify-content: space-between;
  max-width: 10em;
  width: 100%;
}

/* Hide #zen-media-focus-button if it doesn't fit in the toolbar */
@container media-controls (max-width: 165px) {
  #zen-media-focus-button {
    display: none;
  }
}

#zen-media-info-container {
  padding-right: 0 !important;
}

#zen-media-controls-toolbar[can-pip] {
  #zen-media-info-vbox {
    flex-shrink: 1;
  }

  #zen-media-pip-button {
    display: flex;
  }
}

:root:not([zen-sidebar-expanded="true"]) {
  #zen-media-controls-toolbar {
    display: none;
  }
}



================================================
FILE: src/zen/media/zen-media-controls.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<toolbar id="zen-media-controls-toolbar"
  class="browser-toolbar customization-target zen-sidebar-toolbar"
  context="toolbar-context-menu"
  mode="icons"
  fullscreentoolbar="true"
  hidden="true">
  <toolbaritem>
    <vbox id="zen-media-main-vbox">
      <vbox>
        <hbox id="zen-media-info-container" class="show-on-hover">
          <vbox id="zen-media-info-vbox">
            <label id="zen-media-title" fadein="true"/>
            <label id="zen-media-artist" fadein="true"/>
          </vbox>
          <hbox id="zen-media-buttons-hbox">
            <toolbarbutton id="zen-media-pip-button"
              class="toolbarbutton-1" />
            <toolbarbutton id="zen-media-close-button"
              class="toolbarbutton-1" />
          </hbox>
        </hbox>
        <hbox id="zen-media-progress-hbox"  class="show-on-hover">
          <label id="zen-media-current-time">0:00</label>
          <html:input type="range" id="zen-media-progress-bar"
            value="0" min="0" max="100" step="0.1"/>
          <label id="zen-media-duration">0:00</label>
        </hbox>
      </vbox>
      <hbox id="zen-media-controls-hbox">
        <toolbarbutton id="zen-media-focus-button"
          class="toolbarbutton-1" />
        <hbox id="zen-media-playback-buttons">
          <toolbarbutton id="zen-media-previoustrack-button"
            class="toolbarbutton-1" />
          <toolbarbutton id="zen-media-playpause-button"
            class="toolbarbutton-1" />
          <toolbarbutton id="zen-media-nexttrack-button"
            class="toolbarbutton-1" />
        </hbox>
        <toolbarbutton id="zen-media-mute-button"
          class="toolbarbutton-1" />
        <hbox id="media-device-buttons">
          <toolbarbutton id="zen-media-mute-mic-button"
            class="toolbarbutton-1" />
          <toolbarbutton id="zen-media-mute-camera-button"
            class="toolbarbutton-1" />
        </hbox>
      </hbox>
    </vbox>
  </toolbaritem>
</toolbar>



================================================
FILE: src/zen/media/ZenMediaController.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

const lazy = {};
XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "RESPECT_PIP_DISABLED",
  "media.videocontrols.picture-in-picture.respect-disablePictureInPicture",
  true
);

/**
 * Zen Media Controller, handles the small media control bar UI and interactions
 * located at the bottom of the sidebar.
 */
class nsZenMediaController {
  _currentMediaController = null;
  _currentBrowser = null;
  _mediaUpdateInterval = null;

  mediaTitle = null;
  mediaArtist = null;
  mediaControlBar = null;
  mediaProgressBar = null;
  mediaCurrentTime = null;
  mediaDuration = null;
  mediaFocusButton = null;
  mediaProgressBarContainer = null;

  supportedKeys = ["playpause", "previoustrack", "nexttrack"];
  mediaControllersMap = new Map();

  _tabTimeout = null;
  _controllerSwitchTimeout = null;

  #isSeeking = false;

  init() {
    if (!Services.prefs.getBoolPref("zen.mediacontrols.enabled", true)) {
      return;
    }

    this.mediaTitle = document.querySelector("#zen-media-title");
    this.mediaArtist = document.querySelector("#zen-media-artist");
    this.mediaControlBar = document.querySelector("#zen-media-controls-toolbar");
    this.mediaProgressBar = document.querySelector("#zen-media-progress-bar");
    this.mediaCurrentTime = document.querySelector("#zen-media-current-time");
    this.mediaDuration = document.querySelector("#zen-media-duration");
    this.mediaFocusButton = document.querySelector("#zen-media-focus-button");
    this.mediaProgressBarContainer = document.querySelector("#zen-media-progress-hbox");

    this.onPositionstateChange = this._onPositionstateChange.bind(this);
    this.onPlaybackstateChange = this._onPlaybackstateChange.bind(this);
    this.onSupportedKeysChange = this._onSupportedKeysChange.bind(this);
    this.onMetadataChange = this._onMetadataChange.bind(this);
    this.onDeactivated = this._onDeactivated.bind(this);
    this.onPipModeChange = this._onPictureInPictureModeChange.bind(this);

    this.#initEventListeners();
  }

  #initEventListeners() {
    this.mediaControlBar.addEventListener("mousedown", (event) => {
      if (event.target.closest(":is(toolbarbutton,#zen-media-progress-hbox)")) {
        return;
      }
      this.onMediaFocus();
    });

    this.mediaControlBar.addEventListener("command", (event) => {
      const button = event.target.closest("toolbarbutton");
      if (!button) {
        return;
      }
      switch (button.id) {
        case "zen-media-pip-button":
          this.onMediaPip();
          break;
        case "zen-media-close-button":
          this.onControllerClose();
          break;
        case "zen-media-focus-button":
          this.onMediaFocus();
          break;
        case "zen-media-mute-button":
          this.onMediaMute();
          break;
        case "zen-media-previoustrack-button":
          this.onMediaPlayPrev();
          break;
        case "zen-media-nexttrack-button":
          this.onMediaPlayNext();
          break;
        case "zen-media-playpause-button":
          this.onMediaToggle();
          break;
        case "zen-media-mute-mic-button":
          this.onMicrophoneMuteToggle();
          break;
        case "zen-media-mute-camera-button":
          this.onCameraMuteToggle();
          break;
      }
    });

    this.mediaProgressBar.addEventListener("input", this.onMediaSeekDrag.bind(this));
    this.mediaProgressBar.addEventListener("change", this.onMediaSeekComplete.bind(this));

    window.addEventListener("TabSelect", (event) => {
      if (this.isSharing) {
        return;
      }

      const linkedBrowser = event.target.linkedBrowser;
      this.switchController();

      if (this._currentBrowser) {
        if (linkedBrowser.browserId === this._currentBrowser.browserId) {
          if (this._tabTimeout) {
            clearTimeout(this._tabTimeout);
            this._tabTimeout = null;
          }

          this.hideMediaControls();
        } else {
          this._tabTimeout = setTimeout(() => {
            if (!this.mediaControlBar.hasAttribute("pip")) {
              this.showMediaControls();
            } else {
              this._tabTimeout = null;
            }
          }, 500);
        }
      }
    });

    const onTabDiscardedOrClosed = this.onTabDiscardedOrClosed.bind(this);

    window.addEventListener("TabClose", onTabDiscardedOrClosed);
    window.addEventListener("TabBrowserDiscarded", onTabDiscardedOrClosed);

    window.addEventListener("DOMAudioPlaybackStarted", (event) => {
      setTimeout(() => {
        if (
          this._currentMediaController?.isPlaying &&
          this.mediaControlBar.hasAttribute("hidden") &&
          !this.mediaControlBar.hasAttribute("pip")
        ) {
          const { selectedBrowser } = gBrowser;
          if (selectedBrowser.browserId !== this._currentBrowser.browserId) {
            this.showMediaControls();
          }
        }
      }, 1000);

      this.activateMediaControls(event.target.browsingContext.mediaController, event.target);
    });

    window.addEventListener("DOMAudioPlaybackStopped", () => this.updateMuteState());
  }

  onTabDiscardedOrClosed(event) {
    const { linkedBrowser } = event.target;
    const isCurrentBrowser = linkedBrowser?.browserId === this._currentBrowser?.browserId;

    if (isCurrentBrowser) {
      this.isSharing = false;
      this.hideMediaControls();
    }

    if (linkedBrowser?.browsingContext?.mediaController) {
      this.deinitMediaController(
        linkedBrowser.browsingContext.mediaController,
        true,
        isCurrentBrowser,
        true
      );
    }
  }

  async deinitMediaController(
    mediaController,
    shouldForget = true,
    shouldOverride = true,
    shouldHide = true
  ) {
    if (shouldForget && mediaController) {
      mediaController.removeEventListener("pictureinpicturemodechange", this.onPipModeChange);
      mediaController.removeEventListener("positionstatechange", this.onPositionstateChange);
      mediaController.removeEventListener("playbackstatechange", this.onPlaybackstateChange);
      mediaController.removeEventListener("supportedkeyschange", this.onSupportedKeysChange);
      mediaController.removeEventListener("metadatachange", this.onMetadataChange);
      mediaController.removeEventListener("deactivated", this.onDeactivated);

      this.mediaControllersMap.delete(mediaController.id);
    }

    if (shouldOverride) {
      this._currentMediaController = null;
      this._currentBrowser = null;

      if (this._mediaUpdateInterval) {
        clearInterval(this._mediaUpdateInterval);
        this._mediaUpdateInterval = null;
      }

      if (shouldHide) {
        await this.hideMediaControls();
      }
      this.mediaControlBar.removeAttribute("muted");
      this.mediaControlBar.classList.remove("playing");
    }
  }

  get isSharing() {
    return this.mediaControlBar.hasAttribute("media-sharing");
  }

  set isSharing(value) {
    if (this._currentBrowser?.browsingContext && !value) {
      const webRTC = this._currentBrowser.browsingContext.currentWindowGlobal.getActor("WebRTC");
      webRTC.sendAsyncMessage("webrtc:UnmuteMicrophone");
      webRTC.sendAsyncMessage("webrtc:UnmuteCamera");
    }

    if (!value) {
      this.mediaControlBar.removeAttribute("mic-muted");
      this.mediaControlBar.removeAttribute("camera-muted");
    } else {
      this.mediaControlBar.setAttribute("media-position-hidden", "");
      this.mediaControlBar.setAttribute("media-sharing", "");
    }
  }

  hideMediaControls() {
    if (this.mediaControlBar.hasAttribute("hidden")) {
      return;
    }

    gZenUIManager.motion
      .animate(
        this.mediaControlBar,
        {
          opacity: [1, 0],
          y: [0, 10],
        },
        {
          duration: 0.1,
        }
      )
      .then(() => {
        this.mediaControlBar.setAttribute("hidden", "true");
        this.mediaControlBar.removeAttribute("media-sharing");
        gZenUIManager.updateTabsToolbar();
      });
  }

  showMediaControls() {
    if (!this.mediaControlBar.hasAttribute("hidden")) {
      return;
    }

    if (!this.isSharing) {
      if (!this._currentMediaController) {
        return;
      }
      if (this._currentMediaController.isBeingUsedInPIPModeOrFullscreen) {
        this.hideMediaControls();
        return;
      }

      this.updatePipButton();
    }

    const mediaInfoElements = [this.mediaTitle, this.mediaArtist];
    for (const element of mediaInfoElements) {
      element.removeAttribute("overflow"); // So we can properly recalculate the overflow
    }

    this.mediaControlBar.removeAttribute("hidden");
    window.requestAnimationFrame(() => {
      this.mediaControlBar.style.height =
        this.mediaControlBar.querySelector("toolbaritem").getBoundingClientRect().height + "px";
      this.mediaControlBar.style.opacity = 0;
      gZenUIManager.updateTabsToolbar();
      gZenUIManager.motion.animate(
        this.mediaControlBar,
        {
          opacity: [0, 1],
          y: [10, 0],
        },
        {}
      );
      this.addLabelOverflows(mediaInfoElements);
    });
  }

  addLabelOverflows(elements) {
    for (const element of elements) {
      // eslint-disable-next-line no-shadow
      const parent = element.parentElement;
      if (element.scrollWidth > parent.clientWidth) {
        element.setAttribute("overflow", "");
      } else {
        element.removeAttribute("overflow");
      }
    }
  }

  setupMediaController(mediaController, browser) {
    this._currentMediaController = mediaController;
    this._currentBrowser = browser;

    this.updatePipButton();
  }

  setupMediaControlUI(metadata, positionState) {
    this.updatePipButton();

    if (
      !this.mediaControlBar.classList.contains("playing") &&
      this._currentMediaController.isPlaying
    ) {
      this.mediaControlBar.classList.add("playing");
    }

    const iconURL =
      this._currentBrowser.mIconURL || `page-icon:${this._currentBrowser.currentURI.spec}`;
    this.mediaFocusButton.style.listStyleImage = `url(${iconURL})`;

    this.mediaTitle.textContent = metadata.title || "";
    this.mediaArtist.textContent = metadata.artist || "";

    gZenUIManager.updateTabsToolbar();

    this._currentPosition = positionState.position;
    this._currentDuration = positionState.duration;
    this._currentPlaybackRate = positionState.playbackRate;

    this.updateMediaPosition();

    for (const key of this.supportedKeys) {
      const button = this.mediaControlBar.querySelector(`#zen-media-${key}-button`);
      button.disabled = !this._currentMediaController.supportedKeys.includes(key);
    }
  }

  activateMediaControls(mediaController, browser) {
    this.updateMuteState();
    this.switchController();

    if (!mediaController.isActive || this._currentBrowser?.browserId === browser.browserId) {
      return;
    }

    const metadata = mediaController.getMetadata();
    const positionState = mediaController.getPositionState();
    this.mediaControllersMap.set(mediaController.id, {
      controller: mediaController,
      browser,
      position: positionState.position,
      duration: positionState.duration,
      playbackRate: positionState.playbackRate,
      lastUpdated: Date.now(),
    });

    if (!this._currentBrowser && !this.isSharing) {
      this.setupMediaController(mediaController, browser);
      this.setupMediaControlUI(metadata, positionState);
    }

    mediaController.addEventListener("pictureinpicturemodechange", this.onPipModeChange);
    mediaController.addEventListener("positionstatechange", this.onPositionstateChange);
    mediaController.addEventListener("playbackstatechange", this.onPlaybackstateChange);
    mediaController.addEventListener("supportedkeyschange", this.onSupportedKeysChange);
    mediaController.addEventListener("metadatachange", this.onMetadataChange);
    mediaController.addEventListener("deactivated", this.onDeactivated);
  }

  activateMediaDeviceControls(browser) {
    if (browser?.browsingContext.currentWindowGlobal.hasActivePeerConnections()) {
      this.mediaControlBar.removeAttribute("can-pip");
      this._currentBrowser = browser;

      const tab = window.gBrowser.getTabForBrowser(browser);
      const iconURL = browser.mIconURL || `page-icon:${browser.currentURI.spec}`;

      this.isSharing = true;

      this.mediaFocusButton.style.listStyleImage = `url(${iconURL})`;
      this.mediaTitle.textContent = tab.label;
      this.mediaArtist.textContent = "";

      this.showMediaControls();
    }
  }

  updateMediaSharing(data) {
    const { windowId, showCameraIndicator, showMicrophoneIndicator } = data;

    for (const browser of window.gBrowser.browsers) {
      const isMatch = browser.innerWindowID === windowId;
      const isCurrentBrowser = this._currentBrowser?.browserId === browser.browserId;
      const shouldShow = showCameraIndicator || showMicrophoneIndicator;

      if (!isMatch) {
        continue;
      }
      if (shouldShow && !(isCurrentBrowser && this.isSharing)) {
        const webRTC = browser.browsingContext.currentWindowGlobal.getActor("WebRTC");
        webRTC.sendAsyncMessage("webrtc:UnmuteMicrophone");
        webRTC.sendAsyncMessage("webrtc:UnmuteCamera");

        if (this._currentBrowser) {
          this.isSharing = false;
        }
        if (this._currentMediaController) {
          this._currentMediaController.pause();
          this.deinitMediaController(this._currentMediaController, true, true).then(() =>
            this.activateMediaDeviceControls(browser)
          );
        } else {
          this.activateMediaDeviceControls(browser);
        }
      } else if (!shouldShow && isCurrentBrowser && this.isSharing) {
        this.isSharing = false;
        this._currentBrowser = null;
        this.hideMediaControls();
      }

      break;
    }
  }

  _onDeactivated(event) {
    this.deinitMediaController(
      event.target,
      true,
      event.target.id === this._currentMediaController.id,
      true
    );
    this.switchController();
  }

  _onPlaybackstateChange() {
    if (this._currentMediaController?.isPlaying) {
      this.mediaControlBar.classList.add("playing");
    } else {
      this.switchController();
      this.mediaControlBar.classList.remove("playing");
    }
  }

  _onSupportedKeysChange(event) {
    if (event.target.id !== this._currentMediaController?.id) {
      return;
    }
    for (const key of this.supportedKeys) {
      const button = this.mediaControlBar.querySelector(`#zen-media-${key}-button`);
      button.disabled = !event.target.supportedKeys.includes(key);
    }
  }

  _onPositionstateChange(event) {
    const mediaController = this.mediaControllersMap.get(event.target.id);
    this.mediaControllersMap.set(event.target.id, {
      ...mediaController,
      position: event.position,
      duration: event.duration,
      playbackRate: event.playbackRate,
      lastUpdated: Date.now(),
    });

    if (event.target.id !== this._currentMediaController?.id) {
      return;
    }

    this._currentPosition = event.position;
    this._currentDuration = event.duration;
    this._currentPlaybackRate = event.playbackRate;

    this.updateMediaPosition();
  }

  switchController(force = false) {
    let timeout = 3000;

    if (this.isSharing) {
      return;
    }
    if (this.#isSeeking) {
      return;
    }

    if (this._controllerSwitchTimeout) {
      clearTimeout(this._controllerSwitchTimeout);
      this._controllerSwitchTimeout = null;
    }

    if (this.mediaControllersMap.size === 1) {
      timeout = 0;
    }
    this._controllerSwitchTimeout = setTimeout(() => {
      if (!this._currentMediaController?.isPlaying || force) {
        const nextController = Array.from(this.mediaControllersMap.values())
          .filter(
            (ctrl) =>
              ctrl.controller.isPlaying &&
              gBrowser.selectedBrowser.browserId !== ctrl.browser.browserId &&
              ctrl.controller.id !== this._currentMediaController?.id
          )
          .sort((a, b) => b.lastUpdated - a.lastUpdated)
          .shift();

        if (nextController) {
          this.deinitMediaController(this._currentMediaController, false, true).then(() => {
            this.setupMediaController(nextController.controller, nextController.browser);
            const elapsedTime = Math.floor((Date.now() - nextController.lastUpdated) / 1000);

            this.setupMediaControlUI(nextController.controller.getMetadata(), {
              position:
                nextController.position + (nextController.controller.isPlaying ? elapsedTime : 0),
              duration: nextController.duration,
              playbackRate: nextController.playbackRate,
            });

            this.showMediaControls();
          });
        }
      }

      this._controllerSwitchTimeout = null;
    }, timeout);
  }

  updateMediaPosition() {
    if (this._mediaUpdateInterval) {
      clearInterval(this._mediaUpdateInterval);
      this._mediaUpdateInterval = null;
    }

    if (this._currentDuration >= 900_000) {
      this.mediaControlBar.setAttribute("media-position-hidden", "true");
      return;
    }
    this.mediaControlBar.removeAttribute("media-position-hidden");

    if (!this._currentDuration) {
      return;
    }

    this.mediaCurrentTime.textContent = this.formatSecondsToTime(this._currentPosition);
    this.mediaDuration.textContent = this.formatSecondsToTime(this._currentDuration);
    this.mediaProgressBar.value = (this._currentPosition / this._currentDuration) * 100;

    this._mediaUpdateInterval = setInterval(() => {
      if (this._currentMediaController?.isPlaying) {
        this._currentPosition += 1 * this._currentPlaybackRate;
        if (this._currentPosition > this._currentDuration) {
          this._currentPosition = this._currentDuration;
        }
        this.mediaCurrentTime.textContent = this.formatSecondsToTime(this._currentPosition);
        this.mediaProgressBar.value = (this._currentPosition / this._currentDuration) * 100;
      } else {
        clearInterval(this._mediaUpdateInterval);
        this._mediaUpdateInterval = null;
      }
    }, 1000);
  }

  formatSecondsToTime(seconds) {
    if (!seconds || isNaN(seconds)) {
      return "0:00";
    }

    const totalSeconds = Math.max(0, Math.ceil(seconds));
    const hours = Math.floor(totalSeconds / 3600);
    const minutes = Math.floor((totalSeconds % 3600) / 60).toString();
    const secs = (totalSeconds % 60).toString();

    if (hours > 0) {
      return `${hours}:${minutes.padStart(2, "0")}:${secs.padStart(2, "0")}`;
    }

    return `${minutes}:${secs.padStart(2, "0")}`;
  }

  _onMetadataChange(event) {
    if (event.target.id !== this._currentMediaController?.id) {
      return;
    }
    this.updatePipButton();

    const metadata = event.target.getMetadata();
    this.mediaTitle.textContent = metadata.title || "";
    this.mediaArtist.textContent = metadata.artist || "";

    const mediaInfoElements = [this.mediaTitle, this.mediaArtist];
    for (const element of mediaInfoElements) {
      element.removeAttribute("overflow");
    }

    this.addLabelOverflows(mediaInfoElements);
  }

  _onPictureInPictureModeChange(event) {
    if (event.target.id !== this._currentMediaController?.id) {
      return;
    }
    if (event.target.isBeingUsedInPIPModeOrFullscreen) {
      this.hideMediaControls();
      this.mediaControlBar.setAttribute("pip", "");
    } else {
      const { selectedBrowser } = gBrowser;
      if (selectedBrowser.browserId !== this._currentBrowser.browserId) {
        this.showMediaControls();
      }

      this.mediaControlBar.removeAttribute("pip");
    }
  }

  onMediaPlayPrev() {
    if (this._currentMediaController?.supportedKeys.includes("previoustrack")) {
      this._currentMediaController.prevTrack();
    }
  }

  onMediaPlayNext() {
    if (this._currentMediaController?.supportedKeys.includes("nexttrack")) {
      this._currentMediaController.nextTrack();
    }
  }

  onMediaSeekDrag(event) {
    this.#isSeeking = true;

    this._currentMediaController?.pause();
    const newTime = (event.target.value / 100) * this._currentDuration;
    this.mediaCurrentTime.textContent = this.formatSecondsToTime(newTime);
  }

  onMediaSeekComplete(event) {
    const newPosition = (event.target.value / 100) * this._currentDuration;
    if (this._currentMediaController?.supportedKeys.includes("seekto")) {
      this._currentMediaController.seekTo(newPosition);
      this._currentMediaController.play();
    }

    this.#isSeeking = false;
  }

  onMediaFocus() {
    if (!this._currentBrowser) {
      return;
    }

    if (this._currentMediaController) {
      this._currentMediaController.focus();
    } else if (this._currentBrowser) {
      const tab = window.gBrowser.getTabForBrowser(this._currentBrowser);
      if (tab) {
        window.gZenWorkspaces.switchTabIfNeeded(tab);
      }
    }
  }

  onMediaMute() {
    const tab = window.gBrowser.getTabForBrowser(this._currentBrowser);
    if (tab) {
      tab.toggleMuteAudio();
      this.updateMuteState();
    }
  }

  onMediaToggle() {
    if (this.mediaControlBar.classList.contains("playing")) {
      this._currentMediaController?.pause();
    } else {
      this._currentMediaController?.play();
    }
  }

  onControllerClose() {
    if (this._currentMediaController) {
      this._currentMediaController.pause();
      this.deinitMediaController(this._currentMediaController);
    } else if (this.isSharing) {
      this.isSharing = false;
    }

    this.hideMediaControls();
    this.switchController(true);
  }

  onMediaPip() {
    this._currentBrowser.browsingContext.currentWindowGlobal
      .getActor("PictureInPictureLauncher")
      .sendAsyncMessage("PictureInPicture:KeyToggle");
  }

  onMicrophoneMuteToggle() {
    if (this._currentBrowser) {
      const shouldMute = this.mediaControlBar.hasAttribute("mic-muted")
        ? "webrtc:UnmuteMicrophone"
        : "webrtc:MuteMicrophone";

      this._currentBrowser.browsingContext.currentWindowGlobal
        .getActor("WebRTC")
        .sendAsyncMessage(shouldMute);
      this.mediaControlBar.toggleAttribute("mic-muted");
    }
  }

  onCameraMuteToggle() {
    if (this._currentBrowser) {
      const shouldMute = this.mediaControlBar.hasAttribute("camera-muted")
        ? "webrtc:UnmuteCamera"
        : "webrtc:MuteCamera";

      this._currentBrowser.browsingContext.currentWindowGlobal
        .getActor("WebRTC")
        .sendAsyncMessage(shouldMute);
      this.mediaControlBar.toggleAttribute("camera-muted");
    }
  }

  updateMuteState() {
    if (!this._currentBrowser) {
      return;
    }
    this.mediaControlBar.toggleAttribute("muted", this._currentBrowser.audioMuted);
  }

  updatePipButton() {
    if (!this._currentBrowser) {
      return;
    }
    if (this.isSharing) {
      return;
    }

    const { totalPipCount, totalPipDisabled } = PictureInPicture.getEligiblePipVideoCount(
      this._currentBrowser
    );
    const canPip = totalPipCount === 1 || (totalPipDisabled > 0 && lazy.RESPECT_PIP_DISABLED);

    this.mediaControlBar.toggleAttribute("can-pip", canPip);
  }
}

window.gZenMediaController = new nsZenMediaController();



================================================
FILE: src/zen/mods/components.conf
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

Classes = [
    {
        'cid': '{a0ee4792-b186-4497-936d-53a8989fe836}',
        'interfaces': ['nsIZenModsBackend'],
        'contract_ids': ['@mozilla.org/zen/mods-backend;1'],
        'type': 'zen::nsZenModsBackend',
        'headers': ['mozilla/nsZenModsBackend.h'],
        'processes': ProcessSelector.MAIN_PROCESS_ONLY,
    },
]



================================================
FILE: src/zen/mods/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenMods.mjs                              (../../zen/mods/ZenMods.mjs)



================================================
FILE: src/zen/mods/moz.build
================================================
#
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

FINAL_TARGET_FILES.actors += [
    "actors/ZenModsMarketplaceChild.sys.mjs",
    "actors/ZenModsMarketplaceParent.sys.mjs",
]

XPIDL_SOURCES += [
    "nsIZenModsBackend.idl",
]

EXPORTS.mozilla += [
    "nsZenModsBackend.h",
    "ZenStyleSheetCache.h",
]

SOURCES += [
    "nsZenModsBackend.cpp",
    "ZenStyleSheetCache.cpp",
]

XPCOM_MANIFESTS += [
    "components.conf",
]

include("/ipc/chromium/chromium-config.mozbuild")

LOCAL_INCLUDES += [
    "/dom/base",
    "/dom/ipc",
]

FINAL_LIBRARY = "xul"
XPIDL_MODULE = "zen_mods"



================================================
FILE: src/zen/mods/nsIZenModsBackend.idl
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "nsISupports.idl"
#include "nsIURI.idl"

%{C++
#include "mozilla/ServoStyleSet.h"
#include "mozilla/dom/Document.h"
%}

/**
 * @brief Interface for Zen mods backend.
 */
[scriptable, uuid(a0ee4792-b186-4497-936d-53a8989fe836)]
interface nsIZenModsBackend : nsISupports {
  /**
   * @brief Unregister and register the mods stylesheet.
   * This is called when we need to recalculate the mods stylesheets.
   * @returns void
   */
  void rebuildModsStyles(in ACString aContents);
};




================================================
FILE: src/zen/mods/nsZenModsBackend.cpp
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "nsZenModsBackend.h"

#include "nsIXULRuntime.h"
#include "nsStyleSheetService.h"

#include "mozilla/PresShell.h"
#include "mozilla/dom/ContentParent.h"

#include "nsIURI.h"
#include "nsIFile.h"

#include "ZenStyleSheetCache.h"

namespace zen {

namespace {
/// @brief Helper function to get the singleton instance of ZenStyleSheetCache.
/// @return A pointer to the singleton instance of ZenStyleSheetCache.
static auto GetZenStyleSheetCache() -> ZenStyleSheetCache* {
  return ZenStyleSheetCache::Singleton();
}
}

// Use the macro to inject all of the definitions for nsISupports.
NS_IMPL_ISUPPORTS(nsZenModsBackend, nsIZenModsBackend)

nsZenModsBackend::nsZenModsBackend() {
  (void)CheckEnabled();
}

auto nsZenModsBackend::CheckEnabled() -> void {
  // Check if the mods backend is enabled based on the preference.
  nsCOMPtr<nsIXULRuntime> appInfo =
      do_GetService("@mozilla.org/xre/app-info;1");
  bool inSafeMode = false;
  if (appInfo) {
    appInfo->GetInSafeMode(&inSafeMode);
  }
  mEnabled = !inSafeMode &&
             !mozilla::Preferences::GetBool("zen.themes.disable-all", false);
}

auto nsZenModsBackend::RebuildModsStyles(const nsACString& aContents) -> nsresult {
  // Notify that the mods stylesheets have been rebuilt.
  return GetZenStyleSheetCache()->RebuildModsStylesheets(aContents);
}

} // namespace: zen

auto nsStyleSheetService::ZenMarkStylesAsChanged() -> void {
  for (auto& presShell : mPresShells) {
    if (presShell) {
      if (auto doc = presShell->GetDocument(); doc && doc->IsInChromeDocShell()) {
        // Notify the document that styles have changed.
        doc->ApplicableStylesChanged();
      }
    }
  }
}



================================================
FILE: src/zen/mods/nsZenModsBackend.h
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#ifndef mozilla_ZenModsBackend_h__
#define mozilla_ZenModsBackend_h__

#include "nsIZenModsBackend.h"
#include "nsIZenCommonUtils.h"

#include "mozilla/ServoStyleSet.h"
#include "mozilla/dom/Document.h"

namespace zen {

class nsZenModsBackend final : public nsIZenModsBackend {
  NS_DECL_ISUPPORTS
  NS_DECL_NSIZENMODSBACKEND

 public:
  explicit nsZenModsBackend();

 protected:
  /**
   * @brief Check for the preference and see if the app is on safe mode.
   */
  auto CheckEnabled() -> void;

 private:
  ~nsZenModsBackend() = default;
  bool mEnabled = false;
};

} // namespace zen

#endif



================================================
FILE: src/zen/mods/ZenMods.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

import {
  nsZenPreloadedFeature,
  nsZenMultiWindowFeature,
} from "chrome://browser/content/zen-components/ZenCommonUtils.mjs";

/**
 * Zen Mods Manager, handles downloading, updating and applying Zen Mods.
 *
 * @augments nsZenPreloadedFeature
 */
class nsZenMods extends nsZenPreloadedFeature {
  // private properties start
  #kZenStylesheetModHeader = "/* Zen Mods - Generated by ZenMods.";
  #kZenStylesheetModHeaderBody = `* DO NOT EDIT THIS FILE DIRECTLY!
* Your changes will be overwritten.
* Instead, go to the preferences and edit the mods there.
*/
`;
  #kZenStylesheetModFooter = `
/* End of Zen Mods */
`;
  #getCurrentDateTime = () =>
    new Intl.DateTimeFormat("en-US", {
      dateStyle: "full",
      timeStyle: "full",
    }).format(new Date().getTime());

  constructor() {
    super();
  }

  // Stylesheet service
  #_modsBackend = null;

  get #modsBackend() {
    if (!this.#_modsBackend) {
      this.#_modsBackend = Cc["@mozilla.org/zen/mods-backend;1"].getService(Ci.nsIZenModsBackend);
    }
    return this.#_modsBackend;
  }

  get #styleSheetPath() {
    return PathUtils.join(PathUtils.profileDir, "chrome", "zen-themes.css");
  }

  async #handleDisableMods() {
    await this.#rebuildModsStylesheet();
  }

  #getStylesheetPathForMod(mod) {
    return PathUtils.join(this.getModFolder(mod.id), "chrome.css");
  }

  async #readStylesheet() {
    const path = this.modsRootPath;
    if (!(await IOUtils.exists(path))) {
      return "";
    }
    return await IOUtils.readUTF8(this.#styleSheetPath);
  }

  async #insertStylesheet() {
    try {
      const content = await this.#readStylesheet();
      this.#modsBackend.rebuildModsStyles(content);
    } catch (e) {
      console.warn("[ZenMods]: Error rebuilding mods styles:", e);
    }
  }

  async #rebuildModsStylesheet() {
    const mods = await this.#getEnabledMods();

    await this.#writeStylesheet(mods);

    const modsWithPreferences = await Promise.all(
      mods.map(async (mod) => {
        const preferences = await this.getModPreferences(mod);

        return {
          name: mod.name,
          enabled: mod.enabled,
          preferences,
        };
      })
    );

    this.#setDefaults(modsWithPreferences);
    this.#writeToDom(modsWithPreferences);

    await this.#insertStylesheet();
  }

  async #getEnabledMods() {
    if (Services.prefs.getBoolPref("zen.themes.disable-all", false)) {
      // eslint-disable-next-line no-console
      console.info("[ZenMods]: Mods are disabled by user preference.");
      return [];
    }
    const modsObject = await this.getMods();
    const mods = Object.values(modsObject).filter(
      (mod) => mod.enabled === undefined || mod.enabled
    );

    // eslint-disable-next-line no-shadow
    const modList = mods.map(({ name }) => name).join(", ");

    const message =
      modList !== ""
        ? `[ZenMods]: Loading enabled Zen mods: ${modList}.`
        : "[ZenMods]: No enabled Zen mods.";

    console.warn(message);

    return mods;
  }

  #setDefaults(modsWithPreferences) {
    for (const { preferences, enabled } of modsWithPreferences) {
      if (enabled !== undefined && !enabled) {
        continue;
      }

      for (const { type, property, defaultValue } of preferences) {
        if (defaultValue === undefined) {
          continue;
        }

        const getProperty =
          type === "checkbox" ? Services.prefs.getBoolPref : Services.prefs.getStringPref;
        const setProperty =
          type === "checkbox" ? Services.prefs.setBoolPref : Services.prefs.setStringPref;

        try {
          getProperty(property);
        } catch {
          console.warn(
            `[ZenMods]: Setting default value for ${property} to ${defaultValue} (${typeof defaultValue})`
          );

          if (
            typeof defaultValue !== "boolean" &&
            typeof defaultValue !== "string" &&
            typeof defaultValue !== "number"
          ) {
            console.warn(
              `[ZenMods]: Warning, invalid data type received (${typeof defaultValue}), skipping.`
            );
            continue;
          }

          setProperty(
            property,
            typeof defaultValue === "boolean" ? defaultValue : defaultValue.toString()
          );
        }
      }
    }
  }

  #writeToDom(modsWithPreferences) {
    for (const browser of nsZenMultiWindowFeature.browsers) {
      // eslint-disable-next-line no-shadow
      for (const { enabled, preferences, name } of modsWithPreferences) {
        const sanitizedName = this.sanitizeModName(name);

        if (enabled !== undefined && !enabled) {
          const element = browser.document.getElementById(sanitizedName);

          if (element) {
            element.remove();
          }

          for (const { property } of preferences.filter(({ type }) => type !== "checkbox")) {
            const sanitizedProperty = property?.replaceAll(/\./g, "-");

            browser.document.querySelector(":root").style.removeProperty(`--${sanitizedProperty}`);
          }

          continue;
        }

        for (const { property, type } of preferences) {
          const value = Services.prefs.getStringPref(property, "");
          const sanitizedProperty = property?.replaceAll(/\./g, "-");

          switch (type) {
            case "dropdown": {
              if (value !== "") {
                let element = browser.document.getElementById(sanitizedName);

                if (!element) {
                  element = browser.document.createElement("div");

                  element.style.display = "none";
                  element.setAttribute("id", sanitizedName);

                  browser.document.body.appendChild(element);
                }

                element.setAttribute(sanitizedProperty, value);
              }
              break;
            }

            case "string": {
              if (value === "") {
                browser.document
                  .querySelector(":root")
                  .style.removeProperty(`--${sanitizedProperty}`);
              } else {
                browser.document
                  .querySelector(":root")
                  .style.setProperty(`--${sanitizedProperty}`, value);
              }
              break;
            }
          }
        }
      }
    }
  }

  async #writeStylesheet(modList = []) {
    const mods = [];

    for (let mod of modList) {
      mod._filePath = this.#getStylesheetPathForMod(mod);
      mods.push(mod);
    }

    let content = this.#kZenStylesheetModHeader;
    content += `\n* FILE GENERATED AT: ${this.#getCurrentDateTime()}\n`;
    content += this.#kZenStylesheetModHeaderBody;

    for (let mod of mods) {
      if (mod.enabled !== undefined && !mod.enabled) {
        continue;
      }

      content += `\n/* Name: ${mod.name} */\n`;
      content += `/* Description: ${mod.description} */\n`;
      content += `/* Author: @${mod.author} */\n`;

      if (mod._readmeURL) {
        content += `/* Readme: ${mod.readme} */\n`;
      }

      const chromeContent = await IOUtils.readUTF8(mod._filePath);
      content += chromeContent;
    }

    content += this.#kZenStylesheetModFooter;

    const buffer = new TextEncoder().encode(content);

    await IOUtils.write(this.#styleSheetPath, buffer);
  }

  #compareVersions(version1, version2) {
    let result = false;

    if (typeof version1 !== "object") {
      version1 = version1.toString().split(".");
    }

    if (typeof version2 !== "object") {
      version2 = version2.toString().split(".");
    }

    for (let i = 0; i < Math.max(version1.length, version2.length); i++) {
      if (version1[i] == undefined) {
        version1[i] = 0;
      }
      if (version2[i] == undefined) {
        version2[i] = 0;
      }
      if (Number(version1[i]) < Number(version2[i])) {
        result = true;
        break;
      }
      if (version1[i] != version2[i]) {
        break;
      }
    }
    return result;
  }

  #composeModApiUrl(modId) {
    // keeping theme here as it would require changes to CI to change the name
    return `https://zen-browser.github.io/theme-store/themes/${modId}/theme.json`;
  }

  async #downloadUrlToFile(url, path, maxRetries = 3, retryDelayMs = 500) {
    let attempt = 0;

    while (attempt < maxRetries) {
      try {
        const response = await fetch(url);

        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status} for url: ${url}`);
        }

        const data = await response.text();

        // convert the data into a Uint8Array
        const buffer = new TextEncoder().encode(data);
        await IOUtils.write(path, buffer);

        return; // to exit the loop
      } catch (e) {
        attempt++;
        if (attempt >= maxRetries) {
          console.error("[ZenMods]: Error downloading file after retries", url, e);
        } else {
          console.warn(
            `[ZenMods]: Download failed (attempt ${attempt} of ${maxRetries}), retrying in ${retryDelayMs}ms...`,
            url,
            e
          );
          await new Promise((res) => setTimeout(res, retryDelayMs));
        }
      }
    }
  }

  // private properties end

  // public properties start

  throttle(mainFunction, delay) {
    let timerFlag = null;

    return (...args) => {
      if (timerFlag === null) {
        mainFunction(...args);
        timerFlag = setTimeout(() => {
          timerFlag = null;
        }, delay);
      }
    };
  }

  debounce(mainFunction, wait) {
    let timerFlag;

    return (...args) => {
      clearTimeout(timerFlag);
      timerFlag = setTimeout(() => {
        mainFunction(...args);
      }, wait);
    };
  }

  sanitizeModName(aName) {
    // Do not change to "mod-" for backwards compatibility
    // eslint-disable-next-line no-shadow
    return `theme-${aName?.replaceAll(/\s/g, "-")?.replaceAll(/[^A-Za-z_-]+/g, "")}`;
  }

  get updatePref() {
    return "zen.mods.updated-value-observer";
  }

  get modsRootPath() {
    return PathUtils.join(PathUtils.profileDir, "chrome", "zen-themes");
  }

  get modsDataFile() {
    return PathUtils.join(PathUtils.profileDir, "zen-themes.json");
  }

  getModFolder(modId) {
    return PathUtils.join(this.modsRootPath, modId);
  }

  async getMods() {
    if (!(await IOUtils.exists(this.modsDataFile))) {
      await IOUtils.writeJSON(this.modsDataFile, {});

      return {};
    }

    let mods = {};

    try {
      mods = await IOUtils.readJSON(this.modsDataFile);

      if (mods === null || typeof mods !== "object") {
        throw new Error("Mods data file is invalid");
      }
    } catch {
      // If we have a corrupted file, reset it
      await IOUtils.writeJSON(this.modsDataFile, {});

      Services.wm
        .getMostRecentWindow("navigator:browser")
        .gZenUIManager.showToast("zen-themes-corrupted", {
          timeout: 8000,
        });
    }

    return mods;
  }

  async getModPreferences(mod) {
    const modPath = PathUtils.join(this.modsRootPath, mod.id, "preferences.json");

    if (!(await IOUtils.exists(modPath)) || !mod.preferences) {
      return [];
    }

    try {
      const preferences = await IOUtils.readJSON(modPath);

      return preferences.filter(({ disabledOn = [] }) => {
        return !disabledOn.includes(gZenOperatingSystemCommonUtils.currentOperatingSystem);
      });
    } catch (e) {
      console.error(`[ZenMods]: Error reading mod preferences for ${mod.name}:`, e);
      return [];
    }
  }

  async init() {
    try {
      await SessionStore.promiseInitialized;

      if (
        Services.prefs.getBoolPref("zen.themes.disable-all", false) ||
        Services.appinfo.inSafeMode
      ) {
        console.warn("[ZenMods]: Mods disabled by user or in safe mode.");
        return;
      }

      await this.getMods(); // Check for any errors in the themes data file
      const mods = await this.#getEnabledMods();

      const modsWithPreferences = await Promise.all(
        mods.map(async (mod) => {
          const preferences = await this.getModPreferences(mod);

          return {
            name: mod.name,
            enabled: mod.enabled,
            preferences,
          };
        })
      );

      this.#writeToDom(modsWithPreferences);

      await this.#insertStylesheet();

      this.#setNewMilestoneIfNeeded();
      if (this.#shouldAutoUpdate()) {
        requestIdleCallback(
          () => {
            if (!window.closed) {
              requestAnimationFrame(() => {
                this.checkForModsUpdates();
              });
            }
          },
          { timeout: 1000 }
        );
      }
    } catch (e) {
      console.error("[ZenMods]: Error loading Zen Mods:", e);
    }

    Services.prefs.addObserver(this.updatePref, this.#rebuildModsStylesheet.bind(this));
    Services.prefs.addObserver("zen.themes.disable-all", this.#handleDisableMods.bind(this));
  }

  #setNewMilestoneIfNeeded() {
    const previousMilestone = Services.prefs.getStringPref("zen.mods.milestone", "");
    if (previousMilestone != Services.appinfo.version) {
      Services.prefs.setStringPref("zen.mods.milestone", Services.appinfo.version);
      Services.prefs.clearUserPref("zen.mods.last-update");
    }
  }

  #shouldAutoUpdate() {
    const daysBeforeUpdate = Services.prefs.getIntPref("zen.mods.auto-update-days");
    const lastUpdatedSec = Services.prefs.getIntPref("zen.mods.last-update", -1);
    const nowSec = Math.floor(Date.now() / 1000);
    const daysSinceUpdate = (nowSec - lastUpdatedSec) / (60 * 60 * 24);

    return (
      (Services.prefs.getBoolPref("zen.mods.auto-update", true) &&
        daysSinceUpdate >= daysBeforeUpdate) ||
      lastUpdatedSec < 0
    );
  }

  async checkForModsUpdates() {
    const mods = await this.getMods();

    const updates = await Promise.all(
      Object.values(mods).map(async (currentMod) => {
        try {
          const possibleNewModVersion = await this.requestMod(currentMod.id);

          if (!possibleNewModVersion) {
            return null;
          }

          if (
            !this.#compareVersions(possibleNewModVersion.version, currentMod.version ?? "0.0.0") &&
            possibleNewModVersion.version != currentMod.version
          ) {
            console.warn(
              `[ZenMods]: Mod update found for mod ${currentMod.name} (${currentMod.id}), current: ${currentMod.version}, new: ${possibleNewModVersion.version}`
            );

            possibleNewModVersion.enabled = currentMod.enabled;

            await this.removeMod(currentMod.id, false);

            mods[currentMod.id] = possibleNewModVersion;

            return possibleNewModVersion;
          }

          return null;
        } catch (e) {
          console.error("[ZenMods]: Error checking for mod updates", e);

          return null;
        }
      })
    );

    await this.updateMods(mods);
    Services.prefs.setIntPref("zen.mods.last-update", Math.floor(Date.now() / 1000));
    return updates.filter((update) => {
      return update !== null;
    });
  }

  async removeMod(modId, triggerUpdate = true) {
    const modPath = this.getModFolder(modId);

    console.warn(`[ZenMods]: Removing mod ${modPath}`);

    await IOUtils.remove(modPath, { recursive: true, ignoreAbsent: true });

    const mods = await this.getMods();

    delete mods[modId];

    await IOUtils.writeJSON(this.modsDataFile, mods);

    if (triggerUpdate) {
      this.triggerModsUpdate();
    }
  }

  async enableMod(modId) {
    const mods = await this.getMods();
    const mod = mods[modId];

    console.warn(`[ZenMods]: Enabling mod ${mod.name}`);

    mod.enabled = true;

    await IOUtils.writeJSON(this.modsDataFile, mods);
  }

  async disableMod(modId) {
    const mods = await this.getMods();
    const mod = mods[modId];

    console.warn(`[ZenMods]: Disabling mod ${mod.name}`);

    mod.enabled = false;

    await IOUtils.writeJSON(this.modsDataFile, mods);
  }

  async updateMods(mods = undefined) {
    if (!mods) {
      mods = await this.getMods();
    }

    await IOUtils.writeJSON(this.modsDataFile, mods);
    await this.checkForModChanges();
  }

  triggerModsUpdate() {
    Services.prefs.setBoolPref(this.updatePref, !Services.prefs.getBoolPref(this.updatePref));
  }

  async installMod(mod) {
    try {
      const modPath = PathUtils.join(this.modsRootPath, mod.id);
      await IOUtils.makeDirectory(modPath, { ignoreExisting: true });

      await this.#downloadUrlToFile(mod.style, PathUtils.join(modPath, "chrome.css"));
      await this.#downloadUrlToFile(mod.readme, PathUtils.join(modPath, "readme.md"));

      if (mod.preferences) {
        await this.#downloadUrlToFile(mod.preferences, PathUtils.join(modPath, "preferences.json"));
      }
    } catch (e) {
      console.error("[ZenMods]: Error installing mod", mod.id, e);
    }
  }

  async checkForModChanges() {
    const mods = await this.getMods();

    for (const [modId, mod] of Object.entries(mods)) {
      try {
        if (!mod) {
          continue;
        }

        if (!(await IOUtils.exists(this.getModFolder(modId)))) {
          await this.installMod(mod);
        }
      } catch (e) {
        console.error("[ZenMods]: Error checking for mod changes", e);
      }
    }

    this.triggerModsUpdate();
  }

  async requestMod(modId) {
    const url = this.#composeModApiUrl(modId);

    console.warn(`[ZenMods]: Fetching mod ${modId} info from ${url}`);

    const data = await fetch(url, {
      mode: "no-cors",
    });

    if (data.ok) {
      try {
        const obj = await data.json();

        return obj;
      } catch (e) {
        console.error(`[ZenMods]: Error parsing mod ${modId} info:`, e);
      }
    } else {
      console.error(`[ZenMods]: Error fetching mod ${modId} info:`, data.status);
    }

    return null;
  }

  async isModInstalled(modId) {
    const mods = await this.getMods();
    return Boolean(mods?.[modId]);
  }

  // public properties end
}

window.gZenMods = new nsZenMods();



================================================
FILE: src/zen/mods/ZenStyleSheetCache.cpp
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "ZenStyleSheetCache.h"
#include "nsAppDirectoryServiceDefs.h"

#include "nsCOMPtr.h"
#include "nsIFile.h"
#include "nsNetUtil.h"

#include "nsStyleSheetService.h"

#include "mozilla/css/SheetParsingMode.h"
#include "mozilla/GlobalStyleSheetCache.h"
#include "mozilla/RefPtr.h"

#define GET_MODS_FILE(chromeFile, err) \
  NS_GetSpecialDirectory(NS_APP_USER_CHROME_DIR, getter_AddRefs(chromeFile)); \
  if (!chromeFile) { \
    return err; \
  } \
  chromeFile->Append(ZEN_MODS_FILENAME);

namespace zen {

using namespace mozilla;
NS_IMPL_ISUPPORTS(ZenStyleSheetCache, nsISupports)

auto ZenStyleSheetCache::GetModsSheet() -> StyleSheet* {
  if (mModsSheet) {
    // If the mods stylesheet is already loaded, return it.
    return mModsSheet;
  }
  nsCOMPtr<nsIFile> chromeFile;
  GET_MODS_FILE(chromeFile, nullptr);

  // Create the mods stylesheet if it doesn't exist.
  bool exists;
  chromeFile->Exists(&exists);
  if (!exists) {
    nsresult rv = chromeFile->Create(nsIFile::NORMAL_FILE_TYPE, 0644);
    if (NS_FAILED(rv)) {
      return nullptr;
    }
  }

  LoadSheetFile(chromeFile, css::eUserSheetFeatures);
  return mModsSheet;
}

auto ZenStyleSheetCache::LoadSheetFile(nsIFile* aFile,
                                        css::SheetParsingMode aParsingMode)
    -> void {
  nsCOMPtr<nsIURI> uri;
  NS_NewFileURI(getter_AddRefs(uri), aFile);
  if (!uri) {
    return;
  }

  RefPtr<mozilla::css::Loader> loader = new mozilla::css::Loader;
  auto result = loader->LoadSheetSync(uri, aParsingMode,
                                      css::Loader::UseSystemPrincipal::Yes);
  if (MOZ_UNLIKELY(result.isErr())) {
    return;
  }
  mModsSheet = result.unwrapOr(nullptr);
}
  
/* static */
auto ZenStyleSheetCache::Singleton() -> ZenStyleSheetCache* {
  MOZ_ASSERT(NS_IsMainThread());
  if (!gZenModsCache) {
    gZenModsCache = new ZenStyleSheetCache;
  }
  return gZenModsCache;
}

nsresult ZenStyleSheetCache::RebuildModsStylesheets(const nsACString& aContents) {
  // Re-parse the mods stylesheet. By doing so, we read 
  // Once we have the data as a nsACString, we call ReparseSheet from the
  // StyleSheet class to re-parse the stylesheet.
  auto sheet = GetModsSheet();
  if (!sheet) {
    return NS_ERROR_FAILURE;
  }
  ErrorResult aRv;
  sheet->ReparseSheet(aContents, aRv);
  if (auto sss = nsStyleSheetService::GetInstance()) {
    sss->ZenMarkStylesAsChanged();
  }
  return aRv.StealNSResult();
}


mozilla::StaticRefPtr<ZenStyleSheetCache> ZenStyleSheetCache::gZenModsCache; 

} // namespace: zen


================================================
FILE: src/zen/mods/ZenStyleSheetCache.h
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#ifndef mozilla_ZenStyleSheetCache_h__
#define mozilla_ZenStyleSheetCache_h__

#include "mozilla/css/Loader.h"
#include "mozilla/NotNull.h"
#include "mozilla/StaticPtr.h"

#ifndef ZEN_MODS_FILENAME
  #define ZEN_MODS_FILENAME u"zen-themes.css"_ns
#endif

namespace zen {

class ZenStyleSheetCache final : public nsISupports {
  using StyleSheet = mozilla::StyleSheet;

 public:
  NS_DECL_ISUPPORTS

  /**
   * @brief Get the mods stylesheet.
   * This is called when we need to get the mods stylesheets.
   * @returns The mods stylesheet.
   */
  auto GetModsSheet() -> StyleSheet*;

  /**
   * @brief Rebuild the mods stylesheets.
   * This is re-parses the mods stylesheet and applies it to all
   * the connected documents.
   * @param aContents The contents of the mods stylesheet.
   * @returns NS_OK on success, or an error code on failure.
   */
  nsresult RebuildModsStylesheets(const nsACString& aContents);

  static auto Singleton() -> ZenStyleSheetCache*;
 private:
  ZenStyleSheetCache() = default;
  ~ZenStyleSheetCache() = default;

  /**
   * @brief Load the stylesheet from the given file.
   * @param aFile The file to load the stylesheet from.
   */
  auto LoadSheetFile(nsIFile* aFile, mozilla::css::SheetParsingMode aParsingMode)
      -> void;

  static mozilla::StaticRefPtr<ZenStyleSheetCache> gZenModsCache;

  RefPtr<StyleSheet> mModsSheet;
};

} // namespace zen

#endif



================================================
FILE: src/zen/mods/actors/ZenModsMarketplaceChild.sys.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

export class ZenModsMarketplaceChild extends JSWindowActorChild {
  constructor() {
    super();
  }

  handleEvent(event) {
    if (event.type === "DOMContentLoaded") {
      const verifier = this.contentWindow.document.querySelector(
        'meta[name="zen-content-verified"]'
      );

      if (verifier) {
        verifier.setAttribute("content", "verified");
      }

      this.initiateModsMarketplace();

      this.contentWindow.document.addEventListener(
        "ZenCheckForModUpdates",
        this.checkForModUpdates.bind(this)
      );
    }
  }

  // This function will be called from about:preferences
  checkForModUpdates(event) {
    event.preventDefault();

    this.sendAsyncMessage("ZenModsMarketplace:CheckForUpdates");
  }

  initiateModsMarketplace() {
    this.contentWindow.setTimeout(() => {
      this.addButtons();
      this.injectMarketplaceAPI();
    }, 0);
  }

  get actionButton() {
    return this.contentWindow.document.getElementById("install-theme");
  }

  get actionButtonUninstall() {
    return this.contentWindow.document.getElementById("install-theme-uninstall");
  }

  async isThemeInstalled(themeId) {
    return await this.sendQuery("ZenModsMarketplace:IsModInstalled", { themeId });
  }

  async receiveMessage(message) {
    switch (message.name) {
      case "ZenModsMarketplace:ModChanged": {
        const modId = message.data.modId;
        const actionButton = this.actionButton;
        const actionButtonInstalled = this.actionButtonUninstall;

        if (actionButton && actionButtonInstalled) {
          actionButton.disabled = false;
          actionButtonInstalled.disabled = false;

          if (await this.isThemeInstalled(modId)) {
            actionButton.classList.add("hidden");
            actionButtonInstalled.classList.remove("hidden");
          } else {
            actionButton.classList.remove("hidden");
            actionButtonInstalled.classList.add("hidden");
          }
        }

        break;
      }

      case "ZenModsMarketplace:CheckForUpdatesFinished": {
        const updates = message.data.updates;

        this.contentWindow.document.dispatchEvent(
          new CustomEvent("ZenModsMarketplace:CheckForUpdatesFinished", { detail: { updates } })
        );

        break;
      }
    }
  }

  injectMarketplaceAPI() {
    Cu.exportFunction(this.handleModInstallationEvent.bind(this), this.contentWindow, {
      defineAs: "ZenInstallMod",
    });
  }

  async addButtons() {
    const actionButton = this.actionButton;
    const actionButtonUninstall = this.actionButtonUninstall;
    const errorMessage = this.contentWindow.document.getElementById("install-theme-error");
    if (!actionButton || !actionButtonUninstall) {
      return;
    }

    errorMessage.classList.add("hidden");

    const themeId = actionButton.getAttribute("zen-theme-id");
    if (await this.isThemeInstalled(themeId)) {
      actionButtonUninstall.classList.remove("hidden");
    } else {
      actionButton.classList.remove("hidden");
    }

    actionButton.addEventListener("click", this.handleModInstallationEvent.bind(this));
    actionButtonUninstall.addEventListener("click", this.handleModUninstallEvent.bind(this));
  }

  async handleModUninstallEvent(event) {
    const button = event.target;
    button.disabled = true;

    const modId = button.getAttribute("zen-theme-id");

    this.sendAsyncMessage("ZenModsMarketplace:UninstallMod", { modId });
  }

  async handleModInstallationEvent(event) {
    // Object can be an event or a theme id
    let modId;

    if (event.target) {
      const button = event.target;
      button.disabled = true;

      modId = button.getAttribute("zen-theme-id");
    } else {
      // Backwards compatibility is... Interesting
      modId = event.themeId ?? event.modId ?? event.id;
    }

    this.sendAsyncMessage("ZenModsMarketplace:InstallMod", { modId });
  }
}



================================================
FILE: src/zen/mods/actors/ZenModsMarketplaceParent.sys.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

export class ZenModsMarketplaceParent extends JSWindowActorParent {
  constructor() {
    super();
  }

  get modsManager() {
    return this.browsingContext.topChromeWindow.gZenMods;
  }

  async receiveMessage(message) {
    switch (message.name) {
      case "ZenModsMarketplace:InstallMod": {
        const modId = message.data.modId;
        const mod = await this.modsManager.requestMod(modId);

        console.warn(`[ZenModsMarketplaceParent]: Installing mod ${mod.id}`);

        mod.enabled = true;

        const mods = await this.modsManager.getMods();
        mods[mod.id] = mod;

        await this.modsManager.updateMods(mods);
        await this.updateChildProcesses(mod.id);

        break;
      }
      case "ZenModsMarketplace:UninstallMod": {
        const modId = message.data.modId;
        console.warn(`[ZenModsMarketplaceParent]: Uninstalling mod ${modId}`);

        const mods = await this.modsManager.getMods();

        delete mods[modId];

        await this.modsManager.removeMod(modId);
        await this.modsManager.updateMods(mods);

        await this.updateChildProcesses(modId);

        break;
      }
      case "ZenModsMarketplace:CheckForUpdates": {
        const updates = await this.modsManager.checkForModsUpdates();
        this.sendAsyncMessage("ZenModsMarketplace:CheckForUpdatesFinished", { updates });
        break;
      }

      case "ZenModsMarketplace:IsModInstalled": {
        const themeId = message.data.themeId;
        const themes = await this.modsManager.getMods();

        return Boolean(themes?.[themeId]);
      }
    }
    return undefined;
  }

  async updateChildProcesses(modId) {
    this.sendAsyncMessage("ZenModsMarketplace:ModChanged", { modId });
  }
}



================================================
FILE: src/zen/sessionstore/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

EXTRA_JS_MODULES.zen += [
  "ZenSessionManager.sys.mjs",
  "ZenWindowSync.sys.mjs",
]



================================================
FILE: src/zen/sessionstore/SessionComponents.manifest
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Browser global components initializing before UI startup
category browser-before-ui-startup resource:///modules/zen/ZenWindowSync.sys.mjs ZenWindowSync.init

# App shutdown consumers
category browser-quit-application-granted resource:///modules/zen/ZenWindowSync.sys.mjs ZenWindowSync.uninit



================================================
FILE: src/zen/sessionstore/ZenSessionManager.sys.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { JSONFile } from "resource://gre/modules/JSONFile.sys.mjs";
import { XPCOMUtils } from "resource://gre/modules/XPCOMUtils.sys.mjs";

const lazy = {};

ChromeUtils.defineESModuleGetters(lazy, {
  PrivateBrowsingUtils: "resource://gre/modules/PrivateBrowsingUtils.sys.mjs",
  SessionStore: "resource:///modules/sessionstore/SessionStore.sys.mjs",
  SessionStartup: "resource:///modules/sessionstore/SessionStartup.sys.mjs",
  gWindowSyncEnabled: "resource:///modules/zen/ZenWindowSync.sys.mjs",
  gSyncOnlyPinnedTabs: "resource:///modules/zen/ZenWindowSync.sys.mjs",
  DeferredTask: "resource://gre/modules/DeferredTask.sys.mjs",
});

XPCOMUtils.defineLazyPreferenceGetter(lazy, "gShouldLog", "zen.session-store.log", true);
XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "gMaxSessionBackups",
  "zen.session-store.max-backups",
  20
);
XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "gBackupHourSpan",
  "zen.session-store.backup-hour-span",
  3
);

const SHOULD_BACKUP_FILE = Services.prefs.getBoolPref("zen.session-store.backup-file", true);
const FILE_NAME = "zen-sessions.jsonlz4";

// 'browser.startup.page' preference value to resume the previous session.
const BROWSER_STARTUP_RESUME_SESSION = 3;

// The amount of time (in milliseconds) to wait for our backup regeneration
// debouncer to kick off a regeneration.
const REGENERATION_DEBOUNCE_RATE_MS = 10 * 60 * 1000; // 10 minutes

/**
 * Class representing the sidebar object stored in the session file.
 * This object holds all the data related to tabs, groups, folders
 * and split view state.
 */
class nsZenSidebarObject {
  #sidebar = {};

  get data() {
    return Cu.cloneInto(this.#sidebar, {});
  }

  set data(data) {
    if (typeof data !== "object") {
      throw new Error("Sidebar data must be an object");
    }
    this.#sidebar = data;
  }
}

export class nsZenSessionManager {
  /**
   * The JSON file instance used to read/write session data.
   *
   * @type {JSONFile}
   */
  #file = null;
  /**
   * The sidebar object holding tabs, groups, folders and split view data.
   *
   * @type {nsZenSidebarObject}
   */
  #sidebarObject = new nsZenSidebarObject();
  /**
   * A deferred task to create backups of the session file.
   */
  #deferredBackupTask = null;

  init() {
    this.log("Initializing session manager");
    let backupTo = null;
    if (SHOULD_BACKUP_FILE) {
      backupTo = PathUtils.join(this.#backupFolderPath, "recovery.baklz4");
    }
    this.#file = new JSONFile({
      path: this.#storeFilePath,
      compression: "lz4",
      backupTo,
    });
    this.log("Session file path:", this.#file.path);
    this.#deferredBackupTask = new lazy.DeferredTask(async () => {
      await this.#createBackupsIfNeeded();
    }, REGENERATION_DEBOUNCE_RATE_MS);
  }

  log(...args) {
    if (lazy.gShouldLog) {
      // eslint-disable-next-line no-console
      console.debug("ZenSessionManager:", ...args);
    }
  }

  get #storeFilePath() {
    return PathUtils.join(PathUtils.profileDir, FILE_NAME);
  }

  get #backupFolderPath() {
    return PathUtils.join(PathUtils.profileDir, "zen-sessions-backup");
  }

  /**
   * Gets the spaces data from the Places database for migration.
   * This is only called once during the first run after updating
   * to a version that uses the new session manager.
   */
  async #getDataFromDBForMigration() {
    try {
      const { PlacesUtils } = ChromeUtils.importESModule(
        "resource://gre/modules/PlacesUtils.sys.mjs"
      );
      const db = await PlacesUtils.promiseDBConnection();
      let data = {};
      let rows = await db.execute("SELECT * FROM zen_workspaces ORDER BY created_at ASC");
      try {
        data.spaces = rows.map((row) => ({
          uuid: row.getResultByName("uuid"),
          name: row.getResultByName("name"),
          icon: row.getResultByName("icon"),
          containerTabId: row.getResultByName("container_id") ?? 0,
          position: row.getResultByName("position"),
          theme: row.getResultByName("theme_type")
            ? {
                type: row.getResultByName("theme_type"),
                gradientColors: JSON.parse(row.getResultByName("theme_colors")),
                opacity: row.getResultByName("theme_opacity"),
                rotation: row.getResultByName("theme_rotation"),
                texture: row.getResultByName("theme_texture"),
              }
            : null,
        }));
      } catch (e) {
        /* ignore errors reading spaces data, as it is not critical and we want to migrate even if we fail to read it */
        console.error("Failed to read spaces data from database during migration", e);
      }
      try {
        rows = await db.execute("SELECT * FROM zen_pins ORDER BY position ASC");
        data.pins = rows.map((row) => ({
          uuid: row.getResultByName("uuid"),
          title: row.getResultByName("title"),
          url: row.getResultByName("url"),
          containerTabId: row.getResultByName("container_id"),
          workspaceUuid: row.getResultByName("workspace_uuid"),
          position: row.getResultByName("position"),
          isEssential: Boolean(row.getResultByName("is_essential")),
          isGroup: Boolean(row.getResultByName("is_group")),
          parentUuid: row.getResultByName("folder_parent_uuid"),
          editedTitle: Boolean(row.getResultByName("edited_title")),
          folderIcon: row.getResultByName("folder_icon"),
          isFolderCollapsed: Boolean(row.getResultByName("is_folder_collapsed")),
        }));
      } catch (e) {
        /* ignore errors reading pins data, as it is not critical and we want to migrate even if we fail to read it */
        console.error("Failed to read pins data from database during migration", e);
      }
      try {
        data.recoveryData = await IOUtils.readJSON(
          PathUtils.join(
            Services.dirsvc.get("ProfD", Ci.nsIFile).path,
            "sessionstore-backups",
            "recovery.jsonlz4"
          ),
          { decompress: true }
        );
        this.log("Recovered recovery data from sessionstore-backups");
      } catch {
        /* ignore errors reading recovery data */
      }
      if (!data.recoverYData) {
        try {
          data.recoveryData = await IOUtils.readJSON(
            PathUtils.join(
              Services.dirsvc.get("ProfD", Ci.nsIFile).path,
              "sessionstore-backups",
              "recovery.jsonlz4"
            ),
            { decompress: true }
          );
          this.log("Recovered recovery data from sessionstore-backups");
        } catch {
          /* ignore errors reading recovery data */
        }
      }
      this._migrationData = data;
    } catch (e) {
      /* ignore errors during migration */
      console.error(e);
    }
  }

  /**
   * Reads the session file and populates the sidebar object.
   * This should be only called once at startup.
   *
   * @see SessionFileInternal.read
   */
  async readFile() {
    let fileExists = await IOUtils.exists(this.#storeFilePath);
    if (!fileExists) {
      this.log("Session file does not exist, running migration", this.#storeFilePath);
      this._shouldRunMigration = true;
    }
    this.init();
    try {
      this.log("Reading Zen session file from disk");
      let promises = [];
      promises.push(this.#file.load());
      if (this._shouldRunMigration) {
        promises.push(this.#getDataFromDBForMigration());
      }
      await Promise.all(promises);
    } catch (e) {
      console.error("ZenSessionManager: Failed to read session file", e);
    }
    this.#sidebar = this.#file.data || {};
    if (!this.#sidebar.spaces?.length && !this._shouldRunMigration) {
      this.log("No spaces data found in session file, running migration", this.#sidebar);
      // If we have no spaces data, we should run migration
      // to restore them from the database. Note we also do a
      // check if we already planned to run migration for optimization.
      this._shouldRunMigration = true;
      await this.#getDataFromDBForMigration();
    }
    if (Services.prefs.getBoolPref("zen.session-store.log-tab-entries", false)) {
      for (const tab of this.#sidebar.tabs || []) {
        this.log("Tab entry in session file:", tab);
      }
    }
  }

  get #shouldRestoreOnlyPinned() {
    return (
      Services.prefs.getIntPref("browser.startup.page", 1) !== BROWSER_STARTUP_RESUME_SESSION ||
      lazy.PrivateBrowsingUtils.permanentPrivateBrowsing
    );
  }

  get #shouldRestoreFromCrash() {
    return (
      lazy.SessionStartup.previousSessionCrashed &&
      Services.prefs.getBoolPref("browser.sessionstore.resume_from_crash")
    );
  }

  /**
   * Called when the session file is read. Restores the sidebar data
   * into all windows.
   *
   * @param {object} initialState
   *        The initial session state read from the session file.
   */
  onFileRead(initialState) {
    // For the first time after migration, we restore the tabs
    // That where going to be restored by SessionStore. The sidebar
    // object will always be empty after migration because we haven't
    // gotten the opportunity to save the session yet.
    if (this._shouldRunMigration) {
      initialState = this.#runStateMigration(initialState);
    }
    if (!lazy.gWindowSyncEnabled) {
      if (initialState?.windows?.length && this.#shouldRestoreOnlyPinned) {
        this.log("Window sync disabled, restoring only pinned tabs");
        for (let i = 0; i < initialState.windows.length; i++) {
          let winData = initialState.windows[i];
          winData.tabs = (winData.tabs || []).filter((tab) => tab.pinned);
        }
      }
      return initialState;
    }
    const allowRestoreUnsynced = Services.prefs.getBoolPref(
      "zen.session-store.restore-unsynced-windows",
      true
    );
    if (initialState?.windows?.length && !allowRestoreUnsynced) {
      initialState.windows = initialState.windows.filter((win) => {
        if (win.isZenUnsynced) {
          this.log("Skipping unsynced window during restore");
        }
        return !win.isZenUnsynced;
      });
    }
    // If there are no windows, we create an empty one. By default,
    // firefox would create simply a new empty window, but we want
    // to make sure that the sidebar object is properly initialized.
    // This would happen on first run after having a single private window
    // open when quitting the app, for example.
    let normalWindowsExist = initialState?.windows?.some(
      (win) => !win.isPrivate && !win.isPopup && !win.isTaskbarTab && !win.isZenUnsynced
    );
    if (!initialState?.windows?.length || !normalWindowsExist) {
      this.log("No windows found in initial state, creating an empty one");
      initialState ||= {};
      initialState.windows ||= [];
      initialState.windows.push({
        tabs: [],
      });
    }
    return initialState;
  }

  /**
   * Called after @onFileRead, when session startup has crash checkpoint information available.
   * Restores the sidebar data into all windows, and runs any crash checkpoint related logic,
   * such as restoring only pinned tabs if the previous session was not crashed and the user
   * preference is set to do so.
   *
   * @param {object} initialState
   *        The initial session state read from the session file, possibly modified by onFileRead.
   */
  onCrashCheckpoints(initialState) {
    if (!lazy.gWindowSyncEnabled) {
      return;
    }
    // When we don't have browser.startup.page set to resume session,
    // we only want to restore the pinned tabs into the new windows.
    if (this.#shouldRestoreOnlyPinned && !this.#shouldRestoreFromCrash && this.#sidebar?.tabs) {
      this.log("Restoring only pinned tabs into windows");
      const sidebar = this.#sidebar;
      sidebar.tabs = (sidebar.tabs || []).filter((tab) => tab.pinned);
      this.#sidebar = sidebar;
    }
    // Restore all windows with the same sidebar object, this will
    // guarantee that all tabs, groups, folders and split view data
    // are properly synced across all windows.
    if (!this._shouldRunMigration) {
      this.log(`Restoring Zen session data into ${initialState.windows?.length || 0} windows`);
      for (let i = 0; i < initialState.windows.length; i++) {
        let winData = initialState.windows[i];
        if (winData.isZenUnsynced || winData.isPrivate || winData.isPopup || winData.isTaskbarTab) {
          continue;
        }
        this.#restoreWindowData(winData);
      }
    } else if (initialState) {
      this.log("Saving windata state after migration");
      this.saveState(Cu.cloneInto(initialState, {}), true);
    }
    delete this._shouldRunMigration;
  }

  get #sidebar() {
    return this.#sidebarObject.data;
  }

  set #sidebar(data) {
    this.#sidebarObject.data = data;
  }

  /**
   * Runs the state migration to restore spaces and pinned tabs
   * from the Places database into the initial session state.
   *
   * @param {object} initialState
   *        The initial session state read from the session file.
   */
  // eslint-disable-next-line complexity
  #runStateMigration(initialState) {
    this.log(
      "Restoring tabs from Places DB after migration",
      initialState,
      initialState?.lastSessionState,
      this._migrationData
    );
    if (!initialState?.windows?.length && this._migrationData?.recoveryData) {
      this.log("Using recovery data for migration");
      initialState = this._migrationData.recoveryData;
    }
    delete this._migrationData?.recoveryData;
    // Restore spaces into the sidebar object if we don't
    // have any yet.
    if (!this.#sidebar.spaces?.length) {
      this.#sidebar = {
        ...this.#sidebar,
        spaces: this._migrationData?.spaces || [],
      };
    }
    if (
      !initialState?.windows?.length &&
      (initialState?.lastSessionState || initialState?.deferredInitialState)
    ) {
      initialState = { ...(initialState.lastSessionState || initialState.deferredInitialState) };
    }
    // There might be cases where there are no windows in the
    // initial state, for example if the user had 'restore previous
    // session' disabled before migration. In that case, we try
    // to restore the last closed normal window.
    if (!initialState?.windows?.length) {
      let normalClosedWindow = initialState?._closedWindows?.find(
        (win) => !win.isPopup && !win.isTaskbarTab && !win.isPrivate
      );
      if (normalClosedWindow) {
        initialState.windows = [Cu.cloneInto(normalClosedWindow, {})];
        this.log("Restoring tabs from last closed normal window");
      }
    }
    if (!initialState?.windows?.length) {
      initialState ||= {};
      initialState.windows = [
        {
          tabs: [],
        },
      ];
    }
    for (const winData of initialState?.windows || []) {
      winData.spaces = this._migrationData?.spaces || [];
      if (winData.tabs) {
        for (const tabData of winData.tabs) {
          let storeId = tabData.zenSyncId || tabData.zenPinnedId;
          const pinData = this._migrationData?.pins?.find((pin) => pin.uuid === storeId);
          // We need to migrate the static label from the pin data as this information
          // was not stored in the session file before.
          if (pinData) {
            tabData.zenStaticLabel = pinData.editedTitle ? pinData.title : undefined;
          }
        }
      }
    }
    return initialState;
  }

  onRestoringClosedWindow(aWinData) {
    // We only want to save all pinned tabs if the user preference allows it.
    // See https://github.com/zen-browser/desktop/issues/12307
    if (this.#shouldRestoreOnlyPinned && aWinData?.tabs?.length) {
      this.log("Restoring only pinned tabs for closed window");
      this.#filterUnpinnedTabs(aWinData);
    }
  }

  /**
   * Filters out all unpinned tabs and groups from the given window data object.
   *
   * @param {object} aWindow - The window data object to filter.
   */
  #filterUnpinnedTabs(aWindow) {
    aWindow.tabs = aWindow.tabs.filter((tab) => tab.pinned);
    aWindow.groups = aWindow.groups?.filter((group) => group.pinned);
  }

  /**
   * Determines if a given window data object is saveable.
   *
   * @param {object} aWinData - The window data object to check.
   * @returns {boolean} True if the window is saveable, false otherwise.
   */
  #isWindowSaveable(aWinData) {
    return !aWinData.isPopup && !aWinData.isTaskbarTab && !aWinData.isZenUnsynced;
  }

  /**
   * Saves the current session state. Collects data and writes to disk.
   *
   * @param {object} state The current session state.
   * @param {boolean} soon Whether to save the file soon or immediately.
   *        If true, the file will be saved asynchronously or when quitting
   *        the app. If false, the file will be saved immediately.
   */
  saveState(state, soon = false) {
    let windows = state?.windows || [];
    windows = windows.filter((win) => this.#isWindowSaveable(win));
    if (!windows.length) {
      // Don't save (or even collect) anything in permanent private
      // browsing mode. We also don't want to save if there are no windows.
      return;
    }
    this.#collectWindowData(windows);
    // This would save the data to disk asynchronously or when quitting the app.
    let sidebar = this.#sidebar;
    this.#file.data = sidebar;
    if (soon) {
      this.#file.saveSoon();
    } else {
      this.#file._save();
    }
    this.#debounceRegeneration();
    this.log(`Saving Zen session data with ${sidebar.tabs?.length || 0} tabs`);
  }

  /**
   * Called when the last known backup should be deleted and a new one
   * created. This uses the #deferredBackupTask to debounce clusters of
   * events that might cause such a regeneration to occur.
   */
  #debounceRegeneration() {
    this.#deferredBackupTask.arm();
  }

  /**
   * Creates backups of the session file if needed. We only keep
   * a limited number of backups to avoid using too much disk space.
   * The way we are doing this is by replacing the file for today's
   * date if it already exists, otherwise we create a new one.
   * We then delete the oldest backups if we exceed the maximum
   * number of backups allowed.
   *
   * We run the next backup creation after a delay or when idling,
   * to avoid blocking the main thread during session saves.
   */
  async #createBackupsIfNeeded() {
    if (!SHOULD_BACKUP_FILE) {
      return;
    }
    try {
      const today = new Date();
      const backupFolder = this.#backupFolderPath;
      await IOUtils.makeDirectory(backupFolder, {
        ignoreExisting: true,
        createAncestors: true,
      });
      // Since backups from days ago are not that useful compared to more
      // recent ones, we would ideally want to keep more backups for recent days
      // and less for older ones. To achieve this, we create backups only
      // every few hours (configurable via gBackupHourSpan), so that we
      // can have multiple backups per day for recent days, but only
      // one backup per day for older days.
      let dateToUse = today.toISOString().slice(0, 10); // YYYY-MM-DD
      const hourSpan = Math.min(Math.max(1, lazy.gBackupHourSpan), 24);
      const backupHour = Math.floor(today.getHours() / hourSpan) * hourSpan;
      dateToUse += `-${String(backupHour).padStart(2, "0")}`;
      const todayFileName = `zen-sessions-${dateToUse}.jsonlz4`;
      const todayFilePath = PathUtils.join(backupFolder, todayFileName);
      const sessionFilePath = this.#file.path;
      this.log(`Backing up session file to ${todayFileName}`);
      await IOUtils.copy(sessionFilePath, todayFilePath, { noOverwrite: false });
      // Now we need to check if we have exceeded the maximum
      // number of backups allowed, and delete the oldest ones
      // if needed.
      let prefix = PathUtils.join(backupFolder, "zen-sessions-");
      let files = await IOUtils.getChildren(backupFolder);
      files = files.filter((file) => file.startsWith(prefix)).sort();
      for (let i = 0; i < files.length - lazy.gMaxSessionBackups; i++) {
        this.log(`Deleting old backup file ${files[i]}`);
        await IOUtils.remove(files[i]);
      }
    } catch (e) {
      console.error("ZenSessionManager: Failed to create session file backups", e);
    }
  }

  /**
   * Saves the session data for a closed window if it meets the criteria.
   * See SessionStoreInternal.maybeSaveClosedWindow for more details.
   *
   * @param {object} aWinData - The window data object to save.
   * @param {boolean} isLastWindow - Whether this is the last saveable window.
   */
  maybeSaveClosedWindow(aWinData, isLastWindow) {
    // We only want to save the *last* normal window that is closed.
    // If its not the last window, we can still update the sidebar object
    // based on other open windows.
    if (aWinData.isPopup || aWinData.isTaskbarTab || aWinData.isZenUnsynced || !isLastWindow) {
      return;
    }
    this.log("Saving closed window session data into Zen session store");
    this.saveState({ windows: [aWinData] }, true);
  }

  /**
   * Collects session data for a given window.
   *
   * @param {object} aStateWindows The array of window state objects.
   */
  #collectWindowData(aStateWindows) {
    // We only want to collect the sidebar data once from
    // a single window, as all windows share the same
    // sidebar data.
    let sidebarData = this.#sidebar;
    if (!sidebarData) {
      sidebarData = {};
    }

    sidebarData.lastCollected = Date.now();
    this.#collectTabsData(sidebarData, aStateWindows);
    this.#sidebar = sidebarData;
  }

  /**
   * Filters out tabs that are not useful to restore, such as empty tabs with no group association.
   * If removeUnpinnedTabs is true, it also filters out unpinned tabs.
   *
   * @param {Array} tabs - The array of tab data objects to filter.
   * @returns {Array} The filtered array of tab data objects.
   */
  #filterUnusedTabs(tabs) {
    return tabs.filter((tab) => {
      // We need to ignore empty tabs with no group association
      // as they are not useful to restore.
      return !(tab.zenIsEmpty && !tab.groupId);
    });
  }

  /**
   * Collects session data for all tabs in a given window.
   *
   * @param {object} sidebarData The sidebar data object to populate.
   * @param {object} aStateWindows The array of window state objects.
   */
  #collectTabsData(sidebarData, aStateWindows) {
    const tabIdRelationMap = new Map();
    for (const window of aStateWindows) {
      // Only accept the tabs with `_zenIsActiveTab` set to true from
      // every window. We do this to avoid collecting tabs with invalid
      // state when multiple windows are open. Note that if we a tab without
      // this flag set in any other window, we just add it anyway.
      for (const tabData of window.tabs || []) {
        if (!tabIdRelationMap.has(tabData.zenSyncId) || tabData._zenIsActiveTab) {
          tabIdRelationMap.set(tabData.zenSyncId, tabData);
        }
      }
    }

    sidebarData.tabs = this.#filterUnusedTabs(Array.from(tabIdRelationMap.values()));

    let firstWindow = aStateWindows[0];
    sidebarData.folders = firstWindow.folders;
    sidebarData.splitViewData = firstWindow.splitViewData;
    sidebarData.groups = firstWindow.groups;
    sidebarData.spaces = firstWindow.spaces;
  }

  /**
   * Restores the sidebar data into a given window data object.
   * We do this in order to make sure all new window objects
   * have the same sidebar data.
   *
   * @param {object} aWindowData The window data object to restore into.
   */
  #restoreWindowData(aWindowData) {
    const sidebar = this.#sidebar;
    if (!sidebar) {
      return;
    }
    // If we should only sync the pinned tabs, we should only edit the unpinned
    // tabs in the window data and keep the pinned tabs from the window data,
    // as they should be the same as the ones in the sidebar.
    if (lazy.gSyncOnlyPinnedTabs) {
      let pinnedTabs = (sidebar.tabs || []).filter((tab) => tab.pinned);
      let unpinedWindowTabs = [];
      if (!this.#shouldRestoreOnlyPinned) {
        unpinedWindowTabs = (aWindowData.tabs || []).filter((tab) => !tab.pinned);
      }
      aWindowData.tabs = [...pinnedTabs, ...unpinedWindowTabs];

      // We restore ALL the split view data in the sidebar, if the group doesn't exist in the window,
      // it should be a no-op anyways.
      aWindowData.splitViewData = [
        ...(sidebar.splitViewData || []),
        ...(aWindowData.splitViewData || []),
      ];
      // Same thing with groups, we restore all the groups from the sidebar, if they don't have any
      // existing tabs in the window, they should be a no-op.
      aWindowData.groups = [...(sidebar.groups || []), ...(aWindowData.groups || [])];
    } else {
      aWindowData.tabs = sidebar.tabs || [];
      aWindowData.splitViewData = sidebar.splitViewData;
      aWindowData.groups = sidebar.groups;
    }

    // Folders are always pinned, so we dont need to check for the pinned state here.
    aWindowData.folders = sidebar.folders;
    aWindowData.spaces = sidebar.spaces;
  }

  /**
   * Restores a new window with Zen session data. This should be called
   * not at startup, but when a new window is opened by the user.
   *
   * @param {Window} aWindow
   *        The window to restore.
   * @param {object} SessionStoreInternal
   *        The SessionStore module instance.
   * @param {boolean} fromClosedWindow
   *        Whether this new window is being restored from a closed window.
   */
  restoreNewWindow(aWindow, SessionStoreInternal, fromClosedWindow = false) {
    if (aWindow.gZenWorkspaces?.privateWindowOrDisabled) {
      return;
    }
    this.log("Restoring new window with Zen session data");
    const state = lazy.SessionStore.getCurrentState(true);
    const windows = (state.windows || []).filter(
      (win) => !win.isPrivate && !win.isPopup && !win.isTaskbarTab && !win.isZenUnsynced
    );
    let windowToClone = windows[0] || {};
    let newWindow = Cu.cloneInto(windowToClone, {});
    let shouldRestoreOnlyPinned = !lazy.gWindowSyncEnabled || lazy.gSyncOnlyPinnedTabs;
    if (windows.length < 2) {
      // We only want to restore the sidebar object if we found
      // only one normal window to clone from (which is the one
      // we are opening).
      this.log("Restoring sidebar data into new window");
      this.#restoreWindowData(newWindow);
      shouldRestoreOnlyPinned ||= this.#shouldRestoreOnlyPinned;
    }
    newWindow.tabs = this.#filterUnusedTabs(newWindow.tabs || []);
    if (shouldRestoreOnlyPinned) {
      // Don't bring over any unpinned tabs if window sync is disabled or if syncing only pinned tabs.
      this.#filterUnpinnedTabs(newWindow);
    }

    // These are window-specific from the previous window state that
    // we don't want to restore into the new window. Otherwise, new
    // windows would appear overlapping the previous one, or with
    // the same size and position, which should be decided by the
    // window manager.
    if (!fromClosedWindow) {
      delete newWindow.selected;
      delete newWindow.screenX;
      delete newWindow.screenY;
      delete newWindow.width;
      delete newWindow.height;
      delete newWindow.sizemode;
      delete newWindow.sizemodeBeforeMinimized;
      delete newWindow.zIndex;
      delete newWindow.workspaceID;
    }

    const newState = { windows: [newWindow] };
    this.log(`Cloning window with ${newWindow.tabs.length} tabs`);

    SessionStoreInternal._deferredInitialState = newState;
    SessionStoreInternal.initializeWindow(aWindow, newState);
  }

  /**
   * Called when a new empty session is created. For example,
   * when creating a new profile or when the user installed it for
   * the first time.
   *
   * @param {Window} aWindow
   */
  onNewEmptySession(aWindow) {
    this.log("Restoring empty session with Zen session data");
    aWindow.gZenWorkspaces.restoreWorkspacesFromSessionStore({
      spaces: this.#sidebar.spaces || [],
    });
  }

  /**
   * Gets the cloned spaces data from the sidebar object.
   * This is used during migration to restore spaces into
   * the initial session state.
   *
   * @returns {Array} The cloned spaces data.
   */
  getClonedSpaces() {
    const sidebar = this.#sidebar;
    if (!sidebar || !sidebar.spaces) {
      return [];
    }
    return Cu.cloneInto(sidebar.spaces, {});
  }
}

export const ZenSessionStore = new nsZenSessionManager();



================================================
FILE: src/zen/sessionstore/ZenWindowSync.sys.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

/* eslint-disable consistent-return */

import { XPCOMUtils } from "resource://gre/modules/XPCOMUtils.sys.mjs";

const lazy = {};

ChromeUtils.defineESModuleGetters(lazy, {
  BrowserWindowTracker: "resource:///modules/BrowserWindowTracker.sys.mjs",
  TabStateFlusher: "resource:///modules/sessionstore/TabStateFlusher.sys.mjs",
  // eslint-disable-next-line mozilla/valid-lazy
  ZenSessionStore: "resource:///modules/zen/ZenSessionManager.sys.mjs",
  TabStateCache: "resource:///modules/sessionstore/TabStateCache.sys.mjs",
  setTimeout: "resource://gre/modules/Timer.sys.mjs",
  PrivateBrowsingUtils: "resource://gre/modules/PrivateBrowsingUtils.sys.mjs",
});

XPCOMUtils.defineLazyPreferenceGetter(lazy, "gWindowSyncEnabled", "zen.window-sync.enabled", true);
XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "gSyncOnlyPinnedTabs",
  "zen.window-sync.sync-only-pinned-tabs",
  true
);
XPCOMUtils.defineLazyPreferenceGetter(lazy, "gShouldLog", "zen.window-sync.log", true);

const OBSERVING = ["browser-window-before-show", "sessionstore-windows-restored"];
const INSTANT_EVENTS = ["SSWindowClosing", "TabSelect", "focus"];
const UNSYNCED_WINDOW_EVENTS = ["TabOpen"];
const EVENTS = [
  "TabClose",

  "ZenTabIconChanged",
  "ZenTabLabelChanged",

  "TabMove",
  "TabPinned",
  "TabUnpinned",
  "TabAddedToEssentials",
  "TabRemovedFromEssentials",

  "TabGroupUpdate",
  "TabGroupCreate",
  "TabGroupRemoved",
  "TabGroupMoved",

  "TabHide",
  "TabShow",

  "ZenTabRemovedFromSplit",
  "ZenSplitViewTabsSplit",

  ...INSTANT_EVENTS,
  ...UNSYNCED_WINDOW_EVENTS,
];

// Flags acting as an enum for sync types.
const SYNC_FLAG_LABEL = 1 << 0;
const SYNC_FLAG_ICON = 1 << 1;
const SYNC_FLAG_MOVE = 1 << 2;

class nsZenWindowSync {
  #initialized = false;
  constructor() {}

  /**
   * Context about the currently handled event.
   * Used to avoid re-entrancy issues.
   *
   * We do still want to keep a stack of these in order
   * to handle consecutive events properly. For example,
   * loading a webpage will call IconChanged and TitleChanged
   * events one after another.
   */
  #eventHandlingContext = {
    window: null,
    eventCount: 0,
    lastHandlerPromise: Promise.resolve(),
  };

  /**
   * Promise that resolves when the current docshell swap operation is finished.
   * Used to avoid multiple simultaneous swap operations that could interfere with each other.
   * For example, when focusing a window AND selecting a tab at the same time.
   */
  #docShellSwitchPromise = Promise.resolve();

  /**
   * Map of sync handlers for different event types.
   * Each handler is a function that takes the event as an argument.
   */
  #syncHandlers = new Set();

  /**
   * Last focused window.
   * Used to determine which window to sync tab contents visibility from.
   */
  #lastFocusedWindow = null;

  /**
   * Last selected tab.
   * Used to determine if we should run another sync operation
   * when switching browser views.
   */
  #lastSelectedTab = null;

  /**
   * A list containing all swaped tabs with their respective browser permanent
   * keys. This is used in between SSWindowClosing and WindowCloseAndBrowserFlushed.
   *
   * When we close windows, there's a small chance that browsers havent't been flushed
   * yet when we try to move active tabs to other windows. This map allows us to
   * retrieve the correct tab entries from the cache in order to avoid losing
   * tab history.
   *
   * @type {WeakMap<object, MozTabbrowserTab>}
   */
  #swapedTabsEntriesForWC = new WeakMap();

  /**
   * Iterator that yields all currently opened browser windows.
   * (Might miss the most recent one.)
   * This list is in focus order, but may include minimized windows
   * before non-minimized windows.
   */
  #browserWindows = {
    *[Symbol.iterator]() {
      for (let window of lazy.BrowserWindowTracker.orderedWindows) {
        if (window.__SSi && !window.closed && !window.gZenWorkspaces?.privateWindowOrDisabled) {
          yield window;
        }
      }
    },
  };

  /**
   * @returns {Array<Window>} A list of all currently opened browser windows.
   */
  get #browserWindowsList() {
    return Array.from(this.#browserWindows);
  }

  /**
   * @returns {Window|null} The first opened browser window, or null if none exist.
   */
  get #firstSyncedWindow() {
    for (let window of this.#browserWindows) {
      return window;
    }
    return null;
  }

  init() {
    if (this.#initialized) {
      return;
    }
    this.#initialized = true;
    for (let topic of OBSERVING) {
      Services.obs.addObserver(this, topic);
    }
  }

  uninit() {
    if (!this.#initialized) {
      return;
    }
    this.#initialized = false;
    for (let topic of OBSERVING) {
      Services.obs.removeObserver(this, topic);
    }
  }

  log(...args) {
    if (lazy.gShouldLog) {
      // eslint-disable-next-line no-console
      console.debug("ZenWindowSync:", ...args);
    }
  }

  /**
   * Called when a browser window is about to be shown.
   * Adds event listeners for the specified events.
   *
   * @param {Window} aWindow - The browser window that is about to be shown.
   */
  #onWindowBeforeShow(aWindow) {
    if (
      aWindow.gZenWindowSync ||
      aWindow.document.documentElement.hasAttribute("zen-unsynced-window")
    ) {
      return;
    }
    this.log("Setting up window sync for window", aWindow);
    // There are 2 possibilities to know if we are trying to open
    // a new *unsynced* window:
    // 1. We are passing `zen-unsynced` in the window arguments.
    // 2. We are trying to open a link in a new window where other synced
    //   windows already exist
    // Note, we force syncing if the window is private or workspaces is disabled
    // to avoid confusing the old private window behavior.
    let forcedSync = !aWindow.gZenWorkspaces?.privateWindowOrDisabled;
    let hasUnsyncedArg = false;
    // See issue https://github.com/zen-browser/desktop/issues/12211
    if (lazy.PrivateBrowsingUtils.isWindowPrivate(aWindow)) {
      aWindow._zenStartupSyncFlag = "synced";
    }
    if (aWindow._zenStartupSyncFlag === "synced") {
      forcedSync = true;
    } else if (aWindow._zenStartupSyncFlag === "unsynced") {
      hasUnsyncedArg = true;
    }
    delete aWindow._zenStartupSyncFlag;
    if (
      !forcedSync &&
      (hasUnsyncedArg ||
        (typeof aWindow.arguments[0] === "string" &&
          aWindow.arguments.length > 1 &&
          !!this.#browserWindowsList.length))
    ) {
      this.log("Not syncing new window due to unsynced argument or existing synced windows");
      aWindow.document.documentElement.setAttribute("zen-unsynced-window", "true");
      for (let eventName of UNSYNCED_WINDOW_EVENTS) {
        aWindow.addEventListener(eventName, this, true);
      }
      return;
    }
    aWindow.gZenWindowSync = this;
    for (let eventName of EVENTS) {
      aWindow.addEventListener(eventName, this, true);
    }
  }

  /**
   * Called when the session store has finished initializing for a window.
   */
  async #onSessionStoreInitialized() {
    // For every tab we have in where there's no sync ID, we need to
    // assign one and sync it to other windows.
    // This should only happen really when updating from an older version
    // that didn't have this feature.
    await this.#runOnAllWindowsAsync(null, async (aWindow) => {
      const { gZenWorkspaces } = aWindow;
      this.#onWindowBeforeShow(aWindow);
      await gZenWorkspaces.promiseInitialized;
      for (let tab of gZenWorkspaces.allStoredTabs) {
        if (!tab.id) {
          tab.id = this.#newTabSyncId;
        }
        if (tab.pinned && !tab._zenPinnedInitialState) {
          await this.setPinnedTabState(tab);
        }
        if (!lazy.gWindowSyncEnabled || (lazy.gSyncOnlyPinnedTabs && !tab.pinned)) {
          tab._zenContentsVisible = true;
        }
      }
    });
  }

  /**
   * @returns {string} A unique tab ID.
   */
  get #newTabSyncId() {
    // Note: If this changes, make sure to also update the
    // getExtTabGroupIdForInternalTabGroupId implementation in
    // browser/components/extensions/parent/ext-browser.js.
    // See: Bug 1960104 - Improve tab group ID generation in addTabGroup
    // This is implemented from gBrowser.addTabGroup.
    return `${Date.now()}-${Math.round(Math.random() * 100)}`;
  }

  /**
   * Runs a callback function on all browser windows except the specified one.
   *
   * @param {Window} aWindow - The browser window to exclude.
   * @param {Function} aCallback - The callback function to run on each window.
   * @returns {any} The value returned by the callback function, if any.
   */
  #runOnAllWindows(aWindow, aCallback) {
    for (let window of this.#browserWindows) {
      if (window !== aWindow && !window._zenClosingWindow) {
        let value = aCallback(window);
        if (value) {
          return value;
        }
      }
    }
    return null;
  }

  /**
   * Runs a callback function on all browser windows except the specified one.
   * This version supports asynchronous callbacks.
   *
   * @see #runOnAllWindows - Make sure functionality is the same.
   * @param {Window} aWindow - The browser window to exclude.
   * @param {Function} aCallback - The asynchronous callback function to run on each window.
   */
  async #runOnAllWindowsAsync(aWindow, aCallback) {
    for (let window of this.#browserWindows) {
      if (window !== aWindow && !window._zenClosingWindow) {
        await aCallback(window);
      }
    }
  }

  observe(aSubject, aTopic) {
    switch (aTopic) {
      case "browser-window-before-show": {
        this.#onWindowBeforeShow(aSubject);
        break;
      }
      case "sessionstore-windows-restored": {
        this.#onSessionStoreInitialized();
        break;
      }
    }
  }

  handleEvent(aEvent) {
    const window = aEvent.currentTarget.ownerGlobal;
    if (
      !window.gZenStartup.isReady ||
      !window.gZenWorkspaces?.shouldHaveWorkspaces ||
      window._zenClosingWindow
    ) {
      return;
    }
    if (!lazy.gWindowSyncEnabled && !UNSYNCED_WINDOW_EVENTS.includes(aEvent.type)) {
      return;
    }
    if (INSTANT_EVENTS.includes(aEvent.type)) {
      this.#handleNextEventInternal(aEvent);
      return;
    }
    if (this.#eventHandlingContext.window && this.#eventHandlingContext.window !== window) {
      // We're already handling an event for another window.
      // To avoid re-entrancy issues, we skip this event.
      return;
    }
    const lastHandlerPromise = this.#eventHandlingContext.lastHandlerPromise;
    this.#eventHandlingContext.eventCount++;
    this.#eventHandlingContext.window = window;
    let resolveNewPromise;
    this.#eventHandlingContext.lastHandlerPromise = new Promise((resolve) => {
      resolveNewPromise = resolve;
    });
    // Wait for the last handler to finish before processing the next event.
    lastHandlerPromise.then(() => {
      this.#handleNextEvent(aEvent).finally(() => {
        if (--this.#eventHandlingContext.eventCount === 0) {
          this.#eventHandlingContext.window = null;
        }
        resolveNewPromise();
      });
    });
  }

  /**
   * Adds a sync handler for a specific event type.
   *
   * @param {Function} aHandler - The sync handler function to add.
   */
  addSyncHandler(aHandler) {
    if (!aHandler || this.#syncHandlers.has(aHandler)) {
      return;
    }
    this.#syncHandlers.add(aHandler);
  }

  /**
   * Removes a sync handler for a specific event type.
   *
   * @param {Function} aHandler - The sync handler function to remove.
   */
  removeSyncHandler(aHandler) {
    this.#syncHandlers.delete(aHandler);
  }

  #handleNextEventInternal(aEvent) {
    const handler = `on_${aEvent.type}`;
    if (typeof this[handler] !== "function") {
      throw new Error(`No handler for event type: ${aEvent.type}`);
    }
    return this[handler](aEvent);
  }

  /**
   * Handles the next event by calling the appropriate handler method.
   *
   * @param {Event} aEvent - The event to handle.
   */
  async #handleNextEvent(aEvent) {
    try {
      await this.#handleNextEventInternal(aEvent);
    } catch (e) {
      console.error(e);
    }
    for (let syncHandler of this.#syncHandlers) {
      try {
        syncHandler(aEvent);
      } catch (e) {
        console.error(e);
      }
    }
  }

  /**
   * Retrieves a item element from a window by its ID.
   *
   * @param {Window} aWindow - The window containing the item.
   * @param {string} aItemId - The ID of the item to retrieve.
   * @returns {MozTabbrowserTab|MozTabbrowserTabGroup|null} The item element if found, otherwise null.
   */
  getItemFromWindow(aWindow, aItemId) {
    if (!aItemId) {
      return null;
    }
    return aWindow.document.getElementById(aItemId);
  }

  /**
   * Synchronizes a specific attribute from the original item to the target item.
   *
   * @param {MozTabbrowserTab|MozTabbrowserTabGroup} aOriginalItem - The original item to copy from.
   * @param {MozTabbrowserTab|MozTabbrowserTabGroup} aTargetItem - The target item to copy to.
   * @param {string} aAttributeName - The name of the attribute to synchronize.
   */
  #maybeSyncAttributeChange(aOriginalItem, aTargetItem, aAttributeName) {
    if (aOriginalItem.hasAttribute(aAttributeName)) {
      aTargetItem.setAttribute(aAttributeName, aOriginalItem.getAttribute(aAttributeName));
    } else {
      aTargetItem.removeAttribute(aAttributeName);
    }
  }

  /**
   * Synchronizes the icon and label of the target tab with the original tab.
   *
   * @param {object} aOriginalItem - The original item to copy from.
   * @param {object} aTargetItem - The target item to copy to.
   * @param {Window} aWindow - The window containing the tabs.
   * @param {number} flags - The sync flags indicating what to synchronize.
   */
  #syncItemWithOriginal(aOriginalItem, aTargetItem, aWindow, flags = 0) {
    if (!aOriginalItem || !aTargetItem) {
      return;
    }
    const { gBrowser, gZenFolders } = aWindow;
    if (flags & SYNC_FLAG_ICON) {
      aTargetItem.zenStaticIcon = aOriginalItem.zenStaticIcon;
      if (gBrowser.isTab(aOriginalItem)) {
        gBrowser.setIcon(
          aTargetItem,
          aOriginalItem.getAttribute("image") || gBrowser.getIcon(aOriginalItem)
        );
      } else if (aOriginalItem.isZenFolder) {
        // Icons are a zen-only feature for tab groups.
        gZenFolders.setFolderUserIcon(aTargetItem, aOriginalItem.iconURL);
      }
    }
    if (flags & SYNC_FLAG_LABEL) {
      if (gBrowser.isTab(aOriginalItem)) {
        aTargetItem._zenChangeLabelFlag = true;
        aTargetItem.zenStaticLabel = aOriginalItem.zenStaticLabel;
        gBrowser._setTabLabel(aTargetItem, aOriginalItem.label);
        delete aTargetItem._zenChangeLabelFlag;
      } else if (gBrowser.isTabGroup(aOriginalItem)) {
        aTargetItem.label = aOriginalItem.label;
      }
    }
    if (flags & SYNC_FLAG_MOVE && !aTargetItem.hasAttribute("zen-empty-tab")) {
      this.#maybeSyncAttributeChange(aOriginalItem, aTargetItem, "zen-workspace-id");
      this.#syncItemPosition(aOriginalItem, aTargetItem, aWindow);
    }
  }

  /**
   * Synchronizes the position of the target item with the original item.
   *
   * @param {MozTabbrowserTab|MozTabbrowserTabGroup} aOriginalItem - The original item to copy from.
   * @param {MozTabbrowserTab|MozTabbrowserTabGroup} aTargetItem - The target item to copy to.
   * @param {Window} aWindow - The window containing the items.
   */
  #syncItemPosition(aOriginalItem, aTargetItem, aWindow) {
    const { gBrowser, gZenPinnedTabManager } = aWindow;
    const originalIsEssential = aOriginalItem.hasAttribute("zen-essential");
    const targetIsEssential = aTargetItem.hasAttribute("zen-essential");
    const originalIsPinned = aOriginalItem.pinned;
    const targetIsPinned = aTargetItem.pinned;

    const isGroup = gBrowser.isTabGroup(aOriginalItem);
    const isTab = !isGroup;

    if (aOriginalItem.hasAttribute("zen-glance-tab")) {
      return;
    }

    if (isTab) {
      if (originalIsEssential !== targetIsEssential) {
        if (originalIsEssential) {
          gZenPinnedTabManager.addToEssentials(aTargetItem);
        } else {
          gZenPinnedTabManager.removeEssentials(aTargetItem, /* unpin= */ !targetIsPinned);
        }
      } else if (originalIsPinned !== targetIsPinned) {
        if (originalIsPinned) {
          gBrowser.pinTab(aTargetItem);
        } else {
          gBrowser.unpinTab(aTargetItem);
        }
      }
    } else {
      aTargetItem.pinned = aOriginalItem.pinned;
    }

    this.#moveItemToMatchOriginal(aOriginalItem, aTargetItem, aWindow, {
      isEssential: originalIsEssential,
      isPinned: originalIsPinned,
    });
  }

  /**
   * Moves the target item to match the position of the original item.
   *
   * @param {MozTabbrowserTab|MozTabbrowserTabGroup} aOriginalItem - The original item to match.
   * @param {MozTabbrowserTab|MozTabbrowserTabGroup} aTargetItem - The target item to move.
   * @param {Window} aWindow - The window containing the items.
   * @param {object} options - Additional options for moving the item.
   * @param {boolean} options.isEssential - Indicates if the item is essential.
   * @param {boolean} options.isPinned - Indicates if the item is pinned.
   */
  #moveItemToMatchOriginal(aOriginalItem, aTargetItem, aWindow, { isEssential, isPinned }) {
    const { gBrowser, gZenWorkspaces } = aWindow;
    let originalSibling = aOriginalItem.previousElementSibling;
    if (originalSibling?.classList.contains("space-fake-collapsible-start")) {
      // Skip space fake elements.
      originalSibling = originalSibling.previousElementSibling;
    }
    let isFirstTab = true;
    if (gBrowser.isTabGroup(originalSibling) || gBrowser.isTab(originalSibling)) {
      isFirstTab =
        !originalSibling.hasAttribute("id") || originalSibling.hasAttribute("zen-empty-tab");
    }

    gBrowser.zenHandleTabMove(aTargetItem, () => {
      if (isFirstTab) {
        let container;
        const parentGroup = aOriginalItem.group;
        if (parentGroup?.hasAttribute("id")) {
          container = this.getItemFromWindow(aWindow, parentGroup.getAttribute("id"));
          if (container) {
            if (container?.tabs?.length) {
              // First tab in folders is the empty tab placeholder.
              container.tabs[0].after(aTargetItem);
            } else {
              container.appendChild(aTargetItem);
            }
            return;
          }
        }
        if (isEssential) {
          container = gZenWorkspaces.getEssentialsSection(aTargetItem);
        } else {
          const workspaceId =
            aTargetItem.getAttribute("zen-workspace-id") ||
            aOriginalItem.ownerGlobal.gZenWorkspaces.activeWorkspace;
          const workspaceElement = gZenWorkspaces.workspaceElement(workspaceId);
          container = isPinned
            ? workspaceElement?.pinnedTabsContainer
            : workspaceElement?.tabsContainer;
        }
        if (container) {
          container.insertBefore(aTargetItem, container.firstChild);
        }
        return;
      }
      const relativeTab = this.getItemFromWindow(aWindow, originalSibling.id);
      if (relativeTab) {
        gBrowser.tabContainer.tabDragAndDrop.handle_drop_transition(
          relativeTab,
          aTargetItem,
          [aTargetItem],
          false
        );
        relativeTab.after(aTargetItem);
      }
    });
  }

  /**
   * Synchronizes a item across all browser windows.
   *
   * @param {MozTabbrowserTab|MozTabbrowserTabGroup} aItem - The item to synchronize.
   * @param {number} flags - The sync flags indicating what to synchronize.
   */
  #syncItemForAllWindows(aItem, flags = 0) {
    const window = aItem.ownerGlobal;
    this.#runOnAllWindows(window, (win) => {
      this.#syncItemWithOriginal(aItem, this.getItemFromWindow(win, aItem.id), win, flags);
    });
  }

  /**
   * Swaps the browser docshells between two tabs.
   *
   * @param {object} aOurTab - The tab in the current window.
   * @param {object} aOtherTab - The tab in the other window.
   */
  async #swapBrowserDocShellsAsync(aOurTab, aOtherTab) {
    if (!this.#canSwapBrowsers(aOurTab, aOtherTab)) {
      this.log(
        `Cannot swap browsers between tabs ${aOurTab.id} and ${aOtherTab.id} due to process mismatch`
      );
      return;
    }
    if (aOtherTab.closing) {
      this.log(`Cannot swap browsers, other tab ${aOtherTab.id} is closing`);
      return;
    }
    let promise = this.#maybeFlushTabState(aOtherTab);
    await this.#styleSwapedBrowsers(
      aOurTab,
      aOtherTab,
      () => {
        this.#swapBrowserDocShellsInner(aOurTab, aOtherTab);
      },
      promise
    );
  }

  /**
   * Restores the tab progress listener for a given tab.
   *
   * @param {object} aTab - The tab to restore the progress listener for.
   * @param {Function} callback - The callback function to execute while the listener is removed.
   * @param {boolean} onClose - Indicates if the swap is done during a tab close operation.
   */
  #withRestoreTabProgressListener(aTab, callback, onClose = false) {
    const otherTabBrowser = aTab.ownerGlobal.gBrowser;
    const otherBrowser = aTab.linkedBrowser;

    // We aren't closing the other tab so, we also need to swap its tablisteners.
    let filter = otherTabBrowser._tabFilters.get(aTab);
    let tabListener = otherTabBrowser._tabListeners.get(aTab);
    try {
      otherBrowser.webProgress.removeProgressListener(filter);
      filter.removeProgressListener(tabListener);
    } catch {
      /* ignore errors, we might have already removed them */
    }

    try {
      callback();
    } catch (e) {
      console.error(e);
    }

    // Restore the listeners for the swapped in tab.
    if (!onClose && filter) {
      tabListener = new otherTabBrowser.zenTabProgressListener(aTab, otherBrowser, true, false);
      otherTabBrowser._tabListeners.set(aTab, tabListener);

      const notifyAll = Ci.nsIWebProgress.NOTIFY_ALL;
      filter.addProgressListener(tabListener, notifyAll);
      otherBrowser.webProgress.addProgressListener(filter, notifyAll);
    }
  }

  /**
   * Checks if two tabs can have their browsers swapped.
   *
   * @param {object} aOurTab - The tab in the current window.
   * @param {object} aOtherTab - The tab in the other window.
   * @returns {boolean} True if the tabs can be swapped, false otherwise.
   */
  #canSwapBrowsers(aOurTab, aOtherTab) {
    // In this case, the other tab is most likely discarded or pending.
    // We *shouldn't* care about this scenario since the remoteness should be
    // the same anyways.
    if (!aOurTab.linkedBrowser || !aOtherTab.linkedBrowser) {
      return true;
    }
    // Can't swap between chrome and content processes.
    if (aOurTab.linkedBrowser.isRemoteBrowser != aOtherTab.linkedBrowser.isRemoteBrowser) {
      return false;
    }
    return true;
  }

  /**
   * Swaps the browser docshells between two tabs.
   *
   * @param {object} aOurTab - The tab in the current window.
   * @param {object} aOtherTab - The tab in the other window.
   * @param {object} options - Options object.
   * @param {boolean} options.focus - Indicates if the tab should be focused after the swap.
   * @param {boolean} options.onClose - Indicates if the swap is done during a tab close operation.
   * @returns {Promise|null} A promise that resolves when the tab state is flushed, or null if the swap cannot be performed.
   */
  #swapBrowserDocShellsInner(aOurTab, aOtherTab, { focus = true, onClose = false } = {}) {
    // Can't swap between chrome and content processes.
    if (!this.#canSwapBrowsers(aOurTab, aOtherTab)) {
      this.log(
        `Cannot swap browsers between tabs ${aOurTab.id} and ${aOtherTab.id} due to process mismatch`
      );
      return null;
    }
    // See https://github.com/zen-browser/desktop/issues/11851, swapping the browsers
    // don't seem to update the state's cache properly, leading to issues when restoring
    // the session later on.
    let tabStateEntries = this.#getTabEntriesFromCache(aOtherTab);
    const setStateToTab = () => {
      if (!tabStateEntries?.entries.length) {
        this.log(`Error: No tab state entries found for tab ${aOurTab.id} during swap`);
        return;
      }
      lazy.TabStateCache.update(aOurTab.linkedBrowser.permanentKey, {
        history: Cu.cloneInto(tabStateEntries, {}),
      });
    };
    // Running `swapBrowsersAndCloseOther` doesn't expect us to use the tab after
    // the operation, so it doesn't really care about cleaning up the other tab.
    // We need to make a new tab progress listener for the other tab after the swap.
    this.#withRestoreTabProgressListener(
      aOtherTab,
      () => {
        setStateToTab();
        this.log(`Swapping docshells between windows for tab ${aOurTab.id}`);
        aOurTab.ownerGlobal.gBrowser.swapBrowsersAndCloseOther(aOurTab, aOtherTab, false);
        // Since we are moving progress listeners around, there's a chance that we
        // trigger a load while making the switch, and since we remove the previous
        // tab's listeners, the other browser window will never get the 'finish load' event
        // and will stay in a 'busy' state forever.
        // To avoid this, we manually check if the other tab is still busy after the swap,
        // and if not, we remove the busy attribute from our tab.
        if (!aOtherTab.hasAttribute("busy")) {
          aOurTab.removeAttribute("busy");
        }
        // Load about:blank if by any chance we loaded the previous tab's URL.
        // TODO: We should maybe start using a singular about:blank preloaded view
        //  to avoid loading a full blank page each time and wasting resources.
        // We do need to do this though instead of just unloading the browser because
        // firefox doesn't expect an unloaded + selected tab, so we need to get
        // around this limitation somehow.
        if (
          !onClose &&
          (aOtherTab.linkedBrowser?.currentURI.spec !== "about:blank" ||
            aOtherTab.hasAttribute("busy"))
        ) {
          this.log(`Loading about:blank in our tab ${aOtherTab.id} before swap`);
          aOtherTab.linkedBrowser.loadURI(Services.io.newURI("about:blank"), {
            triggeringPrincipal: Services.scriptSecurityManager.getSystemPrincipal(),
            loadFlags: Ci.nsIWebNavigation.LOAD_FLAGS_REPLACE_HISTORY,
          });
        }
      },
      onClose
    );
    const kAttributesToRemove = ["muted", "soundplaying", "sharing", "pictureinpicture", "busy"];
    // swapBrowsersAndCloseOther already takes care of transferring attributes like 'muted',
    // but we need to manually remove some attributes from the other tab.
    for (let attr of kAttributesToRemove) {
      aOtherTab.removeAttribute(attr);
    }
    if (focus) {
      // Recalculate the focus in order to allow the user to continue typing
      // inside the web content area without having to click outside and back in.
      aOurTab.linkedBrowser.blur();
      aOurTab.ownerGlobal.gBrowser._adjustFocusAfterTabSwitch(aOurTab);
      aOurTab.linkedBrowser.docShellIsActive = true;
    }
    // Ensure the tab's state is flushed after the swap. By doing this,
    // we can re-schedule another session store delayed process to fire.
    // It's also important to note that if we don't flush the state here,
    // we would start receiving invalid history changes from the the incorrect
    // browser view that was just swapped out.
    return this.#maybeFlushTabState(aOurTab).finally(() => {
      setStateToTab();
    });
  }

  /**
   * Styles the swapped browsers to ensure proper visibility and layout.
   *
   * @param {object} aOurTab - The tab in the current window.
   * @param {object} aOtherTab - The tab in the other window.
   * @param {Function|undefined} callback - The callback function to execute after styling.
   * @param {Promise|null} promiseToWait - A promise to wait for before executing the callback.
   */
  #styleSwapedBrowsers(aOurTab, aOtherTab, callback = undefined, promiseToWait = null) {
    const ourBrowser = aOurTab.linkedBrowser;
    const otherBrowser = aOtherTab.linkedBrowser;
    // eslint-disable-next-line no-async-promise-executor
    return new Promise(async (resolve) => {
      if (callback) {
        const browserBlob = await aOtherTab.ownerGlobal.PageThumbs.captureToBlob(
          aOtherTab.linkedBrowser,
          {
            fullScale: true,
            fullViewport: true,
            backgroundColor: "transparent",
          }
        );

        let mySrc = await new Promise((r, re) => {
          const reader = new FileReader();
          reader.readAsDataURL(browserBlob);
          reader.onloadend = function () {
            // result includes identifier 'data:image/png;base64,' plus the base64 data
            r(reader.result);
          };
          reader.onerror = function () {
            re(new Error("Failed to read blob as data URL"));
          };
        });

        let promise = this.#createPseudoImageForBrowser(otherBrowser, mySrc);
        await Promise.all([promiseToWait, promise]);
        callback();
        lazy.setTimeout(() => {
          otherBrowser.setAttribute("zen-pseudo-hidden", "true");
          ourBrowser.removeAttribute("zen-pseudo-hidden");
          this.#maybeRemovePseudoImageForBrowser(ourBrowser);
          ourBrowser.focus();
          resolve();
        });
        return;
      }
      ourBrowser.removeAttribute("zen-pseudo-hidden");
      this.#maybeRemovePseudoImageForBrowser(ourBrowser);
      resolve();
    });
  }

  /**
   * Create and insert a new pseudo image for a browser element.
   *
   * @param {object} aBrowser - The browser element to create the pseudo image for.
   * @param {string} aSrc - The source URL of the image.
   */
  #createPseudoImageForBrowser(aBrowser, aSrc) {
    const doc = aBrowser.ownerDocument;
    const win = aBrowser.ownerGlobal;
    const img = doc.createElement("img");
    img.className = "zen-pseudo-browser-image";
    img.src = aSrc;
    let promise = new Promise((resolve) => {
      if (img.complete) {
        resolve();
        return;
      }
      let finish = () => {
        win.requestAnimationFrame(() => {
          resolve();
        });
      };
      img.onload = finish;
      img.onerror = finish;
    });
    aBrowser.after(img);
    return promise;
  }

  /**
   * Removes the pseudo image element for a browser if it exists.
   *
   * @param {object} aBrowser - The browser element to remove the pseudo image for.
   */
  #maybeRemovePseudoImageForBrowser(aBrowser) {
    const elements = aBrowser.parentNode?.querySelectorAll(".zen-pseudo-browser-image");
    if (elements) {
      elements.forEach((element) => element.remove());
    }
  }

  /**
   * Retrieves the active tab, where the web contents are being viewed
   * from other windows by its ID.
   *
   * @param {Window} aWindow - The window to exclude.
   * @param {string} aTabId - The ID of the tab to retrieve.
   * @param {Function} filter - A function to filter the tabs.
   * @returns {object | null} The active tab from other windows if found, otherwise null.
   */
  #getActiveTabFromOtherWindows(aWindow, aTabId, filter = (tab) => tab?._zenContentsVisible) {
    return this.#runOnAllWindows(aWindow, (win) => {
      const tab = this.getItemFromWindow(win, aTabId);
      if (filter(tab)) {
        return tab;
      }
      return undefined;
    });
  }

  /**
   * Moves all active tabs from the specified window to other windows.
   *
   * @param {Window} aWindow - The window to move active tabs from.
   */
  #moveAllActiveTabsToOtherWindowsForClose(aWindow) {
    const mostRecentWindow = this.#browserWindowsList.find((win) => win !== aWindow);
    if (!mostRecentWindow || !aWindow.gZenWorkspaces) {
      return;
    }
    const activeTabsOnClosedWindow = aWindow.gZenWorkspaces.allStoredTabs.filter(
      (tab) => tab._zenContentsVisible
    );
    for (let tab of activeTabsOnClosedWindow) {
      const targetTab = this.getItemFromWindow(mostRecentWindow, tab.id);
      if (targetTab) {
        this.log(`Moving active tab ${tab.id} to most recent window on close`);
        targetTab._zenContentsVisible = true;
        if (!tab.linkedBrowser) {
          continue;
        }
        delete tab._zenContentsVisible;
        this.#swapBrowserDocShellsInner(targetTab, tab, {
          focus: targetTab.selected,
          onClose: true,
        });
        this.#swapedTabsEntriesForWC.set(tab.linkedBrowser.permanentKey, targetTab);
        // We can animate later, whats important is to always stay on the same
        // process and avoid async operations here to avoid the closed window
        // being unloaded before the swap is done.
        this.#styleSwapedBrowsers(targetTab, tab);
      }
    }
  }

  /**
   * Handles tab switch or window focus events to synchronize tab contents visibility.
   *
   * @param {Window} aWindow - The window that triggered the event.
   * @param {object} aPreviousTab - The previously selected tab.
   */
  async #onTabSwitchOrWindowFocus(aWindow, aPreviousTab = null) {
    let activeBrowsers = aWindow.gBrowser.selectedBrowsers;
    let activeTabs = activeBrowsers.map((browser) => aWindow.gBrowser.getTabForBrowser(browser));
    // Ignore previous tabs that are still "active". These scenarios could happen for example,
    // when selecting on a split view tab that was already active.
    if (aPreviousTab?._zenContentsVisible && !activeTabs.includes(aPreviousTab)) {
      let tabsToSwap = aPreviousTab.group?.hasAttribute("split-view-group")
        ? aPreviousTab.group.tabs
        : [aPreviousTab];
      for (const tab of tabsToSwap) {
        const otherTabToShow = this.#getActiveTabFromOtherWindows(aWindow, tab.id, (t) =>
          t?.splitView ? t.group.tabs.some((st) => st.selected) : t?.selected
        );
        if (otherTabToShow) {
          otherTabToShow._zenContentsVisible = true;
          delete tab._zenContentsVisible;
          await this.#swapBrowserDocShellsAsync(otherTabToShow, tab);
        }
      }
    }
    let promises = [];
    for (const selectedTab of activeTabs) {
      if (selectedTab._zenContentsVisible || selectedTab.hasAttribute("zen-empty-tab")) {
        continue;
      }
      const otherSelectedTab = this.#getActiveTabFromOtherWindows(aWindow, selectedTab.id);
      selectedTab._zenContentsVisible = true;
      if (otherSelectedTab) {
        delete otherSelectedTab._zenContentsVisible;
        promises.push(this.#swapBrowserDocShellsAsync(selectedTab, otherSelectedTab));
      }
    }
    await Promise.all(promises);
  }

  /**
   * Delegates generic sync events to synchronize tabs across windows.
   *
   * @param {Event} aEvent - The event to delegate.
   * @param {number} flags - The sync flags indicating what to synchronize.
   */
  #delegateGenericSyncEvent(aEvent, flags = 0) {
    const item = aEvent.target;
    if (lazy.gSyncOnlyPinnedTabs && !item.pinned) {
      return;
    }
    this.#syncItemForAllWindows(item, flags);
  }

  /**
   * Retrieves the tab state entries from the cache for a given tab.
   *
   * @param {object} aTab - The tab to retrieve the state for.
   * @returns {object} The tab state entries.
   */
  #getTabEntriesFromCache(aTab) {
    let cachedState;
    if (aTab.linkedBrowser) {
      cachedState = lazy.TabStateCache.get(aTab.linkedBrowser.permanentKey);
    }
    return cachedState?.history?.entries ? Cu.cloneInto(cachedState.history, {}) : { entries: [] };
  }

  /**
   * Flushes the tab state for a given tab if it has a linked browser.
   *
   * @param {object} aTab - The tab to flush the state for.
   * @returns {Promise} A promise that resolves when the operation is complete.
   */
  #maybeFlushTabState(aTab) {
    if (!aTab.linkedBrowser) {
      return Promise.resolve();
    }
    return lazy.TabStateFlusher.flush(aTab.linkedBrowser);
  }

  /* Mark: Public API */

  /**
   * Sets the initial pinned state for a tab across all windows.
   *
   * @param {object} aTab - The tab to set the pinned state for.
   * @returns {Promise} A promise that resolves when the operation is complete.
   */
  setPinnedTabState(aTab) {
    return this.#maybeFlushTabState(aTab).finally(() => {
      this.log(`Setting pinned initial state for tab ${aTab.id}`);
      let { entries, index } = this.#getTabEntriesFromCache(aTab);
      let image = aTab.getAttribute("image") || aTab.ownerGlobal.gBrowser.getIcon(aTab);
      let activeIndex = typeof index === "number" ? index : entries.length;
      // Tab state cache gives us the index starting from 1 instead of 0.
      activeIndex--;
      activeIndex = Math.min(activeIndex, entries.length - 1);
      activeIndex = Math.max(activeIndex, 0);
      const initialState = {
        entry: (entries[activeIndex] || entries[0]) ?? null,
        image,
      };
      this.#runOnAllWindows(null, (win) => {
        const targetTab = this.getItemFromWindow(win, aTab.id);
        if (targetTab) {
          targetTab._zenPinnedInitialState = initialState;
        }
      });
    });
  }

  /**
   * Propagates the workspaces to all windows.
   *
   * @param {Array} aWorkspaces - The workspaces to propagate.
   */
  propagateWorkspacesToAllWindows(aWorkspaces) {
    this.#runOnAllWindows(null, (win) => {
      win.gZenWorkspaces.propagateWorkspaces(aWorkspaces);
    });
  }

  /**
   * Moves all tabs from a window to a synced workspace in another window.
   * If no synced window exists, creates a new one.
   *
   * @param {Window} aWindow - The window to move tabs from.
   * @param {string} aWorkspaceId - The ID of the workspace to move tabs to.
   */
  moveTabsToSyncedWorkspace(aWindow, aWorkspaceId) {
    const tabsToMove = aWindow.gZenWorkspaces.allStoredTabs.filter(
      (tab) => !tab.hasAttribute("zen-empty-tab")
    );
    const selectedTab = aWindow.gBrowser.selectedTab;
    let win = this.#firstSyncedWindow;
    const moveAllTabsToWindow = async (allowSelected = false) => {
      const { gBrowser, gZenWorkspaces } = win;
      win.focus();
      let tabToSelect;
      for (const tab of tabsToMove) {
        if (tab !== selectedTab || allowSelected) {
          const newTab = gBrowser.adoptTab(tab, { tabIndex: Infinity });
          gZenWorkspaces.moveTabToWorkspace(newTab, aWorkspaceId);
          if (!tabToSelect) {
            tabToSelect = newTab;
          }
        }
      }
      aWindow.close();
      if (tabToSelect) {
        gBrowser.selectedTab = tabToSelect;
      }
      await gZenWorkspaces.changeWorkspaceWithID(aWorkspaceId);
      gBrowser.selectedBrowser.focus();
    };
    if (!win) {
      this.log("No synced window found, creating a new one");
      win = aWindow.gBrowser.replaceTabWithWindow(selectedTab, {}, /* zenForceSync = */ true);
      win.gZenWorkspaces.promiseInitialized.then(() => {
        moveAllTabsToWindow();
      });
      return;
    }
    moveAllTabsToWindow(true);
  }

  /**
   * Updates the initial pinned tab image for all windows if not already set.
   *
   * @param {object} aTab - The tab to update the image for.
   */
  #maybeEditAllTabsEntryImage(aTab) {
    if (!aTab?._zenPinnedInitialState || aTab._zenPinnedInitialState.image) {
      return;
    }
    let image = aTab.getAttribute("image") || aTab.ownerGlobal.gBrowser.getIcon(aTab);
    this.#runOnAllWindows(null, (win) => {
      const targetTab = this.getItemFromWindow(win, aTab.id);
      if (targetTab) {
        targetTab._zenPinnedInitialState.image = image;
      }
    });
  }

  /* Mark: Event Handlers */

  on_TabOpen(aEvent, { duringPinning = false } = {}) {
    const tab = aEvent.target;
    const window = tab.ownerGlobal;
    const isUnsyncedWindow = window.gZenWorkspaces.privateWindowOrDisabled;
    if (tab.id && !duringPinning) {
      // This tab was opened as part of a sync operation.
      return;
    }
    tab._zenContentsVisible = true;
    tab.id = this.#newTabSyncId;
    if (lazy.gSyncOnlyPinnedTabs && !tab.pinned) {
      return;
    }
    if (isUnsyncedWindow || !lazy.gWindowSyncEnabled) {
      return;
    }
    this.#runOnAllWindows(window, (win) => {
      const newTab = win.gBrowser.addTrustedTab("about:blank", {
        animate: true,
        createLazyBrowser: true,
        _forZenEmptyTab: tab.hasAttribute("zen-empty-tab"),
      });
      newTab.id = tab.id;
      this.#syncItemWithOriginal(
        tab,
        newTab,
        win,
        SYNC_FLAG_ICON | SYNC_FLAG_LABEL | SYNC_FLAG_MOVE
      );
    });
    if (duringPinning && tab?.splitView) {
      this.on_ZenSplitViewTabsSplit({ target: tab.group });
    }
  }

  on_ZenTabIconChanged(aEvent) {
    if (!aEvent.target?._zenContentsVisible) {
      // No need to sync icon changes for tabs that aren't active in this window.
      return;
    }
    this.#maybeEditAllTabsEntryImage(aEvent.target);
    return this.#delegateGenericSyncEvent(aEvent, SYNC_FLAG_ICON);
  }

  on_ZenTabLabelChanged(aEvent) {
    if (!aEvent.target?._zenContentsVisible) {
      // No need to sync label changes for tabs that aren't active in this window.
      return;
    }
    return this.#delegateGenericSyncEvent(aEvent, SYNC_FLAG_LABEL);
  }

  on_TabHide(aEvent) {
    const tab = aEvent.target;
    const window = tab.ownerGlobal;
    if (lazy.gSyncOnlyPinnedTabs && !tab.pinned) {
      return;
    }
    this.#runOnAllWindows(window, (win) => {
      const targetTab = this.getItemFromWindow(win, tab.id);
      if (targetTab) {
        targetTab.ownerGlobal.gBrowser.hideTab(targetTab);
      }
    });
  }

  on_TabShow(aEvent) {
    const tab = aEvent.target;
    const window = tab.ownerGlobal;
    if (lazy.gSyncOnlyPinnedTabs && !tab.pinned) {
      return;
    }
    this.#runOnAllWindows(window, (win) => {
      const targetTab = this.getItemFromWindow(win, tab.id);
      if (targetTab) {
        targetTab.ownerGlobal.gBrowser.showTab(targetTab);
      }
    });
  }

  on_TabMove(aEvent) {
    this.#delegateGenericSyncEvent(aEvent, SYNC_FLAG_MOVE);
    return Promise.resolve();
  }

  on_TabPinned(aEvent) {
    const tab = aEvent.target;
    // There are cases where the pinned state is changed but we don't
    // wan't to override the initial state we stored when the tab was created.
    // For example, when session restore pins a tab again.
    let tabStatePromise;
    if (!tab._zenPinnedInitialState) {
      tabStatePromise = this.setPinnedTabState(tab);
    }
    return Promise.all([
      tabStatePromise,
      this.on_TabMove(aEvent).then(() => {
        if (lazy.gSyncOnlyPinnedTabs) {
          this.on_TabOpen({ target: tab }, { duringPinning: true });
        }
      }),
    ]);
  }

  on_TabUnpinned(aEvent) {
    const tab = aEvent.target;
    this.#runOnAllWindows(null, (win) => {
      const targetTab = this.getItemFromWindow(win, tab.id);
      if (targetTab) {
        delete targetTab._zenPinnedInitialState;
      }
    });
    return this.on_TabMove(aEvent).then(() => {
      if (lazy.gSyncOnlyPinnedTabs) {
        this.on_TabClose({ target: tab });
      }
    });
  }

  on_TabAddedToEssentials(aEvent) {
    return this.on_TabMove(aEvent);
  }

  on_TabRemovedFromEssentials(aEvent) {
    return this.on_TabMove(aEvent);
  }

  on_TabClose(aEvent) {
    const tab = aEvent.target;
    const window = tab.ownerGlobal;
    this.#runOnAllWindows(window, (win) => {
      const targetTab = this.getItemFromWindow(win, tab.id);
      if (targetTab) {
        win.gBrowser.removeTab(targetTab, { animate: true });
      }
    });
  }

  async on_focus(aEvent) {
    if (typeof aEvent.target !== "object") {
      return;
    }
    await this.#docShellSwitchPromise;
    const window = Services.focus.activeWindow;
    if (
      !window?.gBrowser ||
      this.#lastFocusedWindow?.deref() === window ||
      window.closing ||
      !window.toolbar.visible
    ) {
      return;
    }
    this.#lastFocusedWindow = new WeakRef(window);
    this.#lastSelectedTab = new WeakRef(window.gBrowser.selectedTab);
    return (this.#docShellSwitchPromise = this.#onTabSwitchOrWindowFocus(window));
  }

  async on_TabSelect(aEvent) {
    await this.#docShellSwitchPromise;
    const tab = aEvent.target;
    if (this.#lastSelectedTab?.deref() === tab) {
      return;
    }
    this.#lastSelectedTab = new WeakRef(tab);
    const previousTab = aEvent.detail.previousTab;
    return (this.#docShellSwitchPromise = this.#onTabSwitchOrWindowFocus(
      aEvent.target.ownerGlobal,
      previousTab
    ));
  }

  on_SSWindowClosing(aEvent) {
    const window = aEvent.target.ownerGlobal;
    window._zenClosingWindow = true;
    for (let eventName of EVENTS) {
      window.removeEventListener(eventName, this);
    }
    delete window.gZenWindowSync;
    this.#moveAllActiveTabsToOtherWindowsForClose(window);
  }

  on_WindowCloseAndBrowserFlushed(aBrowsers) {
    if (this.#swapedTabsEntriesForWC.size === 0) {
      return;
    }
    for (let browser of aBrowsers) {
      const tab = this.#swapedTabsEntriesForWC.get(browser.permanentKey);
      if (tab) {
        try {
          let win = tab.ownerGlobal;
          this.log(`Finalizing swap for tab ${tab.id} on window close`);
          lazy.TabStateCache.update(
            tab.linkedBrowser.permanentKey,
            lazy.TabStateCache.get(browser.permanentKey)
          );
          let tabData = this.#getTabEntriesFromCache(tab);
          let activePageData = tabData.entries[tabData.index - 1] || null;

          // If the page has a title, set it. When doing a swap and we still didn't
          // flush the tab state, the title might not be correct.
          if (activePageData && win?.gBrowser) {
            win.gBrowser.setInitialTabTitle(tab, activePageData.title, {
              isContentTitle: activePageData.title && activePageData.title != activePageData.url,
            });
          }
        } catch (e) {
          // We might have already closed the window at this point, so just ignore any error.
          console.error(e);
        }
      }
    }
    // We don't need to keep these references anymore.
    // and weak maps don't have a clear method, they get cleared automatically.
    this.#swapedTabsEntriesForWC = new WeakMap();
  }

  on_TabGroupCreate(aEvent) {
    const tabGroup = aEvent.target;
    if (tabGroup.id && tabGroup.alreadySynced) {
      // This tab group was opened as part of a sync operation.
      return;
    }
    const window = tabGroup.ownerGlobal;
    const isFolder = tabGroup.isZenFolder;
    const isSplitView = tabGroup.hasAttribute("split-view-group");
    if (isSplitView) {
      return; // Split view groups are synced via ZenSplitViewTabsSplit event.
    }
    // Tab groups already have an ID upon creation.
    this.#runOnAllWindows(window, (win) => {
      // Check if a group with this ID already exists in the target window.
      const existingGroup = this.getItemFromWindow(win, tabGroup.id);
      if (existingGroup) {
        this.log(
          `Attempted to create group ${tabGroup.id} in window ${win}, but it already exists.`
        );
        return; // Do not proceed with creation.
      }

      const newGroup = isFolder
        ? win.gZenFolders.createFolder([], {})
        : win.gBrowser.addTabGroup([]);
      newGroup.id = tabGroup.id;
      newGroup.alreadySynced = true;
      this.#syncItemWithOriginal(
        tabGroup,
        newGroup,
        win,
        SYNC_FLAG_ICON | SYNC_FLAG_LABEL | SYNC_FLAG_MOVE
      );
    });
  }

  on_TabGroupRemoved(aEvent) {
    const tabGroup = aEvent.target;
    const window = tabGroup.ownerGlobal;
    this.#runOnAllWindows(window, (win) => {
      const targetGroup = this.getItemFromWindow(win, tabGroup.id);
      if (targetGroup) {
        if (targetGroup.isZenFolder) {
          targetGroup.delete();
        } else {
          win.gBrowser.removeTabGroup(targetGroup, { isUserTriggered: true });
        }
      }
    });
  }

  on_TabGroupMoved(aEvent) {
    return this.on_TabMove(aEvent);
  }

  on_TabGroupUpdate(aEvent) {
    return this.#delegateGenericSyncEvent(aEvent, SYNC_FLAG_ICON | SYNC_FLAG_LABEL);
  }

  on_ZenTabRemovedFromSplit(aEvent) {
    const tab = aEvent.target;
    const window = tab.ownerGlobal;
    this.#runOnAllWindows(window, (win) => {
      const targetTab = this.getItemFromWindow(win, tab.id);
      if (targetTab && win.gZenViewSplitter) {
        win.gZenViewSplitter.removeTabFromGroup(targetTab);
      }
    });
  }

  on_ZenSplitViewTabsSplit(aEvent) {
    const tabGroup = aEvent.target;
    const window = tabGroup.ownerGlobal;
    const tabs = tabGroup.tabs;
    this.#runOnAllWindows(window, (win) => {
      const otherWindowTabs = tabs
        .map((tab) => this.getItemFromWindow(win, tab.id))
        .filter(Boolean);
      if (otherWindowTabs.length && win.gZenViewSplitter) {
        const group = win.gZenViewSplitter.splitTabs(otherWindowTabs, undefined, -1, {
          groupFetchId: tabGroup.id,
        });
        if (group) {
          let otherTabGroup = group.tabs[0].group;
          otherTabGroup.id = tabGroup.id;
          this.#syncItemWithOriginal(aEvent.target, otherTabGroup, win, SYNC_FLAG_MOVE);
        }
      }
    });

    return new Promise((resolve) => {
      lazy.setTimeout(() => {
        this.#onTabSwitchOrWindowFocus(window, null).finally(resolve);
      }, 0);
    });
  }
}

// eslint-disable-next-line mozilla/valid-lazy
export const gWindowSyncEnabled = lazy.gWindowSyncEnabled;
// eslint-disable-next-line mozilla/valid-lazy
export const gSyncOnlyPinnedTabs = lazy.gSyncOnlyPinnedTabs;
export const ZenWindowSync = new nsZenWindowSync();



================================================
FILE: src/zen/share/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

EXTRA_JS_MODULES.zen.share += [
  "share.schema.json",
]



================================================
FILE: src/zen/share/share.schema.json
================================================
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Share Schema",
  "type": "object",
  "properties": {
    "version": {
      "type": "string"
    },
    "shared": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/$defs/shareable"
      }
    }
  },
  "required": ["shared"],
  "additionalProperties": false,

  "$defs": {
    "shareable": {
      "oneOf": [
        { "$ref": "#/$defs/space" },
        { "$ref": "#/$defs/folder" },
        { "$ref": "#/$defs/splitView" },
        { "$ref": "#/$defs/gradientPreset" }
      ]
    },

    "gradientPreset": {
      "type": "object",
      "properties": {
        "type": { "const": "gradientPreset" },
        "theme": { "$ref": "#/$defs/theme" }
      },
      "required": ["type", "theme"],
      "additionalProperties": false
    },

    "space": {
      "type": "object",
      "properties": {
        "type": { "const": "space" },
        "name": { "type": "string" },
        "theme": { "$ref": "#/$defs/theme" },
        "items": {
          "type": "array",
          "items": { "$ref": "#/$defs/spaceItem" }
        }
      },
      "required": ["type", "name", "items"],
      "additionalProperties": false
    },

    "theme": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["gradient"]
        },
        "gradientColors": {
          "type": "array",
          "minItems": 1,
          "items": { "$ref": "#/$defs/gradientColor" }
        }
      },
      "required": ["type", "gradientColors"],
      "additionalProperties": false
    },

    "gradientColor": {
      "type": "object",
      "properties": {
        "c": {
          "type": "array",
          "items": { "type": "number" },
          "minItems": 3,
          "maxItems": 3
        },
        "isCustom": { "type": "boolean" },
        "algorithm": { "type": "string" },
        "isPrimary": { "type": "boolean" },
        "lightness": { "type": "string" },
        "position": {
          "type": "object",
          "properties": {
            "x": { "type": "number" },
            "y": { "type": "number" }
          },
          "required": ["x", "y"],
          "additionalProperties": false
        },
        "type": { "type": "string" }
      },
      "required": ["c", "type"],
      "additionalProperties": false
    },

    "folder": {
      "type": "object",
      "properties": {
        "type": { "const": "folder" },
        "name": { "type": "string" },
        "icon": { "type": "string" },
        "items": {
          "type": "array",
          "items": { "$ref": "#/$defs/folderItem" }
        }
      },
      "required": ["type", "name", "items"],
      "additionalProperties": false
    },

    "tab": {
      "type": "object",
      "properties": {
        "type": { "const": "tab" },
        "url": {
          "type": "string",
          "format": "uri"
        },
        "label": { "type": "string" },
        "image": { "type": "string" },
        "isPinned": { "type": "boolean" }
      },
      "required": ["type", "url"],
      "additionalProperties": false
    },

    "splitView": {
      "type": "object",
      "properties": {
        "type": { "const": "splitView" },
        "tabs": {
          "type": "array",
          "minItems": 2,
          "maxItems": 4,
          "items": { "$ref": "#/$defs/tab" }
        }
      },
      "required": ["type", "tabs"],
      "additionalProperties": false
    },

    "spaceItem": {
      "oneOf": [{ "$ref": "#/$defs/tab" }, { "$ref": "#/$defs/folder" }]
    },

    "folderItem": {
      "oneOf": [{ "$ref": "#/$defs/tab" }, { "$ref": "#/$defs/folder" }]
    }
  }
}



================================================
FILE: src/zen/split-view/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

*       content/browser/zen-styles/zen-decks.css                                (../../zen/split-view/zen-decks.css)
        content/browser/zen-components/ZenViewSplitter.mjs                      (../../zen/split-view/ZenViewSplitter.mjs)


================================================
FILE: src/zen/split-view/zen-decks.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

/** Zen Decks - ONLY USED FOR SPLIT VIEWS, DO NOT USE THIS CLASS FOR ANY OTHER PURPOSE **/

%include zen-split-group.inc.css

#tabbrowser-tabpanels[zen-split-view='true'] {
  display: flex;
  flex-direction: row;
  margin-top: calc(var(--zen-split-column-gap) * -1);
}

#tabbrowser-tabpanels[zen-split-view='true'] > *:not([zen-split='true']) {
  flex: 0;
  margin: 0;
}

#zen-splitview-dropzone {
  border-radius: var(--zen-native-inner-radius);
  transition: inset ease-out 0.08s;
  display: none;
  background-color: color-mix(in srgb, var(--zen-colors-secondary) 30%, transparent 70%);
}
#zen-splitview-dropzone[enabled='true'] {
  display: initial;
}

#tabbrowser-tabpanels[zen-split-view='true'] > [zen-split='true'],
#zen-splitview-dropzone {
  flex: 1;
  overflow: hidden;

  & .dialogStack {
    /* Fix for issue https://github.com/zen-browser/desktop/issues/7564 */
    position: absolute;
  }
}

.browserSidebarContainer[is-zen-split='true'],
#zen-splitview-dropzone {
  position: absolute !important;

  margin: var(--zen-split-column-gap) var(--zen-split-row-gap);
  margin-bottom: 0;
  margin-left: 0;

  &.browserSidebarContainer:not([zen-split='true']) {
    margin-top: 0;
    visibility: hidden;
  }
}

#zen-splitview-dropzone {
  margin-top: 0 !important;
}

#tabbrowser-tabpanels[zen-split-view='true']:not(.zen-split-view-no-transition):not([zen-split-resizing]) > [zen-split='true'] {
  --zen-active-split-outline-color: light-dark(var(--zen-primary-color), var(--button-background-color-primary));

  transition: inset 0.09s ease-out !important;
  & browser {
    transition: opacity 0.2s ease-out !important;
  }
}

#tabbrowser-tabpanels[zen-split-view='true'] .browserSidebarContainer.deck-selected {
  &:not(.zen-glance-overlay) {
    outline: 2px solid var(--zen-active-split-outline-color) !important;
  }

  &.zen-glance-overlay {
    flex: 1;
    margin-top: calc(var(--zen-element-separation) / 2);
    z-index: 1;
  }
}

#tabbrowser-tabbox {
  --zen-split-row-gap: var(--zen-element-separation);
  --zen-split-column-gap: calc(var(--zen-element-separation) + 1px);
}

#tabbrowser-tabbox[zen-split-view='true'] {
  :root[zen-no-padding='true'] & {
    --zen-element-separation: 8px;
  }
  margin-right: calc(-1 * var(--zen-split-column-gap));
}

:root:not([customizing]) #zen-splitview-overlay {
  margin-top: calc(var(--zen-split-column-gap) * -1);
}

#tabbrowser-tabpanels[zen-split-view] {
  .zen-split-view-splitter {
    display: inherit;
  }
}

#zen-splitview-overlay-wrapper {
  position: absolute;
  pointer-events: none;
  padding: inherit;
  inset: 0;
}

#zen-splitview-overlay {
  position: relative;
  flex: 1;
  z-index: 2;
}

.zen-split-view-splitter {
  visibility: inherit;
  -moz-subtree-hidden-only-visually: 0;
  position: absolute;
  pointer-events: all;
}

.zen-split-view-splitter[orient='horizontal'] {
  height: var(--zen-split-column-gap);
  cursor: ns-resize;
}

.zen-view-splitter-header-container {
  position: absolute;
  top: calc(var(--zen-split-column-gap) / -2);
  left: 50%;
  opacity: 0;
  transition: opacity 0.1s;
  z-index: 100;
  transform: translateX(-50%);
  pointer-events: none;
}

.zen-view-splitter-header {
  display: flex;
  align-items: center;
  position: fixed;
  padding: 0.4rem 0.6rem 0.2rem 0.6rem;
  border-radius: 6px;
  background-color: var(--zen-active-split-outline-color);
  box-shadow: 0 0 0 1px var(--button-primary-border-color);
  gap: 0.8rem;
  transform: translateX(-50%);
  box-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.1);
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

:root:not([inDOMFullscreen='true'])
  .browserSidebarContainer:hover
  .zen-view-splitter-header-container,
.zen-view-splitter-header-container:hover {
  pointer-events: all;
  opacity: 1;
  transition-delay: 0.1s;
}

.zen-view-splitter-header-container toolbarbutton {
  display: flex;
  -moz-context-properties: fill, fill-opacity;
  border-radius: var(--tab-border-radius);
  color: inherit;
  fill: currentColor;
  width: 16px;
  height: 16px;
  cursor: pointer;
  appearance: none;
  outline: none;
  border-top-left-radius: 0;
  border-top-right-radius: 0;

  & image {
    width: 14px;
    height: 14px;
  }

  &.zen-tab-unsplit-button image {
    height: 10px;
    width: 10px;
  }

  &.zen-tab-rearrange-button {
    cursor: move;

    & image {
      transform: rotate(90deg);
    }
  }
}

#zen-split-view-fake-browser {
  position: absolute;
  height: 100%;
  border: 2px solid var(--zen-primary-color);
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--zen-native-inner-radius);
  box-shadow: var(--zen-big-shadow);
  overflow: hidden;
  will-change: width, margin-left;

  &[side='top'],
  &[side='bottom'] {
    width: 100%;
    
    &[has-split-view='true'] {
      width: calc(100% - var(--zen-element-separation));
    }
  }

  &[side='right'] {
    right: 0;

    &[has-split-view='true'] {
      right: var(--zen-element-separation);
    }
  }

  &[side='bottom'] {
    bottom: 0;
  }
}

#zen-split-view-drag-image {
  width: 200px;
  height: 250px;
  border-radius: 16px;
  background: black;
  justify-content: center;
  align-items: center;
  padding: 20px;
  gap: 20px;
  position: relative;

  & image {
    width: 24px;
    height: 24px;
  }

  & label {
    color: white;
    font-size: 14px;
    font-weight: bold;
    text-align: center;
  }
}



================================================
FILE: src/zen/split-view/zen-split-group.inc.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

tab-group[split-view-group] {
  display: block;

  @media (prefers-reduced-motion: no-preference) {
    transition: var(--zen-tabbox-element-indent-transition);

    #tabbrowser-tabs[movingtab] & {
      transition: var(--tab-dragover-transition), var(--zen-tabbox-element-indent-transition);
    }
  }
  --zen-split-view-active-tab-bg: color-mix(
    in srgb,
    var(--zen-toolbar-element-bg),
    transparent 40%
  );

  --tab-collapsed-background-width: none;

  :root[zen-sidebar-expanded='true'] & {
    margin-inline-start: var(--zen-folder-indent) !important;
  }

  & .tab-group-label {
    height: 100% !important;
  }

  & .tab-group-container {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;

    border-radius: var(--border-radius-medium);
    padding: 0 2px;
    margin-inline: var(--tab-block-margin);
    margin-block: var(--tab-block-margin);
    min-height: var(--tab-min-height);
    outline: var(--tab-outline);
    outline-offset: var(--tab-outline-offset);
    outline-color: var(--tab-selected-outline-color);
    transition: scale 0.1s ease;
    margin-inline: 2px !important;

    :root:not([zen-sidebar-expanded='true']) & {
      padding: 0;
      --tab-collapsed-width: 38px;
      overflow: clip;
      --tab-min-width: 34px;
      outline: 2px solid var(--zen-colors-border-contrast);
      outline-offset: -2px;
    }

    & > .tabbrowser-tab {
      --tab-selected-bgcolor: var(--zen-split-view-active-tab-bg);
      --tab-hover-background-color: transparent;
      --tab-selected-shadow: none;
      --border-radius-medium: var(--tab-border-radius);
      --zen-active-tab-scale: 1;
      --zen-folder-indent: 0 !important;

      :root[zen-sidebar-expanded='true'] & {
        --tab-min-height: 28px;
      }

      container-type: inline-size;
      container-name: browser-tab;

      flex: 1 !important;
      padding-inline: 2px !important;
      overflow: clip;

      &:not(:last-child)::after {
        content: '';
        width: 1px;
        height: 16px;
        background-color: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.2));
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
      }

      :root:not([zen-sidebar-expanded='true']) &:not(:last-child)::after {
        width: 16px;
        height: 1px;
        top: auto;
        bottom: 0;
        right: 50%;
        transform: translateX(50%);
      }

      & .tab-content {
        min-width: 0;
        padding: 0 4px !important;
        :root[zen-sidebar-expanded='true'] & {
          justify-content: unset !important;
        }
      }
    }

    &:has(> tab:is([visuallyselected], [multiselected])) {
      background-color: var(--tab-selected-bgcolor);
      box-shadow: var(--tab-selected-shadow);

      & > .tabbrowser-tab {
        --tab-hover-background-color: var(--zen-split-view-active-tab-bg);
        & .tab-background {
          background-color: var(--zen-split-view-active-tab-bg) !important;
        }

        &::after {
          display: none;
        }
      }
    }

    &:active {
      scale: var(--zen-active-tab-scale);
    }

    &:hover {
      background-color: var(--zen-toolbar-element-bg);
    }

    & .tab-close-button,
    & .tab-reset-button {
      display: none !important;
    }

    @container browser-tab (min-width: 70px) {
      :root[zen-sidebar-expanded='true'] &:hover > .tabbrowser-tab:not([pinned]:not([pending])) .tab-close-button {
        display: block !important;

        /* This is from Firefox itself, but we need to always override it */
        margin-inline-end: 0 !important;
      }
    }

    @media (prefers-reduced-motion: no-preference) {
      #tabbrowser-tabs[movingtab] & {
        transition: var(--tab-dragover-transition);
      }
    }
  }
}

:root:not([zen-sidebar-expanded='true']) {
  tab-group .tab-group-container {
    flex-direction: column;
  }

  tab-group[split-view-group] {
    min-width: 100%;
  }
}

tab-group[split-view-group] .tabbrowser-tab {
  width: 100%;
  max-width: unset;
}

tab-group[split-view-group] .tab-group-label-container {
  position: absolute;
  width: -moz-available;
  height: 36px;
  visibility: hidden;
  padding: 0 !important;
  margin: 2px 0 0 0 !important;
}

tab-group[split-view-group] .tab-close-button {
  display: block;
  visibility: visible;
}

tab-group[split-view-group] .tab-group-line {
  display: none;
  background: transparent;
}



================================================
FILE: src/zen/split-view/zen-splitview-overlay.inc.xhtml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<hbox id="zen-splitview-overlay-wrapper" hidden="true">
  <hbox id="zen-splitview-overlay">
    <hbox id ="zen-splitview-dropzone"></hbox>
  </hbox>
</hbox>


================================================
FILE: src/zen/tabs/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenPinnedTabManager.mjs                  (../../zen/tabs/ZenPinnedTabManager.mjs)
        content/browser/zen-components/ZenEssentialsPromo.mjs                   (../../zen/tabs/ZenEssentialsPromo.mjs)
*       content/browser/zen-styles/zen-tabs.css                                 (../../zen/tabs/zen-tabs.css)
        content/browser/zen-styles/zen-tabs/vertical-tabs.css                   (../../zen/tabs/zen-tabs/vertical-tabs.css)


================================================
FILE: src/zen/tabs/zen-essentials-promo.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

zen-essentials-promo {
  background: color-mix(in srgb, var(--zen-primary-color) 40%, transparent);
  border: 1px solid var(--zen-primary-color);
  border-radius: var(--border-radius-medium);
  justify-content: center;
  align-items: center;
  padding: 1.1rem 0;
  flex-direction: column;
  margin: 2px;
  text-align: center;
  box-shadow: 0 0 1px 1px rgba(0, 0, 0, 0.1);
  transition: background 0.1s;

  &:not([dragover="true"]) {
    background: color-mix(in srgb, var(--zen-primary-color) 60%, transparent);
    outline: 1px dashed currentColor;
  }

  :root:is(:not([zen-sidebar-expanded="true"]), [zen-unsynced-window="true"]) & {
    display: none !important;
  }

  & image {
    -moz-context-properties: fill;
    fill: currentColor;
    width: 18px;
    margin-bottom: 4px;
  }

  & > * {
    pointer-events: none;
    max-width: 80%;
  }

  & .zen-essentials-promo-title {
    font-weight: 600;
  }

  & .zen-essentials-promo-sublabel {
    opacity: 0.8;
    font-size: smaller;
    margin: 0;
  }
}



================================================
FILE: src/zen/tabs/zen-tabs.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

@import url('chrome://browser/content/zen-styles/zen-tabs/vertical-tabs.css');

#zen-tabbox-wrapper {
  position: relative;
  z-index: 0;
}

@media -moz-pref('zen.workspaces.hide-default-container-indicator') {
  .tabbrowser-tab[zenDefaultUserContextId='true'] .tab-context-line {
    display: none !important;
  }
}

/* ==========================================================================
   Single Toolbar Mode - Top Bar Handling (Includes External CSS)
   ========================================================================== */
:root[zen-single-toolbar='true']:not([customizing]) {
  #zen-appcontent-navbar-wrapper {
    display: flex;
    -moz-window-dragging: drag; /* Allow dragging the window via this bar */
    min-height: var(--zen-element-separation);
    height: var(--zen-element-separation);

    /* Ensure Personal Toolbar takes available width */
    & #PersonalToolbar {
      width: -moz-available;
    }

    /* Include styles for the top bar under certain conditions:
      * - Bookmarks toolbar is visible OR
      * - The container is explicitly marked to hide controls (e.g., on Linux with reversed controls)
      */
    :root[zen-has-bookmarks] &,
    &[should-hide='true'] {
%include zen-tabs/vertical-tabs-topbar.inc.css
    }

    /* Hide the top bar completely in fullscreen mode */
    :root[inDOMFullscreen='true'] & {
      max-height: 0 !important;
      min-height: unset !important;
      opacity: 0 !important;
      pointer-events: none !important;
    }
  }
}


/* ==========================================================================
  Very Special Occasions - Complex Layout Fixes
  ========================================================================== */

/* Exclude these complex fixes if in compact mode */
:root:not([zen-compact-mode='true']) {

  /* --- Fix: Right Sidebar + Collapsed + Standard Window Buttons --- */
  &[zen-right-side='true']:not([zen-sidebar-expanded='true']):not([zen-window-buttons-reversed='true']) {
    /* Push toolbox down below the top toolbar */
    & #navigator-toolbox {
      margin-top: var(--zen-toolbar-height) !important;
    }
    /* Pull window buttons container leftwards over the collapsed sidebar */
    & .titlebar-buttonbox-container {
      margin-right: calc(-1 * var(--zen-toolbox-max-width)) !important;
    }
    /* Allow overflow for the button box */
    & #zen-appcontent-wrapper {
      overflow-x: visible;
    }
    /* Reset padding for top buttons */
    & #zen-sidebar-top-buttons-customization-target {
      padding-top: 0;
    }
    /* Include common fixes for this top-button scenario */
%include zen-tabs/vertical-tabs-topbuttons-fix.css
  }

  /* --- Fix: Left Sidebar + Collapsed + Reversed Window Buttons --- */
  &:not([zen-right-side='true']):not([zen-sidebar-expanded='true'])[zen-window-buttons-reversed='true'] {
    /* Push toolbox down below the top toolbar */
    & #navigator-toolbox {
      margin-top: var(--zen-toolbar-height) !important;
    }
    /* Pull window buttons container rightwards over the collapsed sidebar */
    & .titlebar-buttonbox-container {
      margin-left: calc(-1 * var(--zen-toolbox-max-width) + var(--zen-toolbox-padding)) !important;
    }
    /* Allow overflow for the button box */
    & #zen-appcontent-wrapper {
      overflow-x: visible;
    }
    /* Reset padding for top buttons */
    & #zen-sidebar-top-buttons-customization-target {
      padding-top: 0;
    }
    /* Add padding to the right of the nav container */
    & #zen-appcontent-navbar-container {
      padding-right: var(--zen-element-separation);
    }
    /* Include common fixes for this top-button scenario */
%include zen-tabs/vertical-tabs-topbuttons-fix.css
  }

  &:not([zen-right-side='true']):not([zen-sidebar-expanded='true']):not([zen-window-buttons-reversed='true']),
  &[zen-right-side='true']:not([zen-sidebar-expanded='true'])[zen-window-buttons-reversed='true'] {
    & #titlebar {
      padding-top: var(--zen-toolbar-height);
    }

    & #nav-bar {
      width: calc(100% + var(--zen-toolbox-max-width) - var(--zen-element-separation));

      /**
       * We only want it when the window buttons are on the left side, in other
       * words, the first of the two selectors above.
       */
      :root:not([zen-window-buttons-reversed='true']) & {
        margin-left: calc(-1 * var(--zen-toolbox-max-width) + var(--zen-element-separation) + 4px);
      }
    }
  }
}

%include zen-essentials-promo.css



================================================
FILE: src/zen/tabs/ZenEssentialsPromo.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

const TAG_NAME = "zen-essentials-promo";

// Even though its costly, we need to update the pinned height
// whenever the promo is added or removed, to avoid any flickering.
function updatePinnedHeight() {
  gZenWorkspaces.updateTabsContainers();
}

class nsZenEssentialsPromo extends MozXULElement {
  #hasConnected = false;

  static markup = `
    <image src="${gZenEmojiPicker.getSVGURL("heart.svg")}" />
    <label data-l10n-id="zen-essentials-promo-label" class="zen-essentials-promo-title"></label>
    <label data-l10n-id="zen-essentials-promo-sublabel" class="zen-essentials-promo-sublabel"></label>
  `;

  connectedCallback() {
    if (this.delayConnectedCallback() || this.#hasConnected) {
      return;
    }

    this.appendChild(this.constructor.fragment);
    this.classList.add("zen-drop-target");
    this.#hasConnected = true;
  }

  remove() {
    const section = this.parentElement;
    if (section) {
      delete section.essentialsPromo;
    }
    super.remove();
    updatePinnedHeight();
  }
}

/**
 * Create and append the Zen Essentials promo element to the given container.
 *
 * @param {number|undefined} container - The container to append the promo to.
 *  If undefined, appends to the current workspace's tab strip.
 * @returns {"created"|"shown"|false} - "created" if the promo was created and appended,
 *  "exists" if the promo already exists, or false if the section is not empty.
 */
export function createZenEssentialsPromo(container = undefined) {
  if (container === undefined) {
    container = gZenWorkspaces.getCurrentSpaceContainerId();
  }
  const section = gZenWorkspaces.getEssentialsSection(container);
  if (!section || section.essentialsPromo) {
    return "shown";
  }
  if (section.children.length) {
    return false;
  }
  const element = document.createXULElement(TAG_NAME);
  section.appendChild(element);
  section.essentialsPromo = element;
  updatePinnedHeight();
  return "created";
}

customElements.define(TAG_NAME, nsZenEssentialsPromo);



================================================
FILE: src/zen/tabs/ZenPinnedTabManager.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

import { nsZenDOMOperatedFeature } from "chrome://browser/content/zen-components/ZenCommonUtils.mjs";

const lazy = {};

class ZenPinnedTabsObserver {
  static ALL_EVENTS = ["TabPinned", "TabUnpinned"];

  #listeners = [];

  constructor() {
    // eslint-disable-next-line mozilla/valid-lazy
    XPCOMUtils.defineLazyPreferenceGetter(
      lazy,
      "zenPinnedTabRestorePinnedTabsToPinnedUrl",
      "zen.pinned-tab-manager.restore-pinned-tabs-to-pinned-url",
      false
    );
    XPCOMUtils.defineLazyPreferenceGetter(
      lazy,
      "zenPinnedTabCloseShortcutBehavior",
      "zen.pinned-tab-manager.close-shortcut-behavior",
      "switch"
    );
    XPCOMUtils.defineLazyPreferenceGetter(
      lazy,
      "zenTabsEssentialsMax",
      "zen.tabs.essentials.max",
      12
    );
    ChromeUtils.defineESModuleGetters(lazy, {
      // eslint-disable-next-line mozilla/valid-lazy
      E10SUtils: "resource://gre/modules/E10SUtils.sys.mjs",
      TabStateCache: "resource:///modules/sessionstore/TabStateCache.sys.mjs",
    });
    this.#listenPinnedTabEvents();
  }

  #listenPinnedTabEvents() {
    const eventListener = this.#eventListener.bind(this);
    for (const event of ZenPinnedTabsObserver.ALL_EVENTS) {
      window.addEventListener(event, eventListener);
    }
    window.addEventListener("unload", () => {
      for (const event of ZenPinnedTabsObserver.ALL_EVENTS) {
        window.removeEventListener(event, eventListener);
      }
    });
  }

  #eventListener(event) {
    for (const listener of this.#listeners) {
      listener(event.type, event);
    }
  }

  addPinnedTabListener(listener) {
    this.#listeners.push(listener);
  }
}

class nsZenPinnedTabManager extends nsZenDOMOperatedFeature {
  init() {
    if (!this.enabled) {
      return;
    }
    this._canLog = Services.prefs.getBoolPref("zen.pinned-tab-manager.debug", false);
    this.observer = new ZenPinnedTabsObserver();
    this._initClosePinnedTabShortcut();
    this._insertItemsIntoTabContextMenu();
    this.observer.addPinnedTabListener(this._onPinnedTabEvent.bind(this));

    this._zenClickEventListener = this._onTabClick.bind(this);

    gZenWorkspaces._resolvePinnedInitialized();
    if (lazy.zenPinnedTabRestorePinnedTabsToPinnedUrl) {
      gZenWorkspaces.promiseInitialized.then(() => {
        for (const tab of gZenWorkspaces.allStoredTabs) {
          try {
            this.resetPinnedTab(tab);
          } catch (ex) {
            console.error("Error restoring pinned tab:", ex);
          }
        }
      });
    }
  }

  log(message) {
    if (this._canLog) {
      /* eslint-disable-next-line no-console */
      console.log(`[ZenPinnedTabManager] ${message}`);
    }
  }

  onTabIconChanged(tab, url = null) {
    tab.dispatchEvent(new CustomEvent("ZenTabIconChanged", { bubbles: true, detail: { tab } }));
    if (tab.hasAttribute("zen-essential")) {
      this.setEssentialTabIcon(tab, url);
    }
  }

  setEssentialTabIcon(tab, url = null) {
    const iconUrl = url ?? tab.getAttribute("image") ?? "";
    tab.style.setProperty("--zen-essential-tab-icon", `url(${iconUrl})`);
  }

  _onTabResetPinButton(event, tab) {
    event.stopPropagation();
    this._resetTabToStoredState(tab);
  }

  get enabled() {
    return !gZenWorkspaces.privateWindowOrDisabled;
  }

  get maxEssentialTabs() {
    return lazy.zenTabsEssentialsMax;
  }

  _onPinnedTabEvent(action, event) {
    if (!this.enabled) {
      return;
    }
    const tab = event.target;
    if (this._ignoreNextTabPinnedEvent) {
      delete this._ignoreNextTabPinnedEvent;
      return;
    }
    switch (action) {
      case "TabPinned":
        tab._zenClickEventListener = this._zenClickEventListener;
        tab.addEventListener("click", tab._zenClickEventListener);
        break;
      // [Fall through]
      case "TabUnpinned":
        if (tab._zenClickEventListener) {
          tab.removeEventListener("click", tab._zenClickEventListener);
          delete tab._zenClickEventListener;
        }
        this.resetPinChangedUrl(tab);
        break;
      default:
        console.warn("ZenPinnedTabManager: Unhandled tab event", action);
        break;
    }
  }

  #getTabState(tab) {
    return JSON.parse(SessionStore.getTabState(tab));
  }

  async _onTabClick(e) {
    const tab = e.target?.closest("tab");
    if (e.button === 1 && tab) {
      await this.onCloseTabShortcut(e, tab, {
        closeIfPending: Services.prefs.getBoolPref("zen.pinned-tab-manager.wheel-close-if-pending"),
      });
    }
  }

  resetPinnedTab(tab) {
    if (!tab) {
      tab = TabContextMenu.contextTab;
    }

    if (!tab || !tab.pinned) {
      return;
    }

    this._resetTabToStoredState(tab);
  }

  replacePinnedUrlWithCurrent(tab = undefined) {
    tab ??= TabContextMenu.contextTab;
    if (!tab || !tab.pinned) {
      return;
    }

    window.gZenWindowSync.setPinnedTabState(tab);
    this.resetPinChangedUrl(tab);
    gZenUIManager.showToast("zen-pinned-tab-replaced");
  }

  _initClosePinnedTabShortcut() {
    let cmdClose = document.getElementById("cmd_close");

    if (cmdClose) {
      cmdClose.addEventListener("command", this.onCloseTabShortcut.bind(this));
    }
  }

  // eslint-disable-next-line complexity
  async onCloseTabShortcut(
    event,
    selectedTab = gBrowser.selectedTab,
    {
      behavior = lazy.zenPinnedTabCloseShortcutBehavior,
      noClose = false,
      closeIfPending = false,
      alwaysUnload = false,
      folderToUnload = null,
    } = {}
  ) {
    try {
      const tabs = Array.isArray(selectedTab) ? selectedTab : [selectedTab];
      const pinnedTabs = [
        ...new Set(
          tabs
            .flatMap((tab) => {
              if (tab.group?.hasAttribute("split-view-group")) {
                return tab.group.tabs;
              }
              return tab;
            })
            .filter((tab) => tab?.pinned)
        ),
      ];

      if (!pinnedTabs.length) {
        return;
      }

      const selectedTabs = pinnedTabs.filter((tab) => tab.selected);

      event.stopPropagation();
      event.preventDefault();

      if (noClose && behavior === "close") {
        behavior = "unload-switch";
      }

      if (alwaysUnload && ["close", "reset", "switch", "reset-switch"].includes(behavior)) {
        behavior = behavior.contains("reset") ? "reset-unload-switch" : "unload-switch";
      }

      switch (behavior) {
        case "close": {
          for (const tab of pinnedTabs) {
            gBrowser.removeTab(tab, { animate: true });
          }
          break;
        }
        case "reset-unload-switch":
        case "unload-switch":
        case "reset-switch":
        case "switch":
          if (behavior.includes("unload")) {
            for (const tab of pinnedTabs) {
              if (tab.hasAttribute("glance-id")) {
                // We have a glance tab inside the tab we are trying to unload,
                // before we used to just ignore it but now we need to fully close
                // it as well.
                gZenGlanceManager.manageTabClose(tab.glanceTab);
                await new Promise((resolve) => {
                  let hasRan = false;
                  const onGlanceClose = () => {
                    hasRan = true;
                    resolve();
                  };
                  window.addEventListener("GlanceClose", onGlanceClose, { once: true });
                  // Set a timeout to resolve the promise if the event doesn't fire.
                  // We do this to prevent any future issues where glance woudnt close such as
                  // glance requering to ask for permit unload.
                  setTimeout(() => {
                    if (!hasRan) {
                      console.warn("GlanceClose event did not fire within 3 seconds");
                      resolve();
                    }
                  }, 3000);
                });
                return;
              }
              const isSpltView = tab.group?.hasAttribute("split-view-group");
              const group = isSpltView ? tab.group.group : tab.group;
              if (!folderToUnload && tab.hasAttribute("folder-active")) {
                await gZenFolders.animateUnload(group, tab);
              }
            }
            if (folderToUnload) {
              await gZenFolders.animateUnloadAll(folderToUnload);
            }
            const allAreUnloaded = pinnedTabs.every(
              (tab) => tab.hasAttribute("pending") && !tab.hasAttribute("zen-essential")
            );
            for (const tabItem of pinnedTabs) {
              if (allAreUnloaded && closeIfPending) {
                await this.onCloseTabShortcut(event, tabItem, { behavior: "close" });
                return;
              }
            }
            await gBrowser.explicitUnloadTabs(pinnedTabs);
            for (const tab of pinnedTabs) {
              tab.removeAttribute("discarded");
            }
          }
          if (selectedTabs.length) {
            this._handleTabSwitch(selectedTabs[0]);
          }
          if (behavior.includes("reset")) {
            for (const tab of pinnedTabs) {
              this._resetTabToStoredState(tab);
            }
          }
          break;
        case "reset":
          for (const tab of pinnedTabs) {
            this._resetTabToStoredState(tab);
          }
          break;
        default:
      }
    } catch (ex) {
      console.error("Error handling close tab shortcut for pinned tab:", ex);
    }
  }

  _handleTabSwitch(selectedTab) {
    if (selectedTab !== gBrowser.selectedTab) {
      return;
    }
    const findNextTab = (direction) =>
      gBrowser.tabContainer.findNextTab(selectedTab, {
        direction,
        filter: (tab) => !tab.hidden && !tab.pinned,
      });

    let nextTab = findNextTab(1) || findNextTab(-1);

    if (!nextTab) {
      gZenWorkspaces.selectEmptyTab();
      return;
    }

    if (nextTab) {
      gBrowser.selectedTab = nextTab;
    }
  }

  _resetTabToStoredState(tab) {
    const state = this.#getTabState(tab);

    const initialState = tab._zenPinnedInitialState;
    if (!initialState?.entry) {
      return;
    }

    // Remove everything except the entry we want to keep
    state.entries = [initialState.entry];

    state.image = tab.zenStaticIcon || initialState.image;
    state.index = 0;

    SessionStore.setTabState(tab, state);
    this.resetPinChangedUrl(tab);
  }

  async getFaviconAsBase64(pageUrl) {
    try {
      const faviconData = await PlacesUtils.favicons.getFaviconForPage(pageUrl);
      if (!faviconData) {
        // empty favicon
        return null;
      }
      return faviconData.dataURI;
    } catch (ex) {
      console.error("Failed to get favicon:", ex);
      return null;
    }
  }

  addToEssentials(tab) {
    // eslint-disable-next-line no-nested-ternary
    const tabs = tab
      ? // if it's already an array, dont make it [tab]
        tab?.length
        ? tab
        : [tab]
      : TabContextMenu.contextTab.multiselected
        ? gBrowser.selectedTabs
        : [TabContextMenu.contextTab];
    let movedAll = true;
    for (let i = 0; i < tabs.length; i++) {
      // eslint-disable-next-line no-shadow
      let tab = tabs[i];
      const section = gZenWorkspaces.getEssentialsSection(tab);
      if (!this.canEssentialBeAdded(tab)) {
        movedAll = false;
        continue;
      }
      if (tab.hasAttribute("zen-essential")) {
        continue;
      }
      tab.setAttribute("zen-essential", "true");
      if (tab.hasAttribute("zen-workspace-id")) {
        tab.removeAttribute("zen-workspace-id");
      }
      if (tab.pinned) {
        gBrowser.zenHandleTabMove(tab, () => {
          if (tab.ownerGlobal !== window) {
            tab = gBrowser.adoptTab(tab, {
              selectTab: tab.selected,
            });
            tab.setAttribute("zen-essential", "true");
          }
          section.appendChild(tab);
        });
      } else {
        gBrowser.pinTab(tab);
        this._ignoreNextTabPinnedEvent = true;
      }
      tab.setAttribute("zenDefaultUserContextId", true);
      if (tab.selected) {
        gZenWorkspaces.switchTabIfNeeded(tab);
      }
      this.onTabIconChanged(tab);
      // Dispatch the event to update the UI
      const event = new CustomEvent("TabAddedToEssentials", {
        detail: { tab },
        bubbles: true,
        cancelable: false,
      });
      tab.dispatchEvent(event);
    }
    gZenUIManager.updateTabsToolbar();
    return movedAll;
  }

  removeEssentials(tab, unpin = true) {
    // eslint-disable-next-line no-nested-ternary
    const tabs = tab
      ? [tab]
      : TabContextMenu.contextTab.multiselected
        ? gBrowser.selectedTabs
        : [TabContextMenu.contextTab];
    for (let i = 0; i < tabs.length; i++) {
      // eslint-disable-next-line no-shadow
      const tab = tabs[i];
      tab.removeAttribute("zen-essential");
      if (gZenWorkspaces.workspaceEnabled && gZenWorkspaces.getActiveWorkspaceFromCache().uuid) {
        tab.setAttribute("zen-workspace-id", gZenWorkspaces.getActiveWorkspaceFromCache().uuid);
      }
      if (unpin) {
        gBrowser.unpinTab(tab);
      } else {
        gBrowser.zenHandleTabMove(tab, () => {
          const pinContainer = gZenWorkspaces.pinnedTabsContainer;
          pinContainer.prepend(tab);
        });
      }
      // Dispatch the event to update the UI
      const event = new CustomEvent("TabRemovedFromEssentials", {
        detail: { tab },
        bubbles: true,
        cancelable: false,
      });
      tab.dispatchEvent(event);
    }
    gZenUIManager.updateTabsToolbar();
  }

  _insertItemsIntoTabContextMenu() {
    if (!this.enabled) {
      return;
    }
    const elements = window.MozXULElement.parseXULToFragment(`
            <menuseparator id="context_zen-pinned-tab-separator" hidden="true"/>
            <menuitem id="context_zen-replace-pinned-url-with-current"
                      data-lazy-l10n-id="tab-context-zen-replace-pinned-url-with-current"
                      hidden="true"
                      command="cmd_zenReplacePinnedUrlWithCurrent"/>
            <menuitem id="context_zen-reset-pinned-tab"
                      data-lazy-l10n-id="tab-context-zen-reset-pinned-tab"
                      hidden="true"
                      command="cmd_zenPinnedTabResetNoTab"/>
        `);
    document.getElementById("tabContextMenu").appendChild(elements);

    const element = window.MozXULElement.parseXULToFragment(`
            <menuitem id="context_zen-add-essential"
                      data-l10n-id="tab-context-zen-add-essential"
                      hidden="true"
                      disabled="true"
                      command="cmd_contextZenAddToEssentials"/>
            <menuitem id="context_zen-remove-essential"
                      data-lazy-l10n-id="tab-context-zen-remove-essential"
                      hidden="true"
                      command="cmd_contextZenRemoveFromEssentials"/>
            <menuseparator/>
            <menuitem id="context_zen-edit-tab-title"
                      data-lazy-l10n-id="tab-context-zen-edit-title"
                      hidden="true"/>
            <menuitem id="context_zen-edit-tab-icon"
                      data-lazy-l10n-id="tab-context-zen-edit-icon"/>
            <menuseparator/>
        `);

    document.getElementById("context_pinTab")?.before(element);
    document.getElementById("context_zen-edit-tab-title").addEventListener("command", (event) => {
      gZenVerticalTabsManager.renameTabStart(event);
    });
    document.getElementById("context_zen-edit-tab-icon").addEventListener("command", () => {
      const tab = TabContextMenu.contextTab;
      gZenEmojiPicker
        .open(tab.iconImage, { emojiAsSVG: true })
        .then((icon) => {
          if (icon) {
            tab.zenStaticIcon = icon;
          } else {
            delete tab.zenStaticIcon;
          }
          gBrowser.setIcon(tab, icon);
          lazy.TabStateCache.update(tab.permanentKey, {
            image: null,
          });
        })
        .catch((err) => {
          console.error(err);
        });
    });
  }

  updatePinnedTabContextMenu(contextTab) {
    if (!this.enabled) {
      document.getElementById("context_pinTab").hidden = true;
      return;
    }
    const isVisible = contextTab.pinned && !contextTab.multiselected;
    const isEssential = contextTab.getAttribute("zen-essential");
    const zenAddEssential = document.getElementById("context_zen-add-essential");
    const zenResetPinnedTab = document.getElementById("context_zen-reset-pinned-tab");
    const zenReplacePinnedUrl = document.getElementById(
      "context_zen-replace-pinned-url-with-current"
    );
    [zenResetPinnedTab, zenReplacePinnedUrl].forEach((element) => {
      if (element) {
        element.hidden = !isVisible;
        document.l10n.setArgs(element, { isEssential });
      }
    });
    zenAddEssential.hidden = isEssential || !!contextTab.group;
    document.l10n
      .formatValue("tab-context-zen-add-essential-badge", {
        num: gBrowser._numZenEssentials,
        max: this.maxEssentialTabs,
      })
      .then((badgeText) => {
        zenAddEssential.setAttribute("badge", badgeText);
      });
    document
      .getElementById("cmd_contextZenAddToEssentials")
      .setAttribute("disabled", !this.canEssentialBeAdded(contextTab));
    document.getElementById("context_closeTab").hidden = contextTab.hasAttribute("zen-essential");
    document.getElementById("context_zen-remove-essential").hidden = !isEssential;
    document.getElementById("context_unpinTab").hidden =
      document.getElementById("context_unpinTab").hidden || isEssential;
    document.getElementById("context_unpinSelectedTabs").hidden =
      document.getElementById("context_unpinSelectedTabs").hidden || isEssential;
    document.getElementById("context_zen-pinned-tab-separator").hidden = !isVisible;
    document.getElementById("context_zen-edit-tab-title").hidden =
      isEssential ||
      !Services.prefs.getBoolPref("zen.tabs.rename-tabs") ||
      !gZenVerticalTabsManager._prefsSidebarExpanded;
  }

  // eslint-disable-next-line complexity
  moveToAnotherTabContainerIfNecessary(event, draggedTab, movingTabs, dropIndex) {
    let newIndex = dropIndex;
    let fromDifferentWindow = false;
    movingTabs = Array.from(movingTabs || draggedTab)
      .reverse()
      .map((tab) => {
        if (!gBrowser.isTab(tab)) {
          return tab;
        }
        let workspaceId;
        if (tab.ownerGlobal !== window) {
          fromDifferentWindow = true;
          if (
            !tab.hasAttribute("zen-essential") &&
            tab.getAttribute("zen-workspace-id") != gZenWorkspaces.activeWorkspace
          ) {
            workspaceId = gZenWorkspaces.activeWorkspace;
            tab.ownerGlobal.gBrowser.selectedTab = tab.ownerGlobal.gBrowser._findTabToBlurTo(
              tab,
              movingTabs
            );
            tab.ownerGlobal.gZenWorkspaces.moveTabToWorkspace(tab, workspaceId);
          }
          // Move the tabs into this window. To avoid multiple tab-switches in
          // the original window, the selected tab should be adopted last.
          tab = gBrowser.adoptTab(tab, {
            elementIndex: newIndex,
            selectTab: tab == draggedTab,
            spaceId: workspaceId,
          });
          if (tab) {
            ++newIndex;
          }
          if (workspaceId) {
            tab.setAttribute("zen-workspace-id", workspaceId);
          }
        }
        return tab;
      });
    if (fromDifferentWindow) {
      gBrowser.addRangeToMultiSelectedTabs(
        gBrowser.tabContainer.dragAndDropElements[dropIndex],
        gBrowser.tabContainer.dragAndDropElements[newIndex - 1]
      );
    }
    try {
      const pinnedTabsTarget = event.target.closest(
        ":is(.zen-current-workspace-indicator, .zen-workspace-pinned-tabs-section)"
      );
      const essentialTabsTarget = event.target.closest(".zen-essentials-container");
      const tabsTarget = !pinnedTabsTarget;
      let currentEssenialContainer = gZenWorkspaces.getCurrentEssentialsContainer();
      if (currentEssenialContainer?.essentialsPromo) {
        currentEssenialContainer.essentialsPromo.remove();
      }

      movingTabs = movingTabs.filter((tab) =>
        gBrowser.isTabGroupLabel(tab) && tab.group?.isZenFolder
          ? !tabsTarget && !essentialTabsTarget
          : true
      );

      // TODO: Solve the issue of adding a tab between two groups
      // Remove group labels from the moving tabs and replace it
      // with the sub tabs
      for (let i = 0; i < movingTabs.length; i++) {
        const tab = movingTabs[i];
        if (gBrowser.isTabGroupLabel(tab)) {
          const group = tab.group;
          // remove label and add sub tabs to moving tabs
          if (group) {
            movingTabs.splice(i, 1, ...group.tabs);
          }
        }
      }

      let isVertical = this.expandedSidebarMode;
      let moved = false;
      let hasActuallyMoved;
      for (const tab of movingTabs) {
        let isRegularTabs = false;
        // Check for essentials container
        if (essentialTabsTarget) {
          if (!tab.hasAttribute("zen-essential") && !tab?.group?.hasAttribute("split-view-group")) {
            moved = true;
            isVertical = false;
            hasActuallyMoved = this.addToEssentials(tab);
          }
        }
        // Check for pinned tabs container
        else if (pinnedTabsTarget) {
          if (!tab.pinned) {
            gBrowser.pinTab(tab);
          } else if (tab.hasAttribute("zen-essential")) {
            this.removeEssentials(tab, false);
            moved = true;
          }
        }
        // Check for normal tabs container
        else if (tabsTarget || event.target.id === "zen-tabs-wrapper") {
          if (tab.pinned && !tab.hasAttribute("zen-essential")) {
            gBrowser.unpinTab(tab);
            isRegularTabs = true;
          } else if (tab.hasAttribute("zen-essential")) {
            this.removeEssentials(tab);
            moved = true;
            isRegularTabs = true;
          }
        }

        if (typeof hasActuallyMoved === "undefined") {
          hasActuallyMoved = moved;
        }

        // If the tab was moved, adjust its position relative to the target tab
        if (hasActuallyMoved) {
          const targetTab = event.target.closest(".tabbrowser-tab");
          const targetFolder = event.target.closest("zen-folder");
          let targetElem = targetTab || targetFolder?.labelElement;
          if (targetElem?.group?.activeGroups?.length > 0) {
            const activeGroup = targetElem.group.activeGroups.at(-1);
            targetElem = activeGroup.labelElement;
          }
          if (targetElem) {
            const rect = targetElem.getBoundingClientRect();
            let elementIndex = targetElem.elementIndex;

            if (isVertical || !this.expandedSidebarMode) {
              const middleY = targetElem.screenY + rect.height / 2;
              if (!isRegularTabs && event.screenY > middleY) {
                elementIndex++;
              } else if (isRegularTabs && event.screenY < middleY) {
                elementIndex--;
              }
            } else {
              const middleX = targetElem.screenX + rect.width / 2;
              if (event.screenX > middleX) {
                elementIndex++;
              }
            }
            // If it's the last tab, move it to the end
            if (tabsTarget === gBrowser.tabs.at(-1)) {
              elementIndex++;
            }

            gBrowser.moveTabTo(tab, {
              elementIndex,
              forceUngrouped: targetElem?.group?.collapsed !== false,
            });
          }
        }
      }
      return moved;
    } catch (ex) {
      console.error("Error moving tabs:", ex);
      return false;
    }
  }

  onLocationChange(browser) {
    const tab = gBrowser.getTabForBrowser(browser);
    if (
      !tab ||
      !tab.pinned ||
      tab.hasAttribute("zen-essential") ||
      !tab._zenPinnedInitialState?.entry
    ) {
      return;
    }
    // Remove # and ? from the URL
    const pinUrl = tab._zenPinnedInitialState.entry.url.split("#")[0];
    const currentUrl = browser.currentURI.spec.split("#")[0];
    // Add an indicator that the pin has been changed
    if (pinUrl === currentUrl) {
      this.resetPinChangedUrl(tab);
      return;
    }
    this.pinHasChangedUrl(tab);
  }

  resetPinChangedUrl(tab) {
    if (!tab.hasAttribute("zen-pinned-changed")) {
      return;
    }
    tab.removeAttribute("zen-pinned-changed");
    tab.removeAttribute("had-zen-pinned-changed");
    tab.style.removeProperty("--zen-original-tab-icon");
  }

  pinHasChangedUrl(tab) {
    if (tab.hasAttribute("zen-pinned-changed")) {
      return;
    }
    if (tab.group?.hasAttribute("split-view-group")) {
      tab.setAttribute("had-zen-pinned-changed", "true");
    } else {
      tab.setAttribute("zen-pinned-changed", "true");
    }
    tab.style.setProperty("--zen-original-tab-icon", `url(${tab._zenPinnedInitialState.image})`);
  }

  removeTabContainersDragoverClass(hideIndicator = true) {
    this.dragIndicator.remove();
    this._dragIndicator = null;
    if (hideIndicator) {
      gZenWorkspaces.activeWorkspaceIndicator?.removeAttribute("open");
    }
  }

  get dragIndicator() {
    if (!this._dragIndicator) {
      this._dragIndicator = document.createElement("div");
      this._dragIndicator.id = "zen-drag-indicator";
      gNavToolbox.appendChild(this._dragIndicator);
    }
    return this._dragIndicator;
  }

  get expandedSidebarMode() {
    return document.documentElement.getAttribute("zen-sidebar-expanded") === "true";
  }

  canEssentialBeAdded(tab) {
    return (
      !(
        (tab.getAttribute("usercontextid") || 0) !=
          gZenWorkspaces.getActiveWorkspaceFromCache().containerTabId &&
        gZenWorkspaces.containerSpecificEssentials
      ) && gBrowser._numZenEssentials < this.maxEssentialTabs
    );
  }

  // eslint-disable-next-line complexity
  applyDragoverClass(event, draggedTab) {
    if (!this.enabled) {
      return;
    }
    let isVertical = this.expandedSidebarMode;
    if (
      gBrowser.isTabGroupLabel(draggedTab) &&
      !draggedTab?.group?.hasAttribute("split-view-group")
    ) {
      // If the target is a tab group label, we don't want to apply the dragover class
      this.removeTabContainersDragoverClass();
      return;
    }
    const pinnedTabsTarget = event.target.closest(".zen-workspace-pinned-tabs-section");
    const essentialTabsTarget = event.target.closest(".zen-essentials-container");
    const tabsTarget = event.target.closest(".zen-workspace-normal-tabs-section");
    const folderTarget = event.target.closest("zen-folder");
    let targetTab = event.target.closest(".tabbrowser-tab");
    targetTab = targetTab?.group || targetTab;
    draggedTab = draggedTab?.group?.hasAttribute("split-view-group")
      ? draggedTab.group
      : draggedTab;
    const isHoveringIndicator = !!event.target.closest(".zen-current-workspace-indicator");
    if (isHoveringIndicator) {
      this.removeTabContainersDragoverClass(false);
      gZenWorkspaces.activeWorkspaceIndicator?.setAttribute("open", true);
    } else {
      gZenWorkspaces.activeWorkspaceIndicator?.removeAttribute("open");
    }

    if (draggedTab?._dragData?.movingTabs) {
      gZenFolders.ungroupTabsFromActiveGroups(draggedTab._dragData.movingTabs);
    }

    let shouldAddDragOverElement = false;

    // Decide whether we should show a dragover class for the given target
    if (essentialTabsTarget) {
      if (!draggedTab.hasAttribute("zen-essential") && this.canEssentialBeAdded(draggedTab)) {
        shouldAddDragOverElement = true;
        isVertical = false;
      }
    } else if (pinnedTabsTarget) {
      if (draggedTab.hasAttribute("zen-essential")) {
        shouldAddDragOverElement = true;
      }
    } else if (tabsTarget) {
      if (draggedTab.hasAttribute("zen-essential")) {
        shouldAddDragOverElement = true;
      }
    }

    if (!shouldAddDragOverElement || (!targetTab && !folderTarget) || !targetTab) {
      this.removeTabContainersDragoverClass(!isHoveringIndicator);
      return;
    }

    // Calculate middle to decide 'before' or 'after'
    const rect = targetTab.getBoundingClientRect();
    let shouldPlayHapticFeedback = false;
    if (isVertical || !this.expandedSidebarMode) {
      const separation = 8;
      const middleY = targetTab.screenY + rect.height / 2;
      const indicator = this.dragIndicator;
      // eslint-disable-next-line no-shadow
      let top = 0;
      if (event.screenY > middleY) {
        top = Math.round(rect.top + rect.height) + "px";
      } else {
        top = Math.round(rect.top) + "px";
      }
      if (indicator.style.top !== top) {
        shouldPlayHapticFeedback = true;
      }
      indicator.setAttribute("orientation", "horizontal");
      indicator.style.setProperty("--indicator-left", rect.left + separation / 2 + "px");
      indicator.style.setProperty("--indicator-width", rect.width - separation + "px");
      indicator.style.top = top;
      indicator.style.removeProperty("left");
    } else {
      const separation = 8;
      const middleX = targetTab.screenX + rect.width / 2;
      const indicator = this.dragIndicator;
      let left = 0;
      if (event.screenX > middleX) {
        left = Math.round(rect.left + rect.width + 1) + "px";
      } else {
        left = Math.round(rect.left - 2) + "px";
      }
      if (indicator.style.left !== left) {
        shouldPlayHapticFeedback = true;
      }
      indicator.setAttribute("orientation", "vertical");
      indicator.style.setProperty("--indicator-top", rect.top + separation / 2 + "px");
      indicator.style.setProperty("--indicator-height", rect.height - separation + "px");
      indicator.style.left = left;
      indicator.style.removeProperty("top");
    }
    if (shouldPlayHapticFeedback) {
      // eslint-disable-next-line mozilla/valid-services
      Services.zen.playHapticFeedback();
    }
  }

  onTabLabelChanged(tab) {
    tab.dispatchEvent(new CustomEvent("ZenTabLabelChanged", { bubbles: true, detail: { tab } }));
  }
}

window.gZenPinnedTabManager = new nsZenPinnedTabManager();



================================================
FILE: src/zen/tabs/zen-tabs/vertical-tabs-topbar.inc.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

--zen-toolbar-height: 34px;

height: var(--zen-toolbar-height);
z-index: 1;

#zen-appcontent-navbar-container {
  display: flex;
  min-height: var(--zen-toolbar-height);
}

@media -moz-pref('zen.view.hide-window-controls') {
  transition: height var(--zen-hidden-toolbar-transition), opacity var(--zen-hidden-toolbar-transition);
  will-change: height, opacity;
  transition-delay: 0.2s;
  overflow: clip;

%include ../../compact-mode/windows-captions-fix-active.inc.css

  &:not([zen-has-hover='true']):not([has-popup-menu]):not([zen-compact-mode-active]) {
    height: var(--zen-element-separation);
    opacity: 0;
    & #zen-appcontent-navbar-container {
      pointer-events: none;
    }

%include ../../compact-mode/windows-captions-fix-default.inc.css
  }

  @media -moz-pref('zen.view.experimental-no-window-controls') {
    :root:not([zen-has-bookmarks]) & {
      max-height: 0 !important;
      overflow: hidden;
      opacity: 0 !important;
      pointer-events: none !important;
    }
  }
}



================================================
FILE: src/zen/tabs/zen-tabs/vertical-tabs-topbuttons-fix.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

&:not([zen-compact-animating])
  #zen-sidebar-top-buttons:not(:has(#zen-sidebar-top-buttons-customization-target > *:not(#zen-sidebar-top-buttons-separator), .titlebar-buttonbox-container)) {
  max-height: 0 !important;
  min-height: 0 !important;
  opacity: 0;
  overflow: hidden;
  pointer-events: none;
}



================================================
FILE: src/zen/tabs/zen-tabs/vertical-tabs.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

/* ==========================================================================
   Initial Setup & Layout Changes for Vertical Tabs
   ========================================================================== */

#tabbrowser-tabs,
#TabsToolbar,
#titlebar,
#TabsToolbar-customization-target {
  flex-direction: column;
  height: 100%;
}

#zen-appcontent-navbar-container {
  width: 100%;
}

#pinned-drop-indicator,
#drag-to-pin-promo-card {
  /* We dont use this firefox feature */
  display: none !important;
}

/* ==========================================================================
   Single Toolbar Mode Specific Styles (`zen-single-toolbar='true'`)
   ========================================================================== */
:root[zen-single-toolbar="true"] {
  @media (-moz-platform: macos) and (not -moz-pref("zen.view.mac.show-three-dot-menu")) {
    &:not([customizing]) #PanelUI-button:not([open]):not([panelopen]) {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }
  }

  & #zen-appcontent-navbar-wrapper,
  & #zen-sidebar-top-buttons {
    height: var(--zen-toolbar-height);
  }

  & #zen-sidebar-top-buttons-separator {
    width: 100%;
  }
}

/* ==========================================================================
   Vertical Tabs Mode Specific Styles (`zen.tabs.vertical` pref)
   ========================================================================== */
@media -moz-pref("zen.tabs.vertical") {
  :root:not([zen-window-buttons-reversed="true"]) {
    & .titlebar-buttonbox-container {
      margin-left: auto;
      width: fit-content;
    }

    &:root[zen-right-side="true"] #zen-sidebar-top-buttons .titlebar-buttonbox-container {
      margin-right: calc(-1 * var(--zen-toolbox-padding));
    }
  }
}

:root[zen-window-buttons-reversed="true"] .titlebar-buttonbox-container {
  margin-right: auto;
  width: fit-content;
}

#TabsToolbar > * {
  justify-content: center;
}

/* ==========================================================================
   Toolbox Padding & Variables
   ========================================================================== */
#tabbrowser-arrowscrollbox {
  height: 100%;
}

#browser {
  --zen-min-toolbox-padding: 5px;
  @media (-moz-platform: macos) {
    --zen-min-toolbox-padding: 6px;
  }

  --zen-toolbox-padding: var(--zen-min-toolbox-padding);
}

/* ==========================================================================
   Single Toolbar Mode - Further Layout Adjustments
   ========================================================================== */
:root[zen-single-toolbar="true"] {
  #urlbar-container {
    width: -moz-available !important;
  }

  & #urlbar-container[breakout="true"]:has(#urlbar[zen-floating-urlbar="true"]) {
    --urlbar-container-height: 36px !important;
    --urlbar-height: 38px !important;
  }

  & #nav-bar {
    & toolbarspring {
      display: none;
    }
  }

  & #zen-sidebar-top-buttons {
    margin: calc(var(--zen-toolbox-padding) / 2) 0;
    :root[zen-right-side="true"]:not([zen-window-buttons-reversed="true"]) & {
      margin-top: 0;
    }
  }

  & #PanelUI-menu-button {
    padding: 0 !important;
  }
}

/* ==========================================================================
   Pinned Tabs Separator
   ========================================================================== */
.pinned-tabs-container-separator {
  height: 22px;
  border: none;
  width: 100%;
  transition:
    height 0.08s ease-in-out,
    padding 0.08s ease-in-out,
    opacity 0.06s ease-in-out;
  overflow: hidden;
  position: relative;
  opacity: 1;
  align-items: center;

  @media (-moz-platform: macos) {
    padding: 0 5px;
  }

  & toolbarseparator {
    height: 1px;
    background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
    padding: 0;
    margin: auto 4px;

    &::before {
      border-inline-start: none;
    }
  }

  #tabbrowser-tabs[movingtab] & {
    transition:
      height 0.08s ease-in-out,
      padding 0.08s ease-in-out,
      opacity 0.06s ease-in-out,
      transform 0.1s ease-in-out;
  }

  .zen-workspace-pinned-tabs-section[hide-separator] & {
    height: 0px;
    opacity: 0;
    padding-bottom: 0px;
  }

  & toolbarbutton {
    appearance: none;
    opacity: 0;
    visibility: collapse;
    transition:
      opacity 0.15s,
      visibility 0.15s;
    font-size: 10px;
    font-weight: 500;
    gap: 2px;

    #navigator-toolbox[zen-has-implicit-hover="true"] & {
      visibility: visible;
      opacity: 0.5;
    }

    &:hover {
      opacity: 1 !important;
    }

    :root:not([zen-sidebar-expanded="true"]) & {
      display: none;
    }

    & .toolbarbutton-text {
      display: flex;
    }

    & .toolbarbutton-icon {
      width: 10px;
      transition: transform 0.15s ease-in-out;
      transform: translateY(0px);

      @starting-style {
        transform: translateY(-2px);
      }
    }

    &:active:hover .toolbarbutton-icon {
      transform: translateY(2px);
    }
  }

  :root[zen-unsynced-window="true"] & {
    display: none !important;
  }
}

/* ==========================================================================
   Navigator Toolbox (Main Sidebar Container) Base Styles
   ========================================================================== */
#navigator-toolbox {
  /* Define theme variables, including platform specifics for native look */
  --border-radius-medium: 10px;
  --tab-border-radius: 6px;
  --zen-toolbox-min-width: 1px;

  @media (-moz-platform: windows) {
    --border-radius-medium: 6px;
    --tab-border-radius: 4px;
  }

  @media (-moz-platform: macos) {
    --border-radius-medium: 12px;
    --tab-border-radius: 8px;
  }

  min-width: var(--zen-toolbox-min-width);
  margin-top: 0 !important;
  border: none;
  order: 0 !important;
  display: flex;
}

/* Hide default titlebar spacers */
.titlebar-spacer[type="pre-tabs"],
.titlebar-spacer[type="post-tabs"] {
  display: none;
}

/* ==========================================================================
   Tabs Toolbar Customization Target
   ========================================================================== */
#TabsToolbar-customization-target {
  position: relative;
  max-width: 100%;
  gap: 0;

  &::after {
    content: "";
    display: block;
    height: 1px;
    margin: 0 auto;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    position: absolute;
    bottom: calc(-1 * var(--zen-toolbox-padding));
  }

  & > * {
    border-top-width: 0 !important;
  }
}

#vertical-tabs-newtab-button {
  &:hover,
  &:not(:is(:hover, :active)) .toolbarbutton-icon {
    background: transparent !important;
  }
}

#tabbrowser-tabs {
  margin-inline-start: 0 !important;
  padding-inline-start: 0 !important;
  overflow-y: unset !important;
  overflow-x: clip;
  overflow-clip-margin: var(--zen-toolbox-padding);

  --focus-outline-color: transparent;

  @media (-moz-platform: macos) {
    font-size: 1.25rem; /* Slightly larger font on macOS */
  }

  --tab-inner-inline-margin: 0;

  position: relative;
  border-bottom: 0px solid transparent !important;

  --tab-block-margin: 2px;
  --tab-selected-bgcolor: light-dark(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.18));
  --tab-selected-shadow: 0 1px 1px 0px light-dark(rgba(0, 0, 0, 0.09), rgba(0, 0, 0, 0.05)) !important;
  grid-gap: 0 !important;

  &[overflow]::after,
  #vertical-tabs-newtab-button,
  #vertical-pinned-tabs-splitter {
    display: none !important;
  }

  & .tabbrowser-tab {
    &,
    & .tab-content > image {
      transition:
        scale 0.07s ease,
        var(--zen-tabbox-element-indent-transition);
    }

    :root[zen-sidebar-expanded="true"] &:not([zen-glance-tab]) {
      margin-inline-start: var(--zen-folder-indent) !important;
    }

    &[zen-empty-tab] {
      display: none;
    }

    #tabbrowser-tabs:not([movingtab]) &:active:not(:has(.tab-content > image:active)) {
      scale: var(--zen-active-tab-scale);
    }

    #tabbrowser-tabs:not([movingtab]) & .tab-content > image:active {
      scale: 0.92;
    }

    & .tab-icon-image {
      -moz-context-properties: fill, stroke, fill-opacity;
      fill-opacity: 0.5;
      border-radius: 4px;

      &:not([src]),
      &:-moz-broken {
        content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3C/svg%3E") !important;
        background: color-mix(in srgb, var(--zen-primary-color) 80%, light-dark(rgb(0, 0, 0), rgb(255, 255, 255)));
      }
    }

    max-width: unset;
    padding: 0 !important;
    position: relative;

    & .tab-background {
      overflow: hidden;
      border-radius: var(--border-radius-medium) !important;

      & .tab-context-line {
        margin: 0 0px !important;
        width: 3px !important;
      }
    }

    /* --- Glance Tab Styles (Nested .tabbrowser-tab) --- */
    & .tabbrowser-tab {
      pointer-events: none;
      margin: 0 0 0 4px !important;
      --toolbarbutton-inner-padding: 0;
      --border-radius-medium: 8px;
      width: 24px;
      height: 24px;
      --tab-min-height: 24px;
      --tab-min-width: 24px;

      & .tab-background {
        background: var(--zen-toolbar-element-bg) !important;
        margin-block: 0 !important;
        margin-inline: 0 !important;
        box-shadow: none !important;
        border-radius: calc(var(--border-radius-medium) - 2px);
      }

      & .tab-content {
        padding: 0 5px;
      }

      & label,
      & .tab-close-button,
      & .tab-reset-button,
      & .tab-reset-pin-button {
        display: none !important;
      }

      /* Style glance tab icon */
      & .tab-icon-image {
        --toolbarbutton-inner-padding: 0 !important;
        width: 14px;
        height: 14px;
      }

      & .tab-audio-button {
        display: none !important;
      }

      &[soundplaying]:not([muted]) .tab-icon-stack::after {
        content: "";
        position: absolute;
        width: 110%;
        height: 110%;
        background-repeat: no-repeat;
        opacity: 1;
        background: url("chrome://browser/content/zen-images/note-indicator.svg") no-repeat;
        top: -70%;
        left: 50%;
        transform: translateX(-50%);
        z-index: 0;
        pointer-events: none;
        transition: opacity 0.8s ease;
        opacity: 1;
      }
    }

    /* --- Essentials Glance Tab Specifics (Floating) --- */
    /* Additional styles for glance tabs in "essential" mode */
    &[zen-essential="true"] .tabbrowser-tab {
      position: absolute;
      top: 0px;
      right: 0px;

      --tab-collapsed-width: 34px;
      --tab-min-height: 16px;
      width: var(--tab-collapsed-width) !important;
      z-index: 1;
      pointer-events: none;

      & .tab-background {
        background: light-dark(rgb(249, 249, 249), rgb(63, 63, 63)) !important;
        border: 2px solid light-dark(rgba(0, 0, 0, 0.4), rgba(255, 255, 255, 0.4));
      }
    }
  }
}

#zen-sidebar-foot-buttons {
  background: transparent;
  gap: 5px;
  align-items: center;

  & > toolbarbutton:not(#zen-workspaces-button) {
    padding: 0 !important;
  }
}

#tabbrowser-arrowscrollbox {
  &::part(scrollbox) {
    gap: 0px !important;
  }

  &::part(overflow-start-indicator),
  &::part(overflow-end-indicator) {
    display: none !important;
  }
}

#zen-tabs-wrapper {
  min-height: fit-content;
  overflow-y: auto;
  height: 100%;

  :root[zen-workspace-id][zen-sidebar-expanded="true"] & {
    margin-left: calc(-1 * var(--zen-toolbox-padding));
    width: calc(100% + var(--zen-toolbox-padding) * 2);
  }
}

:root[zen-workspace-id] #pinned-tabs-container {
  display: none;
}

.tab-reset-pin-label {
  pointer-events: none;
  transition:
    opacity 0.1s ease-in-out,
    margin 0.1s ease-in-out,
    max-height 0.1s ease-in-out;
  max-height: 0px;
  opacity: 0;
  transform: translateY(-5px);
  font-size: x-small;
  margin: 0;
}

#navigator-toolbox[zen-sidebar-expanded="true"] {
  --zen-toolbox-min-width: fit-content;

  padding: var(--zen-toolbox-padding);
  padding-left: 0;
  padding-top: 0;

  #PersonalToolbar:not([collapsed]) {
    padding-left: 0 !important;
  }

  #tabbrowser-tabs {
    --toolbarbutton-inner-padding: 10px !important;
    --tab-icon-end-margin: var(--toolbarbutton-inner-padding) !important;
  }

  & .tab-audio-button {
    margin-inline-start: -4px;
    margin-inline-end: 2px;
    margin-top: -1px;
  }

  & #titlebar {
    min-width: 150px;
  }

  & #tabbrowser-arrowscrollbox-periphery {
    margin-inline: var(--tab-block-margin);
  }

  & #nav-bar {
    padding-right: 0;

    :root[zen-single-toolbar="true"]:not([zen-has-empty-tab="true"]) & {
      & #urlbar:not([breakout-extend="true"]) .urlbar-input-container {
        padding-left: 8px;
        padding-right: 4px;
      }
    }
  }

  & #nav-bar {
    margin-top: 0;
  }

  & .zen-current-workspace-indicator-icon[no-icon="true"] {
    display: none;
  }

  & #zen-workspaces-button {
    & .zen-workspace-sidebar-icon[no-icon="true"] {
      display: none;
    }
  }

  & #zen-sidebar-foot-buttons {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
    position: relative;
  }

  & #zen-essentials {
    --tab-min-height: 44px;
  }

  &[zen-right-side="true"] {
    padding-left: 0;
  }
  &:not([zen-right-side="true"]) {
    padding-right: 0;
    padding-left: var(--zen-toolbox-padding);
  }

  & #TabsToolbar-customization-target {
    &::after {
      width: 100%;
      bottom: calc(-0.5 * var(--zen-toolbox-padding));
    }

    & > :is(toolbaritem, toolbarbutton):not(#search-container):not(#zen-workspaces-button),
    & #tabbrowser-arrowscrollbox-periphery > toolbarbutton {
      width: 100% !important;
      border-radius: var(--border-radius-medium) !important;
      padding-left: var(--tab-inline-padding) !important;
      padding-right: var(--tab-inline-padding) !important;

      & label {
        display: flex;
        width: 100%;
      }

      & image {
        height: 16px;
        width: 16px;
        padding: 0 !important;
      }

      &:is([open], [checked]) {
        background: var(--toolbarbutton-active-background) !important;
        & image,
        label {
          background: transparent !important;
        }
      }

      &:hover {
        background: var(--toolbarbutton-hover-background);
        & image,
        label {
          background: transparent !important;
        }
      }
    }
  }

  & #tabbrowser-tabs {
    --tab-inline-padding: 8px;
    --tab-icon-end-margin: 8.5px;

    & .tabbrowser-tab {
      & .tab-label-container {
        opacity: 1;
        display: flex;
      }

      & .tab-background {
        margin-inline: var(--tab-block-margin);
        width: -moz-available;
      }

      /* --- Pinned Tab Icon Repositioning & Reset Button --- */
      /* Reposition icon stack absolutely when tab is pinned (and not essential) */
      &[zen-pinned-changed="true"]:not([zen-essential]) > .tab-stack > .tab-content > .tab-icon-stack {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        left: 8px;
        margin: 0 !important;
        pointer-events: none;

        & > *:not(.tab-icon-image) {
          pointer-events: all;
        }
      }

      &[zen-pinned-changed="true"]:not([zen-essential]) .tab-reset-pin-button image {
        opacity: 0;
      }

      &[zen-pinned-changed="true"]:not([zen-essential]) .tab-reset-pin-button:hover {
        & ~ .tab-label-container .tab-reset-pin-label {
          max-height: 10px;
          opacity: 0.6;
        }

        & ~ .tab-icon-stack .tab-icon-image {
          opacity: 0;
        }

        & image {
          opacity: 1;
        }
      }

      &:not(:hover) {
        .tab-close-button,
        .tab-reset-button {
          display: none;
        }
      }

      &:is(:hover, [multiselected][selected]) .tab-close-button {
        display: block;
        --tab-inline-padding: 0;
        margin-inline-end: 0;
      }

      .tab-throbber,
      .tab-icon-pending,
      .tab-icon-image,
      .tab-sharing-icon-overlay,
      .tab-icon-overlay {
        margin-inline-end: var(--toolbarbutton-inner-padding) !important;
        margin-inline-start: calc(var(--toolbarbutton-inner-padding) / 3) !important;
      }
    }
  }
}

:root:not([zen-sidebar-expanded="true"]) {
  --tab-min-width: 48px !important;
  --zen-toolbox-padding: 6px !important;
  --zen-toolbox-max-width: calc(var(--tab-min-width) + var(--zen-toolbox-padding) * 2);
}

#navigator-toolbox:not([zen-sidebar-expanded="true"]) {
  max-width: var(--zen-toolbox-max-width) !important;
  min-width: var(--zen-toolbox-max-width) !important;
  padding-bottom: var(--zen-toolbox-padding);

  & .zen-current-workspace-indicator-name,
  & zen-workspace .toolbarbutton-text {
    display: none !important;
  }

  & .zen-current-workspace-indicator {
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.4;

    & .zen-workspaces-actions {
      position: absolute;
      width: 100%;
      height: 100%;
    }

    &:is([open="true"], :hover) .zen-current-workspace-indicator-icon {
      display: none;
    }
  }

  & .zen-essentials-container {
    justify-content: center;
    grid-template-columns: 1fr !important;
    padding: 0 !important;
    max-width: var(--zen-sidebar-width) !important;
    min-width: unset !important;
    width: 100% !important;
  }

  & #zen-essentials {
    margin-left: unset !important;
  }

  & #vertical-tabs-newtab-button {
    padding: 0 !important;
    background: transparent !important;
  }

  :root[customizing] & #zen-sidebar-foot-buttons {
    min-width: unset !important;
  }

  #zen-sidebar-foot-buttons {
    & > .toolbarbutton-1,
    & .toolbarbutton-badge-stack {
      min-height: var(--tab-min-height);
      line-height: var(--tab-label-line-height);
      border-radius: var(--border-radius-medium);
      padding: 0 calc(var(--tab-inline-padding) - var(--tab-inner-inline-margin));

      &.toolbarbutton-badge-stack {
        justify-content: center;
        padding: 8px;
        width: var(--tab-collapsed-background-width);
      }

      &.toolbarbutton-1 {
        width: var(--tab-collapsed-background-width);
        margin-inline: var(--tab-inner-inline-margin);
      }
    }
  }

  & #zen-sidebar-top-buttons {
    justify-content: center;
    max-height: unset !important;
    height: fit-content !important;
  }

  & #titlebar {
    display: grid;
  }

  & #zen-sidebar-top-buttons-customization-target {
    flex-direction: column;
  }

  & #zen-sidebar-foot-buttons {
    display: flex;
    flex-direction: column;
    padding-top: var(--zen-element-separation);
    align-items: center;
  }

  & #tabbrowser-arrowscrollbox-periphery {
    & > toolbarbutton {
      margin-left: auto !important;
      margin-right: auto !important;

      & image {
        width: 100%;
      }
    }

    &::before {
      width: 90% !important;
    }
  }

  & #EssentialsToolbar,
  & #essentials-accordion-header {
    display: none !important;
  }

  & #TabsToolbar-customization-target {
    padding-bottom: var(--zen-toolbox-padding);
    &::after {
      bottom: -1px !important;
    }
  }

  & #tabbrowser-tabs {
    & .tabbrowser-tab {
      margin: 0 auto;

      & .tab-background {
        margin-inline: auto !important;
      }

      & .tab-reset-button,
      & .tab-reset-pin-button {
        display: none !important;
      }

      & .tab-content {
        display: flex;
        align-content: center;
        justify-content: center;
        padding: 0 !important;

        & .tab-label-container {
          display: none !important;
        }

        & .tab-icon-image,
        & .tab-icon-pending {
          margin-inline-end: 0 !important;
        }

        & .tabbrowser-tab {
          display: none !important;
        }
      }
    }

    & .tab-throbber,
    & .tab-icon-pending,
    & .tab-icon-image,
    & .tab-sharing-icon-overlay,
    & .tab-icon-overlay {
      margin-inline-end: 0 !important;
    }
  }

  & #zen-workspaces-button {
    flex-direction: column;
  }
}

:root:not([zen-sidebar-expanded="true"]) #zen-sidebar-splitter {
  display: none !important;
}

#zen-sidebar-splitter {
  opacity: 0;
  max-width: var(--zen-toolbox-padding) !important;
  min-width: var(--zen-toolbox-padding) !important;
  height: 100%;
  transition: opacity 0.2s ease-in-out;
  background: var(--zen-colors-border);
  appearance: none;
  position: relative !important;
  order: 0;
}

:root[zen-right-side="true"] {
  & #navigator-toolbox {
    order: 10 !important;
  }

  & #zen-sidebar-splitter {
    order: 9 !important;
  }
}

#tabbrowser-tabs {
  & .tabbrowser-tab {
    &[pinned]:not([pending="true"]) .tab-close-button {
      display: none !important;
    }

    &[pinned]:not([pending="true"]):not([zen-essential]) {
      &:hover .tab-reset-button,
      &[visuallyselected] .tab-reset-button {
        display: block;
      }
    }

    &:not([zen-pinned-changed="true"]) .tab-reset-pin-button {
      display: none;
    }

    &[zen-essential] .tab-reset-button,
    &[zen-essential] .tab-reset-pin-button {
      display: none;
    }

    &:not([pinned][visuallyselected]) .tab-reset-button {
      display: none;
    }

    &[selected] .tab-background {
      border-color: transparent;
    }
  }
}

.tab-reset-button,
.tab-reset-pin-button,
.tab-close-button {
  display: none;
  -moz-context-properties: fill, fill-opacity;
  border-radius: var(--tab-border-radius);
  color: inherit;
  fill: currentColor;
  padding: var(--tab-close-button-padding);
  width: 24px;
  height: 24px;
  outline: var(--toolbarbutton-outline);

  &:hover {
    outline-color: var(--toolbarbutton-hover-outline-color);
  }
  &:hover:active {
    outline-color: var(--toolbarbutton-active-outline-color);
  }
}

.tab-reset-pin-button {
  display: flex;
  position: relative;
  height: calc(100% - var(--tab-block-margin) * 2);
  margin-left: calc(-1 * var(--tab-inline-padding) + var(--tab-block-margin));
  margin-right: 8px;
  padding: 0 calc(var(--toolbarbutton-inner-padding) - 2px) 0 calc(var(--toolbarbutton-inner-padding) / 3 + var(--tab-inline-padding) - 2px);
  border-radius: 0;
  border-top-left-radius: var(--border-radius-medium);
  width: unset;
  border-bottom-left-radius: var(--border-radius-medium);
  align-items: center;
  justify-content: center;

  & > image {
    list-style-image: var(--zen-original-tab-icon);
    width: 16px;
    height: 16px;
    pointer-events: none;
    border-radius: 4px;
  }

  &::after {
    content: "";
    display: block;
    width: 2.5px;
    height: 16px;
    background: light-dark(rgba(66, 61, 61, 0.3), rgba(255, 255, 255, 0.3));
    position: absolute;
    right: 0;
    top: 50%;
    border-radius: 2px;
    transform: rotate(15deg) translateY(-50%);
  }

  &:hover::after {
    opacity: 0;
  }
}

.reset-icon,
.tab-reset-pin-button {
  appearance: none;
}

@media not (forced-colors) {
  .tab-reset-button:hover,
  .tab-reset-pin-button:hover {
    background-color: color-mix(in srgb, currentColor 10%, transparent);
  }

  .tab-reset-button:hover:active,
  .tab-reset-pin-button:hover:active {
    background-color: color-mix(in srgb, currentColor 20%, transparent);
  }
}

.tab-reset-button > .button-icon,
.tab-reset-button > .button-box > .button-icon,
.tab-reset-button > .toolbarbutton-icon,
.tab-reset-pin-button > .button-icon,
.tab-reset-pin-button > .button-box > .button-icon,
.tab-reset-pin-button > .toolbarbutton-icon {
  margin: 0;
}

.tab-reset-button > .button-box > .button-text,
.tab-reset-button > .toolbarbutton-text,
.tab-reset-pin-button > .button-box > .button-text,
.tab-reset-pin-button > .toolbarbutton-text {
  display: none;
}

:root[customizing] #TabsToolbar > *,
:root[customizing] #TabsToolbar-customization-target {
  min-width: unset !important;
}

#zen-sidebar-top-buttons {
  order: -1;
  min-width: unset !important;

  :root[zen-sidebar-expanded="true"] & {
    --toolbarbutton-inner-padding: var(--zen-toolbar-button-inner-padding) !important;
  }

  :root[zen-single-toolbar="true"] & {
    --zen-toolbar-height: 36px;
    @media (-moz-platform: macos) {
      --zen-toolbar-height: 38px;
    }

    & #PanelUI-button {
      order: -2;
    }
  }

  & #zen-sidebar-top-buttons-customization-target {
    height: 100%;
    align-items: center;

    #nav-bar & {
      padding-inline-end: var(--toolbarbutton-outer-padding);
    }

    :root:not([zen-sidebar-expanded="true"]) & toolbarspring {
      display: none;
    }
  }

  & .zen-sidebar-action-button {
    padding: 0 !important;
    & label {
      display: none !important;
    }
  }
}

#tabs-newtab-button {
  display: none;
  font-weight: 500;
  -moz-user-focus: ignore !important;
}

@media -moz-pref("zen.tabs.show-newtab-vertical") {
  #tabs-newtab-button {
    max-height: var(--tab-min-height);
    display: flex !important;
    transition: scale 0.1s ease;
    #tabbrowser-tabs[movingtab] & {
      transition: transform 0.1s ease;
    }

    & .toolbarbutton-text {
      align-items: center;
      padding-top: 0;
    }

    &:active,
    &[open] {
      scale: 0.98;
    }

    &[in-urlbar] {
      background: var(--tab-selected-bgcolor) !important;
      box-shadow: var(--tab-selected-shadow);
    }
  }

  #tabbrowser-arrowscrollbox-periphery {
    @media not (prefers-color-scheme: dark) {
      --zen-colors-border: var(--zen-colors-tertiary);
    }

    @media -moz-pref("zen.view.show-newtab-button-top") {
      order: -1;
    }
  }
}

/* ==========================================================================
   Mark: Essentials Toolbar / Section Styles
   ========================================================================== */

#zen-essentials,
#zen-current-workspace-indicator-container {
  margin-left: calc(-1 * var(--zen-toolbox-padding));
  min-width: calc(100% + var(--zen-toolbox-padding) * 2);
}

#zen-essentials {
  z-index: 2;
}

.zen-essentials-container {
  overflow: hidden;
  min-height: 2px;
  gap: 4px;
  transition:
    max-height 0.3s ease-out,
    grid-template-columns 0.3s ease-out;
  opacity: 1;
  --min-essentials-width-wrap: calc(var(--tab-min-height) + 4px);
  grid-template-columns: repeat(auto-fit, minmax(max(23.7%, var(--min-essentials-width-wrap)), 1fr));
  &[data-hack-type="1"] {
    grid-template-columns: repeat(auto-fit, minmax(max(30%, var(--min-essentials-width-wrap)), auto));
  }
  &[data-hack-type="2"] {
    grid-template-columns: repeat(auto-fit, minmax(max(23%, var(--min-essentials-width-wrap)), 1fr) minmax(max(23%, var(--min-essentials-width-wrap)), 1fr));
  }
  &[data-hack-type="3"] {
    grid-template-columns: repeat(auto-fit, minmax(max(25%, 48px), 1fr));
  }
  scrollbar-width: thin;
  min-width: calc(100% + var(--zen-toolbox-padding) * 2);
  width: calc(100% + var(--zen-toolbox-padding) * 2);
  padding: 0 var(--zen-toolbox-padding);
  display: grid;

  position: absolute;

  :root[zen-single-toolbar="true"] &:not(:empty) {
    padding-top: 4px;
  }

  &[hidden="true"] {
    --hidden-essentials-width: calc(var(--zen-sidebar-width) + var(--zen-toolbox-padding));
    max-width: var(--hidden-essentials-width) !important; /* To still allow essentials to grid the tabs */
    min-width: var(--hidden-essentials-width) !important;

    visibility: hidden;
    pointer-events: none;
    position: fixed; /* Fix position to prevent scrolling */
  }

  &[cloned] {
    pointer-events: none;
  }
}

.tabbrowser-tab[zen-essential="true"],
#zen-welcome-initial-essentials-browser-sidebar-essentials .tabbrowser-tab {
  --toolbarbutton-inner-padding: 0;
  max-width: unset;
  width: 100% !important;

  & .tab-background {
    border-radius: var(--border-radius-medium) !important;
  }

  --tab-selected-bgcolor: light-dark(rgba(255, 255, 255, 0.85), rgba(255, 255, 255, 0.2));

  &:not([visuallyselected], [multiselected="true"]) .tab-background {
    background: var(--zen-toolbar-element-bg);
    border: none;
  }

  & .tab-content {
    display: flex;
    justify-content: center;
  }

  & .tab-label-container,
  & .tab-close-button {
    display: none !important;
  }

  & .tab-icon-image,
  & .tab-icon-overlay {
    margin-inline-end: 0 !important;
  }

  &:hover .tab-background {
    background: light-dark(rgba(0, 0, 0, 0.1), var(--tab-selected-bgcolor));
  }

  @media -moz-pref("zen.theme.essentials-favicon-bg") {
    &[visuallyselected] > .tab-stack > .tab-background {
      &::after {
        content: "";
        inset: -50%;
        filter: blur(20px);
        position: absolute;
        background-size: contain;
        background-clip: padding-box;
        background-image: var(--zen-essential-tab-icon);
        z-index: -1;
        background-position: center;
        fill: currentColor;
        -moz-context-properties: fill, fill-opacity;
      }

      background: transparent;
      overflow: hidden;
      position: relative;
      --zen-essential-bg-margin: 2px;

      --zen-essential-tab-selected-bg: light-dark(rgba(255, 255, 255, 0.85), color-mix(in srgb, var(--zen-primary-color), rgba(132, 132, 132, 0.85) 40%));
      --zen-essential-tab-selected-bg-hover: light-dark(rgba(255, 255, 255, 0.8), color-mix(in srgb, var(--zen-primary-color), rgba(132, 132, 132, 0.85) 30%));

      :root[zen-default-theme="true"] & {
        --zen-essential-tab-selected-bg: light-dark(rgba(255, 255, 255, 0.85), rgba(68, 64, 64, 0.85));
        --zen-essential-tab-selected-bg-hover: light-dark(rgba(255, 255, 255, 0.8), rgba(68, 64, 64, 0.75));
      }

      &::before {
        background: var(--zen-essential-tab-selected-bg);
        margin: var(--zen-essential-bg-margin);
        border-radius: calc(var(--border-radius-medium) - var(--zen-essential-bg-margin));
        position: absolute;
        inset: 0;
        z-index: 0;
        content: "";
        transition: background 0.1s ease-in-out;
      }
    }

    &[visuallyselected]:hover .tab-background::before {
      background: var(--zen-essential-tab-selected-bg-hover);
    }
  }
}

#zen-drag-indicator {
  --zen-drag-indicator-height: 2px;
  --zen-drag-indicator-bg: color-mix(in srgb, var(--zen-primary-color) 50%, light-dark(rgba(0, 0, 0, 0.85), rgba(255, 255, 255, 0.95)) 50%);

  position: fixed;
  z-index: 1000;
  background: var(--zen-drag-indicator-bg);
  pointer-events: none;
  border-radius: 5px;

  &::before {
    content: "";
    position: absolute;
    height: calc(2 * var(--zen-drag-indicator-height));
    width: calc(2 * var(--zen-drag-indicator-height));
    border: var(--zen-drag-indicator-height) solid var(--zen-drag-indicator-bg);
    border-radius: 50%;
    background: transparent;
  }

  &[orientation="horizontal"] {
    left: calc(var(--indicator-left) + 2 * var(--zen-drag-indicator-height) + 4px);
    width: calc(var(--indicator-width) - 2 * var(--zen-drag-indicator-height) - 4px);
    height: var(--zen-drag-indicator-height);
    transition:
      top 0.05s ease-out,
      left 0.05s ease-out,
      width 0.05s ease-out;

    &::before {
      left: calc(-2 * var(--zen-drag-indicator-height));
      top: 50%;
      transform: translate(calc(-1 * var(--zen-drag-indicator-height)), -50%);
    }
  }

  &[orientation="vertical"] {
    top: calc(var(--indicator-top) + 2 * var(--zen-drag-indicator-height) + 4px);
    height: calc(var(--indicator-height) - 2 * var(--zen-drag-indicator-height) - 4px);
    width: var(--zen-drag-indicator-height);
    transition:
      top 0.1s ease-out,
      left 0.1s ease-out,
      height 0.1s ease-out;

    &::before {
      top: calc(-2 * var(--zen-drag-indicator-height));
      left: 50%;
      transform: translate(-50%, calc(-1 * var(--zen-drag-indicator-height)));
    }
  }
}

/* ==========================================================================
   Renaming Tabs Input Styles
   ========================================================================== */

.tab-label-container-editing {
  display: none !important;
}

#tab-label-input {
  white-space: nowrap;
  overflow-x: scroll;
  margin: 0;
  background: transparent;
  border: none;
  padding: 0;
  outline: none !important;
  border-radius: 0;
}

/* ==========================================================================
   Section: Tab Workspaces Stylings
   ========================================================================== */

.zen-workspace-tabs-section {
  &:not(.zen-essentials-container) {
    display: flex;

    :root[zen-sidebar-expanded="true"] & {
      min-width: calc(100% - var(--zen-toolbox-padding) * 2);
    }

    :root:not([zen-sidebar-expanded="true"]) & {
      max-width: var(--zen-sidebar-width);
      align-items: center;
    }
  }

  &:not(.zen-current-workspace-indicator):not(.zen-essentials-container) {
    padding: 0 var(--zen-toolbox-padding);
    width: 100%;
  }
}

#tabs-newtab-button:not([in-urlbar="true"]) label,
.zen-current-workspace-indicator-name {
  opacity: 0.7;
}

@media (-moz-pref("zen.theme.hide-tab-throbber")) {
  .tab-throbber {
    display: none !important;
  }
  .tab-icon-image {
    display: flex !important;
  }
}

/* Drag and drop */

#zen-dragover-background {
  position: absolute;
  z-index: -1;
  /* Extra width to cover the sidebar splitter */
  width: calc(100% + var(--zen-toolbox-padding));
  left: 0;
  pointer-events: none;
  background: var(--zen-primary-color);

  :root[zen-right-side="true"] & {
    left: calc(-1 * var(--zen-toolbox-padding));
  }
}



================================================
FILE: src/zen/tests/ignorePrefs.json
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
//
// This file lists preferences that are ignored when running mochitests.
// Add here any preference that is not relevant for testing Zen Modus.
// This prevents unnecessary test re-runs when these preferences are changed.
[
  "zen.mods.updated-value-observer",
  "zen.mods.last-update",
  "zen.view.compact.enable-at-startup",
  "zen.urlbar.suggestions-learner",
  "browser.newtabpage.activity-stream.trendingSearch.defaultSearchEngine",

  // From the imported safebrowsing tests
  "urlclassifier.phishTable",
  "urlclassifier.malwareTable"
]



================================================
FILE: src/zen/tests/manifest.toml
================================================

# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[safebrowsing]
source = "browser/components/safebrowsing/content/test"
is_direct_path = true

[sandbox]
source = "security/sandbox/test"
is_direct_path = true
disable = [
  "browser_bug1393259.js",
]

[sandbox.replace-manifest]
"../../../" = "../../../../"

[shell]
source = "browser/components/shell/test"
is_direct_path = true
disable = [
  "browser_1119088.js",
  "browser_setDesktopBackgroundPreview.js",
]

[tooltiptext]
source = "toolkit/components/tooltiptext"



================================================
FILE: src/zen/tests/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

BROWSER_CHROME_MANIFESTS += [
    "compact_mode/browser.toml",
    "container_essentials/browser.toml",
    "folders/browser.toml",
    "glance/browser.toml",
    "pinned/browser.toml",
    "split_view/browser.toml",
    "tabs/browser.toml",
    "ub-actions/browser.toml",
    "urlbar/browser.toml",
    "welcome/browser.toml",
    "window_sync/browser.toml",
    "workspaces/browser.toml",
]

DIRS += [
    "mochitests",
]



================================================
FILE: src/zen/tests/compact_mode/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

["browser_compact_mode_width.js"]



================================================
FILE: src/zen/tests/compact_mode/browser_compact_mode_width.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

function goToRightSideTabs(callback) {
  // eslint-disable-next-line no-async-promise-executor
  return new Promise(async (resolve) => {
    await SpecialPowers.pushPrefEnv({
      set: [["zen.tabs.vertical.right-side", true]],
    });
    // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
    setTimeout(async () => {
      await callback();
      await SpecialPowers.popPrefEnv();
      // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
      setTimeout(() => {
        resolve();
      }, 1000); // Wait for new layout
    }, 1000); // Wait for new layout
  });
}

async function testSidebarWidth() {
  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  let hasRan = false;
  const ogSize = gNavToolbox.getBoundingClientRect().width;
  const onCompactChanged = (_event) => {
    if (hasRan) {
      // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
      setTimeout(() => {
        gZenCompactModeManager.removeEventListener(onCompactChanged);
        resolvePromise();
      }, 500);
      return;
    }
    // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
    setTimeout(() => {
      const newSize = gNavToolbox.style.getPropertyValue("--zen-sidebar-width").replace("px", "");
      Assert.equal(
        newSize,
        ogSize,
        "The size of the titlebar should be the same as the original size"
      );
      hasRan = true;
      gZenCompactModeManager.preference = false;
    }, 500);
  };

  gZenCompactModeManager.addEventListener(onCompactChanged);

  gZenCompactModeManager.preference = true;
  await promise;
}

add_task(async function test_Compact_Mode_Width() {
  await testSidebarWidth();
});

add_task(async function test_Compact_Mode_Width_Right_Side() {
  await goToRightSideTabs(testSidebarWidth);
});

add_task(async function test_Compact_Mode_Hover() {
  gNavToolbox.setAttribute("zen-has-hover", true);
  await testSidebarWidth();
  gNavToolbox.removeAttribute("zen-has-hover");
});



================================================
FILE: src/zen/tests/container_essentials/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
prefs = ["zen.workspaces.separate-essentials=true"]

["browser_container_auto_switch.js"]
["browser_container_specific_essentials.js"]


================================================
FILE: src/zen/tests/container_essentials/browser_container_auto_switch.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Container_Essentials_Auto_Swithc() {
  await gZenWorkspaces.createAndSaveWorkspace("Container Profile 1", undefined, false, 1);
  const workspaces = gZenWorkspaces.getWorkspaces();
  Assert.strictEqual(workspaces.length, 2, "Two workspaces should exist.");

  let newTab = BrowserTestUtils.addTab(gBrowser, "about:blank", {
    skipAnimation: true,
    userContextId: 1,
  });
  ok(newTab, "New tab should be opened.");
  gZenPinnedTabManager.addToEssentials(newTab);
  ok(
    newTab.hasAttribute("zen-essential") && newTab.parentNode.getAttribute("container") == "1",
    "New tab should be marked as essential."
  );
  ok(
    gBrowser.tabs.find(
      (t) => t.hasAttribute("zen-essential") && t.getAttribute("usercontextid") == 1
    ),
    "New tab should be marked as essential."
  );
  const newWorkspaceUUID = gZenWorkspaces.activeWorkspace;
  Assert.equal(
    gZenWorkspaces.activeWorkspace,
    workspaces[1].uuid,
    "The new workspace should be active."
  );

  // Change to the original workspace, there should be no essential tabs
  await gZenWorkspaces.changeWorkspace(workspaces[0]);
  await gZenWorkspaces.removeWorkspace(newWorkspaceUUID);
});



================================================
FILE: src/zen/tests/container_essentials/browser_container_specific_essentials.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Check_Creation() {
  await gZenWorkspaces.createAndSaveWorkspace("Container Profile 1", undefined, false, 1);
  const workspaces = gZenWorkspaces.getWorkspaces();
  Assert.strictEqual(workspaces.length, 2, "Two workspaces should exist.");

  await gZenWorkspaces.changeWorkspace(workspaces[1]);
  let newTab = BrowserTestUtils.addTab(gBrowser, "about:blank", {
    skipAnimation: true,
    userContextId: 1,
  });
  ok(newTab, "New tab should be opened.");
  gZenPinnedTabManager.addToEssentials(newTab);
  ok(
    newTab.hasAttribute("zen-essential") && newTab.parentNode.getAttribute("container") == "1",
    "New tab should be marked as essential."
  );
  ok(
    gBrowser.tabs.find(
      (t) => t.hasAttribute("zen-essential") && t.getAttribute("usercontextid") == 1
    ),
    "New tab should be marked as essential."
  );
  const newWorkspaceUUID = gZenWorkspaces.activeWorkspace;

  // Change to the original workspace, there should be no essential tabs
  await gZenWorkspaces.changeWorkspace(workspaces[0]);
  ok(
    !gBrowser.tabs.find(
      (t) => t.hasAttribute("zen-essential") && t.getAttribute("usercontextid") == 1
    ),
    "No essential tabs should be found in the original workspace."
  );

  await gZenWorkspaces.removeWorkspace(newWorkspaceUUID);
});



================================================
FILE: src/zen/tests/folders/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
prefs = ["widget.macos.native-context-menus=false"]
support-files = [
  "head.js",
]

["browser_folder_create.js"]
["browser_folder_subfolder.js"]
["browser_folder_basic_toggle.js"]
["browser_folder_owner_tabs.js"]
["browser_folder_density.js"]
["browser_folder_max_subfolders.js"]
["browser_folder_empty_tab.js"]
["browser_folder_multiselected.js"]
["browser_folder_visible_tabs.js"]
["browser_folder_level_checks.js"]
["browser_folder_reset_button.js"]

["browser_folder_issue_9885.js"]
["browser_folder_issue_9981.js"]



================================================
FILE: src/zen/tests/folders/browser_folder_basic_toggle.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Basic_Toggle() {
  const folder = await gZenFolders.createFolder([], {
    renameFolder: false,
    label: "subfolder",
  });

  ok(!folder.collapsed, "Folder should not be collapsed by default");

  folder.labelElement.click();
  ok(folder.collapsed, "Folder should be collapsed after clicking on it");

  folder.labelElement.click();
  ok(!folder.collapsed, "Folder should be expanded after clicking on it again");

  await removeFolder(folder);
});



================================================
FILE: src/zen/tests/folders/browser_folder_create.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Create_Folder() {
  const tab = BrowserTestUtils.addTab(gBrowser, "about:blank");
  const folder = await gZenFolders.createFolder([tab], {
    renameFolder: false,
    label: "test",
  });
  ok(folder, "Folder created successfully");
  Assert.equal(
    folder.tabs.length,
    2,
    "Folder contains the tab and the empty tab created by Zen Folders"
  );
  ok(tab.pinned, "Tab is pinned after folder creation");
  Assert.equal(folder.label, "test", "Folder label is set correctly");
  ok(!folder.collapsed, "Folder is expanded after creation");
  await removeFolder(folder);
  Assert.equal(folder.tabs.length, 0, "Folder is empty after deletion");
  ok(!folder.parentElement, "Folder is removed from the DOM");
  ok(tab.closing, "Tab is closing after folder deletion");
});



================================================
FILE: src/zen/tests/folders/browser_folder_density.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Folder_Density() {
  const tab = gBrowser.selectedTab;
  const folder = await gZenFolders.createFolder([], {
    renameFolder: false,
  });

  let tabRect = tab.getBoundingClientRect();
  let folderRect = folder.labelElement.parentElement.getBoundingClientRect();
  Assert.equal(tabRect.height, folderRect.height, "Folder height matches tab height");
  Assert.equal(tabRect.width, folderRect.width, "Folder width matches tab width");

  gUIDensity.update(gUIDensity.MODE_TOUCH);

  tabRect = tab.getBoundingClientRect();
  folderRect = folder.getBoundingClientRect();
  Assert.equal(tabRect.height, folderRect.height, "Folder height matches tab height");
  Assert.equal(tabRect.width, folderRect.width, "Folder width matches tab width");

  gUIDensity.update();
  await removeFolder(folder);
});



================================================
FILE: src/zen/tests/folders/browser_folder_empty_tab.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Empty_Tab_First() {
  const [tab1, tab2] = await Promise.all([addTabTo(gBrowser), addTabTo(gBrowser)]);
  const folder = await gZenFolders.createFolder([tab1], {
    renameFolder: false,
  });

  Assert.equal(folder.tabs.length, 2, "Folder should contain the original tab");
  ok(folder.tabs[0].hasAttribute("zen-empty-tab"), "First tab should be an empty tab");

  folder.appendChild(tab2);
  Assert.equal(folder.tabs.length, 3, "Folder should contain the second tab");
  ok(folder.tabs[0].hasAttribute("zen-empty-tab"), "First tab should be an empty tab");

  await removeFolder(folder);
});



================================================
FILE: src/zen/tests/folders/browser_folder_issue_9885.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Issue_9885() {
  const subfolder = await gZenFolders.createFolder([], {
    renameFolder: false,
    label: "subfolder",
  });
  const parent = await gZenFolders.createFolder([], {
    renameFolder: false,
    label: "parent",
  });
  parent.tabs[0].after(subfolder);

  Assert.equal(parent, subfolder.group, "Parent folder is set correctly");

  ok(!subfolder.collapsed, "Subfolder should not be collapsed by default");
  ok(!parent.collapsed, "Parent folder should not be collapsed by default");

  subfolder.labelElement.click();
  ok(subfolder.collapsed, "Subfolder should be collapsed after clicking on it");
  ok(!parent.collapsed, "Parent folder should be collapsed after clicking on subfolder");

  await removeFolder(subfolder);
  await removeFolder(parent);
});



================================================
FILE: src/zen/tests/folders/browser_folder_issue_9981.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Issue_9981() {
  const selectedTab = gBrowser.selectedTab;
  const tab1 = BrowserTestUtils.addTab(gBrowser, "about:blank");
  const tab2 = BrowserTestUtils.addTab(gBrowser, "about:blank");
  const folder = await gZenFolders.createFolder([tab1, tab2], {});

  gBrowser.selectedTab = tab2;

  gBrowser.addRangeToMultiSelectedTabs(tab1, tab2);
  ok(tab1.multiselected, "Tab 1 should be multiselected");
  ok(tab2.multiselected, "Tab 2 should be multiselected");
  Assert.equal(gBrowser.multiSelectedTabsCount, 2, "There should be 2 multiselected tabs");
  await new Promise((resolve) => setTimeout(resolve, 0));

  const collapseEvent = BrowserTestUtils.waitForEvent(window, "TabGroupCollapse");
  EventUtils.synthesizeMouseAtCenter(folder.labelElement, {});
  await collapseEvent;

  gBrowser.clearMultiSelectedTabs();
  gBrowser.selectedTab = selectedTab;

  Assert.equal(folder.activeTabs.length, 2, "Folder should have 2 active tabs");

  ok(tab1.hasAttribute("folder-active"), "Tab 1 should be in the active folder");
  ok(tab2.hasAttribute("folder-active"), "Tab 2 should be in the active folder");

  const tab2ResetButton = tab2.querySelector(".tab-reset-button");
  tab2ResetButton.style.display = "flex";
  EventUtils.synthesizeMouseAtCenter(tab2ResetButton, {});

  ok(tab1.hasAttribute("folder-active"), "Tab 1 should be in the active folder");
  ok(!tab2.hasAttribute("folder-active"), "Tab 2 should not be in the active folder");

  await removeFolder(folder);
});



================================================
FILE: src/zen/tests/folders/browser_folder_level_checks.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Issue_9885() {
  const subfolder = await gZenFolders.createFolder([], {
    renameFolder: false,
    label: "subfolder",
  });
  const parent = await gZenFolders.createFolder([], {
    renameFolder: false,
    label: "parent",
  });
  parent.tabs[0].after(subfolder);

  Assert.equal(parent.level, 0, "Parent folder should be at level 0");
  Assert.equal(subfolder.level, 1, "Subfolder should be at level 1");

  await removeFolder(parent);
});



================================================
FILE: src/zen/tests/folders/browser_folder_max_subfolders.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

// Keep in sync with the default value for `zen.folders.max-subfolders`
const TEST_MAX_FOLDERS = 5;

add_task(async function test_Max_Subfolders() {
  const folder = await gZenFolders.createFolder([], {
    renameFolder: false,
  });

  const subfolderItem = document.getElementById("context_zenFolderNewSubfolder");
  let currentFolder = folder;
  for (let i = 1; i < TEST_MAX_FOLDERS; i++) {
    await openFolderContextMenu(currentFolder);
    Assert.notStrictEqual(
      subfolderItem.getAttribute("disabled"),
      "true",
      `Subfolder item should be enabled`
    );
    const folderCreateEvent = BrowserTestUtils.waitForEvent(window, "TabGroupCreate");
    EventUtils.synthesizeMouseAtCenter(subfolderItem, {});
    await folderCreateEvent;
    const items = currentFolder.allItems;
    Assert.equal(items.length, 2, `Folder should have 2 items`);
    ok(gBrowser.isTabGroup(items[1]), `Item should be a tab group`);
    currentFolder = items[1];
  }

  await openFolderContextMenu(currentFolder);
  Assert.equal(
    subfolderItem.getAttribute("disabled"),
    "true",
    `Subfolder item should be disabled after reaching max subfolders`
  );

  document.getElementById("zenFolderActions").hidePopup();

  await removeFolder(folder);
});



================================================
FILE: src/zen/tests/folders/browser_folder_multiselected.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Folder_Multiselected_Tabs() {
  const selectedTab = gBrowser.selectedTab;
  const tab1 = BrowserTestUtils.addTab(gBrowser, "about:blank");
  const tab2 = BrowserTestUtils.addTab(gBrowser, "about:blank");
  const folder = await gZenFolders.createFolder([tab1], {});

  gBrowser.addRangeToMultiSelectedTabs(tab1, tab2);
  ok(tab1.multiselected, "Tab 1 should be multiselected");
  ok(tab2.multiselected, "Tab 2 should be multiselected");
  Assert.greater(gBrowser.multiSelectedTabsCount, 1, "There should be 2 multiselected tabs");

  const collapseEvent = BrowserTestUtils.waitForEvent(window, "TabGroupCollapse");
  folder.collapsed = true;
  await collapseEvent;

  ok(tab2.multiselected, "Tab 2 should not be multiselected");
  Assert.equal(gBrowser.multiSelectedTabsCount, 3, "There should be 3 multiselected tabs");

  for (const t of [tab1, tab2]) {
    BrowserTestUtils.removeTab(t);
  }

  gBrowser.selectedTab = selectedTab;
  await removeFolder(folder);
});



================================================
FILE: src/zen/tests/folders/browser_folder_owner_tabs.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Duplicate_Tab_Inside_Folder() {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.folders.owned-tabs-in-folder", true]],
  });
  const selectedTab = gBrowser.selectedTab;
  const tab = BrowserTestUtils.addTab(gBrowser, "about:blank");
  const folder = await gZenFolders.createFolder([tab], {
    renameFolder: false,
  });
  gBrowser.selectedTab = tab;
  const triggeringPrincipal = Services.scriptSecurityManager.getSystemPrincipal();
  gBrowser.addTab("https://example.com", {
    tabIndex: undefined,
    relatedToCurrent: true,
    ownerTab: tab,
    triggeringPrincipal,
  });

  Assert.equal(
    folder.tabs.length,
    3,
    "Folder contains the original tab and the two duplicated tabs"
  );

  /* eslint-disable mozilla/no-arbitrary-setTimeout */
  await new Promise((resolve) => setTimeout(resolve, 100));

  for (const t of folder.tabs) {
    ok(t.pinned, "All tabs in the folder should be pinned");
  }

  gBrowser.selectedTab = selectedTab;
  await removeFolder(folder);
  await SpecialPowers.popPrefEnv();
});

add_task(async function test_Duplicate_Tab_Inside_Folder_Unpinned() {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.folders.owned-tabs-in-folder", false]],
  });
  const selectedTab = gBrowser.selectedTab;
  const tab = BrowserTestUtils.addTab(gBrowser, "about:blank");
  const folder = await gZenFolders.createFolder([tab], {
    renameFolder: false,
  });
  gBrowser.selectedTab = tab;
  const triggeringPrincipal = Services.scriptSecurityManager.getSystemPrincipal();
  let newTab = gBrowser.addTab("https://example.com", {
    tabIndex: undefined,
    relatedToCurrent: true,
    ownerTab: tab,
    triggeringPrincipal,
  });

  Assert.equal(
    folder.tabs.length,
    2,
    "Folder contains the original tab and the two duplicated tabs"
  );

  ok(!newTab.group, "New tab should not be grouped");

  gBrowser.selectedTab = selectedTab;
  BrowserTestUtils.removeTab(newTab);
  await removeFolder(folder);
  await SpecialPowers.popPrefEnv();
});



================================================
FILE: src/zen/tests/folders/browser_folder_reset_button.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Issue_() {
  const selectedTab = gBrowser.selectedTab;
  const tab1 = BrowserTestUtils.addTab(gBrowser, "about:blank");
  const tab2 = BrowserTestUtils.addTab(gBrowser, "about:blank");
  const folder = await gZenFolders.createFolder([tab1, tab2], {});

  gBrowser.selectedTab = tab2;

  gBrowser.addRangeToMultiSelectedTabs(tab1, tab2);
  ok(tab1.multiselected, "Tab 1 should be multiselected");
  ok(tab2.multiselected, "Tab 2 should be multiselected");
  Assert.equal(gBrowser.multiSelectedTabsCount, 2, "There should be 2 multiselected tabs");
  await new Promise((resolve) => setTimeout(resolve, 0));

  const collapseEvent = BrowserTestUtils.waitForEvent(window, "TabGroupCollapse");
  EventUtils.synthesizeMouseAtCenter(folder.labelElement, {});
  await collapseEvent;

  gBrowser.clearMultiSelectedTabs();
  gBrowser.selectedTab = selectedTab;

  Assert.equal(folder.activeTabs.length, 2, "Folder should have 2 active tabs");

  ok(tab1.hasAttribute("folder-active"), "Tab 1 should be in the active folder");
  ok(tab2.hasAttribute("folder-active"), "Tab 2 should be in the active folder");

  EventUtils.synthesizeMouseAtCenter(folder.resetButton, {});

  await new Promise((resolve) =>
    /* eslint-disable mozilla/no-arbitrary-setTimeout */
    setTimeout(() => {
      ok(!tab1.hasAttribute("folder-active"), "Tab 1 should not be in the active folder");
      ok(!tab2.hasAttribute("folder-active"), "Tab 2 should not be in the active folder");
      resolve();
    }, 500)
  );
  await removeFolder(folder);
});



================================================
FILE: src/zen/tests/folders/browser_folder_subfolder.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Create_Folder() {
  const tab = BrowserTestUtils.addTab(gBrowser, "data:text/html,tab1");
  const tab2 = BrowserTestUtils.addTab(gBrowser, "data:text/html,tab2");
  const subfolder = await gZenFolders.createFolder([tab], {
    renameFolder: false,
    label: "subfolder",
  });
  const parent = await gZenFolders.createFolder([tab2], {
    renameFolder: false,
    label: "parent",
  });
  parent.tabs[0].after(subfolder);

  Assert.equal(parent, subfolder.group, "Parent folder is set correctly");
  Assert.equal(
    subfolder.tabs.length,
    2,
    "Subfolder contains the tab and the empty tab created by Zen Folders"
  );
  Assert.equal(parent.tabs.length, 4, "Parent folder contains the subfolder");
  await removeFolder(subfolder);
  await removeFolder(parent);
});



================================================
FILE: src/zen/tests/folders/browser_folder_visible_tabs.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Not_Visible_Collapsed() {
  const tab = BrowserTestUtils.addTab(gBrowser, "data:text/html,tab1");
  const folder = await gZenFolders.createFolder([tab]);

  Assert.equal(
    folder.tabs.length,
    2,
    "Subfolder contains the tab and the empty tab created by Zen Folders"
  );
  ok(tab.visible, "Tab is visible in the folder");

  folder.collapsed = true;
  ok(!tab.visible, "Tab is not visible in the folder when collapsed");
  await removeFolder(folder);
});

add_task(async function test_Visible_Selected() {
  const originalTab = gBrowser.selectedTab;
  const tab = BrowserTestUtils.addTab(gBrowser, "data:text/html,tab1");
  const folder = await gZenFolders.createFolder([tab]);

  Assert.equal(
    folder.tabs.length,
    2,
    "Subfolder contains the tab and the empty tab created by Zen Folders"
  );
  ok(tab.visible, "Tab is visible in the folder");
  gBrowser.selectedTab = tab;
  folder.collapsed = true;
  ok(tab.visible, "Tab is visible in the folder when collapsed");
  ok(tab.hasAttribute("folder-active"), "Tab is marked as active in the folder when selected");
  ok(
    tab.group.hasAttribute("has-active"),
    "Tab group is marked as active when the tab is selected"
  );
  Assert.deepEqual(
    tab.group.activeTabs,
    [tab],
    "Tab is included in the active tabs of the group when selected"
  );

  gBrowser.selectedTab = originalTab;
  await removeFolder(folder);
});

add_task(async function test_Visible_Not_Selected() {
  const originalTab = gBrowser.selectedTab;
  const tab = BrowserTestUtils.addTab(gBrowser, "data:text/html,tab1");
  const folder = await gZenFolders.createFolder([tab]);

  Assert.equal(
    folder.tabs.length,
    2,
    "Subfolder contains the tab and the empty tab created by Zen Folders"
  );
  ok(tab.visible, "Tab is visible in the folder");
  gBrowser.selectedTab = tab;
  folder.collapsed = true;
  gBrowser.selectedTab = originalTab;
  ok(tab.visible, "Tab is visible in the folder when collapsed");
  ok(tab.hasAttribute("folder-active"), "Tab is marked as active in the folder when selected");
  ok(
    tab.group.hasAttribute("has-active"),
    "Tab group is marked as active when the tab is selected"
  );
  Assert.deepEqual(
    tab.group.activeTabs,
    [tab],
    "Tab is included in the active tabs of the group when selected"
  );

  await removeFolder(folder);
});



================================================
FILE: src/zen/tests/folders/head.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

async function removeFolder(folder) {
  if (!folder) {
    return;
  }
  const removeEvent = BrowserTestUtils.waitForEvent(folder, "TabGroupRemoved");
  folder.delete();
  await removeEvent;
}

async function openFolderContextMenu(folder) {
  const popup = document.getElementById("zenFolderActions");
  let menuEvent = BrowserTestUtils.waitForEvent(popup, "popupshown");
  EventUtils.synthesizeMouseAtCenter(folder.labelElement, {
    type: "contextmenu",
  });
  await menuEvent;
}

async function addTabTo(targetBrowser, url = "http://mochi.test:8888/", params = {}) {
  params.skipAnimation = true;
  const tab = BrowserTestUtils.addTab(targetBrowser, url, params);
  const browser = targetBrowser.getBrowserForTab(tab);
  await BrowserTestUtils.browserLoaded(browser);
  return tab;
}



================================================
FILE: src/zen/tests/glance/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
support-files = [
  "head.js",
]

["browser_glance_basic.js"]
["browser_glance_expand.js"]
["browser_glance_close.js"]
["browser_glance_next_tab.js"]
["browser_glance_prev_tab.js"]
["browser_glance_select_parent.js"]
["browser_glance_close_select.js"]



================================================
FILE: src/zen/tests/glance/browser_glance_basic.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Glance_Basic_Open() {
  await openGlanceOnTab(async (glanceTab) => {
    ok(
      glanceTab.hasAttribute("zen-glance-tab"),
      "The glance tab should have the zen-glance-tab attribute"
    );
  });
});



================================================
FILE: src/zen/tests/glance/browser_glance_close.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Glance_Basic_Close() {
  const currentTab = gBrowser.selectedTab;
  await openGlanceOnTab(async (glanceTab) => {
    ok(
      currentTab.hasAttribute("glance-id"),
      "The glance tab should have the zen-glance-tab attribute"
    );
    await BrowserTestUtils.removeTab(glanceTab);
    await new Promise((resolve) => {
      /* eslint-disable mozilla/no-arbitrary-setTimeout */
      setTimeout(() => {
        resolve();
      }, 1000);
    });
    ok(
      !currentTab.hasAttribute("glance-id"),
      "The glance tab should not have the zen-glance-tab attribute"
    );
    await BrowserTestUtils.removeTab(glanceTab);
  }, false);
});



================================================
FILE: src/zen/tests/glance/browser_glance_close_select.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

async function openAndCloseGlance() {
  await openGlanceOnTab(async (glanceTab) => {
    ok(
      glanceTab.hasAttribute("zen-glance-tab"),
      "The glance tab should have the zen-glance-tab attribute"
    );
  });
}

add_task(async function test_Glance_Close_No_Tabs() {
  const currentTab = gBrowser.selectedTab;
  await openAndCloseGlance();
  Assert.equal(gBrowser.selectedTab, currentTab, "The original tab should be selected");
  ok(currentTab.selected, "The original tab should be visually selected");
});

add_task(async function test_Glance_Close_With_Next_Tab() {
  const originalTab = gBrowser.selectedTab;
  await BrowserTestUtils.withNewTab(
    { url: "https://example.com", gBrowser, waitForLoad: false },
    async function () {
      const selectedTab = gBrowser.selectedTab;
      Assert.notEqual(selectedTab, originalTab, "A new tab should be selected");
      await openAndCloseGlance();
      Assert.equal(gBrowser.selectedTab, selectedTab, "The new tab should still be selected");
      ok(selectedTab.selected, "The new tab should be visually selected");

      gBrowser.selectedTab = originalTab;
    }
  );
});



================================================
FILE: src/zen/tests/glance/browser_glance_expand.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Glance_Basic_Open() {
  const selectedTab = gBrowser.selectedTab;
  await openGlanceOnTab(async (glanceTab) => {
    await gZenGlanceManager.fullyOpenGlance();
    ok(
      !glanceTab.hasAttribute("zen-glance-tab"),
      "The glance tab should not have the zen-glance-tab attribute"
    );
    Assert.strictEqual(
      gBrowser.tabs.filter((tab) => tab.hasAttribute("zen-glance-tab")).length,
      0,
      "There should be no zen-glance-tab attribute on any tab"
    );
    Assert.greater(
      glanceTab._tPos,
      selectedTab._tPos,
      "The glance tab should be on the right of the selected tab"
    );
    BrowserTestUtils.removeTab(glanceTab);
  }, false);
});

add_task(async function test_Glance_Open_Sibling() {
  const tabsToRemove = [];
  for (let i = 0; i < 5; i++) {
    await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "https://example.com/", true);
    tabsToRemove.push(gBrowser.selectedTab);
  }

  gBrowser.selectedTab = gBrowser.tabs[2];
  const selectedTab = gBrowser.selectedTab;

  await openGlanceOnTab(async (glanceTab) => {
    await gZenGlanceManager.fullyOpenGlance();
    Assert.equal(
      glanceTab._tPos,
      selectedTab._tPos + 1,
      "The glance tab should be on the right of the selected tab"
    );
    BrowserTestUtils.removeTab(glanceTab);
  }, false);

  for (const tab of tabsToRemove) {
    await BrowserTestUtils.removeTab(tab);
  }
});

add_task(async function test_Glance_Basic_Open() {
  const tabsToRemove = [];
  for (let i = 0; i < 3; i++) {
    await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "https://example.com/", true);
    gBrowser.pinTab(gBrowser.selectedTab);
    tabsToRemove.push(gBrowser.selectedTab);
  }

  gBrowser.selectedTab = gBrowser.tabs.find((tab) => tab.pinned);

  await openGlanceOnTab(async (glanceTab) => {
    await gZenGlanceManager.fullyOpenGlance();
    Assert.equal(
      glanceTab,
      gBrowser.visibleTabs.find((tab) => !tab.pinned),
      "The glance tab should be the first normal tab (Ignoring empty tabs)"
    );
    BrowserTestUtils.removeTab(glanceTab);
  }, false);

  for (const tab of tabsToRemove) {
    await BrowserTestUtils.removeTab(tab);
  }
});

add_task(async function test_Glance_New_From_essential() {
  ok(true, "todo:");
  return; // TODO: Fix this test, it currently fails
  /* eslint-disable no-unreachable, no-unused-vars */
  await BrowserTestUtils.withNewTab({ gBrowser, url: "https://example.com/" }, async (browser) => {
    const selectedTab = gBrowser.selectedTab;
    gZenPinnedTabManager.addToEssentials(selectedTab);
    await openGlanceOnTab(async (glanceTab) => {
      await gZenGlanceManager.fullyOpenGlance();
      ok(!glanceTab.pinned, "The glance tab should not be pinned");
      ok(
        !glanceTab.parentNode.hasAttribute("container"),
        "The glance tab should not be in an essentials container"
      );
      await BrowserTestUtils.removeTab(gBrowser.selectedTab);
      await BrowserTestUtils.removeTab(glanceTab);
    }, false);
  });
});



================================================
FILE: src/zen/tests/glance/browser_glance_next_tab.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Glance_Next_Tab() {
  const tabToCheck = gBrowser.selectedTab;
  await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "https://example.com/", true, {
    skipAnimation: true,
  });
  await openGlanceOnTab(async (glanceTab) => {
    gBrowser.tabContainer.advanceSelectedTab(1);
    const nextTab = gBrowser.selectedTab;
    gBrowser.selectedTab = glanceTab;
    await new Promise((resolve) => {
      setTimeout(() => {
        Assert.equal(nextTab, tabToCheck, "Next glance tab should equal");
        resolve();
      });
    });
  });
  await BrowserTestUtils.removeTab(gBrowser.selectedTab);
});



================================================
FILE: src/zen/tests/glance/browser_glance_prev_tab.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Glance_Prev_Tab() {
  await openGlanceOnTab(async (glanceTab) => {
    await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "https://example.com/", true, {
      skipAnimation: true,
    });
    const tabToCheck = gBrowser.selectedTab;
    gBrowser.selectedTab = glanceTab;
    gBrowser.tabContainer.advanceSelectedTab(-1);
    const prevTab = gBrowser.selectedTab;
    gBrowser.selectedTab = glanceTab;
    await new Promise((resolve) => {
      setTimeout(() => {
        Assert.equal(prevTab, tabToCheck, "Previous glance tab should equal");
        resolve();
      });
    });
    await BrowserTestUtils.removeTab(tabToCheck);
  });
});



================================================
FILE: src/zen/tests/glance/browser_glance_select_parent.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Glance_Select_Parent() {
  await openGlanceOnTab(async (glanceTab) => {
    ok(
      glanceTab.hasAttribute("zen-glance-tab"),
      "The glance tab should have the zen-glance-tab attribute"
    );
    await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "https://example.com/", true, {
      skipAnimation: true,
    });
    const tabToRemove = gBrowser.selectedTab;
    gBrowser.selectedTab = gZenGlanceManager.getTabOrGlanceParent(glanceTab);
    await BrowserTestUtils.waitForCondition(() => {
      return glanceTab.selected;
    });
    ok(true, "The glance tab should be selected");
    await BrowserTestUtils.removeTab(tabToRemove);
  });
});



================================================
FILE: src/zen/tests/glance/head.js
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

const { openGlanceOnTab: internalGlanceHandle } = ChromeUtils.importESModule(
  "resource://testing-common/GlanceTestUtils.sys.mjs"
);

function openGlanceOnTab(callback, close = true) {
  return internalGlanceHandle(window, callback, close);
}



================================================
FILE: src/zen/tests/mochitests/moz.build
================================================

# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# This file is autogenerated by scripts/import_external_tests.py
# Do not edit manually.


BROWSER_CHROME_MANIFESTS += [
	"safebrowsing/browser.toml",
	"sandbox/browser.toml",
	"shell/browser.toml",
	"tooltiptext/browser.toml",
]
XPCSHELL_TESTS_MANIFESTS += [
]


================================================
FILE: src/zen/tests/mochitests/safebrowsing/browser.toml
================================================
[DEFAULT]
support-files = [
  "head.js",
  "empty_file.html",
]

["browser_bug400731.js"]

["browser_bug415846.js"]
skip-if = [
  "true", # Bug 1248632
]

["browser_mixedcontent_aboutblocked.js"]

["browser_whitelisted.js"]



================================================
FILE: src/zen/tests/mochitests/safebrowsing/browser_bug400731.js
================================================
/* Check presence of the "Ignore this warning" button */

function checkWarningState() {
  return SpecialPowers.spawn(gBrowser.selectedBrowser, [], () => {
    return !!content.document.getElementById("ignore_warning_link");
  });
}

add_task(async function testMalware() {
  await new Promise(resolve => waitForDBInit(resolve));

  await BrowserTestUtils.openNewForegroundTab(gBrowser, "about:blank");

  const url = "http://www.itisatrap.org/firefox/its-an-attack.html";
  BrowserTestUtils.startLoadingURIString(gBrowser.selectedBrowser, url);
  await BrowserTestUtils.browserLoaded(
    gBrowser.selectedBrowser,
    false,
    url,
    true
  );

  let buttonPresent = await checkWarningState();
  ok(buttonPresent, "Ignore warning link should be present for malware");
});

add_task(async function testUnwanted() {
  Services.prefs.setBoolPref("browser.safebrowsing.allowOverride", false);

  // Now launch the unwanted software test
  const url = "http://www.itisatrap.org/firefox/unwanted.html";
  BrowserTestUtils.startLoadingURIString(gBrowser.selectedBrowser, url);
  await BrowserTestUtils.browserLoaded(
    gBrowser.selectedBrowser,
    false,
    url,
    true
  );

  // Confirm that "Ignore this warning" is visible - bug 422410
  let buttonPresent = await checkWarningState();
  ok(
    !buttonPresent,
    "Ignore warning link should be missing for unwanted software"
  );
});

add_task(async function testPhishing() {
  Services.prefs.setBoolPref("browser.safebrowsing.allowOverride", true);

  // Now launch the phishing test
  const url = "http://www.itisatrap.org/firefox/its-a-trap.html";
  BrowserTestUtils.startLoadingURIString(gBrowser.selectedBrowser, url);
  await BrowserTestUtils.browserLoaded(
    gBrowser.selectedBrowser,
    false,
    url,
    true
  );

  let buttonPresent = await checkWarningState();
  ok(buttonPresent, "Ignore warning link should be present for phishing");

  gBrowser.removeCurrentTab();
});



================================================
FILE: src/zen/tests/mochitests/safebrowsing/browser_bug415846.js
================================================
/* Check for the correct behaviour of the report web forgery/not a web forgery
menu items.

Mac makes this astonishingly painful to test since their help menu is special magic,
but we can at least test it on the other platforms.*/

const NORMAL_PAGE = "http://example.com";
const PHISH_PAGE = "http://www.itisatrap.org/firefox/its-a-trap.html";

/**
 * Opens a new tab and browses to some URL, tests for the existence
 * of the phishing menu items, and then runs a test function to check
 * the state of the menu once opened. This function will take care of
 * opening and closing the menu.
 *
 * @param url (string)
 *        The URL to browse the tab to.
 * @param testFn (function)
 *        The function to run once the menu has been opened. This
 *        function will be passed the "reportMenu" and "errorMenu"
 *        DOM nodes as arguments, in that order. This function
 *        should not yield anything.
 * @returns Promise
 */
function check_menu_at_page(url, testFn) {
  return BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "about:blank",
    },
    async function (browser) {
      // We don't get load events when the DocShell redirects to error
      // pages, but we do get DOMContentLoaded, so we'll wait for that.
      let dclPromise = SpecialPowers.spawn(browser, [], async function () {
        await ContentTaskUtils.waitForEvent(this, "DOMContentLoaded", false);
      });
      BrowserTestUtils.startLoadingURIString(browser, url);
      await dclPromise;

      let menu = document.getElementById("menu_HelpPopup");
      ok(menu, "Help menu should exist");

      let reportMenu = document.getElementById(
        "menu_HelpPopup_reportPhishingtoolmenu"
      );
      ok(reportMenu, "Report phishing menu item should exist");

      let errorMenu = document.getElementById(
        "menu_HelpPopup_reportPhishingErrortoolmenu"
      );
      ok(errorMenu, "Report phishing error menu item should exist");

      let menuOpen = BrowserTestUtils.waitForEvent(menu, "popupshown");
      menu.openPopup(null, "", 0, 0, false, null);
      await menuOpen;

      testFn(reportMenu, errorMenu);

      let menuClose = BrowserTestUtils.waitForEvent(menu, "popuphidden");
      menu.hidePopup();
      await menuClose;
    }
  );
}

/**
 * Tests that we show the "Report this page" menu item at a normal
 * page.
 */
add_task(async function () {
  await check_menu_at_page(NORMAL_PAGE, (reportMenu, errorMenu) => {
    ok(
      !reportMenu.hidden,
      "Report phishing menu should be visible on normal sites"
    );
    ok(
      errorMenu.hidden,
      "Report error menu item should be hidden on normal sites"
    );
  });
});

/**
 * Tests that we show the "Report this page is okay" menu item at
 * a reported attack site.
 */
add_task(async function () {
  await check_menu_at_page(PHISH_PAGE, (reportMenu, errorMenu) => {
    ok(
      reportMenu.hidden,
      "Report phishing menu should be hidden on phishing sites"
    );
    ok(
      !errorMenu.hidden,
      "Report error menu item should be visible on phishing sites"
    );
  });
});



================================================
FILE: src/zen/tests/mochitests/safebrowsing/browser_mixedcontent_aboutblocked.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */

const SECURE_CONTAINER_URL =
  "https://example.com/browser/browser/components/safebrowsing/content/test/empty_file.html";

add_task(async function testNormalBrowsing() {
  await SpecialPowers.pushPrefEnv({
    set: [["browser.safebrowsing.only_top_level", false]],
  });

  await BrowserTestUtils.withNewTab(
    SECURE_CONTAINER_URL,
    async function (browser) {
      // Before we load the phish url, we have to make sure the hard-coded
      // black list has been added to the database.
      await new Promise(resolve => waitForDBInit(resolve));

      let promise = new Promise(resolve => {
        // Register listener before loading phish URL.
        let removeFunc = BrowserTestUtils.addContentEventListener(
          browser,
          "AboutBlockedLoaded",
          () => {
            removeFunc();
            resolve();
          },
          { wantUntrusted: true }
        );
      });

      await SpecialPowers.spawn(
        browser,
        [PHISH_URL],
        async function (aPhishUrl) {
          // Create an iframe which is going to load a phish url.
          let iframe = content.document.createElement("iframe");
          iframe.src = aPhishUrl;
          content.document.body.appendChild(iframe);
        }
      );

      await promise;
      ok(true, "about:blocked is successfully loaded!");
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/safebrowsing/browser_whitelisted.js
================================================
/* Ensure that hostnames in the whitelisted pref are not blocked. */

const PREF_WHITELISTED_HOSTNAMES = "urlclassifier.skipHostnames";
const TEST_PAGE = "http://www.itisatrap.org/firefox/its-an-attack.html";
var tabbrowser = null;

registerCleanupFunction(function () {
  tabbrowser = null;
  Services.prefs.clearUserPref(PREF_WHITELISTED_HOSTNAMES);
  while (gBrowser.tabs.length > 1) {
    gBrowser.removeCurrentTab();
  }
});

function testBlockedPage() {
  info("Non-whitelisted pages must be blocked");
  ok(true, "about:blocked was shown");
}

function testWhitelistedPage(window) {
  info("Whitelisted pages must be skipped");
  var getmeout_button = window.document.getElementById("getMeOutButton");
  var ignorewarning_button = window.document.getElementById(
    "ignoreWarningButton"
  );
  ok(!getmeout_button, "GetMeOut button not present");
  ok(!ignorewarning_button, "IgnoreWarning button not present");
}

add_task(async function testNormalBrowsing() {
  tabbrowser = gBrowser;
  let tab = (tabbrowser.selectedTab = BrowserTestUtils.addTab(tabbrowser));

  info("Load a test page that's whitelisted");
  Services.prefs.setCharPref(
    PREF_WHITELISTED_HOSTNAMES,
    "example.com,www.ItIsaTrap.org,example.net"
  );
  await promiseTabLoadEvent(tab, TEST_PAGE, "load");
  testWhitelistedPage(tab.ownerGlobal);

  info("Load a test page that's no longer whitelisted");
  Services.prefs.setCharPref(PREF_WHITELISTED_HOSTNAMES, "");
  await promiseTabLoadEvent(tab, TEST_PAGE, "AboutBlockedLoaded");
  testBlockedPage(tab.ownerGlobal);
});



================================================
FILE: src/zen/tests/mochitests/safebrowsing/empty_file.html
================================================
<html><body></body></html>



================================================
FILE: src/zen/tests/mochitests/safebrowsing/head.js
================================================
// This url must sync with the table, url in SafeBrowsing.sys.mjs addMozEntries
const PHISH_TABLE = "moztest-phish-simple";
const PHISH_URL = "https://www.itisatrap.org/firefox/its-a-trap.html";

/**
 * Waits for a load (or custom) event to finish in a given tab. If provided
 * load an uri into the tab.
 *
 * @param tab
 *        The tab to load into.
 * @param [optional] url
 *        The url to load, or the current url.
 * @param [optional] event
 *        The load event type to wait for.  Defaults to "load".
 * @return {Promise} resolved when the event is handled.
 * @resolves to the received event
 * @rejects if a valid load event is not received within a meaningful interval
 */
function promiseTabLoadEvent(tab, url, eventType = "load") {
  info(`Wait tab event: ${eventType}`);

  function handle(loadedUrl) {
    if (loadedUrl === "about:blank" || (url && loadedUrl !== url)) {
      info(`Skipping spurious load event for ${loadedUrl}`);
      return false;
    }

    info("Tab event received: load");
    return true;
  }

  let loaded;
  if (eventType === "load") {
    loaded = BrowserTestUtils.browserLoaded(tab.linkedBrowser, false, handle);
  } else {
    // No need to use handle.
    loaded = BrowserTestUtils.waitForContentEvent(
      tab.linkedBrowser,
      eventType,
      true,
      undefined,
      true
    );
  }

  if (url) {
    BrowserTestUtils.startLoadingURIString(tab.linkedBrowser, url);
  }

  return loaded;
}

// This function is mostly ported from classifierCommon.js
// under toolkit/components/url-classifier/tests/mochitest.
function waitForDBInit(callback) {
  // Since there are two cases that may trigger the callback,
  // we have to carefully avoid multiple callbacks and observer
  // leaking.
  let didCallback = false;
  function callbackOnce() {
    if (!didCallback) {
      Services.obs.removeObserver(obsFunc, "mozentries-update-finished");
      callback();
    }
    didCallback = true;
  }

  // The first part: listen to internal event.
  function obsFunc() {
    ok(true, "Received internal event!");
    callbackOnce();
  }
  Services.obs.addObserver(obsFunc, "mozentries-update-finished");

  // The second part: we might have missed the event. Just do
  // an internal database lookup to confirm if the url has been
  // added.
  let principal = Services.scriptSecurityManager.createContentPrincipal(
    Services.io.newURI(PHISH_URL),
    {}
  );

  let dbService = Cc["@mozilla.org/url-classifier/dbservice;1"].getService(
    Ci.nsIUrlClassifierDBService
  );
  dbService.lookup(principal, PHISH_TABLE, value => {
    if (value === PHISH_TABLE) {
      ok(true, "DB lookup success!");
      callbackOnce();
    }
  });
}

Services.prefs.setCharPref(
  "urlclassifier.malwareTable",
  "moztest-malware-simple,moztest-unwanted-simple,moztest-harmful-simple"
);
Services.prefs.setCharPref("urlclassifier.phishTable", "moztest-phish-simple");
Services.prefs.setCharPref(
  "urlclassifier.blockedTable",
  "moztest-block-simple"
);
SafeBrowsing.init();



================================================
FILE: src/zen/tests/mochitests/sandbox/browser.toml
================================================
[DEFAULT]
skip-if = [
  "ccov",
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && asan", # bug 1784517
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && tsan", # bug 1784517
]
tags = "contentsandbox"
support-files = [
  "browser_content_sandbox_utils.js",
  "browser_content_sandbox_fs_tests.js",
  "mac_register_font.py",
  "../../../../layout/reftests/fonts/fira/FiraSans-Regular.otf"
]

["browser_bug1393259.js"]
disabled="Disabled by import_external_tests.py"
support-files = ["bug1393259.html"]
run-if = [
  "os == 'mac'", # This is a Mac-specific test
]
skip-if = [
  "os == 'mac' && os_version == '14.70' && arch == 'x86_64'", # Bug 1929424
]
tags = "os_integration"

["browser_content_sandbox_fs.js"]
skip-if = [
  "os == 'win' && os_version == '11.26100' && arch == 'x86' && debug", # bug 1379635
  "os == 'win' && os_version == '11.26100' && arch == 'x86_64' && debug", # bug 1379635
]

["browser_content_sandbox_syscalls.js"]

["browser_sandbox_test.js"]
run-if = [
  "debug",
]



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_bug1393259.js
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
"use strict";

/*
 * This test validates that an OTF font installed in a directory not
 * accessible to content processes is rendered correctly by checking that
 * content displayed never uses the OS fallback font "LastResort". When
 * a content process renders a page with the fallback font, that is an
 * indication the content process failed to read or load the computed font.
 * The test uses a version of the Fira Sans font and depends on the font
 * not being already installed and enabled.
 */

const kPageURL =
  "http://example.com/browser/security/sandbox/test/bug1393259.html";

// Parameters for running the python script that registers/unregisters fonts.
let kPythonPath = "/usr/bin/python";
if (AppConstants.isPlatformAndVersionAtLeast("macosx", 23.0)) {
  kPythonPath = "/usr/local/bin/python3";
}
const kFontInstallerPath = "browser/security/sandbox/test/mac_register_font.py";
const kUninstallFlag = "-u";
const kVerboseFlag = "-v";

// Where to find the font in the test environment.
const kRepoFontPath = "browser/security/sandbox/test/FiraSans-Regular.otf";

// Font name strings to check for.
const kLastResortFontName = "LastResort";
const kTestFontName = "Fira Sans";

// Home-relative path to install a private font. Where a private font is
// a font at a location not readable by content processes.
const kPrivateFontSubPath = "/FiraSans-Regular.otf";

add_task(async function () {
  await new Promise(resolve => waitForFocus(resolve, window));

  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: kPageURL,
    },
    async function (aBrowser) {
      function runProcess(aCmd, aArgs, blocking = true) {
        let cmdFile = Cc["@mozilla.org/file/local;1"].createInstance(
          Ci.nsIFile
        );
        cmdFile.initWithPath(aCmd);

        let process = Cc["@mozilla.org/process/util;1"].createInstance(
          Ci.nsIProcess
        );
        process.init(cmdFile);
        process.run(blocking, aArgs, aArgs.length);
        return process.exitValue;
      }

      // Register the font at path |fontPath| and wait
      // for the browser to detect the change.
      async function registerFont(fontPath) {
        let fontRegistered = getFontNotificationPromise();
        let exitCode = runProcess(kPythonPath, [
          kFontInstallerPath,
          kVerboseFlag,
          fontPath,
        ]);
        Assert.equal(exitCode, 0, "registering font" + fontPath);
        if (exitCode == 0) {
          // Wait for the font registration to be detected by the browser.
          await fontRegistered;
        }
      }

      // Unregister the font at path |fontPath|. If |waitForUnreg| is true,
      // don't wait for the browser to detect the change and don't use
      // the verbose arg for the unregister command.
      async function unregisterFont(fontPath, waitForUnreg = true) {
        let args = [kFontInstallerPath, kUninstallFlag];
        let fontUnregistered;

        if (waitForUnreg) {
          args.push(kVerboseFlag);
          fontUnregistered = getFontNotificationPromise();
        }

        let exitCode = runProcess(kPythonPath, args.concat(fontPath));
        if (waitForUnreg) {
          Assert.equal(exitCode, 0, "unregistering font" + fontPath);
          if (exitCode == 0) {
            await fontUnregistered;
          }
        }
      }

      // Returns a promise that resolves when font info is changed.
      let getFontNotificationPromise = () =>
        new Promise(resolve => {
          const kTopic = "font-info-updated";
          function observe() {
            Services.obs.removeObserver(observe, kTopic);
            resolve();
          }

          Services.obs.addObserver(observe, kTopic);
        });

      let homeDir = Services.dirsvc.get("Home", Ci.nsIFile);
      let privateFontPath = homeDir.path + kPrivateFontSubPath;

      registerCleanupFunction(function () {
        unregisterFont(privateFontPath, /* waitForUnreg = */ false);
        runProcess("/bin/rm", [privateFontPath], /* blocking = */ false);
      });

      // Copy the font file to the private path.
      runProcess("/bin/cp", [kRepoFontPath, privateFontPath]);

      // Cleanup previous aborted tests.
      unregisterFont(privateFontPath, /* waitForUnreg = */ false);

      // Get the original width, using the fallback monospaced font
      let origWidth = await SpecialPowers.spawn(
        aBrowser,
        [],
        async function () {
          let window = content.window.wrappedJSObject;
          let contentDiv = window.document.getElementById("content");
          return contentDiv.offsetWidth;
        }
      );

      // Activate the font we want to test at a non-standard path.
      await registerFont(privateFontPath);

      // Assign the new font to the content.
      await SpecialPowers.spawn(aBrowser, [], async function () {
        let window = content.window.wrappedJSObject;
        let contentDiv = window.document.getElementById("content");
        contentDiv.style.fontFamily = "'Fira Sans', monospace";
      });

      // Wait until the width has changed, indicating the content process
      // has recognized the newly-activated font.
      while (true) {
        let width = await SpecialPowers.spawn(aBrowser, [], async function () {
          let window = content.window.wrappedJSObject;
          let contentDiv = window.document.getElementById("content");
          return contentDiv.offsetWidth;
        });
        if (width != origWidth) {
          break;
        }
        // If the content wasn't ready yet, wait a little before re-checking.
        // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
        await new Promise(c => setTimeout(c, 100));
      }

      // Get a list of fonts now being used to display the web content.
      let fontList = await SpecialPowers.spawn(aBrowser, [], async function () {
        let window = content.window.wrappedJSObject;
        let range = window.document.createRange();
        let contentDiv = window.document.getElementById("content");
        range.selectNode(contentDiv);
        let fonts = InspectorUtils.getUsedFontFaces(range);

        let fontList = [];
        for (let i = 0; i < fonts.length; i++) {
          fontList.push({ name: fonts[i].name });
        }
        return fontList;
      });

      let lastResortFontUsed = false;
      let testFontUsed = false;

      for (let font of fontList) {
        // Did we fall back to the "LastResort" font?
        if (!lastResortFontUsed && font.name.includes(kLastResortFontName)) {
          lastResortFontUsed = true;
          continue;
        }
        // Did we render using our test font as expected?
        if (!testFontUsed && font.name.includes(kTestFontName)) {
          testFontUsed = true;
          continue;
        }
      }

      Assert.ok(
        !lastResortFontUsed,
        `The ${kLastResortFontName} fallback font was not used`
      );

      Assert.ok(testFontUsed, `The test font "${kTestFontName}" was used`);

      await unregisterFont(privateFontPath);
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_bug1717599_XDG-CONFIG-DIRS.toml
================================================
# Any copyright is dedicated to the Public Domain.
# http://creativecommons.org/publicdomain/zero/1.0/
[DEFAULT]
skip-if = [
  "ccov",
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && asan", # bug 1784517
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && tsan", # bug 1784517
]
tags = "contentsandbox"
environment = "XDG_CONFIG_DIRS=:/opt"

["browser_content_sandbox_bug1717599_XDG-CONFIG-DIRS.js"]
run-if = [
  "os == 'linux'",
]



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_bug1717599_XDG-CONFIG-HOME.toml
================================================
[DEFAULT]
skip-if = [
  "ccov",
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && asan", # bug 1784517
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && tsan", # bug 1784517
]
tags = "contentsandbox"
environment = "XDG_CONFIG_HOME="

["browser_content_sandbox_bug1717599_XDG-CONFIG-HOME.js"]
run-if = [
  "os == 'linux'",
]



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_bug1717599_XDG-CONFIG-DIRS.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* import-globals-from browser_content_sandbox_utils.js */
"use strict";

//
// Just test that browser does not die on empty env var
//
add_task(async function () {
  ok(true, "Process can run");
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_bug1717599_XDG-CONFIG-HOME.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* import-globals-from browser_content_sandbox_utils.js */
"use strict";

//
// Just test that browser does not die on empty env var
//
add_task(async function () {
  ok(true, "Process can run");
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_fs.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* import-globals-from browser_content_sandbox_utils.js */
"use strict";

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_utils.js",
  this
);

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_fs_tests.js",
  this
);

/*
 * This test exercises file I/O from web and file content processes using
 * nsIFile etc. methods to validate that calls that are meant to be blocked by
 * content sandboxing are blocked.
 */

//
// Checks that sandboxing is enabled and at the appropriate level
// setting before triggering tests that do the file I/O.
//
// Tests attempting to write to a file in the home directory from the
// content process--expected to fail.
//
// Tests attempting to write to a file in the content temp directory
// from the content process--expected to succeed. Uses "ContentTmpD".
//
// Tests reading various files and directories from file and web
// content processes.
//
add_task(async function () {
  sanityChecks();

  // Test creating a file in the home directory from a web content process
  add_task(createFileInHome); // eslint-disable-line no-undef

  // Test creating a file content temp from a web content process
  add_task(createTempFile); // eslint-disable-line no-undef

  // Test reading files/dirs from web and file content processes
  add_task(testFileAccessAllPlatforms); // eslint-disable-line no-undef

  add_task(testFileAccessMacOnly); // eslint-disable-line no-undef

  add_task(testFileAccessLinuxOnly); // eslint-disable-line no-undef

  add_task(testFileAccessWindowsOnly); // eslint-disable-line no-undef

  add_task(cleanupBrowserTabs); // eslint-disable-line no-undef
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_fs_snap.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* import-globals-from browser_content_sandbox_utils.js */
"use strict";

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_utils.js",
  this
);

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_fs_tests.js",
  this
);

add_task(async function () {
  // Ensure that SNAP is there
  const snap = Services.env.get("SNAP");
  Assert.greater(snap.length, 1, "SNAP is defined");

  // If it is there, do actual testing
  sanityChecks();

  add_task(testFileAccessLinuxOnly); // eslint-disable-line no-undef

  add_task(testFileAccessLinuxSnap); // eslint-disable-line no-undef

  add_task(cleanupBrowserTabs); // eslint-disable-line no-undef
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_fs_tests.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* import-globals-from browser_content_sandbox_utils.js */
"use strict";

const lazy = {};

/* getLibcConstants is only present on *nix */
ChromeUtils.defineLazyGetter(lazy, "LIBC", () =>
  ChromeUtils.getLibcConstants()
);

// Test if the content process can create in $HOME, this should fail
async function createFileInHome() {
  let browser = gBrowser.selectedBrowser;
  let homeFile = fileInHomeDir();
  let path = homeFile.path;
  let fileCreated = await SpecialPowers.spawn(browser, [path], createFile);
  ok(!fileCreated.ok, "creating a file in home dir failed");
  is(
    fileCreated.code,
    Cr.NS_ERROR_FILE_ACCESS_DENIED,
    "creating a file in home dir failed with access denied"
  );
  if (fileCreated.ok) {
    // content process successfully created the file, now remove it
    homeFile.remove(false);
  }
}

// Test if the content process can create a temp file, this is forbidden on all
// platforms. Also test that the content process cannot create symlinks on
// macOS/Linux or delete files.
async function createTempFile() {
  // On Windows we allow access to the temp dir for DEBUG builds, because of
  // logging that uses that dir.
  let isDbgWin = isWin() && SpecialPowers.isDebugBuild;

  let browser = gBrowser.selectedBrowser;
  let path = fileInTempDir().path;
  let fileCreated = await SpecialPowers.spawn(browser, [path], createFile);
  if (isDbgWin) {
    ok(fileCreated.ok, "creating a file in temp suceeded");
  } else {
    ok(!fileCreated.ok, "creating a file in temp failed");
    is(
      fileCreated.code,
      Cr.NS_ERROR_FILE_ACCESS_DENIED,
      "creating a file in temp failed with access denied"
    );
  }

  // now delete the file
  let fileDeleted = await SpecialPowers.spawn(browser, [path], deleteFile);
  if (isDbgWin) {
    ok(fileDeleted.ok, "deleting a file in temp succeeded");
  } else {
    ok(!fileDeleted.ok, "deleting a file in temp failed");
    const expectedError = isLinux()
      ? Cr.NS_ERROR_FILE_ACCESS_DENIED
      : Cr.NS_ERROR_FILE_NOT_FOUND;
    is(
      fileDeleted.code,
      expectedError,
      "deleting a file in temp failed with access denied"
    );
  }

  // Test that symlink creation is not allowed on macOS/Linux.
  if (isMac() || isLinux()) {
    let path = fileInTempDir().path;
    let symlinkCreated = await SpecialPowers.spawn(
      browser,
      [path],
      createSymlink
    );
    ok(!symlinkCreated.ok, "created a symlink in temp failed");
    const expectedError = isLinux() ? lazy.LIBC.EACCES : lazy.LIBC.EPERM;
    is(
      symlinkCreated.code,
      expectedError,
      "created a symlink in temp failed with access denied"
    );
  }
}

// Test reading files and dirs from web and file content processes.
async function testFileAccessAllPlatforms() {
  let webBrowser = GetWebBrowser();
  let fileContentProcessEnabled = isFileContentProcessEnabled();
  let fileBrowser = GetFileBrowser();

  // Directories/files to test accessing from content processes.
  // For directories, we test whether a directory listing is allowed
  // or blocked. For files, we test if we can read from the file.
  // Each entry in the array represents a test file or directory
  // that will be read from either a web or file process.
  let tests = [];

  let profileDir = GetProfileDir();
  tests.push({
    desc: "profile dir", // description
    ok: false, // expected to succeed?
    browser: webBrowser, // browser to run test in
    file: profileDir, // nsIFile object
    minLevel: minProfileReadSandboxLevel(), // min level to enable test
    func: readDir,
  });
  if (fileContentProcessEnabled) {
    tests.push({
      desc: "profile dir",
      ok: true,
      browser: fileBrowser,
      file: profileDir,
      minLevel: 0,
      func: readDir,
    });
  }

  let homeDir = GetHomeDir();
  tests.push({
    desc: "home dir",
    ok: false,
    browser: webBrowser,
    file: homeDir,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });
  if (fileContentProcessEnabled) {
    tests.push({
      desc: "home dir",
      ok: true,
      browser: fileBrowser,
      file: homeDir,
      minLevel: 0,
      func: readDir,
    });
  }

  let extensionsDir = GetProfileEntry("extensions");
  if (extensionsDir.exists() && extensionsDir.isDirectory()) {
    tests.push({
      desc: "extensions dir",
      ok: true,
      browser: webBrowser,
      file: extensionsDir,
      minLevel: 0,
      func: readDir,
    });
  } else {
    ok(false, `${extensionsDir.path} is a valid dir`);
  }

  let chromeDir = GetProfileEntry("chrome");
  if (chromeDir.exists() && chromeDir.isDirectory()) {
    tests.push({
      desc: "chrome dir",
      ok: true,
      browser: webBrowser,
      file: chromeDir,
      minLevel: 0,
      func: readDir,
    });
  } else {
    ok(false, `${chromeDir.path} is valid dir`);
  }

  let cookiesFile = GetProfileEntry("cookies.sqlite");
  if (cookiesFile.exists() && !cookiesFile.isDirectory()) {
    tests.push({
      desc: "cookies file",
      ok: false,
      browser: webBrowser,
      file: cookiesFile,
      minLevel: minProfileReadSandboxLevel(),
      func: readFile,
    });
    if (fileContentProcessEnabled) {
      tests.push({
        desc: "cookies file",
        ok: true,
        browser: fileBrowser,
        file: cookiesFile,
        minLevel: 0,
        func: readFile,
      });
    }
  } else {
    ok(false, `${cookiesFile.path} is a valid file`);
  }

  if (isMac() || isLinux()) {
    let varDir = GetDir("/var");

    if (isMac()) {
      // Mac sandbox rules use /private/var because /var is a symlink
      // to /private/var on OS X. Make sure that hasn't changed.
      varDir.normalize();
      Assert.strictEqual(
        varDir.path,
        "/private/var",
        "/var resolves to /private/var"
      );
    }

    tests.push({
      desc: "/var",
      ok: false,
      browser: webBrowser,
      file: varDir,
      minLevel: minHomeReadSandboxLevel(),
      func: readDir,
    });
    if (fileContentProcessEnabled) {
      tests.push({
        desc: "/var",
        ok: true,
        browser: fileBrowser,
        file: varDir,
        minLevel: 0,
        func: readDir,
      });
    }
  }

  await runTestsList(tests);
}

async function testFileAccessMacOnly() {
  if (!isMac()) {
    return;
  }

  let webBrowser = GetWebBrowser();
  let fileContentProcessEnabled = isFileContentProcessEnabled();
  let fileBrowser = GetFileBrowser();
  let level = GetSandboxLevel();

  let tests = [];

  // If ~/Library/Caches/TemporaryItems exists, when level <= 2 we
  // make sure it's readable. For level 3, we make sure it isn't.
  let homeTempDir = GetHomeDir();
  homeTempDir.appendRelativePath("Library/Caches/TemporaryItems");
  if (homeTempDir.exists()) {
    let shouldBeReadable, minLevel;
    if (level >= minHomeReadSandboxLevel()) {
      shouldBeReadable = false;
      minLevel = minHomeReadSandboxLevel();
    } else {
      shouldBeReadable = true;
      minLevel = 0;
    }
    tests.push({
      desc: "home library cache temp dir",
      ok: shouldBeReadable,
      browser: webBrowser,
      file: homeTempDir,
      minLevel,
      func: readDir,
    });
  }

  // Test if we can read from $TMPDIR because we expect it
  // to be within /private/var. Reading from it should be
  // prevented in a 'web' process.
  let macTempDir = GetDirFromEnvVariable("TMPDIR");

  macTempDir.normalize();
  Assert.ok(
    macTempDir.path.startsWith("/private/var"),
    "$TMPDIR is in /private/var"
  );

  tests.push({
    desc: `$TMPDIR (${macTempDir.path})`,
    ok: false,
    browser: webBrowser,
    file: macTempDir,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });
  if (fileContentProcessEnabled) {
    tests.push({
      desc: `$TMPDIR (${macTempDir.path})`,
      ok: true,
      browser: fileBrowser,
      file: macTempDir,
      minLevel: 0,
      func: readDir,
    });
  }

  // The font registry directory is in the Darwin user cache dir which is
  // accessible with the getconf(1) library call using DARWIN_USER_CACHE_DIR.
  // For this test, assume the cache dir is located at $TMPDIR/../C and use
  // the $TMPDIR to derive the path to the registry.
  let fontRegistryDir = macTempDir.parent.clone();
  fontRegistryDir.appendRelativePath("C/com.apple.FontRegistry");
  if (fontRegistryDir.exists()) {
    tests.push({
      desc: `FontRegistry (${fontRegistryDir.path})`,
      ok: true,
      browser: webBrowser,
      file: fontRegistryDir,
      minLevel: minHomeReadSandboxLevel(),
      func: readDir,
    });
    // Check that we can read the file named `font` which typically
    // exists in the the font registry directory.
    let fontFile = fontRegistryDir.clone();
    fontFile.appendRelativePath("font");
    if (fontFile.exists()) {
      tests.push({
        desc: `FontRegistry file (${fontFile.path})`,
        ok: true,
        browser: webBrowser,
        file: fontFile,
        minLevel: minHomeReadSandboxLevel(),
        func: readFile,
      });
    }
  }

  // Test that we cannot read from /Volumes at level 3
  let volumes = GetDir("/Volumes");
  tests.push({
    desc: "/Volumes",
    ok: false,
    browser: webBrowser,
    file: volumes,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });

  // Test that we cannot read from /Users at level 3
  let users = GetDir("/Users");
  tests.push({
    desc: "/Users",
    ok: false,
    browser: webBrowser,
    file: users,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });

  // Test that we can stat /Users at level 3
  tests.push({
    desc: "/Users",
    ok: true,
    browser: webBrowser,
    file: users,
    minLevel: minHomeReadSandboxLevel(),
    func: statPath,
  });

  // Test that we can stat /Library at level 3, but can't get a
  // directory listing of /Library. This test uses "/Library"
  // because it's a path that is expected to always be present.
  let libraryDir = GetDir("/Library");
  tests.push({
    desc: "/Library",
    ok: true,
    browser: webBrowser,
    file: libraryDir,
    minLevel: minHomeReadSandboxLevel(),
    func: statPath,
  });
  tests.push({
    desc: "/Library",
    ok: false,
    browser: webBrowser,
    file: libraryDir,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });

  // Similarly, test that we can stat /private, but not /private/etc.
  let privateDir = GetDir("/private");
  tests.push({
    desc: "/private",
    ok: true,
    browser: webBrowser,
    file: privateDir,
    minLevel: minHomeReadSandboxLevel(),
    func: statPath,
  });

  await runTestsList(tests);
}

async function testFileAccessLinuxOnly() {
  if (!isLinux()) {
    return;
  }

  let webBrowser = GetWebBrowser();
  let fileContentProcessEnabled = isFileContentProcessEnabled();
  let fileBrowser = GetFileBrowser();

  let tests = [];

  // Test /proc/self/fd, because that can be used to unfreeze
  // frozen shared memory.
  let selfFdDir = GetDir("/proc/self/fd");
  tests.push({
    desc: "/proc/self/fd",
    ok: false,
    browser: webBrowser,
    file: selfFdDir,
    minLevel: isContentFileIOSandboxed(),
    func: readDir,
  });

  let cacheFontConfigDir = GetHomeSubdir(".cache/fontconfig/");
  tests.push({
    desc: `$HOME/.cache/fontconfig/ (${cacheFontConfigDir.path})`,
    ok: true,
    browser: webBrowser,
    file: cacheFontConfigDir,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });

  // allows to handle both $HOME/.config/ or $XDG_CONFIG_HOME
  let configDir = GetHomeSubdir(".config");

  const xdgConfigHome = Services.env.get("XDG_CONFIG_HOME");
  if (xdgConfigHome) {
    configDir = GetDir(xdgConfigHome);
    configDir.normalize();
  }

  tests.push({
    desc: `$XDG_CONFIG_HOME (${configDir.path})`,
    ok: true, // access should not be granted outside of XDG support
    browser: webBrowser,
    file: configDir,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });

  tests.push({
    desc: `XDG_CONFIG_HOME=${configDir.path} dir should have rdonly`,
    ok: true, // should be allowed only if XDG support is there
    browser: webBrowser,
    file: configDir,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });

  if (fileContentProcessEnabled) {
    tests.push({
      desc: `${configDir.path} dir`,
      ok: true, // should be allowed only if XDG support is there
      browser: fileBrowser,
      file: configDir,
      minLevel: 0,
      func: readDir,
    });
  }

  if (isXdgEnabled() && xdgConfigHome) {
    const homeConfigDir = GetHomeSubdir(".config");
    tests.push({
      desc: `XDG_CONFIG_HOME=${homeConfigDir.path} dir should deny $HOME/.config`,
      ok: false,
      browser: webBrowser,
      file: homeConfigDir,
      minLevel: minHomeReadSandboxLevel(),
      func: readDir,
    });
    if (fileContentProcessEnabled) {
      tests.push({
        desc: `${homeConfigDir.path} dir`,
        ok: true,
        browser: fileBrowser,
        file: homeConfigDir,
        minLevel: 0,
        func: readDir,
      });
    }
  } else {
    // WWhen XDG_CONFIG_HOME is not set, verify we do not allow $HOME/.configlol
    // (i.e., check allow the dir and not the prefix)
    //
    // Checking $HOME/.config is already done above.
    const homeConfigPrefix = GetHomeSubdir(".configlol");
    tests.push({
      desc: `No XDG_CONFIG_HOME we dont allow ${homeConfigPrefix.path} access`,
      ok: false,
      browser: webBrowser,
      file: homeConfigPrefix,
      minLevel: minHomeReadSandboxLevel(),
      func: readDir,
    });
    if (fileContentProcessEnabled) {
      tests.push({
        desc: `No XDG_CONFIG_HOME we dont allow ${homeConfigPrefix.path} access`,
        ok: false,
        browser: fileBrowser,
        file: homeConfigPrefix,
        minLevel: 0,
        func: readDir,
      });
    }
  }

  // Create a file under $HOME/.config/ or $XDG_CONFIG_HOME and ensure we can
  // read it
  let fileUnderConfig = GetSubdirFile(configDir);
  await IOUtils.writeUTF8(fileUnderConfig.path, "TEST FILE DUMMY DATA");
  ok(
    await IOUtils.exists(fileUnderConfig.path),
    `File ${fileUnderConfig.path} was properly created`
  );

  tests.push({
    desc: `${configDir.path}/xxx is readable (${fileUnderConfig.path})`,
    ok: true,
    browser: webBrowser,
    file: fileUnderConfig,
    minLevel: minHomeReadSandboxLevel(),
    func: readFile,
    cleanup: aPath => IOUtils.remove(aPath),
  });

  let configFile = GetSubdirFile(configDir);
  tests.push({
    desc: `${configDir.path} file write`,
    ok: false,
    browser: webBrowser,
    file: configFile,
    minLevel: minHomeReadSandboxLevel(),
    func: createFile,
  });
  if (fileContentProcessEnabled) {
    tests.push({
      desc: `${configDir.path} file write`,
      ok: false,
      browser: fileBrowser,
      file: configFile,
      minLevel: 0,
      func: createFile,
    });
  }

  // Create a $HOME/.config/mozilla/ or $XDG_CONFIG_HOME/mozilla/ if none
  // exists and assert content process cannot access it
  let configMozilla = GetSubdir(configDir, "mozilla");
  const emptyFileName = ".test_run_browser_sandbox.tmp";
  let emptyFile = configMozilla.clone();
  emptyFile.appendRelativePath(emptyFileName);

  let populateFakeConfigMozilla = async aPath => {
    // called with configMozilla
    await IOUtils.makeDirectory(aPath, { permissions: 0o700 });
    await IOUtils.writeUTF8(emptyFile.path, "");
    ok(
      await IOUtils.exists(emptyFile.path),
      `Temp file ${emptyFile.path} was created`
    );
  };

  let unpopulateFakeConfigMozilla = async aPath => {
    // called with emptyFile
    await IOUtils.remove(aPath);
    ok(!(await IOUtils.exists(aPath)), `Temp file ${aPath} was removed`);
    const parentDir = PathUtils.parent(aPath);
    try {
      await IOUtils.remove(parentDir, { recursive: false });
    } catch (ex) {
      if (
        !DOMException.isInstance(ex) ||
        ex.name !== "OperationError" ||
        /Could not remove the non-empty directory/.test(ex.message)
      ) {
        // If we get here it means the directory was not empty and since we assert
        // earlier we removed the temp file we created it means we should not
        // worrying about removing this directory ...
        throw ex;
      }
    }
  };

  await populateFakeConfigMozilla(configMozilla.path);

  tests.push({
    desc: `stat ${configDir.path}/mozilla (${configMozilla.path})`,
    ok: false,
    browser: webBrowser,
    file: configMozilla,
    minLevel: minHomeReadSandboxLevel(),
    func: statPath,
  });

  tests.push({
    desc: `read ${configDir.path}/mozilla (${configMozilla.path})`,
    ok: false,
    browser: webBrowser,
    file: configMozilla,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });

  tests.push({
    desc: `stat ${configDir.path}/mozilla/${emptyFileName} (${emptyFile.path})`,
    ok: false,
    browser: webBrowser,
    file: emptyFile,
    minLevel: minHomeReadSandboxLevel(),
    func: statPath,
  });

  tests.push({
    desc: `read ${configDir.path}/mozilla/${emptyFileName} (${emptyFile.path})`,
    ok: false,
    browser: webBrowser,
    file: emptyFile,
    minLevel: minHomeReadSandboxLevel(),
    func: readFile,
    cleanup: unpopulateFakeConfigMozilla,
  });

  // Only needed to perform cleanup
  if (isXdgEnabled()) {
    tests.push({
      desc: `$XDG_CONFIG_HOME (${configDir.path}) cleanup`,
      ok: true,
      browser: webBrowser,
      file: configDir,
      minLevel: minHomeReadSandboxLevel(),
      func: readDir,
    });
  }

  await runTestsList(tests);
}

async function testFileAccessLinuxSnap() {
  let webBrowser = GetWebBrowser();

  let tests = [];

  // Assert that if we run with SNAP= env, then we allow access to it in the
  // content process
  let snap = Services.env.get("SNAP");
  let snapExpectedResult = false;
  if (snap.length > 1) {
    snapExpectedResult = true;
  } else {
    snap = "/tmp/.snap_firefox_current/";
  }

  let snapDir = GetDir(snap);
  snapDir.normalize();

  let snapFile = GetSubdirFile(snapDir);
  await createFile(snapFile.path);
  ok(await IOUtils.exists(snapFile.path), `SNAP ${snapFile.path} was created`);
  info(`SNAP (file) ${snapFile.path} was created`);

  tests.push({
    desc: `$SNAP (${snapDir.path} => ${snapFile.path})`,
    ok: snapExpectedResult,
    browser: webBrowser,
    file: snapFile,
    minLevel: minHomeReadSandboxLevel(),
    func: readFile,
  });

  await runTestsList(tests);
}

async function testFileAccessWindowsOnly() {
  if (!isWin()) {
    return;
  }

  let webBrowser = GetWebBrowser();

  let tests = [];

  let extDir = GetPerUserExtensionDir();
  tests.push({
    desc: "per-user extensions dir",
    ok: true,
    browser: webBrowser,
    file: extDir,
    minLevel: minHomeReadSandboxLevel(),
    func: readDir,
  });

  await runTestsList(tests);
}

function cleanupBrowserTabs() {
  let fileBrowser = GetFileBrowser();
  if (fileBrowser.selectedTab) {
    gBrowser.removeTab(fileBrowser.selectedTab);
  }

  let webBrowser = GetWebBrowser();
  if (webBrowser.selectedTab) {
    gBrowser.removeTab(webBrowser.selectedTab);
  }

  let tab1 = gBrowser.tabs[1];
  if (tab1) {
    gBrowser.removeTab(tab1);
  }
}



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_fs_xdg_default.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* import-globals-from browser_content_sandbox_utils.js */
"use strict";

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_utils.js",
  this
);

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_fs_tests.js",
  this
);

SimpleTest.requestCompleteLog();

add_setup(async function setup() {
  const xdgConfigHome = Services.env.exists("XDG_CONFIG_HOME");
  Assert.equal(xdgConfigHome, false, `XDG_CONFIG_HOME is not set`);

  const mozLegacyHome = Services.env.exists("MOZ_LEGACY_HOME");
  Assert.equal(mozLegacyHome, false, "MOZ_LEGACY_HOME is not set");

  // If it is there, do actual testing
  sanityChecks();
});

add_task(async function () {
  // Make sure we dont break others.
  add_task(testFileAccessAllPlatforms); // eslint-disable-line no-undef

  // The linux only tests are the ones that can behave differently based on
  // existence of XDG_CONFIG_HOME
  add_task(testFileAccessLinuxOnly); // eslint-disable-line no-undef

  add_task(cleanupBrowserTabs); // eslint-disable-line no-undef
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_fs_xdg_mozLegacyHome.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* import-globals-from browser_content_sandbox_utils.js */
"use strict";

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_utils.js",
  this
);

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_fs_tests.js",
  this
);

SimpleTest.requestCompleteLog();

add_setup(async function setup() {
  const xdgConfigHome = Services.env.exists("XDG_CONFIG_HOME");
  Assert.equal(xdgConfigHome, true, "XDG_CONFIG_HOME is defined");

  if (isXdgEnabled()) {
    const mozLegacyHome = Services.env.get("MOZ_LEGACY_HOME");
    Assert.equal(mozLegacyHome, 1, "MOZ_LEGACY_HOME is set to 1");
  }

  // If it is there, do actual testing
  sanityChecks();
});

add_task(async function () {
  // Make sure we dont break others.
  add_task(testFileAccessAllPlatforms); // eslint-disable-line no-undef

  // The linux only tests are the ones that can behave differently based on
  // existence of XDG_CONFIG_HOME
  add_task(testFileAccessLinuxOnly); // eslint-disable-line no-undef

  add_task(cleanupBrowserTabs); // eslint-disable-line no-undef
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_fs_xdg_xdgConfigHome.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* import-globals-from browser_content_sandbox_utils.js */
"use strict";

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_utils.js",
  this
);

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_fs_tests.js",
  this
);

SimpleTest.requestCompleteLog();

add_setup(async function setup() {
  // Ensure that XDG_CONFIG_HOME is there
  const xdgConfigHome = Services.env.get("XDG_CONFIG_HOME");
  Assert.greater(xdgConfigHome.length, 1, "XDG_CONFIG_HOME is defined");

  // If it is there, do actual testing
  sanityChecks();
});

add_task(async function () {
  // Make sure we dont break others.
  add_task(testFileAccessAllPlatforms); // eslint-disable-line no-undef

  // The linux only tests are the ones that can behave differently based on
  // existence of XDG_CONFIG_HOME
  add_task(testFileAccessLinuxOnly); // eslint-disable-line no-undef

  add_task(cleanupBrowserTabs); // eslint-disable-line no-undef
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_syscalls.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* import-globals-from browser_content_sandbox_utils.js */
"use strict";

Services.scriptloader.loadSubScript(
  "chrome://mochitests/content/browser/" +
    "security/sandbox/test/browser_content_sandbox_utils.js",
  this
);

const lazy = {};

/* getLibcConstants is only present on *nix */
ChromeUtils.defineLazyGetter(lazy, "LIBC", () =>
  ChromeUtils.getLibcConstants()
);

/*
 * This test is for executing system calls in content processes to validate
 * that calls that are meant to be blocked by content sandboxing are blocked.
 * We use the term system calls loosely so that any OS API call such as
 * fopen could be included.
 */

// Calls the native execv library function. Include imports so this can be
// safely serialized and run remotely by ContentTask.spawn.
function callExec(args) {
  const { ctypes } = ChromeUtils.importESModule(
    "resource://gre/modules/ctypes.sys.mjs"
  );
  let { lib, cmd } = args;
  let libc = ctypes.open(lib);
  let exec = libc.declare(
    "execv",
    ctypes.default_abi,
    ctypes.int,
    ctypes.char.ptr
  );
  let rv = exec(cmd);
  libc.close();
  return rv;
}

// Calls the native fork syscall.
function callFork(args) {
  const { ctypes } = ChromeUtils.importESModule(
    "resource://gre/modules/ctypes.sys.mjs"
  );
  let { lib } = args;
  let libc = ctypes.open(lib);
  let fork = libc.declare("fork", ctypes.default_abi, ctypes.int);
  let rv = fork();
  libc.close();
  return rv;
}

// Calls the native sysctl syscall.
function callSysctl(args) {
  const { ctypes } = ChromeUtils.importESModule(
    "resource://gre/modules/ctypes.sys.mjs"
  );
  let { lib, name } = args;
  let libc = ctypes.open(lib);
  let sysctlbyname = libc.declare(
    "sysctlbyname",
    ctypes.default_abi,
    ctypes.int,
    ctypes.char.ptr,
    ctypes.voidptr_t,
    ctypes.size_t.ptr,
    ctypes.voidptr_t,
    ctypes.size_t.ptr
  );
  let rv = sysctlbyname(name, null, null, null, null);
  libc.close();
  return rv;
}

function callPrctl(args) {
  const { ctypes } = ChromeUtils.importESModule(
    "resource://gre/modules/ctypes.sys.mjs"
  );
  let { lib, option } = args;
  let libc = ctypes.open(lib);
  let prctl = libc.declare(
    "prctl",
    ctypes.default_abi,
    ctypes.int,
    ctypes.int, // option
    ctypes.unsigned_long, // arg2
    ctypes.unsigned_long, // arg3
    ctypes.unsigned_long, // arg4
    ctypes.unsigned_long // arg5
  );
  let rv = prctl(option, 0, 0, 0, 0);
  if (rv == -1) {
    rv = ctypes.errno;
  }
  libc.close();
  return rv;
}

// Calls the native open/close syscalls.
function callOpen(args) {
  const { ctypes } = ChromeUtils.importESModule(
    "resource://gre/modules/ctypes.sys.mjs"
  );
  let { lib, path, flags } = args;
  let libc = ctypes.open(lib);
  let open = libc.declare(
    "open",
    ctypes.default_abi,
    ctypes.int,
    ctypes.char.ptr,
    ctypes.int
  );
  let close = libc.declare("close", ctypes.default_abi, ctypes.int, ctypes.int);
  let fd = open(path, flags);
  close(fd);
  libc.close();
  return fd;
}

// Verify faccessat2
function callFaccessat2(args) {
  const { ctypes } = ChromeUtils.importESModule(
    "resource://gre/modules/ctypes.sys.mjs"
  );
  let { lib, dirfd, path, mode, flag } = args;
  let libc = ctypes.open(lib);
  let faccessat = libc.declare(
    "faccessat",
    ctypes.default_abi,
    ctypes.int,
    ctypes.int, // dirfd
    ctypes.char.ptr, // path
    ctypes.int, // mode
    ctypes.int // flag
  );
  let rv = faccessat(dirfd, path, mode, flag);
  if (rv == -1) {
    rv = ctypes.errno;
  }
  libc.close();
  return rv;
}

// Returns the name of the native library needed for native syscalls
function getOSLib() {
  switch (Services.appinfo.OS) {
    case "WINNT":
      return "kernel32.dll";
    case "Darwin":
      return "libc.dylib";
    case "Linux":
      return "libc.so.6";
    default:
      Assert.ok(false, "Unknown OS");
      return 0;
  }
}

// Reading a header might be weird, but the alternatives to read a stable
// version number we can easily check against are not much more fun
async function getKernelVersion() {
  let header = await IOUtils.readUTF8("/usr/include/linux/version.h");
  let hr = header.split("\n");
  for (let line in hr) {
    let hrs = hr[line].split(" ");
    if (hrs[0] === "#define" && hrs[1] === "LINUX_VERSION_CODE") {
      return Number(hrs[2]);
    }
  }
  throw Error("No LINUX_VERSION_CODE");
}

// This is how it is done in /usr/include/linux/version.h
function computeKernelVersion(major, minor, dot) {
  return (major << 16) + (minor << 8) + dot;
}

function getGlibcVersion() {
  const { ctypes } = ChromeUtils.importESModule(
    "resource://gre/modules/ctypes.sys.mjs"
  );
  let libc = ctypes.open(getOSLib());
  let gnu_get_libc_version = libc.declare(
    "gnu_get_libc_version",
    ctypes.default_abi,
    ctypes.char.ptr
  );
  let rv = gnu_get_libc_version().readString();
  libc.close();
  let ar = rv.split(".");
  // return a number made of MAJORMINOR
  return Number(ar[0] + ar[1]);
}

// Returns a harmless command to execute with execv
function getOSExecCmd() {
  Assert.ok(!isWin());
  return "/bin/cat";
}

// Returns true if the current content sandbox level, passed in
// the |level| argument, supports syscall sandboxing.
function areContentSyscallsSandboxed(level) {
  let syscallsSandboxMinLevel = 0;

  // Set syscallsSandboxMinLevel to the lowest level that has
  // syscall sandboxing enabled. For now, this varies across
  // Windows, Mac, Linux, other.
  switch (Services.appinfo.OS) {
    case "WINNT":
      syscallsSandboxMinLevel = 1;
      break;
    case "Darwin":
      syscallsSandboxMinLevel = 1;
      break;
    case "Linux":
      syscallsSandboxMinLevel = 1;
      break;
    default:
      Assert.ok(false, "Unknown OS");
  }

  return level >= syscallsSandboxMinLevel;
}

//
// Drive tests for a single content process.
//
// Tests executing OS API calls in the content process. Limited to Mac
// and Linux calls for now.
//
add_task(async function () {
  // This test is only relevant in e10s
  if (!gMultiProcessBrowser) {
    ok(false, "e10s is enabled");
    info("e10s is not enabled, exiting");
    return;
  }

  let level = 0;
  let prefExists = true;

  // Read the security.sandbox.content.level pref.
  // If the pref isn't set and we're running on Linux on !isNightly(),
  // exit without failing. The Linux content sandbox is only enabled
  // on Nightly at this time.
  // eslint-disable-next-line mozilla/use-default-preference-values
  try {
    level = Services.prefs.getIntPref("security.sandbox.content.level");
  } catch (e) {
    prefExists = false;
  }

  ok(prefExists, "pref security.sandbox.content.level exists");
  if (!prefExists) {
    return;
  }

  info(`security.sandbox.content.level=${level}`);
  Assert.greater(level, 0, "content sandbox is enabled.");

  let areSyscallsSandboxed = areContentSyscallsSandboxed(level);

  // Content sandbox enabled, but level doesn't include syscall sandboxing.
  ok(areSyscallsSandboxed, "content syscall sandboxing is enabled.");
  if (!areSyscallsSandboxed) {
    info("content sandbox level too low for syscall tests, exiting\n");
    return;
  }

  let browser = gBrowser.selectedBrowser;
  let lib = getOSLib();

  // use execv syscall
  // (causes content process to be killed on Linux)
  if (isMac()) {
    // exec something harmless, this should fail
    let cmd = getOSExecCmd();
    let rv = await SpecialPowers.spawn(browser, [{ lib, cmd }], callExec);
    Assert.equal(rv, -1, `exec(${cmd}) is not permitted`);
  }

  // use open syscall
  if (isLinux() || isMac()) {
    // open a file for writing in $HOME, this should fail
    let path = fileInHomeDir().path;
    let flags = lazy.LIBC.O_CREAT | lazy.LIBC.O_WRONLY;
    let fd = await SpecialPowers.spawn(
      browser,
      [{ lib, path, flags }],
      callOpen
    );
    Assert.less(fd, 0, "opening a file for writing in home is not permitted");
  }

  // use open syscall
  if (isLinux() || isMac()) {
    // open a file for writing in the content temp dir, this should fail on
    // macOS and Linux. The open handler in the content process closes the file
    // for us
    let path = fileInTempDir().path;
    let flags = lazy.LIBC.O_CREAT | lazy.LIBC.O_WRONLY;
    let fd = await SpecialPowers.spawn(
      browser,
      [{ lib, path, flags }],
      callOpen
    );
    Assert.strictEqual(
      fd,
      -1,
      "opening a file for writing in content temp is not permitted"
    );
  }

  // use fork syscall
  if (isLinux() || isMac()) {
    let rv = await SpecialPowers.spawn(browser, [{ lib }], callFork);
    Assert.equal(rv, -1, "calling fork is not permitted");
  }

  // On macOS before 10.10 the |sysctl-name| predicate didn't exist for
  // filtering |sysctl| access. Check the Darwin version before running the
  // tests (Darwin 14.0.0 is macOS 10.10). This branch can be removed when we
  // remove support for macOS 10.9.
  if (isMac() && Services.sysinfo.getProperty("version") >= "14.0.0") {
    let rv = await SpecialPowers.spawn(
      browser,
      [{ lib, name: "kern.boottime" }],
      callSysctl
    );
    Assert.equal(rv, -1, "calling sysctl('kern.boottime') is not permitted");

    rv = await SpecialPowers.spawn(
      browser,
      [{ lib, name: "net.inet.ip.ttl" }],
      callSysctl
    );
    Assert.equal(rv, -1, "calling sysctl('net.inet.ip.ttl') is not permitted");

    rv = await SpecialPowers.spawn(
      browser,
      [{ lib, name: "hw.ncpu" }],
      callSysctl
    );
    Assert.equal(rv, 0, "calling sysctl('hw.ncpu') is permitted");
  }

  if (isLinux()) {
    // These constants are not portable.

    // verify we block PR_CAPBSET_READ with EINVAL
    let option = lazy.LIBC.PR_CAPBSET_READ;
    let rv = await SpecialPowers.spawn(browser, [{ lib, option }], callPrctl);
    Assert.strictEqual(
      rv,
      lazy.LIBC.EINVAL,
      "prctl(PR_CAPBSET_READ) is blocked"
    );

    const kernelVersion = await getKernelVersion();
    const glibcVersion = getGlibcVersion();
    // faccessat2 is only used with kernel 5.8+ by glibc 2.33+
    if (glibcVersion >= 233 && kernelVersion >= computeKernelVersion(5, 8, 0)) {
      info("Linux v5.8+, glibc 2.33+, checking faccessat2");
      const dirfd = 0;
      const path = "/";
      const mode = 0;
      // the value 0x01 is just one we know should get rejected
      let rv = await SpecialPowers.spawn(
        browser,
        [{ lib, dirfd, path, mode, flag: 0x01 }],
        callFaccessat2
      );
      Assert.strictEqual(
        rv,
        lazy.LIBC.ENOSYS,
        "faccessat2 (flag=0x01) was blocked with ENOSYS"
      );

      rv = await SpecialPowers.spawn(
        browser,
        [{ lib, dirfd, path, mode, flag: lazy.LIBC.AT_EACCESS }],
        callFaccessat2
      );
      Assert.strictEqual(
        rv,
        lazy.LIBC.EACCES,
        "faccessat2 (flag=0x200) was allowed, errno=EACCES"
      );
    } else {
      info(
        "Unsupported kernel (" +
          kernelVersion +
          " )/glibc (" +
          glibcVersion +
          "), skipping faccessat2"
      );
    }
  }
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_content_sandbox_utils.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
"use strict";

const uuidGenerator = Services.uuid;

/*
 * Utility functions for the browser content sandbox tests.
 */

function sanityChecks() {
  // This test is only relevant in e10s
  if (!gMultiProcessBrowser) {
    ok(false, "e10s is enabled");
    info("e10s is not enabled, exiting");
    return;
  }

  let level = 0;
  let prefExists = true;

  // Read the security.sandbox.content.level pref.
  // eslint-disable-next-line mozilla/use-default-preference-values
  try {
    level = Services.prefs.getIntPref("security.sandbox.content.level");
  } catch (e) {
    prefExists = false;
  }

  ok(prefExists, "pref security.sandbox.content.level exists");
  if (!prefExists) {
    return;
  }

  info(`security.sandbox.content.level=${level}`);
  Assert.greater(level, 0, "content sandbox is enabled.");

  let isFileIOSandboxed = isContentFileIOSandboxed(level);

  // Content sandbox enabled, but level doesn't include file I/O sandboxing.
  ok(isFileIOSandboxed, "content file I/O sandboxing is enabled.");
  if (!isFileIOSandboxed) {
    info("content sandbox level too low for file I/O tests, exiting\n");
  }
}

function isXdgEnabled() {
  try {
    return Services.prefs.getBoolPref("widget.support-xdg-config");
  } catch (ex) {
    // if the pref is not there it means we dont have XDG support
    if (ex.name === "NS_ERROR_UNEXPECTED") {
      return false;
    }
    throw ex;
  }
}

// Creates file at |path| and returns a promise that resolves with an object
// with .ok boolean to indicate true if the file was successfully created,
// otherwise false. Include imports so this can be safely serialized and run
// remotely by ContentTask.spawn.
//
// Report the exception's error code in .code as well.
function createFile(path) {
  const { FileUtils } = ChromeUtils.importESModule(
    "resource://gre/modules/FileUtils.sys.mjs"
  );

  try {
    const fstream = Cc[
      "@mozilla.org/network/file-output-stream;1"
    ].createInstance(Ci.nsIFileOutputStream);

    fstream.init(
      new FileUtils.File(path),
      -1, // readonly mode
      -1, // default permissions
      0
    ); // behaviour flags

    const ostream = Cc["@mozilla.org/binaryoutputstream;1"].createInstance(
      Ci.nsIBinaryOutputStream
    );
    ostream.setOutputStream(fstream);

    const data = "TEST FILE DUMMY DATA";
    ostream.writeBytes(data, data.length);

    ostream.close();
    fstream.close();
  } catch (e) {
    return { ok: false, code: e.result };
  }

  return { ok: true };
}

// Creates a symlink at |path| and returns a promise that resolves with an
// object with .ok boolean to indicate true if the symlink was successfully
// created, otherwise false. Include imports so this can be safely serialized
// and run remotely by ContentTask.spawn.
//
// Report the exception's error code in .code as well.
// Report errno in .code if syscall returns -1.
function createSymlink(path) {
  const { ctypes } = ChromeUtils.importESModule(
    "resource://gre/modules/ctypes.sys.mjs"
  );

  try {
    // Trying to open "libc.so" on linux will fail with invalid elf header error
    // because it would be a linker script. Using libc.so.6 avoids that.
    const libc = ctypes.open(
      Services.appinfo.OS === "Darwin" ? "libSystem.B.dylib" : "libc.so.6"
    );

    const symlink = libc.declare(
      "symlink",
      ctypes.default_abi,
      ctypes.int, // return value
      ctypes.char.ptr, // target
      ctypes.char.ptr //linkpath
    );

    ctypes.errno = 0;
    const rv = symlink("/etc", path);
    const _errno = ctypes.errno;
    if (rv < 0) {
      return { ok: false, code: _errno };
    }
  } catch (e) {
    return { ok: false, code: e.result };
  }

  return { ok: true };
}

// Deletes file at |path| and returns a promise that resolves with an object
// with .ok boolean to indicate true if the file was successfully deleted,
// otherwise false. Include imports so this can be safely serialized and run
// remotely by ContentTask.spawn.
//
// Report the exception's error code in .code as well.
function deleteFile(path) {
  const { FileUtils } = ChromeUtils.importESModule(
    "resource://gre/modules/FileUtils.sys.mjs"
  );

  try {
    const file = new FileUtils.File(path);
    file.remove(false);
  } catch (e) {
    return { ok: false, code: e.result };
  }

  return { ok: true };
}

// Reads the directory at |path| and returns a promise that resolves when
// iteration over the directory finishes or encounters an error. The promise
// resolves with an object where .ok indicates success or failure and
// .numEntries is the number of directory entries found.
//
// Report the exception's error code in .code as well.
function readDir(path) {
  const { FileUtils } = ChromeUtils.importESModule(
    "resource://gre/modules/FileUtils.sys.mjs"
  );

  let numEntries = 0;

  try {
    const file = new FileUtils.File(path);
    const enumerator = file.directoryEntries;

    while (enumerator.hasMoreElements()) {
      void enumerator.nextFile;
      numEntries++;
    }
  } catch (e) {
    return { ok: false, numEntries, code: e.result };
  }

  return { ok: true, numEntries };
}

// Reads the file at |path| and returns a promise that resolves when
// reading is completed. Returned object has boolean .ok to indicate
// success or failure.
//
// Report the exception's error code in .code as well.
function readFile(path) {
  const { FileUtils } = ChromeUtils.importESModule(
    "resource://gre/modules/FileUtils.sys.mjs"
  );

  try {
    const file = new FileUtils.File(path);

    const fstream = Cc[
      "@mozilla.org/network/file-input-stream;1"
    ].createInstance(Ci.nsIFileInputStream);
    fstream.init(file, -1, -1, 0);

    const istream = Cc["@mozilla.org/binaryinputstream;1"].createInstance(
      Ci.nsIBinaryInputStream
    );
    istream.setInputStream(fstream);

    const available = istream.available();
    void istream.readBytes(available);
  } catch (e) {
    return { ok: false, code: e.result };
  }

  return { ok: true };
}

// Does a stat of |path| and returns a promise that resolves if the
// stat is successful. Returned object has boolean .ok to indicate
// success or failure.
//
// Report the exception's error code in .code as well.
function statPath(path) {
  const { FileUtils } = ChromeUtils.importESModule(
    "resource://gre/modules/FileUtils.sys.mjs"
  );

  try {
    const file = new FileUtils.File(path);
    void file.lastModifiedTime;
  } catch (e) {
    return { ok: false, code: e.result };
  }

  return { ok: true };
}

// Returns true if the current content sandbox level, passed in
// the |level| argument, supports filesystem sandboxing.
function isContentFileIOSandboxed(level) {
  let fileIOSandboxMinLevel = 0;

  // Set fileIOSandboxMinLevel to the lowest level that has
  // content filesystem sandboxing enabled. For now, this
  // varies across Windows, Mac, Linux, other.
  switch (Services.appinfo.OS) {
    case "WINNT":
      fileIOSandboxMinLevel = 1;
      break;
    case "Darwin":
      fileIOSandboxMinLevel = 1;
      break;
    case "Linux":
      fileIOSandboxMinLevel = 2;
      break;
    default:
      Assert.ok(false, "Unknown OS");
  }

  return level >= fileIOSandboxMinLevel;
}

// Returns the lowest sandbox level where blanket reading of the profile
// directory from the content process should be blocked by the sandbox.
function minProfileReadSandboxLevel() {
  switch (Services.appinfo.OS) {
    case "WINNT":
      return 3;
    case "Darwin":
      return 2;
    case "Linux":
      return 3;
    default:
      Assert.ok(false, "Unknown OS");
      return 0;
  }
}

// Returns the lowest sandbox level where blanket reading of the home
// directory from the content process should be blocked by the sandbox.
function minHomeReadSandboxLevel() {
  switch (Services.appinfo.OS) {
    case "WINNT":
      return 3;
    case "Darwin":
      return 3;
    case "Linux":
      return 3;
    default:
      Assert.ok(false, "Unknown OS");
      return 0;
  }
}

function isMac() {
  return Services.appinfo.OS == "Darwin";
}
function isWin() {
  return Services.appinfo.OS == "WINNT";
}
function isLinux() {
  return Services.appinfo.OS == "Linux";
}

function isNightly() {
  let version = SpecialPowers.Services.appinfo.version;
  return version.endsWith("a1");
}

function uuid() {
  return uuidGenerator.generateUUID().toString();
}

// Returns a file object for a new file in the home dir ($HOME/<UUID>).
function fileInHomeDir() {
  // get home directory, make sure it exists
  let homeDir = Services.dirsvc.get("Home", Ci.nsIFile);
  Assert.ok(homeDir.exists(), "Home dir exists");
  Assert.ok(homeDir.isDirectory(), "Home dir is a directory");

  // build a file object for a new file named $HOME/<UUID>
  let homeFile = homeDir.clone();
  homeFile.appendRelativePath(uuid());
  Assert.ok(!homeFile.exists(), homeFile.path + " does not exist");
  return homeFile;
}

// Returns a file object for a new file in the content temp dir (.../<UUID>).
function fileInTempDir() {
  let contentTempKey = "TmpD";

  // get the content temp dir, make sure it exists
  let ctmp = Services.dirsvc.get(contentTempKey, Ci.nsIFile);
  Assert.ok(ctmp.exists(), "Temp dir exists");
  Assert.ok(ctmp.isDirectory(), "Temp dir is a directory");

  // build a file object for a new file in content temp
  let tempFile = ctmp.clone();
  tempFile.appendRelativePath(uuid());
  Assert.ok(!tempFile.exists(), tempFile.path + " does not exist");
  return tempFile;
}

function GetProfileDir() {
  // get profile directory
  let profileDir = Services.dirsvc.get("ProfD", Ci.nsIFile);
  return profileDir;
}

function GetHomeDir() {
  // get home directory
  let homeDir = Services.dirsvc.get("Home", Ci.nsIFile);
  return homeDir;
}

function GetHomeSubdir(subdir) {
  return GetSubdir(GetHomeDir(), subdir);
}

function GetHomeSubdirFile(subdir) {
  return GetSubdirFile(GetHomeSubdir(subdir));
}

function GetSubdir(dir, subdir) {
  let newSubdir = dir.clone();
  newSubdir.appendRelativePath(subdir);
  return newSubdir;
}

function GetSubdirFile(dir) {
  let newFile = dir.clone();
  newFile.appendRelativePath(uuid());
  return newFile;
}

function GetPerUserExtensionDir() {
  return Services.dirsvc.get("XREUSysExt", Ci.nsIFile);
}

// Returns a file object for the file or directory named |name| in the
// profile directory.
function GetProfileEntry(name) {
  let entry = GetProfileDir();
  entry.append(name);
  return entry;
}

function GetDir(path) {
  info(`GetDir(${path})`);
  let dir = Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsIFile);
  dir.initWithPath(path);
  Assert.ok(dir.isDirectory(), `${path} is a directory`);
  return dir;
}

function GetDirFromEnvVariable(varName) {
  return GetDir(Services.env.get(varName));
}

function GetFile(path) {
  let file = Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsIFile);
  file.initWithPath(path);
  return file;
}

function GetBrowserType(type) {
  let browserType = undefined;

  if (!GetBrowserType[type]) {
    if (type === "web") {
      GetBrowserType[type] = gBrowser.selectedBrowser;
    } else {
      // open a tab in a `type` content process
      gBrowser.selectedTab = BrowserTestUtils.addTab(gBrowser, "about:blank", {
        preferredRemoteType: type,
        allowInheritPrincipal: true,
      });
      // get the browser for the `type` process tab
      GetBrowserType[type] = gBrowser.getBrowserForTab(gBrowser.selectedTab);
    }
  }

  browserType = GetBrowserType[type];
  Assert.strictEqual(
    browserType.remoteType,
    type,
    `GetBrowserType(${type}) returns a ${type} process`
  );
  return browserType;
}

function GetWebBrowser() {
  return GetBrowserType("web");
}

function isFileContentProcessEnabled() {
  // Ensure that the file content process is enabled.
  let fileContentProcessEnabled = Services.prefs.getBoolPref(
    "browser.tabs.remote.separateFileUriProcess"
  );
  ok(fileContentProcessEnabled, "separate file content process is enabled");
  return fileContentProcessEnabled;
}

function GetFileBrowser() {
  if (!isFileContentProcessEnabled()) {
    return undefined;
  }
  return GetBrowserType("file");
}

function GetSandboxLevel() {
  // Current level
  return Services.prefs.getIntPref("security.sandbox.content.level");
}

async function runTestsList(tests) {
  let level = GetSandboxLevel();

  // remove tests not enabled by the current sandbox level
  tests = tests.filter(test => test.minLevel <= level);

  for (let test of tests) {
    let okString = test.ok ? "allowed" : "blocked";
    let processType = test.browser.remoteType;

    // ensure the file/dir exists before we ask a content process to stat
    // it so we know a failure is not due to a nonexistent file/dir
    if (test.func === statPath) {
      ok(test.file.exists(), `${test.file.path} exists`);
    }

    let result = await ContentTask.spawn(
      test.browser,
      test.file.path,
      test.func
    );

    Assert.equal(
      result.ok,
      test.ok,
      `reading ${test.desc} from a ${processType} process ` +
        `is ${okString} (${test.file.path})`
    );

    // if the directory is not expected to be readable,
    // ensure the listing has zero entries
    if (test.func === readDir && !test.ok) {
      Assert.equal(
        result.numEntries,
        0,
        `directory list is empty (${test.file.path})`
      );
    }

    if (test.cleanup != undefined) {
      await test.cleanup(test.file.path);
    }
  }
}



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_profiler.toml
================================================
[DEFAULT]
skip-if = [
  "!gecko_profiler",
  "ccov",
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && asan", # bug 1784517 for sandbox, bug 1885381 for profiler
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && tsan", # bug 1784517 for sandbox, bug 1885381 for profiler
]
tags = "contentsandbox"

# This is here to make sure we will not have prelaunched processes, which will
# mess with sandbox profiling interaction: we will miss launch-related markers
# and this makes the test intermittently fail on TV jobs
prefs = [
  "dom.ipc.processPrelaunch.fission.number=0"
]

environment = "MOZ_SANDBOX_LOGGING_FOR_TESTS=1"

["browser_sandbox_profiler.js"]
run-if = [
  "os == 'linux'",
]



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_sandbox_profiler.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

const { ProfilerTestUtils } = ChromeUtils.importESModule(
  "resource://testing-common/ProfilerTestUtils.sys.mjs"
);

async function addTab() {
  const tab = BrowserTestUtils.addTab(gBrowser, "https://example.com/browser", {
    forceNewProcess: true,
  });
  const browser = gBrowser.getBrowserForTab(tab);
  await BrowserTestUtils.browserLoaded(browser);
  return tab;
}

const sandboxSettingsEnabled = {
  entries: 8 * 1024 * 1024, // 8M entries = 64MB
  interval: 1, // ms
  features: ["stackwalk", "sandbox"],
  threads: ["SandboxProfilerEmitter"],
};

const sandboxSettingsDisabled = {
  entries: 8 * 1024 * 1024, // 8M entries = 64MB
  interval: 1, // ms
  features: ["stackwalk"],
  threads: ["SandboxProfilerEmitter"],
};

const kNewProcesses = 2;

async function waitForMaybeSandboxProfilerData(
  threadName,
  name1,
  withStacks,
  enabled
) {
  let tabs = [];
  for (let i = 0; i < kNewProcesses; ++i) {
    tabs.push(await addTab());
  }

  let profile;
  let intercepted = undefined;
  try {
    await TestUtils.waitForCondition(
      async () => {
        profile = await Services.profiler.getProfileDataAsync();
        intercepted = profile.processes
          .flatMap(ps => {
            let sandboxThreads = ps.threads.filter(
              th => th.name === threadName
            );
            return sandboxThreads.flatMap(th => {
              let markersData = th.markers.data;
              return markersData.flatMap(d => {
                let [, , , , , o] = d;
                return o;
              });
            });
          })
          .filter(x => "name1" in x && name1.includes(x.name1) >= 0);
        return !!intercepted.length;
      },
      `Wait for some samples from ${threadName}`,
      /* interval*/ 100,
      /* maxTries */ 25
    );
    Assert.greater(
      intercepted.length,
      0,
      `Should have collected some data from ${threadName}`
    );
  } catch (ex) {
    if (!enabled && ex.includes(`Wait for some samples from ${threadName}`)) {
      Assert.equal(
        intercepted.length,
        0,
        `Should have NOT collected data from ${threadName}`
      );
    } else {
      throw ex;
    }
  }

  if (withStacks) {
    let stacks = profile.processes.flatMap(ps => {
      let sandboxThreads = ps.threads.filter(th => th.name === threadName);
      return sandboxThreads.flatMap(th => {
        let stackTableData = th.stackTable.data;
        return stackTableData.flatMap(d => {
          return [d];
        });
      });
    });
    if (enabled) {
      Assert.greater(stacks.length, 0, "Should have some stack as well");
    } else {
      Assert.equal(stacks.length, 0, "Should have NO stack as well");
    }
  }

  for (let tab of tabs) {
    await BrowserTestUtils.removeTab(tab);
  }
}

add_task(async () => {
  await ProfilerTestUtils.startProfiler(sandboxSettingsEnabled);
  await waitForMaybeSandboxProfilerData(
    "SandboxProfilerEmitterSyscalls",
    ["id", "init"],
    /* withStacks */ true,
    /* enabled */ true
  );
  await Services.profiler.StopProfiler();
});

add_task(async () => {
  await ProfilerTestUtils.startProfiler(sandboxSettingsEnabled);
  await waitForMaybeSandboxProfilerData(
    "SandboxProfilerEmitterLogs",
    ["log"],
    /* withStacks */ false,
    /* enabled */ true
  );
  await Services.profiler.StopProfiler();
});

add_task(async () => {
  await ProfilerTestUtils.startProfiler(sandboxSettingsDisabled);
  await waitForMaybeSandboxProfilerData(
    "SandboxProfilerEmitterSyscalls",
    ["id", "init"],
    /* withStacks */ true,
    /* enabled */ false
  );
  await Services.profiler.StopProfiler();
});

add_task(async () => {
  await ProfilerTestUtils.startProfiler(sandboxSettingsEnabled);
  await waitForMaybeSandboxProfilerData(
    "SandboxProfilerEmitterLogs",
    ["log"],
    /* withStacks */ false,
    /* enabled */ false
  );
  await Services.profiler.StopProfiler();
});



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_sandbox_test.js
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */

"use strict";

function test() {
  waitForExplicitFinish();

  // Types of processes to test, taken from GeckoProcessTypes.h
  // GPU process might not run depending on the platform, so we need it to be
  // the last one of the list to allow the remainingTests logic below to work
  // as expected.
  //
  // For UtilityProcess, allow constructing a string made of the process type
  // and the sandbox variant we want to test, e.g.,
  // utility:0 for GENERIC_UTILITY
  // utility:1 for AppleMedia/WMF on macOS/Windows
  var processTypes = ["tab", "socket", "rdd", "gmplugin", "utility:0", "gpu"];

  const platform = SpecialPowers.Services.appinfo.OS;
  if (platform === "WINNT" || platform === "Darwin") {
    processTypes.push("utility:1");
  }

  // A callback called after each test-result.
  let sandboxTestResult = (subject, topic, data) => {
    let { testid, passed, message } = JSON.parse(data);
    ok(
      passed,
      "Test " + testid + (passed ? " passed: " : " failed: ") + message
    );
  };
  Services.obs.addObserver(sandboxTestResult, "sandbox-test-result");

  var remainingTests = processTypes.length;

  // A callback that is notified when a child process is done running tests.
  let sandboxTestDone = () => {
    remainingTests = remainingTests - 1;
    if (remainingTests == 0) {
      // Clean up test file
      if (homeTestFile.exists()) {
        ok(homeTestFile.isFile(), "homeTestFile should be a file");
        if (homeTestFile.isFile()) {
          homeTestFile.remove(false);
        }
      }

      Services.obs.removeObserver(sandboxTestResult, "sandbox-test-result");
      Services.obs.removeObserver(sandboxTestDone, "sandbox-test-done");

      // Notify SandboxTest component that it should terminate the connection
      // with the child processes.
      comp.finishTests();
      // Notify mochitest that all process tests are complete.
      finish();
    }
  };
  Services.obs.addObserver(sandboxTestDone, "sandbox-test-done");

  var comp = Cc["@mozilla.org/sandbox/sandbox-test;1"].getService(
    Ci.mozISandboxTest
  );

  let homeTestFile;
  try {
    homeTestFile = Services.dirsvc.get("Home", Ci.nsIFile);
    homeTestFile.append(".mozilla_gpu_sandbox_read_test");
    if (!homeTestFile.exists()) {
      homeTestFile.create(Ci.nsIFile.NORMAL_FILE_TYPE, 0o600);
    }
  } catch (e) {
    ok(false, "Failed to create home test file: " + e);
  }

  comp.startTests(processTypes);
}



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_snap.toml
================================================
# Any copyright is dedicated to the Public Domain.
# http://creativecommons.org/publicdomain/zero/1.0/
[DEFAULT]
skip-if = [
  "ccov",
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && asan", # bug 1784517
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && tsan", # bug 1784517
]
tags = "contentsandbox"
support-files = [
  "browser_content_sandbox_utils.js",
  "browser_content_sandbox_fs_tests.js",
]
test-directories = "/tmp/.snap_firefox_current_real/"
environment = "SNAP=/tmp/.snap_firefox_current_real/"

["browser_content_sandbox_fs_snap.js"]
run-if = [
  "os == 'linux'",
]



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_xdg_default.toml
================================================
# Any copyright is dedicated to the Public Domain.
# http://creativecommons.org/publicdomain/zero/1.0/
[DEFAULT]
skip-if = [
  "ccov",
  "os == 'linux' && os_version == '22.04' && arch == 'x86_64' && display == 'wayland' && asan", # bug 1784517
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && asan", # bug 1784517
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && tsan", # bug 1784517
]
tags = "contentsandbox"
support-files = [
  "browser_content_sandbox_utils.js",
  "browser_content_sandbox_fs_tests.js",
]
# .config needs to exists for the sandbox to properly add it
test-directories = ["/tmp/.xdg_default_test", "/tmp/.xdg_default_test/.config"]
environment = [
  "HOME=/tmp/.xdg_default_test",
]

["browser_content_sandbox_fs_xdg_default.js"]
run-if = ["os == 'linux'"]



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_xdg_mozLegacyHome.toml
================================================
# Any copyright is dedicated to the Public Domain.
# http://creativecommons.org/publicdomain/zero/1.0/
[DEFAULT]
skip-if = [
  "ccov",
  "os == 'linux' && os_version == '22.04' && arch == 'x86_64' && display == 'wayland' && asan", # bug 1784517
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && asan", # bug 1784517
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && tsan", # bug 1784517
]
tags = "contentsandbox"
support-files = [
  "browser_content_sandbox_utils.js",
  "browser_content_sandbox_fs_tests.js",
]
test-directories = ["/tmp/.xdg_mozLegacyHome_test/.config", "/tmp/.xdg_config_home_test"]
environment = [
  "XDG_CONFIG_HOME=/tmp/.xdg_config_home_test",
  "HOME=/tmp/.xdg_mozLegacyHome_test",
  "MOZ_LEGACY_HOME=1",
]

["browser_content_sandbox_fs_xdg_mozLegacyHome.js"]
run-if = ["os == 'linux'"]



================================================
FILE: src/zen/tests/mochitests/sandbox/browser_xdg_xdgConfigHome.toml
================================================
# Any copyright is dedicated to the Public Domain.
# http://creativecommons.org/publicdomain/zero/1.0/
[DEFAULT]
skip-if = [
  "ccov",
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && asan", # bug 1784517
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11' && tsan", # bug 1784517
]
tags = "contentsandbox"
support-files = [
  "browser_content_sandbox_utils.js",
  "browser_content_sandbox_fs_tests.js",
]
test-directories = "/tmp/.xdg_config_home_test"
environment = [
  "XDG_CONFIG_HOME=/tmp/.xdg_config_home_test",
  "MOZ_LEGACY_HOME=0",
]

["browser_content_sandbox_fs_xdg_xdgConfigHome.js"]
run-if = [
  "os == 'linux'",
]



================================================
FILE: src/zen/tests/mochitests/sandbox/bug1393259.html
================================================
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8"/>
</head>
<style>
#content { display: inline-block; }
.monospace_fallback { font: 3em monospace; }
</style>
<body>

<div id="content" class="monospace_fallback">
abcdefghijklmnopqrstuvwxyz<br>
<b>abcdefghijklmnopqrstuvwxyz</b><br>
<i>abcdefghijklmnopqrstuvwxyz</i>
</div>

</body>
</html>



================================================
FILE: src/zen/tests/mochitests/sandbox/mac_register_font.py
================================================
#!/usr/bin/python
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/. */

"""
mac_register_font.py

Mac-specific utility command to register a font file with the OS.
"""

import argparse
import sys

import Cocoa
import CoreText


def main():
  parser = argparse.ArgumentParser()
  parser.add_argument(
      "-v",
      "--verbose",
      action="store_true",
      help="print verbose registration failures",
      default=False,
  )
  parser.add_argument(
      "file", nargs="*", help="font file to register or unregister", default=[]
  )
  parser.add_argument(
      "-u",
      "--unregister",
      action="store_true",
      help="unregister the provided fonts",
      default=False,
  )
  parser.add_argument(
      "-p",
      "--persist-user",
      action="store_true",
      help="permanently register the font",
      default=False,
  )

  args = parser.parse_args()

  if args.persist_user:
    scope = CoreText.kCTFontManagerScopeUser
    scopeDesc = "user"
  else:
    scope = CoreText.kCTFontManagerScopeSession
    scopeDesc = "session"

  failureCount = 0
  for fontPath in args.file:
    fontURL = Cocoa.NSURL.fileURLWithPath_(fontPath)
    (result, error) = register_or_unregister_font(fontURL, args.unregister, scope)
    if result:
      print(
          "%sregistered font %s with %s scope"
          % (("un" if args.unregister else ""), fontPath, scopeDesc)
      )
    else:
      print(
          "Failed to %sregister font %s with %s scope"
          % (("un" if args.unregister else ""), fontPath, scopeDesc)
      )
      if args.verbose:
        print(error)
      failureCount += 1

  sys.exit(failureCount)


def register_or_unregister_font(fontURL, unregister, scope):
  return (
      CoreText.CTFontManagerUnregisterFontsForURL(fontURL, scope, None)
      if unregister
      else CoreText.CTFontManagerRegisterFontsForURL(fontURL, scope, None)
  )


if __name__ == "__main__":
  main()



================================================
FILE: src/zen/tests/mochitests/shell/browser.toml
================================================
[DEFAULT]

["browser_1119088.js"]
disabled="Disabled by import_external_tests.py"
support-files = ["mac_desktop_image.py"]
run-if = [
  "os == 'mac'",
]
tags = "os_integration"
skip-if = [
  "os == 'mac' && os_version == '14.70' && arch == 'x86_64'", # Bug 1869703
]

["browser_420786.js"]
run-if = [
  "os == 'linux' && os_version == '22.04' && arch == 'x86_64' && display == 'wayland'",
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11'",
]

["browser_633221.js"]
run-if = [
  "os == 'linux' && os_version == '22.04' && arch == 'x86_64' && display == 'wayland'",
  "os == 'linux' && os_version == '24.04' && arch == 'x86_64' && display == 'x11'",
]

["browser_createWindowsShortcut.js"]
run-if = [
  "os == 'win'",
]

["browser_doesAppNeedPin.js"]

["browser_headless_screenshot_1.js"]
support-files = [
  "head.js",
  "headless.html",
]
skip-if = [
  "ccov",
  "os == 'win'",
  "tsan", # Bug 1429950, Bug 1583315, Bug 1696109, Bug 1701449
]
tags = "os_integration"

["browser_headless_screenshot_2.js"]
support-files = [
  "head.js",
  "headless.html",
]
skip-if = [
  "ccov",
  "os == 'win'",
  "tsan", # Bug 1429950, Bug 1583315, Bug 1696109, Bug 1701449
]

["browser_headless_screenshot_3.js"]
support-files = [
  "head.js",
  "headless.html",
]
skip-if = [
  "ccov",
  "os == 'win'",
  "tsan", # Bug 1429950, Bug 1583315, Bug 1696109, Bug 1701449
]

["browser_headless_screenshot_4.js"]
support-files = [
  "head.js",
  "headless.html",
]
skip-if = [
  "ccov",
  "os == 'win'",
  "tsan", # Bug 1429950, Bug 1583315, Bug 1696109, Bug 1701449
]

["browser_headless_screenshot_cross_origin.js"]
support-files = [
  "head.js",
  "headless_cross_origin.html",
  "headless_iframe.html",
]
skip-if = [
  "ccov",
  "os == 'win'",
  "tsan", # Bug 1429950, Bug 1583315, Bug 1696109, Bug 1701449
]

["browser_headless_screenshot_redirect.js"]
support-files = [
  "head.js",
  "headless.html",
  "headless_redirect.html",
  "headless_redirect.html^headers^",
]
skip-if = [
  "ccov",
  "os == 'win'",
  "tsan", # Bug 1429950, Bug 1583315, Bug 1696109, Bug 1701449
]

["browser_processAUMID.js"]
run-if = [
  "os == 'win'",
]

["browser_setDefaultBrowser.js"]
tags = "os_integration"

["browser_setDefaultPDFHandler.js"]
run-if = [
  "os == 'win'",
]
tags = "os_integration"

["browser_setDesktopBackgroundPreview.js"]
disabled="Disabled by import_external_tests.py"
tags = "os_integration"



================================================
FILE: src/zen/tests/mochitests/shell/browser_1119088.js
================================================
// Where we save the desktop background to (~/Pictures).
const NS_OSX_PICTURE_DOCUMENTS_DIR = "Pct";

// Paths used to run the CLI command (python script) that is used to
// 1) check the desktop background image matches what we set it to via
//    nsIShellService::setDesktopBackground() and
// 2) revert the desktop background image to the OS default

let kPythonPath = "/usr/bin/python";
if (AppConstants.isPlatformAndVersionAtLeast("macosx", 23.0)) {
  kPythonPath = "/usr/local/bin/python3";
}

const kDesktopCheckerScriptPath =
  "browser/browser/components/shell/test/mac_desktop_image.py";
const kDefaultBackgroundImage =
  "/System/Library/Desktop Pictures/Solid Colors/Teal.png";

ChromeUtils.defineESModuleGetters(this, {
  FileUtils: "resource://gre/modules/FileUtils.sys.mjs",
});

function getPythonExecutableFile() {
  let python = Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsIFile);
  info(`Using python at location ${kPythonPath}`);
  python.initWithPath(kPythonPath);
  return python;
}

function createProcess() {
  return Cc["@mozilla.org/process/util;1"].createInstance(Ci.nsIProcess);
}

// Use a CLI command to set the desktop background to |imagePath|. Returns the
// exit code of the CLI command which reflects whether or not the background
// image was successfully set. Returns 0 on success.
function setDesktopBackgroundCLI(imagePath) {
  let setBackgroundProcess = createProcess();
  setBackgroundProcess.init(getPythonExecutableFile());
  let args = [
    kDesktopCheckerScriptPath,
    "--verbose",
    "--set-background-image",
    imagePath,
  ];
  setBackgroundProcess.run(true, args, args.length);
  return setBackgroundProcess.exitValue;
}

// Check the desktop background is |imagePath| using a CLI command.
// Returns the exit code of the CLI command which reflects whether or not
// the provided image path matches the path of the current desktop background
// image. A return value of 0 indicates success/match.
function checkDesktopBackgroundCLI(imagePath) {
  let checkBackgroundProcess = createProcess();
  checkBackgroundProcess.init(getPythonExecutableFile());
  let args = [
    kDesktopCheckerScriptPath,
    "--verbose",
    "--check-background-image",
    imagePath,
  ];
  checkBackgroundProcess.run(true, args, args.length);
  return checkBackgroundProcess.exitValue;
}

// Use the python script to set/check the desktop background is |imagePath|
function setAndCheckDesktopBackgroundCLI(imagePath) {
  Assert.ok(FileUtils.File(imagePath).exists(), `${imagePath} exists`);

  let setExitCode = setDesktopBackgroundCLI(imagePath);
  Assert.equal(setExitCode, 0, `Setting background via CLI to ${imagePath}`);

  let checkExitCode = checkDesktopBackgroundCLI(imagePath);
  Assert.equal(checkExitCode, 0, `Checking background via CLI is ${imagePath}`);
}

// Restore the automation default background image. i.e., the default used
// in the automated test environment, not the OS default.
function restoreDefaultBackground() {
  let defaultBackgroundPath;
  defaultBackgroundPath = kDefaultBackgroundImage;
  setAndCheckDesktopBackgroundCLI(defaultBackgroundPath);
}

add_setup(async function () {
  await SpecialPowers.pushPrefEnv({
    set: [["test.wait300msAfterTabSwitch", true]],
  });
});

/**
 * Tests "Set As Desktop Background" platform implementation on macOS.
 *
 * Sets the desktop background image to the browser logo from the about:logo
 * page and verifies it was set successfully. Setting the desktop background
 * (which uses the nsIShellService::setDesktopBackground() interface method)
 * downloads the image to ~/Pictures using a unique file name and sets the
 * desktop background to the downloaded file leaving the download in place.
 * After setDesktopBackground() is called, the test uses a python script to
 * validate that the current desktop background is in fact set to the
 * downloaded logo.
 */
add_task(async function () {
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "about:logo",
    },
    async () => {
      let dirSvc = Cc["@mozilla.org/file/directory_service;1"].getService(
        Ci.nsIDirectoryServiceProvider
      );
      let uuidGenerator = Services.uuid;
      let shellSvc = Cc["@mozilla.org/browser/shell-service;1"].getService(
        Ci.nsIShellService
      );

      // Ensure we are starting with the default background. Log a
      // failure if we can not set the background to the default, but
      // ignore the case where the background is not already set as that
      // that may be due to a previous test failure.
      restoreDefaultBackground();

      // Generate a UUID (with non-alphanumberic characters removed) to build
      // up a filename for the desktop background. Use a UUID to distinguish
      // between runs so we won't be confused by images that were not properly
      // cleaned up after previous runs.
      let uuid = uuidGenerator.generateUUID().toString().replace(/\W/g, "");

      // Set the background image path to be $HOME/Pictures/<UUID>.png.
      // nsIShellService.setDesktopBackground() downloads the image to this
      // path and then sets it as the desktop background image, leaving the
      // image in place.
      let backgroundImage = dirSvc.getFile(NS_OSX_PICTURE_DOCUMENTS_DIR, {});
      backgroundImage.append(uuid + ".png");
      if (backgroundImage.exists()) {
        backgroundImage.remove(false);
      }

      // For simplicity, we're going to reach in and access the image on the
      // page directly, which means the page shouldn't be running in a remote
      // browser. Thankfully, about:logo runs in the parent process for now.
      Assert.ok(
        !gBrowser.selectedBrowser.isRemoteBrowser,
        "image can be accessed synchronously from the parent process"
      );
      let image = gBrowser.selectedBrowser.contentDocument.images[0];

      info(`Setting/saving desktop background to ${backgroundImage.path}`);

      // Saves the file in ~/Pictures
      shellSvc.setDesktopBackground(image, 0, backgroundImage.leafName);

      await BrowserTestUtils.waitForCondition(() => backgroundImage.exists());
      info(`${backgroundImage.path} downloaded`);
      Assert.ok(
        FileUtils.File(backgroundImage.path).exists(),
        `${backgroundImage.path} exists`
      );

      // Check that the desktop background image is the image we set above.
      let exitCode = checkDesktopBackgroundCLI(backgroundImage.path);
      Assert.equal(exitCode, 0, `background should be ${backgroundImage.path}`);

      // Restore the background image to the Mac default.
      restoreDefaultBackground();

      // We no longer need the downloaded image.
      backgroundImage.remove(false);
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_420786.js
================================================
const DG_BACKGROUND = "/desktop/gnome/background";
const DG_IMAGE_KEY = DG_BACKGROUND + "/picture_filename";
const DG_OPTION_KEY = DG_BACKGROUND + "/picture_options";
const DG_DRAW_BG_KEY = DG_BACKGROUND + "/draw_background";

const GS_BG_SCHEMA = "org.gnome.desktop.background";
const GS_IMAGE_KEY = "picture-uri";
const GS_OPTION_KEY = "picture-options";
const GS_DRAW_BG_KEY = "draw-background";

add_task(async function () {
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "about:logo",
    },
    () => {
      var brandName = Services.strings
        .createBundle("chrome://branding/locale/brand.properties")
        .GetStringFromName("brandShortName");

      var dirSvc = Cc["@mozilla.org/file/directory_service;1"].getService(
        Ci.nsIDirectoryServiceProvider
      );
      var homeDir = dirSvc.getFile("Home", {});

      var wpFile = homeDir.clone();
      wpFile.append(brandName + "_wallpaper.png");

      // Backup the existing wallpaper so that this test doesn't change the user's
      // settings.
      var wpFileBackup = homeDir.clone();
      wpFileBackup.append(brandName + "_wallpaper.png.backup");

      if (wpFileBackup.exists()) {
        wpFileBackup.remove(false);
      }

      if (wpFile.exists()) {
        wpFile.copyTo(null, wpFileBackup.leafName);
      }

      var shell = Cc["@mozilla.org/browser/shell-service;1"]
        .getService(Ci.nsIShellService)
        .QueryInterface(Ci.nsIGNOMEShellService);

      // For simplicity, we're going to reach in and access the image on the
      // page directly, which means the page shouldn't be running in a remote
      // browser. Thankfully, about:logo runs in the parent process for now.
      Assert.ok(
        !gBrowser.selectedBrowser.isRemoteBrowser,
        "image can be accessed synchronously from the parent process"
      );

      var image = content.document.images[0];

      let checkWallpaper, restoreSettings;
      try {
        const prevImage = shell.getGSettingsString(GS_BG_SCHEMA, GS_IMAGE_KEY);
        const prevOption = shell.getGSettingsString(
          GS_BG_SCHEMA,
          GS_OPTION_KEY
        );

        checkWallpaper = function (position, expectedGSettingsPosition) {
          shell.setDesktopBackground(image, position, "");
          ok(wpFile.exists(), "Wallpaper was written to disk");
          is(
            shell.getGSettingsString(GS_BG_SCHEMA, GS_IMAGE_KEY),
            encodeURI("file://" + wpFile.path),
            "Wallpaper file GSettings key is correct"
          );
          is(
            shell.getGSettingsString(GS_BG_SCHEMA, GS_OPTION_KEY),
            expectedGSettingsPosition,
            "Wallpaper position GSettings key is correct"
          );
        };

        restoreSettings = function () {
          shell.setGSettingsString(GS_BG_SCHEMA, GS_IMAGE_KEY, prevImage);
          shell.setGSettingsString(GS_BG_SCHEMA, GS_OPTION_KEY, prevOption);
        };
      } catch (e) {}

      checkWallpaper(Ci.nsIShellService.BACKGROUND_TILE, "wallpaper");
      checkWallpaper(Ci.nsIShellService.BACKGROUND_STRETCH, "stretched");
      checkWallpaper(Ci.nsIShellService.BACKGROUND_CENTER, "centered");
      checkWallpaper(Ci.nsIShellService.BACKGROUND_FILL, "zoom");
      checkWallpaper(Ci.nsIShellService.BACKGROUND_FIT, "scaled");
      checkWallpaper(Ci.nsIShellService.BACKGROUND_SPAN, "spanned");

      restoreSettings();

      // Restore files
      if (wpFileBackup.exists()) {
        wpFileBackup.moveTo(null, wpFile.leafName);
      }
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_633221.js
================================================
function test() {
  ShellService.setDefaultBrowser(false);
  ok(
    ShellService.isDefaultBrowser(true, false),
    "we got here and are the default browser"
  );
  ok(
    ShellService.isDefaultBrowser(true, true),
    "we got here and are the default browser"
  );
}



================================================
FILE: src/zen/tests/mochitests/shell/browser_createWindowsShortcut.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

ChromeUtils.defineESModuleGetters(this, {
  FileTestUtils: "resource://testing-common/FileTestUtils.sys.mjs",
  MockRegistrar: "resource://testing-common/MockRegistrar.sys.mjs",
});

const gBase = Services.dirsvc.get("ProfD", Ci.nsIFile);
gBase.append("CreateWindowsShortcut");
createDirectory(gBase);

const gTmpDir = Services.dirsvc.get("TmpD", Ci.nsIFile);

const gDirectoryServiceProvider = {
  getFile(prop, persistent) {
    persistent.value = false;

    // We only expect a narrow range of calls.
    let folder = gBase.clone();
    switch (prop) {
      case "Progs":
        folder.append("Programs");
        break;
      case "Desk":
        folder.append("Desktop");
        break;
      case "UpdRootD":
        // We really want DataRoot, but UpdateSubdir is what we usually get.
        folder.append("DataRoot");
        folder.append("UpdateDir");
        folder.append("UpdateSubdir");
        break;
      case "ProfD":
        // Used by test infrastructure.
        folder = folder.parent;
        break;
      case "TmpD":
        // Used by FileTestUtils.
        folder = gTmpDir;
        break;
      default:
        console.error(`Access to unexpected directory '${prop}'`);
        return Cr.NS_ERROR_FAILURE;
    }

    createDirectory(folder);
    return folder;
  },
  QueryInterface: ChromeUtils.generateQI([Ci.nsIDirectoryServiceProvider]),
};

add_setup(() => {
  Services.dirsvc
    .QueryInterface(Ci.nsIDirectoryService)
    .registerProvider(gDirectoryServiceProvider);
});

registerCleanupFunction(() => {
  gBase.remove(true);
  Services.dirsvc
    .QueryInterface(Ci.nsIDirectoryService)
    .unregisterProvider(gDirectoryServiceProvider);
});

add_task(async function test_CreateWindowsShortcut() {
  const DEST = "browser_createWindowsShortcut_TestFile.lnk";

  const file = FileTestUtils.getTempFile("program.exe");
  const iconPath = FileTestUtils.getTempFile("program.ico");

  let shortcut;

  const defaults = {
    shellService: Cc["@mozilla.org/toolkit/shell-service;1"].getService(),
    targetFile: file,
    iconFile: iconPath,
    description: "made by browser_createWindowsShortcut.js",
    aumid: "TESTTEST",
  };

  shortcut = Services.dirsvc.get("Progs", Ci.nsIFile);
  shortcut.append(DEST);
  await testShortcut({
    shortcutFile: shortcut,
    relativePath: DEST,
    specialFolder: "Programs",
    logHeader: "STARTMENU",
    ...defaults,
  });

  let subdir = Services.dirsvc.get("Progs", Ci.nsIFile);
  subdir.append("Shortcut Test");
  tryRemove(subdir);

  shortcut = subdir.clone();
  shortcut.append(DEST);
  await testShortcut({
    shortcutFile: shortcut,
    relativePath: "Shortcut Test\\" + DEST,
    specialFolder: "Programs",
    logHeader: "STARTMENU",
    ...defaults,
  });
  tryRemove(subdir);

  shortcut = Services.dirsvc.get("Desk", Ci.nsIFile);
  shortcut.append(DEST);
  await testShortcut({
    shortcutFile: shortcut,
    relativePath: DEST,
    specialFolder: "Desktop",
    logHeader: "DESKTOP",
    ...defaults,
  });
});

async function testShortcut({
  shortcutFile,
  relativePath,
  specialFolder,
  logHeader,

  // Generally provided by the defaults.
  shellService,
  targetFile,
  iconFile,
  description,
  aumid,
}) {
  // If it already exists, remove it.
  tryRemove(shortcutFile);

  await shellService.createShortcut(
    targetFile,
    [],
    description,
    iconFile,
    0,
    aumid,
    specialFolder,
    relativePath
  );
  ok(
    shortcutFile.exists(),
    `${specialFolder}\\${relativePath}: Shortcut should exist`
  );
  ok(
    queryShortcutLog(relativePath, logHeader),
    `${specialFolder}\\${relativePath}: Shortcut log entry was added`
  );
  await shellService.deleteShortcut(specialFolder, relativePath);
  ok(
    !shortcutFile.exists(),
    `${specialFolder}\\${relativePath}: Shortcut does not exist after deleting`
  );
  ok(
    !queryShortcutLog(relativePath, logHeader),
    `${specialFolder}\\${relativePath}: Shortcut log entry was removed`
  );
}

function queryShortcutLog(aShortcutName, aSection) {
  const parserFactory = Cc[
    "@mozilla.org/xpcom/ini-parser-factory;1"
  ].createInstance(Ci.nsIINIParserFactory);

  const dir = Services.dirsvc.get("UpdRootD", Ci.nsIFile).parent.parent;
  const enumerator = dir.directoryEntries;

  for (const file of enumerator) {
    // We don't know the user's SID from JS-land, so just look at all of them.
    if (!file.path.match(/[^_]+_S[^_]*_shortcuts.ini/)) {
      continue;
    }

    const parser = parserFactory.createINIParser(file);
    parser.QueryInterface(Ci.nsIINIParser);
    parser.QueryInterface(Ci.nsIINIParserWriter);

    for (let i = 0; ; i++) {
      try {
        let string = parser.getString(aSection, `Shortcut${i}`);
        if (string == aShortcutName) {
          enumerator.close();
          return true;
        }
      } catch (e) {
        // The key didn't exist, stop here.
        break;
      }
    }
  }

  enumerator.close();
  return false;
}

function createDirectory(aFolder) {
  try {
    aFolder.create(Ci.nsIFile.DIRECTORY_TYPE, 0o755);
  } catch (e) {
    if (e.result != Cr.NS_ERROR_FILE_ALREADY_EXISTS) {
      throw e;
    }
  }
}

function tryRemove(file) {
  try {
    file.remove(false);
    return true;
  } catch (e) {
    return false;
  }
}



================================================
FILE: src/zen/tests/mochitests/shell/browser_doesAppNeedPin.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */

ChromeUtils.defineESModuleGetters(this, {
  NimbusFeatures: "resource://nimbus/ExperimentAPI.sys.mjs",
  NimbusTestUtils: "resource://testing-common/NimbusTestUtils.sys.mjs",
});

let defaultValue;
add_task(async function default_need() {
  defaultValue = await ShellService.doesAppNeedPin();

  Assert.notStrictEqual(
    defaultValue,
    undefined,
    "Got a default app need pin value"
  );
});

add_task(async function remote_disable() {
  if (defaultValue === false) {
    info("Default pin already false, so nothing to test");
    return;
  }

  let doCleanup = await NimbusTestUtils.enrollWithFeatureConfig(
    {
      featureId: NimbusFeatures.shellService.featureId,
      value: { disablePin: true, enabled: true },
    },
    { isRollout: true }
  );

  Assert.equal(
    await ShellService.doesAppNeedPin(),
    false,
    "Pinning disabled via nimbus"
  );

  await doCleanup();
});

add_task(async function restore_default() {
  if (defaultValue === undefined) {
    info("No default pin value set, so nothing to test");
    return;
  }

  Assert.equal(
    await ShellService.doesAppNeedPin(),
    defaultValue,
    "Pinning restored to original"
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_headless_screenshot_1.js
================================================
"use strict";

add_task(async function () {
  // Test all four basic variations of the "screenshot" argument
  // when a file path is specified.
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-screenshot",
      screenshotPath,
    ],
    screenshotPath
  );
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      `-screenshot=${screenshotPath}`,
    ],
    screenshotPath
  );
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "--screenshot",
      screenshotPath,
    ],
    screenshotPath
  );
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      `--screenshot=${screenshotPath}`,
    ],
    screenshotPath
  );

  // Test when the requested URL redirects
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless_redirect.html",
      "-screenshot",
      screenshotPath,
    ],
    screenshotPath
  );

  // Test with additional command options
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-screenshot",
      screenshotPath,
      "-attach-console",
    ],
    screenshotPath
  );
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-attach-console",
      "-screenshot",
      screenshotPath,
      "-headless",
    ],
    screenshotPath
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_headless_screenshot_2.js
================================================
"use strict";
add_task(async function () {
  const cwdScreenshotPath = PathUtils.join(
    Services.dirsvc.get("CurWorkD", Ci.nsIFile).path,
    "screenshot.png"
  );

  // Test variations of the "screenshot" argument when a file path
  // isn't specified.
  await testFileCreationPositive(
    [
      "-screenshot",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
    ],
    cwdScreenshotPath
  );
  await testFileCreationPositive(
    [
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-screenshot",
    ],
    cwdScreenshotPath
  );
  await testFileCreationPositive(
    [
      "--screenshot",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
    ],
    cwdScreenshotPath
  );
  await testFileCreationPositive(
    [
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "--screenshot",
    ],
    cwdScreenshotPath
  );

  // Test with additional command options
  await testFileCreationPositive(
    [
      "--screenshot",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-attach-console",
    ],
    cwdScreenshotPath
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_headless_screenshot_3.js
================================================
"use strict";

add_task(async function () {
  const cwdScreenshotPath = PathUtils.join(
    Services.dirsvc.get("CurWorkD", Ci.nsIFile).path,
    "screenshot.png"
  );

  // Test invalid URL arguments (either no argument or too many arguments).
  await testFileCreationNegative(["-screenshot"], cwdScreenshotPath);
  await testFileCreationNegative(
    [
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "http://mochi.test:8888/headless.html",
      "-screenshot",
    ],
    cwdScreenshotPath
  );

  // Test all four basic variations of the "window-size" argument.
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-screenshot",
      "-window-size",
      "800",
    ],
    cwdScreenshotPath
  );
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-screenshot",
      "-window-size=800",
    ],
    cwdScreenshotPath
  );
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-screenshot",
      "--window-size",
      "800",
    ],
    cwdScreenshotPath
  );
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-screenshot",
      "--window-size=800",
    ],
    cwdScreenshotPath
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_headless_screenshot_4.js
================================================
"use strict";

add_task(async function () {
  const cwdScreenshotPath = PathUtils.join(
    Services.dirsvc.get("CurWorkD", Ci.nsIFile).path,
    "screenshot.png"
  );
  // Test other variations of the "window-size" argument.
  await testWindowSizePositive(800, 600);
  await testWindowSizePositive(1234);
  await testFileCreationNegative(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-screenshot",
      "-window-size",
      "hello",
    ],
    cwdScreenshotPath
  );
  await testFileCreationNegative(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
      "-screenshot",
      "-window-size",
      "800,",
    ],
    cwdScreenshotPath
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_headless_screenshot_cross_origin.js
================================================
"use strict";

add_task(async function () {
  // Test cross origin iframes work.
  await testGreen(
    "http://mochi.test:8888/browser/browser/components/shell/test/headless_cross_origin.html",
    screenshotPath
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_headless_screenshot_redirect.js
================================================
"use strict";

add_task(async function () {
  // Test when the requested URL redirects
  await testFileCreationPositive(
    [
      "-url",
      "http://mochi.test:8888/browser/browser/components/shell/test/headless_redirect.html",
      "-screenshot",
      screenshotPath,
    ],
    screenshotPath
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_processAUMID.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * https://creativecommons.org/publicdomain/zero/1.0/ */

/**
 * Bug 1950734 tracks how calling PinCurrentAppToTaskbarWin11
 * on MSIX may cause the process AUMID to be unnecessarily changed.
 * This test verifies that the behaviour will no longer happen
 */

ChromeUtils.defineESModuleGetters(this, {
  ShellService: "moz-src:///browser/components/shell/ShellService.sys.mjs",
});

add_task(async function test_processAUMID() {
  let processAUMID = ShellService.checkCurrentProcessAUMIDForTesting();

  // This function will trigger the relevant code paths that
  // incorrectly changes the process AUMID on MSIX, prior to
  // Bug 1950734 being fixed
  await ShellService.checkPinCurrentAppToTaskbarAsync(false);

  is(
    processAUMID,
    ShellService.checkCurrentProcessAUMIDForTesting(),
    "The process AUMID should not be changed"
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_setDefaultBrowser.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */

ChromeUtils.defineESModuleGetters(this, {
  ASRouter: "resource:///modules/asrouter/ASRouter.sys.mjs",
  ExperimentAPI: "resource://nimbus/ExperimentAPI.sys.mjs",
  NimbusFeatures: "resource://nimbus/ExperimentAPI.sys.mjs",
  NimbusTestUtils: "resource://testing-common/NimbusTestUtils.sys.mjs",
  sinon: "resource://testing-common/Sinon.sys.mjs",
});

const setDefaultBrowserUserChoiceStub = async () => {
  throw Components.Exception("", Cr.NS_ERROR_WDBA_NO_PROGID);
};

const defaultAgentStub = sinon
  .stub(ShellService, "defaultAgent")
  .value({ setDefaultBrowserUserChoiceAsync: setDefaultBrowserUserChoiceStub });

const _userChoiceImpossibleTelemetryResultStub = sinon
  .stub(ShellService, "_userChoiceImpossibleTelemetryResult")
  .callsFake(() => null);

const userChoiceStub = sinon
  .stub(ShellService, "setAsDefaultUserChoice")
  .resolves();
const setDefaultStub = sinon.stub();
const shellStub = sinon
  .stub(ShellService, "shellService")
  .value({ setDefaultBrowser: setDefaultStub });

const sendTriggerStub = sinon.stub(ASRouter, "sendTriggerMessage");

registerCleanupFunction(() => {
  sinon.restore();
});

let defaultUserChoice;
add_task(async function need_user_choice() {
  await ShellService.setDefaultBrowser();
  defaultUserChoice = userChoiceStub.called;

  Assert.notStrictEqual(
    defaultUserChoice,
    undefined,
    "Decided which default browser method to use"
  );
  Assert.equal(
    setDefaultStub.notCalled,
    defaultUserChoice,
    "Only one default behavior was used"
  );
});

add_task(async function remote_disable() {
  if (defaultUserChoice === false) {
    info("Default behavior already not user choice, so nothing to test");
    return;
  }

  userChoiceStub.resetHistory();
  setDefaultStub.resetHistory();
  let doCleanup = await NimbusTestUtils.enrollWithFeatureConfig(
    {
      featureId: NimbusFeatures.shellService.featureId,
      value: {
        setDefaultBrowserUserChoice: false,
        enabled: true,
      },
    },
    { isRollout: true }
  );

  await ShellService.setDefaultBrowser();

  Assert.ok(
    userChoiceStub.notCalled,
    "Set default with user choice disabled via nimbus"
  );
  Assert.ok(setDefaultStub.called, "Used plain set default instead");

  await doCleanup();
});

add_task(async function restore_default() {
  if (defaultUserChoice === undefined) {
    info("No default user choice behavior set, so nothing to test");
    return;
  }

  userChoiceStub.resetHistory();
  setDefaultStub.resetHistory();

  await ShellService.setDefaultBrowser();

  Assert.equal(
    userChoiceStub.called,
    defaultUserChoice,
    "Set default with user choice restored to original"
  );
  Assert.equal(
    setDefaultStub.notCalled,
    defaultUserChoice,
    "Plain set default behavior restored to original"
  );
});

add_task(async function ensure_fallback() {
  if (AppConstants.platform != "win") {
    info("Nothing to test on non-Windows");
    return;
  }

  let userChoicePromise = Promise.resolve();
  userChoiceStub.callsFake(function (...args) {
    return (userChoicePromise = userChoiceStub.wrappedMethod.apply(this, args));
  });
  userChoiceStub.resetHistory();
  setDefaultStub.resetHistory();
  let doCleanup = await NimbusTestUtils.enrollWithFeatureConfig(
    {
      featureId: NimbusFeatures.shellService.featureId,
      value: {
        setDefaultBrowserUserChoice: true,
        setDefaultPDFHandler: false,
        enabled: true,
      },
    },
    { isRollout: true }
  );

  await ShellService.setDefaultBrowser();

  Assert.ok(userChoiceStub.called, "Set default with user choice called");

  let message = "";
  await userChoicePromise.catch(err => (message = err.message || ""));

  Assert.ok(
    message.includes("ErrExeProgID"),
    "Set default with user choice threw an expected error"
  );
  Assert.ok(setDefaultStub.called, "Fallbacked to plain set default");

  await doCleanup();
});

async function setUpNotificationTests(guidanceEnabled, oneClick) {
  sinon.reset();
  const experimentCleanup = await NimbusTestUtils.enrollWithFeatureConfig(
    {
      featureId: NimbusFeatures.shellService.featureId,
      value: {
        setDefaultGuidanceNotifications: guidanceEnabled,
        setDefaultBrowserUserChoice: oneClick,
        setDefaultBrowserUserChoiceRegRename: oneClick,
        enabled: true,
      },
    },
    { isRollout: true }
  );

  const doCleanup = async () => {
    await experimentCleanup();
    sinon.reset();
  };

  await ShellService.setDefaultBrowser();
  return doCleanup;
}

add_task(
  async function show_notification_when_set_to_default_guidance_enabled_and_one_click_disabled() {
    if (!AppConstants.isPlatformAndVersionAtLeast("win", 10)) {
      info("Nothing to test on non-Windows or older Windows versions");
      return;
    }
    const doCleanup = await setUpNotificationTests(
      true, // guidance enabled
      false // one-click disabled
    );

    Assert.ok(setDefaultStub.called, "Fallback method used to set default");

    Assert.equal(
      sendTriggerStub.firstCall.args[0].id,
      "deeplinkedToWindowsSettingsUI",
      `Set to default guidance message trigger was sent`
    );

    await doCleanup();
  }
);

add_task(
  async function do_not_show_notification_when_set_to_default_guidance_disabled_and_one_click_enabled() {
    if (!AppConstants.isPlatformAndVersionAtLeast("win", 10)) {
      info("Nothing to test on non-Windows or older Windows versions");
      return;
    }

    const doCleanup = await setUpNotificationTests(
      false, // guidance disabled
      true // one-click enabled
    );

    Assert.ok(setDefaultStub.notCalled, "Fallback method not called");

    Assert.equal(
      sendTriggerStub.callCount,
      0,
      `Set to default guidance message trigger was not sent`
    );

    await doCleanup();
  }
);

add_task(
  async function do_not_show_notification_when_set_to_default_guidance_enabled_and_one_click_enabled() {
    if (!AppConstants.isPlatformAndVersionAtLeast("win", 10)) {
      info("Nothing to test on non-Windows or older Windows versions");
      return;
    }

    const doCleanup = await setUpNotificationTests(
      true, // guidance enabled
      true // one-click enabled
    );

    Assert.ok(setDefaultStub.notCalled, "Fallback method not called");
    Assert.equal(
      sendTriggerStub.callCount,
      0,
      `Set to default guidance message trigger was not sent`
    );
    await doCleanup();
  }
);



================================================
FILE: src/zen/tests/mochitests/shell/browser_setDefaultPDFHandler.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */

ChromeUtils.defineESModuleGetters(this, {
  ExperimentAPI: "resource://nimbus/ExperimentAPI.sys.mjs",
  NimbusFeatures: "resource://nimbus/ExperimentAPI.sys.mjs",
  NimbusTestUtils: "resource://testing-common/NimbusTestUtils.sys.mjs",
  sinon: "resource://testing-common/Sinon.sys.mjs",
});

const setDefaultBrowserUserChoiceStub = sinon.stub();
const setDefaultExtensionHandlersUserChoiceStub = sinon
  .stub()
  .callsFake(() => Promise.resolve());

const defaultAgentStub = sinon.stub(ShellService, "defaultAgent").value({
  setDefaultBrowserUserChoiceAsync: setDefaultBrowserUserChoiceStub,
  setDefaultExtensionHandlersUserChoice:
    setDefaultExtensionHandlersUserChoiceStub,
});

XPCOMUtils.defineLazyServiceGetter(
  this,
  "XreDirProvider",
  "@mozilla.org/xre/directory-provider;1",
  Ci.nsIXREDirProvider
);

const _userChoiceImpossibleTelemetryResultStub = sinon
  .stub(ShellService, "_userChoiceImpossibleTelemetryResult")
  .callsFake(() => null);

// Ensure we don't fall back to a real implementation.
const setDefaultStub = sinon.stub();
// We'll dynamically update this as needed during the tests.
const queryCurrentDefaultHandlerForStub = sinon.stub();
const shellStub = sinon.stub(ShellService, "shellService").value({
  setDefaultBrowser: setDefaultStub,
  queryCurrentDefaultHandlerFor: queryCurrentDefaultHandlerForStub,
});

registerCleanupFunction(() => {
  defaultAgentStub.restore();
  _userChoiceImpossibleTelemetryResultStub.restore();
  shellStub.restore();
});

add_task(async function ready() {
  await ExperimentAPI.ready();
});

// Everything here is Windows.
Assert.equal(AppConstants.platform, "win", "Platform is Windows");

add_task(async function remoteEnableWithPDF() {
  let doCleanup = await NimbusTestUtils.enrollWithFeatureConfig(
    {
      featureId: NimbusFeatures.shellService.featureId,
      value: {
        setDefaultBrowserUserChoice: true,
        setDefaultPDFHandlerOnlyReplaceBrowsers: false,
        setDefaultPDFHandler: true,
        enabled: true,
      },
    },
    { isRollout: true }
  );

  Assert.equal(
    NimbusFeatures.shellService.getVariable("setDefaultBrowserUserChoice"),
    true
  );
  Assert.equal(
    NimbusFeatures.shellService.getVariable("setDefaultPDFHandler"),
    true
  );

  setDefaultBrowserUserChoiceStub.resetHistory();
  await ShellService.setDefaultBrowser();

  const aumi = XreDirProvider.getInstallHash();
  Assert.ok(setDefaultBrowserUserChoiceStub.called);
  Assert.deepEqual(setDefaultBrowserUserChoiceStub.firstCall.args, [
    aumi,
    [".pdf", "FirefoxPDF"],
  ]);

  await doCleanup();
});

add_task(async function remoteEnableWithPDF_testOnlyReplaceBrowsers() {
  let doCleanup = await NimbusTestUtils.enrollWithFeatureConfig(
    {
      featureId: NimbusFeatures.shellService.featureId,
      value: {
        setDefaultBrowserUserChoice: true,
        setDefaultPDFHandlerOnlyReplaceBrowsers: true,
        setDefaultPDFHandler: true,
        enabled: true,
      },
    },
    { isRollout: true }
  );

  Assert.equal(
    NimbusFeatures.shellService.getVariable("setDefaultBrowserUserChoice"),
    true
  );
  Assert.equal(
    NimbusFeatures.shellService.getVariable("setDefaultPDFHandler"),
    true
  );
  Assert.equal(
    NimbusFeatures.shellService.getVariable(
      "setDefaultPDFHandlerOnlyReplaceBrowsers"
    ),
    true
  );

  const aumi = XreDirProvider.getInstallHash();

  // We'll take the default from a missing association or a known browser.
  for (let progId of ["", "MSEdgePDF"]) {
    queryCurrentDefaultHandlerForStub.callsFake(() => progId);

    setDefaultBrowserUserChoiceStub.resetHistory();
    await ShellService.setDefaultBrowser();

    Assert.ok(setDefaultBrowserUserChoiceStub.called);
    Assert.deepEqual(
      setDefaultBrowserUserChoiceStub.firstCall.args,
      [aumi, [".pdf", "FirefoxPDF"]],
      `Will take default from missing association or known browser with ProgID '${progId}'`
    );
  }

  // But not from a non-browser.
  queryCurrentDefaultHandlerForStub.callsFake(() => "Acrobat.Document.DC");

  setDefaultBrowserUserChoiceStub.resetHistory();
  await ShellService.setDefaultBrowser();

  Assert.ok(setDefaultBrowserUserChoiceStub.called);
  Assert.deepEqual(
    setDefaultBrowserUserChoiceStub.firstCall.args,
    [aumi, []],
    `Will not take default from non-browser`
  );

  await doCleanup();
});

add_task(async function remoteEnableWithoutPDF() {
  let doCleanup = await NimbusTestUtils.enrollWithFeatureConfig(
    {
      featureId: NimbusFeatures.shellService.featureId,
      value: {
        setDefaultBrowserUserChoice: true,
        setDefaultPDFHandler: false,
        enabled: true,
      },
    },
    { isRollout: true }
  );

  Assert.equal(
    NimbusFeatures.shellService.getVariable("setDefaultBrowserUserChoice"),
    true
  );
  Assert.equal(
    NimbusFeatures.shellService.getVariable("setDefaultPDFHandler"),
    false
  );

  setDefaultBrowserUserChoiceStub.resetHistory();
  await ShellService.setDefaultBrowser();

  const aumi = XreDirProvider.getInstallHash();
  Assert.ok(setDefaultBrowserUserChoiceStub.called);
  Assert.deepEqual(setDefaultBrowserUserChoiceStub.firstCall.args, [aumi, []]);

  await doCleanup();
});

add_task(async function remoteDisable() {
  let doCleanup = await NimbusTestUtils.enrollWithFeatureConfig(
    {
      featureId: NimbusFeatures.shellService.featureId,
      value: {
        setDefaultBrowserUserChoice: false,
        setDefaultPDFHandler: true,
        enabled: false,
      },
    },
    { isRollout: true }
  );

  Assert.equal(
    NimbusFeatures.shellService.getVariable("setDefaultBrowserUserChoice"),
    false
  );
  Assert.equal(
    NimbusFeatures.shellService.getVariable("setDefaultPDFHandler"),
    true
  );

  setDefaultBrowserUserChoiceStub.resetHistory();
  await ShellService.setDefaultBrowser();

  Assert.ok(setDefaultBrowserUserChoiceStub.notCalled);
  Assert.ok(setDefaultStub.called);

  await doCleanup();
});

add_task(async function test_setAsDefaultPDFHandler_knownBrowser() {
  const sandbox = sinon.createSandbox();

  const aumi = XreDirProvider.getInstallHash();
  const expectedArguments = [aumi, [".pdf", "FirefoxPDF"]];

  try {
    const pdfHandlerResult = { registered: true, knownBrowser: true };
    sandbox
      .stub(ShellService, "getDefaultPDFHandler")
      .returns(pdfHandlerResult);

    info("Testing setAsDefaultPDFHandler(true) when knownBrowser = true");
    ShellService.setAsDefaultPDFHandler(true);
    Assert.ok(
      setDefaultExtensionHandlersUserChoiceStub.called,
      "Called default browser agent"
    );
    Assert.deepEqual(
      setDefaultExtensionHandlersUserChoiceStub.firstCall.args,
      expectedArguments,
      "Called default browser agent with expected arguments"
    );
    setDefaultExtensionHandlersUserChoiceStub.resetHistory();

    info("Testing setAsDefaultPDFHandler(false) when knownBrowser = true");
    ShellService.setAsDefaultPDFHandler(false);
    Assert.ok(
      setDefaultExtensionHandlersUserChoiceStub.called,
      "Called default browser agent"
    );
    Assert.deepEqual(
      setDefaultExtensionHandlersUserChoiceStub.firstCall.args,
      expectedArguments,
      "Called default browser agent with expected arguments"
    );
    setDefaultExtensionHandlersUserChoiceStub.resetHistory();

    pdfHandlerResult.knownBrowser = false;

    info("Testing setAsDefaultPDFHandler(true) when knownBrowser = false");
    ShellService.setAsDefaultPDFHandler(true);
    Assert.ok(
      setDefaultExtensionHandlersUserChoiceStub.notCalled,
      "Did not call default browser agent"
    );
    setDefaultExtensionHandlersUserChoiceStub.resetHistory();

    info("Testing setAsDefaultPDFHandler(false) when knownBrowser = false");
    ShellService.setAsDefaultPDFHandler(false);
    Assert.ok(
      setDefaultExtensionHandlersUserChoiceStub.called,
      "Called default browser agent"
    );
    Assert.deepEqual(
      setDefaultExtensionHandlersUserChoiceStub.firstCall.args,
      expectedArguments,
      "Called default browser agent with expected arguments"
    );
    setDefaultExtensionHandlersUserChoiceStub.resetHistory();
  } finally {
    sandbox.restore();
  }
});



================================================
FILE: src/zen/tests/mochitests/shell/browser_setDesktopBackgroundPreview.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */

/**
 * Check whether the preview image for setDesktopBackground is rendered
 * correctly, without stretching
 */

add_setup(async function () {
  await SpecialPowers.pushPrefEnv({
    set: [["test.wait300msAfterTabSwitch", true]],
  });
});

add_task(async function () {
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "about:logo",
    },
    async () => {
      const dialogLoad = BrowserTestUtils.domWindowOpened(null, async win => {
        await BrowserTestUtils.waitForEvent(win, "load");
        Assert.equal(
          win.document.documentElement.getAttribute("windowtype"),
          "Shell:SetDesktopBackground",
          "Opened correct window"
        );
        return true;
      });

      const image = content.document.images[0];
      EventUtils.synthesizeMouseAtCenter(image, { type: "contextmenu" });

      const menu = document.getElementById("contentAreaContextMenu");
      await BrowserTestUtils.waitForPopupEvent(menu, "shown");
      const menuClosed = BrowserTestUtils.waitForPopupEvent(menu, "hidden");

      const menuItem = document.getElementById("context-setDesktopBackground");
      try {
        menu.activateItem(menuItem);
      } catch (ex) {
        ok(
          menuItem.hidden,
          "should only fail to activate when menu item is hidden"
        );
        ok(
          !ShellService.canSetDesktopBackground,
          "Should only hide when not able to set the desktop background"
        );
        is(
          AppConstants.platform,
          "linux",
          "Should always be able to set desktop background on non-linux platforms"
        );
        todo(false, "Skipping test on this configuration");

        menu.hidePopup();
        await menuClosed;
        return;
      }

      await menuClosed;

      const win = await dialogLoad;

      /* setDesktopBackground.js does a setTimeout to wait for correct
       dimensions. If we don't wait here we could read the preview dimensions
       before they're changed to match the screen */
      await TestUtils.waitForTick();

      const canvas = win.document.getElementById("screen");
      const screenRatio = screen.width / screen.height;
      const previewRatio = canvas.clientWidth / canvas.clientHeight;

      info(`Screen dimensions are ${screen.width}x${screen.height}`);
      info(`Screen's raw ratio is ${screenRatio}`);
      info(
        `Preview dimensions are ${canvas.clientWidth}x${canvas.clientHeight}`
      );
      info(`Preview's raw ratio is ${previewRatio}`);

      Assert.ok(
        previewRatio < screenRatio + 0.01 && previewRatio > screenRatio - 0.01,
        "Preview's aspect ratio is within ±.01 of screen's"
      );

      win.close();

      await menuClosed;
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/shell/head.js
================================================
"use strict";

const { Subprocess } = ChromeUtils.importESModule(
  "resource://gre/modules/Subprocess.sys.mjs"
);

const TEMP_DIR = Services.dirsvc.get("TmpD", Ci.nsIFile).path;

const screenshotPath = PathUtils.join(TEMP_DIR, "headless_test_screenshot.png");

async function runFirefox(args) {
  const XRE_EXECUTABLE_FILE = "XREExeF";
  const firefoxExe = Services.dirsvc.get(XRE_EXECUTABLE_FILE, Ci.nsIFile).path;
  const NS_APP_PREFS_50_FILE = "PrefF";
  const mochiPrefsFile = Services.dirsvc.get(NS_APP_PREFS_50_FILE, Ci.nsIFile);
  const mochiPrefsPath = mochiPrefsFile.path;
  const mochiPrefsName = mochiPrefsFile.leafName;
  const profilePath = PathUtils.join(
    TEMP_DIR,
    "headless_test_screenshot_profile"
  );
  const prefsPath = PathUtils.join(profilePath, mochiPrefsName);
  const firefoxArgs = ["-profile", profilePath];

  await IOUtils.makeDirectory(profilePath);
  await IOUtils.copy(mochiPrefsPath, prefsPath);
  let proc = await Subprocess.call({
    command: firefoxExe,
    arguments: firefoxArgs.concat(args),
    // Disable leak detection to avoid intermittent failure bug 1331152.
    environmentAppend: true,
    environment: {
      ASAN_OPTIONS:
        "detect_leaks=0:quarantine_size=50331648:malloc_context_size=5",
      // Don't enable Marionette.
      MOZ_MARIONETTE: null,
    },
  });
  let stdout;
  while ((stdout = await proc.stdout.readString())) {
    dump(`>>> ${stdout}\n`);
  }
  let { exitCode } = await proc.wait();
  is(exitCode, 0, "Firefox process should exit with code 0");
  await IOUtils.remove(profilePath, { recursive: true });
}

async function testFileCreationPositive(args, path) {
  await runFirefox(args);

  let saved = IOUtils.exists(path);
  ok(saved, "A screenshot should be saved as " + path);
  if (!saved) {
    return;
  }

  let info = await IOUtils.stat(path);
  Assert.greater(info.size, 0, "Screenshot should not be an empty file");
  await IOUtils.remove(path);
}

async function testFileCreationNegative(args, path) {
  await runFirefox(args);

  let saved = await IOUtils.exists(path);
  ok(!saved, "A screenshot should not be saved");
  await IOUtils.remove(path);
}

async function testWindowSizePositive(width, height) {
  let size = String(width);
  if (height) {
    size += "," + height;
  }

  await runFirefox([
    "-url",
    "http://mochi.test:8888/browser/browser/components/shell/test/headless.html",
    "-screenshot",
    screenshotPath,
    "-window-size",
    size,
  ]);

  let saved = await IOUtils.exists(screenshotPath);
  ok(saved, "A screenshot should be saved in the tmp directory");
  if (!saved) {
    return;
  }

  let data = await IOUtils.read(screenshotPath);
  await new Promise(resolve => {
    let blob = new Blob([data], { type: "image/png" });
    let reader = new FileReader();
    reader.onloadend = function () {
      let screenshot = new Image();
      screenshot.onload = function () {
        is(
          screenshot.width,
          width,
          "Screenshot should be " + width + " pixels wide"
        );
        if (height) {
          is(
            screenshot.height,
            height,
            "Screenshot should be " + height + " pixels tall"
          );
        }
        resolve();
      };
      screenshot.src = reader.result;
    };
    reader.readAsDataURL(blob);
  });
  await IOUtils.remove(screenshotPath);
}

async function testGreen(url, path) {
  await runFirefox(["-url", url, `--screenshot=${path}`]);

  let saved = await IOUtils.exists(path);
  ok(saved, "A screenshot should be saved in the tmp directory");
  if (!saved) {
    return;
  }

  let data = await IOUtils.read(path);
  let image = await new Promise(resolve => {
    let blob = new Blob([data], { type: "image/png" });
    let reader = new FileReader();
    reader.onloadend = function () {
      let screenshot = new Image();
      screenshot.onload = function () {
        resolve(screenshot);
      };
      screenshot.src = reader.result;
    };
    reader.readAsDataURL(blob);
  });
  let canvas = document.createElement("canvas");
  canvas.width = image.naturalWidth;
  canvas.height = image.naturalHeight;
  let ctx = canvas.getContext("2d");
  ctx.drawImage(image, 0, 0);
  let imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
  let rgba = imageData.data;

  let found = false;
  for (let i = 0; i < rgba.length; i += 4) {
    if (rgba[i] === 0 && rgba[i + 1] === 255 && rgba[i + 2] === 0) {
      found = true;
      break;
    }
  }
  ok(found, "There should be a green pixel in the screenshot.");

  await IOUtils.remove(path);
}



================================================
FILE: src/zen/tests/mochitests/shell/headless.html
================================================
<html>
<head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></head>
<body style="background-color: rgb(0, 255, 0); color: rgb(0, 0, 255)">
Hi
</body>
</html>



================================================
FILE: src/zen/tests/mochitests/shell/headless_cross_origin.html
================================================
<html>
<head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></head>
<body>
<iframe width="300" height="200" src="http://example.com/browser/browser/components/shell/test/headless_iframe.html"></iframe>
Hi
</body>
</html>



================================================
FILE: src/zen/tests/mochitests/shell/headless_iframe.html
================================================
<html>
<head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></head>
<body style="background-color: rgb(0, 255, 0);">
Hi
</body>
</html>



================================================
FILE: src/zen/tests/mochitests/shell/headless_redirect.html
================================================
[Empty file]


================================================
FILE: src/zen/tests/mochitests/shell/headless_redirect.html^headers^
================================================
HTTP 302 Moved Temporarily
Location: headless.html


================================================
FILE: src/zen/tests/mochitests/shell/mac_desktop_image.py
================================================
#!/usr/bin/python
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/. */

"""
mac_desktop_image.py

Mac-specific utility to get/set the desktop background image or check that
the current background image path matches a provided path.

Depends on Objective-C python binding imports which are in the python import
paths by default when using macOS's /usr/bin/python.

Includes generous amount of logging to aid debugging for use in automated tests.
"""

import argparse
import logging
import os
import sys

#
# These Objective-C bindings imports are included in the import path by default
# for the Mac-bundled python installed in /usr/bin/python. They're needed to
# call the Objective-C API's to set and retrieve the current desktop background
# image.
#
from AppKit import NSScreen, NSWorkspace
from Cocoa import NSURL


def main():
  parser = argparse.ArgumentParser(
      description="Utility to print, set, or "
      + "check the path to image being used as "
      + "the desktop background image. By "
      + "default, prints the path to the "
      + "current desktop background image."
  )
  parser.add_argument(
      "-v",
      "--verbose",
      action="store_true",
      help="print verbose debugging information",
      default=False,
  )
  group = parser.add_mutually_exclusive_group()
  group.add_argument(
      "-s",
      "--set-background-image",
      dest="newBackgroundImagePath",
      required=False,
      help="path to the new background image to set. A zero "
      + "exit code indicates no errors occurred.",
      default=None,
  )
  group.add_argument(
      "-c",
      "--check-background-image",
      dest="checkBackgroundImagePath",
      required=False,
      help="check if the provided background image path "
      + "matches the provided path. A zero exit code "
      + "indicates the paths match.",
      default=None,
  )
  args = parser.parse_args()

  # Using logging for verbose output
  if args.verbose:
    logging.basicConfig(level=logging.DEBUG)
  else:
    logging.basicConfig(level=logging.CRITICAL)
  logger = logging.getLogger("desktopImage")

  # Print what we're going to do
  if args.checkBackgroundImagePath is not None:
    logger.debug(
        "checking provided desktop image %s matches current "
        "image" % args.checkBackgroundImagePath
    )
  elif args.newBackgroundImagePath is not None:
    logger.debug("setting image to %s " % args.newBackgroundImagePath)
  else:
    logger.debug("retrieving desktop image path")

  focussedScreen = NSScreen.mainScreen()
  if not focussedScreen:
    raise RuntimeError("mainScreen error")

  ws = NSWorkspace.sharedWorkspace()
  if not ws:
    raise RuntimeError("sharedWorkspace error")

  # If we're just checking the image path, check it and then return.
  # A successful exit code (0) indicates the paths match.
  if args.checkBackgroundImagePath is not None:
    # Get existing desktop image path and resolve it
    existingImageURL = getCurrentDesktopImageURL(focussedScreen, ws, logger)
    existingImagePath = existingImageURL.path()
    existingImagePathReal = os.path.realpath(existingImagePath)
    logger.debug("existing desktop image: %s" % existingImagePath)
    logger.debug("existing desktop image realpath: %s" % existingImagePath)

    # Resolve the path we're going to check
    checkImagePathReal = os.path.realpath(args.checkBackgroundImagePath)
    logger.debug("check desktop image: %s" % args.checkBackgroundImagePath)
    logger.debug("check desktop image realpath: %s" % checkImagePathReal)

    if existingImagePathReal == checkImagePathReal:
      print("desktop image path matches provided path")
      return True

    print("desktop image path does NOT match provided path")
    return False

  # Log the current desktop image
  if args.verbose:
    existingImageURL = getCurrentDesktopImageURL(focussedScreen, ws, logger)
    logger.debug("existing desktop image: %s" % existingImageURL.path())

  # Set the desktop image
  if args.newBackgroundImagePath is not None:
    newImagePath = args.newBackgroundImagePath
    if not os.path.exists(newImagePath):
      logger.critical("%s does not exist" % newImagePath)
      return False
    if not os.access(newImagePath, os.R_OK):
      logger.critical("%s is not readable" % newImagePath)
      return False

    logger.debug("new desktop image to set: %s" % newImagePath)
    newImageURL = NSURL.fileURLWithPath_(newImagePath)
    logger.debug("new desktop image URL to set: %s" % newImageURL)

    status = False
    (status, error) = ws.setDesktopImageURL_forScreen_options_error_(
        newImageURL, focussedScreen, None, None
    )
    if not status:
      raise RuntimeError("setDesktopImageURL error")

  # Print the current desktop image
  imageURL = getCurrentDesktopImageURL(focussedScreen, ws, logger)
  imagePath = imageURL.path()
  imagePathReal = os.path.realpath(imagePath)
  logger.debug("updated desktop image URL: %s" % imageURL)
  logger.debug("updated desktop image path: %s" % imagePath)
  logger.debug("updated desktop image path (resolved): %s" % imagePathReal)
  print(imagePathReal)
  return True


def getCurrentDesktopImageURL(focussedScreen, workspace, logger):
  imageURL = workspace.desktopImageURLForScreen_(focussedScreen)
  if not imageURL:
    raise RuntimeError("desktopImageURLForScreen returned invalid URL")
  if not imageURL.isFileURL():
    logger.warning("desktop image URL is not a file URL")
  return imageURL


if __name__ == "__main__":
  if not main():
    sys.exit(1)
  else:
    sys.exit(0)



================================================
FILE: src/zen/tests/mochitests/shell/gtest/LimitedAccessFeatureTests.cpp
================================================
/* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 -*- */
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "gtest/gtest.h"

#include "Windows11LimitedAccessFeatures.h"
#include "WinUtils.h"

TEST(LimitedAccessFeature, VerifyGeneratedInfo)
{
  // If running on MSIX we have no guarantee that the
  // generated LAF info will match the known values.
  if (mozilla::widget::WinUtils::HasPackageIdentity()) {
    return;
  }

  LimitedAccessFeatureInfo knownLafInfo = {
      // Win11LimitedAccessFeatureType::Taskbar
      "Win11LimitedAccessFeatureType::Taskbar"_ns,      // debugName
      u"com.microsoft.windows.taskbar.pin"_ns,          // feature
      u"kRFiWpEK5uS6PMJZKmR7MQ=="_ns,                   // token
      u"pcsmm0jrprpb2 has registered their use of "_ns  // attestation
      u"com.microsoft.windows.taskbar.pin with Microsoft and agrees to the "_ns
      u"terms "_ns
      u"of use."_ns};

  auto generatedLafInfoResult = GenerateLimitedAccessFeatureInfo(
      "Win11LimitedAccessFeatureType::Taskbar"_ns,
      u"com.microsoft.windows.taskbar.pin"_ns);
  ASSERT_TRUE(generatedLafInfoResult.isOk());
  LimitedAccessFeatureInfo generatedLafInfo = generatedLafInfoResult.unwrap();

  // Check for equality between generated values and known good values
  ASSERT_TRUE(knownLafInfo.debugName.Equals(generatedLafInfo.debugName));
  ASSERT_TRUE(knownLafInfo.feature.Equals(generatedLafInfo.feature));
  ASSERT_TRUE(knownLafInfo.token.Equals(generatedLafInfo.token));
  ASSERT_TRUE(knownLafInfo.attestation.Equals(generatedLafInfo.attestation));
}



================================================
FILE: src/zen/tests/mochitests/shell/gtest/moz.build
================================================
# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-
# vim: set filetype=python:
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

if CONFIG["MOZ_WIDGET_TOOLKIT"] == "windows":
    LOCAL_INCLUDES += ["/browser/components/shell"]

    UNIFIED_SOURCES += [
        "LimitedAccessFeatureTests.cpp",
        "ShellLinkTests.cpp",
    ]

FINAL_LIBRARY = "xul-gtest"



================================================
FILE: src/zen/tests/mochitests/shell/gtest/ShellLinkTests.cpp
================================================
/* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 -*- */
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "gtest/gtest.h"

#include "nsDirectoryServiceDefs.h"
#include "nsDirectoryServiceUtils.h"
#include "nsWindowsShellServiceInternal.h"
#include "nsXULAppAPI.h"

TEST(ShellLink, NarrowCharacterArguments)
{
  nsCOMPtr<nsIFile> exe;
  nsresult rv = NS_GetSpecialDirectory(NS_OS_TEMP_DIR, getter_AddRefs(exe));
  ASSERT_TRUE(NS_SUCCEEDED(rv));

  RefPtr<IShellLinkW> link;
  rv = CreateShellLinkObject(exe, {u"test"_ns}, u"test"_ns, exe, 0, u"aumid"_ns,
                             getter_AddRefs(link));
  ASSERT_TRUE(NS_SUCCEEDED(rv));
  ASSERT_TRUE(link != nullptr);

  std::wstring testArgs = L"\"test\" ";

  wchar_t resultArgs[sizeof(testArgs)];
  HRESULT hr = link->GetArguments(resultArgs, sizeof(resultArgs));
  ASSERT_TRUE(SUCCEEDED(hr));

  ASSERT_TRUE(testArgs == resultArgs);
}

TEST(ShellLink, WideCharacterArguments)
{
  nsCOMPtr<nsIFile> exe;
  nsresult rv = NS_GetSpecialDirectory(NS_OS_TEMP_DIR, getter_AddRefs(exe));
  ASSERT_TRUE(NS_SUCCEEDED(rv));

  RefPtr<IShellLinkW> link;
  rv = CreateShellLinkObject(exe, {u"Test\\テスト用アカウント\\Test"_ns},
                             u"test"_ns, exe, 0, u"aumid"_ns,
                             getter_AddRefs(link));
  ASSERT_TRUE(NS_SUCCEEDED(rv));
  ASSERT_TRUE(link != nullptr);

  std::wstring testArgs = L"\"Test\\テスト用アカウント\\Test\" ";

  wchar_t resultArgs[sizeof(testArgs)];
  HRESULT hr = link->GetArguments(resultArgs, sizeof(resultArgs));
  ASSERT_TRUE(SUCCEEDED(hr));

  ASSERT_TRUE(testArgs == resultArgs);
}



================================================
FILE: src/zen/tests/mochitests/shell/unit/test_macOS_showSecurityPreferences.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * https://creativecommons.org/publicdomain/zero/1.0/ */

/**
 * Test the macOS ShowSecurityPreferences shell service method.
 */

"use strict";

// eslint-disable-next-line mozilla/no-redeclare-with-import-autofix
const { AppConstants } = ChromeUtils.importESModule(
  "resource://gre/modules/AppConstants.sys.mjs"
);

function killSystemPreferences() {
  let killallFile = Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsIFile);
  killallFile.initWithPath("/usr/bin/killall");
  let sysPrefsArg = ["System Preferences"];
  if (AppConstants.isPlatformAndVersionAtLeast("macosx", 22)) {
    sysPrefsArg = ["System Settings"];
  }
  let process = Cc["@mozilla.org/process/util;1"].createInstance(Ci.nsIProcess);
  process.init(killallFile);
  process.run(true, sysPrefsArg, 1);
  return process.exitValue;
}

add_setup(async function () {
  info("Ensure System Preferences isn't already running");
  killSystemPreferences();
});

add_task(async function test_prefsOpen() {
  let shellSvc = Cc["@mozilla.org/browser/shell-service;1"].getService(
    Ci.nsIMacShellService
  );
  shellSvc.showSecurityPreferences("Privacy_AllFiles");

  equal(killSystemPreferences(), 0, "Ensure System Preferences was started");
});



================================================
FILE: src/zen/tests/mochitests/shell/unit/xpcshell.toml
================================================
[DEFAULT]
run-if = [
  "os != 'android'",
]
firefox-appdir = "browser"
tags = "os_integration"

["test_macOS_showSecurityPreferences.js"]
run-if = [
  "os == 'mac'",
]



================================================
FILE: src/zen/tests/mochitests/tooltiptext/browser.toml
================================================
[DEFAULT]

["browser_bug329212.js"]
support-files = ["title_test.svg"]

["browser_bug331772_xul_tooltiptext_in_html.js"]
support-files = ["xul_tooltiptext.xhtml"]

["browser_bug561623.js"]

["browser_bug581947.js"]

["browser_input_file_tooltips.js"]

["browser_nac_tooltip.js"]

["browser_shadow_dom_tooltip.js"]



================================================
FILE: src/zen/tests/mochitests/tooltiptext/browser_bug329212.js
================================================
"use strict";

add_task(async function () {
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "http://mochi.test:8888/browser/toolkit/components/tooltiptext/tests/title_test.svg",
    },
    async function (browser) {
      await SpecialPowers.spawn(browser, [""], function () {
        let tttp = Cc[
          "@mozilla.org/embedcomp/default-tooltiptextprovider;1"
        ].getService(Ci.nsITooltipTextProvider);
        function checkElement(id, expectedTooltipText) {
          let el = content.document.getElementById(id);
          let textObj = {};
          let shouldHaveTooltip = expectedTooltipText !== null;
          is(
            tttp.getNodeText(el, textObj, {}),
            shouldHaveTooltip,
            "element " +
              id +
              " should " +
              (shouldHaveTooltip ? "" : "not ") +
              "have a tooltip"
          );
          if (shouldHaveTooltip) {
            is(
              textObj.value,
              expectedTooltipText,
              "element " + id + " should have the right tooltip text"
            );
          }
        }
        checkElement("svg1", "This is a non-root SVG element title");
        checkElement("text1", "\n\n\n    This            is a title\n\n    ");
        checkElement("text2", null);
        checkElement("text3", null);
        checkElement("link1", "\n      This is a title\n    ");
        checkElement("text4", "\n      This is a title\n    ");
        checkElement("link2", null);
        checkElement("link3", "This is an xlink:title attribute");
        checkElement("link4", "This is an xlink:title attribute");
        checkElement("text5", null);
      });
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/tooltiptext/browser_bug331772_xul_tooltiptext_in_html.js
================================================
/**
 * Tests that the tooltiptext attribute is used for XUL elements in an HTML doc.
 */
add_task(async function () {
  await SpecialPowers.pushPermissions([
    { type: "allowXULXBL", allow: true, context: "http://mochi.test:8888" },
  ]);

  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "http://mochi.test:8888/browser/toolkit/components/tooltiptext/tests/xul_tooltiptext.xhtml",
    },
    async function (browser) {
      await SpecialPowers.spawn(browser, [""], function () {
        let textObj = {};
        let tttp = Cc[
          "@mozilla.org/embedcomp/default-tooltiptextprovider;1"
        ].getService(Ci.nsITooltipTextProvider);
        let xulToolbarButton =
          content.document.getElementById("xulToolbarButton");
        ok(
          tttp.getNodeText(xulToolbarButton, textObj, {}),
          "should get tooltiptext"
        );
        is(textObj.value, "XUL tooltiptext");
      });
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/tooltiptext/browser_bug561623.js
================================================
add_task(async function () {
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "data:text/html,<!DOCTYPE html><html><body><input id='i'></body></html>",
    },
    async function (browser) {
      await SpecialPowers.spawn(browser, [""], function () {
        let tttp = Cc[
          "@mozilla.org/embedcomp/default-tooltiptextprovider;1"
        ].getService(Ci.nsITooltipTextProvider);
        let i = content.document.getElementById("i");

        ok(
          !tttp.getNodeText(i, {}, {}),
          "No tooltip should be shown when @title is null"
        );

        i.title = "foo";
        ok(
          tttp.getNodeText(i, {}, {}),
          "A tooltip should be shown when @title is not the empty string"
        );

        i.pattern = "bar";
        ok(
          tttp.getNodeText(i, {}, {}),
          "A tooltip should be shown when @title is not the empty string"
        );
      });
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/tooltiptext/browser_bug581947.js
================================================
function check(aBrowser, aElementName, aBarred, aType) {
  return SpecialPowers.spawn(
    aBrowser,
    [[aElementName, aBarred, aType]],
    async function ([aElementName, aBarred, aType]) {
      let e = content.document.createElement(aElementName);
      let contentElement = content.document.getElementById("content");
      contentElement.appendChild(e);

      if (aType) {
        e.type = aType;
      }

      let tttp = Cc[
        "@mozilla.org/embedcomp/default-tooltiptextprovider;1"
      ].getService(Ci.nsITooltipTextProvider);
      ok(
        !tttp.getNodeText(e, {}, {}),
        "No tooltip should be shown when the element is valid"
      );

      e.setCustomValidity("foo");
      if (aBarred) {
        ok(
          !tttp.getNodeText(e, {}, {}),
          "No tooltip should be shown when the element is barred from constraint validation"
        );
      } else {
        ok(
          tttp.getNodeText(e, {}, {}),
          e.tagName + " A tooltip should be shown when the element isn't valid"
        );
      }

      e.setAttribute("title", "");
      ok(
        !tttp.getNodeText(e, {}, {}),
        "No tooltip should be shown if the title attribute is set"
      );

      e.removeAttribute("title");
      contentElement.setAttribute("novalidate", "");
      ok(
        !tttp.getNodeText(e, {}, {}),
        "No tooltip should be shown if the novalidate attribute is set on the form owner"
      );
      contentElement.removeAttribute("novalidate");

      e.remove();
    }
  );
}

function todo_check(aBrowser, aElementName, aBarred) {
  return SpecialPowers.spawn(
    aBrowser,
    [[aElementName, aBarred]],
    async function ([aElementName]) {
      let e = content.document.createElement(aElementName);
      let contentElement = content.document.getElementById("content");
      contentElement.appendChild(e);

      let caught = false;
      try {
        e.setCustomValidity("foo");
      } catch (e) {
        caught = true;
      }

      todo(!caught, "setCustomValidity should exist for " + aElementName);

      e.remove();
    }
  );
}

add_task(async function () {
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "data:text/html,<!DOCTYPE html><html><body><form id='content'></form></body></html>",
    },
    async function (browser) {
      let testData = [
        /* element name, barred */
        ["input", false, null],
        ["textarea", false, null],
        ["button", true, "button"],
        ["button", false, "submit"],
        ["select", false, null],
        ["output", true, null],
        ["fieldset", true, null],
        ["object", true, null],
      ];

      for (let data of testData) {
        await check(browser, data[0], data[1], data[2]);
      }

      let todo_testData = [["keygen", "false"]];

      for (let data of todo_testData) {
        await todo_check(browser, data[0], data[1]);
      }
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/tooltiptext/browser_input_file_tooltips.js
================================================
/* eslint-disable mozilla/no-arbitrary-setTimeout */

let tempFile;
add_setup(async function () {
  await SpecialPowers.pushPrefEnv({ set: [["ui.tooltip.delay_ms", 0]] });
  tempFile = createTempFile();
  registerCleanupFunction(function () {
    tempFile.remove(true);
  });
});

add_task(async function test_singlefile_selected() {
  await do_test({ value: true, result: "testfile_bug1251809" });
});

add_task(async function test_title_set() {
  await do_test({ title: "foo", result: "foo" });
});

add_task(async function test_nofile_selected() {
  await do_test({ result: "No file selected." });
});

add_task(async function test_multipleset_nofile_selected() {
  await do_test({ multiple: true, result: "No files selected." });
});

add_task(async function test_requiredset() {
  await do_test({ required: true, result: "Please select a file." });
});

async function do_test(test) {
  info(`starting test ${JSON.stringify(test)}`);

  let tab = await BrowserTestUtils.openNewForegroundTab(gBrowser);

  info("Moving mouse out of the way.");
  await EventUtils.synthesizeAndWaitNativeMouseMove(
    tab.linkedBrowser,
    300,
    300
  );

  info("creating input field");
  await SpecialPowers.spawn(tab.linkedBrowser, [test], async function (test) {
    let doc = content.document;
    let input = doc.createElement("input");
    doc.body.appendChild(input);
    input.id = "test_input";
    input.setAttribute("style", "position: absolute; top: 0; left: 0;");
    input.type = "file";
    if (test.title) {
      input.setAttribute("title", test.title);
    }
    if (test.multiple) {
      input.multiple = true;
    }
    if (test.required) {
      input.required = true;
    }
  });

  if (test.value) {
    info("Creating mock filepicker to select files");
    let MockFilePicker = SpecialPowers.MockFilePicker;
    MockFilePicker.init(window.browsingContext);
    MockFilePicker.returnValue = MockFilePicker.returnOK;
    MockFilePicker.displayDirectory = FileUtils.getDir("TmpD", []);
    MockFilePicker.setFiles([tempFile]);
    MockFilePicker.afterOpenCallback = MockFilePicker.cleanup;

    try {
      // Open the File Picker dialog (MockFilePicker) to select
      // the files for the test.
      await BrowserTestUtils.synthesizeMouseAtCenter(
        "#test_input",
        {},
        tab.linkedBrowser
      );
      info("Waiting for the input to have the requisite files");
      await SpecialPowers.spawn(tab.linkedBrowser, [], async function () {
        let input = content.document.querySelector("#test_input");
        await ContentTaskUtils.waitForCondition(
          () => input.files.length,
          "The input should have at least one file selected"
        );
        info(`The input has ${input.files.length} file(s) selected.`);
      });
    } catch (e) {}
  } else {
    info("No real file selection required.");
  }

  let awaitTooltipOpen = new Promise(resolve => {
    let tooltipId = Services.appinfo.browserTabsRemoteAutostart
      ? "remoteBrowserTooltip"
      : "aHTMLTooltip";
    let tooltip = document.getElementById(tooltipId);
    tooltip.addEventListener(
      "popupshown",
      function (event) {
        resolve(event.target);
      },
      { once: true }
    );
  });
  info("Initial mouse move");
  await EventUtils.synthesizeAndWaitNativeMouseMove(tab.linkedBrowser, 50, 5);
  info("Waiting");
  await new Promise(resolve => setTimeout(resolve, 400));
  info("Second mouse move");
  await EventUtils.synthesizeAndWaitNativeMouseMove(tab.linkedBrowser, 70, 5);
  info("Waiting for tooltip to open");
  let tooltip = await awaitTooltipOpen;

  is(
    tooltip.getAttribute("label"),
    test.result,
    "tooltip label should match expectation"
  );

  info("Closing tab");
  BrowserTestUtils.removeTab(tab);
}

function createTempFile() {
  let file = FileUtils.getDir("TmpD", []);
  file.append("testfile_bug1251809");
  file.create(Ci.nsIFile.NORMAL_FILE_TYPE, 0o644);
  return file;
}



================================================
FILE: src/zen/tests/mochitests/tooltiptext/browser_nac_tooltip.js
================================================
/* Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/publicdomain/zero/1.0/ */
/* eslint-disable mozilla/no-arbitrary-setTimeout */

"use strict";

add_setup(async function () {
  await SpecialPowers.pushPrefEnv({ set: [["ui.tooltip.delay_ms", 0]] });
});

add_task(async function () {
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "data:text/html,<!DOCTYPE html>",
    },
    async function (browser) {
      info("Moving mouse out of the way.");
      await EventUtils.synthesizeAndWaitNativeMouseMove(browser, 300, 300);

      await SpecialPowers.spawn(browser, [], function () {
        let widget = content.document.insertAnonymousContent();
        widget.root.innerHTML = `<button style="pointer-events: auto; position: absolute; width: 200px; height: 200px;" title="foo">bar</button>`;
        let tttp = Cc[
          "@mozilla.org/embedcomp/default-tooltiptextprovider;1"
        ].getService(Ci.nsITooltipTextProvider);

        let text = {};
        let dir = {};
        ok(
          tttp.getNodeText(widget.root.querySelector("button"), text, dir),
          "A tooltip should be shown for NAC"
        );
        is(text.value, "foo", "Tooltip text should be correct");
      });

      let awaitTooltipOpen = new Promise(resolve => {
        let tooltipId = Services.appinfo.browserTabsRemoteAutostart
          ? "remoteBrowserTooltip"
          : "aHTMLTooltip";
        let tooltip = document.getElementById(tooltipId);
        tooltip.addEventListener(
          "popupshown",
          function (event) {
            resolve(event.target);
          },
          { once: true }
        );
      });

      info("Initial mouse move");
      await EventUtils.synthesizeAndWaitNativeMouseMove(browser, 50, 5);
      info("Waiting");
      await new Promise(resolve => setTimeout(resolve, 400));
      info("Second mouse move");
      await EventUtils.synthesizeAndWaitNativeMouseMove(browser, 70, 5);
      info("Waiting for tooltip to open");
      let tooltip = await awaitTooltipOpen;
      is(
        tooltip.getAttribute("label"),
        "foo",
        "tooltip label should match expectation"
      );
    }
  );
});



================================================
FILE: src/zen/tests/mochitests/tooltiptext/browser_shadow_dom_tooltip.js
================================================
/* eslint-disable mozilla/no-arbitrary-setTimeout */

add_setup(async function () {
  await SpecialPowers.pushPrefEnv({ set: [["ui.tooltip.delay_ms", 0]] });
});

add_task(async function test_title_in_shadow_dom() {
  let tab = await BrowserTestUtils.openNewForegroundTab(gBrowser);

  info("Moving mouse out of the way.");
  await EventUtils.synthesizeAndWaitNativeMouseMove(
    tab.linkedBrowser,
    300,
    300
  );

  info("creating host");
  await SpecialPowers.spawn(tab.linkedBrowser, [], async function () {
    let doc = content.document;
    let host = doc.createElement("div");
    doc.body.appendChild(host);
    host.setAttribute("style", "position: absolute; top: 0; left: 0;");
    var sr = host.attachShadow({ mode: "closed" });
    sr.innerHTML =
      "<div title='shadow' style='width: 200px; height: 200px;'>shadow</div>";
  });

  let awaitTooltipOpen = new Promise(resolve => {
    let tooltipId = Services.appinfo.browserTabsRemoteAutostart
      ? "remoteBrowserTooltip"
      : "aHTMLTooltip";
    let tooltip = document.getElementById(tooltipId);
    tooltip.addEventListener(
      "popupshown",
      function (event) {
        resolve(event.target);
      },
      { once: true }
    );
  });
  info("Initial mouse move");
  await EventUtils.synthesizeAndWaitNativeMouseMove(tab.linkedBrowser, 50, 5);
  info("Waiting");
  await new Promise(resolve => setTimeout(resolve, 400));
  info("Second mouse move");
  await EventUtils.synthesizeAndWaitNativeMouseMove(tab.linkedBrowser, 70, 5);
  info("Waiting for tooltip to open");
  let tooltip = await awaitTooltipOpen;

  is(
    tooltip.getAttribute("label"),
    "shadow",
    "tooltip label should match expectation"
  );

  info("Closing tab");
  BrowserTestUtils.removeTab(tab);
});

add_task(async function test_title_in_light_dom() {
  let tab = await BrowserTestUtils.openNewForegroundTab(gBrowser);

  info("Moving mouse out of the way.");
  await EventUtils.synthesizeAndWaitNativeMouseMove(
    tab.linkedBrowser,
    300,
    300
  );

  info("creating host");
  await SpecialPowers.spawn(tab.linkedBrowser, [], async function () {
    let doc = content.document;
    let host = doc.createElement("div");
    host.title = "light";
    doc.body.appendChild(host);
    host.setAttribute("style", "position: absolute; top: 0; left: 0;");
    var sr = host.attachShadow({ mode: "closed" });
    sr.innerHTML = "<div style='width: 200px; height: 200px;'>shadow</div>";
  });

  let awaitTooltipOpen = new Promise(resolve => {
    let tooltipId = Services.appinfo.browserTabsRemoteAutostart
      ? "remoteBrowserTooltip"
      : "aHTMLTooltip";
    let tooltip = document.getElementById(tooltipId);
    tooltip.addEventListener(
      "popupshown",
      function (event) {
        resolve(event.target);
      },
      { once: true }
    );
  });
  info("Initial mouse move");
  await EventUtils.synthesizeAndWaitNativeMouseMove(tab.linkedBrowser, 50, 5);
  info("Waiting");
  await new Promise(resolve => setTimeout(resolve, 400));
  info("Second mouse move");
  await EventUtils.synthesizeAndWaitNativeMouseMove(tab.linkedBrowser, 70, 5);
  info("Waiting for tooltip to open");
  let tooltip = await awaitTooltipOpen;

  is(
    tooltip.getAttribute("label"),
    "light",
    "tooltip label should match expectation"
  );

  info("Closing tab");
  BrowserTestUtils.removeTab(tab);
});

add_task(async function test_title_through_slot() {
  let tab = await BrowserTestUtils.openNewForegroundTab(gBrowser);

  info("Moving mouse out of the way.");
  await EventUtils.synthesizeAndWaitNativeMouseMove(
    tab.linkedBrowser,
    300,
    300
  );

  info("creating host");
  await SpecialPowers.spawn(tab.linkedBrowser, [], async function () {
    let doc = content.document;
    let host = doc.createElement("div");
    host.title = "light";
    host.innerHTML = "<div style='width: 200px; height: 200px;'>light</div>";
    doc.body.appendChild(host);
    host.setAttribute("style", "position: absolute; top: 0; left: 0;");
    var sr = host.attachShadow({ mode: "closed" });
    sr.innerHTML =
      "<div title='shadow' style='width: 200px; height: 200px;'><slot></slot></div>";
  });

  let awaitTooltipOpen = new Promise(resolve => {
    let tooltipId = Services.appinfo.browserTabsRemoteAutostart
      ? "remoteBrowserTooltip"
      : "aHTMLTooltip";
    let tooltip = document.getElementById(tooltipId);
    tooltip.addEventListener(
      "popupshown",
      function (event) {
        resolve(event.target);
      },
      { once: true }
    );
  });
  info("Initial mouse move");
  await EventUtils.synthesizeAndWaitNativeMouseMove(tab.linkedBrowser, 50, 5);
  info("Waiting");
  await new Promise(resolve => setTimeout(resolve, 400));
  info("Second mouse move");
  await EventUtils.synthesizeAndWaitNativeMouseMove(tab.linkedBrowser, 70, 5);
  info("Waiting for tooltip to open");
  let tooltip = await awaitTooltipOpen;

  is(
    tooltip.getAttribute("label"),
    "shadow",
    "tooltip label should match expectation"
  );

  info("Closing tab");
  BrowserTestUtils.removeTab(tab);
});



================================================
FILE: src/zen/tests/mochitests/tooltiptext/xul_tooltiptext.xhtml
================================================
<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  <xul:toolbox xmlns:html="http://www.w3.org/1999/xhtml"
               xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
      <toolbar>
          <toolbarbutton id="xulToolbarButton"
                         tooltiptext="XUL tooltiptext"
                         title="XUL title"/>
      </toolbar>
  </xul:toolbox>
</html>



================================================
FILE: src/zen/tests/pinned/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
prefs = ["zen.workspaces.separate-essentials=false"]

["browser_pinned_unload_changed.js"]
["browser_pinned_unload_noreset.js"]
["browser_pinned_nounload_reset.js"]
["browser_pinned_switch.js"]
["browser_pinned_reset_noswitch.js"]
["browser_pinned_close.js"]
["browser_pinned_changed.js"]
["browser_pinned_created.js"]
["browser_pinned_to_essential.js"]

["browser_issue_8726.js"]



================================================
FILE: src/zen/tests/pinned/browser_issue_8726.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

const { TabStateFlusher } = ChromeUtils.importESModule(
  "resource:///modules/sessionstore/TabStateFlusher.sys.mjs"
);

async function makeNewEmptyTab() {
  let tab = await BrowserTestUtils.openNewForegroundTab(gBrowser, "about:blank");
  gBrowser.selectedTab = tab;
  return tab;
}

add_task(async function test_Restore_Pinned_Tab() {
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "https://example.com/",
    },
    async function (browser) {
      let tab = gBrowser.getTabForBrowser(browser);
      gBrowser.pinTab(tab);
      ok(tab.pinned, "The tab should be pinned after being created");
      await BrowserTestUtils.removeTab(tab);
      await TabStateFlusher.flushWindow(window);
      SessionWindowUI.restoreLastClosedTabOrWindowOrSession(window);
      tab = gBrowser.selectedTab;
      ok(tab.pinned, "The tab should be pinned after restore");
      ok(
        tab.parentElement.closest(".zen-workspace-pinned-tabs-section"),
        "The tab should be in the pinned tabs section after restore"
      );
      await makeNewEmptyTab();
      await BrowserTestUtils.removeTab(tab);
    }
  );
});

add_task(async function test_Restore_Essential_Tab() {
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "https://example.com/",
    },
    async function (browser) {
      let tab = gBrowser.getTabForBrowser(browser);
      gZenPinnedTabManager.addToEssentials(tab);
      ok(
        tab.hasAttribute("zen-essential"),
        "The tab should be marked as essential after being created"
      );
      await BrowserTestUtils.removeTab(tab);
      await TabStateFlusher.flushWindow(window);
      SessionWindowUI.restoreLastClosedTabOrWindowOrSession(window);
      tab = gBrowser.selectedTab;
      ok(tab.hasAttribute("zen-essential"), "The tab should be marked as essential after restore");
      ok(
        tab.parentElement.closest(".zen-essentials-container"),
        "The tab should be in the essentials tabs section after restore"
      );
      await BrowserTestUtils.removeTab(tab);
    }
  );
});



================================================
FILE: src/zen/tests/pinned/browser_pinned_changed.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Changed_Pinned() {
  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  await BrowserTestUtils.withNewTab({ gBrowser, url: "https://example.com/1" }, async (browser) => {
    const tab = gBrowser.getTabForBrowser(browser);
    gBrowser.pinTab(tab);

    ok(tab.pinned, "The tab should be pinned after calling gBrowser.pinTab()");

    await gBrowser.TabStateFlusher.flush(browser);
    await new Promise((r) => setTimeout(r, 500));
    BrowserTestUtils.startLoadingURIString(browser, "https://example.com/2");
    await BrowserTestUtils.browserLoaded(browser, false, "https://example.com/2");
    setTimeout(() => {
      ok(
        tab.hasAttribute("zen-pinned-changed"),
        "The tab should have a zen-pinned-changed attribute after being pinned"
      );
      resolvePromise();
    }, 500);

    await promise;
  });
});



================================================
FILE: src/zen/tests/pinned/browser_pinned_close.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Unload_NoReset_Pinned() {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.pinned-tab-manager.close-shortcut-behavior", "close"]],
  });

  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  await BrowserTestUtils.withNewTab({ gBrowser, url: "https://example.com/1" }, async (browser) => {
    const tab = gBrowser.getTabForBrowser(browser);
    gBrowser.pinTab(tab);

    document.getElementById("cmd_close").doCommand();
    // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
    setTimeout(() => {
      ok(tab.closing, "The tab should be closing after being closed");
      resolvePromise();
    }, 100);
    await promise;
  });
});



================================================
FILE: src/zen/tests/pinned/browser_pinned_created.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Create_Pinned() {
  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "https://example.com/", true);

  const newTab = gBrowser.selectedTab;
  gBrowser.pinTab(newTab);
  await gBrowser.TabStateFlusher.flush(newTab.linkedBrowser);

  ok(newTab.pinned, "The tab should be pinned after calling gBrowser.pinTab()");

  await new Promise((r) => setTimeout(r, 500));
  const pinObject = newTab._zenPinnedInitialState;
  ok(pinObject, "The pin object should be created in the tab's _zenPinnedInitialState");
  Assert.equal(
    pinObject.entry.url,
    "https://example.com/",
    "The pin object should have the correct URL"
  );

  resolvePromise();

  await promise;
  await BrowserTestUtils.removeTab(newTab);
});



================================================
FILE: src/zen/tests/pinned/browser_pinned_nounload_reset.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_NoUnload_Changed_Pinned() {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.pinned-tab-manager.close-shortcut-behavior", "reset-switch"]],
  });

  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  await BrowserTestUtils.withNewTab({ gBrowser, url: "https://example.com/1" }, async (browser) => {
    const tab = gBrowser.getTabForBrowser(browser);
    gBrowser.pinTab(tab);

    BrowserTestUtils.startLoadingURIString(browser, "https://example.com/2");
    await BrowserTestUtils.browserLoaded(browser, false, "https://example.com/2");
    await gBrowser.TabStateFlusher.flush(browser);
    setTimeout(() => {
      ok(
        tab.hasAttribute("zen-pinned-changed"),
        "The tab should have a zen-pinned-changed attribute after being pinned"
      );
      document.getElementById("cmd_close").doCommand();
      // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
      setTimeout(() => {
        ok(
          !tab.hasAttribute("zen-pinned-changed"),
          "The tab should not have a zen-pinned-changed attribute after being closed"
        );
        ok(!tab.hasAttribute("discarded"), "The tab should not be discarded after being closed");
        Assert.notEqual(
          tab,
          gBrowser.selectedTab,
          "The tab should not be selected after being closed"
        );
        resolvePromise();
      }, 100);
    }, 0);
    await promise;
  });
});



================================================
FILE: src/zen/tests/pinned/browser_pinned_reset_noswitch.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Unload_NoReset_Pinned() {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.pinned-tab-manager.close-shortcut-behavior", "reset"]],
  });

  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  await BrowserTestUtils.withNewTab({ gBrowser, url: "https://example.com/1" }, async (browser) => {
    const tab = gBrowser.getTabForBrowser(browser);
    gBrowser.pinTab(tab);

    BrowserTestUtils.startLoadingURIString(browser, "https://example.com/2");
    await BrowserTestUtils.browserLoaded(browser, false, "https://example.com/2");
    await gBrowser.TabStateFlusher.flush(browser);
    setTimeout(() => {
      ok(
        tab.hasAttribute("zen-pinned-changed"),
        "The tab should have a zen-pinned-changed attribute after being pinned"
      );
      document.getElementById("cmd_close").doCommand();
      // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
      setTimeout(() => {
        ok(
          !tab.hasAttribute("zen-pinned-changed"),
          "The tab should not have a zen-pinned-changed attribute after being closed"
        );
        ok(!tab.hasAttribute("discarded"), "The tab should not be discarded after being closed");
        Assert.strictEqual(
          tab,
          gBrowser.selectedTab,
          "The tab should not be selected after being closed"
        );
        resolvePromise();
      }, 100);
    }, 0);
    await promise;
  });
});



================================================
FILE: src/zen/tests/pinned/browser_pinned_switch.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Unload_NoReset_Pinned() {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.pinned-tab-manager.close-shortcut-behavior", "switch"]],
  });

  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  await BrowserTestUtils.withNewTab({ gBrowser, url: "https://example.com/1" }, async (browser) => {
    const tab = gBrowser.getTabForBrowser(browser);
    gBrowser.pinTab(tab);

    BrowserTestUtils.startLoadingURIString(browser, "https://example.com/2");
    await BrowserTestUtils.browserLoaded(browser, false, "https://example.com/2");
    await gBrowser.TabStateFlusher.flush(browser);
    setTimeout(() => {
      ok(
        tab.hasAttribute("zen-pinned-changed"),
        "The tab should have a zen-pinned-changed attribute after being pinned"
      );
      document.getElementById("cmd_close").doCommand();
      // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
      setTimeout(() => {
        ok(
          tab.hasAttribute("zen-pinned-changed"),
          "The tab should not have a zen-pinned-changed attribute after being closed"
        );
        ok(!tab.hasAttribute("discarded"), "The tab should not be discarded after being closed");
        Assert.notEqual(
          tab,
          gBrowser.selectedTab,
          "The tab should not be selected after being closed"
        );
        resolvePromise();
      }, 100);
    }, 0);
    await promise;
  });
});



================================================
FILE: src/zen/tests/pinned/browser_pinned_to_essential.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Pinned_To_Essential() {
  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "https://example.com/", true);

  const newTab = gBrowser.selectedTab;
  gBrowser.pinTab(newTab);

  ok(newTab.pinned, "The tab should be pinned after calling gBrowser.pinTab()");

  gZenPinnedTabManager.addToEssentials(newTab);
  ok(
    newTab.hasAttribute("zen-essential") && newTab.parentNode.getAttribute("container") == "0",
    "New tab should be marked as essential."
  );

  resolvePromise();

  await promise;
  await BrowserTestUtils.removeTab(newTab);
});



================================================
FILE: src/zen/tests/pinned/browser_pinned_unload_changed.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Unload_Changed_Pinned() {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.pinned-tab-manager.close-shortcut-behavior", "reset-unload-switch"]],
  });

  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  await BrowserTestUtils.withNewTab({ gBrowser, url: "https://example.com/1" }, async (browser) => {
    const tab = gBrowser.getTabForBrowser(browser);
    gBrowser.pinTab(tab);

    BrowserTestUtils.startLoadingURIString(browser, "https://example.com/2");
    await BrowserTestUtils.browserLoaded(browser, false, "https://example.com/2");
    await gBrowser.TabStateFlusher.flush(browser);
    setTimeout(() => {
      ok(
        tab.hasAttribute("zen-pinned-changed"),
        "The tab should have a zen-pinned-changed attribute after being pinned"
      );
      document.getElementById("cmd_close").doCommand();
      // eslint-disable-next-line mozilla/no-arbitrary-setTimeout
      setTimeout(() => {
        ok(
          !tab.hasAttribute("zen-pinned-changed"),
          "The tab should not have a zen-pinned-changed attribute after being closed"
        );

        ok(tab.hasAttribute("discarded"), "The tab should not be discarded after being closed");
        Assert.notEqual(
          tab,
          gBrowser.selectedTab,
          "The tab should not be selected after being closed"
        );
        resolvePromise();
      }, 100);
    }, 0);
    await promise;
  });
});



================================================
FILE: src/zen/tests/pinned/browser_pinned_unload_noreset.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Unload_NoReset_Pinned() {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.pinned-tab-manager.close-shortcut-behavior", "unload-switch"]],
  });

  let resolvePromise;
  const promise = new Promise((resolve) => {
    resolvePromise = resolve;
  });

  await BrowserTestUtils.withNewTab({ gBrowser, url: "https://example.com/1" }, async (browser) => {
    const tab = gBrowser.getTabForBrowser(browser);
    gBrowser.pinTab(tab);

    BrowserTestUtils.startLoadingURIString(browser, "https://example.com/2");
    await BrowserTestUtils.browserLoaded(browser, false, "https://example.com/2");
    await gBrowser.TabStateFlusher.flush(browser);
    /* eslint-disable-next-line mozilla/no-arbitrary-setTimeout */
    setTimeout(() => {
      ok(
        tab.hasAttribute("zen-pinned-changed"),
        "The tab should have a zen-pinned-changed attribute after being pinned"
      );
      document.getElementById("cmd_close").doCommand();
      /* eslint-disable-next-line mozilla/no-arbitrary-setTimeout */
      setTimeout(() => {
        ok(
          tab.hasAttribute("zen-pinned-changed"),
          "The tab should not have a zen-pinned-changed attribute after being closed"
        );
        ok(tab.hasAttribute("discarded"), "The tab should not be discarded after being closed");
        Assert.notEqual(
          tab,
          gBrowser.selectedTab,
          "The tab should not be selected after being closed"
        );
        resolvePromise();
      }, 100);
    }, 0);
    await promise;
  });
});



================================================
FILE: src/zen/tests/split_view/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
support-files = [
  "head.js",
  "!/zen/tests/glance/head.js",
]

["browser_basic_split_view.js"]
["browser_split_inset_checks.js"]
["browser_split_groups.js"]
["browser_split_browser_duplication.js"]
["browser_split_view_with_glance.js"]
["browser_split_view_with_folders.js"]
["browser_split_view_empty.js"]



================================================
FILE: src/zen/tests/split_view/browser_basic_split_view.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Basic_Split_View() {
  await basicSplitNTabs(() => {
    ok(
      gBrowser.tabpanels.hasAttribute("zen-split-view"),
      "The split view should not have crashed with two tabs in it"
    );
  });
  ok(
    !gBrowser.tabpanels.hasAttribute("zen-split-view"),
    "Unsplit view should not have crashed with two tabs in it"
  );
});

add_task(async function test_Browser_Elements_Attributes() {
  await basicSplitNTabs(() => {
    Assert.equal(
      document.querySelectorAll('.browserSidebarContainer[zen-split="true"]').length,
      2,
      "There should be two split browser sidebars"
    );
  });
  ok(
    !document.querySelector('.browserSidebarContainer[zen-split="true"]'),
    "There should be no split browser sidebars in unsplit view"
  );
});



================================================
FILE: src/zen/tests/split_view/browser_split_browser_duplication.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Basic_Split_View_Duplication() {
  const [normal, pinned] = await Promise.all([
    addTabTo(gBrowser, getUrlForNthTab(1)),
    addTabTo(gBrowser, getUrlForNthTab(2)),
  ]);
  const pinEvent = BrowserTestUtils.waitForEvent(pinned, "TabPinned");
  gBrowser.pinTab(pinned);
  await pinEvent;
  Assert.strictEqual(
    gBrowser.tabs.length,
    4,
    "There should be four tabs after pinning the second tab"
  );
  await createSplitView([normal, pinned], "grid");
  ok(!pinned.group, "The pinned tab should not be in a split group after duplication");
  ok(
    normal.group.hasAttribute("split-view-group"),
    "The normal tab should be in a split group after duplication"
  );
  const group = normal.group;
  for (const tab of group.tabs) {
    Assert.ok(!tab.pinned, "All tabs in the split group should not be pinned after duplication");
    Assert.ok(
      tab.splitView,
      "All tabs in the split group should be in a split view after duplication"
    );
  }
  Assert.ok(!group.pinned, "The split group should not be pinned after duplication");
  for (const tab of [pinned, ...group.tabs]) {
    await BrowserTestUtils.removeTab(tab);
  }
});

add_task(async function test_Split_View_Duplication_Both_Pinned() {
  const [tab1, tab2] = await Promise.all([
    addTabTo(gBrowser, getUrlForNthTab(1)),
    addTabTo(gBrowser, getUrlForNthTab(2)),
  ]);
  const pinEvent1 = BrowserTestUtils.waitForEvent(tab1, "TabPinned");
  const pinEvent2 = BrowserTestUtils.waitForEvent(tab2, "TabPinned");
  gBrowser.pinTab(tab1);
  gBrowser.pinTab(tab2);
  await Promise.all([pinEvent1, pinEvent2]);
  Assert.strictEqual(gBrowser.tabs.length, 4, "There should be four tabs after pinning both tabs");
  await createSplitView([tab1, tab2], "grid");
  ok(tab1.group, "The first pinned tab should be in a split group after duplication");
  Assert.strictEqual(
    tab2.group,
    tab1.group,
    "The second pinned tab should be in the same split group after duplication"
  );
  Assert.equal(
    gBrowser.tabs.length,
    4,
    "There should not be any duplicate tabs after pinning both tabs"
  );
  for (const tab of tab1.group.tabs) {
    Assert.ok(tab.pinned, "All tabs in the split group should be pinned after duplication");
    Assert.ok(
      tab.splitView,
      "All tabs in the split group should be in a split view after duplication"
    );
  }
  Assert.ok(tab1.group.pinned, "The split group should be pinned after duplication of both tabs");
  for (const tab of tab1.group.tabs) {
    await BrowserTestUtils.removeTab(tab);
  }
  await BrowserTestUtils.removeTab(tab2);
  await BrowserTestUtils.removeTab(tab1);
});

add_task(async function test_Split_View_Duplication_Pinned_Essential() {
  const existingTabs = gBrowser.tabs;
  const [pinned, essential] = await Promise.all([
    addTabTo(gBrowser, getUrlForNthTab(1)),
    addTabTo(gBrowser, getUrlForNthTab(2)),
  ]);
  const pinEvent = BrowserTestUtils.waitForEvent(pinned, "TabPinned");
  gBrowser.pinTab(pinned);
  await pinEvent;
  gZenPinnedTabManager.addToEssentials(essential);
  Assert.strictEqual(
    gBrowser.tabs.length,
    4,
    "There should be four tabs after pinning the first tab and adding the second to essentials"
  );
  await createSplitView([pinned, essential], "grid");
  Assert.strictEqual(
    gBrowser.tabs.length,
    4 + 2,
    "There should be six tabs after creating a split view with the pinned and essential tabs"
  );
  ok(
    !pinned.group,
    "The pinned tab should not be in a split group after duplication with an essential tab"
  );
  ok(
    !essential.group,
    "The essential tab should not be in a split group after duplication with a pinned tab"
  );
  for (const tab of gBrowser.tabs) {
    if (existingTabs.includes(tab)) {
      continue; // Skip if the tab was already present before the test
    }
    await BrowserTestUtils.removeTab(tab);
  }
});

add_task(async function test_Split_View_Duplication_Essential() {
  const existingTabs = gBrowser.tabs;
  const essentials = await Promise.all(
    [...Array(2)].map((_, i) => addTabTo(gBrowser, getUrlForNthTab(i + 1)))
  );
  essentials.forEach((tab) => {
    gZenPinnedTabManager.addToEssentials(tab);
  });
  Assert.strictEqual(
    gBrowser.tabs.length,
    4,
    "There should be four tabs after adding two essential tabs"
  );
  await createSplitView(essentials, "grid");
  Assert.strictEqual(
    gBrowser.tabs.length,
    4 + 2,
    "There should be six tabs after creating a split view with two essential tabs"
  );
  for (const tab of essentials) {
    ok(!tab.group, "Each essential tab should not be in a split group after duplication");
    ok(!tab.splitView, "Each essential tab should not be in a split view after duplication");
  }
  for (const tab of gBrowser.tabs) {
    if (existingTabs.includes(tab)) {
      continue; // Skip if the tab was already present before the test
    }
    await BrowserTestUtils.removeTab(tab);
  }
});



================================================
FILE: src/zen/tests/split_view/browser_split_groups.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Basic_Split_Groups() {
  await basicSplitNTabs(async (tabs) => {
    ok(tabs[0].group.hasAttribute("split-view-group"), "The first tab should be in a split group");
    Assert.equal(tabs[0].group.tabs.length, 2, "The first split group should contain two tabs");
  });
});

add_task(async function test_Basic_Split_Groups_Pinning() {
  await basicSplitNTabs(async (tabs) => {
    const group = tabs[0].group;
    ok(group.hasAttribute("split-view-group"), "The first tab should be in a split group");
    const pinEvent = BrowserTestUtils.waitForEvent(tabs[0], "TabPinned");
    gBrowser.pinTab(tabs[0]);
    await pinEvent;
    for (const tab of tabs) {
      ok(tab.pinned, "All tabs in the split group should be pinned after pinning the first tab");
      Assert.strictEqual(
        tab.group,
        group,
        "All tabs in the split group should remain in the same group after pinning"
      );
    }
    ok(group.pinned, "The split group should be pinned after pinning a tab");
    const unpinEvent = BrowserTestUtils.waitForEvent(tabs[0], "TabUnpinned");
    gBrowser.unpinTab(tabs[0]);
    await unpinEvent;
    for (const tab of tabs) {
      ok(
        !tab.pinned,
        "All tabs in the split group should be unpinned after unpinning the first tab"
      );
      Assert.strictEqual(
        tab.group,
        group,
        "All tabs in the split group should remain in the same group after unpinning"
      );
    }
    ok(!group.pinned, "The split group should be unpinned after unpinning a tab");
  });
});

add_task(async function test_Basic_Unsplit_Group_Removed() {
  let group;
  await basicSplitNTabs(async (tabs) => {
    group = tabs[0].group;
  });
  ok(group, "The split group should exist");
  ok(!group.parentNode, "The split group should be removed from the DOM after unsplitting");
});



================================================
FILE: src/zen/tests/split_view/browser_split_inset_checks.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Basic_Split_View_Inset() {
  let viewsToCheck = [];
  await basicSplitNTabs(() => {
    viewsToCheck = document.querySelectorAll('.browserSidebarContainer[zen-split="true"]');
    ok(viewsToCheck.length, "There should be split views present");
    Assert.equal(
      viewsToCheck[0].style.inset,
      "0% 50% 0% 0%",
      "The split view should have correct inset style"
    );
    Assert.equal(
      viewsToCheck[1].style.inset,
      "0% 0% 0% 50%",
      "The second split view should have correct inset style"
    );
  });
  for (const view of viewsToCheck) {
    Assert.equal(view.style.inset, "", "The unsplit view should not have correct inset style");
  }
});

add_task(async function test_Horizontal_Split_Inset() {
  await basicSplitNTabs(() => {
    const viewsToCheck = document.querySelectorAll('.browserSidebarContainer[zen-split="true"]');
    ok(viewsToCheck.length, "There should be split views present");
    Assert.equal(
      viewsToCheck[0].style.inset,
      "0% 50% 0% 0%",
      "The horizontal split view should have correct inset style"
    );
    Assert.equal(
      viewsToCheck[1].style.inset,
      "0% 0% 0% 50%",
      "The second horizontal split view should have correct inset style"
    );
  });
});

add_task(async function test_3_Splits_Grid_Inset() {
  await basicSplitNTabs(
    () => {
      const viewsToCheck = document.querySelectorAll('.browserSidebarContainer[zen-split="true"]');
      ok(viewsToCheck.length, "There should be split views present");
      Assert.equal(
        viewsToCheck[0].style.inset,
        "0% 0% 50% 50%",
        "The first split view should have correct inset style"
      );
      Assert.equal(
        viewsToCheck[1].style.inset,
        "50% 0% 0% 50%",
        "The second split view should have correct inset style"
      );
      Assert.equal(
        viewsToCheck[2].style.inset,
        "0% 50% 0% 0%",
        "The third split view should have correct inset style"
      );
    },
    "grid",
    3
  );
});



================================================
FILE: src/zen/tests/split_view/browser_split_view_empty.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

const { UrlbarTestUtils } = ChromeUtils.importESModule(
  "resource://testing-common/UrlbarTestUtils.sys.mjs"
);

add_task(async function test_Split_View_Empty() {
  await BrowserTestUtils.withNewTab("https://example.com", async function () {
    const originalTab = gBrowser.selectedTab;
    const command = document.getElementById("cmd_zenNewEmptySplit");
    command.doCommand();
    await UrlbarTestUtils.promisePopupOpen(window, () => {});
    await UrlbarTestUtils.promiseAutocompleteResultPopup({
      window,
      waitForFocus,
      value: "https://example.com",
    });
    const waitForActivationPromise = BrowserTestUtils.waitForEvent(
      window,
      "ZenViewSplitter:SplitViewActivated"
    );
    let result = await UrlbarTestUtils.getDetailsOfResultAt(window, 0);
    EventUtils.synthesizeMouseAtCenter(result.element.row, {});
    await waitForActivationPromise;
    await new Promise((resolve) => {
      /* eslint-disable mozilla/no-arbitrary-setTimeout */
      setTimeout(async () => {
        resolve();
      }, 100);
    });
    const selectedTab = gBrowser.selectedTab;
    ok(
      gBrowser.tabpanels.hasAttribute("zen-split-view"),
      "The split view should not have crashed with two tabs in it"
    );
    ok(!gZenWorkspaces._emptyTab.splitView, "The empty tab should not be in split view");
    ok(!gZenWorkspaces._emptyTab.group, "The empty tab should not be in a group");
    ok(selectedTab.splitView, "The selected tab should be in split view");
    ok(originalTab.splitView, "The original tab should be in split view");
    Assert.equal(
      gBrowser.tabpanels.querySelectorAll('[zen-split="true"]').length,
      2,
      "There should be two split views present"
    );
    await BrowserTestUtils.removeTab(selectedTab);
  });
});



================================================
FILE: src/zen/tests/split_view/browser_split_view_with_folders.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Split_View_Inside_Folder() {
  const [tab1, tab2] = await Promise.all([
    addTabTo(gBrowser, getUrlForNthTab(1)),
    addTabTo(gBrowser, getUrlForNthTab(2)),
  ]);
  const pinEvent1 = BrowserTestUtils.waitForEvent(tab1, "TabPinned");
  const pinEvent2 = BrowserTestUtils.waitForEvent(tab2, "TabPinned");
  gBrowser.pinTab(tab1);
  gBrowser.pinTab(tab2);
  await Promise.all([pinEvent1, pinEvent2]);
  Assert.strictEqual(gBrowser.tabs.length, 4, "There should be four tabs after pinning both tabs");
  const folder = await gZenFolders.createFolder([tab1, tab2], {
    renameFolder: false,
    label: "test",
  });
  Assert.equal(tab1.group, folder, "The first pinned tab should be in the folder group");
  Assert.equal(tab2.group, folder, "The second pinned tab should be in the folder group");
  await createSplitView([tab1, tab2], "grid");
  Assert.strictEqual(
    tab2.group,
    tab1.group,
    "The second pinned tab should be in the same split group after duplication"
  );
  ok(
    tab1.group.hasAttribute("split-view-group"),
    "The first pinned tab should be in a split group after duplication"
  );
  Assert.ok(tab1.group.pinned, "The split group should be pinned after duplication of both tabs");
  Assert.equal(tab1.group.group, folder, "The split group should be the folder after duplication");
  const removeEvent = BrowserTestUtils.waitForEvent(window, "TabGroupRemoved");
  folder.delete();
  await removeEvent;
});



================================================
FILE: src/zen/tests/split_view/browser_split_view_with_glance.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

const { openGlanceOnTab } = ChromeUtils.importESModule(
  "resource://testing-common/GlanceTestUtils.sys.mjs"
);

add_task(async function test_Basic_Split_View_Glance() {
  await basicSplitNTabs(async () => {
    await openGlanceOnTab(window, async (glanceTab) => {
      ok(
        glanceTab.hasAttribute("zen-glance-tab"),
        "The glance tab should have the zen-glance-tab attribute"
      );
      ok(
        gBrowser.tabpanels.hasAttribute("zen-split-view"),
        "The split view should not have crashed with two tabs in it"
      );
    });
  });
});

add_task(async function test_Basic_Split_View_Glance_Expand() {
  await basicSplitNTabs(async (tabs) => {
    await openGlanceOnTab(
      window,
      async (glanceTab) => {
        await gZenGlanceManager.fullyOpenGlance();
        ok(
          !glanceTab.hasAttribute("zen-glance-tab"),
          "The glance tab should not have the zen-glance-tab attribute after expanding"
        );
        ok(!glanceTab.group, "The glance tab should not be in a split group after expanding");
        for (const tab of tabs) {
          ok(
            tab.group.hasAttribute("split-view-group"),
            "All tabs in the split view should still be in a split group after expanding glance"
          );
        }
        const selectedBrowser = document.querySelectorAll(".browserSidebarContainer.deck-selected");
        Assert.equal(
          selectedBrowser.length,
          1,
          "There should be one selected browser sidebar after expanding glance"
        );
        BrowserTestUtils.removeTab(glanceTab);
      },
      false
    );
  });
});

add_task(async function test_Basic_Split_View_Glance_No_More_Split() {
  await basicSplitNTabs(
    async () => {
      await openGlanceOnTab(window, () => {
        Assert.strictEqual(
          document.getElementById("cmd_zenGlanceSplit").getAttribute("disabled"),
          "true",
          "The split command should be disabled when glance is open"
        );
      });
    },
    "grid",
    4
  );
});

add_task(async function test_Basic_Split_View_Glance_Split() {
  const tab = await addTabTo(gBrowser, getUrlForNthTab(1));
  gBrowser.selectedTab = tab;
  await openGlanceOnTab(
    window,
    async (glanceTab) => {
      const waitForSplitPromise = BrowserTestUtils.waitForEvent(
        window,
        "ZenViewSplitter:SplitViewActivated"
      );
      document.getElementById("cmd_zenGlanceSplit").doCommand();
      await waitForSplitPromise;
      ok(
        !glanceTab.hasAttribute("zen-glance-tab"),
        "The glance tab should not have the zen-glance-tab attribute after splitting"
      );
      ok(
        gBrowser.tabpanels.hasAttribute("zen-split-view"),
        "The split view should not have crashed with two tabs in it"
      );
      ok(
        glanceTab.group.hasAttribute("split-view-group"),
        "The glance tab should be in a split group after splitting"
      );
      Assert.equal(
        tab.group,
        glanceTab.group,
        "The original tab should be in the same split group as the glance tab after splitting"
      );
      BrowserTestUtils.removeTab(glanceTab);
    },
    false
  );
  BrowserTestUtils.removeTab(tab);
});



================================================
FILE: src/zen/tests/split_view/head.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

async function addTabTo(targetBrowser, url = "http://mochi.test:8888/", params = {}) {
  params.skipAnimation = true;
  const tab = BrowserTestUtils.addTab(targetBrowser, url, params);
  const browser = targetBrowser.getBrowserForTab(tab);
  await BrowserTestUtils.browserLoaded(browser);
  return tab;
}

function getUrlForNthTab(n) {
  return `data:text/plain,tab${n}`;
}

async function createSplitView(tabs, type = "grid") {
  const waitForActivationPromise = BrowserTestUtils.waitForEvent(
    window,
    "ZenViewSplitter:SplitViewActivated"
  );
  gZenViewSplitter.splitTabs(tabs, type);
  await waitForActivationPromise;
  await new Promise((resolve) => {
    setTimeout(async () => {
      resolve();
    }, 100);
  });
}

async function basicSplitNTabs(callback, type = "grid", n = 2) {
  Assert.greater(n, 1, "There should be at least two tabs");
  Assert.less(n, 5, "There should be at most four tabs");
  const tabs = await Promise.all(
    [...Array(n)].map((_, i) => addTabTo(gBrowser, getUrlForNthTab(i + 1)))
  );
  await createSplitView(tabs, type);
  await callback(tabs);
  for (const tab of tabs) {
    await BrowserTestUtils.removeTab(tab);
  }
}



================================================
FILE: src/zen/tests/tabs/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
support-files = [
  "head.js",
]

["browser_tabs_empty_checks.js"]
["browser_tabs_close_recently.js"]
["browser_tabs_fetch_checks.js"]
["browser_tabs_cycle_by_attribute.js"]
["browser_drag_drop_vertical.js"]
tags = [
  "drag-drop",
  "vertical-tabs"
]



================================================
FILE: src/zen/tests/tabs/browser_drag_drop_vertical.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

const URL1 = "data:text/plain,tab1";
const URL2 = "data:text/plain,tab2";
const URL3 = "data:text/plain,tab3";

const threshold = Math.min(
  1.0,
  Math.max(0.5, Services.prefs.getIntPref("browser.tabs.dragDrop.moveOverThresholdPercent") / 100) +
    0.01
);

/**
 * Virtually drag and drop a `source` element onto the `target` element,
 * offset by `clientX`, `clientY` pixels from the top-left of the viewport.
 *
 * @param {Element} source
 * @param {Element} target
 * @param {number} clientX
 * @param {number} clientY
 * @param {Window} win
 */
async function drop(source, target, clientX, clientY, win) {
  const tabMove = BrowserTestUtils.waitForEvent(source, "TabMove");
  EventUtils.synthesizeDrop(source, target, null, "move", win, win, {
    clientX,
    clientY,
  });
  await tabMove;
}

/**
 * @param {Element} el
 * @returns {DOMRect}
 */
const bounds = (el) => window.windowUtils.getBoundsWithoutFlushing(el);

/**
 * Virtually drag and drop one tab strip item after another.
 *
 * @param {Element} itemToDrag
 * @param {Element} itemToDropAfter
 * @param {Window} win
 */
async function dropAfter(itemToDrag, itemToDropAfter, win) {
  const sourceRect = bounds(itemToDrag);
  const rect = bounds(itemToDropAfter);

  const midline = rect.left + 0.5 * rect.width;
  // Point where bottom edge of `itemToDrag` overlaps `itemToDropAfter` enough
  // for `itemToDrag` to come after.
  const afterPoint = Math.ceil(rect.top + (threshold + 0.5) * rect.height);
  const dragTo = afterPoint - sourceRect.height / 2;
  await drop(itemToDrag, itemToDropAfter, midline, dragTo, win);
}

/**
 * Virtually drag and drop one tab strip item before another.
 *
 * @param {Element} itemToDrag
 * @param {Element} itemToDropBefore
 * @param {Window} win
 */
async function dropBefore(itemToDrag, itemToDropBefore, win) {
  const sourceRect = bounds(itemToDrag);
  const rect = bounds(itemToDropBefore);

  const midline = rect.left + 0.5 * rect.width;
  // Point where top edge of `itemToDrag` overlaps `itemToDropBefore` enough
  // for `itemToDrag` to come before.
  const beforePoint = Math.floor(rect.top + (1 - threshold - 0.5) * rect.height);
  const dragTo = beforePoint + sourceRect.height / 2;
  await drop(itemToDrag, itemToDropBefore, midline, dragTo, win);
}

/**
 * Ensure that the tab strip can fit the test tabs without overflowing.
 */
async function ensureNotOverflowing() {
  const tabHeight = Number.parseFloat(
    getComputedStyle(gBrowser.tabs[0]).getPropertyValue("--tab-height-with-margin-padding")
  );
  const requiredTabSpace = tabHeight * gBrowser.tabs.length;
  const scrollboxWidth = gBrowser.tabContainer.arrowScrollbox.scrollSize;
  if (requiredTabSpace > scrollboxWidth) {
    // resize the window to ensure that the tabs will fit
    const increaseBy = requiredTabSpace - scrollboxWidth;
    info(`increasing window height by ${increaseBy} to fit tabs`);
    window.resizeBy(0, increaseBy);
  }

  await BrowserTestUtils.waitForCondition(
    () => !gBrowser.tabContainer.arrowScrollbox.overflowing,
    "tabs scrollbox should not be overflowing",
    100,
    5
  );
}

add_setup(async () => {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.view.show-newtab-button-top", false]],
  });

  // Wait for sidebar animations to complete so that the position of the tab
  // strip does not adjust during the tests.
  await SidebarController.waitUntilStable();
  const tabToRemove = gBrowser.selectedTab;
  const [tab1, tab2, tab3] = await Promise.all([
    addTabTo(gBrowser, URL1),
    addTabTo(gBrowser, URL2),
    addTabTo(gBrowser, URL3),
  ]);
  // remove the default new tab from the test window
  BrowserTestUtils.removeTab(tabToRemove);
  const emptyTab = gBrowser.tabs[0];

  Assert.deepEqual(gBrowser.tabs, [emptyTab, tab1, tab2, tab3], "confirm tabs' starting order");

  await ensureNotOverflowing();

  registerCleanupFunction(async () => {
    // replace the default new tab in the test window
    addTabTo(gBrowser, "about:blank");

    BrowserTestUtils.removeTab(tab1);
    BrowserTestUtils.removeTab(tab2);
    BrowserTestUtils.removeTab(tab3);

    await SpecialPowers.popPrefEnv();
  });
});

add_task(async function test_basic_unpinned_vertical_ltr() {
  const [emptyTab, tab1, tab2, tab3] = gBrowser.tabs;

  // Validate that dragging and dropping into the same position will result in
  // the tab not moving
  for (const tab of [tab1, tab2, tab3]) {
    EventUtils.synthesizeDrop(tab, tab, null, "move", window, window, {});
    Assert.deepEqual(
      gBrowser.tabs,
      [emptyTab, tab1, tab2, tab3],
      "confirm that the tabs' order did not change"
    );
  }

  // Validate that it's possible to drag and drop a tab forward
  await dropAfter(tab1, tab2, window);
  Assert.deepEqual(
    gBrowser.tabs,
    [emptyTab, tab2, tab1, tab3],
    "confirm that tab1 moved after tab2"
  );
  await dropAfter(tab1, tab3, window);
  Assert.deepEqual(
    gBrowser.tabs,
    [emptyTab, tab2, tab3, tab1],
    "confirm that tab1 moved after tab3"
  );

  // Validate that it's possible to drag and drop a tab backward
  await dropBefore(tab1, tab3, window);
  Assert.deepEqual(
    gBrowser.tabs,
    [emptyTab, tab2, tab1, tab3],
    "confirm that tab1 moved before tab3"
  );
  await dropBefore(tab1, tab2, window);
  Assert.deepEqual(
    gBrowser.tabs,
    [emptyTab, tab1, tab2, tab3],
    "confirm that tab1 moved before tab2"
  );
});



================================================
FILE: src/zen/tests/tabs/browser_tabs_close_recently.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

const URL1 = "data:text/plain,tab1";
const URL2 = "data:text/plain,tab2";
const URL3 = "data:text/plain,tab3";

add_task(async function test_blurToRecentlyClosedTab() {
  const [tab1, tab2, tab3] = [
    BrowserTestUtils.addTab(gBrowser, URL1),
    BrowserTestUtils.addTab(gBrowser, URL2),
    BrowserTestUtils.addTab(gBrowser, URL3),
  ];

  gBrowser.selectedTab = tab2;
  gBrowser.selectedTab = tab3;
  gBrowser.selectedTab = tab1;

  gBrowser.selectedTab = tab2;
  gBrowser.removeTab(tab2);

  Assert.equal(
    gBrowser.selectedTab,
    tab1,
    "After closing the most recently used tab, the selection moves to the last used tab"
  );

  gBrowser.selectedTab = tab3;
  gBrowser.removeTab(tab3);

  Assert.equal(
    gBrowser.selectedTab,
    tab1,
    "After closing the most recently used tab, the selection moves to the last used tab"
  );

  gBrowser.removeTab(tab1);
});

add_task(async function test_closeToLastTab() {
  await SpecialPowers.pushPrefEnv({
    set: [
      ["zen.tabs.select-recently-used-on-close", false],
      ["zen.view.show-newtab-button-top", false],
    ],
  });

  const [tab1, tab2, tab3] = [
    BrowserTestUtils.addTab(gBrowser, URL1),
    BrowserTestUtils.addTab(gBrowser, URL2),
    BrowserTestUtils.addTab(gBrowser, URL3),
  ];

  gBrowser.selectedTab = tab2;
  gBrowser.selectedTab = tab3;
  gBrowser.selectedTab = tab1;

  gBrowser.selectedTab = tab2;
  gBrowser.removeTab(tab2);

  Assert.equal(
    gBrowser.selectedTab,
    tab3,
    "After closing the current tab, the selection moves to the next tab in order"
  );

  gBrowser.selectedTab = tab1;
  gBrowser.removeTab(tab1);

  Assert.equal(
    gBrowser.selectedTab,
    tab3,
    "After closing the current tab, the selection moves to the next tab in order"
  );

  gBrowser.removeTab(tab3);
  await SpecialPowers.popPrefEnv();
});



================================================
FILE: src/zen/tests/tabs/browser_tabs_cycle_by_attribute.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

const URL1 = "data:text/plain,tab1";
const URL2 = "data:text/plain,tab2";
const URL3 = "data:text/plain,tab3";
const URL4 = "data:text/plain,tab4";
const URL5 = "data:text/plain,tab5";
const URL6 = "data:text/plain,tab6";

/**
 * ensures that tab select action is completed
 *
 * @param {MozTabbrowserTab} tab - tab to select
 */
async function selectTab(tab) {
  const onSelect = BrowserTestUtils.waitForEvent(gBrowser.tabContainer, "TabSelect");
  gBrowser.selectedTab = tab;
  await onSelect;
}

add_setup(async () => {
  // remove default new tab
  const tabToRemove = gBrowser.selectedTab;
  BrowserTestUtils.removeTab(tabToRemove);

  const tabs = await Promise.all([
    addTabTo(gBrowser, URL1),
    addTabTo(gBrowser, URL2),
    addTabTo(gBrowser, URL3),
    addTabTo(gBrowser, URL4),
    addTabTo(gBrowser, URL5),
    addTabTo(gBrowser, URL6),
  ]);

  gZenPinnedTabManager.addToEssentials(tabs.slice(0, 3));
  await BrowserTestUtils.waitForCondition(
    () => tabs.slice(0, 3).every((tab) => tab.hasAttribute("zen-essential")),
    "all essentials ready"
  );

  const essentialTabs = gBrowser.tabs.filter((tab) => tab.hasAttribute("zen-essential"));
  Assert.equal(essentialTabs.length, 3, "3 essential tabs created");

  const workspaceTabs = gBrowser.tabs.filter(
    (tab) => !tab.hasAttribute("zen-essential") && !tab.hasAttribute("zen-empty-tab")
  );
  Assert.equal(workspaceTabs.length, 3, "3 workspace tabs created, excluding empty tab");

  registerCleanupFunction(async () => {
    // replace the default new tab in the test window
    addTabTo(gBrowser, "about:blank");
    tabs.forEach((element) => {
      BrowserTestUtils.removeTab(element);
    });
    await SpecialPowers.popPrefEnv();
  });
});

add_task(async function cycleTabsByAttribute() {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.tabs.ctrl-tab.ignore-essential-tabs", true]],
  });

  const essentialTabs = gBrowser.tabs.filter((tab) => tab.hasAttribute("zen-essential"));
  await selectTab(essentialTabs[0]);

  gBrowser.tabContainer.advanceSelectedTab(1, true);
  gBrowser.tabContainer.advanceSelectedTab(1, true);
  gBrowser.tabContainer.advanceSelectedTab(1, true);
  Assert.strictEqual(
    gBrowser.selectedTab,
    essentialTabs[0],
    "tab cycling applies within essential tabs only, as the starting tab is a essential tab"
  );

  const workspaceTabs = gBrowser.tabs.filter(
    (tab) => !tab.hasAttribute("zen-essential") && !tab.hasAttribute("zen-empty-tab")
  );
  await selectTab(workspaceTabs[0]);

  gBrowser.tabContainer.advanceSelectedTab(1, true);
  gBrowser.tabContainer.advanceSelectedTab(1, true);
  gBrowser.tabContainer.advanceSelectedTab(1, true);

  Assert.strictEqual(
    gBrowser.selectedTab,
    workspaceTabs[0],
    "tab cycling applies within workspace tabs only, as the starting tab is a workspace tab"
  );
});



================================================
FILE: src/zen/tests/tabs/browser_tabs_empty_checks.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Empty_Tab_Transparent() {
  const emptyTab = gZenWorkspaces._emptyTab;
  ok(emptyTab, "Empty tab should exist");
  ok(emptyTab.parentElement, "Empty tab should be in the DOM");
  ok(emptyTab.hasAttribute("zen-empty-tab"), "Empty tab should have the zen-empty-tab attribute");
  ok(
    emptyTab.linkedBrowser.hasAttribute("transparent"),
    "Empty tab should have the transparent attribute"
  );
});

add_task(async function test_Empty_Tab_Always_First() {
  ok(gBrowser.tabs[0].hasAttribute("zen-empty-tab"), "First tab should be the empty tab");
  await BrowserTestUtils.withNewTab(
    {
      gBrowser,
      url: "https://example.com",
    },
    async () => {
      ok(gBrowser.tabs[0].hasAttribute("zen-empty-tab"), "First tab should be the empty tab");
    }
  );
});



================================================
FILE: src/zen/tests/tabs/browser_tabs_fetch_checks.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

// Each firefox update, we should run this check, even
// if its a very "basic" one. Just to make sure that we are
// returning tabs correctly.
add_task(async function test_Tabs_Getter() {
  for (let tab of gBrowser.tabs) {
    Assert.strictEqual(
      tab.tagName.toLowerCase(),
      "tab",
      "Each item in gBrowser.tabs is a tab element"
    );
  }
  Assert.equal(
    gBrowser.tabs.length,
    2,
    "There should be 2 tabs (1 empty tab + 1 about:blank tab) at startup"
  );
});

add_task(async function test_Aria_Focusable_Tabs() {
  for (let tab of gBrowser.tabContainer.ariaFocusableItems) {
    Assert.strictEqual(
      tab.tagName.toLowerCase(),
      "tab",
      "Each item in ariaFocusableItems is a tab element"
    );
  }
  Assert.equal(
    gBrowser.tabContainer.ariaFocusableItems.length,
    1,
    "There should be 1 focusable tab (1 about:blank tab) at startup"
  );
});



================================================
FILE: src/zen/tests/tabs/head.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

const { TabGroupTestUtils } = ChromeUtils.importESModule(
  "resource://testing-common/TabGroupTestUtils.sys.mjs"
);

function promiseTabLoadEvent(tab, url) {
  info("Wait tab event: load");

  function handle(loadedUrl) {
    if (loadedUrl === "about:blank" || (url && loadedUrl !== url)) {
      info(`Skipping spurious load event for ${loadedUrl}`);
      return false;
    }

    info("Tab event received: load");
    return true;
  }

  let loaded = BrowserTestUtils.browserLoaded(tab.linkedBrowser, false, handle);

  if (url) {
    BrowserTestUtils.startLoadingURIString(tab.linkedBrowser, url);
  }

  return loaded;
}

function updateTabContextMenu(tab) {
  let menu = document.getElementById("tabContextMenu");
  if (!tab) {
    tab = gBrowser.selectedTab;
  }
  var evt = new Event("");
  tab.dispatchEvent(evt);
  menu.openPopup(tab, "end_after", 0, 0, true, false, evt);
  is(window.TabContextMenu.contextTab, tab, "TabContextMenu context is the expected tab");
  menu.hidePopup();
}

function triggerClickOn(target, options) {
  let promise = BrowserTestUtils.waitForEvent(target, "click");
  if (AppConstants.platform == "macosx") {
    options = {
      metaKey: options.ctrlKey,
      shiftKey: options.shiftKey,
    };
  }
  EventUtils.synthesizeMouseAtCenter(target, options);
  return promise;
}

function triggerMiddleClickOn(target) {
  let promise = BrowserTestUtils.waitForEvent(target, "click");
  EventUtils.synthesizeMouseAtCenter(target, { button: 1 });
  return promise;
}

async function addTab(url = "http://mochi.test:8888/", params) {
  return addTabTo(gBrowser, url, params);
}

async function addTabTo(targetBrowser, url = "http://mochi.test:8888/", params = {}) {
  params.skipAnimation = true;
  const tab = BrowserTestUtils.addTab(targetBrowser, url, params);
  const browser = targetBrowser.getBrowserForTab(tab);
  await BrowserTestUtils.browserLoaded(browser);
  return tab;
}

async function addMediaTab() {
  const PAGE =
    "https://example.com/browser/browser/components/tabbrowser/test/browser/tabs/file_mediaPlayback.html";
  const tab = BrowserTestUtils.addTab(gBrowser, PAGE, { skipAnimation: true });
  const browser = gBrowser.getBrowserForTab(tab);
  await BrowserTestUtils.browserLoaded(browser);
  return tab;
}

function muted(tab) {
  return tab.linkedBrowser.audioMuted;
}

function activeMediaBlocked(tab) {
  return tab.activeMediaBlocked;
}

async function toggleMuteAudio(tab, expectMuted) {
  let mutedPromise = get_wait_for_mute_promise(tab, expectMuted);
  tab.toggleMuteAudio();
  await mutedPromise;
}

async function pressIcon(icon) {
  let tooltip = document.getElementById("tabbrowser-tab-tooltip");
  await hover_icon(icon, tooltip);
  EventUtils.synthesizeMouseAtCenter(icon, { button: 0 });
  leave_icon(icon);
}

async function wait_for_tab_playing_event(tab, expectPlaying) {
  if (tab.soundPlaying == expectPlaying) {
    ok(true, "The tab should " + (expectPlaying ? "" : "not ") + "be playing");
    return true;
  }
  return BrowserTestUtils.waitForEvent(tab, "TabAttrModified", false, (event) => {
    if (event.detail.changed.includes("soundplaying")) {
      is(
        tab.hasAttribute("soundplaying"),
        expectPlaying,
        "The tab should " + (expectPlaying ? "" : "not ") + "be playing"
      );
      is(
        tab.soundPlaying,
        expectPlaying,
        "The tab should " + (expectPlaying ? "" : "not ") + "be playing"
      );
      return true;
    }
    return false;
  });
}

async function wait_for_tab_media_blocked_event(tab, expectMediaBlocked) {
  if (tab.activeMediaBlocked == expectMediaBlocked) {
    ok(true, "The tab should " + (expectMediaBlocked ? "" : "not ") + "be activemedia-blocked");
    return true;
  }
  return BrowserTestUtils.waitForEvent(tab, "TabAttrModified", false, (event) => {
    if (event.detail.changed.includes("activemedia-blocked")) {
      is(
        tab.hasAttribute("activemedia-blocked"),
        expectMediaBlocked,
        "The tab should " + (expectMediaBlocked ? "" : "not ") + "be activemedia-blocked"
      );
      is(
        tab.activeMediaBlocked,
        expectMediaBlocked,
        "The tab should " + (expectMediaBlocked ? "" : "not ") + "be activemedia-blocked"
      );
      return true;
    }
    return false;
  });
}

async function is_audio_playing(tab) {
  let browser = tab.linkedBrowser;
  let isPlaying = await SpecialPowers.spawn(browser, [], async function () {
    let audio = content.document.querySelector("audio");
    return !audio.paused;
  });
  return isPlaying;
}

async function play(tab, expectPlaying = true) {
  let browser = tab.linkedBrowser;
  await SpecialPowers.spawn(browser, [], async function () {
    let audio = content.document.querySelector("audio");
    audio.play();
  });

  // If the tab has already been muted, it means the tab won't get soundplaying,
  // so we don't need to check this attribute.
  if (browser.audioMuted) {
    return;
  }

  if (expectPlaying) {
    await wait_for_tab_playing_event(tab, true);
  } else {
    await wait_for_tab_media_blocked_event(tab, true);
  }
}

function disable_non_test_mouse(disable) {
  let utils = window.windowUtils;
  utils.disableNonTestMouseEvents(disable);
}

function hover_icon(icon, tooltip) {
  disable_non_test_mouse(true);

  let popupShownPromise = BrowserTestUtils.waitForEvent(tooltip, "popupshown");
  EventUtils.synthesizeMouse(icon, 1, 1, { type: "mouseover" });
  EventUtils.synthesizeMouse(icon, 2, 2, { type: "mousemove" });
  EventUtils.synthesizeMouse(icon, 3, 3, { type: "mousemove" });
  EventUtils.synthesizeMouse(icon, 4, 4, { type: "mousemove" });
  return popupShownPromise;
}

function leave_icon(icon) {
  EventUtils.synthesizeMouse(icon, 0, 0, { type: "mouseout" });
  EventUtils.synthesizeMouseAtCenter(document.documentElement, {
    type: "mousemove",
  });
  EventUtils.synthesizeMouseAtCenter(document.documentElement, {
    type: "mousemove",
  });
  EventUtils.synthesizeMouseAtCenter(document.documentElement, {
    type: "mousemove",
  });

  disable_non_test_mouse(false);
}

// The set of tabs which have ever had their mute state changed.
// Used to determine whether the tab should have a muteReason value.
let everMutedTabs = new WeakSet();

function get_wait_for_mute_promise(tab, expectMuted) {
  return BrowserTestUtils.waitForEvent(tab, "TabAttrModified", false, (event) => {
    if (
      event.detail.changed.includes("muted") ||
      event.detail.changed.includes("activemedia-blocked")
    ) {
      is(
        tab.hasAttribute("muted"),
        expectMuted,
        "The tab should " + (expectMuted ? "" : "not ") + "be muted"
      );
      is(
        tab.muted,
        expectMuted,
        "The tab muted property " + (expectMuted ? "" : "not ") + "be true"
      );

      if (expectMuted || everMutedTabs.has(tab)) {
        everMutedTabs.add(tab);
        is(tab.muteReason, null, "The tab should have a null muteReason value");
      } else {
        is(tab.muteReason, undefined, "The tab should have an undefined muteReason value");
      }
      return true;
    }
    return false;
  });
}

async function test_mute_tab(tab, icon, expectMuted) {
  let mutedPromise = get_wait_for_mute_promise(tab, expectMuted);

  let activeTab = gBrowser.selectedTab;

  let tooltip = document.getElementById("tabbrowser-tab-tooltip");

  await hover_icon(icon, tooltip);
  EventUtils.synthesizeMouseAtCenter(icon, { button: 0 });
  leave_icon(icon);

  is(
    gBrowser.selectedTab,
    activeTab,
    "Clicking on mute should not change the currently selected tab"
  );

  // If the audio is playing, we should check whether clicking on icon affects
  // the media element's playing state.
  let isAudioPlaying = await is_audio_playing(tab);
  if (isAudioPlaying) {
    await wait_for_tab_playing_event(tab, !expectMuted);
  }

  return mutedPromise;
}

async function dragAndDrop(
  tab1,
  tab2,
  copy = false,
  destWindow = window,
  afterTab = true,
  origWindow = window
) {
  let rect = tab2.getBoundingClientRect();
  let event = {
    ctrlKey: copy,
    altKey: copy,
    clientX: rect.left + rect.width / 2 + (afterTab ? 1 : -1),
    clientY: rect.top + rect.height / 2,
  };

  if (destWindow != origWindow) {
    // Make sure that both tab1 and tab2 are visible
    origWindow.focus();
    origWindow.moveTo(rect.left, rect.top + rect.height * 3);
  }

  let originalIndex = tab1.elementIndex;
  EventUtils.synthesizeDrop(
    tab1,
    tab2,
    null,
    copy ? "copy" : "move",
    origWindow,
    destWindow,
    event
  );
  // Ensure dnd suppression is cleared.
  EventUtils.synthesizeMouseAtCenter(tab2, { type: "mouseup" }, destWindow);
  if (!copy && destWindow == origWindow) {
    await BrowserTestUtils.waitForCondition(() => {
      return tab1.elementIndex != originalIndex;
    }, "Waiting for tab position to be updated");
  } else if (destWindow != origWindow) {
    await BrowserTestUtils.waitForCondition(() => tab1.closing, "Waiting for tab closing");
  }
}

function getUrl(tab) {
  return tab.linkedBrowser.currentURI.spec;
}

/**
 * Takes a xul:browser and makes sure that the remoteTypes for the browser in
 * both the parent and the child processes are the same.
 *
 * @param {XULBrowser} browser
 * @param {string} expectedRemoteType
 *        The expected remoteType value for the browser in both the parent
 *        and child processes.
 * @param {string?} message
 *        If provided, shows this string as the message when remoteType values
 *        do not match. If not present, it uses the default message defined
 *        in the function parameters.
 */
function checkBrowserRemoteType(
  browser,
  expectedRemoteType,
  message = `Ensures that tab runs in the ${expectedRemoteType} content process.`
) {
  // Check both parent and child to ensure that they have the correct remoteType.
  if (expectedRemoteType == E10SUtils.WEB_REMOTE_TYPE) {
    ok(E10SUtils.isWebRemoteType(browser.remoteType), message);
    ok(
      E10SUtils.isWebRemoteType(browser.messageManager.remoteType),
      "Parent and child process should agree on the remote type."
    );
  } else {
    is(browser.remoteType, expectedRemoteType, message);
    is(
      browser.messageManager.remoteType,
      expectedRemoteType,
      "Parent and child process should agree on the remote type."
    );
  }
}

function test_url_for_process_types({
  url,
  chromeResult,
  webContentResult,
  privilegedAboutContentResult,
  privilegedMozillaContentResult,
  extensionProcessResult,
}) {
  const CHROME_PROCESS = E10SUtils.NOT_REMOTE;
  const WEB_CONTENT_PROCESS = E10SUtils.WEB_REMOTE_TYPE;
  const PRIVILEGEDABOUT_CONTENT_PROCESS = E10SUtils.PRIVILEGEDABOUT_REMOTE_TYPE;
  const PRIVILEGEDMOZILLA_CONTENT_PROCESS = E10SUtils.PRIVILEGEDMOZILLA_REMOTE_TYPE;
  const EXTENSION_PROCESS = E10SUtils.EXTENSION_REMOTE_TYPE;

  is(
    E10SUtils.canLoadURIInRemoteType(url, /* fission */ false, CHROME_PROCESS),
    chromeResult,
    "Check URL in chrome process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url, /* fission */ false, WEB_CONTENT_PROCESS),
    webContentResult,
    "Check URL in web content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url, /* fission */ false, PRIVILEGEDABOUT_CONTENT_PROCESS),
    privilegedAboutContentResult,
    "Check URL in privileged about content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url, /* fission */ false, PRIVILEGEDMOZILLA_CONTENT_PROCESS),
    privilegedMozillaContentResult,
    "Check URL in privileged mozilla content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url, /* fission */ false, EXTENSION_PROCESS),
    extensionProcessResult,
    "Check URL in extension process."
  );

  is(
    E10SUtils.canLoadURIInRemoteType(url + "#foo", /* fission */ false, CHROME_PROCESS),
    chromeResult,
    "Check URL with ref in chrome process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url + "#foo", /* fission */ false, WEB_CONTENT_PROCESS),
    webContentResult,
    "Check URL with ref in web content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(
      url + "#foo",
      /* fission */ false,
      PRIVILEGEDABOUT_CONTENT_PROCESS
    ),
    privilegedAboutContentResult,
    "Check URL with ref in privileged about content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(
      url + "#foo",
      /* fission */ false,
      PRIVILEGEDMOZILLA_CONTENT_PROCESS
    ),
    privilegedMozillaContentResult,
    "Check URL with ref in privileged mozilla content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url + "#foo", /* fission */ false, EXTENSION_PROCESS),
    extensionProcessResult,
    "Check URL with ref in extension process."
  );

  is(
    E10SUtils.canLoadURIInRemoteType(url + "?foo", /* fission */ false, CHROME_PROCESS),
    chromeResult,
    "Check URL with query in chrome process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url + "?foo", /* fission */ false, WEB_CONTENT_PROCESS),
    webContentResult,
    "Check URL with query in web content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(
      url + "?foo",
      /* fission */ false,
      PRIVILEGEDABOUT_CONTENT_PROCESS
    ),
    privilegedAboutContentResult,
    "Check URL with query in privileged about content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(
      url + "?foo",
      /* fission */ false,
      PRIVILEGEDMOZILLA_CONTENT_PROCESS
    ),
    privilegedMozillaContentResult,
    "Check URL with query in privileged mozilla content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url + "?foo", /* fission */ false, EXTENSION_PROCESS),
    extensionProcessResult,
    "Check URL with query in extension process."
  );

  is(
    E10SUtils.canLoadURIInRemoteType(url + "?foo#bar", /* fission */ false, CHROME_PROCESS),
    chromeResult,
    "Check URL with query and ref in chrome process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url + "?foo#bar", /* fission */ false, WEB_CONTENT_PROCESS),
    webContentResult,
    "Check URL with query and ref in web content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(
      url + "?foo#bar",
      /* fission */ false,
      PRIVILEGEDABOUT_CONTENT_PROCESS
    ),
    privilegedAboutContentResult,
    "Check URL with query and ref in privileged about content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(
      url + "?foo#bar",
      /* fission */ false,
      PRIVILEGEDMOZILLA_CONTENT_PROCESS
    ),
    privilegedMozillaContentResult,
    "Check URL with query and ref in privileged mozilla content process."
  );
  is(
    E10SUtils.canLoadURIInRemoteType(url + "?foo#bar", /* fission */ false, EXTENSION_PROCESS),
    extensionProcessResult,
    "Check URL with query and ref in extension process."
  );
}

/*
 * Get a file URL for the local file name.
 */
function fileURL(filename) {
  let ifile = getChromeDir(getResolvedURI(gTestPath));
  ifile.append(filename);
  return Services.io.newFileURI(ifile).spec;
}

/*
 * Get a http URL for the local file name.
 */
function httpURL(filename, host = "https://example.com/") {
  let root = getRootDirectory(gTestPath).replace("chrome://mochitests/content/", host);
  return root + filename;
}

function loadTestSubscript(filePath) {
  Services.scriptloader.loadSubScript(new URL(filePath, gTestPath).href, this);
}

/**
 * Removes a tab group (along with its tabs). Resolves when the tab group
 * is gone.
 *
 * @param {MozTabbrowserTabGroup} group
 * @returns {Promise<void>}
 */
async function removeTabGroup(group) {
  return TabGroupTestUtils.removeTabGroup(group);
}

/**
 * @param {Node} triggerNode
 * @param {string} contextMenuId
 * @returns {Promise<XULMenuElement|XULPopupElement>}
 */
async function getContextMenu(triggerNode, contextMenuId) {
  let win = triggerNode.ownerGlobal;
  triggerNode.scrollIntoView({ behavior: "instant" });
  const contextMenu = win.document.getElementById(contextMenuId);
  const contextMenuShown = BrowserTestUtils.waitForPopupEvent(contextMenu, "shown");

  EventUtils.synthesizeMouseAtCenter(triggerNode, { type: "contextmenu", button: 2 }, win);
  await contextMenuShown;
  return contextMenu;
}

/**
 * @param {XULMenuElement|XULPopupElement} contextMenu
 * @returns {Promise<void>}
 */
async function closeContextMenu(contextMenu) {
  let menuHidden = BrowserTestUtils.waitForPopupEvent(contextMenu, "hidden");
  contextMenu.hidePopup();
  await menuHidden;
}



================================================
FILE: src/zen/tests/ub-actions/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

["browser_ub_actions_search.js"]


================================================
FILE: src/zen/tests/ub-actions/browser_ub_actions_search.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

ChromeUtils.defineESModuleGetters(this, {
  globalActions: "resource:///modules/ZenUBGlobalActions.sys.mjs",
  UrlbarTestUtils: "resource://testing-common/UrlbarTestUtils.sys.mjs",
});

add_task(async function test_Ub_Actions_Search() {
  for (const action of globalActions) {
    if (!action.isAvailable(window)) {
      ok(true, `Skipping action: ${action.command}`);
      continue;
    }
    const label = action.label;
    await UrlbarTestUtils.promiseAutocompleteResultPopup({
      window,
      waitForFocus,
      value: label,
    });
    await new Promise((resolve) =>
      setTimeout(async () => {
        let index = typeof action.suggestedIndex === "number" ? action.suggestedIndex : Infinity;
        let { result } = await UrlbarTestUtils.getRowAt(window, Math.min(index, 1));
        Assert.equal(result.providerName, "ZenUrlbarProviderGlobalActions");
        Assert.equal(result.payload.title, label);
        resolve();
      }, 0)
    );
  }
});



================================================
FILE: src/zen/tests/urlbar/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
support-files = [
  "head.js",
  "!/browser/components/urlbar/tests/browser/head.js",
]

["browser_floating_urlbar.js"]
["browser_issue_7385.js"]



================================================
FILE: src/zen/tests/urlbar/browser_floating_urlbar.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

ChromeUtils.defineESModuleGetters(this, {
  UrlbarTestUtils: "resource://testing-common/UrlbarTestUtils.sys.mjs",
});

add_task(async function test_Floating_Urlbar() {
  gURLBar.blur();

  await SimpleTest.promiseFocus(window);
  document.getElementById("Browser:OpenLocation").doCommand();
  await UrlbarTestUtils.promiseAutocompleteResultPopup({
    window,
    waitForFocus: SimpleTest.waitForFocus,
    value: "https://example.com/",
  });

  ok(gURLBar.textbox.hasAttribute("zen-floating-urlbar"), "URL bar should be in floating mode");
});

add_task(async function test_Click_Shoudnt_FLoat_Urlbar() {
  gURLBar.blur();

  await simulateClick(window);

  await UrlbarTestUtils.promiseAutocompleteResultPopup({
    window,
    waitForFocus: SimpleTest.waitForFocus,
    value: "https://example.com/",
  });

  ok(
    !gURLBar.textbox.hasAttribute("zen-floating-urlbar"),
    "URL bar should not be in floating mode"
  );
});

add_task(async function test_Floating_Highlight_Everything() {
  gURLBar.blur();

  await SimpleTest.promiseFocus(window);
  await selectWithMouseDrag(2, 5);
  document.getElementById("Browser:OpenLocation").doCommand();

  // Selection range
  Assert.equal(gURLBar.selectionStart, 0, "Selection start should be 0");
  Assert.equal(
    gURLBar.selectionEnd,
    gURLBar.value.length,
    "Selection end should be the length of the value"
  );
});



================================================
FILE: src/zen/tests/urlbar/browser_issue_7385.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

ChromeUtils.defineESModuleGetters(this, {
  UrlbarTestUtils: "resource://testing-common/UrlbarTestUtils.sys.mjs",
});

add_task(async function test_Selection_Remains_Double_Toolbar() {
  await goToMultipleLayouts(async () => {
    const untrimmedValue = "https://example.com";
    let trimmedValue = UrlbarTestUtils.trimURL(untrimmedValue);
    gURLBar._setValue(untrimmedValue, {
      allowTrim: true,
      valueIsTyped: false,
    });
    gURLBar.blur();
    await SimpleTest.promiseFocus(window);
    Assert.equal(gURLBar.value, trimmedValue, "Value has been trimmed");
    await selectWithMouseDrag(100, 200);

    Assert.greater(gURLBar.selectionStart, 0, "Selection start is positive.");
    Assert.greater(gURLBar.selectionEnd, gURLBar.selectionStart, "Selection is not empty.");

    Assert.equal(gURLBar.value, untrimmedValue, `Value should be untrimmed`);

    gURLBar.handleRevert();
    gURLBar.view.close();
  });
});



================================================
FILE: src/zen/tests/urlbar/head.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

function simulateClick(win = window) {
  let target = win.gURLBar.inputField;
  let promise = BrowserTestUtils.waitForEvent(target, "click");
  EventUtils.synthesizeMouseAtCenter(target, {});
  return promise;
}

function selectWithMouseDrag(fromX, toX, win = window) {
  let target = win.gURLBar.inputField;
  let rect = target.getBoundingClientRect();
  let promise = BrowserTestUtils.waitForEvent(target, "mouseup");
  EventUtils.synthesizeMouse(
    target,
    fromX,
    rect.height / 2,
    { type: "mousemove" },
    target.ownerGlobal
  );
  EventUtils.synthesizeMouse(
    target,
    fromX,
    rect.height / 2,
    { type: "mousedown" },
    target.ownerGlobal
  );
  EventUtils.synthesizeMouse(
    target,
    toX,
    rect.height / 2,
    { type: "mousemove" },
    target.ownerGlobal
  );
  EventUtils.synthesizeMouse(target, toX, rect.height / 2, { type: "mouseup" }, target.ownerGlobal);
  return promise;
}

function goToMultipleLayouts(callback) {
  // eslint-disable-next-line no-async-promise-executor
  return new Promise(async (resolve) => {
    await SpecialPowers.pushPrefEnv({
      set: [["zen.view.use-single-toolbar", false]],
    });
    setTimeout(async () => {
      await callback();
      await SpecialPowers.popPrefEnv();
      setTimeout(() => {
        resolve();
      }, 1000); // Wait for new layout
    }, 1000); // Wait for new layout
  });
}



================================================
FILE: src/zen/tests/welcome/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
prefs = ["zen.welcome-screen.seen=false"]
support-files = [
  "head.js",
]

["browser_welcome.js"]



================================================
FILE: src/zen/tests/welcome/browser_welcome.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

/* eslint-disable mozilla/no-arbitrary-setTimeout */

add_task(async function test_Welcome_Steps() {
  const selectedTab = gBrowser.selectedTab;
  await new Promise((resolve) => {
    setTimeout(async () => {
      await waitForFocus();
      await EventUtils.synthesizeMouseAtCenter(
        document.getElementById("zen-welcome-start-button"),
        {}
      );
      setTimeout(() => {
        resolve();
      }, 4000); // Wait for the transition to complete
    }, 2000); // Give tons of time for the welcome start button to be clicked
  });
  ok(true, "Welcome start button clicked successfully");
  Assert.equal(
    window.windowState,
    window.STATE_MAXIMIZED,
    "Window should be maximized after clicking the welcome start button"
  );

  const welcomeContent = document.getElementById("zen-welcome-page-content");

  for (const button of document.querySelectorAll("#zen-welcome-page-sidebar-buttons button")) {
    Assert.notStrictEqual(
      getComputedStyle(button).pointerEvents,
      "none",
      `Button with l10n-id "${button.getAttribute("data-l10n-id")}" should be clickable`
    );
  }

  await goNextWelcomePage("zen-welcome-skip-button");
  ok(true, "Welcome Import Step Test Finished");

  Assert.greater(
    welcomeContent.children.length,
    0,
    "Welcome page content should have children after clicking next action"
  );

  for (const child of welcomeContent.children) {
    ok(
      child.querySelector("img").getAttribute("src").includes("blob:"),
      "Welcome page content should have an image with a base64 data URL"
    );
  }

  await EventUtils.synthesizeMouseAtCenter(welcomeContent.children[1], {});

  await new Promise((resolve) => {
    setTimeout(async () => {
      let engineName = await Services.search.getDefault();
      const selectedLabel = welcomeContent.children[1];
      ok(selectedLabel.querySelector("input").checked, "The selected label should be checked");
      Assert.equal(
        engineName.name,
        selectedLabel.querySelector("label").textContent.trim(),
        "The default search engine should match the selected label"
      );
      resolve();
    }, 100); // Wait for the transition to complete
  });

  await goNextWelcomePage("zen-generic-next");
  ok(true, "Welcome Search Step Test Finished");

  await new Promise((resolve) => {
    setTimeout(async () => {
      const essentials = welcomeContent.querySelector(
        "#zen-welcome-initial-essentials-browser-sidebar-essentials"
      ).children;
      Assert.greater(
        essentials.length,
        3,
        "Welcome page content should have more than 3 essentials after clicking next action"
      );
      await EventUtils.synthesizeMouseAtCenter(essentials[0], {});
      await EventUtils.synthesizeMouseAtCenter(essentials[1], {});
      await EventUtils.synthesizeMouseAtCenter(essentials[2], {});

      ok(
        essentials[0].hasAttribute("visuallyselected"),
        "The first essential should be visually selected"
      );
      ok(
        !essentials[1].hasAttribute("visuallyselected"),
        "The second essential should be visually selected"
      );
      ok(
        essentials[2].hasAttribute("visuallyselected"),
        "The third essential should be visually selected"
      );
      const urlsToCheck = [
        essentials[0].getAttribute("data-url"),
        essentials[2].getAttribute("data-url"),
      ];
      for (const url of urlsToCheck) {
        ok(url.startsWith("https://"), `The URL "${url}" should start with "https://"`);
      }

      await goNextWelcomePage("zen-generic-next");

      await new Promise((r) => {
        setTimeout(async () => {
          for (const url of urlsToCheck) {
            ok(
              await PlacesUtils.history.hasVisits(url),
              `The URL "${url}" should have visits in history`
            );
          }
          r();
        }, 1000); // Wait for the transition to complete
      });
      resolve();
    }, 1000); // Wait for the transition to complete
  });

  await goNextWelcomePage("zen-generic-next");
  ok(true, "Welcome Theme Step Test Finished");

  await goNextWelcomePage("zen-welcome-start-browsing");
  ok(true, "Welcome Finish Step Test Finished");

  await new Promise((resolve) => {
    setTimeout(async () => {
      Assert.greater(
        gBrowser._numZenEssentials,
        3,
        "There should be more than 3 Zen Essentials after the welcome process"
      );
      Assert.equal(
        gBrowser.tabs.filter((tab) => tab.pinned && !tab.hasAttribute("zen-essential")).length,
        3,
        "There should be 3 pinned tabs after the welcome process"
      );

      gBrowser.selectedTab = selectedTab;
      const groups = gBrowser.tabGroups;
      Assert.equal(groups.length, 1, "There should be one tab group after the welcome process");
      const group = groups[0];
      Assert.equal(
        group.tabs.length,
        3,
        "The first tab group should have 3 tabs after the welcome process"
      );
      Assert.equal(
        group.label,
        "zen basics",
        'The first tab group should be labeled "zen basics" after the welcome process'
      );
      for (const tab of gBrowser.tabs) {
        if (tab.hasAttribute("zen-empty-tab")) {
          continue;
        }
        if (tab.pinned) {
          if (!tab.hasAttribute("zen-essential")) {
            ok(
              tab.hasAttribute("zen-workspace-id"),
              "Pinned tabs should have a zen-workspace-id attribute"
            );
            Assert.equal(tab.group, group, "Pinned tabs should belong to the first tab group");
          }
        }
      }
      group.delete();
      resolve();
    }, 3000); // Wait for the transition to complete
  });
  for (const tab of gBrowser.tabs) {
    if (tab.pinned) {
      gBrowser.removeTab(tab);
    }
  }
  ok(true, "Welcome process completed successfully");
});



================================================
FILE: src/zen/tests/welcome/head.js
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

async function goNextWelcomePage(l10nId) {
  /* eslint-disable-next-line no-async-promise-executor */
  await new Promise(async (resolve) => {
    const button = document.querySelector(
      `#zen-welcome-page-sidebar-buttons button[data-l10n-id="${l10nId}"]`
    );
    if (!button) {
      throw new Error(`Button with l10n-id "${l10nId}" not found`);
    }
    await EventUtils.synthesizeMouseAtCenter(button, {});
    setTimeout(() => {
      setTimeout(() => {
        resolve();
      }, 0);
    }, 3000); // Wait for the transition to complete
  });
}

async function waitForFocus(...args) {
  await new Promise((resolve) => SimpleTest.waitForFocus(resolve, ...args));
}



================================================
FILE: src/zen/tests/window_sync/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
prefs = ["zen.window-sync.enabled=true", "zen.urlbar.replace-newtab=false"]
support-files = [
  "head.js",
]

["browser_sync_tab_open.js"]
["browser_sync_tab_label.js"]



================================================
FILE: src/zen/tests/window_sync/browser_sync_tab_label.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_SimpleLabelChange() {
  let newLabel = "Test Label";
  await withNewTabAndWindow(async (newTab, win) => {
    let otherTab = gZenWindowSync.getItemFromWindow(win, newTab.id);
    await runSyncAction(
      () => {
        gBrowser._setTabLabel(newTab, newLabel);
        Assert.equal(newTab.label, newLabel, "The original tab label should be changed");
      },
      async () => {
        Assert.equal(
          otherTab.label,
          newLabel,
          "The synced tab label should match the changed label"
        );
      },
      "ZenTabLabelChanged"
    );
  });
});

add_task(async function test_DontChangeBluredTabLabel() {
  let newLabel = "Test Label";
  await withNewTabAndWindow(async (newTab, win) => {
    let otherTab = gZenWindowSync.getItemFromWindow(win, newTab.id);
    Assert.ok(!otherTab._zenContentsVisible, "The synced tab should be blured");
    gBrowser._setTabLabel(newTab, newLabel);
    Assert.notEqual(
      otherTab.label,
      newLabel,
      "The synced tab label should NOT match the changed label"
    );
  });
});



================================================
FILE: src/zen/tests/window_sync/browser_sync_tab_open.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_SimpleTabOpen() {
  await withNewTabAndWindow(async (newTab, win) => {
    let tabId = newTab.id;
    let otherTab = gZenWindowSync.getItemFromWindow(win, tabId);
    Assert.ok(otherTab, "The opened tab should be found in the synced window");
    Assert.ok(newTab._zenContentsVisible, "The opened tab should be visible");
    Assert.equal(otherTab.id, tabId, "The opened tab ID should match the synced tab ID");
  });
});



================================================
FILE: src/zen/tests/window_sync/head.js
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

async function withNewSyncedWindow(action) {
  await gZenWorkspaces.promiseInitialized;
  const win = await BrowserTestUtils.openNewBrowserWindow();
  await win.gZenWorkspaces.promiseInitialized;
  await action(win);
  await BrowserTestUtils.closeWindow(win);
}

async function runSyncAction(action, callback, type) {
  await new Promise((resolve) => {
    window.gZenWindowSync.addSyncHandler(async function handler(aEvent) {
      if (aEvent.type === type) {
        window.gZenWindowSync.removeSyncHandler(handler);
        await callback(aEvent);
        resolve();
      }
    });
    action();
  });
}

function getTabState(tab) {
  return JSON.parse(SessionStore.getTabState(tab));
}

async function withNewTabAndWindow(action) {
  let newTab = null;
  await withNewSyncedWindow(async (win) => {
    await runSyncAction(
      () => {
        newTab = gBrowser.addTrustedTab("https://example.com/", { inBackground: true });
      },
      async (aEvent) => {
        Assert.equal(aEvent.type, "TabOpen", "Event type should be TabOpen");
        await action(newTab, win);
      },
      "TabOpen"
    );
  });
  let portalTabClosing = BrowserTestUtils.waitForTabClosing(newTab);
  BrowserTestUtils.removeTab(newTab);
  await portalTabClosing;
}



================================================
FILE: src/zen/tests/workspaces/browser.toml
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

[DEFAULT]
prefs = ["zen.workspaces.separate-essentials=false"]
support-files = [
  "head.js",
]

["browser_basic_workspaces.js"]
["browser_workspace_bookmarks.js"]
["browser_double_click_newtab.js"]
["browser_overflow_scrollbox.js"]

["browser_issue_8699.js"]
["browser_issue_9900.js"]
["browser_issue_10455.js"]

["browser_private_mode.js"]
["browser_private_mode_startup.js"]



================================================
FILE: src/zen/tests/workspaces/browser_basic_workspaces.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_setup(async function () {});

add_task(async function test_Check_Creation() {
  const currentWorkspaceUUID = gZenWorkspaces.activeWorkspace;
  await gZenWorkspaces.createAndSaveWorkspace("Test Workspace 2");
  const workspaces = gZenWorkspaces.getWorkspaces();
  Assert.strictEqual(workspaces.length, 2, "Two workspaces should exist.");
  Assert.notStrictEqual(
    currentWorkspaceUUID,
    workspaces[1].uuid,
    "The new workspace should be different from the current one."
  );

  let newTab = BrowserTestUtils.addTab(gBrowser, "about:blank", {
    skipAnimation: true,
  });
  ok(newTab, "New tab should be opened.");
  Assert.strictEqual(gBrowser.tabs.length, 2, "There should be two tabs.");
  BrowserTestUtils.removeTab(newTab);

  await gZenWorkspaces.removeWorkspace(gZenWorkspaces.activeWorkspace);
  const workspacesAfterRemove = gZenWorkspaces.getWorkspaces();
  Assert.strictEqual(workspacesAfterRemove.workspaces.length, 1, "One workspace should exist.");
  Assert.strictEqual(
    workspacesAfterRemove[0].uuid,
    currentWorkspaceUUID,
    "The workspace should be the one we started with."
  );
  Assert.strictEqual(gBrowser.tabs.length, 2, "There should be one tab.");
});



================================================
FILE: src/zen/tests/workspaces/browser_change_to_empty.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Change_To_Empty() {
  // eslint-disable-next-line no-unused-vars
  const currentWorkspaceUUID = gZenWorkspaces.activeWorkspace;
  await gZenWorkspaces.createAndSaveWorkspace("Test Workspace 2");
  const workspaces = gZenWorkspaces.getWorkspaces();
  const secondWorkspace = workspaces.workspaces[1];

  await gZenWorkspaces.changeWorkspace(secondWorkspace.uuid);
  Assert.strictEqual(
    gBrowser.selectedTab,
    gZenWorkspaces._emptyTab,
    "The empty tab should be selected."
  );

  await gZenWorkspaces.removeWorkspace(gZenWorkspaces.activeWorkspace);
  Assert.notStrictEqual(
    gBrowser.selectedTab,
    gZenWorkspaces._emptyTab,
    "The empty tab should not be selected anymore."
  );

  const workspacesAfterRemove = gZenWorkspaces.getWorkspaces();
  Assert.strictEqual(workspacesAfterRemove.length, 1, "One workspace should exist.");
  Assert.strictEqual(gBrowser.tabs.length, 2, "There should be two tabs.");
});



================================================
FILE: src/zen/tests/workspaces/browser_double_click_newtab.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_setup(async function () {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.urlbar.replace-newtab", false]],
  });

  registerCleanupFunction(async () => {
    await SpecialPowers.popPrefEnv();
  });
});

add_task(async function test_Check_Creation() {
  const placeToDoubleClick = gZenWorkspaces.activeWorkspaceElement.querySelector(
    ".zen-workspace-empty-space"
  );
  ok(placeToDoubleClick, "We should have found the place to double click.");
  EventUtils.sendMouseEvent({ type: "dblclick" }, placeToDoubleClick, window);
  await TestUtils.waitForCondition(() => gBrowser.tabs.length === 3, "New tab should be opened.");
  ok(true, "New tab should be opened.");
  await BrowserTestUtils.removeTab(gBrowser.tabs[1]);
  Assert.strictEqual(gBrowser.tabs.length, 2, "There should be one tab.");
});



================================================
FILE: src/zen/tests/workspaces/browser_issue_10455.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Issue_10455() {
  await SpecialPowers.pushPrefEnv({
    set: [["browser.tabs.closeWindowWithLastTab", true]],
  });

  let newWindow = await BrowserTestUtils.openNewBrowserWindow();
  await newWindow.gZenWorkspaces.promiseInitialized;
  ok(
    newWindow.document.documentElement.hasAttribute("zen-workspace-id"),
    "New window should have a zen-workspace-id attribute"
  );

  const unloadEvent = BrowserTestUtils.waitForEvent(newWindow, "unload");
  newWindow.BrowserCommands.closeTabOrWindow();
  await unloadEvent;

  ok(newWindow.closed, "Window should be closing");
  await SpecialPowers.popPrefEnv();
});

add_task(async function test_Issue_10455_Dont_Close() {
  await SpecialPowers.pushPrefEnv({
    set: [["browser.tabs.closeWindowWithLastTab", false]],
  });

  let newWindow = await BrowserTestUtils.openNewBrowserWindow();
  await newWindow.gZenWorkspaces.promiseInitialized;
  ok(
    newWindow.document.documentElement.hasAttribute("zen-workspace-id"),
    "New window should have a zen-workspace-id attribute"
  );

  newWindow.BrowserCommands.closeTabOrWindow();
  Assert.strictEqual(newWindow.gBrowser.tabs.length, 1, "Window should still have one tab");
  ok(newWindow.gBrowser.selectedTab.hasAttribute("zen-empty-tab"), "Tab should be a zen empty tab");
  ok(!newWindow.closing, "Window should be closing");

  await BrowserTestUtils.closeWindow(newWindow);
  await SpecialPowers.popPrefEnv();
});



================================================
FILE: src/zen/tests/workspaces/browser_issue_8699.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Restore_Closed_Tabs() {
  const tabsToIgnore = gBrowser.tabs;
  const selected = gBrowser.selectedTab;
  const tabsToClose = [];
  for (let i = 0; i < 3; i++) {
    const tab = await BrowserTestUtils.openNewForegroundTab(
      window.gBrowser,
      `data:text/html,<title>tab${i}</title>`,
      true,
      { skipAnimation: true }
    );
    tabsToClose.push(tab);
  }
  gBrowser.selectedTab = tabsToClose[1];
  await TabStateFlusher.flushWindow(window);
  Assert.equal(
    gBrowser.tabs.length,
    5, // 1 initial tab + 3 new tabs
    "There should be four tabs after opening three new tabs"
  );
  gBrowser.removeTabs(tabsToClose);
  gBrowser.selectedTab = selected;
  await TabStateFlusher.flushWindow(window);
  await new Promise((resolve) => {
    Assert.equal(
      gBrowser.selectedTab,
      selected,
      "Current tab should still be selected after closing tabs"
    );
    Assert.equal(gBrowser.tabs.length, 2, "There should be one tab left after closing all tabs");
    SessionWindowUI.restoreLastClosedTabOrWindowOrSession(window);
    ok(!selected.selected, "Current tab should not be selected after restore");
    Assert.equal(
      gBrowser.tabs.length,
      4, // 3 restored tabs + 1 for empty tab
      "There should be four tabs after restoring closed tabs"
    );
    resolve();
  });
  await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "about:blank", true, {
    skipAnimation: true,
  });
  for (const tab of gBrowser.tabs.filter((t) => !tabsToIgnore.includes(t))) {
    await BrowserTestUtils.removeTab(tab);
  }
});



================================================
FILE: src/zen/tests/workspaces/browser_issue_9900.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Invalid_Workspace_Name() {
  const fakeWorkspace = {
    name: "",
  };
  const icon = gZenWorkspaces.getWorkspaceIcon(fakeWorkspace);
  Assert.equal(icon, fakeWorkspace.icon, "Test should not have crashed");
});

add_task(async function test_Invalid_Workspace_Emoji() {
  const fakeWorkspace = {
    name: "👍 test test",
  };
  const icon = gZenWorkspaces.getWorkspaceIcon(fakeWorkspace);
  Assert.equal(icon, "👍", "Emoji icon should match the first character of the workspace name");
});

add_task(async function test_Invalid_Workspace_Name() {
  const fakeWorkspace = {
    name: "my workspace",
  };
  const icon = gZenWorkspaces.getWorkspaceIcon(fakeWorkspace);
  Assert.equal(icon, "M", "Icon should match the first character of the workspace name");
});

add_task(async function test_Invalid_Workspace_Name() {
  const fakeWorkspace = {
    name: "my workspace",
    icon: "👍",
  };
  const icon = gZenWorkspaces.getWorkspaceIcon(fakeWorkspace);
  Assert.equal(icon, "👍", "Icon should be from the workspace icon");
});



================================================
FILE: src/zen/tests/workspaces/browser_overflow_scrollbox.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Check_ScrollBox_Overflow() {
  const scrollbox = gZenWorkspaces.activeScrollbox;
  scrollbox.smoothScroll = false;
  const selectedTab = gBrowser.selectedTab;
  const tabsToRemove = [];
  while (!scrollbox.overflowing) {
    await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "https://example.com/", true);
    tabsToRemove.push(gBrowser.selectedTab);
  }

  // An extra tab to ensure the scrollbox is overflowing
  await BrowserTestUtils.openNewForegroundTab(window.gBrowser, "https://example.com/", true);
  tabsToRemove.push(gBrowser.selectedTab);

  ok(scrollbox.overflowing, "The scrollbox should be overflowing after opening enough tabs");

  Assert.strictEqual(scrollbox.scrollPosition, 0, "The scrollbox should be scrolled to the top");

  gBrowser.selectedTab = gBrowser.tabs[gBrowser.tabs.length - 1];
  await new Promise((resolve) => {
    /* eslint-disable-next-line mozilla/no-arbitrary-setTimeout */
    setTimeout(() => {
      Assert.greater(scrollbox.scrollPosition, 0, "The scrollbox should be scrolled to the bottom");
      resolve();
    }, 200);
  });

  gBrowser.selectedTab = gBrowser.visibleTabs[0];
  await new Promise((resolve) => {
    /* eslint-disable-next-line mozilla/no-arbitrary-setTimeout */
    setTimeout(() => {
      // TODO: Use a real scroll position check instead of a hardcoded value
      Assert.less(scrollbox.scrollPosition, 60, "The scrollbox should be scrolled to the top");
      resolve();
    }, 200);
  });
  gBrowser.selectedTab = selectedTab;
  for (const tab of tabsToRemove) {
    await BrowserTestUtils.removeTab(tab);
  }
});



================================================
FILE: src/zen/tests/workspaces/browser_private_mode.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Private_Mode() {
  await SpecialPowers.pushPrefEnv({
    set: [["privacy.userContext.enabled", true]],
  });

  let privateWindow = await BrowserTestUtils.openNewBrowserWindow({
    private: true,
  });
  await privateWindow.gZenWorkspaces.promiseInitialized;
  ok(
    privateWindow.document.documentElement.hasAttribute("zen-workspace-id"),
    "Private window should have a zen-workspace-id attribute"
  );

  await BrowserTestUtils.closeWindow(privateWindow);
  await SpecialPowers.popPrefEnv();
});



================================================
FILE: src/zen/tests/workspaces/browser_private_mode_startup.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

add_task(async function test_Private_Mode_Startup() {
  let privateWindow = await BrowserTestUtils.openNewBrowserWindow({
    private: true,
  });
  await privateWindow.gZenWorkspaces.promiseInitialized;
  await new Promise((resolve) => {
    /* eslint-disable-next-line mozilla/no-arbitrary-setTimeout */
    setTimeout(() => {
      Assert.equal(
        privateWindow.gBrowser.tabs.length,
        2,
        "Private window should start with one tab"
      );
      resolve();
    }, 1000);
  });
  await BrowserTestUtils.closeWindow(privateWindow);
});



================================================
FILE: src/zen/tests/workspaces/browser_workspace_bookmarks.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

/* eslint-disable mozilla/no-arbitrary-setTimeout */

"use strict";

const TEST_URL = "about:buildconfig";
const TEST_URI = Services.io.newURI(TEST_URL);

function getToolbarNodeForItemGuid(aItemTitle) {
  var children = document.getElementById("PlacesToolbarItems").children;
  for (let child of children) {
    if (aItemTitle == child._placesNode.title) {
      return child;
    }
  }
  return null;
}

function isToolbarVisible(aToolbar) {
  let hidingAttribute = aToolbar.getAttribute("type") == "menubar" ? "autohide" : "collapsed";
  let hidingValue = aToolbar.getAttribute(hidingAttribute)?.toLowerCase();
  // Check for both collapsed="true" and collapsed="collapsed"
  return hidingValue !== "true" && hidingValue !== hidingAttribute;
}

function promiseSetToolbarVisibility(aToolbar, aVisible) {
  if (isToolbarVisible(aToolbar) != aVisible) {
    let visibilityChanged = TestUtils.waitForCondition(() => aToolbar.collapsed != aVisible);
    setToolbarVisibility(aToolbar, aVisible, undefined, false);
    return visibilityChanged;
  }
  return Promise.resolve();
}

async function changeWorkspaceForBookmark(aBookmark, aWorkspace) {
  const toolbarNode = getToolbarNodeForItemGuid(aBookmark.title);
  ok(toolbarNode, "Toolbar node should be found");
  await withBookmarksDialog(
    false,
    async function openPropertiesDialog() {
      let placesContext = document.getElementById("placesContext");
      let promisePopup = BrowserTestUtils.waitForEvent(placesContext, "popupshown");
      EventUtils.synthesizeMouseAtCenter(toolbarNode, {
        button: 2,
        type: "contextmenu",
      });
      await promisePopup;

      let properties = document.getElementById("placesContext_show_bookmark:info");
      placesContext.activateItem(properties, {});
    },
    async function test(dialogWin) {
      // Ensure the dialog has initialized.
      await TestUtils.waitForCondition(() => dialogWin.document.title);

      let openWorkspaceSelectorButton = dialogWin.document.getElementById(
        "editBMPanel_workspacesSelectorExpander"
      );

      // Open the workspace selector.
      openWorkspaceSelectorButton.click();

      await setTimeout(() => {}, 100);
      const checkbox = dialogWin.document.querySelector(`input[value="${aWorkspace.uuid}"]`);

      // Check the checkbox for the workspace.
      checkbox.click();
      await setTimeout(() => {}, 100);

      // Confirm and close the dialog.
      EventUtils.synthesizeKey("VK_RETURN", {}, dialogWin);
      await setTimeout(() => {}, 100);
    }
  );
}

async function withBookmarksShowing(aCallback) {
  await SpecialPowers.pushPrefEnv({
    set: [["zen.view.hide-window-controls", false]],
  });
  await setTimeout(() => {}, 1000);
  await aCallback();
  await SpecialPowers.popPrefEnv();
}

add_setup(async function () {
  let toolbar = document.getElementById("PersonalToolbar");
  let wasCollapsed = toolbar.collapsed;

  // Uncollapse the personal toolbar if needed.
  if (wasCollapsed) {
    await promiseSetToolbarVisibility(toolbar, true);
  }

  registerCleanupFunction(async () => {
    // Collapse the personal toolbar if needed.
    if (wasCollapsed) {
      await promiseSetToolbarVisibility(toolbar, false);
    }
    await PlacesUtils.bookmarks.eraseEverything();
  });
});

add_task(async function test_workspace_bookmark() {
  ok(true, "todo");
  /* eslint-disable no-unreachable */
  return;
  await withBookmarksShowing(async () => {
    await gZenWorkspaces.createAndSaveWorkspace("Test Workspace 2");
    const workspaces = gZenWorkspaces.getWorkspaces();
    Assert.strictEqual(workspaces.length, 2, "Two workspaces should exist.");
    const firstWorkspace = workspaces[0];
    const secondWorkspace = workspaces[1];
    Assert.notStrictEqual(
      firstWorkspace.uuid,
      secondWorkspace.uuid,
      "The new workspace should be different from the current one."
    );

    await gZenWorkspaces.changeWorkspaceWithID(firstWorkspace.uuid);
    const bookmark1 = await PlacesUtils.bookmarks.insert({
      parentGuid: PlacesUtils.bookmarks.toolbarGuid,
      title: "workspace1",
      url: TEST_URI,
    });

    await changeWorkspaceForBookmark(bookmark1, firstWorkspace);

    await new Promise((resolve) => setTimeout(resolve, 100));
    const bookmark2 = await PlacesUtils.bookmarks.insert({
      parentGuid: PlacesUtils.bookmarks.toolbarGuid,
      title: "workspace2",
      url: TEST_URI,
    });

    await changeWorkspaceForBookmark(bookmark2, secondWorkspace);

    await gZenWorkspaces.changeWorkspace(secondWorkspace);
    await new Promise((resolve) => setTimeout(resolve, 100));
    const toolbarNode1 = getToolbarNodeForItemGuid(bookmark1.title);
    const toolbarNode2 = getToolbarNodeForItemGuid(bookmark2.title);
    ok(!toolbarNode1, "Bookmark1 should not be in the toolbar");
    ok(toolbarNode2, "Bookmark2 should be in the toolbar");

    await gZenWorkspaces.changeWorkspace(firstWorkspace);
    await new Promise((resolve) => setTimeout(resolve, 100));
    const toolbarNode3 = getToolbarNodeForItemGuid(bookmark1.title);
    const toolbarNode4 = getToolbarNodeForItemGuid(bookmark2.title);
    ok(toolbarNode3, "Bookmark1 should be in the toolbar");
    ok(!toolbarNode4, "Bookmark2 should not be in the toolbar");

    await PlacesUtils.bookmarks.remove(bookmark1);
    await PlacesUtils.bookmarks.remove(bookmark2);

    await gZenWorkspaces.removeWorkspace(secondWorkspace.uuid);
    Assert.equal(
      gZenWorkspaces.getWorkspaces().workspaces.length,
      1,
      "Only one workspace should remain after removing the second one."
    );
  });
});



================================================
FILE: src/zen/tests/workspaces/browser_workspace_unload.js
================================================
/* Any copyright is dedicated to the Public Domain.
   https://creativecommons.org/publicdomain/zero/1.0/ */

"use strict";

// verify that workspace unloading works
add_task(async function test_UnloadWorkspace_WithMultipleTabs() {
  const workspaceId = await gZenWorkspaces.createAndSaveWorkspace("Test Workspace 1");
  const tabs = [];
  for (let i = 0; i < 3; i++) {
    const tab = await BrowserTestUtils.openNewForegroundTab(
      window.gBrowser,
      `data:text/html,<title>Workspace Tab ${i}</title>`,
      true,
      { skipAnimation: true }
    );
    tab.setAttribute("zen-workspace-id", workspaceId);
    tabs.push(tab);
  }

  for (const tab of tabs) {
    ok(!tab.hasAttribute("pending"), "Tab should not be pending before unload");
    ok(tab.linkedPanel, "Tab should have linked panel before unload");
  }

  await gZenWorkspaces.unloadWorkspace();

  for (const tab of tabs) {
    ok(tab.hasAttribute("pending"), "Tab should be pending after unload");
    ok(!tab.linkedPanel, "Tab should not have linked panel after unload");
  }

  await gZenWorkspaces.removeWorkspace(workspaceId);
});

// verify that essential tabs are not unloaded
add_task(async function test_UnloadWorkspace_WithEssentialTabs() {
  const workspaceId = await gZenWorkspaces.createAndSaveWorkspace("Test Workspace 2");

  const regularTab = await BrowserTestUtils.openNewForegroundTab(
    window.gBrowser,
    "data:text/html,<title>Hi! I am a Regular Tab</title>",
    true,
    { skipAnimation: true }
  );
  regularTab.setAttribute("zen-workspace-id", workspaceId);

  const essentialTab = await BrowserTestUtils.openNewForegroundTab(
    window.gBrowser,
    "data:text/html,<title>Hi! I am an Essential Tab</title>",
    true,
    { skipAnimation: true }
  );
  essentialTab.setAttribute("zen-workspace-id", workspaceId);
  essentialTab.setAttribute("zen-essential", "true");

  await gZenWorkspaces.unloadWorkspace();

  ok(regularTab.hasAttribute("pending"), "Regular tab should be unloaded");
  ok(!regularTab.linkedPanel, "Regular tab should not have linked panel");

  ok(!essentialTab.hasAttribute("pending"), "Essential tab should not be unloaded");
  ok(essentialTab.linkedPanel, "Essential tab should still have linked panel");

  await gZenWorkspaces.removeWorkspace(workspaceId);
});

// only tabs from the targeted workspace should be unloaded
add_task(async function test_UnloadWorkspace_TargetedWorkspaceIsolation() {
  const inActiveWorkspaceId = await gZenWorkspaces.createAndSaveWorkspace(
    "Test In-Active Workspace"
  );
  const activeWorkspaceId = await gZenWorkspaces.createAndSaveWorkspace("Test Active Workspace");

  const inActiveWorkspaceTabs = [];
  for (let i = 0; i < 2; i++) {
    const tab = await BrowserTestUtils.openNewForegroundTab(
      window.gBrowser,
      `data:text/html,<title>In-Active Workspace Tab ${i}</title>`,
      true,
      { skipAnimation: true }
    );
    tab.setAttribute("zen-workspace-id", inActiveWorkspaceId);
    inActiveWorkspaceTabs.push(tab);
  }

  const activeWorkspaceTabs = [];
  for (let i = 0; i < 2; i++) {
    const tab = await BrowserTestUtils.openNewForegroundTab(
      window.gBrowser,
      `data:text/html,<title>Active Workspace Tab ${i}</title>`,
      true,
      { skipAnimation: true }
    );
    tab.setAttribute("zen-workspace-id", activeWorkspaceId);
    activeWorkspaceTabs.push(tab);
  }

  await gZenWorkspaces.unloadWorkspace(); // this unloads the latest created workspace -> activeWorkspaceId

  for (const tab of activeWorkspaceTabs) {
    ok(tab.hasAttribute("pending"), "Active workspace tab should be pending after unload");
    ok(!tab.linkedPanel, "Active workspace tab should not have linked panel after unload");
  }

  for (const tab of inActiveWorkspaceTabs) {
    ok(!tab.hasAttribute("pending"), "In-Active workspace tab should NOT be pending after unload");
    ok(tab.linkedPanel, "In-Active workspace tab should still have linked panel after unload");
  }

  await gZenWorkspaces.removeWorkspace(inActiveWorkspaceId);
  await gZenWorkspaces.removeWorkspace(activeWorkspaceId);
});



================================================
FILE: src/zen/tests/workspaces/head.js
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

const triggeringPrincipal_base64 = E10SUtils.SERIALIZED_SYSTEMPRINCIPAL;

const TAB_STATE_NEEDS_RESTORE = 1;
const TAB_STATE_RESTORING = 2;

const ROOT = getRootDirectory(gTestPath);
const HTTPROOT = ROOT.replace("chrome://mochitests/content/", "https://example.com/");
const HTTPSROOT = ROOT.replace("chrome://mochitests/content/", "https://example.com/");

const { SessionSaver } = ChromeUtils.importESModule(
  "resource:///modules/sessionstore/SessionSaver.sys.mjs"
);
const { SessionFile } = ChromeUtils.importESModule(
  "resource:///modules/sessionstore/SessionFile.sys.mjs"
);
const { TabState } = ChromeUtils.importESModule(
  "resource:///modules/sessionstore/TabState.sys.mjs"
);
const { TabStateFlusher } = ChromeUtils.importESModule(
  "resource:///modules/sessionstore/TabStateFlusher.sys.mjs"
);
const { SessionStoreTestUtils } = ChromeUtils.importESModule(
  "resource://testing-common/SessionStoreTestUtils.sys.mjs"
);

const { PageWireframes } = ChromeUtils.importESModule(
  "resource:///modules/sessionstore/PageWireframes.sys.mjs"
);

const ss = SessionStore;
SessionStoreTestUtils.init(this, window);

// Some tests here assume that all restored tabs are loaded without waiting for
// the user to bring them to the foreground. We ensure this by resetting the
// related preference (see the "firefox.js" defaults file for details).
Services.prefs.setBoolPref("browser.sessionstore.restore_on_demand", false);
registerCleanupFunction(function () {
  Services.prefs.clearUserPref("browser.sessionstore.restore_on_demand");
});

// Obtain access to internals
Services.prefs.setBoolPref("browser.sessionstore.debug", true);
registerCleanupFunction(function () {
  Services.prefs.clearUserPref("browser.sessionstore.debug");
});

// This kicks off the search service used on about:home and allows the
// session restore tests to be run standalone without triggering errors.
Cc["@mozilla.org/browser/clh;1"].getService(Ci.nsIBrowserHandler).defaultArgs;

function provideWindow(aCallback, aURL, aFeatures) {
  function callbackSoon(aWindow) {
    executeSoon(function executeCallbackSoon() {
      aCallback(aWindow);
    });
  }

  let win = openDialog(
    AppConstants.BROWSER_CHROME_URL,
    "",
    aFeatures || "chrome,all,dialog=no",
    aURL || "about:blank"
  );
  whenWindowLoaded(win, function onWindowLoaded(aWin) {
    if (!aURL) {
      info("Loaded a blank window.");
      callbackSoon(aWin);
      return;
    }

    aWin.gBrowser.selectedBrowser.addEventListener(
      "load",
      function () {
        callbackSoon(aWin);
      },
      { capture: true, once: true }
    );
  });
}

// This assumes that tests will at least have some state/entries
function waitForBrowserState(aState, aSetStateCallback) {
  return SessionStoreTestUtils.waitForBrowserState(aState, aSetStateCallback);
}

function promiseBrowserState(aState) {
  return SessionStoreTestUtils.promiseBrowserState(aState);
}

function promiseTabState(tab, state) {
  if (typeof state != "string") {
    state = JSON.stringify(state);
  }

  let promise = promiseTabRestored(tab);
  ss.setTabState(tab, state);
  return promise;
}

function promiseWindowRestoring(win) {
  return new Promise((resolve) =>
    win.addEventListener("SSWindowRestoring", resolve, { once: true })
  );
}

function promiseWindowRestored(win) {
  return new Promise((resolve) =>
    win.addEventListener("SSWindowRestored", resolve, { once: true })
  );
}

async function setBrowserState(state, win = window) {
  ss.setBrowserState(typeof state != "string" ? JSON.stringify(state) : state);
  await promiseWindowRestored(win);
}

async function setWindowState(win, state, overwrite = false) {
  ss.setWindowState(win, typeof state != "string" ? JSON.stringify(state) : state, overwrite);
  await promiseWindowRestored(win);
}

function waitForTopic(aTopic, aTimeout, aCallback) {
  let observing = false;
  function removeObserver() {
    if (!observing) {
      return;
    }
    Services.obs.removeObserver(observer, aTopic);
    observing = false;
  }

  let timeout = setTimeout(function () {
    removeObserver();
    aCallback(false);
  }, aTimeout);

  function observer() {
    removeObserver();
    timeout = clearTimeout(timeout);
    executeSoon(() => aCallback(true));
  }

  registerCleanupFunction(function () {
    removeObserver();
    if (timeout) {
      clearTimeout(timeout);
    }
  });

  observing = true;
  Services.obs.addObserver(observer, aTopic);
}

/**
 * Wait until session restore has finished collecting its data and is
 * has written that data ("sessionstore-state-write-complete").
 *
 * @param {() => void} aCallback If sessionstore-state-write-complete is sent
 * within buffering interval + 100 ms, the callback is passed |true|,
 * otherwise, it is passed |false|.
 */
function waitForSaveState(aCallback) {
  let timeout = 100 + Services.prefs.getIntPref("browser.sessionstore.interval");
  return waitForTopic("sessionstore-state-write-complete", timeout, aCallback);
}
function promiseSaveState() {
  return new Promise((resolve, reject) => {
    waitForSaveState((isSuccessful) => {
      if (!isSuccessful) {
        reject(new Error("Save state timeout"));
      } else {
        resolve();
      }
    });
  });
}
function forceSaveState() {
  return SessionSaver.run();
}

function promiseRecoveryFileContents() {
  let promise = forceSaveState();
  return promise.then(function () {
    return IOUtils.readUTF8(SessionFile.Paths.recovery, {
      decompress: true,
    });
  });
}

var promiseForEachSessionRestoreFile = async function (cb) {
  for (let key of SessionFile.Paths.loadOrder) {
    let data = "";
    try {
      data = await IOUtils.readUTF8(SessionFile.Paths[key], {
        decompress: true,
      });
    } catch (ex) {
      // Ignore missing files
      if (!(DOMException.isInstance(ex) && ex.name == "NotFoundError")) {
        throw ex;
      }
    }
    cb(data, key);
  }
};

function promiseBrowserLoaded(aBrowser, ignoreSubFrames = true, wantLoad = null) {
  return BrowserTestUtils.browserLoaded(aBrowser, !ignoreSubFrames, wantLoad);
}

function whenWindowLoaded(aWindow, aCallback) {
  aWindow.addEventListener(
    "load",
    function () {
      executeSoon(function executeWhenWindowLoaded() {
        aCallback(aWindow);
      });
    },
    { once: true }
  );
}
function promiseWindowLoaded(aWindow) {
  return new Promise((resolve) => whenWindowLoaded(aWindow, resolve));
}

var gUniqueCounter = 0;
function r() {
  return Date.now() + "-" + ++gUniqueCounter;
}

function* BrowserWindowIterator() {
  for (let currentWindow of Services.wm.getEnumerator("navigator:browser")) {
    if (!currentWindow.closed) {
      yield currentWindow;
    }
  }
}

var gWebProgressListener = {
  _callback: null,

  setCallback(aCallback) {
    if (!this._callback) {
      window.gBrowser.addTabsProgressListener(this);
    }
    this._callback = aCallback;
  },

  unsetCallback() {
    if (this._callback) {
      this._callback = null;
      window.gBrowser.removeTabsProgressListener(this);
    }
  },

  onStateChange(aBrowser, aWebProgress, aRequest, aStateFlags, _aStatus) {
    if (
      aStateFlags & Ci.nsIWebProgressListener.STATE_STOP &&
      aStateFlags & Ci.nsIWebProgressListener.STATE_IS_NETWORK &&
      aStateFlags & Ci.nsIWebProgressListener.STATE_IS_WINDOW
    ) {
      this._callback(aBrowser);
    }
  },
};

registerCleanupFunction(function () {
  gWebProgressListener.unsetCallback();
});

var gProgressListener = {
  _callback: null,

  setCallback(callback) {
    Services.obs.addObserver(this, "sessionstore-debug-tab-restored");
    this._callback = callback;
  },

  unsetCallback() {
    if (this._callback) {
      this._callback = null;
      Services.obs.removeObserver(this, "sessionstore-debug-tab-restored");
    }
  },

  observe(browser) {
    gProgressListener.onRestored(browser);
  },

  onRestored(browser) {
    if (ss.getInternalObjectState(browser) == TAB_STATE_RESTORING) {
      let args = [browser].concat(gProgressListener._countTabs());
      gProgressListener._callback.apply(gProgressListener, args);
    }
  },

  _countTabs() {
    let needsRestore = 0,
      isRestoring = 0,
      wasRestored = 0;

    for (let win of BrowserWindowIterator()) {
      for (let i = 0; i < win.gBrowser.tabs.length; i++) {
        let browser = win.gBrowser.tabs[i].linkedBrowser;
        let state = ss.getInternalObjectState(browser);
        if (browser.isConnected && !state) {
          wasRestored++;
        } else if (state == TAB_STATE_RESTORING) {
          isRestoring++;
        } else if (state == TAB_STATE_NEEDS_RESTORE || !browser.isConnected) {
          needsRestore++;
        }
      }
    }
    return [needsRestore, isRestoring, wasRestored];
  },
};

registerCleanupFunction(function () {
  gProgressListener.unsetCallback();
});

// Close all but our primary window.
function promiseAllButPrimaryWindowClosed() {
  let windows = [];
  for (let win of BrowserWindowIterator()) {
    if (win != window) {
      windows.push(win);
    }
  }

  return Promise.all(windows.map(BrowserTestUtils.closeWindow));
}

// Forget all closed windows.
function forgetClosedWindows() {
  while (ss.getClosedWindowCount() > 0) {
    ss.forgetClosedWindow(0);
  }
}

// Forget all closed tabs for a window
function forgetClosedTabs(win) {
  const closedTabCount = ss.getClosedTabCountForWindow(win);
  for (let i = 0; i < closedTabCount; i++) {
    try {
      ss.forgetClosedTab(win, 0);
    } catch (err) {
      // This will fail if there are tab groups in here
    }
  }
}

function forgetSavedTabGroups() {
  const tabGroups = ss.getSavedTabGroups();
  tabGroups.forEach((tabGroup) => ss.forgetSavedTabGroup(tabGroup.id));
}

function forgetClosedTabGroups(win) {
  const tabGroups = ss.getClosedTabGroups(win);
  tabGroups.forEach((tabGroup) => ss.forgetClosedTabGroup(win, tabGroup.id));
}

/**
 * When opening a new window it is not sufficient to wait for its load event.
 * We need to use whenDelayedStartupFinshed() here as the browser window's
 * delayedStartup() routine is executed one tick after the window's load event
 * has been dispatched. browser-delayed-startup-finished might be deferred even
 * further if parts of the window's initialization process take more time than
 * expected (e.g. reading a big session state from disk).
 *
 * @param {object} aOptions
 * @param {() => void} aCallback
 */
function whenNewWindowLoaded(aOptions, aCallback) {
  let features = "";
  let url = "about:blank";

  if ((aOptions && aOptions.private) || false) {
    features = ",private";
    url = "about:privatebrowsing";
  }

  let win = openDialog(AppConstants.BROWSER_CHROME_URL, "", "chrome,all,dialog=no" + features, url);
  let delayedStartup = promiseDelayedStartupFinished(win);

  let browserLoaded = new Promise((resolve) => {
    if (url == "about:blank") {
      resolve();
      return;
    }

    win.addEventListener(
      "load",
      function () {
        let browser = win.gBrowser.selectedBrowser;
        promiseBrowserLoaded(browser).then(resolve);
      },
      { once: true }
    );
  });

  Promise.all([delayedStartup, browserLoaded]).then(() => aCallback(win));
}
function promiseNewWindowLoaded(aOptions) {
  return new Promise((resolve) => whenNewWindowLoaded(aOptions, resolve));
}

/**
 * This waits for the browser-delayed-startup-finished notification of a given
 * window. It indicates that the windows has loaded completely and is ready to
 * be used for testing.
 *
 * @param {Window} aWindow
 * @param {() => void} aCallback
 */
function whenDelayedStartupFinished(aWindow, aCallback) {
  Services.obs.addObserver(function observer(aSubject, aTopic) {
    if (aWindow == aSubject) {
      Services.obs.removeObserver(observer, aTopic);
      executeSoon(aCallback);
    }
  }, "browser-delayed-startup-finished");
}
function promiseDelayedStartupFinished(aWindow) {
  return new Promise((resolve) => whenDelayedStartupFinished(aWindow, resolve));
}

function promiseTabRestored(tab) {
  return BrowserTestUtils.waitForEvent(tab, "SSTabRestored");
}

function promiseTabRestoring(tab) {
  return BrowserTestUtils.waitForEvent(tab, "SSTabRestoring");
}

// Removes the given tab immediately and returns a promise that resolves when
// all pending status updates (messages) of the closing tab have been received.
function promiseRemoveTabAndSessionState(tab) {
  let sessionUpdatePromise = BrowserTestUtils.waitForSessionStoreUpdate(tab);
  BrowserTestUtils.removeTab(tab);
  return sessionUpdatePromise;
}

// Write DOMSessionStorage data to the given browser.
function modifySessionStorage(browser, storageData, storageOptions = {}) {
  let browsingContext = browser.browsingContext;
  if (storageOptions && "frameIndex" in storageOptions) {
    browsingContext = browsingContext.children[storageOptions.frameIndex];
  }

  return SpecialPowers.spawn(
    browsingContext,
    [[storageData, storageOptions]],
    async function ([data]) {
      let frame = content;
      let keys = new Set(Object.keys(data));
      let isClearing = !keys.size;
      let storage = frame.sessionStorage;

      return new Promise((resolve) => {
        docShell.chromeEventHandler.addEventListener(
          "MozSessionStorageChanged",
          function onStorageChanged(event) {
            if (event.storageArea == storage) {
              keys.delete(event.key);
            }

            if (keys.size == 0) {
              docShell.chromeEventHandler.removeEventListener(
                "MozSessionStorageChanged",
                onStorageChanged,
                true
              );
              resolve();
            }
          },
          true
        );

        if (isClearing) {
          storage.clear();
        } else {
          for (let key of keys) {
            frame.sessionStorage[key] = data[key];
          }
        }
      });
    }
  );
}

function pushPrefs(...aPrefs) {
  return SpecialPowers.pushPrefEnv({ set: aPrefs });
}

function popPrefs() {
  return SpecialPowers.popPrefEnv();
}

function setScrollPosition(bc, x, y) {
  return SpecialPowers.spawn(bc, [x, y], (childX, childY) => {
    return new Promise((resolve) => {
      content.addEventListener(
        "mozvisualscroll",
        function onScroll(event) {
          if (content.document.ownerGlobal.visualViewport == event.target) {
            content.removeEventListener("mozvisualscroll", onScroll, {
              mozSystemGroup: true,
            });
            resolve();
          }
        },
        { mozSystemGroup: true }
      );
      content.scrollTo(childX, childY);
    });
  });
}

async function checkScroll(tab, expected, msg) {
  let browser = tab.linkedBrowser;
  await TabStateFlusher.flush(browser);

  let scroll = JSON.parse(ss.getTabState(tab)).scroll || null;
  is(JSON.stringify(scroll), JSON.stringify(expected), msg);
}

function whenDomWindowClosedHandled(aCallback) {
  Services.obs.addObserver(function observer(aSubject, aTopic) {
    Services.obs.removeObserver(observer, aTopic);
    aCallback();
  }, "sessionstore-debug-domwindowclosed-handled");
}

function getPropertyOfFormField(browserContext, selector, propName) {
  return SpecialPowers.spawn(
    browserContext,
    [selector, propName],
    (selectorChild, propNameChild) => {
      return content.document.querySelector(selectorChild)[propNameChild];
    }
  );
}

function setPropertyOfFormField(browserContext, selector, propName, newValue) {
  return SpecialPowers.spawn(
    browserContext,
    [selector, propName, newValue],
    (selectorChild, propNameChild, newValueChild) => {
      let node = content.document.querySelector(selectorChild);
      node[propNameChild] = newValueChild;

      let event = node.ownerDocument.createEvent("UIEvents");
      event.initUIEvent("input", true, true, node.ownerGlobal, 0);
      node.dispatchEvent(event);
    }
  );
}

function promiseOnHistoryReplaceEntry(browser) {
  return new Promise((resolve) => {
    let sessionHistory = browser.browsingContext?.sessionHistory;
    if (sessionHistory) {
      var historyListener = {
        OnHistoryNewEntry() {},
        OnHistoryGotoIndex() {},
        OnHistoryPurge() {},
        OnHistoryReload() {
          return true;
        },

        OnHistoryReplaceEntry() {
          resolve();
        },

        QueryInterface: ChromeUtils.generateQI(["nsISHistoryListener", "nsISupportsWeakReference"]),
      };

      sessionHistory.addSHistoryListener(historyListener);
    }
  });
}

function loadTestSubscript(filePath) {
  Services.scriptloader.loadSubScript(new URL(filePath, gTestPath).href, this);
}

function addCoopTask(aFile, aTest, aUrlRoot) {
  async function taskToBeAdded() {
    info(`File ${aFile} has COOP headers enabled`);
    let filePath = `browser/browser/components/sessionstore/test/${aFile}`;
    let url = aUrlRoot + `coopHeaderCommon.sjs?fileRoot=${filePath}`;
    await aTest(url);
  }
  Object.defineProperty(taskToBeAdded, "name", { value: aTest.name });
  add_task(taskToBeAdded);
}

function addNonCoopTask(aFile, aTest, aUrlRoot) {
  async function taskToBeAdded() {
    await aTest(aUrlRoot + aFile);
  }
  Object.defineProperty(taskToBeAdded, "name", { value: aTest.name });
  add_task(taskToBeAdded);
}

function openAndCloseTab(window, url) {
  return SessionStoreTestUtils.openAndCloseTab(window, url);
}

/**
 * This is regrettable, but when `promiseBrowserState` resolves, we're still
 * midway through loading the tabs. To avoid race conditions in URLs for tabs
 * being available, wait for all the loads to finish:
 *
 * @param {number} numberOfLoads
 */
function promiseSessionStoreLoads(numberOfLoads) {
  let loadsSeen = 0;
  return new Promise((resolve) => {
    Services.obs.addObserver(function obs(browser) {
      loadsSeen++;
      if (loadsSeen == numberOfLoads) {
        resolve();
      }
      // The typeof check is here to avoid one test messing with everything else by
      // keeping the observer indefinitely.
      if (typeof info == "undefined" || loadsSeen >= numberOfLoads) {
        Services.obs.removeObserver(obs, "sessionstore-debug-tab-restored");
      }
      info("Saw load for " + browser.currentURI.spec);
    }, "sessionstore-debug-tab-restored");
  });
}

function triggerClickOn(target, options) {
  let promise = BrowserTestUtils.waitForEvent(target, "click");
  if (AppConstants.platform == "macosx") {
    options.metaKey = options.ctrlKey;
    delete options.ctrlKey;
  }
  EventUtils.synthesizeMouseAtCenter(target, options);
  return promise;
}

async function openTabMenuFor(tab) {
  let tabMenu = tab.ownerDocument.getElementById("tabContextMenu");

  let tabMenuShown = BrowserTestUtils.waitForEvent(tabMenu, "popupshown");
  EventUtils.synthesizeMouseAtCenter(tab, { type: "contextmenu" }, tab.ownerGlobal);
  await tabMenuShown;

  return tabMenu;
}

var withBookmarksDialog = async function (autoCancel, openFn, taskFn, closeFn) {
  let dialogUrl = "chrome://browser/content/places/bookmarkProperties.xhtml";
  let closed = false;
  // We can't show the in-window prompt for windows which don't have
  // gDialogBox, like the library (Places:Organizer) window.
  let hasDialogBox = !!Services.wm.getMostRecentWindow("").gDialogBox;
  let dialogPromise;
  if (hasDialogBox) {
    dialogPromise = BrowserTestUtils.promiseAlertDialogOpen(null, dialogUrl, {
      isSubDialog: true,
    });
  } else {
    dialogPromise = BrowserTestUtils.domWindowOpenedAndLoaded(null, (win) => {
      return win.document.documentURI.startsWith(dialogUrl);
    }).then((win) => {
      ok(
        win.location.href.startsWith(dialogUrl),
        "The bookmark properties dialog is open: " + win.location.href
      );
      // This is needed for the overlay.
      return SimpleTest.promiseFocus(win).then(() => win);
    });
  }
  let dialogClosePromise = dialogPromise.then((win) => {
    if (!hasDialogBox) {
      return BrowserTestUtils.domWindowClosed(win);
    }
    let container = win.top.document.getElementById("window-modal-dialog");
    return BrowserTestUtils.waitForEvent(container, "close").then(() => {
      return BrowserTestUtils.waitForMutationCondition(
        container,
        { childList: true, attributes: true },
        () => !container.hasChildNodes() && !container.open
      );
    });
  });
  dialogClosePromise.then(() => {
    closed = true;
  });

  info("withBookmarksDialog: opening the dialog");
  // The dialog might be modal and could block our events loop, so executeSoon.
  executeSoon(openFn);

  info("withBookmarksDialog: waiting for the dialog");
  let dialogWin = await dialogPromise;

  // Ensure overlay is loaded
  info("waiting for the overlay to be loaded");
  await dialogWin.document.mozSubdialogReady;

  // Check the first input is focused.
  let doc = dialogWin.document;
  let elt = doc.querySelector('input:not([hidden="true"])');
  ok(elt, "There should be an input to focus.");

  if (elt) {
    info("waiting for focus on the first textfield");
    await TestUtils.waitForCondition(
      () => doc.activeElement == elt,
      "The first non collapsed input should have been focused"
    );
  }

  info("withBookmarksDialog: executing the task");

  let closePromise = () => Promise.resolve();
  if (closeFn) {
    closePromise = closeFn(dialogWin);
  }
  let guid;
  try {
    await taskFn(dialogWin);
  } finally {
    if (!closed && autoCancel) {
      info("withBookmarksDialog: canceling the dialog");
      doc.getElementById("bookmarkpropertiesdialog").cancelDialog();
      await closePromise;
    }
    guid = await PlacesUIUtils.lastBookmarkDialogDeferred.promise;
    // Give the dialog a little time to close itself.
    await dialogClosePromise;
  }
  return guid;
};



================================================
FILE: src/zen/toolkit/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

DIRS += [
  "common",
]



================================================
FILE: src/zen/toolkit/common/components.conf
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

Classes = [
    {
        'cid': '{d034642a-43b1-4814-be1c-8ad75e337c84}',
        'interfaces': ['nsIZenCommonUtils'],
        'contract_ids': ['@mozilla.org/zen/common-utils;1'],
        'type': 'zen::ZenCommonUtils',
        'headers': ['mozilla/ZenCommonUtils.h'],
        'js_name': 'zen',
        'processes': ProcessSelector.MAIN_PROCESS_ONLY,
    },
]



================================================
FILE: src/zen/toolkit/common/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

XPIDL_SOURCES += [
    "nsIZenCommonUtils.idl",
]

EXPORTS.mozilla += [
    "ZenCommonUtils.h",
    "ZenShareInternal.h",
]

SOURCES += [
    "ZenCommonUtils.cpp",
]

XPCOM_MANIFESTS += [
    "components.conf",
]

if CONFIG["MOZ_WIDGET_TOOLKIT"] == "windows":
    DIRS += ["windows"]

if CONFIG["MOZ_WIDGET_TOOLKIT"] == "cocoa":
    DIRS += ["cocoa"]

FINAL_LIBRARY = "xul"
XPIDL_MODULE = "zen"



================================================
FILE: src/zen/toolkit/common/nsIZenCommonUtils.idl
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "nsISupports.idl"
#include "nsIURI.idl"

/**
 * @brief Common utility functions for Zen.
 */
[scriptable, uuid(d034642a-43b1-4814-be1c-8ad75e337c84)]
interface nsIZenCommonUtils : nsISupports {
  /*
   * @brief Share using the native share dialog.
   * @param window The window to use for the share dialog.
   * @param url The URL to share.
   * @param title The title of the share.
   * @param text The text to share.
   * @param x The x coordinate of the share dialog.
   * @param y The y coordinate of the share dialog.
   * @returns A promise that resolves when the share is complete.
   */
  void share(in nsIURI url, in ACString title, in ACString text, 
             in uint32_t x, in uint32_t y, in uint32_t width, in uint32_t height);
  /*
   * @brief Check if the current context can share data.
   * @param window The window to check.
   * @returns True if the current context can share data, false otherwise.
   */
  boolean canShare();
  /*
   * @brief Play a single haptic feedback note if supported.
   */
  void playHapticFeedback();
};




================================================
FILE: src/zen/toolkit/common/ZenCommonUtils.cpp
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "ZenCommonUtils.h"
#include "ZenShareInternal.h"

#include "nsGlobalWindowOuter.h"
#include "nsQueryObject.h"
#include "nsIWindowMediator.h"
#include "nsServiceManagerUtils.h"
#include "nsISharePicker.h"

#include "mozilla/StaticPrefs_zen.h"

#if defined(XP_WIN)
#  include "mozilla/WindowsVersion.h"
#endif

namespace zen {

// Use the macro to inject all of the definitions for nsISupports.
NS_IMPL_ISUPPORTS(ZenCommonUtils, nsIZenCommonUtils)
using WindowGlobalChild = mozilla::dom::WindowGlobalChild;

namespace {
/**
  * @brief Helper function to fetch the most recent window proxy.
  * @param aWindow The window to query.
  * @returns The most recent window.
  */
static nsresult GetMostRecentWindowProxy(mozIDOMWindowProxy** aWindow) {
  nsresult rv;
  nsCOMPtr<nsIWindowMediator> med(
      do_GetService(NS_WINDOWMEDIATOR_CONTRACTID, &rv));
  if (NS_FAILED(rv)) return rv;

  if (med) return med->GetMostRecentBrowserWindow(aWindow);

  return NS_ERROR_FAILURE;
}
/**
  * @brief Helper function to query and get a reference to the window.
  * @param aWindow The window to query.
  */
static nsCOMPtr<mozIDOMWindowProxy> GetMostRecentWindow() {
  nsCOMPtr<mozIDOMWindowProxy> aWindow;
  nsresult rv = GetMostRecentWindowProxy(getter_AddRefs(aWindow));
  if (NS_FAILED(rv) || !aWindow) {
    return nullptr;
  }
  return aWindow;
}
}

using mozilla::dom::WindowGlobalChild;

#define NS_ZEN_CAN_SHARE_FAILURE() \
  *canShare = false; \
  return NS_OK;

NS_IMETHODIMP
ZenCommonUtils::PlayHapticFeedback() {
  // We don't have any haptic feedback on non-macOS platforms
  // so we can just return.
  if (!mozilla::StaticPrefs::zen_haptic_feedback_enabled()) {
    return NS_OK;
  }
  return PlayHapticFeedbackInternal();
}

NS_IMETHODIMP
ZenCommonUtils::CanShare(bool* canShare) {
  auto aWindow = GetMostRecentWindow();
  if (!aWindow) {
    NS_ZEN_CAN_SHARE_FAILURE();
  }
  *canShare = IsSharingSupported();
  return NS_OK;
}

NS_IMETHODIMP
ZenCommonUtils::Share(nsIURI* url, const nsACString& title, const nsACString& text, 
    uint32_t aX, uint32_t aY, uint32_t aWidth, uint32_t aHeight) {
  auto aWindow = GetMostRecentWindow();
  if (!aWindow) {
    return NS_ERROR_NOT_AVAILABLE;
  }
  if (!IsSharingSupported()) {
    return NS_OK; // We don't want to throw an error here
  }
  return ShareInternal(aWindow, url, title, text, aX, aY, aWidth, aHeight);
}

nsresult ZenCommonUtils::ShareInternal(nsCOMPtr<mozIDOMWindowProxy>& aWindow, nsIURI* url,
    const nsACString& title, const nsACString& text, uint32_t aX, uint32_t aY,
    uint32_t aWidth, uint32_t aHeight) {
  // We shoud've had done pointer checks before, so we can assume
  // aWindow is valid.
#ifdef NS_ZEN_CAN_SHARE_NATIVE
  return ::nsZenNativeShareInternal::ShowNativeDialog(
    aWindow, url, title, text, 
    aX, aY, aWidth, aHeight
  );
#else
  return NS_ERROR_NOT_IMPLEMENTED;
#endif
}

auto ZenCommonUtils::IsSharingSupported() -> bool {
#if defined(XP_WIN) && !defined(__MINGW32__)
  // The first public build that supports ShareCanceled API
  return mozilla::IsWindows10BuildOrLater(18956);
#elif defined(NS_ZEN_CAN_SHARE_NATIVE)
  return NS_ZEN_CAN_SHARE_NATIVE;
#else
  return false;
#endif
}

} // namespace: zen


================================================
FILE: src/zen/toolkit/common/ZenCommonUtils.h
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#ifndef mozilla_nsZenCommonUtils_h__
#define mozilla_nsZenCommonUtils_h__

#include "nsIZenCommonUtils.h"

#include "nsIDOMWindow.h"
#include "nsGlobalWindowOuter.h"
#include "nsIURI.h"

namespace zen {

/**
 * @brief Common utility functions for Zen.
 */
class ZenCommonUtils final : public nsIZenCommonUtils {
  NS_DECL_ISUPPORTS
  NS_DECL_NSIZENCOMMONUTILS

 public:
  explicit ZenCommonUtils() = default;

 private:
  ~ZenCommonUtils() = default;
  /**
   * @brief Check if the current context can share data.
   * @param data The data to share.
   * @returns True if the current context can share data, false otherwise.
   */
  static auto IsSharingSupported() -> bool;
  /**
   * @brief Helper function to share data via the native dialogs.
   * @param aWindow The window to use for the share dialog.
   * @param url The URL to share.
   * @param title The title of the share.
   * @param text The text to share.
   * @returns A promise that resolves when the share is complete.
   */
  static auto ShareInternal(nsCOMPtr<mozIDOMWindowProxy>& aWindow, nsIURI* url,
      const nsACString& title, const nsACString& text, uint32_t aX, uint32_t aY,
      uint32_t aWidth, uint32_t aHeight)
    -> nsresult;
  /**
   * @brief Helper function to play haptic feedback.
   */
#if !defined(XP_MACOSX)
  static auto PlayHapticFeedbackInternal() -> nsresult {
    // No-op on non-macOS platforms
    return NS_OK;
  }
#else
  static auto PlayHapticFeedbackInternal() -> nsresult;
#endif
};

} // namespace zen

#endif



================================================
FILE: src/zen/toolkit/common/ZenShareInternal.h
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#ifndef mozilla_nsZenShareInternal_h__
#define mozilla_nsZenShareInternal_h__

#include "nsIZenCommonUtils.h"

#include "nsIDOMWindow.h"
#include "nsGlobalWindowOuter.h"
#include "nsIURI.h"

#if defined(XP_WIN) || defined(XP_MACOSX)
#define NS_ZEN_CAN_SHARE_NATIVE true

class nsZenNativeShareInternal final {
 public:
  /**
  * @brief Use the native share dialog. This only works on Windows and MacOS
  *   since the native share dialog is not available on other platforms.
  *   Macos does need pointer coordinates to show the share dialog while
  *   Windows does not since it just displays a dialog on the middle of the
  *   screen.
  * @param aWindow The window to use for the share dialog.
  * @param aUrl The URL to share.
  * @param aTitle The title of the share.
  * @param aText The text to share.
  * @returns void
  */
  static auto ShowNativeDialog(nsCOMPtr<mozIDOMWindowProxy>& aWindow, nsIURI* aUrl,
      const nsACString& aTitle, const nsACString& aText, uint32_t aX = 0, uint32_t aY = 0,
      uint32_t aWidth = 0, uint32_t aHeight = 0)
    -> nsresult;

  nsZenNativeShareInternal() = default;
  ~nsZenNativeShareInternal() = default;
};

#endif
#endif



================================================
FILE: src/zen/toolkit/common/cocoa/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

FINAL_LIBRARY = "xul"
SOURCES += [
    "ZenHapticFeedback.mm",
    "ZenShareInternal.mm",
]

LOCAL_INCLUDES += [
    "../",
    "/widget",
    "/widget/cocoa",
    "/xpcom/base",
]



================================================
FILE: src/zen/toolkit/common/cocoa/ZenHapticFeedback.mm
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "ZenCommonUtils.h"
#include "nsCocoaUtils.h"

#include "nsPIDOMWindow.h"
#include "WidgetUtils.h"
#include "nsIWidget.h"

extern mozilla::LazyLogModule gCocoaUtilsLog;
#undef LOG
#define LOG(...) MOZ_LOG(gCocoaUtilsLog, mozilla::LogLevel::Info, (__VA_ARGS__))

#import <Foundation/Foundation.h>
#import <AppKit/AppKit.h>

namespace zen {

nsresult ZenCommonUtils::PlayHapticFeedbackInternal() {
  NS_OBJC_BEGIN_TRY_BLOCK_RETURN;
  if (@available(macOS 10.14, *)) {
    id<NSHapticFeedbackPerformer> performer = [NSHapticFeedbackManager defaultPerformer];
    [performer performFeedbackPattern:NSHapticFeedbackPatternAlignment
                      performanceTime:NSHapticFeedbackPerformanceTimeDefault];
  }
  return NS_OK;
  NS_OBJC_END_TRY_BLOCK_RETURN(NS_OK);
}

}



================================================
FILE: src/zen/toolkit/common/cocoa/ZenShareInternal.mm
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "ZenShareInternal.h"
#include "nsCocoaUtils.h"

#include "nsPIDOMWindow.h"
#include "WidgetUtils.h"
#include "nsIWidget.h"

extern mozilla::LazyLogModule gCocoaUtilsLog;
#undef LOG
#define LOG(...) MOZ_LOG(gCocoaUtilsLog, mozilla::LogLevel::Info, (__VA_ARGS__))

#import <Foundation/Foundation.h>
#import <AppKit/AppKit.h>

namespace zen {
using ::mozilla::widget::WidgetUtils;

/**
 * Get the native NSWindow pointer from a DOM window.
 *
 * @param a_window The DOM window to get the native window from.
 * @param a_nativeWindow The pointer to the native NSWindow.
 * @return NS_OK on success, or an error code on failure.
 */
static nsresult GetNativeWindowPointerFromDOMWindow(mozIDOMWindowProxy* a_window,
                                             NSWindow** a_nativeWindow) {
  *a_nativeWindow = nil;
  if (!a_window) return NS_ERROR_INVALID_ARG;
  nsPIDOMWindowOuter* win = nsPIDOMWindowOuter::From(a_window);
  nsCOMPtr<nsIWidget> widget = WidgetUtils::DOMWindowToWidget(win);
  if (!widget) {
    return NS_ERROR_FAILURE;
  }
  *a_nativeWindow = (NSWindow*)widget->GetNativeData(NS_NATIVE_WINDOW);
  return NS_OK;
}
}

auto nsZenNativeShareInternal::ShowNativeDialog(nsCOMPtr<mozIDOMWindowProxy>& aWindow, 
      nsIURI* aUrl, const nsACString& aTitle, const nsACString& aText, uint32_t aX, uint32_t aY,
      uint32_t aWidth, uint32_t aHeight)
    -> nsresult {
  // Just use the URL since apple doesn't support sharing text
  // and title in the share dialog
  nsAutoCString pageUrlAsStringTemp;
  if (aUrl) {
    nsresult rv = aUrl->GetSpec(pageUrlAsStringTemp);
    MOZ_ASSERT(NS_SUCCEEDED(rv));
  } else {
    pageUrlAsStringTemp.SetIsVoid(true);
  }
  NSURL* pageUrl = nsCocoaUtils::ToNSURL(
    NS_ConvertUTF8toUTF16(pageUrlAsStringTemp)
  );
  if (!pageUrl || (![pageUrl.scheme isEqualToString:@"https"] &&
                   ![pageUrl.scheme isEqualToString:@"http"])) {
    return NS_ERROR_FAILURE;
  }
  NSSharingServicePicker* sharingPicker =
      [[NSSharingServicePicker alloc] initWithItems:@[ pageUrl ]];
  NSWindow* cocoaMru = nil;
  zen::GetNativeWindowPointerFromDOMWindow(aWindow, &cocoaMru);
  if (!cocoaMru) {
    LOG("ERROR: failed to get native window pointer");
    return NS_ERROR_FAILURE;
  }
  // Create a rect for the sharing picker
  NSRect rect = NSMakeRect(aX, aY, aWidth, aHeight);
  [sharingPicker showRelativeToRect:rect
                             ofView:cocoaMru.contentView
                      preferredEdge:NSMaxYEdge];
  [sharingPicker release];
  return NS_OK;
}



================================================
FILE: src/zen/toolkit/common/windows/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

FINAL_LIBRARY = "xul"
SOURCES += [
    "ZenShareInternal.cpp",
]

LOCAL_INCLUDES += [
    "../",
    "/widget",
    "/widget/windows",
]



================================================
FILE: src/zen/toolkit/common/windows/ZenShareInternal.cpp
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

#include "ZenShareInternal.h"
#include "WindowsUIUtils.h"

namespace zen {
/**
* @brief Helper function to convert UTF-8 to UTF-16.
* @param aStr The UTF-8 string to convert.
* @returns The converted UTF-16 string.
*/
inline NS_ConvertUTF8toUTF16 NS_ConvertUTF8toUTF16_MaybeVoid(
    const nsACString& aStr) {
  auto str = NS_ConvertUTF8toUTF16(aStr);
  str.SetIsVoid(aStr.IsVoid());
  return str;
}
} // namespace: zen

auto nsZenNativeShareInternal::ShowNativeDialog(
      nsCOMPtr<mozIDOMWindowProxy>& aWindow, nsIURI* aUrl, const nsACString& aTitle, 
      const nsACString& aText, uint32_t aX, uint32_t aY, uint32_t aWidth, uint32_t aHeight)
    -> nsresult {
  nsAutoCString urlString;
  if (aUrl) {
    nsresult rv = aUrl->GetSpec(urlString);
    MOZ_ASSERT(NS_SUCCEEDED(rv));
  } else {
    urlString.SetIsVoid(true);
  }
  (void)WindowsUIUtils::Share(zen::NS_ConvertUTF8toUTF16_MaybeVoid(aTitle),
                              zen::NS_ConvertUTF8toUTF16_MaybeVoid(aText),
                              zen::NS_ConvertUTF8toUTF16_MaybeVoid(urlString));
  return NS_OK;
}



================================================
FILE: src/zen/urlbar/moz.build
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

EXTRA_JS_MODULES += [
  "ZenSiteDataPanel.sys.mjs",
  "ZenUBActionsProvider.sys.mjs",
  "ZenUBGlobalActions.sys.mjs",
  "ZenUBProvider.sys.mjs",
  "ZenUBResultsLearner.sys.mjs",
]



================================================
FILE: src/zen/urlbar/ZenSiteDataPanel.sys.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { AppConstants } from "resource://gre/modules/AppConstants.sys.mjs";

const ADDONS_BUTTONS_HIDDEN = Services.prefs.getBoolPref(
  "zen.theme.hide-unified-extensions-button",
  true
);

const lazy = {};

ChromeUtils.defineESModuleGetters(lazy, {
  FeatureCallout: "resource:///modules/asrouter/FeatureCallout.sys.mjs",
});

export class nsZenSiteDataPanel {
  #iconMap = {
    install: "extension",
    "site-protection": "shield",
    "3rdPartyStorage": "cookie",
  };

  constructor(window) {
    this.window = window;
    this.document = window.document;

    this.unifiedPanel = this.#initUnifiedPanel();
    this.unifiedPanelView = "unified-extensions-view";
    this.extensionsPanelView = "original-unified-extensions-view";

    if (ADDONS_BUTTONS_HIDDEN) {
      this.window.gUnifiedExtensions._panel = this.unifiedPanel;

      // Remove the old permissions dialog
      this.document.getElementById("unified-extensions-panel-template").remove();
    } else {
      this.extensionsPanel = this.#initExtensionsPanel();
    }

    this.#init();
  }

  #init() {
    // Add a new button to the urlbar popup
    const button = this.window.MozXULElement.parseXULToFragment(`
      <box id="zen-site-data-icon-button" role="button" align="center" class="identity-box-button" delegatesanchor="true">
        <image />
      </box>
    `);
    this.anchor = button.querySelector("#zen-site-data-icon-button");
    this.document.getElementById("identity-icon-box").before(button);

    this.extensionsPanelButton = this.document.getElementById("unified-extensions-button");
    this.window.gUnifiedExtensions._button = ADDONS_BUTTONS_HIDDEN
      ? this.anchor
      : this.extensionsPanelButton;

    this.document
      .getElementById("nav-bar")
      .setAttribute("addon-webext-overflowbutton", "zen-site-data-icon-button");

    this.#initCopyUrlButton();
    this.#initEventListeners();
    this.#initUnifiedExtensionsManageHook();
    this.#maybeShowFeatureCallout();
  }

  #initEventListeners() {
    this.unifiedPanel.addEventListener("popupshowing", this);
    this.document.getElementById("zen-site-data-manage-addons").addEventListener("click", this);
    this.document.getElementById("zen-site-data-settings-more").addEventListener("click", this);
    this.anchor.addEventListener("click", this);
    const kCommandIDs = [
      "zen-site-data-header-share",
      "zen-site-data-header-bookmark",
      "zen-site-data-security-info",
      "zen-site-data-actions",
      "zen-site-data-new-addon-button",
    ];

    for (let id of kCommandIDs) {
      this.document.getElementById(id).addEventListener("command", this);
    }

    this.#initContextMenuEventListener();
  }

  #initCopyUrlButton() {
    // This function is a bit out of place, but it's related enough to the panel
    // that it's easier to do it here than in a separate module.
    const container = this.document.getElementById("page-action-buttons");
    const fragment = this.window.MozXULElement.parseXULToFragment(`
      <hbox id="zen-copy-url-button"
            class="urlbar-page-action"
            role="button"
            data-l10n-id="zen-urlbar-copy-url-button"
            disabled="true">
        <image class="urlbar-icon"/>
      </hbox>
    `);
    container.after(fragment);

    const aElement = this.document.getElementById("zen-copy-url-button");
    aElement.addEventListener("click", () => {
      if (aElement.hasAttribute("disabled")) {
        return;
      }
      this.document.getElementById("cmd_zenCopyCurrentURL").doCommand();
    });

    this.window.gBrowser.addProgressListener({
      onLocationChange: (aWebProgress, aRequest, aLocation) => {
        if (aWebProgress.isTopLevel) {
          const disabled = !this.#canCopyUrl(aLocation);
          if (disabled) {
            aElement.setAttribute("disabled", true);
          } else {
            aElement.removeAttribute("disabled");
          }
        }
      },
    });
  }

  #initContextMenuEventListener() {
    const kCommands = {
      context_zenClearSiteData: (event) => {
        this.window.gIdentityHandler.clearSiteData(event);
      },
      context_zenOpenGetAddons: () => {
        this.#openGetAddons();
      },
      context_zenOpenSiteSettings: () => {
        const { BrowserCommands } = this.window;
        BrowserCommands.pageInfo(null, "permTab");
      },
    };

    for (let [id, handler] of Object.entries(kCommands)) {
      this.document.getElementById(id).addEventListener("command", handler);
    }
  }

  #initUnifiedExtensionsManageHook() {
    const manageExtensionItem = this.document.getElementById(
      "unified-extensions-context-menu-manage-extension"
    );

    manageExtensionItem.addEventListener("command", () => {
      this.unifiedPanel.hidePopup();
    });
  }

  #initExtensionsPanel() {
    const panel = this.window.gUnifiedExtensions.panel;

    const extensionsView = panel?.querySelector("#unified-extensions-view");
    extensionsView.setAttribute("id", this.extensionsPanelView);

    const panelMultiView = panel?.querySelector("panelmultiview");
    panelMultiView.setAttribute("mainViewId", this.extensionsPanelView);

    return panel;
  }

  #initUnifiedPanel() {
    const panel = this.document.getElementById("zen-unified-site-data-panel");
    this.window.gUnifiedExtensions.initializePanel(panel);
    return panel;
  }

  #preparePanel() {
    this.#setSitePermissions();
    this.#setSiteSecurityInfo();
    this.#setSiteHeader();
    this.#setAddonsOverflow();
  }

  #setAddonsOverflow() {
    const addons = this.document.getElementById("zen-site-data-addons");
    if (addons.getBoundingClientRect().height > 420) {
      addons.setAttribute("overflowing", "true");
    } else {
      addons.removeAttribute("overflowing");
    }
  }

  get #currentPageIsBookmarked() {
    // A hacky way to check if the current page is bookmarked, but
    // it works for our purposes.
    return this.window.BookmarkingUI.star?.hasAttribute("starred");
  }

  #setSiteHeader() {
    {
      const button = this.document.getElementById("zen-site-data-header-reader-mode");
      const urlbarButton = this.window.document.getElementById("reader-mode-button");
      const isActive = urlbarButton?.hasAttribute("readeractive");
      const isVisible = !urlbarButton?.hidden || isActive;

      button.disabled = !isVisible;
      if (isActive) {
        button.classList.add("active");
      } else {
        button.classList.remove("active");
      }
      this.document.l10n.setAttributes(button, urlbarButton?.getAttribute("data-l10n-id"));
    }
    {
      const button = this.document.getElementById("zen-site-data-header-bookmark");
      const isPageBookmarked = this.#currentPageIsBookmarked;

      if (isPageBookmarked) {
        button.classList.add("active");
      } else {
        button.classList.remove("active");
      }
    }
    {
      const button = this.document.getElementById("zen-site-data-header-share");
      if (this.#canCopyUrl(this.window.gBrowser.currentURI)) {
        button.removeAttribute("disabled");
      } else {
        button.setAttribute("disabled", "true");
      }
    }
  }

  /**
   * Determines whether the copy URL button should be hidden for the given URI.
   *
   * @param {nsIURI} uri - The URI to check.
   * @returns {boolean} True if the button should be hidden, false otherwise.
   */
  #canCopyUrl(uri) {
    if (!uri) {
      return false;
    }

    return uri.scheme.startsWith("http");
  }

  #setSiteSecurityInfo() {
    const { gIdentityHandler } = this.window;
    const button = this.document.getElementById("zen-site-data-security-info");

    if (gIdentityHandler._isSecureInternalUI) {
      button.parentNode.hidden = true;
      return;
    }

    let identity;
    if (gIdentityHandler._pageExtensionPolicy) {
      this.document.l10n.setAttributes(button, "zen-site-data-security-info-extension");
      identity = "extension";
    } else if (
      gIdentityHandler._uriHasHost &&
      gIdentityHandler._isSecureConnection &&
      !gIdentityHandler._isCertUserOverridden &&
      !gIdentityHandler._isCertErrorPage &&
      !gIdentityHandler._isAboutHttpsOnlyErrorPage
    ) {
      this.document.l10n.setAttributes(button, "zen-site-data-security-info-secure");
      identity = "secure";
    } else {
      this.document.l10n.setAttributes(button, "zen-site-data-security-info-not-secure");
      identity = "not-secure";
    }

    button.parentNode.hidden = false;
    button.setAttribute("identity", identity);
  }

  #setSitePermissions() {
    const { gBrowser, SitePermissions } = this.window;
    const list = this.document.getElementById("zen-site-data-settings-list");
    const section = list.closest(".zen-site-data-section");

    // show permission icons
    let permissions = SitePermissions.getAllPermissionDetailsForBrowser(gBrowser.selectedBrowser);

    // Don't display origin-keyed 3rdPartyStorage permissions that are covered by
    // site-keyed 3rdPartyFrameStorage permissions.
    let thirdPartyStorageSites = new Set(
      permissions
        .map(function (permission) {
          let [id, key] = permission.id.split(SitePermissions.PERM_KEY_DELIMITER);
          if (id == "3rdPartyFrameStorage" || id == "3rdPartyStorage") {
            return key;
          }
          return null;
        })
        .filter(function (key) {
          return key != null;
        })
    );
    permissions = permissions.filter(function (permission) {
      let [id, key] = permission.id.split(SitePermissions.PERM_KEY_DELIMITER);
      if (id != "3rdPartyStorage") {
        return true;
      }
      try {
        let origin = Services.io.newURI(key);
        let site = Services.eTLD.getSite(origin);
        return !thirdPartyStorageSites.has(site);
      } catch {
        return false;
      }
    });

    this._sharingState = gBrowser.selectedTab._sharingState;

    if (this._sharingState?.geo) {
      let geoPermission = permissions.find((perm) => perm.id === "geo");
      if (!geoPermission) {
        permissions.push({
          id: "geo",
          state: SitePermissions.ALLOW,
          scope: SitePermissions.SCOPE_REQUEST,
          sharingState: true,
        });
      }
    }

    if (this._sharingState?.xr) {
      let xrPermission = permissions.find((perm) => perm.id === "xr");
      if (!xrPermission) {
        permissions.push({
          id: "xr",
          state: SitePermissions.ALLOW,
          scope: SitePermissions.SCOPE_REQUEST,
          sharingState: true,
        });
      }
    }

    if (this._sharingState?.webRTC) {
      let webrtcState = this._sharingState.webRTC;
      // If WebRTC device or screen are in use, we need to find
      // the associated ALLOW permission item to set the sharingState field.
      for (let id of ["camera", "microphone", "screen"]) {
        if (webrtcState[id]) {
          let found = false;
          for (let permission of permissions) {
            let [permId] = permission.id.split(SitePermissions.PERM_KEY_DELIMITER);
            if (permId != id || permission.state != SitePermissions.ALLOW) {
              continue;
            }
            found = true;
          }
          if (!found) {
            // If the ALLOW permission item we were looking for doesn't exist,
            // the user has temporarily allowed sharing and we need to add
            // an item in the permissions array to reflect this.
            permissions.push({
              id,
              state: SitePermissions.ALLOW,
              scope: SitePermissions.SCOPE_REQUEST,
              sharingState: webrtcState[id],
            });
          }
        }
      }
    }

    // Add site protection permissions if needed.
    const { gProtectionsHandler } = this.window;
    if (
      gBrowser.currentURI.schemeIs("http") ||
      gBrowser.currentURI.schemeIs("https") ||
      gBrowser.currentURI.schemeIs("ftp")
    ) {
      permissions.push({
        id: "site-protection",
        state: gProtectionsHandler.hasException ? SitePermissions.BLOCK : SitePermissions.ALLOW,
        scope: SitePermissions.SCOPE_PERSISTENT,
      });
    }

    const separator = this.document.createXULElement("toolbarseparator");
    list.innerHTML = "";
    list.appendChild(separator);
    const settingElements = [];
    const crossSiteCookieElements = [];
    for (let permission of permissions) {
      let [id, key] = permission.id.split(SitePermissions.PERM_KEY_DELIMITER);

      if (id == "storage-access") {
        // Ignore storage access permissions here, they are made visible inside
        // the Content Blocking UI.
        continue;
      }

      if (permission.state == SitePermissions.PROMPT) {
        // We don't display "ask" permissions in the site data panel.
        continue;
      }

      let [item, isCrossSiteCookie] = this.#createPermissionItem(id, key, permission);
      if (item) {
        if (isCrossSiteCookie) {
          crossSiteCookieElements.push(item);
        } else {
          settingElements.push(item);
        }
      }
    }

    for (let elem of settingElements) {
      separator.before(elem);
    }
    for (let elem of crossSiteCookieElements) {
      separator.after(elem);
    }

    separator.hidden = !settingElements.length || !crossSiteCookieElements.length;
    section.hidden = list.childElementCount < 2; // only the separator
  }

  #getPermissionStateLabelId(permission) {
    const { SitePermissions } = this.window;
    switch (permission.state) {
      // There should only be these types being displayed in the panel.
      case SitePermissions.ALLOW:
        if (permission.id === "site-protection") {
          return "zen-site-data-protections-enabled";
        }
        return "zen-site-data-setting-allow";
      case SitePermissions.BLOCK:
      case SitePermissions.AUTOPLAY_BLOCKED_ALL:
        if (permission.id === "site-protection") {
          return "zen-site-data-protections-disabled";
        }
        return "zen-site-data-setting-block";
      default:
        return null;
    }
  }

  #createPermissionItem(id, key, permission) {
    const { SitePermissions } = this.window;
    const isCrossSiteCookie = id === "3rdPartyStorage";

    // Create a permission item for the site data panel.
    let container = this.document.createXULElement("hbox");
    const idNoSuffix = permission.id;
    container.classList.add(
      "permission-popup-permission-item",
      `permission-popup-permission-item-${idNoSuffix}`
    );
    container.setAttribute("align", "center");
    container.setAttribute("role", "group");

    container.setAttribute("state", permission.state == SitePermissions.ALLOW ? "allow" : "block");

    let img = this.document.createXULElement("toolbarbutton");
    img.classList.add("permission-popup-permission-icon", "zen-site-data-permission-icon");
    img.setAttribute("closemenu", "none");
    if (this.#iconMap[id]) {
      img.classList.add(`zen-permission-${this.#iconMap[id]}-icon`);
    }

    let labelContainer = this.document.createXULElement("vbox");
    labelContainer.setAttribute("flex", "1");
    labelContainer.setAttribute("align", "start");
    labelContainer.classList.add("permission-popup-permission-label-container");
    labelContainer._permission = permission;

    let nameLabel = this.document.createXULElement("label");
    nameLabel.setAttribute("flex", "1");
    nameLabel.setAttribute("class", "permission-popup-permission-label");
    if (isCrossSiteCookie) {
      this.document.l10n.setAttributes(nameLabel, "zen-site-data-setting-cross-site");
    } else {
      let label = SitePermissions.getPermissionLabel(permission.id);
      if (label) {
        nameLabel.textContent = label;
      } else {
        this.document.l10n.setAttributes(nameLabel, "zen-site-data-setting-" + idNoSuffix);
      }
    }
    labelContainer.appendChild(nameLabel);

    let stateLabel = this.document.createXULElement("label");
    stateLabel.setAttribute("class", "zen-permission-popup-permission-state-label");
    if (isCrossSiteCookie) {
      // The key should be the site for cross-site cookies.
      stateLabel.textContent = key;
    } else {
      stateLabel.setAttribute("data-l10n-id", this.#getPermissionStateLabelId(permission));
    }
    labelContainer.appendChild(stateLabel);

    container.appendChild(img);
    container.appendChild(labelContainer);

    container.addEventListener("click", this);
    return [container, isCrossSiteCookie];
  }

  #openGetAddons() {
    const { switchToTabHavingURI } = this.window;
    let amoUrl = Services.urlFormatter.formatURLPref("extensions.getAddons.link.url");
    switchToTabHavingURI(amoUrl, true);
  }

  #onCommandEvent(event) {
    const id = event.target.id;
    switch (id) {
      case "zen-site-data-new-addon-button": {
        this.#openGetAddons();
        break;
      }
      case "zen-site-data-security-info": {
        this.window.gIdentityHandler._openPopup(event);
        break;
      }
      case "zen-site-data-actions": {
        const button = this.document.getElementById("zen-site-data-actions");
        const popup = this.document.getElementById("zenSiteDataActions");
        popup.openPopup(
          button,
          "after_start",
          0,
          0,
          /* context menu */ true,
          false,
          this.window.event
        );
        break;
      }
      case "zen-site-data-header-bookmark": {
        this.window.BookmarkingUI.onStarCommand(event);
        break;
      }
      case "zen-site-data-header-share": {
        /* eslint-disable mozilla/valid-services */
        if (Services.zen.canShare()) {
          const buttonRect = event.target.getBoundingClientRect();
          const currentUrl = this.window.gBrowser.currentURI;
          /* eslint-disable mozilla/valid-services */
          Services.zen.share(
            currentUrl,
            "",
            "",
            buttonRect.left,
            this.window.innerHeight - buttonRect.bottom,
            buttonRect.width,
            buttonRect.height
          );
        } else {
          this.window.gZenCommonActions.copyCurrentURLToClipboard();
        }
        if (AppConstants.platform !== "macosx") {
          this.unifiedPanel.hidePopup();
        }
      }
    }
  }

  #onPermissionClick(label) {
    const { SitePermissions, gBrowser } = this.window;
    const permission = label._permission;

    let newState;
    switch (permission.state) {
      case SitePermissions.ALLOW:
        newState = SitePermissions.BLOCK;
        break;
      case SitePermissions.BLOCK:
      case SitePermissions.AUTOPLAY_BLOCKED_ALL:
        newState = SitePermissions.ALLOW;
        break;
      default:
        return;
    }

    if (permission.id === "site-protection") {
      const { gProtectionsHandler } = this.window;
      if (newState === SitePermissions.BLOCK) {
        gProtectionsHandler.disableForCurrentPage();
      } else {
        gProtectionsHandler.enableForCurrentPage();
      }
    } else {
      SitePermissions.setForPrincipal(gBrowser.contentPrincipal, permission.id, newState);
    }

    const isCrossSiteCookie = permission.id.startsWith("3rdPartyStorage");
    label.parentNode.setAttribute("state", newState == SitePermissions.ALLOW ? "allow" : "block");
    label._permission.state = newState;
    if (!isCrossSiteCookie) {
      label
        .querySelector(".zen-permission-popup-permission-state-label")
        .setAttribute("data-l10n-id", this.#getPermissionStateLabelId(label._permission));
    }
  }

  #onClickEvent(event) {
    const id = event.target.id;
    switch (id) {
      case "zen-site-data-manage-addons": {
        const { BrowserAddonUI } = this.window;
        BrowserAddonUI.openAddonsMgr("addons://list/extension");
        this.unifiedPanel.hidePopup();
        break;
      }
      case "zen-site-data-settings-more": {
        const { BrowserCommands } = this.window;
        BrowserCommands.pageInfo(null, "permTab");
        break;
      }
      case "zen-site-data-icon-button": {
        this.window.gUnifiedExtensions.togglePanel(
          event,
          null,
          this.unifiedPanel,
          this.unifiedPanelView,
          this.anchor
        );
        break;
      }
      default: {
        const item = event.target.closest(".permission-popup-permission-item");
        if (!item) {
          break;
        }
        const label = item.querySelector(".permission-popup-permission-label-container");
        if (label?._permission) {
          this.#onPermissionClick(label);
        }
        break;
      }
    }
  }

  handleEvent(event) {
    const type = event.type;
    switch (type) {
      case "click":
        this.#onClickEvent(event);
        break;
      case "command":
        this.#onCommandEvent(event);
        break;
      case "popupshowing":
        this.#preparePanel();
        break;
    }
  }

  async #maybeShowFeatureCallout() {
    const kPref = "zen.site-data-panel.show-callout";
    if (!Services.prefs.getBoolPref(kPref, false)) {
      return;
    }
    Services.prefs.setBoolPref(kPref, false);
    const { gBrowser, gZenWorkspaces } = this.window;
    await gZenWorkspaces.promiseInitialized;
    await new Promise((resolve) => {
      const checkEmptyTab = () => {
        if (!gBrowser.selectedTab.hasAttribute("zen-empty-tab")) {
          resolve();
          return;
        }
        this.window.addEventListener("TabSelect", checkEmptyTab, { once: true });
      };
      checkEmptyTab();
    });
    const callout = new lazy.FeatureCallout({
      win: this.window,
      location: "chrome",
      context: "chrome",
      browser: gBrowser.selectedBrowser,
      theme: { preset: "chrome" },
    });
    this.window.setTimeout(() => {
      callout.showFeatureCallout({
        id: "ZEN_EXTENSIONS_PANEL_MOVE_CALLOUT",
        template: "feature_callout",
        groups: ["cfr"],
        content: {
          id: "ZEN_EXTENSIONS_PANEL_MOVE_CALLOUT",
          template: "multistage",
          backdrop: "transparent",
          transitions: true,
          screens: [
            {
              id: "ZEN_EXTENSIONS_PANEL_MOVE_CALLOUT",
              anchors: [
                {
                  selector: "#zen-site-data-icon-button",
                  panel_position: {
                    anchor_attachment: "bottomcenter",
                    callout_attachment: "topleft",
                  },
                },
              ],
              content: {
                position: "callout",
                width: "355px",
                title: {
                  string_id: "zen-site-data-panel-feature-callout-title",
                },
                subtitle: {
                  string_id: "zen-site-data-panel-feature-callout-subtitle",
                },
                dismiss_button: {
                  action: {
                    dismiss: true,
                  },
                  background: true,
                  size: "small",
                },
              },
            },
          ],
        },
      });
    }, 1000);
  }
}



================================================
FILE: src/zen/urlbar/ZenUBActionsProvider.sys.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { XPCOMUtils } from "resource://gre/modules/XPCOMUtils.sys.mjs";
import {
  UrlbarProvider,
  UrlbarUtils,
} from "moz-src:///browser/components/urlbar/UrlbarUtils.sys.mjs";
import { globalActions } from "resource:///modules/ZenUBGlobalActions.sys.mjs";
import { zenUrlbarResultsLearner } from "./ZenUBResultsLearner.sys.mjs";

const lazy = {};

const DYNAMIC_TYPE_NAME = "zen-actions";

// The suggestion index of the actions row within the urlbar results.
const MAX_RECENT_ACTIONS = 5;

const MINIMUM_QUERY_SCORE = 92;
const MINIMUM_PREFIXED_QUERY_SCORE = 30;

ChromeUtils.defineESModuleGetters(lazy, {
  UrlbarResult: "moz-src:///browser/components/urlbar/UrlbarResult.sys.mjs",
  BrowserWindowTracker: "resource:///modules/BrowserWindowTracker.sys.mjs",
  AddonManager: "resource://gre/modules/AddonManager.sys.mjs",
  UrlUtils: "resource://gre/modules/UrlUtils.sys.mjs",
});

XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "enabledPref",
  "zen.urlbar.suggestions.quick-actions",
  true
);

/**
 * A provider that lets the user view all available global actions for a query.
 */
export class ZenUrlbarProviderGlobalActions extends UrlbarProvider {
  #seenCommands = new Set();

  constructor() {
    super();
    lazy.UrlbarResult.addDynamicResultType(DYNAMIC_TYPE_NAME);
  }

  get name() {
    return "ZenUrlbarProviderGlobalActions";
  }

  /**
   * @returns {Values<typeof UrlbarUtils.PROVIDER_TYPE>}
   */
  get type() {
    return UrlbarUtils.PROVIDER_TYPE.HEURISTIC;
  }

  /**
   * Whether this provider should be invoked for the given context.
   * If this method returns false, the providers manager won't start a query
   * with this provider, to save on resources.
   *
   * @param {UrlbarQueryContext} queryContext The query context object
   */
  async isActive(queryContext) {
    return (
      queryContext.searchMode?.source == UrlbarUtils.RESULT_SOURCE.ZEN_ACTIONS ||
      (lazy.enabledPref &&
        queryContext.searchString &&
        queryContext.searchString.length < UrlbarUtils.MAX_TEXT_LENGTH &&
        queryContext.searchString.length > 2 &&
        !lazy.UrlUtils.REGEXP_LIKE_PROTOCOL.test(queryContext.searchString))
    );
  }

  #getWorkspaceActions(window) {
    if (window.gZenWorkspaces.privateWindowOrDisabled) {
      return [];
    }
    const workspaces = window.gZenWorkspaces.getWorkspaces();
    if (!workspaces?.length) {
      return [];
    }
    let actions = [];
    const activeSpaceUUID = window.gZenWorkspaces.activeWorkspace;
    for (const workspace of workspaces) {
      if (workspace.uuid !== activeSpaceUUID) {
        const accentColor = window.gZenWorkspaces
          .workspaceElement(workspace.uuid)
          ?.style.getPropertyValue("--zen-primary-color");
        actions.push({
          label: "Focus on",
          extraPayload: {
            workspaceId: workspace.uuid,
            prettyName: workspace.name,
            prettyIcon: workspace.icon,
            accentColor,
          },
          commandId: `zen:workspace-${workspace.uuid}`,
          icon: "chrome://browser/skin/zen-icons/forward.svg",
        });
      }
    }
    return actions;
  }

  async #getExtensionActions(window) {
    const addons = await lazy.AddonManager.getAddonsByTypes(["extension"]);
    if (window.gBrowser.selectedTab.hasAttribute("zen-empty-tab")) {
      // Don't show extension actions on empty tabs, as extensions can't run there.
      return [];
    }
    return addons
      .filter(
        (addon) =>
          addon.isActive &&
          !addon.isSystem &&
          window.gUnifiedExtensions.browserActionFor(window.WebExtensionPolicy.getByID(addon.id))
      )
      .map((addon) => {
        return {
          icon: "chrome://browser/skin/zen-icons/extension.svg",
          label: "Extension",
          commandId: `zen:extension-${addon.id}`,
          extraPayload: {
            extensionId: addon.id,
            prettyName: addon.name,
            prettyIcon: addon.iconURL,
          },
        };
      });
  }

  /**
   * @param {Window} window The window to check available actions for.
   * @returns {Array} All the available global actions.
   */
  async #getAvailableActions(window) {
    return globalActions
      .filter((a) => a.isAvailable(window))
      .concat(this.#getWorkspaceActions(window))
      .concat(await this.#getExtensionActions(window));
  }

  /**
   * Starts a search query amongst the available global actions.
   *
   * @param {string} query The user's search query.
   * @param {boolean} isPrefixed Whether the query is prefixed.
   */
  async #findMatchingActions(query, isPrefixed) {
    const window = lazy.BrowserWindowTracker.getTopWindow();
    const actions = await this.#getAvailableActions(window);
    let results = [];
    for (let action of actions) {
      if (isPrefixed && query.length < 1) {
        results.push({ action, score: 100 });
        continue;
      }
      const label = action.extraPayload?.prettyName || action.label;
      const score = this.#calculateFuzzyScore(label, query);
      if (score > (isPrefixed ? MINIMUM_PREFIXED_QUERY_SCORE : MINIMUM_QUERY_SCORE)) {
        results.push({
          score,
          action,
        });
      }
    }
    results.sort((a, b) => b.score - a.score);
    // We must show all we can when prefixed, to avoid showing no results.
    if (isPrefixed) {
      return results.map((r) => r.action);
    }
    return results.slice(0, MAX_RECENT_ACTIONS).map((r) => r.action);
  }

  /**
   * A VS Code-style fuzzy scoring algorithm.
   *
   * @param {string} target The string to score against.
   * @param {string} query The user's search query.
   * @returns {number} A score representing the match quality.
   *
   * -credits: Thanks a lot @BibekBhusal0 on GitHub for this implementation!
   */
  #calculateFuzzyScore(target, query) {
    if (!target || !query) {
      return 0;
    }
    const targetLower = target.toLowerCase();
    const queryLower = query.toLowerCase();
    const targetLen = target.length;
    const queryLen = query.length;
    if (queryLen > targetLen) {
      return 0;
    }
    if (queryLen === 0) {
      return 0;
    }
    // 1. Exact match gets the highest score.
    if (targetLower === queryLower) {
      return 200;
    }
    // 2. Exact prefix matches are heavily prioritized.
    if (targetLower.startsWith(queryLower)) {
      return 100 + queryLen;
    }
    let score = 0;
    let queryIndex = 0;
    let lastMatchIndex = -1;
    let consecutiveMatches = 0;
    for (let targetIndex = 0; targetIndex < targetLen; targetIndex++) {
      if (queryIndex < queryLen && targetLower[targetIndex] === queryLower[queryIndex]) {
        let bonus = 10;
        // Bonus for matching at the beginning of a word
        if (targetIndex === 0 || [" ", "-", "_"].includes(targetLower[targetIndex - 1])) {
          bonus += 15;
        }
        // Bonus for consecutive matches
        if (lastMatchIndex === targetIndex - 1) {
          consecutiveMatches++;
          bonus += 20 * consecutiveMatches;
        } else {
          consecutiveMatches = 0;
        }
        // Penalty for distance from the last match
        if (lastMatchIndex !== -1) {
          const distance = targetIndex - lastMatchIndex;
          bonus -= Math.min(distance - 1, 10); // Cap penalty
        }
        score += bonus;
        lastMatchIndex = targetIndex;
        queryIndex++;
      }
    }
    return queryIndex === queryLen ? score : 0;
  }

  async startQuery(queryContext, addCallback) {
    const query = queryContext.trimmedLowerCaseSearchString;
    const isPrefixed = queryContext.searchMode?.source == UrlbarUtils.RESULT_SOURCE.ZEN_ACTIONS;
    if (!query && !isPrefixed) {
      return;
    }

    const actionsResults = await this.#findMatchingActions(query, isPrefixed);
    if (!actionsResults.length) {
      return;
    }

    const ownerGlobal = lazy.BrowserWindowTracker.getTopWindow();
    let finalResults = [];
    for (const action of actionsResults) {
      const { payload, payloadHighlights } = lazy.UrlbarResult.payloadAndSimpleHighlights([], {
        suggestion: action.label,
        title: action.label,
        zenCommand: action.command,
        dynamicType: DYNAMIC_TYPE_NAME,
        zenAction: true,
        query: isPrefixed ? action.label.trimStart() : queryContext.searchString,
        icon: action.icon,
        shortcutContent: ownerGlobal.gZenKeyboardShortcutsManager.getShortcutDisplayFromCommand(
          action.command
        ),
        keywords: action.label.split(" "),
        ...action.extraPayload,
      });

      const shouldBePrioritized =
        zenUrlbarResultsLearner.shouldPrioritize(action.commandId) && !isPrefixed;
      let result = new lazy.UrlbarResult({
        type: UrlbarUtils.RESULT_TYPE.DYNAMIC,
        source: UrlbarUtils.RESULT_SOURCE.ZEN_ACTIONS,
        payload,
        payloadHighlights,
        heuristic: shouldBePrioritized,
        suggestedIndex: !shouldBePrioritized
          ? zenUrlbarResultsLearner.getDeprioritizeIndex(action.commandId)
          : undefined,
      });
      result.commandId = action.commandId;
      if (!(isPrefixed && query.length < 2)) {
        // We dont want to record prefixed results, as the user explicitly asked for them.
        // Selecting other results would de-prioritize these actions unfairly.
        this.#seenCommands.add(action.commandId);
      }
      finalResults.push(result);
    }
    let i = 0;
    zenUrlbarResultsLearner.sortCommandsByPriority(finalResults).forEach((result) => {
      if (isPrefixed && i === 0 && query.length > 1) {
        result.heuristic = true;
        delete result.suggestedIndex;
      }
      addCallback(this, result);
      i++;
    });
  }

  /**
   * Gets the provider's priority.
   *
   * @returns {number} The provider's priority for the given query.
   */
  getPriority() {
    return 0;
  }

  /**
   * This is called only for dynamic result types, when the urlbar view updates
   * the view of one of the results of the provider.  It should return an object
   * describing the view update.
   *
   * @param {UrlbarResult} result The result whose view will be updated.
   * @returns {object} An object describing the view update.
   */
  getViewUpdate(result) {
    const prettyIconIsSvg =
      result.payload.prettyIcon &&
      (result.payload.prettyIcon.endsWith(".svg") || result.payload.prettyIcon.endsWith(".png"));
    return {
      icon: {
        attributes: {
          src: result.payload.icon || "chrome://browser/skin/trending.svg",
        },
      },
      titleStrong: {
        textContent: result.payload.title,
        attributes: { dir: "ltr" },
      },
      shortcutContent: {
        textContent: result.payload.shortcutContent || "",
      },
      prettyName: {
        attributes: {
          hidden: !result.payload.prettyName,
          style: `--zen-primary-color: ${result.payload.accentColor || "currentColor"}`,
        },
      },
      prettyNameTitle: {
        /* eslint-disable-next-line no-nested-ternary */
        textContent: result.payload.prettyName
          ? prettyIconIsSvg || !result.payload.prettyIcon
            ? result.payload.prettyName
            : `${result.payload.prettyIcon}  ${result.payload.prettyName}`
          : "",
        attributes: { dir: "ltr" },
      },
      prettyNameIcon: {
        attributes: {
          src: result.payload.prettyIcon || "",
          hidden: !prettyIconIsSvg || !result.payload.prettyIcon,
        },
      },
    };
  }

  getViewTemplate() {
    return {
      attributes: {
        selectable: true,
      },
      children: [
        {
          name: "icon",
          tag: "img",
          classList: ["urlbarView-favicon"],
        },
        {
          name: "title",
          tag: "span",
          classList: ["urlbarView-title"],
          children: [
            {
              name: "titleStrong",
              tag: "strong",
            },
          ],
        },
        {
          tag: "span",
          classList: ["urlbarView-prettyName"],
          hidden: true,
          name: "prettyName",
          children: [
            {
              tag: "img",
              name: "prettyNameIcon",
              attributes: { hidden: true },
            },
            {
              name: "prettyNameTitle",
              tag: "span",
            },
          ],
        },
        {
          name: "shortcutContent",
          tag: "span",
          classList: ["urlbarView-shortcutContent"],
        },
      ],
    };
  }

  onSearchSessionEnd(_queryContext, _controller, details) {
    // We should only record the execution if a result was actually used.
    // Otherwise we would start de-prioritizing commands that were never used.
    if (details?.result) {
      let usedCommand = null;
      if (details?.provider === this.name) {
        usedCommand = details.result?.commandId;
      }
      zenUrlbarResultsLearner.recordExecution(usedCommand, [...this.#seenCommands]);
    }
    this.#seenCommands = new Set();
  }

  onEngagement(queryContext, controller, details) {
    const result = details.result;
    const payload = result.payload;
    const command = payload.zenCommand;
    const ownerGlobal = details.element.ownerGlobal;
    ownerGlobal.gBrowser.selectedBrowser.focus();
    if (typeof command === "function") {
      command(ownerGlobal);
      return;
    }
    // Switch workspace if theres a workspaceId in the payload.
    if (payload.workspaceId) {
      ownerGlobal.gZenWorkspaces.changeWorkspaceWithID(payload.workspaceId);
      return;
    }
    if (payload.extensionId) {
      const action = ownerGlobal.gUnifiedExtensions.browserActionFor(
        ownerGlobal.WebExtensionPolicy.getByID(payload.extensionId)
      );
      if (action) {
        action.triggerAction(ownerGlobal);
      }
      return;
    }
    if (!command) {
      return;
    }
    const commandToRun = ownerGlobal.document.getElementById(command);
    if (commandToRun) {
      commandToRun.doCommand();
    }
  }
}



================================================
FILE: src/zen/urlbar/ZenUBGlobalActions.sys.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { XPCOMUtils } from "resource://gre/modules/XPCOMUtils.sys.mjs";

const lazy = {};

XPCOMUtils.defineLazyPreferenceGetter(lazy, "currentTheme", "zen.view.window.scheme", 2);

function isNotEmptyTab(window) {
  return !window.gBrowser.selectedTab.hasAttribute("zen-empty-tab");
}

const globalActionsTemplate = [
  {
    label: "Toggle Compact Mode",
    command: "cmd_zenCompactModeToggle",
    icon: "chrome://browser/skin/zen-icons/sidebar.svg",
  },
  {
    label: "Open Theme Picker",
    command: "cmd_zenOpenZenThemePicker",
    icon: "chrome://browser/skin/zen-icons/edit-theme.svg",
  },
  {
    label: "New Split View",
    command: "cmd_zenNewEmptySplit",
    icon: "chrome://browser/skin/zen-icons/split.svg",
  },
  {
    label: "New Folder",
    command: "cmd_zenOpenFolderCreation",
    icon: "chrome://browser/skin/zen-icons/folder.svg",
  },
  {
    label: "Copy Current URL",
    command: "cmd_zenCopyCurrentURL",
    icon: "chrome://browser/skin/zen-icons/link.svg",
  },
  {
    label: "Settings",
    command: (window) => window.openPreferences(),
    icon: "chrome://browser/skin/zen-icons/settings.svg",
  },
  {
    label: "Open Private Window",
    command: "Tools:PrivateBrowsing",
    icon: "chrome://browser/skin/zen-icons/private-window.svg",
  },
  {
    label: "Open New Window",
    command: "cmd_newNavigator",
    icon: "chrome://browser/skin/zen-icons/window.svg",
  },
  {
    label: "New Blank Window",
    command: "cmd_zenNewNavigatorUnsynced",
    icon: "chrome://browser/skin/zen-icons/window.svg",
  },
  {
    label: "Pin Tab",
    command: "cmd_zenTogglePinTab",
    icon: "chrome://browser/skin/zen-icons/pin.svg",
    isAvailable: (window) => {
      const tab = window.gBrowser.selectedTab;
      return !tab.hasAttribute("zen-empty-tab") && !tab.pinned;
    },
  },
  {
    label: "Unpin Tab",
    command: "cmd_zenTogglePinTab",
    icon: "chrome://browser/skin/zen-icons/unpin.svg",
    isAvailable: (window) => {
      const tab = window.gBrowser.selectedTab;
      return !tab.hasAttribute("zen-empty-tab") && tab.pinned;
    },
  },
  {
    label: "Next Space",
    command: "cmd_zenWorkspaceForward",
    icon: "chrome://browser/skin/zen-icons/forward.svg",
    isAvailable: (window) => {
      return window.gZenWorkspaces._workspaceCache.length > 1;
    },
  },
  {
    label: "Previous Space",
    command: "cmd_zenWorkspaceBackward",
    icon: "chrome://browser/skin/zen-icons/back.svg",
    isAvailable: (window) => {
      // This also covers the case of being in private mode
      return window.gZenWorkspaces._workspaceCache.length > 1;
    },
  },
  {
    label: "Close Tab",
    command: "cmd_close",
    icon: "chrome://browser/skin/zen-icons/close.svg",
    isAvailable: (window) => {
      return isNotEmptyTab(window);
    },
  },
  {
    label: "Reload Tab",
    command: "Browser:Reload",
    icon: "chrome://browser/skin/zen-icons/reload.svg",
  },
  {
    label: "Reload Tab Without Cache",
    command: "Browser:ReloadSkipCache",
    icon: "chrome://browser/skin/zen-icons/reload.svg",
  },
  {
    label: "Next Tab",
    command: "Browser:NextTab",
    icon: "chrome://browser/skin/zen-icons/forward.svg",
  },
  {
    label: "Previous Tab",
    command: "Browser:PrevTab",
    icon: "chrome://browser/skin/zen-icons/back.svg",
  },
  {
    label: "Capture Screenshot",
    command: "Browser:Screenshot",
    icon: "chrome://browser/skin/zen-icons/screenshot.svg",
    isAvailable: (window) => {
      return isNotEmptyTab(window);
    },
  },
  {
    label: "Toggle Tabs on right",
    command: "cmd_zenToggleTabsOnRight",
    icon: "chrome://browser/skin/zen-icons/sidebars-right.svg",
  },
  {
    label: "Add to Essentials",
    command: (window) => window.gZenPinnedTabManager.addToEssentials(window.gBrowser.selectedTab),
    isAvailable: (window) => {
      return (
        window.gZenPinnedTabManager.canEssentialBeAdded(window.gBrowser.selectedTab) &&
        !window.gBrowser.selectedTab.hasAttribute("zen-essential")
      );
    },
    icon: "chrome://browser/skin/zen-icons/essential-add.svg",
  },
  {
    label: "Remove from Essentials",
    command: (window) => window.gZenPinnedTabManager.removeEssentials(window.gBrowser.selectedTab),
    isAvailable: (window) => window.gBrowser.selectedTab.hasAttribute("zen-essential"),
    icon: "chrome://browser/skin/zen-icons/essential-remove.svg",
  },
  {
    label: "Find in Page",
    command: "cmd_find",
    icon: "chrome://browser/skin/zen-icons/search-page.svg",
    isAvailable: (window) => {
      return isNotEmptyTab(window);
    },
  },
  {
    label: "Manage Extensions",
    command: "Tools:Addons",
    icon: "chrome://browser/skin/zen-icons/extension.svg",
  },
  {
    label: "Switch to Automatic Appearance",
    command: () => Services.prefs.setIntPref("zen.view.window.scheme", 2),
    icon: "chrome://browser/skin/zen-icons/sparkles.svg",
    isAvailable: () => {
      return lazy.currentTheme !== 2;
    },
  },
  {
    label: "Switch to Light Mode",
    command: () => Services.prefs.setIntPref("zen.view.window.scheme", 1),
    icon: "chrome://browser/skin/zen-icons/face-sun.svg",
    isAvailable: () => {
      return lazy.currentTheme !== 1;
    },
  },
  {
    label: "Switch to Dark Mode",
    command: () => Services.prefs.setIntPref("zen.view.window.scheme", 0),
    icon: "chrome://browser/skin/zen-icons/moon-stars.svg",
    isAvailable: () => {
      return lazy.currentTheme !== 0;
    },
  },
  {
    label: "Print",
    command: "cmd_print",
    icon: "chrome://browser/skin/zen-icons/print.svg",
    isAvailable: (window) => {
      return isNotEmptyTab(window);
    },
  },
];

export const globalActions = globalActionsTemplate.map((action) => ({
  isAvailable: (window) => {
    return window.document.getElementById(action.command)?.getAttribute("disabled") !== "true";
  },
  commandId:
    typeof action.command === "string"
      ? action.command
      : `zen:global-action-${action.label.toLowerCase().replace(/\s+/g, "-")}`,
  extraPayload: {},
  ...action,
}));



================================================
FILE: src/zen/urlbar/ZenUBProvider.sys.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { UrlbarProvidersManager } from "moz-src:///browser/components/urlbar/UrlbarProvidersManager.sys.mjs";

const lazy = {};
ChromeUtils.defineESModuleGetters(lazy, {
  /* eslint-disable mozilla/valid-lazy */
  ZenUrlbarProviderGlobalActions: "resource:///modules/ZenUBActionsProvider.sys.mjs",
});

export function registerZenUrlbarProviders() {
  for (let i = 0; i < Object.keys(lazy).length; i++) {
    const provider = Object.values(lazy)[i];
    const name = Object.keys(lazy)[i];
    if (!UrlbarProvidersManager.getProvider(name)) {
      UrlbarProvidersManager.registerProvider(new provider());
    }
  }
}



================================================
FILE: src/zen/urlbar/ZenUBResultsLearner.sys.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { XPCOMUtils } from "resource://gre/modules/XPCOMUtils.sys.mjs";

const lazy = {};

let lazyDatabaseData = {};

const DEFAULT_DB_DATA = "{}";
const DEPRIORITIZE_MAX = -5;
const PRIORITIZE_MAX = 5;

function addDataToLazy(data) {
  try {
    lazyDatabaseData = JSON.parse(data);
  } catch {}
}

XPCOMUtils.defineLazyPreferenceGetter(
  lazy,
  "rawDatabase",
  "zen.urlbar.suggestions-learner",
  DEFAULT_DB_DATA,
  (_aPreference, _previousValue, newValue) => {
    addDataToLazy(newValue);
  }
);

/**
 * A class that manages the learning of URL bar results for commands,
 * can be used for any ID that can be executed in the URL bar.
 *
 * The schema would be something like:
 * {
 *   "<command id>": <priority number>,
 * }
 *
 * If the current command is not on the list is because the user
 * has *seen* the command but never executed it. If the number is
 * less than -2, that means the user will most likely never use it.
 *
 * The priority number is incremented each time the command is executed.
 */
class ZenUrlbarResultsLearner {
  constructor() {
    addDataToLazy(lazy.rawDatabase);
  }

  get database() {
    return lazyDatabaseData;
  }

  saveDatabase(db) {
    Services.prefs.setStringPref(
      "zen.urlbar.suggestions-learner",
      JSON.stringify(db || DEFAULT_DB_DATA)
    );
  }

  recordExecution(commandId, seenCommands = []) {
    const db = this.database;
    if (commandId) {
      const numberOfUsages = Math.min((db[commandId] || 0) + 1, PRIORITIZE_MAX);
      db[commandId] = numberOfUsages;
    }
    for (const cmd of seenCommands) {
      if (cmd !== commandId) {
        if (!db[cmd]) {
          db[cmd] = -1;
        } else {
          const newIndex = Math.max(db[cmd] - 1, DEPRIORITIZE_MAX);
          db[cmd] = newIndex;
          if (newIndex === 0) {
            // Save some space by deleting commands that are not used
            // and have a neutral score.
            delete db[cmd];
          }
        }
      }
    }
    this.saveDatabase(db);
  }

  shouldPrioritize(commandId) {
    if (!commandId) {
      return false;
    }
    const db = this.database;
    return !!db[commandId] && db[commandId] > 0;
  }

  getDeprioritizeIndex(commandId) {
    if (!commandId) {
      return 1;
    }
    const db = this.database;
    if (db[commandId] < 0) {
      return Math.abs(db[commandId]);
    }
    // This will most likely never run, since
    // positive commands are prioritized.
    return 1;
  }

  /**
   * Sorts the given commands by their priority in the database.
   *
   * @param {*} commands
   */
  sortCommandsByPriority(commands) {
    const db = this.database;
    return commands.sort((a, b) => (db[b.commandId] || 0) - (db[a.commandId] || 0));
  }
}

export const zenUrlbarResultsLearner = new ZenUrlbarResultsLearner();



================================================
FILE: src/zen/welcome/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenWelcome.mjs                           (../../zen/welcome/ZenWelcome.mjs)
        content/browser/zen-styles/zen-welcome.css                              (../../zen/welcome/zen-welcome.css)


================================================
FILE: src/zen/welcome/zen-welcome.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

#zen-welcome,
#zen-welcome-start,
#zen-welcome-pages {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  -moz-window-dragging: drag;
}

:root[zen-welcome-stage] {
  min-width: 875px;
  min-height: 560px;

  #zen-sidebar-splitter {
    display: none;
  }
}

#zen-welcome-start {
  flex-direction: column;
  -moz-window-dragging: drag;

  --zen-primary-color: light-dark(black, white);

  #zen-welcome-start-button {
    opacity: 0;
    list-style-image: url(chrome://browser/skin/zen-icons/forward.svg);
    position: absolute;
    bottom: 10%;
    padding: 1em !important;
    min-width: 100px;
  }

  #zen-welcome-title {
    text-align: center;
    font-size: 5rem;
    line-height: 1.1;
    max-width: 50%;
    font-weight: 500;
    white-space: nowrap;

    & > span {
      display: block;
      opacity: 0;
    }
  }
}

#zen-welcome-pages {
  -moz-window-dragging: no-drag;
  opacity: 0;
  justify-content: start;
  align-items: start;
  display: none;
  background: var(--zen-branding-bg);
  border-radius: 1em;
  overflow: hidden;
  position: relative;
  width: 60%;
  height: 60%;
  box-shadow: var(--zen-big-shadow);
  overflow: hidden;

  /* Small screens */
  @media (max-width: 1400px) {
    width: 80%;
    height: 80%;
  }

  @media (max-width: 1200px) {
    width: 90%;
    height: 90%;
  }

  @media (max-width: 1000px) {
    width: 100%;
    height: 100%;
    border-radius: 0px;
  }

  #zen-welcome-page-sidebar {
    flex-direction: column;
    justify-content: space-between;
    padding: 3.8rem;
    width: 40%;
    height: 100%;
    overflow-x: hidden;
    overflow-y: auto;

    & #zen-welcome-heart {
      width: 100%;
      height: 100%;
      opacity: 0;
      color: currentColor;
      fill: currentColor;
      -moz-context-properties: fill, fill-opacity;
      background-image: url(chrome://browser/skin/zen-icons/essential-add.svg);
      background-size: 15%;
      background-repeat: no-repeat;
      background-position: center;
    }

    &[animate-heart] {
      overflow: hidden;
    }
  }

  #zen-welcome-page-sidebar-buttons {
    flex-direction: column;
    gap: 10px;
  }

  #zen-welcome-page-sidebar-content {
    & h1 {
      font-size: xx-large;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    & p {
      margin: 0 0 1.1rem 0;
      color: light-dark(rgba(0, 0, 0, 0.6), rgba(255, 255, 255, 0.6));
    }

    & > * {
      transform: translate(300%);
    }
  }

  & button {
    justify-content: center;
    align-items: center;
    transform: translate(300%);
  }

  #zen-welcome-page-content {
    background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
    width: 60%;
    max-width: 80rem;
    height: 100%;
    position: relative;
    overflow: hidden;
    justify-content: center;
    align-items: center;
    display: flex;
    flex-direction: column;
    gap: 1.6rem;

    &[select-engine="true"] {
      display: grid;
      grid-template-columns: 1fr 1fr;
      box-sizing: border-box;
      padding: 5rem;
    }

    & > label {
      opacity: 0;
      transition:
        scale 0.1s,
        box-shadow 0.1s;
      padding: 1.5rem 1.1rem;
      border-radius: 0.6rem;
      width: 50%;
      gap: 0.8rem;
      display: flex;
      border: 2px solid var(--zen-colors-border);
      background: light-dark(rgba(255, 255, 255, 0.7), rgba(0, 0, 0, 0.4));
      align-items: center;

      &:hover {
        box-shadow: var(--zen-big-shadow);
      }

      &:has(:checked) {
        box-shadow: var(--zen-big-shadow);
        border: 2px solid var(--zen-primary-color);
        scale: 1.03;
      }
    }

    &[select-engine="true"] > label {
      flex-direction: column;
      font-weight: 600;
      aspect-ratio: 1 / 0.7;
      align-items: center;
      width: 60%;
      justify-self: center;
      align-self: center;
      justify-content: space-around;
    }

    /* 3 or more engines */
    &[select-engine="true"]:has(label:nth-of-type(3)) > label {
      height: 50%;
    }

    #zen-welcome-workspace-colors-anchor {
      width: 1px;
      height: 1px;
    }

    #zen-welcome-initial-essentials-browser {
      min-width: 70%;
      min-height: 80%;
      display: flex;
      margin-left: auto;
      margin-top: auto;
      border-top-left-radius: 1.2em;
      box-shadow: var(--zen-big-shadow);
      background: light-dark(rgba(255, 255, 255, 0.5), rgba(0, 0, 0, 0.2));
      padding-right: 20%;
      overflow: hidden;
      opacity: 0;
      border: 1px solid var(--zen-colors-border);
      border-bottom-width: 0;
      border-right-width: 0;

      #zen-welcome-initial-essentials-browser-sidebar {
        width: 100%;
        padding: 1.4rem;
        gap: 1.2rem;
        background: light-dark(rgba(255, 255, 255, 0.7), rgba(0, 0, 0, 0.4));

        #zen-welcome-initial-essentials-browser-sidebar-win-buttons {
          gap: 0.5rem;
          align-items: center;

          & > div {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--zen-toolbar-element-bg);
          }
        }

        #zen-welcome-initial-essentials-browser-sidebar-essentials {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 1rem;
          visibility: visible;

          & * {
            visibility: visible;
          }

          & .extra-tab {
            width: 100%;
            height: 4rem;
            border-radius: var(--border-radius-large);
            margin-top: 0.5rem;
            background: var(--zen-toolbar-element-bg);
            grid-column: span 3;
          }

          & .tabbrowser-tab {
            --tab-min-height: 6rem !important;
            min-width: 5rem !important;
            transition: transform 0.1s;
            position: relative;

            &::after {
              position: absolute;
              content: "";
              width: 1.8rem;
              height: 1.8rem;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              background: var(--zen-essential-tab-icon);
              background-position: center;
              background-size: contain;
              background-repeat: no-repeat;
              border-radius: 4px;
            }

            --border-radius-medium: 1rem;

            &[visuallyselected] {
              transform: scale(1.06);
            }

            & .tab-background {
              margin: 0 !important;
            }

            & .tab-background::after {
              filter: blur(30px) brightness(1.2);
            }
          }
        }
      }
    }
  }
}



================================================
FILE: src/zen/welcome/ZenWelcome.mjs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

{
  let _tabsToPinEssentials = [];

  const kZenElementsToIgnore = ["zen-browser-background", "zen-toast-container"];

  function clearBrowserElements() {
    for (const element of document.getElementById("browser").children) {
      if (kZenElementsToIgnore.includes(element.id)) {
        continue;
      }
      element.style.display = "none";
    }
  }

  function getMotion() {
    return gZenUIManager.motion;
  }

  async function animate(...args) {
    return getMotion().animate(...args);
  }

  function initializeZenWelcome() {
    document.documentElement.setAttribute("zen-welcome-stage", "true");
    const XUL = `
      <html:div id="zen-welcome">
        <html:div id="zen-welcome-start">
          <html:h1 class="zen-branding-title" id="zen-welcome-title"></html:h1>
          <button class="footer-button primary" id="zen-welcome-start-button">
          </button>
        </html:div>
        <hbox id="zen-welcome-pages">
          <vbox id="zen-welcome-page-sidebar">
            <vbox id="zen-welcome-page-sidebar-content">
            </vbox>
            <vbox id="zen-welcome-page-sidebar-buttons">
            </vbox>
          </vbox>
          <html:div id="zen-welcome-page-content">
          </html:div>
        </hbox>
      </html:div>
    `;
    const fragment = window.MozXULElement.parseXULToFragment(XUL);
    document.getElementById("browser").appendChild(fragment);
    window.MozXULElement.insertFTLIfNeeded("browser/zen-welcome.ftl");
  }

  var _iconToData = {};

  async function getIconData(iconURL) {
    if (_iconToData[iconURL]) {
      return _iconToData[iconURL];
    }
    const response = await fetch(iconURL);
    if (!response.ok) {
      console.error(`Failed to fetch icon: ${iconURL}`);
      return null;
    }
    const blob = await response.blob();
    const reader = new FileReader();
    const data = await new Promise((resolve) => {
      reader.onloadend = () => {
        const base64Data = reader.result.split(",")[1];
        _iconToData[iconURL] = `data:${blob.type};base64,${base64Data}`;
        resolve(_iconToData[iconURL]);
      };
      reader.readAsDataURL(blob);
    });
    return data;
  }

  /**
   *
   */
  class nsZenWelcomePages {
    constructor(pages) {
      this._currentPage = -1;
      this._pages = pages;
      this.init();
      this.next();
    }

    init() {
      document.getElementById("zen-welcome-pages").style.display = "flex";
      document.getElementById("zen-welcome-start").remove();
      window.maximize();
      animate("#zen-welcome-pages", { opacity: [0, 1] }, { delay: 0.2, duration: 0.1 });
    }

    async fadeInTitles(page) {
      const [title1, description1, description2] = await document.l10n.formatValues(page.text);
      const titleElement = document.getElementById("zen-welcome-page-sidebar-content");
      /* eslint-disable no-unsanitized/property */
      titleElement.innerHTML =
        `<html:h1>${title1}</html:h1><html:p>${description1}</html:p>` +
        (description2 ? `<html:p>${description2}</html:p>` : "");
      await animate(
        "#zen-welcome-page-sidebar-content > *",
        { x: ["150%", 0] },
        {
          delay: getMotion().stagger(0.05),
          type: "spring",
          bounce: 0.2,
        }
      );
    }

    async fadeInButtons(page) {
      const buttons = document.getElementById("zen-welcome-page-sidebar-buttons");
      let i = 0;
      const insertedButtons = [];
      for (const button of page.buttons) {
        const buttonElement = document.createXULElement("button");
        document.l10n.setAttributes(buttonElement, button.l10n);
        if (i++ === 0) {
          buttonElement.classList.add("primary");
        }
        buttonElement.classList.add("footer-button");
        buttonElement.addEventListener("click", async () => {
          const shouldSkip = await button.onclick();
          if (shouldSkip) {
            this.next();
          }
        });
        buttonElement.style.pointerEvents = "none"; // Disable pointer events until animation is done
        insertedButtons.push(buttonElement);
        buttons.appendChild(buttonElement);
      }
      await animate(
        "#zen-welcome-page-sidebar-buttons button",
        { x: ["150%", 0] },
        {
          delay: getMotion().stagger(0.1, { startDelay: 0.4 }),
          type: "spring",
          bounce: 0.2,
        }
      );
      for (const button of insertedButtons) {
        button.style.pointerEvents = ""; // Enable pointer events after animation
      }
    }

    async fadeInContent() {
      await animate(
        "#zen-welcome-page-content > *",
        { opacity: [0, 1] },
        {
          delay: getMotion().stagger(0.1),
          type: "spring",
          bounce: 0.2,
        }
      );
    }

    async fadeOutButtons() {
      await animate(
        "#zen-welcome-page-sidebar-buttons button",
        { x: [0, "-150%"] },
        {
          type: "spring",
          bounce: 0,
          delay: getMotion().stagger(0.1, { startDelay: 0.4 }),
        }
      );
      document.getElementById("zen-welcome-page-sidebar-buttons").innerHTML = "";
      document.getElementById("zen-welcome-page-sidebar-content").innerHTML = "";
    }

    async fadeOutTitles() {
      await animate(
        "#zen-welcome-page-sidebar-content > *",
        { x: [0, "-150%"] },
        {
          delay: getMotion().stagger(0.05, { startDelay: 0.3 }),
          type: "spring",
          bounce: 0,
        }
      );
    }

    async fadeOutContent() {
      await animate(
        "#zen-welcome-page-content > *",
        { opacity: [1, 0] },
        {
          delay: getMotion().stagger(0.05, { startDelay: 0.3 }),
          type: "spring",
          bounce: 0,
          duration: 0.1,
        }
      );
    }

    async next() {
      if (this._currentPage !== -1) {
        const previousPage = this._pages[this._currentPage];
        const promises = [this.fadeOutTitles(), this.fadeOutButtons()];
        if (!previousPage.dontFadeOut) {
          promises.push(this.fadeOutContent());
        }
        await Promise.all(promises);
        await previousPage.fadeOut();
        document.getElementById("zen-welcome-page-content").innerHTML = "";
      }
      this._currentPage++;
      const currentPage = this._pages[this._currentPage];
      if (!currentPage) {
        this.finish();
        return;
      }
      await Promise.all([this.fadeInTitles(currentPage), this.fadeInButtons(currentPage)]);
      await currentPage.fadeIn();
      await this.fadeInContent();
    }

    async finish() {
      _iconToData = undefined; // Unload icon data
      gZenWorkspaces.reorganizeTabsAfterWelcome();
      await animate("#zen-welcome-page-content", { x: [0, "100%"] }, { bounce: 0 });
      document.getElementById("zen-welcome-page-content").remove();
      await this.animHeart();
      await this.#pinRemainingTabs();
      await animate("#zen-welcome-pages", { opacity: [1, 0] });
      document.getElementById("zen-welcome").remove();
      document.documentElement.removeAttribute("zen-welcome-stage");
      for (const element of document.getElementById("browser").children) {
        if (kZenElementsToIgnore.includes(element.id)) {
          continue;
        }
        element.style.opacity = 0;
        element.style.removeProperty("display");
      }
      gZenUIManager.updateTabsToolbar();
      let elementsToIgnore = kZenElementsToIgnore.map((id) => `#${id}`).join(", ");
      await animate(`#browser > *:not(${elementsToIgnore})`, { opacity: [0, 1] });
      gZenUIManager.showToast("zen-welcome-finished");
    }

    async #pinRemainingTabs() {
      for (const tab of _tabsToPinEssentials) {
        tab.removeAttribute("pending"); // Make it appear loaded
        gZenPinnedTabManager.addToEssentials(tab);
      }
      let tabsToGroup = [];
      if (!gBrowser.selectedTab.hasAttribute("zen-empty-tab")) {
        tabsToGroup.push(gBrowser.selectedTab);
      }
      gZenFolders.createFolder(tabsToGroup, {
        renameFolder: false,
        label: "zen basics",
      });
    }

    async animHeart() {
      const heart = document.createElement("div");
      heart.id = "zen-welcome-heart";
      const sidebar = document.getElementById("zen-welcome-page-sidebar");
      sidebar.style.width = "100%";
      sidebar.appendChild(heart);
      sidebar.setAttribute("animate-heart", "true");
      await animate(
        "#zen-welcome-heart",
        { opacity: [0, 1, 1, 1, 0], scale: [0.5, 1, 1.2, 1, 1.2] },
        {
          duration: 1.5,
          delay: 0.2,
          bounce: 0,
        }
      );
    }
  }

  /**
   *
   */
  class ZenSearchEngineStore {
    constructor() {
      this._engines = [];
    }

    async init() {
      const visibleEngines = await Services.search.getVisibleEngines();
      this.initSpecificEngine(visibleEngines);
    }

    getEngines() {
      return this._engines.filter(
        (engine) =>
          !(
            engine.name.toLowerCase().includes("wikipedia") ||
            engine.name.toLowerCase().includes("ebay")
          )
      );
    }

    initSpecificEngine(engines) {
      for (const engine of engines) {
        try {
          this._engines.push(this._cloneEngine(engine));
        } catch (e) {
          // Ignore engines that throw an exception when cloning.
          console.error(e);
        }
      }
    }

    getEngineByName(aName) {
      return this._engines.find((engine) => engine.name == aName);
    }

    _cloneEngine(aEngine) {
      const clonedObj = {};

      for (const i of ["name", "alias", "_iconURI", "hidden"]) {
        clonedObj[i] = aEngine[i];
      }

      clonedObj.originalEngine = aEngine;

      return clonedObj;
    }

    async getDefaultEngine() {
      let engineName = await Services.search.getDefault();
      return this.getEngineByName(engineName._name);
    }

    async setDefaultEngine(engine) {
      await Services.search.setDefault(
        engine.originalEngine,
        Ci.nsISearchService.CHANGE_REASON_USER
      );
    }
  }

  function getWelcomePages() {
    return [
      {
        text: [
          {
            id: "zen-welcome-import-title",
          },
          {
            id: "zen-welcome-import-description-1",
          },
          {
            id: "zen-welcome-import-description-2",
          },
        ],
        buttons: [
          {
            l10n: "zen-welcome-import-button",
            onclick: async () => {
              MigrationUtils.showMigrationWizard(window, {
                isStartupMigration: true,
              });
              document.querySelector("#zen-welcome-page-sidebar-buttons button").remove();
              const newButton = document.querySelector("#zen-welcome-page-sidebar-buttons button");
              newButton.classList.add("primary");
              document.l10n.setAttributes(newButton, "zen-generic-next");
              return false;
            },
          },
          {
            l10n: "zen-welcome-skip-button",
            onclick: async () => {
              return true;
            },
          },
        ],
        fadeIn() {
          const xul = `
            <html:label for="zen-welcome-set-default-browser">
              <html:input type="radio" id="zen-welcome-set-default-browser" name="zen-welcome-set-default-browser"></html:input>
              <html:span data-l10n-id="zen-welcome-set-default-browser"></html:span>
            </html:label>
            <html:label for="zen-welcome-dont-set-default-browser">
              <html:input checked="true" type="radio" id="zen-welcome-dont-set-default-browser" name="zen-welcome-set-default-browser"></html:input>
              <html:span data-l10n-id="zen-welcome-dont-set-default-browser"></html:span>
            </html:label>
          `;
          const fragment = window.MozXULElement.parseXULToFragment(xul);
          document.getElementById("zen-welcome-page-content").appendChild(fragment);
        },
        async fadeOut() {
          const shouldSetDefault = document.getElementById(
            "zen-welcome-set-default-browser"
          ).checked;
          if (AppConstants.HAVE_SHELL_SERVICE && shouldSetDefault) {
            let shellSvc = window.getShellService();
            if (!shellSvc) {
              return;
            }

            try {
              await shellSvc.setDefaultBrowser(false);
            } catch (ex) {
              console.error(ex);
            }
          }
        },
      },
      {
        text: [
          {
            id: "zen-welcome-default-search-title",
          },
          {
            id: "zen-welcome-default-search-description",
          },
        ],
        buttons: [
          {
            l10n: "zen-generic-next",
            onclick: async () => {
              return true;
            },
          },
        ],
        async fadeIn() {
          const content = document.getElementById("zen-welcome-page-content");
          const engineStore = new ZenSearchEngineStore();
          engineStore.init();

          content.setAttribute("select-engine", "true");

          const defaultEngine = await Services.search.getDefault();
          const promises = [];
          engineStore.getEngines().forEach((engine) => {
            const label = document.createElement("label");
            const engineId = engine.name.replace(/\s+/g, "-").toLowerCase();
            label.setAttribute("for", engineId);
            const input = document.createElement("input");
            input.setAttribute("type", "radio");
            input.setAttribute("id", engineId);
            input.setAttribute("name", "zen-welcome-set-default-browser");
            input.setAttribute("hidden", "true");
            if (engine.name === defaultEngine.name) {
              input.setAttribute("checked", true);
            }
            label.appendChild(input);
            const engineLabel = document.createXULElement("label");
            engineLabel.textContent = engine.name;
            const icon = document.createElement("img");
            promises.push(
              (async () => {
                icon.setAttribute("src", await engine.originalEngine.getIconURL());
              })()
            );
            icon.setAttribute("width", "32");
            icon.setAttribute("height", "32");
            icon.setAttribute("class", "engine-icon");
            label.appendChild(icon);
            label.appendChild(engineLabel);
            content.appendChild(label);
            label.addEventListener("click", async () => {
              const selectedEngine = engineStore.getEngineByName(engine.name);
              if (selectedEngine) {
                await engineStore.setDefaultEngine(selectedEngine);
              }
            });
          });
          await Promise.all(promises);
        },
        async fadeOut() {
          document.getElementById("zen-welcome-page-content").removeAttribute("select-engine");
        },
      },
      {
        text: [
          {
            id: "zen-welcome-initial-essentials-title",
          },
          {
            id: "zen-welcome-initial-essentials-description-1",
          },
          {
            id: "zen-welcome-initial-essentials-description-2",
          },
        ],
        buttons: [
          {
            l10n: "zen-generic-next",
            onclick: async () => {
              return true;
            },
          },
        ],
        fadeIn() {
          const xul = `
            <hbox id="zen-welcome-initial-essentials-browser">
              <vbox id="zen-welcome-initial-essentials-browser-sidebar">
                <hbox id="zen-welcome-initial-essentials-browser-sidebar-win-buttons">
                  <html:div></html:div>
                  <html:div></html:div>
                  <html:div></html:div>
                </hbox>
                <html:div id="zen-welcome-initial-essentials-browser-sidebar-essentials">
                  <html:div class="tabbrowser-tab" fadein="" data-url="https://obsidian.md" style="--zen-essential-tab-icon: url('chrome://browser/content/zen-images/favicons/obsidian.svg');">
                    <stack class="tab-stack">
                      <html:div class="tab-background"></html:div>
                    </stack>
                  </html:div>
                  <html:div class="tabbrowser-tab" fadein="" data-url="https://discord.com" style="--zen-essential-tab-icon: url('chrome://browser/content/zen-images/favicons/discord.svg');">
                    <stack class="tab-stack">
                      <html:div class="tab-background"></html:div>
                    </stack>
                  </html:div>
                  <html:div class="tabbrowser-tab" fadein="" data-url="https://trello.com" style="--zen-essential-tab-icon: url('chrome://browser/content/zen-images/favicons/trello.svg');">
                    <stack class="tab-stack">
                      <html:div class="tab-background"></html:div>
                    </stack>
                  </html:div>
                  <html:div class="tabbrowser-tab" fadein="" data-url="https://slack.com" style="--zen-essential-tab-icon: url('chrome://browser/content/zen-images/favicons/slack.svg');">
                    <stack class="tab-stack">
                      <html:div class="tab-background"></html:div>
                    </stack>
                  </html:div>
                  <html:div class="tabbrowser-tab" fadein="" data-url="https://github.com" style="--zen-essential-tab-icon: url('chrome://browser/content/zen-images/favicons/github.svg');">
                    <stack class="tab-stack">
                      <html:div class="tab-background"></html:div>
                    </stack>
                  </html:div>
                  <html:div class="tabbrowser-tab" fadein="" data-url="https://app.tuta.com/" style="--zen-essential-tab-icon: url('chrome://browser/content/zen-images/favicons/tuta.svg');">
                    <stack class="tab-stack">
                      <html:div class="tab-background"></html:div>
                    </stack>
                  </html:div>
                  <html:div class="tabbrowser-tab" fadein="" data-url="https://notion.com" style="--zen-essential-tab-icon: url('chrome://browser/content/zen-images/favicons/notion.svg');">
                    <stack class="tab-stack">
                      <html:div class="tab-background"></html:div>
                    </stack>
                  </html:div>
                  <html:div class="tabbrowser-tab" fadein="" data-url="https://calendar.google.com" style="--zen-essential-tab-icon: url('chrome://browser/content/zen-images/favicons/calendar.svg');">
                    <stack class="tab-stack">
                      <html:div class="tab-background"></html:div>
                    </stack>
                  </html:div>
                  <html:div class="tabbrowser-tab" fadein="" data-url="https://figma.com" style="--zen-essential-tab-icon: url('chrome://browser/content/zen-images/favicons/figma.svg');">
                    <stack class="tab-stack">
                      <html:div class="tab-background"></html:div>
                    </stack>
                  </html:div>
                  <html:div class="extra-tab"></html:div>
                  <html:div class="extra-tab"></html:div>
                </html:div>
              </vbox>
            </hbox>
          `;
          const fragment = window.MozXULElement.parseXULToFragment(xul);
          document.getElementById("zen-welcome-page-content").appendChild(fragment);
          document
            .getElementById("zen-welcome-initial-essentials-browser-sidebar-essentials")
            .addEventListener("click", async (event) => {
              const tab = event.target.closest(".tabbrowser-tab");
              if (!tab) {
                return;
              }
              tab.toggleAttribute("visuallyselected");
            });
        },
        async fadeOut() {
          const selectedTabs = document
            .getElementById("zen-welcome-initial-essentials-browser-sidebar-essentials")
            .querySelectorAll(".tabbrowser-tab[visuallyselected]");

          if (selectedTabs.length) {
            await PlacesUtils.history.insertMany(
              [...selectedTabs].map((tab) => ({
                url: tab.getAttribute("data-url"),
                visits: [
                  {
                    transition: PlacesUtils.history.TRANSITIONS.TYPED,
                  },
                ],
              }))
            );
          }

          const { TabStateCache } = ChromeUtils.importESModule(
            "resource:///modules/sessionstore/TabStateCache.sys.mjs"
          );
          for (const tab of selectedTabs) {
            const url = tab.getAttribute("data-url");
            const createdTab = window.gBrowser.addTrustedTab(url, {
              inBackground: true,
              createLazyBrowser: true,
            });
            let essentialIconUrl = tab.style.getPropertyValue("--zen-essential-tab-icon");
            // Remove url() from the icon URL
            essentialIconUrl = essentialIconUrl.replace(/url\(['"]?/, "").replace(/['"]?\)/, "");
            essentialIconUrl = await getIconData(essentialIconUrl);
            // Update the persistent tab state cache with |tabData| information.
            TabStateCache.update(createdTab.linkedBrowser.permanentKey, {
              history: { entries: [{ url }], index: 0 },
              image: essentialIconUrl,
            });
            gBrowser.setIcon(createdTab, essentialIconUrl);
            _tabsToPinEssentials.push(createdTab);
          }
        },
      },
      {
        text: [
          {
            id: "zen-welcome-workspace-colors-title",
          },
          {
            id: "zen-welcome-workspace-colors-description",
          },
        ],
        buttons: [
          {
            l10n: "zen-generic-next",
            onclick: async () => {
              return true;
            },
          },
        ],
        fadeIn() {
          const anchor = document.createElement("div");
          anchor.id = "zen-welcome-workspace-colors-anchor";
          document.getElementById("zen-welcome-page-content").appendChild(anchor);
          gZenThemePicker.panel.setAttribute("noautohide", "true");
          gZenThemePicker.panel.setAttribute("consumeoutsideclicks", "false");
          gZenThemePicker.panel.addEventListener(
            "popupshowing",
            () => {
              const panelRect = gZenThemePicker.panel.getBoundingClientRect();
              // 20 is the shadow width * 2
              anchor.style.height = panelRect.height - 20 + "px";
              anchor.style.width = panelRect.width - 20 + "px";
            },
            { once: true }
          );
          PanelMultiView.openPopup(gZenThemePicker.panel, anchor, {
            position: "overlap",
          });
        },
        dontFadeOut: true,
        async fadeOut() {
          gZenThemePicker.panel.removeAttribute("noautohide");
          gZenThemePicker.panel.removeAttribute("consumeoutsideclicks");
          await animate(gZenThemePicker.panel, { opacity: [1, 0] });
          gZenThemePicker.panel.hidePopup();
          gZenThemePicker.panel.removeAttribute("style");
        },
      },
      {
        text: [
          {
            id: "zen-welcome-start-browsing-title",
          },
          {
            id: "zen-welcome-start-browsing-description-1",
          },
        ],
        buttons: [
          {
            l10n: "zen-welcome-start-browsing",
            onclick: async () => {
              return true;
            },
          },
        ],
        fadeIn() {},
        fadeOut() {},
      },
    ];
  }

  async function animateInitialStage() {
    const [title1, title2] = await document.l10n.formatValues([
      { id: "zen-welcome-title-line1" },
      { id: "zen-welcome-title-line2" },
    ]);
    const titleElement = document.getElementById("zen-welcome-title");
    /* eslint-disable no-unsanitized/property */
    titleElement.innerHTML = `<html:span>${title1}</html:span><html:span>${title2}</html:span>`;
    await animate(
      "#zen-welcome-title span",
      { opacity: [0, 1], y: [20, 0], filter: ["blur(2px)", "blur(0px)"] },
      {
        delay: getMotion().stagger(0.6, { startDelay: 0.2 }),
        type: "spring",
        stiffness: 300,
        damping: 20,
        mass: 1.8,
      }
    );
    const button = document.getElementById("zen-welcome-start-button");
    button.addEventListener("click", async () => {
      await animate(
        "#zen-welcome-title span, #zen-welcome-start-button",
        { opacity: [1, 0], y: [0, -10], filter: ["blur(0px)", "blur(2px)"] },
        {
          type: "spring",
          ease: [0.755, 0.05, 0.855, 0.06],
          bounce: 0.4,
          delay: getMotion().stagger(0.4),
        }
      );
      new nsZenWelcomePages(getWelcomePages());
    });
    await animate(
      button,
      { opacity: [0, 1], y: [20, 0], filter: ["blur(2px)", "blur(0px)"] },
      {
        delay: 0.1,
        type: "spring",
        stiffness: 300,
        damping: 20,
        mass: 1.8,
      }
    );
  }

  function centerWindowOnScreen() {
    window.addEventListener(
      "MozAfterPaint",
      function () {
        window.resizeTo(875, 560);
        window.focus();
        const appWin = window.docShell.treeOwner
          .QueryInterface(Ci.nsIInterfaceRequestor)
          .getInterface(Ci.nsIAppWindow);
        appWin.rollupAllPopups();
        window.moveTo(
          screen.availLeft + (screen.availWidth - outerWidth) / 2,
          screen.availTop + (screen.availHeight - outerHeight) / 2
        );
      },
      { once: true }
    );
  }

  function startZenWelcome() {
    clearBrowserElements();
    centerWindowOnScreen();
    initializeZenWelcome();
    animateInitialStage();
  }

  startZenWelcome();
}



================================================
FILE: src/zen/workspaces/create-workspace-form.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

zen-workspace-creation {
  flex: 1;
  max-width: calc(var(--zen-sidebar-width) - var(--zen-toolbox-padding));
  padding: 3px;
  visibility: collapse;

  & .zen-workspace-creation {
    justify-content: center;

    & .zen-workspace-creation-title {
      font-size: large;
      margin-bottom: 5px;
      text-align: center;
    }

    & .zen-workspace-creation-label {
      margin: 0;
      opacity: 0.4;
      text-align: center;
    }

    & form {
      --input-bgcolor: light-dark(rgba(0, 0, 0, 0.05), rgba(255, 255, 255, 0.05));

      display: flex;
      flex-direction: column;
      width: calc(100% - 10px);
      margin: auto;
      gap: 3.2rem;
      margin-top: 0.6rem;
      height: 100%;

      & .zen-workspace-creation-form {
        gap: 0.6rem;
      }

      & xul|button {
        margin: 0;
        font-weight: 400 !important;

        &:not(.footer-button.primary) {
          border: none;
        }
      }

      & .zen-workspace-creation-name-wrapper {
        padding: 9px 6px;
        border-radius: 8px !important;
        margin: 0;
        background-color: var(--input-bgcolor);
        gap: 8px;
        align-items: center;
        padding-left: 8px;

        & .zen-workspace-creation-icon-label {
          position: relative;
          width: 24px;
          height: 20px;
          justify-content: center;
          align-items: center;
          cursor: pointer;
          background: transparent !important;
          appearance: none;
          align-content: center;
          padding: 0;
          fill-opacity: 0.6;

          & image {
            position: absolute;
            width: 16px;
            height: 16px;
            -moz-context-properties: fill-opacity, fill;
            fill: currentColor;
          }

          &:not([has-svg-icon="true"]) image {
            display: none;
          }

          & label {
            display: flex;
            font-size: 12px;
            justify-content: center;
          }

          &[has-svg-icon="true"] label {
            display: none;
          }

          &::before {
            border: 1px dashed light-dark(rgba(0, 0, 0, 0.5), rgba(255, 255, 255, 0.5));
            border-radius: 4px;
            width: calc(100% + 2px);
            height: calc(100% + 2px);
            content: "";
            position: absolute;
            top: -2px;
            left: -2px;
            pointer-events: none;
          }
        }

        & .zen-workspace-creation-name {
          --input-border-color: transparent;
          --input-bgcolor: transparent;
          padding: 0 !important;
          width: 100%;
          outline: none;
          border-radius: 0;
        }
      }

      & .zen-workspace-creation-profile-wrapper {
        padding: 4px;
        border-radius: 8px !important;
        margin: 0;
        background-color: var(--input-bgcolor);
        gap: 4px;
        align-items: center;
        flex-wrap: wrap;

        & .zen-workspace-creation-profile-label {
          cursor: help;
        }

        & .zen-workspace-creation-profile {
          margin: 0;
          padding: 6px !important;
          border-radius: 99px;
          padding-inline-end: 0;
          appearance: none;
          background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
          margin-left: auto;
          min-width: unset !important;
          border-radius: 6px;
        }
      }

      & .zen-workspace-creation-edit-theme-button {
        border-radius: 8px !important;
        margin: 0;
        background-color: var(--input-bgcolor);
        justify-content: center;
        align-items: center;
        appearance: none;
        padding: 10px !important;

        &:hover {
          background-color: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
        }
      }

      & .zen-workspace-creation-buttons {
        gap: 0.5rem;
        margin-top: auto;

        & .zen-workspace-creation-create-button {
          color: var(--button-text-color-primary) !important;
          background: var(--color-accent-primary) !important;
          width: 100%;
        }
      }
    }
  }
}



================================================
FILE: src/zen/workspaces/jar.inc.mn
================================================
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

        content/browser/zen-components/ZenWorkspaceIcons.mjs                    (../../zen/workspaces/ZenWorkspaceIcons.mjs)
        content/browser/zen-components/ZenWorkspace.mjs                         (../../zen/workspaces/ZenWorkspace.mjs)
        content/browser/zen-components/ZenWorkspaces.mjs                        (../../zen/workspaces/ZenWorkspaces.mjs)
        content/browser/zen-components/ZenWorkspaceCreation.mjs                 (../../zen/workspaces/ZenWorkspaceCreation.mjs)
        content/browser/zen-components/ZenWorkspaceBookmarksStorage.js         (../../zen/workspaces/ZenWorkspaceBookmarksStorage.js)
        content/browser/zen-components/ZenGradientGenerator.mjs                 (../../zen/workspaces/ZenGradientGenerator.mjs)
*       content/browser/zen-styles/zen-workspaces.css                           (../../zen/workspaces/zen-workspaces.css)
        content/browser/zen-styles/zen-gradient-generator.css                   (../../zen/workspaces/zen-gradient-generator.css)


================================================
FILE: src/zen/workspaces/overflow-icons.inc.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

&::after {
  content: '';
  position: absolute;
  width: 4px;
  border-radius: 99px;
  height: 4px;
  background: color-mix(
    in srgb,
    var(--zen-primary-color) 10%,
    light-dark(rgba(0, 0, 0, 0.4), rgba(255, 255, 255, 0.4)) 90%
  );
  left: 50%;
  top: 50%;
  filter: saturate(140%) brightness(110%) !important;
  transform: translate(-50%, -50%);
  transition: opacity 150ms ease-in-out;
  opacity: 0;
}

& .zen-workspace-icon {
  transition: opacity 150ms ease-in-out, transform 150ms ease-in-out;
  z-index: 2;
  transform-origin: center;
}

&:not(:hover) {
  min-width: 10px;

  &::after {
    opacity: 1;
  }

  & .zen-workspace-icon {
    opacity: 0;
    transform: scale(0);
  }
}



================================================
FILE: src/zen/workspaces/zen-gradient-generator.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

#PanelUI-zen-gradient-generator {
  --panel-width: 380px;
  --panel-padding: 10px;
  min-width: var(--panel-width);
}

#PanelUI-zen-gradient-generator .panel-viewcontainer,
#PanelUI-zen-gradient-generator .panel-viewstack {
  display: flex;
  flex-direction: column;
  width: 100%;
}

#PanelUI-zen-gradient-generator-controls {
  align-items: center;
  gap: var(--panel-padding);
  padding-top: 10px;
}

#zen-theme-picker-color {
  align-items: start;
  width: 100%;

  & label {
    font-size: 12px;
    margin-left: 0;
    font-weight: 600;
    margin-bottom: 5px;
  }

  & input,
  & > hbox {
    width: 100%;
    position: relative;
  }

  & #PanelUI-zen-gradient-generator-custom-input {
    padding: 0;
    align-self: center;
    border: none;
    background: transparent;
  }

  & #PanelUI-zen-gradient-generator-custom-opacity {
    max-width: 50px;
  }
}

#PanelUI-zen-gradient-generator-custom-input {
  position: relative;
  padding-right: 6px !important;
}

#PanelUI-zen-gradient-generator-color-custom-add {
  cursor: pointer;
}

#PanelUI-zen-gradient-colors-wrapper {
  display: flex;
  justify-content: space-between;
  width: 100%;
  margin-bottom: 10px;
  align-items: center;
  gap: 1.5rem;
  padding: 0 var(--panel-padding);

  @media (-moz-platform: macos) {
    gap: 2rem;
  }

  #PanelUI-zen-gradient-opacity-wrapper {
    position: relative;
  }

  & label {
    margin-left: 0;
    font-weight: 600;
    margin-inline: 0;
    margin-bottom: 2px;
    @media (-moz-platform: macos) {
      font-size: larger;
    }
  }
}

#PanelUI-zen-gradient-generator-color-pages-wrapper {
  align-items: center;
}

#PanelUI-zen-gradient-generator-color-pages {
  display: flex;
  justify-content: space-around;
  margin: 0 10px;
  align-items: center;
  width: 100%;
  overflow: auto;
  scrollbar-width: none;
  scroll-behavior: smooth;

  & > hbox {
    justify-content: space-between;
    min-width: 100%;
    padding: 0 1px;

    & > box {
      width: 26px;
      height: 26px;
      box-shadow: 0 0 1px 1px rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      cursor: pointer;
      position: relative;
      transition: transform 0.1s;

      &[data-num-dots="3"] {
        background:
          radial-gradient(circle at 0% 0%, var(--c1), transparent 100%), radial-gradient(circle at 100% 0%, var(--c2), transparent 100%),
          linear-gradient(to top, var(--c3) 0%, transparent 60%);
      }

      &:hover {
        transform: scale(1.05);

        &::after {
          transform: scale(1.05);
        }
      }

      &:hover:active {
        transform: scale(0.95);

        &::after {
          transform: scale(0.95);
        }
      }
    }
  }
}

#PanelUI-zen-gradient-generator-custom-list {
  margin-top: 15px;

  &:empty {
    display: none;
  }

  & .zen-theme-picker-custom-list-item {
    display: flex;
    padding: 5px;
    position: relative;

    & .zen-theme-picker-dot.custom {
      background: var(--zen-theme-picker-dot-color);
      border: 1px solid var(--zen-colors-border);
      border-radius: 5px;
      width: 20px;
      height: 20px;
      margin-right: 10px;
    }

    & .zen-theme-picker-custom-list-item-label {
      font-size: 12px;
      font-weight: 600;
      margin: 0;
      display: flex;
      align-items: center;
    }

    & .zen-theme-picker-custom-list-item-remove {
      padding: 2px 4px !important;
      margin: 0 !important;
      margin-left: auto !important;
      transition: opacity 0.1s;
      opacity: 0;
    }

    &:hover .zen-theme-picker-custom-list-item-remove {
      opacity: 1;
    }
  }
}

#PanelUI-zen-gradient-slider-wave {
  position: absolute;
  left: -5px;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: flex-start;

  &::before {
    content: "";
    position: absolute;
    width: calc(100% - 8px);
    height: 16px;
    background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
    border-radius: 999px;
    pointer-events: none;
    z-index: -1;
    top: 50%;
    left: 8px;
    transform: translateY(-50%);
  }

  & svg {
    overflow: visible;
    min-width: calc(100% * 1.1);
    scale: 1.2;
    margin-left: 4px;
  }
}

#PanelUI-zen-gradient-generator-opacity {
  margin: 0 !important;
  background: transparent;
  z-index: 2;
  padding: 0 5px;

  &::-moz-range-thumb {
    background: light-dark(black, white);
    border-radius: 999px;
    height: var(--zen-thumb-height);
    width: var(--zen-thumb-width);
    cursor: pointer;
    border: none;
  }

  &::-moz-range-track {
    border-radius: 999px;
    height: 18px;
  }

  &::-moz-range-progress {
    background: transparent;
  }
}

.zen-theme-picker-gradient {
  position: relative;
  overflow: hidden;
  border-radius: calc(var(--panel-border-radius) - 4px);

  min-height: calc(var(--panel-width) - var(--panel-padding) * 2 - 2px);
  background: light-dark(rgba(0, 0, 0, 0.05), rgba(255, 255, 255, 0.03));
  background-image: radial-gradient(light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.05)) 1px, transparent 0);
  background-position: -23px -23px;
  background-size: 6px 6px;

  & .zen-theme-picker-dot {
    position: fixed;
    z-index: 2;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--zen-theme-picker-dot-color);
    @media (-prefers-color-scheme: dark) {
      box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
    }
    cursor: pointer;
    border: 3px solid #ffffff;
    animation: zen-theme-picker-dot-animation 0.5s;
    transform: translate(-50%, -50%);
    pointer-events: none;
    transform-origin: left top;
    margin: 10px 0 0 10px;

    &:first-of-type {
      width: 38px;
      height: 38px;
      border-width: 4px;
      z-index: 2;
      pointer-events: all;
      transition: transform 0.2s;
      z-index: 999;
      &:hover {
        transform: scale(1.05) translate(-50%, -50%);
      }
    }

    &[dragging="true"] {
      transform: scale(1.2) translate(-25%, -25%) !important;
    }
  }
}

#PanelUI-zen-gradient-generator-view {
  gap: 10px;
}

#PanelUI-zen-gradient-generator-color-click-to-add {
  position: absolute;
  font-weight: 600;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  white-space: nowrap;
  pointer-events: none;
  font-size: small;
  margin: 0;

  &[hidden] {
    display: none;
  }
}

#PanelUI-zen-gradient-generator-color-actions,
#PanelUI-zen-gradient-generator-scheme {
  display: flex;
  position: absolute;
  bottom: 12px;
  left: 50%;
  z-index: 1;
  transform: translateX(-50%);
  gap: 5px;

  & button {
    border: none !important;
    padding: 0 !important;
    min-width: fit-content !important;
    transition: background 0.2s;
    appearance: none;
    max-height: 30px;
    max-width: 30px;
    min-height: 30px;
    min-width: 30px !important;
    color: light-dark(rgba(0, 0, 0, 0.7), rgba(255, 255, 255, 0.9));

    & .button-box {
      gap: 0.1rem;
    }

    & .button-text {
      display: none;
    }

    &:hover {
      background: light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
    }

    &[disabled] {
      opacity: 0.5;
      cursor: not-allowed;
    }
  }
}

#PanelUI-zen-gradient-generator-scheme {
  top: 15px;
  max-height: 32px;
}

@media not -moz-pref("zen.theme.gradient.show-custom-colors") {
  #PanelUI-zen-gradient-generator-custom-colors {
    display: none !important;
  }
}

#PanelUI-zen-gradient-generator-texture-wrapper {
  width: 5rem;
  height: 5rem;
  position: relative;

  @media (-moz-platform: macos) {
    width: 6rem;
    height: 6rem;
  }

  &::after {
    content: "";
    position: absolute;
    width: 60%;
    height: 60%;
    border: 1px solid color-mix(in srgb, var(--zen-colors-border) 50%, transparent 50%);
    border-radius: 50%;
    /* 3d effect */
    background: linear-gradient(-45deg, transparent -10%, light-dark(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1)) 110%);
    z-index: 2;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
  }

  &::before {
    background-image: url(chrome://browser/content/zen-images/grain-bg.png);
    opacity: var(--zen-grainy-background-opacity, 0);
    mix-blend-mode: hard-light;
    width: 60%;
    height: 60%;
    pointer-events: none;
    top: 50%;
    border-radius: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1;
    content: "";
    position: absolute;
  }

  & .zen-theme-picker-texture-dot {
    height: 4px;
    width: 4px;
    border-radius: 50%;
    background: light-dark(rgba(0, 0, 0, 0.3), rgba(255, 255, 255, 0.3));
    position: absolute;
    transition: opacity 0.2s;
    transform: translate(-50%, -50%);
    pointer-events: none;
    &:not(.active) {
      opacity: 0.4;
    }
  }

  & #PanelUI-zen-gradient-generator-texture-handler {
    width: 6px;
    height: 12px;
    background: light-dark(#757575, #d1d1d1);
    position: absolute;
    transition: height 0.1s;
    z-index: 2;
    border-radius: 2px;
    cursor: pointer;
    &:hover {
      height: 14px;
    }
  }
}

#PanelUI-zen-gradient-generator-color-page-left,
#PanelUI-zen-gradient-generator-color-page-right {
  max-width: 28px;
  max-height: 28px;
  margin: 0 !important;
}

#PanelUI-zen-gradient-generator[invalidate-controls="true"] {
  #PanelUI-zen-gradient-generator-opacity {
    display: none !important;
  }

  #PanelUI-zen-gradient-slider-wave svg path {
    stroke: light-dark(rgba(77, 77, 77, 0.5), rgba(161, 161, 161, 0.5)) !important;
  }
}



================================================
FILE: src/zen/workspaces/zen-workspaces.css
================================================
/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
@namespace html 'http://www.w3.org/1999/xhtml';
@namespace xul 'http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul';

#zen-workspaces-button {
  justify-content: center;
  align-items: center;
  display: flex;
  font-size: x-small;
  margin: 0 3px;
  padding: 0;
  appearance: auto;

  position: relative;
  -moz-window-dragging: no-drag;

  &[dont-show='true'] {
    display: none !important;
  }

  border-radius: var(--button-border-radius) !important;
  background: transparent;
  appearance: unset !important;
  height: fit-content;
  gap: 3px;

  container-type: inline-size;
  width: 100%;

  & toolbarbutton {
    margin: 0;
    max-width: 28px;
    height: 28px;
    display: flex;
    justify-content: center;
    padding: 0 !important;
    align-items: center;
    position: relative;
    fill-opacity: 0.6;

    & .zen-workspace-icon {
      pointer-events: none;
      line-height: 0;

      &:is(img) {
        width: 14px;
      }
   
      &[no-icon='true'] {
        width: 6px;
        height: 6px;
        background: light-dark(rgba(0, 0, 0, 0.4), rgba(255, 255, 255, 0.4));
        border-radius: 50%;
      }
    }

    filter: grayscale(1);
    opacity: 0.5;
    transition:
      filter 0.2s,
      opacity 0.2s,
      width 0.1s,
      transform 0.2s;

    &[active='true'],
    &:hover,
    &[dragged='true'] {
      filter: grayscale(0);
      opacity: 1;
    }

    &:hover,
    &[dragged='true']{
      background-color: var(--zen-toolbar-element-bg);
    }

    & label {
      margin: 0 !important;
    }

    :root:not([zen-sidebar-expanded='true']) & {
      min-width: 36px;
    }
  }

  &[reorder-mode='true'] toolbarbutton:not([dragged='true']) {
    opacity: 0.2 !important;
    filter: grayscale(1) !important;
  }

  &[icons-overflow] {
    gap: 0 !important;
    justify-content: center;

    & toolbarbutton {
      margin: 0;
      background: transparent;
      /* Ignore press state when in overflow, to allow clicks to happen */
      scale: 1 !important;
    }

    /* Inlcude separately since ther'es a bug in the 
     * rendering of XUL in firefox */
    & toolbarbutton:not([active='true']) {
%include overflow-icons.inc.css
    }

    &:has(toolbarbutton:hover) toolbarbutton[active='true']:not([dragged='true']) {
%include overflow-icons.inc.css
    }
  }
}

#zen-workspaces-button .zen-workspace-sidebar-wrapper {
  position: absolute;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: none;
}

#zen-workspaces-button .zen-workspace-sidebar-name {
  margin-left: 0.2rem;
  display: none;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  font-size: 13px;
}

/** Keep these selectors in sync with the ones in vertical-tabs.css */
#navigator-toolbox {
  & #zen-workspaces-button .zen-workspace-sidebar-name {
    display: block;
  }

  & #zen-workspaces-button .zen-workspace-sidebar-icon {
    margin-inline-end: 5px;
  }

  & #zen-workspaces-button {
    overflow: hidden;
    display: flex;
    gap: 0.5ch;
    overflow-x: auto;
    scrollbar-width: none;
    scroll-behavior: smooth;
  }
}

/* Mark workspaces indicator */
.zen-current-workspace-indicator {
  --indicator-gap: calc(var(--toolbarbutton-inner-padding) - 1px);
  padding: calc(3px + var(--tab-inline-padding) + var(--zen-toolbox-padding));
  font-weight: 500;
  position: relative;
  max-height: var(--zen-workspace-indicator-height);
  min-height: var(--zen-workspace-indicator-height);
  gap: var(--indicator-gap);
  align-items: center;
  flex-direction: row !important;
  max-width: 100%;
  width: 100%;
  font-size: small;
  padding-right: 12px;
  -moz-window-dragging: no-drag;

  &::before {
    border-radius: var(--border-radius-medium);
    background: transparent;
    pointer-events: none;
    content: '';
    position: absolute;
    top: 4px;
    left: calc(var(--zen-toolbox-padding) + 2px);
    width: calc(100% - var(--zen-toolbox-padding) * 2.5);
    height: calc(100% - 8px);
  }

  :root[zen-private-window] & {
    pointer-events: none;
  }

  :root[zen-unsynced-window='true'][zen-sidebar-expanded='true'] & {
    padding: calc(-2px + var(--tab-inline-padding) + var(--zen-toolbox-padding));
  }

  :root:not([zen-unsynced-window]) & {
    &:hover,
    &[open='true'] {
      &::before {
        background: var(--tab-hover-background-color);
      }
    }
  }

  & .zen-current-workspace-indicator-icon {
    position: relative;
    width: 16px;
    height: 16px;
    justify-content: center;
    align-items: center;
    fill-opacity: 0.6;
    -moz-context-properties: fill-opacity, fill;
    fill: var(--toolbox-textcolor);
    font-size: 16px;
    padding-top: 2px;
    color: light-dark(rgba(0, 0, 0, 0.8), rgba(255, 255, 255, 0.8));

    & img {
      transform: translateY(-1px);
    }

    &[zen-emoji-open='true']::before {
      border: 1px dashed light-dark(rgba(0, 0, 0, .5), rgba(255, 255, 255, .5));
      border-radius: 6px;
      width: calc(100% + 6px);
      height: calc(100% + 6px);
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      pointer-events: none;
    }

    @media (-moz-platform: windows) {
      & img {
        margin-bottom: -2px;
      }
    }
  }

  .zen-current-workspace-indicator-name {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: auto;
    white-space: nowrap;
    font-weight: 600;
    margin: 0;

    :root[zen-unsynced-window] & {
      pointer-events: none;
      background: var(--zen-toolbar-element-bg);
      padding: 4px 8px;
      border-radius: 99px;
      font-size: 10px;
    }

    :root:not([zen-unsynced-window]) & {
      flex: 1;
    }
  }

  .zen-workspaces-actions {
    margin-left: auto !important;
    transition: opacity 0.1s;
    order: 5;
    --toolbarbutton-inner-padding: 6px !important;
    opacity: 0;
    visibility: collapse;

    & image {
      border-radius: max(calc(var(--border-radius-medium) - 4px), 4px) !important;
      width: 26px;
      height: 26px;
      margin-right: -1px;
    }

    :root[zen-renaming-tab='true'] & {
      display: none;
    }

    :root[zen-unsynced-window] & {
      .toolbarbutton-text {
        display: flex;
        font-size: 10px;
        min-height: 22px;
        padding: 6px 8px;
      }

      .toolbarbutton-icon {
        display: none;
      }
    }
  }

  :root[zen-unsynced-window='true']
    #navigator-toolbox[zen-has-implicit-hover='true'] 
    & .zen-workspaces-actions,
  :root:not([zen-unsynced-window]) &:hover .zen-workspaces-actions,
  & .zen-workspaces-actions[open='true'] {
    visibility: visible;
    pointer-events: auto;
    opacity: 1;
  }
}

/* mark: workspace element */
zen-workspace {
  will-change: transform;
  flex-direction: column;
  transition: padding-top 0.1s;
  width: calc(100% + var(--zen-toolbox-padding) * 2);
  position: absolute;
  height: 100%;
  overflow: hidden;
  color: var(--toolbox-textcolor);

  :root:not([zen-sidebar-expanded='true']) & {
    width: 100%;
  }

  & > arrowscrollbox {
    max-height: 100%;
    overflow: hidden;
    position: relative;

    &::part(scrollbutton-up),
    &::part(scrollbutton-down) {
      display: none;
    }

    &[overflowing]::part(scrollbox) {
      scrollbar-width: auto;
      scrollbar-color: color-mix(in srgb, currentColor 35%, transparent 65%) transparent; /* Custom scrollbar */
      overflow-y: auto;
    }

    :root[swipe-gesture] &::part(scrollbox) {
      scrollbar-width: none;
    }

    &[overflowing] {
      --zen-scrollbar-overflow-background: light-dark(rgba(0, 0, 0, 0.08), rgba(255, 255, 255, 0.08));
      &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 1px;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.1s;
        background-color: var(--zen-scrollbar-overflow-background);
      }

      &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 1px;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.1s;
        background-color: var(--zen-scrollbar-overflow-background);
      }

      &:not([scrolledtostart])::before {
        opacity: 1;
      }

      &:not([scrolledtoend])::after {
        opacity: 1;
      }
    }
  }

  @media -moz-pref('zen.view.draggable-sidebar') {
    &[active] .zen-workspace-empty-space {
      -moz-window-dragging: drag;
    }
  }
}

/** Customizable UI, this is an auto generated ID */
#wrapper-zen-workspaces-button {
  width: 100%;
}

%include create-workspace-form.css

/* Pinned tabs collapse styles */

.zen-current-workspace-indicator-chevron {
  display: none;
}

:root[zen-sidebar-expanded] {
  .zen-current-workspace-indicator-stack {
    transition: margin-inline-end 0.1s;

    &[no-icon='true']:not([zen-emoji-open='true']) {
      margin-inline-end: calc(-1 * (var(--indicator-gap) + 16px));
    }
  }

  .zen-current-workspace-indicator-chevron {
    width: 16px;
    height: 16px;
    transition: transform 0.1s, opacity 0.1s;
    transform: rotate(90deg);
    padding: 1px;

    .zen-current-workspace-indicator-stack[no-icon='true']:not([zen-emoji-open='true']) & {
      display: flex;
      opacity: 0;
    }
  }

  & zen-workspace[haspinnedtabs] .zen-current-workspace-indicator:hover,
  & zen-workspace[collapsedpinnedtabs] .zen-current-workspace-indicator {
    .zen-current-workspace-indicator-stack:not([zen-emoji-open='true']) {
      margin-inline-end: 0;

      .zen-current-workspace-indicator-chevron {
        display: flex;
        opacity: 1;
      }

      .zen-current-workspace-indicator-icon {
        display: none;
      }
    }
  }

  zen-workspace[collapsedpinnedtabs] .zen-current-workspace-indicator-chevron {
    transform: rotate(0deg);
  }
}



================================================
FILE: src/zen/workspaces/ZenWorkspace.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { nsZenFolder } from "chrome://browser/content/zen-components/ZenFolder.mjs";

// A helper class to manage collapsible pinned tabs in a workspace.

class nsZenCollapsiblePins extends nsZenFolder {
  #spaceElement;

  connectedCallback() {
    this.setAttribute("hidden", "true");
    this.#spaceElement = this.parentElement;
    super.connectedCallback();
  }

  get groupContainer() {
    return this.#spaceElement.pinnedTabsContainer;
  }

  get groupStartElement() {
    // Fetch this instead of the tab-group-start since it is not guaranteed this
    // element will be the first child of the pinned tabs container.
    return this.#spaceElement.pinnedTabsContainer.querySelector(".space-fake-collapsible-start");
  }

  get collapsed() {
    return super.collapsed;
  }

  set collapsed(value) {
    if (value) {
      this.#spaceElement.setAttribute("collapsedpinnedtabs", "true");
    } else {
      this.#spaceElement.removeAttribute("collapsedpinnedtabs");
    }
    super.collapsed = value;
    gBrowser.tabContainer._invalidateCachedVisibleTabs();
  }

  toggle() {
    this.collapsed = !this.collapsed;
  }
}

export class nsZenWorkspace extends MozXULElement {
  #initialPinnedElementChildrenCount;
  #hasConnected = false;

  static get markup() {
    return `
        <vbox class="zen-workspace-tabs-section zen-current-workspace-indicator zen-drop-target" flex="1" context="zenWorkspaceMoreActions">
          <stack class="zen-current-workspace-indicator-stack">
            <image class="zen-current-workspace-indicator-chevron" />
            <hbox class="zen-current-workspace-indicator-icon" />
          </stack>
          <label class="zen-current-workspace-indicator-name" />
          <toolbarbutton class="toolbarbutton-1 chromeclass-toolbar-additional zen-workspaces-actions" context="zenWorkspaceMoreActions" />
        </vbox>
        <arrowscrollbox orient="vertical" class="workspace-arrowscrollbox">
          <vbox class="zen-workspace-tabs-section zen-workspace-pinned-tabs-section" hide-separator="true">
            <html:div class="zen-tab-group-start space-fake-collapsible-start" style="order: -9999;" />
            <hbox class="pinned-tabs-container-separator">
              <toolbarseparator flex="1" />
              <toolbarbutton command="cmd_zenCloseUnpinnedTabs"
                             tooltip="dynamic-shortcut-tooltip"
                             data-l10n-id="zen-workspaces-close-all-unpinned-tabs-title"
                             class="zen-workspace-close-unpinned-tabs-button" />
            </hbox>
          </vbox>
          <vbox class="zen-workspace-tabs-section zen-workspace-normal-tabs-section">
            <!-- Let it as an ID to mantain compatibility with firefox's tabbrowser -->
            <hbox id="tabbrowser-arrowscrollbox-periphery">
              <toolbartabstop/>
              <toolbarbutton id="tabs-newtab-button"
                             class="toolbarbutton-1"
                             command="cmd_newNavigatorTab"
                             tooltip="dynamic-shortcut-tooltip"
                             data-l10n-id="tabs-toolbar-new-tab"/>
              <spacer class="closing-tabs-spacer" style="width: 0;"/>
            </hbox>
          </vbox>
        </arrowscrollbox>
        <vbox class="zen-workspace-empty-space" flex="1" />
      `;
  }

  static get moveTabToButtonMarkup() {
    return `
      <toolbarbutton class="toolbarbutton-1 chromeclass-toolbar-additional zen-workspaces-actions"
                     tooltip="dynamic-shortcut-tooltip"
                     data-l10n-id="zen-move-tab-to-workspace-button" />
    `;
  }

  static get inheritedAttributes() {
    return {
      ".zen-workspace-tabs-section": "zen-workspace-id=id",
    };
  }

  constructor() {
    super();
  }

  connectedCallback() {
    if (this.delayConnectedCallback() || this.#hasConnected) {
      // If we are not ready yet, or if we have already connected, we
      // don't need to do anything.
      return;
    }

    this.#hasConnected = true;
    this.appendChild(this.constructor.fragment);

    this.tabsContainer = this.querySelector(".zen-workspace-normal-tabs-section");
    this.indicator = this.querySelector(".zen-current-workspace-indicator");
    this.pinnedTabsContainer = this.querySelector(".zen-workspace-pinned-tabs-section");
    this.pinnedTabsContainer.separatorElement = this.pinnedTabsContainer.querySelector(
      ".pinned-tabs-container-separator"
    );
    this.initializeAttributeInheritance();

    this.scrollbox = this.querySelector("arrowscrollbox");
    this.scrollbox.smoothScroll = Services.prefs.getBoolPref(
      "zen.startup.smooth-scroll-in-tabs",
      false
    );

    this.scrollbox.addEventListener("wheel", this, true);
    this.scrollbox.addEventListener("underflow", this);
    this.scrollbox.addEventListener("overflow", this);

    const indicatorName = this.indicator.querySelector(".zen-current-workspace-indicator-name");
    indicatorName.onRenameFinished = this.onIndicatorRenameFinished.bind(this);
    indicatorName.addEventListener("dblclick", (event) => {
      if (this.hasPinnedTabs) {
        // Prevent renaming when there are pinned tabs
        event.stopPropagation();
      }
    });

    this.pinnedTabsContainer.scrollbox = this.scrollbox;
    this.#initialPinnedElementChildrenCount = this.pinnedTabsContainer.children.length;

    if (document.documentElement.hasAttribute("zen-unsynced-window")) {
      this.indicator.removeAttribute("context");
    }

    this.indicator
      .querySelector(".zen-workspaces-actions")
      .addEventListener("click", this.onActionsCommand.bind(this));

    this.indicator
      .querySelector(".zen-current-workspace-indicator-icon")
      .addEventListener("dblclick", (event) => {
        if (this.hasPinnedTabs) {
          return;
        }
        event.stopPropagation();
        gZenWorkspaces.changeWorkspaceIcon();
      });

    this.indicator.addEventListener("click", (event) => {
      if (this.hasPinnedTabs && event.button === 0) {
        event.stopPropagation();
        this.collapsiblePins.toggle();
      }
    });

    if (!gZenWorkspaces.currentWindowIsSyncing) {
      let actionsButton = this.indicator.querySelector(".zen-workspaces-actions");
      const moveTabToFragment = window.MozXULElement.parseXULToFragment(
        nsZenWorkspace.moveTabToButtonMarkup
      );
      actionsButton.after(moveTabToFragment);
      actionsButton.setAttribute("hidden", "true");
      actionsButton = actionsButton.nextElementSibling;
      actionsButton.addEventListener("command", (event) => {
        event.stopPropagation();
        this.#openMoveTabsToWorkspacePanel(event.target);
      });
    }

    this.scrollbox._getScrollableElements = () => {
      const children = [...this.pinnedTabsContainer.children, ...this.tabsContainer.children];
      if (Services.prefs.getBoolPref("zen.view.show-newtab-button-top", false)) {
        // Move the perifery to the first non-pinned tab
        const periphery = this.tabsContainer.querySelector("#tabbrowser-arrowscrollbox-periphery");
        if (periphery) {
          const firstNonPinnedTabIndex = children.findIndex(
            (child) => gBrowser.isTab(child) && !child.pinned
          );
          if (firstNonPinnedTabIndex > -1) {
            // Change to new location and remove from the old one on the list
            const peripheryIndex = children.indexOf(periphery);
            if (peripheryIndex > -1) {
              children.splice(peripheryIndex, 1);
            }
            children.splice(firstNonPinnedTabIndex, 0, periphery);
          }
        }
      }
      return Array.prototype.filter.call(
        children,
        this.scrollbox._canScrollToElement,
        this.scrollbox
      );
    };

    this.scrollbox._canScrollToElement = (element) => {
      if (gBrowser.isTab(element)) {
        return (
          !element.hasAttribute("zen-essential") &&
          !this.hasAttribute("positionpinnedtabs") &&
          !element.hasAttribute("zen-empty-tab")
        );
      }
      return true;
    };

    // Override for performance reasons. This is the size of a single element
    // that can be scrolled when using mouse wheel scrolling. If we don't do
    // this then arrowscrollbox computes this value by calling
    // _getScrollableElements and dividing the box size by that number.
    // However in the tabstrip case we already know the answer to this as,
    // when we're overflowing, it is always the same as the tab min width or
    // height. For tab group labels, the number won't exactly match, but
    // that shouldn't be a problem in practice since the arrowscrollbox
    // stops at element bounds when finishing scrolling.
    try {
      Object.defineProperty(this.scrollbox, "lineScrollAmount", {
        get: () => 36,
      });
    } catch (e) {
      console.warn("Failed to set lineScrollAmount", e);
    }

    // Add them manually since attribute inheritance doesn't work
    // for multiple layers of shadow DOM.
    this.tabsContainer.setAttribute("zen-workspace-id", this.id);
    this.pinnedTabsContainer.setAttribute("zen-workspace-id", this.id);

    this.collapsiblePins = document.createXULElement("zen-workspace-collapsible-pins");
    this.prepend(this.collapsiblePins);

    this.#updateOverflow();

    this.onGradientCacheChanged = this.#onGradientCacheChanged.bind(this);
    window.addEventListener("ZenGradientCacheChanged", this.onGradientCacheChanged);

    this.pinnedTabsContainer.addEventListener("TabPinned", () => {
      // If a tab is pinned and the pinned tabs section is collapsed, uncollapse it.
      if (this.collapsiblePins.collapsed) {
        this.collapsiblePins.collapsed = false;
      }
    });

    const tabPinCallback = () => {
      this.checkPinsExistence();
    };

    this.addEventListener("TabPinned", tabPinCallback);
    this.addEventListener("TabUnpinned", tabPinCallback);
    this.addEventListener("TabClose", (event) => {
      if (event.target.pinned) {
        tabPinCallback();
      }
    });
  }

  disconnectedCallback() {
    window.removeEventListener("ZenGradientCacheChanged", this.onGradientCacheChanged);
  }

  get active() {
    return this.hasAttribute("active");
  }

  set active(value) {
    if (value) {
      this.setAttribute("active", "true");
    } else {
      this.removeAttribute("active");
    }
    this.#updateOverflow();
  }

  get hasPinnedTabs() {
    return this.hasAttribute("haspinnedtabs");
  }

  get hasCollapsedPinnedTabs() {
    return this.hasAttribute("collapsedpinnedtabs");
  }

  #updateOverflow() {
    if (!this.scrollbox) {
      return;
    }
    if (this.overflows) {
      this.#dispatchEventFromScrollbox("overflow");
    } else {
      this.#dispatchEventFromScrollbox("underflow");
    }
  }

  #dispatchEventFromScrollbox(type) {
    this.scrollbox.dispatchEvent(new CustomEvent(type, {}));
  }

  get overflows() {
    return this.scrollbox.overflowing;
  }

  handleEvent(event) {
    if (this.active) {
      gBrowser.tabContainer.handleEvent(event);
    }
  }

  get workspaceUuid() {
    return this.id;
  }

  async onIndicatorRenameFinished(newName) {
    if (newName === "") {
      return;
    }
    let workspaces = gZenWorkspaces.getWorkspaces();
    let workspaceData = workspaces.find((workspace) => workspace.uuid === this.workspaceUuid);
    workspaceData.name = newName;
    await gZenWorkspaces.saveWorkspace(workspaceData);
    this.indicator.querySelector(".zen-current-workspace-indicator-name").textContent = newName;
    gZenUIManager.showToast("zen-workspace-renamed-toast");
  }

  onActionsCommand(event) {
    event.stopPropagation();
    const popup = document.getElementById("zenWorkspaceMoreActions");
    const target = event.target;
    target.setAttribute("open", "true");
    this.indicator.setAttribute("open", "true");
    const handlePopupHidden = (event) => {
      if (event.target !== popup) {
        return;
      }
      target.removeAttribute("open");
      this.indicator.removeAttribute("open");
      popup.removeEventListener("popuphidden", handlePopupHidden);
    };
    popup.addEventListener("popuphidden", handlePopupHidden);
    popup.openPopup(event.target, "after_start");
  }

  get newTabButton() {
    return this.querySelector("#tabs-newtab-button");
  }

  #onGradientCacheChanged() {
    const { isDarkMode, isExplicitMode, toolbarColor, primaryColor } =
      gZenThemePicker.getGradientForWorkspace(
        gZenWorkspaces.getWorkspaceFromId(this.workspaceUuid)
      );
    if (isExplicitMode) {
      this.style.colorScheme = isDarkMode ? "dark" : "light";
    } else {
      this.style.colorScheme = "";
    }
    this.style.setProperty("--toolbox-textcolor", `rgb(${toolbarColor.join(",")})`);
    this.style.setProperty("--zen-primary-color", primaryColor);
  }

  checkPinsExistence() {
    if (this.pinnedTabsContainer.children.length > this.#initialPinnedElementChildrenCount) {
      this.setAttribute("haspinnedtabs", "true");
    } else {
      this.removeAttribute("haspinnedtabs");
      this.collapsiblePins.collapsed = false;
    }
  }

  clearThemeStyles() {
    this.style.colorScheme = "";
    this.style.removeProperty("--toolbox-textcolor");
    this.style.removeProperty("--zen-primary-color");
  }

  #openMoveTabsToWorkspacePanel(button) {
    button = button.closest("toolbarbutton");
    if (!button) {
      return;
    }

    const popup = document.getElementById("zenMoveTabsToSyncedWorkspacePopup");
    popup.innerHTML = "";

    const workspaces = gZenWorkspaces.getWorkspaces(true);
    for (const workspace of workspaces) {
      const item = gZenWorkspaces.generateMenuItemForWorkspace(workspace);
      item.addEventListener("command", async () => {
        const { ZenWindowSync } = ChromeUtils.importESModule(
          "resource:///modules/zen/ZenWindowSync.sys.mjs"
        );
        ZenWindowSync.moveTabsToSyncedWorkspace(window, workspace.uuid);
      });
      popup.appendChild(item);
    }

    button.setAttribute("open", "true");
    popup.addEventListener(
      "popuphidden",
      () => {
        button.removeAttribute("open");
      },
      { once: true }
    );
    popup.openPopup(button, "after_start", 0, 0, true /* isContextMenu */);
  }
}

customElements.define("zen-workspace", nsZenWorkspace);
customElements.define("zen-workspace-collapsible-pins", nsZenCollapsiblePins);



================================================
FILE: src/zen/workspaces/ZenWorkspaceBookmarksStorage.js
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

// Integration of workspace-specific bookmarks into Places
window.ZenWorkspaceBookmarksStorage = {
  lazy: {},

  async init() {
    ChromeUtils.defineESModuleGetters(this.lazy, {
      PlacesUtils: "resource://gre/modules/PlacesUtils.sys.mjs",
    });
    if (!window.gZenWorkspaces) {
      return;
    }
    await this._ensureTable();
  },

  async _ensureTable() {
    await this.lazy.PlacesUtils.withConnectionWrapper(
      "ZenWorkspaceBookmarksStorage.init",
      async (db) => {
        // Create table using GUIDs instead of IDs
        await db.execute(`
        CREATE TABLE IF NOT EXISTS zen_bookmarks_workspaces (
          id INTEGER PRIMARY KEY,
          bookmark_guid TEXT NOT NULL,
          workspace_uuid TEXT NOT NULL,
          created_at INTEGER NOT NULL,
          updated_at INTEGER NOT NULL,
          UNIQUE(bookmark_guid),
          FOREIGN KEY(bookmark_guid) REFERENCES moz_bookmarks(guid) ON DELETE CASCADE
          )
      `);

        // Create index for fast lookups
        await db.execute(`
        CREATE INDEX IF NOT EXISTS idx_bookmarks_workspaces_lookup
          ON zen_bookmarks_workspaces(workspace_uuid, bookmark_guid)
      `);

        // Add changes tracking table
        await db.execute(`
        CREATE TABLE IF NOT EXISTS zen_bookmarks_workspaces_changes (
          id INTEGER PRIMARY KEY,
          bookmark_guid TEXT NOT NULL,
          workspace_uuid TEXT NOT NULL,
          change_type TEXT NOT NULL,
          timestamp INTEGER NOT NULL,
          UNIQUE(bookmark_guid),
          FOREIGN KEY(bookmark_guid) REFERENCES moz_bookmarks(guid) ON DELETE CASCADE
          )
      `);

        // Create index for changes tracking
        await db.execute(`
        CREATE INDEX IF NOT EXISTS idx_bookmarks_workspaces_changes
          ON zen_bookmarks_workspaces_changes(bookmark_guid, workspace_uuid)
      `);
      }
    );
  },

  /**
   * Updates the last change timestamp in the metadata table.
   *
   * @param {object} db - The database connection.
   */
  async updateLastChangeTimestamp(db) {
    const now = Date.now();
    await db.execute(
      `
      INSERT OR REPLACE INTO moz_meta (key, value)
      VALUES ('zen_bookmarks_workspaces_last_change', :now)
    `,
      { now }
    );
  },

  /**
   * Gets the timestamp of the last change.
   *
   * @returns {Promise<number>} The timestamp of the last change.
   */
  async getLastChangeTimestamp() {
    const db = await this.lazy.PlacesUtils.promiseDBConnection();
    const result = await db.executeCached(`
      SELECT value FROM moz_meta WHERE key = 'zen_bookmarks_workspaces_last_change'
    `);
    return result.length ? parseInt(result[0].getResultByName("value"), 10) : 0;
  },

  async getBookmarkWorkspaces(bookmarkGuid) {
    const db = await this.lazy.PlacesUtils.promiseDBConnection();

    const rows = await db.execute(
      `
      SELECT workspace_uuid
      FROM zen_bookmarks_workspaces
      WHERE bookmark_guid = :bookmark_guid
    `,
      { bookmark_guid: bookmarkGuid }
    );

    return rows.map((row) => row.getResultByName("workspace_uuid"));
  },

  /**
   * Get all bookmark GUIDs organized by workspace UUID.
   *
   * @returns {Promise<object>} A dictionary with workspace UUIDs as keys and arrays of bookmark GUIDs as values.
   * @example
   * // Returns:
   * {
   *   "workspace-uuid-1": ["bookmark-guid-1", "bookmark-guid-2"],
   *   "workspace-uuid-2": ["bookmark-guid-3"]
   * }
   */
  async getBookmarkGuidsByWorkspace() {
    const db = await this.lazy.PlacesUtils.promiseDBConnection();

    const rows = await db.execute(`
      SELECT workspace_uuid, GROUP_CONCAT(bookmark_guid) as bookmark_guids
      FROM zen_bookmarks_workspaces
      GROUP BY workspace_uuid
    `);

    const result = {};
    for (const row of rows) {
      const workspaceUuid = row.getResultByName("workspace_uuid");
      const bookmarkGuids = row.getResultByName("bookmark_guids");
      result[workspaceUuid] = bookmarkGuids ? bookmarkGuids.split(",") : [];
    }

    return result;
  },

  /**
   * Get all changed bookmarks with their change types.
   *
   * @returns {Promise<object>} An object mapping bookmark+workspace pairs to their change data.
   */
  async getChangedIDs() {
    const db = await this.lazy.PlacesUtils.promiseDBConnection();
    const rows = await db.execute(`
      SELECT bookmark_guid, workspace_uuid, change_type, timestamp
      FROM zen_bookmarks_workspaces_changes
    `);

    const changes = {};
    for (const row of rows) {
      const key = `${row.getResultByName("bookmark_guid")}:${row.getResultByName("workspace_uuid")}`;
      changes[key] = {
        type: row.getResultByName("change_type"),
        timestamp: row.getResultByName("timestamp"),
      };
    }
    return changes;
  },

  /**
   * Clear all recorded changes.
   */
  async clearChangedIDs() {
    await this.lazy.PlacesUtils.withConnectionWrapper(
      "ZenWorkspaceBookmarksStorage.clearChangedIDs",
      async (db) => {
        await db.execute(`DELETE FROM zen_bookmarks_workspaces_changes`);
      }
    );
  },
};

ZenWorkspaceBookmarksStorage.init();



================================================
FILE: src/zen/workspaces/ZenWorkspaceCreation.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

class nsZenWorkspaceCreation extends MozXULElement {
  #wasInCollapsedMode = false;

  promiseInitialized = new Promise((resolve) => {
    this.resolveInitialized = resolve;
  });

  #hiddenElements = [];

  static get elementsToDisable() {
    return [
      "cmd_zenOpenWorkspacePanel",
      "cmd_zenOpenWorkspaceCreation",
      "cmd_zenOpenFolderCreation",
      "cmd_zenToggleSidebar",
      "cmd_newNavigatorTab",
      "cmd_newNavigatorTabNoEvent",
    ];
  }

  static get markup() {
    return `
        <vbox class="zen-workspace-creation" flex="1">
          <form>
            <vbox>
              <html:h1 data-l10n-id="zen-workspace-creation-header" class="zen-workspace-creation-title" />
              <html:div>
                <label data-l10n-id="zen-workspace-creation-label" class="zen-workspace-creation-label" />
              </html:div>
            </vbox>
            <vbox class="zen-workspace-creation-form">
              <hbox class="zen-workspace-creation-name-wrapper">
                <toolbarbutton class="zen-workspace-creation-icon-label" />
                <html:input
                  class="zen-workspace-creation-name"
                  type="text"
                  data-l10n-id="zen-workspace-creation-name" />
              </hbox>
              <hbox class="zen-workspace-creation-profile-wrapper">
                <label class="zen-workspace-creation-profile-label" data-l10n-id="zen-workspace-creation-profile" />
                <button class="zen-workspace-creation-profile" />
              </hbox>
              <button
                class="zen-workspace-creation-edit-theme-button"
                data-l10n-id="zen-workspaces-change-theme"
                command="cmd_zenOpenZenThemePicker" />
              <menupopup class="zen-workspace-creation-profiles-popup" />
            </vbox>
            <vbox class="zen-workspace-creation-buttons">
              <html:div>
                <button class="zen-workspace-creation-create-button footer-button primary"
                  data-l10n-id="zen-panel-ui-workspaces-create" disabled="true" />
              </html:div>
              <button class="zen-workspace-creation-cancel-button footer-button"
                data-l10n-id="zen-general-cancel-label" />
            </vbox>
          </form>
        </vbox>
      `;
  }

  get workspaceId() {
    return this.getAttribute("workspace-id");
  }

  get previousWorkspaceId() {
    return this.getAttribute("previous-workspace-id");
  }

  get elementsToAnimate() {
    return [
      this.querySelector(".zen-workspace-creation-title"),
      this.querySelector(".zen-workspace-creation-label").parentElement,
      this.querySelector(".zen-workspace-creation-name-wrapper"),
      this.querySelector(".zen-workspace-creation-profile-wrapper"),
      this.querySelector(".zen-workspace-creation-edit-theme-button"),
      this.createButton.parentNode,
      this.cancelButton,
    ];
  }

  connectedCallback() {
    if (this.delayConnectedCallback()) {
      // If we are not ready yet, or if we have already connected, we
      // don't need to do anything.
      return;
    }

    this.appendChild(this.constructor.fragment);
    this.initializeAttributeInheritance();

    this.inputName = this.querySelector(".zen-workspace-creation-name");
    this.inputIcon = this.querySelector(".zen-workspace-creation-icon-label");
    this.inputProfile = this.querySelector(".zen-workspace-creation-profile");
    this.createButton = this.querySelector(".zen-workspace-creation-create-button");
    this.cancelButton = this.querySelector(".zen-workspace-creation-cancel-button");

    for (const element of this.elementsToAnimate) {
      element.style.opacity = 0;
    }

    this.#wasInCollapsedMode =
      document.documentElement.getAttribute("zen-sidebar-expanded") !== "true";

    gNavToolbox.setAttribute("zen-sidebar-expanded", "true");
    document.documentElement.setAttribute("zen-sidebar-expanded", "true");

    window.docShell.treeOwner
      .QueryInterface(Ci.nsIInterfaceRequestor)
      .getInterface(Ci.nsIAppWindow)
      .rollupAllPopups();

    this.handleZenWorkspacesChangeBind = this.handleZenWorkspacesChange.bind(this);

    for (const element of this.parentElement.children) {
      if (element !== this) {
        element.hidden = true;
        this.#hiddenElements.push(element);
      }
    }

    for (const element of nsZenWorkspaceCreation.elementsToDisable) {
      const el = document.getElementById(element);
      if (el) {
        el.setAttribute("disabled", "true");
      }
    }

    this.createButton.addEventListener("command", this.onCreateButtonCommand.bind(this));
    this.cancelButton.addEventListener("command", this.onCancelButtonCommand.bind(this));

    this.inputName.addEventListener("input", () => {
      this.createButton.disabled = !this.inputName.value.trim();
    });

    this.inputIcon.addEventListener("command", this.onIconCommand.bind(this));

    this.profilesPopup = this.querySelector(".zen-workspace-creation-profiles-popup");

    if (gZenWorkspaces.shouldShowContainers) {
      this.inputProfile.addEventListener("command", this.onProfileCommand.bind(this));
      this.profilesPopup.addEventListener("popupshown", this.onProfilePopupShown.bind(this));
      this.profilesPopup.addEventListener("command", this.onProfilePopupCommand.bind(this));

      this.currentProfile = {
        id: 0,
        name: "Default",
      };
    } else {
      this.inputProfile.parentNode.hidden = true;
    }

    document.getElementById("zen-sidebar-splitter").style.pointerEvents = "none";

    gZenUIManager.motion
      .animate(
        [gBrowser.tabContainer, gURLBar],
        {
          opacity: [1, 0],
        },
        {
          duration: 0.3,
          type: "spring",
          bounce: 0,
        }
      )
      .then(() => {
        gBrowser.tabContainer.style.visibility = "collapse";
        if (gZenVerticalTabsManager._hasSetSingleToolbar) {
          document.getElementById("nav-bar").style.visibility = "collapse";
        }
        this.style.visibility = "visible";
        gZenCompactModeManager.getAndApplySidebarWidth();
        this.resolveInitialized();
        gZenUIManager.motion
          .animate(
            this.elementsToAnimate,
            {
              y: [20, 0],
              opacity: [0, 1],
              filter: ["blur(2px)", "blur(0)"],
            },
            {
              duration: 0.6,
              type: "spring",
              bounce: 0,
              delay: gZenUIManager.motion.stagger(0.05, { startDelay: 0.2 }),
            }
          )
          .then(() => {
            this.inputName.focus();
            gZenWorkspaces.workspaceElement(this.workspaceId).hidden = false;
          });
      });
  }

  async onCreateButtonCommand() {
    const workspace = gZenWorkspaces.getActiveWorkspace();
    workspace.name = this.inputName.value.trim();
    workspace.icon = this.inputIcon.image || this.inputIcon.label || undefined;
    workspace.containerTabId = this.currentProfile;
    await gZenWorkspaces.saveWorkspace(workspace);

    await this.#cleanup();

    gZenWorkspaces._organizeWorkspaceStripLocations(workspace, true);
    gZenWorkspaces.updateTabsContainers();

    gBrowser.tabContainer._invalidateCachedTabs();
  }

  async onCancelButtonCommand() {
    await gZenWorkspaces.changeWorkspaceWithID(this.previousWorkspaceId);
  }

  onIconCommand(event) {
    gZenEmojiPicker
      .open(event.target)
      .then(async (emoji) => {
        const isSvg = emoji && emoji.endsWith(".svg");
        if (isSvg) {
          this.inputIcon.label = "";
          this.inputIcon.image = emoji;
          this.inputIcon.setAttribute("has-svg-icon", "true");
        } else {
          this.inputIcon.image = "";
          this.inputIcon.label = emoji || "";
          this.inputIcon.removeAttribute("has-svg-icon");
        }
      })
      .catch((error) => {
        console.warn("Error changing workspace icon:", error);
      });
  }

  set currentProfile(profile) {
    this.inputProfile.label = profile.name;
    this._profileId = profile.id;
  }

  get currentProfile() {
    return this._profileId;
  }

  onProfileCommand(event) {
    this.profilesPopup.openPopup(event.target, "after_start");
  }

  onProfilePopupShown(event) {
    return window.createUserContextMenu(event, {
      isContextMenu: true,
      showDefaultTab: true,
    });
  }

  onProfilePopupCommand(event) {
    let userContextId = parseInt(event.target.getAttribute("data-usercontextid"));
    if (isNaN(userContextId)) {
      return;
    }
    this.currentProfile = {
      id: userContextId,
      name: event.target.label,
    };
  }

  finishSetup() {
    gZenWorkspaces.addChangeListeners(this.handleZenWorkspacesChangeBind, { once: true });
  }

  async handleZenWorkspacesChange() {
    await gZenWorkspaces.removeWorkspace(this.workspaceId);
    await this.#cleanup();
  }

  async #cleanup() {
    await gZenUIManager.motion.animate(
      this.elementsToAnimate.reverse(),
      {
        y: [0, 20],
        opacity: [1, 0],
        filter: ["blur(0)", "blur(2px)"],
      },
      {
        duration: 0.4,
        type: "spring",
        bounce: 0,
        delay: gZenUIManager.motion.stagger(0.05),
      }
    );

    document.getElementById("zen-sidebar-splitter").style.pointerEvents = "";

    gZenWorkspaces.removeChangeListeners(this.handleZenWorkspacesChangeBind);
    for (const element of this.constructor.elementsToDisable) {
      const el = document.getElementById(element);
      if (el) {
        el.removeAttribute("disabled");
      }
    }

    if (this.#wasInCollapsedMode) {
      gNavToolbox.removeAttribute("zen-sidebar-expanded");
      document.documentElement.removeAttribute("zen-sidebar-expanded");
    }

    document.documentElement.removeAttribute("zen-creating-workspace");

    gBrowser.tabContainer.style.visibility = "";
    gBrowser.tabContainer.style.opacity = 0;
    if (gZenVerticalTabsManager._hasSetSingleToolbar) {
      document.getElementById("nav-bar").style.visibility = "";
      gURLBar.style.opacity = 0;
    }

    this.remove();
    gZenUIManager.updateTabsToolbar();

    const workspace = gZenWorkspaces.getActiveWorkspace();
    gZenWorkspaces._organizeWorkspaceStripLocations(workspace);
    gZenWorkspaces.updateTabsContainers();

    await gZenUIManager.motion.animate(
      [gBrowser.tabContainer, gURLBar],
      {
        opacity: [0, 1],
      },
      {
        duration: 0.3,
        type: "spring",
        bounce: 0,
      }
    );

    gBrowser.tabContainer.style.opacity = "";
    if (gZenVerticalTabsManager._hasSetSingleToolbar) {
      gURLBar.style.opacity = "";
    }

    for (const element of this.#hiddenElements) {
      element.hidden = false;
    }

    this.#hiddenElements = [];
  }
}

customElements.define("zen-workspace-creation", nsZenWorkspaceCreation);



================================================
FILE: src/zen/workspaces/ZenWorkspaceIcons.mjs
================================================
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

class nsZenWorkspaceIcons extends MozXULElement {
  #hasConnected = false;

  connectedCallback() {
    if (this.delayConnectedCallback() || this.#hasConnected) {
      return;
    }

    this.#hasConnected = true;
    window.addEventListener("ZenWorkspacesUIUpdate", this, true);

    this.initDragAndDrop();
    this.addEventListener("mouseover", (e) => {
      if (this.isReorderMode) {
        return;
      }
      const target = e.target.closest("toolbarbutton[zen-workspace-id]");
      if (target) {
        this.scrollLeft = target.offsetLeft - 10;
      }
    });
  }

  initDragAndDrop() {
    let dragStart = 0;
    let draggedTab = null;

    this.addEventListener("mousedown", (e) => {
      const target = e.target.closest("toolbarbutton[zen-workspace-id]");
      if (!target || e.button != 0 || e.ctrlKey || e.shiftKey || e.altKey) {
        return;
      }

      const isVertical = document.documentElement.getAttribute("zen-sidebar-expanded") != "true";
      const clientPos = isVertical ? "clientY" : "clientX";

      this.isReorderMode = false;
      dragStart = e[clientPos];
      draggedTab = target;
      draggedTab.setAttribute("dragged", "true");

      e.stopPropagation();

      const mouseMoveHandler = (moveEvent) => {
        if (Math.abs(moveEvent[clientPos] - dragStart) > 5) {
          this.isReorderMode = true;
        }

        if (this.isReorderMode) {
          const tabs = [...this.children];
          const mouse = moveEvent[clientPos];

          for (const tab of tabs) {
            if (tab === draggedTab) {
              continue;
            }
            const rect = tab.getBoundingClientRect();
            if (
              mouse > rect[isVertical ? "top" : "left"] &&
              mouse < rect[isVertical ? "bottom" : "right"]
            ) {
              const nextSibling = draggedTab.nextSibling;
              if (
                mouse <
                rect[isVertical ? "top" : "left"] + rect[isVertical ? "height" : "width"] / 2
              ) {
                this.insertBefore(draggedTab, tab);
              } else {
                this.insertBefore(draggedTab, tab.nextSibling);
              }
              if (nextSibling !== draggedTab.nextSibling) {
                /* eslint-disable mozilla/valid-services */
                Services.zen.playHapticFeedback();
              }
            }
          }
        }
      };

      const mouseUpHandler = () => {
        document.removeEventListener("mousemove", mouseMoveHandler);
        document.removeEventListener("mouseup", mouseUpHandler);

        draggedTab.removeAttribute("dragged");

        this.reorderWorkspaceToIndex(draggedTab, Array.from(this.children).indexOf(draggedTab));

        draggedTab = null;
        this.isReorderMode = false;
      };

      document.addEventListener("mousemove", mouseMoveHandler);
      document.addEventListener("mouseup", mouseUpHandler);
    });
  }

  #createWorkspaceIcon(workspace) {
    const button = document.createXULElement("toolbarbutton");
    button.setAttribute("class", "subviewbutton toolbarbutton-1");
    button.setAttribute("tooltiptext", workspace.name);
    button.setAttribute("zen-workspace-id", workspace.uuid);
    button.setAttribute("context", "zenWorkspaceMoreActions");
    const icon = document.createXULElement("label");
    icon.setAttribute("class", "zen-workspace-icon");
    const isSvgIcon = workspace.icon && workspace.icon.endsWith(".svg");
    if (gZenWorkspaces.workspaceHasIcon(workspace)) {
      if (isSvgIcon) {
        const image = document.createElement("img");
        image.src = workspace.icon;
        image.classList.add("zen-workspace-icon");
        button.appendChild(image);
      } else {
        icon.textContent = workspace.icon;
      }
    } else {
      icon.setAttribute("no-icon", true);
    }
    if (!isSvgIcon) {
      button.appendChild(icon);
    }
    button.addEventListener("command", this);
    return button;
  }

  async #updateIcons() {
    const workspaces = gZenWorkspaces.getWorkspaces();
    this.innerHTML = "";
    for (const workspace of workspaces) {
      const button = this.#createWorkspaceIcon(workspace);
      this.appendChild(button);
    }
    if (workspaces.length <= 1) {
      this.setAttribute("dont-show", "true");
    } else {
      this.removeAttribute("dont-show");
    }
    gZenWorkspaces.onWindowResize();
  }

  on_command(event) {
    const button = event.target;
    const uuid = button.getAttribute("zen-workspace-id");
    if (uuid) {
      gZenWorkspaces.changeWorkspaceWithID(uuid);
    }
  }

  async on_ZenWorkspacesUIUpdate(event) {
    await this.#updateIcons();
    this.activeIndex = event.detail.activeIndex;
  }

  set activeIndex(uuid) {
    const buttons = this.querySelectorAll("toolbarbutton");
    if (!buttons.length) {
      return;
    }
    let i = 0;
    let selected = -1;
    for (const button of buttons) {
      if (button.getAttribute("zen-workspace-id") == uuid) {
        selected = i;
      } else {
        button.removeAttribute("active");
      }
      i++;
    }
    if (selected == -1) {
      return;
    }
    buttons[selected].setAttribute("active", true);
    this.scrollLeft = buttons[selected].offsetLeft - 10;
    this.setAttribute("selected", selected);
  }

  get activeIndex() {
    const selected = this.getAttribute("selected");
    const buttons = this.querySelectorAll("toolbarbutton");
    let i = 0;
    for (const button of buttons) {
      if (i == selected) {
        return button.getAttribute("zen-workspace-id");
      }
      i++;
    }
    return null;
  }

  get isReorderMode() {
    return this.hasAttribute("reorder-mode");
  }

  set isReorderMode(value) {
    if (value) {
      this.setAttribute("reorder-mode", "true");
    } else {
      this.removeAttribute("reorder-mode");
      this.style.removeProperty("--zen-workspace-icon-width");
      this.style.removeProperty("--zen-workspace-icon-height");
    }
  }

  reorderWorkspaceToIndex(draggedTab, index) {
    const workspaceId = draggedTab.getAttribute("zen-workspace-id");
    gZenWorkspaces.reorderWorkspace(workspaceId, index);
  }
}

customElements.define("zen-workspace-icons", nsZenWorkspaceIcons);



================================================
FILE: tools/eslint-plugin-spidermonkey-js/LICENSE
================================================
Mozilla Public License, version 2.0

1. Definitions

1.1. "Contributor"

     means each individual or legal entity that creates, contributes to the
     creation of, or owns Covered Software.

1.2. "Contributor Version"

     means the combination of the Contributions of others (if any) used by a
     Contributor and that particular Contributor's Contribution.

1.3. "Contribution"

     means Covered Software of a particular Contributor.

1.4. "Covered Software"

     means Source Code Form to which the initial Contributor has attached the
     notice in Exhibit A, the Executable Form of such Source Code Form, and
     Modifications of such Source Code Form, in each case including portions
     thereof.

1.5. "Incompatible With Secondary Licenses"
     means

     a. that the initial Contributor has attached the notice described in
        Exhibit B to the Covered Software; or

     b. that the Covered Software was made available under the terms of
        version 1.1 or earlier of the License, but not also under the terms of
        a Secondary License.

1.6. "Executable Form"

     means any form of the work other than Source Code Form.

1.7. "Larger Work"

     means a work that combines Covered Software with other material, in a
     separate file or files, that is not Covered Software.

1.8. "License"

     means this document.

1.9. "Licensable"

     means having the right to grant, to the maximum extent possible, whether
     at the time of the initial grant or subsequently, any and all of the
     rights conveyed by this License.

1.10. "Modifications"

     means any of the following:

     a. any file in Source Code Form that results from an addition to,
        deletion from, or modification of the contents of Covered Software; or

     b. any new file in Source Code Form that contains any Covered Software.

1.11. "Patent Claims" of a Contributor

      means any patent claim(s), including without limitation, method,
      process, and apparatus claims, in any patent Licensable by such
      Contributor that would be infringed, but for the grant of the License,
      by the making, using, selling, offering for sale, having made, import,
      or transfer of either its Contributions or its Contributor Version.

1.12. "Secondary License"

      means either the GNU General Public License, Version 2.0, the GNU Lesser
      General Public License, Version 2.1, the GNU Affero General Public
      License, Version 3.0, or any later versions of those licenses.

1.13. "Source Code Form"

      means the form of the work preferred for making modifications.

1.14. "You" (or "Your")

      means an individual or a legal entity exercising rights under this
      License. For legal entities, "You" includes any entity that controls, is
      controlled by, or is under common control with You. For purposes of this
      definition, "control" means (a) the power, direct or indirect, to cause
      the direction or management of such entity, whether by contract or
      otherwise, or (b) ownership of more than fifty percent (50%) of the
      outstanding shares or beneficial ownership of such entity.


2. License Grants and Conditions

2.1. Grants

     Each Contributor hereby grants You a world-wide, royalty-free,
     non-exclusive license:

     a. under intellectual property rights (other than patent or trademark)
        Licensable by such Contributor to use, reproduce, make available,
        modify, display, perform, distribute, and otherwise exploit its
        Contributions, either on an unmodified basis, with Modifications, or
        as part of a Larger Work; and

     b. under Patent Claims of such Contributor to make, use, sell, offer for
        sale, have made, import, and otherwise transfer either its
        Contributions or its Contributor Version.

2.2. Effective Date

     The licenses granted in Section 2.1 with respect to any Contribution
     become effective for each Contribution on the date the Contributor first
     distributes such Contribution.

2.3. Limitations on Grant Scope

     The licenses granted in this Section 2 are the only rights granted under
     this License. No additional rights or licenses will be implied from the
     distribution or licensing of Covered Software under this License.
     Notwithstanding Section 2.1(b) above, no patent license is granted by a
     Contributor:

     a. for any code that a Contributor has removed from Covered Software; or

     b. for infringements caused by: (i) Your and any other third party's
        modifications of Covered Software, or (ii) the combination of its
        Contributions with other software (except as part of its Contributor
        Version); or

     c. under Patent Claims infringed by Covered Software in the absence of
        its Contributions.

     This License does not grant any rights in the trademarks, service marks,
     or logos of any Contributor (except as may be necessary to comply with
     the notice requirements in Section 3.4).

2.4. Subsequent Licenses

     No Contributor makes additional grants as a result of Your choice to
     distribute the Covered Software under a subsequent version of this
     License (see Section 10.2) or under the terms of a Secondary License (if
     permitted under the terms of Section 3.3).

2.5. Representation

     Each Contributor represents that the Contributor believes its
     Contributions are its original creation(s) or it has sufficient rights to
     grant the rights to its Contributions conveyed by this License.

2.6. Fair Use

     This License is not intended to limit any rights You have under
     applicable copyright doctrines of fair use, fair dealing, or other
     equivalents.

2.7. Conditions

     Sections 3.1, 3.2, 3.3, and 3.4 are conditions of the licenses granted in
     Section 2.1.


3. Responsibilities

3.1. Distribution of Source Form

     All distribution of Covered Software in Source Code Form, including any
     Modifications that You create or to which You contribute, must be under
     the terms of this License. You must inform recipients that the Source
     Code Form of the Covered Software is governed by the terms of this
     License, and how they can obtain a copy of this License. You may not
     attempt to alter or restrict the recipients' rights in the Source Code
     Form.

3.2. Distribution of Executable Form

     If You distribute Covered Software in Executable Form then:

     a. such Covered Software must also be made available in Source Code Form,
        as described in Section 3.1, and You must inform recipients of the
        Executable Form how they can obtain a copy of such Source Code Form by
        reasonable means in a timely manner, at a charge no more than the cost
        of distribution to the recipient; and

     b. You may distribute such Executable Form under the terms of this
        License, or sublicense it under different terms, provided that the
        license for the Executable Form does not attempt to limit or alter the
        recipients' rights in the Source Code Form under this License.

3.3. Distribution of a Larger Work

     You may create and distribute a Larger Work under terms of Your choice,
     provided that You also comply with the requirements of this License for
     the Covered Software. If the Larger Work is a combination of Covered
     Software with a work governed by one or more Secondary Licenses, and the
     Covered Software is not Incompatible With Secondary Licenses, this
     License permits You to additionally distribute such Covered Software
     under the terms of such Secondary License(s), so that the recipient of
     the Larger Work may, at their option, further distribute the Covered
     Software under the terms of either this License or such Secondary
     License(s).

3.4. Notices

     You may not remove or alter the substance of any license notices
     (including copyright notices, patent notices, disclaimers of warranty, or
     limitations of liability) contained within the Source Code Form of the
     Covered Software, except that You may alter any license notices to the
     extent required to remedy known factual inaccuracies.

3.5. Application of Additional Terms

     You may choose to offer, and to charge a fee for, warranty, support,
     indemnity or liability obligations to one or more recipients of Covered
     Software. However, You may do so only on Your own behalf, and not on
     behalf of any Contributor. You must make it absolutely clear that any
     such warranty, support, indemnity, or liability obligation is offered by
     You alone, and You hereby agree to indemnify every Contributor for any
     liability incurred by such Contributor as a result of warranty, support,
     indemnity or liability terms You offer. You may include additional
     disclaimers of warranty and limitations of liability specific to any
     jurisdiction.

4. Inability to Comply Due to Statute or Regulation

   If it is impossible for You to comply with any of the terms of this License
   with respect to some or all of the Covered Software due to statute,
   judicial order, or regulation then You must: (a) comply with the terms of
   this License to the maximum extent possible; and (b) describe the
   limitations and the code they affect. Such description must be placed in a
   text file included with all distributions of the Covered Software under
   this License. Except to the extent prohibited by statute or regulation,
   such description must be sufficiently detailed for a recipient of ordinary
   skill to be able to understand it.

5. Termination

5.1. The rights granted under this License will terminate automatically if You
     fail to comply with any of its terms. However, if You become compliant,
     then the rights granted under this License from a particular Contributor
     are reinstated (a) provisionally, unless and until such Contributor
     explicitly and finally terminates Your grants, and (b) on an ongoing
     basis, if such Contributor fails to notify You of the non-compliance by
     some reasonable means prior to 60 days after You have come back into
     compliance. Moreover, Your grants from a particular Contributor are
     reinstated on an ongoing basis if such Contributor notifies You of the
     non-compliance by some reasonable means, this is the first time You have
     received notice of non-compliance with this License from such
     Contributor, and You become compliant prior to 30 days after Your receipt
     of the notice.

5.2. If You initiate litigation against any entity by asserting a patent
     infringement claim (excluding declaratory judgment actions,
     counter-claims, and cross-claims) alleging that a Contributor Version
     directly or indirectly infringes any patent, then the rights granted to
     You by any and all Contributors for the Covered Software under Section
     2.1 of this License shall terminate.

5.3. In the event of termination under Sections 5.1 or 5.2 above, all end user
     license agreements (excluding distributors and resellers) which have been
     validly granted by You or Your distributors under this License prior to
     termination shall survive termination.

6. Disclaimer of Warranty

   Covered Software is provided under this License on an "as is" basis,
   without warranty of any kind, either expressed, implied, or statutory,
   including, without limitation, warranties that the Covered Software is free
   of defects, merchantable, fit for a particular purpose or non-infringing.
   The entire risk as to the quality and performance of the Covered Software
   is with You. Should any Covered Software prove defective in any respect,
   You (not any Contributor) assume the cost of any necessary servicing,
   repair, or correction. This disclaimer of warranty constitutes an essential
   part of this License. No use of  any Covered Software is authorized under
   this License except under this disclaimer.

7. Limitation of Liability

   Under no circumstances and under no legal theory, whether tort (including
   negligence), contract, or otherwise, shall any Contributor, or anyone who
   distributes Covered Software as permitted above, be liable to You for any
   direct, indirect, special, incidental, or consequential damages of any
   character including, without limitation, damages for lost profits, loss of
   goodwill, work stoppage, computer failure or malfunction, or any and all
   other commercial damages or losses, even if such party shall have been
   informed of the possibility of such damages. This limitation of liability
   shall not apply to liability for death or personal injury resulting from
   such party's negligence to the extent applicable law prohibits such
   limitation. Some jurisdictions do not allow the exclusion or limitation of
   incidental or consequential damages, so this exclusion and limitation may
   not apply to You.

8. Litigation

   Any litigation relating to this License may be brought only in the courts
   of a jurisdiction where the defendant maintains its principal place of
   business and such litigation shall be governed by laws of that
   jurisdiction, without reference to its conflict-of-law provisions. Nothing
   in this Section shall prevent a party's ability to bring cross-claims or
   counter-claims.

9. Miscellaneous

   This License represents the complete agreement concerning the subject
   matter hereof. If any provision of this License is held to be
   unenforceable, such provision shall be reformed only to the extent
   necessary to make it enforceable. Any law or regulation which provides that
   the language of a contract shall be construed against the drafter shall not
   be used to construe this License against a Contributor.


10. Versions of the License

10.1. New Versions

      Mozilla Foundation is the license steward. Except as provided in Section
      10.3, no one other than the license steward has the right to modify or
      publish new versions of this License. Each version will be given a
      distinguishing version number.

10.2. Effect of New Versions

      You may distribute the Covered Software under the terms of the version
      of the License under which You originally received the Covered Software,
      or under the terms of any subsequent version published by the license
      steward.

10.3. Modified Versions

      If you create software not governed by this License, and you want to
      create a new license for such software, you may create and use a
      modified version of this License if you rename the license and remove
      any references to the name of the license steward (except to note that
      such modified license differs from this License).

10.4. Distributing Source Code Form that is Incompatible With Secondary
      Licenses If You choose to distribute Source Code Form that is
      Incompatible With Secondary Licenses under the terms of this version of
      the License, the notice described in Exhibit B of this License must be
      attached.

Exhibit A - Source Code Form License Notice

      This Source Code Form is subject to the
      terms of the Mozilla Public License, v.
      2.0. If a copy of the MPL was not
      distributed with this file, You can
      obtain one at
      http://mozilla.org/MPL/2.0/.

If it is not possible or desirable to put the notice in a particular file,
then You may include the notice in a location (such as a LICENSE file in a
relevant directory) where a recipient would be likely to look for such a
notice.

You may add additional accurate notices of copyright ownership.

Exhibit B - "Incompatible With Secondary Licenses" Notice

      This Source Code Form is "Incompatible
      With Secondary Licenses", as defined by
      the Mozilla Public License, v. 2.0.




================================================
FILE: tools/eslint-plugin-spidermonkey-js/package.json
================================================
{
  "description": "A collection of rules that help enforce JavaScript coding standard in the Mozilla SpiderMonkey project.",
  "keywords": [
    "eslint",
    "eslintplugin",
    "eslint-plugin",
    "mozilla",
    "spidermonkey"
  ],
  "bugs": {
    "url": "https://bugzilla.mozilla.org/enter_bug.cgi?product=Testing&component=Lint"
  },
  "homepage": "http://firefox-source-docs.mozilla.org/tools/lint/linters/eslint-plugin-spidermonkey-js.html",
  "repository": {
    "type": "hg",
    "url": "https://hg.mozilla.org/mozilla-central/"
  },
  "author": "Mozilla",
  "main": "lib/index.js",
  "dependencies": {},
  "devDependencies": {},
  "engines": {
    "node": ">=6.9.1"
  },
  "license": "MPL-2.0",
  "notes(private)": "We don't want to publish to npm, so this is marked as private",
  "private": true
}



================================================
FILE: tools/eslint-plugin-spidermonkey-js/lib/index.js
================================================
/**
 * @file A processor to help parse the spidermonkey js code.
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

"use strict";

// ------------------------------------------------------------------------------
// Plugin Definition
// ------------------------------------------------------------------------------
module.exports = {
  meta: { name: "eslint-plugin-spidermonkey-js", version: "0.1.1" },
  processors: {
    processor: require("./processors/self-hosted"),
  },
  environments: {
    environment: require("./environments/self-hosted"),
  },
};



================================================
FILE: tools/eslint-plugin-spidermonkey-js/lib/environments/self-hosted.js
================================================
/**
 * @file Add environment defaults to SpiderMonkey's self-hosted JS.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

"use strict";

const path = require("path");
const fs = require("fs");

let gRootDir = null;

/**
 * Gets the root directory of the repository by walking up directories from
 * this file until the top-level mozilla-central package.json file is found.
 * If this fails, the same procedure will be attempted from the current
 * working dir.
 * Copied from `tools/lint/eslint/eslint-plugin-mozilla/lib/helpers.js`.
 *
 * @returns {string} The absolute path of the repository directory
 */
function getRootDir() {
  if (!gRootDir) {
    function searchUpForPackage(dirName) {
      let parsed = path.parse(dirName);
      while (parsed.root !== dirName) {
        let possibleFile = path.join(dirName, "package.json");
        if (fs.existsSync(possibleFile)) {
          let packageData = require(possibleFile);
          if (packageData.name == "mozilla-central") {
            return dirName;
          }
        }
        // Move up a level
        dirName = parsed.dir;
        parsed = path.parse(dirName);
      }
      return null;
    }
    let possibleRoot = searchUpForPackage(path.dirname(module.filename));
    if (!possibleRoot) {
      possibleRoot = searchUpForPackage(path.resolve());
    }
    if (!possibleRoot) {
      // We've couldn't find a root from the module or CWD, so lets just go
      // for the CWD. We really don't want to throw if possible, as that
      // tends to give confusing results when used with ESLint.
      possibleRoot = process.cwd();
    }

    gRootDir = possibleRoot;
  }

  return gRootDir;
}

function tryReadFile(filePath) {
  let absPath = path.join(getRootDir(), filePath);
  if (!fs.existsSync(absPath)) {
    // Safely handle the case when the file wasn't found, because throwing
    // errors can lead to confusing result when used with ESLint.
    return "";
  }
  return fs.readFileSync(absPath, "utf-8");
}

// Search for top-level declarations, #defines, and #includes.
function addGlobalsFrom(dirName, fileName, globals) {
  let filePath = path.join(dirName, fileName);

  // Definitions are separated by line.
  let lines = tryReadFile(filePath).split("\n");

  // We don't have to fully parse the source code, because it's formatted
  // through "prettier", which means we know the exact code structure.
  //
  // |class| is disallowed in self-hosted code, so we don't have to handle it.
  for (let line of lines) {
    if (
      line.startsWith("function") ||
      line.startsWith("function*") ||
      line.startsWith("async function") ||
      line.startsWith("async function*")
    ) {
      let m = line.match(/^(?:async )?function(?:\*)?\s+([\w\$]+)\s*\(/);
      if (m) {
        globals[m[1]] = "readonly";
      }
    } else if (line.startsWith("var") || line.startsWith("let") || line.startsWith("const")) {
      let m = line.match(/^(?:var|let|const)\s+([\w\$]+)\s*[;=]/);
      if (m) {
        globals[m[1]] = "readonly";
      }
    } else if (line.startsWith("#define")) {
      let m = line.match(/^#define (\w+)/);
      if (m) {
        globals[m[1]] = "readonly";
      }
    } else if (line.startsWith("#include")) {
      let m = line.match(/^#include \"([\w\.]+)\"$/);
      if (m) {
        // Also process definitions from includes.
        addGlobalsFrom(dirName, m[1], globals);
      }
    }
  }
}

function selfHostingDefines(dirName = "js/src/builtin/") {
  let absDir = path.join(getRootDir(), dirName);
  if (!fs.existsSync(absDir)) {
    // See |tryReadFile| for why we avoid to throw any errors.
    return {};
  }

  // Search sub-directories and js-files within |dirName|.
  let dirs = [];
  let jsFiles = [];
  for (let name of fs.readdirSync(absDir)) {
    let stat = fs.statSync(path.join(absDir, name));
    if (stat.isDirectory()) {
      dirs.push(name);
    } else if (stat.isFile() && name.endsWith(".js")) {
      jsFiles.push(name);
    }
  }

  let globals = Object.create(null);

  // Process each js-file.
  for (let jsFile of jsFiles) {
    addGlobalsFrom(dirName, jsFile, globals);
  }

  // Recursively traverse all sub-directories.
  for (let dir of dirs) {
    globals = { ...globals, ...selfHostingDefines(path.join(dirName, dir)) };
  }

  return globals;
}

function selfHostingFunctions() {
  // Definitions can be spread across multiple lines and may have extra
  // whitespace, so we simply remove all whitespace and match over the complete
  // file.
  let content = tryReadFile("js/src/vm/SelfHosting.cpp").replace(/\s+/g, "");

  let globals = Object.create(null);
  let re = /(?:JS_FN|JS_INLINABLE_FN|JS_TRAMPOLINE_FN)\("(\w+)"/g;
  for (let m of content.matchAll(re)) {
    globals[m[1]] = "readonly";
  }
  return globals;
}

function errorNumbers() {
  // Definitions are separated by line.
  let lines = tryReadFile("js/public/friend/ErrorNumbers.msg").split("\n");

  let globals = Object.create(null);
  for (let line of lines) {
    let m = line.match(/^MSG_DEF\((\w+),/);
    if (m) {
      globals[m[1]] = "readonly";
    }
  }
  return globals;
}

const globals = {
  ...selfHostingDefines(),
  ...selfHostingFunctions(),
  ...errorNumbers(),
};

module.exports = {
  globals,
};



================================================
FILE: tools/eslint-plugin-spidermonkey-js/lib/processors/self-hosted.js
================================================
/**
 * @file Remove macros from SpiderMonkey's self-hosted JS.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

"use strict";

const path = require("path");
const fs = require("fs");

const selfHostedRegex = /js\/src\/builtin\/.*?\.js$/;
const macroRegex = /\s*\#(if|ifdef|else|elif|endif|include|define|undef|error).*/;

function isSelfHostedFile(filename) {
  if (path.win32) {
    filename = filename.split(path.sep).join("/");
  }
  return selfHostedRegex.test(filename);
}

function tryReadFile(filePath) {
  if (!path.isAbsolute(filePath)) {
    return "";
  }
  if (!fs.existsSync(filePath)) {
    // Safely handle the case when the file wasn't found, because throwing
    // errors can lead to confusing result when used with ESLint.
    return "";
  }
  return fs.readFileSync(filePath, "utf-8");
}

// Adjust the range of fixes to match the original source code.
function createFix(lines, message) {
  let { line, column, fix } = message;

  // Line and column are 1-based. Make sure we got a valid input.
  if (line <= 0 || column <= 0) {
    return null;
  }

  // Reject to create a fix when the line is out of range for some reason.
  if (line > lines.length) {
    return null;
  }

  // Find the absolute start position of the line in the original file.
  let startOfLine = 0;
  for (let i = 0; i < line - 1; ++i) {
    // Add the length of the line, including its line separator.
    startOfLine += lines[i].length + "\n".length;
  }

  // Add the 1-based column to the start of line to get the start position.
  let start = startOfLine + (column - 1);

  // Add the fix range to get the end position.
  let end = start + (fix.range[1] - fix.range[0]);

  // And finally return the new fix object.
  return { text: fix.text, range: [start, end] };
}

module.exports = {
  preprocess(text, filename) {
    if (!isSelfHostedFile(filename)) {
      return [text];
    }

    let lines = text.split(/\n/);
    for (let i = 0; i < lines.length; i++) {
      if (!macroRegex.test(lines[i])) {
        // No macro here, nothing to do.
        continue;
      }

      for (; i < lines.length; i++) {
        // The macro isn't correctly indented, so we need to instruct
        // prettier to ignore them.
        lines[i] = "// prettier-ignore -- " + lines[i];

        // If the line ends with a backslash (\), the next line
        // is also part of part of the macro.
        if (!lines[i].endsWith("\\")) {
          break;
        }
      }
    }

    return [lines.join("\n")];
  },

  postprocess(messages, filename) {
    // Don't attempt to create fixes for any non-selfhosted files.
    if (!isSelfHostedFile(filename)) {
      return [].concat(...messages);
    }

    let lines = null;

    let result = [];
    for (let message of messages.flat()) {
      if (message.fix) {
        if (lines === null) {
          lines = tryReadFile(filename).split(/\n/);
        }

        let fix = createFix(lines, message);
        if (fix) {
          message.fix = fix;
        } else {
          // We couldn't create a fix, so we better remove the passed in fix,
          // because its range points to the preprocessor output, but the post-
          // processor must translate it into a range of the original source.
          delete message.fix;
        }
      }

      result.push(message);
    }
    return result;
  },

  supportsAutofix: true,
};



================================================
FILE: tools/ffprefs/Cargo.toml
================================================
[package]
name = "ffprefs"
version = "0.1.0"
edition = "2021"

[dependencies]
serde = { version = "1.0.104", features = ["derive"] }
serde_yaml = "0.9.34"



================================================
FILE: tools/ffprefs/src/main.rs
================================================
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

// Basics
// ------
// Any pref defined in one of the files included here should *not* be defined
// in a data file such as all.js; that would just be useless duplication.
//
// (Except under unusual circumstances where the value defined here must be
// overridden, e.g. for some Thunderbird prefs. In those cases the default
// value from the data file will override the static default value defined
// here.)
//
// Please follow the existing prefs naming convention when considering adding a
// new pref, and don't create a new pref group unless it's appropriate and there
// are likely to be multiple prefs within that group. (If you do, you'll need to
// update the `pref_groups` variable in modules/libpref/moz.build.)
//
// Definitions
// -----------
// A pref definition looks like this:
//
//   - name: <pref-name>                                 // mandatory
//     cpptype: <cpp-type>                               // mandatory if static
//     value: <default-value>                            // mandatory
//     mirror: <never | once | always>                   // mandatory if static
//     lang: <static | rust | dynamic>                   // optional
//     condition: <condition>                            // optional
//     locked: <true | false>.                           // optional only on dynamic prefs
//     sticky: <true | false>                            // optional only on dynamic prefs
//
// - `name` is the name of the pref, without double-quotes, as it appears
//   in about:config. It is used in most libpref API functions (from both C++
//   and JS code).
//
// - `cpptype` is one of `bool`, `int32_t`, `uint32_t`, `float`, an atomic version
//   of one of those, `String` or `DataMutexString`. Note that float prefs are
//   stored internally as strings. The C++ preprocessor doesn't like template
//   syntax in a macro argument, so use the typedefs defined in
//   StaticPrefsBase.h; for example, use `RelaxedAtomicBool` instead of
//   `Atomic<bool, Relaxed>`.
//
// - `value` is the default value. Its type should be appropriate for
//   <cpp-type>, otherwise the generated code will fail to compile. A complex
//   C++ numeric expressions like `60 * 60` (which the YAML parser cannot treat
//   as an integer or float) is treated as a string and passed through without
//   change, which is useful.
//
// - `mirror` indicates how the pref value is mirrored into a C++ variable.
//
//   * `never`: There is no C++ mirror variable. The pref value can only be
//     accessed via the standard libpref API functions.
//
//   * `once`: The pref value is mirrored into a variable at startup; the
//     mirror variable is left unchanged after that. (The exact point at which
//     all `once` mirror variables are set is when the first `once` mirror
//     variable is accessed, via its getter function.) This is mostly useful for
//     graphics prefs where we often don't want a new pref value to apply until
//     restart. Otherwise, this update policy is best avoided because its
//     behaviour can cause confusion and bugs.
//
//   * `always`: The mirror variable is always kept in sync with the pref value.
//     This is the most common choice.
//
//   When a mirror variable is present, a getter will be created that can access
//   it. Using the getter function to read the pref's value has the two
//   following advantages over the normal API functions.
//
//   * A direct variable access is faster than a hash table lookup.
//
//   * A mirror variable can be accessed off the main thread. If a pref *is*
//     accessed off the main thread, it should have an atomic type. Assertions
//     enforce this.
//
//   Note that Rust code must access the mirror variable directly, rather than
//   via the getter function.
//
// - `lang=rust` indicates if the mirror variable is used by Rust code. If so, it
//   will be usable via the `static_prefs::pref!` macro, e.g.
//   `static_prefs::pref!("layout.css.cross-fade.enabled")`.
//
// - `condition` is an optional condition that must be true for the pref to be
//   defined. It is a C++ expression that can use any global variable or macro
//   defined in the C++ code, such as `MOZ_WIDGET_GTK` or `XP_MACOS`.
//
//   example: condition: "defined(XP_MACOS) || defined(MOZ_WIDGET_GTK)"
//
// - `locked` is an optional boolean that indicates whether the pref is locked
//   (i.e., cannot be changed by the user). If set to `true`, the pref will
//   be locked in the generated code, and the user will not be able
//   to change it in about:config.
//
// The getter function's base name is the same as the pref's name, but with
// '.' or '-' chars converted to '_', to make a valid identifier. For example,
// the getter for `foo.bar_baz` is `foo_bar_baz()`. This is ugly but clear,
// and you can search for both the pref name and the getter using the regexp
// /foo.bar.baz/. Suffixes are added as follows:
//
// - If the `mirror` value is `once`, `_AtStartup` is appended, to indicate the
//   value was obtained at startup.
//

use serde::{Deserialize, Serialize};
use std::collections::HashMap;
use std::env;
use std::fs;
use std::path::PathBuf;

const STATIC_PREFS: &str = "../engine/modules/libpref/init/zen-static-prefs.inc";
const FIREFOX_PREFS: &str = "../engine/browser/app/profile/firefox.js";
const DYNAMIC_PREFS: &str = "../engine/browser/app/profile/zen.js";

#[derive(Serialize, Deserialize, PartialEq, Debug)]
struct Preference {
    name: String,
    value: String,
    r#type: Option<String>,
    condition: Option<String>,
    hidden: Option<bool>,
    cpptype: Option<String>,
    mirror: Option<String>,
    locked: Option<bool>,
    sticky: Option<bool>,
}

fn get_config_path() -> PathBuf {
    let mut path = env::current_dir().expect("Failed to get current directory");
    path.push("prefs");
    path
}

fn ordered_prefs(mut prefs: Vec<Preference>) -> Vec<Preference> {
    // Sort preferences by name
    prefs.sort_by(|a, b| a.name.cmp(&b.name));
    prefs
}

fn get_prefs_files_recursively(dir: &PathBuf, files: &mut Vec<PathBuf>) {
    if let Ok(entries) = fs::read_dir(dir) {
        for entry in entries {
            if let Ok(entry) = entry {
                let path = entry.path();
                if path.is_dir() {
                    get_prefs_files_recursively(&path, files);
                } else if let Some(ext) = path.extension() {
                    if ext == "yaml" || ext == "yml" {
                        files.push(path);
                    }
                }
            }
        }
    }
}

fn load_preferences() -> Vec<Preference> {
    let mut prefs = Vec::new();
    let config_path = get_config_path();
    let mut pref_files = Vec::new();
    get_prefs_files_recursively(&config_path, &mut pref_files);
    for file_path in pref_files {
        let content = fs::read_to_string(&file_path).expect("Failed to read file");
        let mut parsed_prefs: Vec<Preference> =
            serde_yaml::from_str(&content).expect("Failed to parse YAML");
        prefs.append(&mut parsed_prefs);
    }
    ordered_prefs(prefs)
}

fn get_condition_string(condition: &Option<String>) -> String {
    condition
        .as_deref()
        .map_or_else(String::new, |cond| cond.trim().to_string())
}

fn get_pref_with_condition(content: &str, condition: &str) -> String {
    if condition.is_empty() {
        return format!("\n{}", content);
    }
    format!("\n#if {}\n{}#endif", condition, content)
}

fn get_static_pref(pref: &Preference) -> String {
    // - name: <pref-name>                                 # mandatory
    //   type: <cpp-type>                                  # mandatory
    //   value: <default-value>                            # mandatory
    //   mirror: <never | once | always>                   # mandatory
    //   do_not_use_directly: <true | false>               # optional
    //   include: <header-file>                            # optional
    //   rust: <true | false>                              # optional
    //   set_spidermonkey_pref: <false | startup | always> # optional
    // We do not hide preferences in static prefs, so we ignore the `hidden` field.
    let name = format!("- name: {}\n", pref.name);
    let cpp_type = format!(
        "  type: {}\n",
        pref.cpptype
            .as_deref()
            .expect("cpp type is mandatory on static prefs")
    );
    let value = format!("  value: {}\n", pref.value);
    let rust = if pref.r#type.as_deref() == Some("rust") {
        "  rust: true\n".to_string()
    } else {
        "  rust: false\n".to_string()
    };
    let mirror = format!(
        "  mirror: {}\n",
        pref.mirror
            .as_deref()
            .expect("mirror is mandatory on static prefs")
    );
    let content = format!("{}{}{}{}{}", name, cpp_type, value, mirror, rust);
    get_pref_with_condition(&content, &get_condition_string(&pref.condition))
}

fn get_dynamic_pref(pref: &Preference) -> String {
    let value = get_value(pref);
    if pref.hidden.unwrap_or(false) {
        return format!("# Hidden preference: {} = {}", pref.name, value);
    }
    let third_arg;
    let is_locked = pref.locked.unwrap_or(false);
    let is_sticky = pref.sticky.unwrap_or(false);
    if is_locked && is_sticky {
        panic!("A dynamic pref cannot be both locked and sticky");
    } else if is_locked {
        third_arg = ", locked".to_string();
    } else if is_sticky {
        third_arg = ", sticky".to_string();
    } else {
        third_arg = String::new();
    }
    // note: Dont use "value" here, as it adds quotes around the value
    if pref.value == "@cond" {
        // If the value is "@cond", we assume it is a placeholder for a condition
        // that will be replaced later, so we do not include it in the pref definition.
        return get_pref_with_condition(
            &format!(
                "pref(\"{}\", true);\n#else\npref(\"{}\", false);\n",
                pref.name, pref.name
            ),
            &get_condition_string(&pref.condition),
        );
    }
    get_pref_with_condition(
        &format!("pref(\"{}\", {}{});\n", pref.name, value, third_arg),
        &get_condition_string(&pref.condition),
    )
}

fn get_value(pref: &Preference) -> String {
    // Strings must be wrapped inside double quotes
    let value = &pref.value;
    // Other values such as numbers or booleans can be used directly
    // If the value is empty or there are any characters that could be misinterpreted,
    // we should wrap it in double quotes.
    let letters_inside_value =
        value.chars().any(|c| c.is_alphabetic() || c == '.') && value != "true" && value != "false";
    if value.is_empty() || value.contains([' ', '\n', '\t', '"']) || letters_inside_value {
        format!("\"{}\"", value.replace('"', "\\\""))
    } else {
        value.to_string()
    }
}

fn write_preferences(prefs: &[Preference]) {
    let config_path = get_config_path();
    if !config_path.exists() {
        fs::create_dir_all(&config_path).expect("Failed to create prefs directory");
    }

    let static_prefs_path = config_path.join(STATIC_PREFS);
    let dynamic_prefs_path = config_path.join(DYNAMIC_PREFS);
    println!(
        "Writing preferences to:\n  Static: {}\n  Dynamic: {}",
        static_prefs_path.display(),
        dynamic_prefs_path.display()
    );
    let mut static_content = String::new();
    let mut dynamic_content = String::new();
    for pref in prefs {
        let ty = pref.r#type.as_deref().unwrap_or("");
        if ty == "static" || ty == "rust" {
            let content = get_static_pref(pref);
            static_content.push_str(&content);
        }
        let content = get_dynamic_pref(pref);
        dynamic_content.push_str(&content);
    }

    // Create files if they do not exist
    if !static_prefs_path.exists() {
        fs::File::create(&static_prefs_path).expect("Failed to create static prefs file");
    }
    if !dynamic_prefs_path.exists() {
        fs::File::create(&dynamic_prefs_path).expect("Failed to create dynamic prefs file");
    }

    fs::write(&static_prefs_path, static_content).expect("Failed to write static prefs");
    fs::write(&dynamic_prefs_path, dynamic_content).expect("Failed to write dynamic prefs");
}

fn prepare_zen_prefs() {
    // Add `#include zen.js` to the bottom of the firefox.js file if it doesn't exist
    let line = "#include zen.js";
    let firefox_prefs_path = get_config_path().join(FIREFOX_PREFS);
    if let Ok(mut content) = fs::read_to_string(&firefox_prefs_path) {
        if !content.contains(line) {
            content.push_str(format!("\n{}\n", line).as_str());
            // Ensure the file ends with a newline
            fs::write(&firefox_prefs_path, content).expect("Failed to write firefox prefs");
        }
    } else {
        eprintln!(
            "Warning: {} does not exist or cannot be read.",
            firefox_prefs_path.display()
        );
    }
}

fn is_twilight_build() -> bool {
    // Check if '"twilight"' is on .surfer/dynamicConfig.brand.json
    let mut dynamic_config_path = env::current_dir().expect("Failed to get current directory");
    dynamic_config_path.push(".surfer");
    dynamic_config_path.push("dynamicConfig.brand.json");
    if let Ok(content) = fs::read_to_string(&dynamic_config_path) {
        return !content.contains("\"release\"");
    }
    true
}

fn get_env_values() -> HashMap<String, bool> {
    let mut env_values = HashMap::new();
    env_values.insert("IS_TWILIGHT".into(), is_twilight_build());
    env_values
}

fn expand_pref_values(prefs: &mut [Preference]) {
    let env_values = get_env_values();
    for pref in prefs {
        let mut new_value = pref.value.clone();
        for (key, value) in &env_values {
            let placeholder = format!("@{}@", key);
            if new_value.contains(&placeholder) {
                new_value = new_value.replace(&placeholder, if *value { "true" } else { "false" });
            }
            pref.value = new_value.clone();
        }
    }
}

fn main() {
    let args: Vec<String> = env::args().collect();
    let root_path = if args.len() > 1 {
        PathBuf::from(&args[1])
    } else {
        env::current_dir().expect("Failed to get current directory")
    };
    env::set_current_dir(&root_path).expect("Failed to change directory");

    prepare_zen_prefs();
    let mut preferences = load_preferences();
    expand_pref_values(&mut preferences);
    write_preferences(&preferences);
}



================================================
FILE: tools/virustotal-checker/cmake_install.cmake
================================================
# Install script for directory: /home/mauro/work/malware-snitch

# Set the install prefix
if(NOT DEFINED CMAKE_INSTALL_PREFIX)
  set(CMAKE_INSTALL_PREFIX "/usr/local")
endif()
string(REGEX REPLACE "/$" "" CMAKE_INSTALL_PREFIX "${CMAKE_INSTALL_PREFIX}")

# Set the install configuration name.
if(NOT DEFINED CMAKE_INSTALL_CONFIG_NAME)
  if(BUILD_TYPE)
    string(REGEX REPLACE "^[^A-Za-z0-9_]+" ""
           CMAKE_INSTALL_CONFIG_NAME "${BUILD_TYPE}")
  else()
    set(CMAKE_INSTALL_CONFIG_NAME "")
  endif()
  message(STATUS "Install configuration: \"${CMAKE_INSTALL_CONFIG_NAME}\"")
endif()

# Set the component getting installed.
if(NOT CMAKE_INSTALL_COMPONENT)
  if(COMPONENT)
    message(STATUS "Install component: \"${COMPONENT}\"")
    set(CMAKE_INSTALL_COMPONENT "${COMPONENT}")
  else()
    set(CMAKE_INSTALL_COMPONENT)
  endif()
endif()

# Install shared libraries without execute permission?
if(NOT DEFINED CMAKE_INSTALL_SO_NO_EXE)
  set(CMAKE_INSTALL_SO_NO_EXE "0")
endif()

# Is this installation the result of a crosscompile?
if(NOT DEFINED CMAKE_CROSSCOMPILING)
  set(CMAKE_CROSSCOMPILING "FALSE")
endif()

# Set default install directory permissions.
if(NOT DEFINED CMAKE_OBJDUMP)
  set(CMAKE_OBJDUMP "/usr/bin/objdump")
endif()

if(CMAKE_INSTALL_COMPONENT)
  set(CMAKE_INSTALL_MANIFEST "install_manifest_${CMAKE_INSTALL_COMPONENT}.txt")
else()
  set(CMAKE_INSTALL_MANIFEST "install_manifest.txt")
endif()

string(REPLACE ";" "\n" CMAKE_INSTALL_MANIFEST_CONTENT
       "${CMAKE_INSTALL_MANIFEST_FILES}")
file(WRITE "/home/mauro/work/malware-snitch/${CMAKE_INSTALL_MANIFEST}"
     "${CMAKE_INSTALL_MANIFEST_CONTENT}")



================================================
FILE: tools/virustotal-checker/CMakeLists.txt
================================================

project("malware-snitch" LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 20)

# Define a binary target
file(GLOB_RECURSE SOURCES src/*.cc)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -lcrypto -lcurl -Wall -Wextra -pedantic")

add_executable(${PROJECT_NAME} ${SOURCES})
target_include_directories(${PROJECT_NAME} PRIVATE src)
target_compile_features(${PROJECT_NAME} PRIVATE cxx_std_20)




================================================
FILE: tools/virustotal-checker/LICENSE
================================================
Mozilla Public License Version 2.0
==================================

1. Definitions
--------------

1.1. "Contributor"
    means each individual or legal entity that creates, contributes to
    the creation of, or owns Covered Software.

1.2. "Contributor Version"
    means the combination of the Contributions of others (if any) used
    by a Contributor and that particular Contributor's Contribution.

1.3. "Contribution"
    means Covered Software of a particular Contributor.

1.4. "Covered Software"
    means Source Code Form to which the initial Contributor has attached
    the notice in Exhibit A, the Executable Form of such Source Code
    Form, and Modifications of such Source Code Form, in each case
    including portions thereof.

1.5. "Incompatible With Secondary Licenses"
    means

    (a) that the initial Contributor has attached the notice described
        in Exhibit B to the Covered Software; or

    (b) that the Covered Software was made available under the terms of
        version 1.1 or earlier of the License, but not also under the
        terms of a Secondary License.

1.6. "Executable Form"
    means any form of the work other than Source Code Form.

1.7. "Larger Work"
    means a work that combines Covered Software with other material, in
    a separate file or files, that is not Covered Software.

1.8. "License"
    means this document.

1.9. "Licensable"
    means having the right to grant, to the maximum extent possible,
    whether at the time of the initial grant or subsequently, any and
    all of the rights conveyed by this License.

1.10. "Modifications"
    means any of the following:

    (a) any file in Source Code Form that results from an addition to,
        deletion from, or modification of the contents of Covered
        Software; or

    (b) any new file in Source Code Form that contains any Covered
        Software.

1.11. "Patent Claims" of a Contributor
    means any patent claim(s), including without limitation, method,
    process, and apparatus claims, in any patent Licensable by such
    Contributor that would be infringed, but for the grant of the
    License, by the making, using, selling, offering for sale, having
    made, import, or transfer of either its Contributions or its
    Contributor Version.

1.12. "Secondary License"
    means either the GNU General Public License, Version 2.0, the GNU
    Lesser General Public License, Version 2.1, the GNU Affero General
    Public License, Version 3.0, or any later versions of those
    licenses.

1.13. "Source Code Form"
    means the form of the work preferred for making modifications.

1.14. "You" (or "Your")
    means an individual or a legal entity exercising rights under this
    License. For legal entities, "You" includes any entity that
    controls, is controlled by, or is under common control with You. For
    purposes of this definition, "control" means (a) the power, direct
    or indirect, to cause the direction or management of such entity,
    whether by contract or otherwise, or (b) ownership of more than
    fifty percent (50%) of the outstanding shares or beneficial
    ownership of such entity.

2. License Grants and Conditions
--------------------------------

2.1. Grants

Each Contributor hereby grants You a world-wide, royalty-free,
non-exclusive license:

(a) under intellectual property rights (other than patent or trademark)
    Licensable by such Contributor to use, reproduce, make available,
    modify, display, perform, distribute, and otherwise exploit its
    Contributions, either on an unmodified basis, with Modifications, or
    as part of a Larger Work; and

(b) under Patent Claims of such Contributor to make, use, sell, offer
    for sale, have made, import, and otherwise transfer either its
    Contributions or its Contributor Version.

2.2. Effective Date

The licenses granted in Section 2.1 with respect to any Contribution
become effective for each Contribution on the date the Contributor first
distributes such Contribution.

2.3. Limitations on Grant Scope

The licenses granted in this Section 2 are the only rights granted under
this License. No additional rights or licenses will be implied from the
distribution or licensing of Covered Software under this License.
Notwithstanding Section 2.1(b) above, no patent license is granted by a
Contributor:

(a) for any code that a Contributor has removed from Covered Software;
    or

(b) for infringements caused by: (i) Your and any other third party's
    modifications of Covered Software, or (ii) the combination of its
    Contributions with other software (except as part of its Contributor
    Version); or

(c) under Patent Claims infringed by Covered Software in the absence of
    its Contributions.

This License does not grant any rights in the trademarks, service marks,
or logos of any Contributor (except as may be necessary to comply with
the notice requirements in Section 3.4).

2.4. Subsequent Licenses

No Contributor makes additional grants as a result of Your choice to
distribute the Covered Software under a subsequent version of this
License (see Section 10.2) or under the terms of a Secondary License (if
permitted under the terms of Section 3.3).

2.5. Representation

Each Contributor represents that the Contributor believes its
Contributions are its original creation(s) or it has sufficient rights
to grant the rights to its Contributions conveyed by this License.

2.6. Fair Use

This License is not intended to limit any rights You have under
applicable copyright doctrines of fair use, fair dealing, or other
equivalents.

2.7. Conditions

Sections 3.1, 3.2, 3.3, and 3.4 are conditions of the licenses granted
in Section 2.1.

3. Responsibilities
-------------------

3.1. Distribution of Source Form

All distribution of Covered Software in Source Code Form, including any
Modifications that You create or to which You contribute, must be under
the terms of this License. You must inform recipients that the Source
Code Form of the Covered Software is governed by the terms of this
License, and how they can obtain a copy of this License. You may not
attempt to alter or restrict the recipients' rights in the Source Code
Form.

3.2. Distribution of Executable Form

If You distribute Covered Software in Executable Form then:

(a) such Covered Software must also be made available in Source Code
    Form, as described in Section 3.1, and You must inform recipients of
    the Executable Form how they can obtain a copy of such Source Code
    Form by reasonable means in a timely manner, at a charge no more
    than the cost of distribution to the recipient; and

(b) You may distribute such Executable Form under the terms of this
    License, or sublicense it under different terms, provided that the
    license for the Executable Form does not attempt to limit or alter
    the recipients' rights in the Source Code Form under this License.

3.3. Distribution of a Larger Work

You may create and distribute a Larger Work under terms of Your choice,
provided that You also comply with the requirements of this License for
the Covered Software. If the Larger Work is a combination of Covered
Software with a work governed by one or more Secondary Licenses, and the
Covered Software is not Incompatible With Secondary Licenses, this
License permits You to additionally distribute such Covered Software
under the terms of such Secondary License(s), so that the recipient of
the Larger Work may, at their option, further distribute the Covered
Software under the terms of either this License or such Secondary
License(s).

3.4. Notices

You may not remove or alter the substance of any license notices
(including copyright notices, patent notices, disclaimers of warranty,
or limitations of liability) contained within the Source Code Form of
the Covered Software, except that You may alter any license notices to
the extent required to remedy known factual inaccuracies.

3.5. Application of Additional Terms

You may choose to offer, and to charge a fee for, warranty, support,
indemnity or liability obligations to one or more recipients of Covered
Software. However, You may do so only on Your own behalf, and not on
behalf of any Contributor. You must make it absolutely clear that any
such warranty, support, indemnity, or liability obligation is offered by
You alone, and You hereby agree to indemnify every Contributor for any
liability incurred by such Contributor as a result of warranty, support,
indemnity or liability terms You offer. You may include additional
disclaimers of warranty and limitations of liability specific to any
jurisdiction.

4. Inability to Comply Due to Statute or Regulation
---------------------------------------------------

If it is impossible for You to comply with any of the terms of this
License with respect to some or all of the Covered Software due to
statute, judicial order, or regulation then You must: (a) comply with
the terms of this License to the maximum extent possible; and (b)
describe the limitations and the code they affect. Such description must
be placed in a text file included with all distributions of the Covered
Software under this License. Except to the extent prohibited by statute
or regulation, such description must be sufficiently detailed for a
recipient of ordinary skill to be able to understand it.

5. Termination
--------------

5.1. The rights granted under this License will terminate automatically
if You fail to comply with any of its terms. However, if You become
compliant, then the rights granted under this License from a particular
Contributor are reinstated (a) provisionally, unless and until such
Contributor explicitly and finally terminates Your grants, and (b) on an
ongoing basis, if such Contributor fails to notify You of the
non-compliance by some reasonable means prior to 60 days after You have
come back into compliance. Moreover, Your grants from a particular
Contributor are reinstated on an ongoing basis if such Contributor
notifies You of the non-compliance by some reasonable means, this is the
first time You have received notice of non-compliance with this License
from such Contributor, and You become compliant prior to 30 days after
Your receipt of the notice.

5.2. If You initiate litigation against any entity by asserting a patent
infringement claim (excluding declaratory judgment actions,
counter-claims, and cross-claims) alleging that a Contributor Version
directly or indirectly infringes any patent, then the rights granted to
You by any and all Contributors for the Covered Software under Section
2.1 of this License shall terminate.

5.3. In the event of termination under Sections 5.1 or 5.2 above, all
end user license agreements (excluding distributors and resellers) which
have been validly granted by You or Your distributors under this License
prior to termination shall survive termination.

************************************************************************
*                                                                      *
*  6. Disclaimer of Warranty                                           *
*  -------------------------                                           *
*                                                                      *
*  Covered Software is provided under this License on an "as is"       *
*  basis, without warranty of any kind, either expressed, implied, or  *
*  statutory, including, without limitation, warranties that the       *
*  Covered Software is free of defects, merchantable, fit for a        *
*  particular purpose or non-infringing. The entire risk as to the     *
*  quality and performance of the Covered Software is with You.        *
*  Should any Covered Software prove defective in any respect, You     *
*  (not any Contributor) assume the cost of any necessary servicing,   *
*  repair, or correction. This disclaimer of warranty constitutes an   *
*  essential part of this License. No use of any Covered Software is   *
*  authorized under this License except under this disclaimer.         *
*                                                                      *
************************************************************************

************************************************************************
*                                                                      *
*  7. Limitation of Liability                                          *
*  --------------------------                                          *
*                                                                      *
*  Under no circumstances and under no legal theory, whether tort      *
*  (including negligence), contract, or otherwise, shall any           *
*  Contributor, or anyone who distributes Covered Software as          *
*  permitted above, be liable to You for any direct, indirect,         *
*  special, incidental, or consequential damages of any character      *
*  including, without limitation, damages for lost profits, loss of    *
*  goodwill, work stoppage, computer failure or malfunction, or any    *
*  and all other commercial damages or losses, even if such party      *
*  shall have been informed of the possibility of such damages. This   *
*  limitation of liability shall not apply to liability for death or   *
*  personal injury resulting from such party's negligence to the       *
*  extent applicable law prohibits such limitation. Some               *
*  jurisdictions do not allow the exclusion or limitation of           *
*  incidental or consequential damages, so this exclusion and          *
*  limitation may not apply to You.                                    *
*                                                                      *
************************************************************************

8. Litigation
-------------

Any litigation relating to this License may be brought only in the
courts of a jurisdiction where the defendant maintains its principal
place of business and such litigation shall be governed by laws of that
jurisdiction, without reference to its conflict-of-law provisions.
Nothing in this Section shall prevent a party's ability to bring
cross-claims or counter-claims.

9. Miscellaneous
----------------

This License represents the complete agreement concerning the subject
matter hereof. If any provision of this License is held to be
unenforceable, such provision shall be reformed only to the extent
necessary to make it enforceable. Any law or regulation which provides
that the language of a contract shall be construed against the drafter
shall not be used to construe this License against a Contributor.

10. Versions of the License
---------------------------

10.1. New Versions

Mozilla Foundation is the license steward. Except as provided in Section
10.3, no one other than the license steward has the right to modify or
publish new versions of this License. Each version will be given a
distinguishing version number.

10.2. Effect of New Versions

You may distribute the Covered Software under the terms of the version
of the License under which You originally received the Covered Software,
or under the terms of any subsequent version published by the license
steward.

10.3. Modified Versions

If you create software not governed by this License, and you want to
create a new license for such software, you may create and use a
modified version of this License if you rename the license and remove
any references to the name of the license steward (except to note that
such modified license differs from this License).

10.4. Distributing Source Code Form that is Incompatible With Secondary
Licenses

If You choose to distribute Source Code Form that is Incompatible With
Secondary Licenses under the terms of this version of the License, the
notice described in Exhibit B of this License must be attached.

Exhibit A - Source Code Form License Notice
-------------------------------------------

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

If it is not possible or desirable to put the notice in a particular
file, then You may include the notice in a location (such as a LICENSE
file in a relevant directory) where a recipient would be likely to look
for such a notice.

You may add additional accurate notices of copyright ownership.

Exhibit B - "Incompatible With Secondary Licenses" Notice
---------------------------------------------------------

  This Source Code Form is "Incompatible With Secondary Licenses", as
  defined by the Mozilla Public License, v. 2.0.



================================================
FILE: tools/virustotal-checker/Makefile
================================================
# CMAKE generated file: DO NOT EDIT!
# Generated by "Unix Makefiles" Generator, CMake Version 3.29

# Default target executed when no arguments are given to make.
default_target: all
.PHONY : default_target

# Allow only one "make -f Makefile2" at a time, but pass parallelism.
.NOTPARALLEL:

#=============================================================================
# Special targets provided by cmake.

# Disable implicit rules so canonical targets will work.
.SUFFIXES:

# Disable VCS-based implicit rules.
% : %,v

# Disable VCS-based implicit rules.
% : RCS/%

# Disable VCS-based implicit rules.
% : RCS/%,v

# Disable VCS-based implicit rules.
% : SCCS/s.%

# Disable VCS-based implicit rules.
% : s.%

.SUFFIXES: .hpux_make_needs_suffix_list

# Command-line flag to silence nested $(MAKE).
$(VERBOSE)MAKESILENT = -s

#Suppress display of executed commands.
$(VERBOSE).SILENT:

# A target that is always out of date.
cmake_force:
.PHONY : cmake_force

#=============================================================================
# Set environment variables for the build.

# The shell in which to execute make rules.
SHELL = /bin/sh

# The CMake executable.
CMAKE_COMMAND = /usr/local/bin/cmake

# The command to remove a file.
RM = /usr/local/bin/cmake -E rm -f

# Escaping for special characters.
EQUALS = =

# The top-level source directory on which CMake was run.
CMAKE_SOURCE_DIR = /home/mauro/work/malware-snitch

# The top-level build directory on which CMake was run.
CMAKE_BINARY_DIR = /home/mauro/work/malware-snitch

#=============================================================================
# Targets provided globally by CMake.

# Special rule for the target edit_cache
edit_cache:
	@$(CMAKE_COMMAND) -E cmake_echo_color "--switch=$(COLOR)" --cyan "Running CMake cache editor..."
	/usr/local/bin/ccmake -S$(CMAKE_SOURCE_DIR) -B$(CMAKE_BINARY_DIR)
.PHONY : edit_cache

# Special rule for the target edit_cache
edit_cache/fast: edit_cache
.PHONY : edit_cache/fast

# Special rule for the target rebuild_cache
rebuild_cache:
	@$(CMAKE_COMMAND) -E cmake_echo_color "--switch=$(COLOR)" --cyan "Running CMake to regenerate build system..."
	/usr/local/bin/cmake --regenerate-during-build -S$(CMAKE_SOURCE_DIR) -B$(CMAKE_BINARY_DIR)
.PHONY : rebuild_cache

# Special rule for the target rebuild_cache
rebuild_cache/fast: rebuild_cache
.PHONY : rebuild_cache/fast

# The main all target
all: cmake_check_build_system
	$(CMAKE_COMMAND) -E cmake_progress_start /home/mauro/work/malware-snitch/CMakeFiles /home/mauro/work/malware-snitch//CMakeFiles/progress.marks
	$(MAKE) $(MAKESILENT) -f CMakeFiles/Makefile2 all
	$(CMAKE_COMMAND) -E cmake_progress_start /home/mauro/work/malware-snitch/CMakeFiles 0
.PHONY : all

# The main clean target
clean:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/Makefile2 clean
.PHONY : clean

# The main clean target
clean/fast: clean
.PHONY : clean/fast

# Prepare targets for installation.
preinstall: all
	$(MAKE) $(MAKESILENT) -f CMakeFiles/Makefile2 preinstall
.PHONY : preinstall

# Prepare targets for installation.
preinstall/fast:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/Makefile2 preinstall
.PHONY : preinstall/fast

# clear depends
depend:
	$(CMAKE_COMMAND) -S$(CMAKE_SOURCE_DIR) -B$(CMAKE_BINARY_DIR) --check-build-system CMakeFiles/Makefile.cmake 1
.PHONY : depend

#=============================================================================
# Target rules for targets named malware-snitch

# Build rule for target.
malware-snitch: cmake_check_build_system
	$(MAKE) $(MAKESILENT) -f CMakeFiles/Makefile2 malware-snitch
.PHONY : malware-snitch

# fast build rule for target.
malware-snitch/fast:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/build
.PHONY : malware-snitch/fast

# target to build an object file
src/hasher.o:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/src/hasher.o
.PHONY : src/hasher.o

# target to preprocess a source file
src/hasher.i:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/src/hasher.i
.PHONY : src/hasher.i

# target to generate assembly for a file
src/hasher.s:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/src/hasher.s
.PHONY : src/hasher.s

# target to build an object file
src/main.o:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/src/main.o
.PHONY : src/main.o

# target to preprocess a source file
src/main.i:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/src/main.i
.PHONY : src/main.i

# target to generate assembly for a file
src/main.s:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/src/main.s
.PHONY : src/main.s

# target to build an object file
src/scanner.o:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/src/scanner.o
.PHONY : src/scanner.o

# target to preprocess a source file
src/scanner.i:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/src/scanner.i
.PHONY : src/scanner.i

# target to generate assembly for a file
src/scanner.s:
	$(MAKE) $(MAKESILENT) -f CMakeFiles/malware-snitch.dir/build.make CMakeFiles/malware-snitch.dir/src/scanner.s
.PHONY : src/scanner.s

# Help Target
help:
	@echo "The following are some of the valid targets for this Makefile:"
	@echo "... all (the default if no target is provided)"
	@echo "... clean"
	@echo "... depend"
	@echo "... edit_cache"
	@echo "... rebuild_cache"
	@echo "... malware-snitch"
	@echo "... src/hasher.o"
	@echo "... src/hasher.i"
	@echo "... src/hasher.s"
	@echo "... src/main.o"
	@echo "... src/main.i"
	@echo "... src/main.s"
	@echo "... src/scanner.o"
	@echo "... src/scanner.i"
	@echo "... src/scanner.s"
.PHONY : help



#=============================================================================
# Special targets to cleanup operation of make.

# Special rule to run CMake to check the build system integrity.
# No rule that depends on this can have commands that come from listfiles
# because they might be regenerated.
cmake_check_build_system:
	$(CMAKE_COMMAND) -S$(CMAKE_SOURCE_DIR) -B$(CMAKE_BINARY_DIR) --check-build-system CMakeFiles/Makefile.cmake 0
.PHONY : cmake_check_build_system




================================================
FILE: tools/virustotal-checker/src/app.h
================================================

#include <vector>
#include <string>
#include <functional>

#ifndef __MALWARE_SNITCH_APP_H_
#define __MALWARE_SNITCH_APP_H_

namespace malware_snitch {

/**
 * @struct AppArgs
 * @brief Data structure to hold the API key and files.
 */
struct AppArgs {
  std::string api_key; ///< The API key for VirusTotal.
  std::vector<std::string> files; ///< The files to be scanned.
};

using CallBackType = std::function<int(AppArgs&)>;

/**
 * @brief Parses command line arguments and runs the scanner.
 * @param argc The number of command line arguments.
 * @param argv The command line arguments.
 * @param callback A callback function to be executed with the parsed arguments.
 * @return An integer indicating the success or failure of the operation.
 */
auto ParseArgsAndRun(int argc, char** argv, CallBackType callback) -> int;

}

#endif // __MALWARE_SNITCH_APP_H_



================================================
FILE: tools/virustotal-checker/src/hasher.cc
================================================

#include "hasher.h"

#include <stdio.h>
#include <vector>
#include <string>
#include <iostream>
#include <fstream>
#include <array>

#include <openssl/evp.h>

#define HASHER_FAIL(message) \
  std::cerr << "Hasher Error: " << message << std::endl; \
  return std::string();

namespace malware_snitch {

auto Hasher::CalculateSHA256Helper(const std::string& aFile) -> std::string {
  std::array<unsigned char, EVP_MAX_MD_SIZE> hash;
  unsigned int hashLength = 0;
  EVP_MD_CTX* ctx = EVP_MD_CTX_new();
  if (!ctx) {
    HASHER_FAIL("Failed to create EVP_MD_CTX");
  }
  if (EVP_DigestInit_ex(ctx, EVP_sha256(), nullptr) != 1) {
    EVP_MD_CTX_free(ctx);
    HASHER_FAIL("Failed to initialize digest context");
  }
  std::ifstream file(aFile, std::ios::binary);
  if (!file) {
    EVP_MD_CTX_free(ctx);
    HASHER_FAIL("Failed to open file: " + aFile);
  }
  std::vector<char> buffer(8192);
  while (file) {
    file.read(buffer.data(), buffer.size());
    std::streamsize bytesRead = file.gcount();
    if (bytesRead > 0) {
      if (EVP_DigestUpdate(ctx, buffer.data(), bytesRead) != 1) {
        EVP_MD_CTX_free(ctx);
        HASHER_FAIL("Failed to update digest");
      }
    }
  }
  if (EVP_DigestFinal_ex(ctx, hash.data(), &hashLength) != 1) {
    EVP_MD_CTX_free(ctx);
    HASHER_FAIL("Failed to finalize digest");
  }
  EVP_MD_CTX_free(ctx);
  return HashToString<EVP_MAX_MD_SIZE>(hash, hashLength);
}

auto Hasher::CalculateSHA256Files(const std::vector<std::string>& aFiles) -> std::vector<std::string> {
  std::vector<std::string> hashes;
  for (const auto& file : aFiles) {
    hashes.push_back(CalculateSHA256(file));
  }
  return hashes;
}

auto Hasher::CalculateSHA256(const std::string& aFile) -> std::string {
  auto hash = CalculateSHA256Helper(aFile);
  std::cout << "\t[+] Hashed: " << aFile << " -> " << hash << std::endl;
  return hash;
}

}; // namespace malware_snitch



================================================
FILE: tools/virustotal-checker/src/hasher.h
================================================


#ifndef __MALWARE_SNITCH_HASHER_H_
#define __MALWARE_SNITCH_HASHER_H_

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

#include <vector>
#include <string>
#include <memory>
#include <array>
#include <sstream>
#include <iomanip>

namespace malware_snitch {

/**
 * @class Hasher
 * @brief A class with the purpose of calculating the SHA256 hash of a file.
 * It provides a method to calculate the hash and return it as a string.
 */
class Hasher {
  public:
    /**
     * @brief Calculates the SHA256 hash of a file.
     * @param aFile The path to the file.
     * @return The SHA256 hash as a string.
     */
    static auto CalculateSHA256(const std::string& aFile) -> std::string;
    /** 
     * @brief Calculates the SHA256 hash from a list of files.
     * @param aFiles A vector of file paths.
     * @return A vector of SHA256 hashes.
     */
    static auto CalculateSHA256Files(const std::vector<std::string>& aFiles) -> std::vector<std::string>;
  private:
    /**
     * @brief Helper function to calculate the SHA256 hash.
     * @param aFile The path to the file.
     * @return The SHA256 hash as a string.
     */
    static auto CalculateSHA256Helper(const std::string& aFile) -> std::string;
    /**
     * @brief Converts a hash to a string.
     * @param hash The hash data.
     * @param length The length of the hash.
     * @return The hash as a string.
     */
    template <size_t N>
    static auto HashToString(const std::array<unsigned char, N> &aHash, const uint aLength) -> std::string {
      std::stringstream ss;
      for (size_t i = 0; i < aLength; ++i) {
        ss << std::hex << std::setw(2) << std::setfill('0') << static_cast<int>(aHash[i]);
      }
      return ss.str();
    }
};

} // namespace malware_snitch

#endif // __MALWARE_SNITCH_HASHER_H_



================================================
FILE: tools/virustotal-checker/src/main.cc
================================================

#include "app.h"
#include "scanner.h"

#include <iostream>
#include <vector>
#include <string>
#include <optional>

namespace malware_snitch {

namespace {
/// @brief Function to convert C argv into a vector of strings
/// @param argc The number of command line arguments.
/// @param argv The command line arguments.
/// @return A vector of strings containing the command line arguments.
auto ConvertArgsToVector(int argc, char** argv) -> std::vector<std::string> {
  std::vector<std::string> args;
  for (int i = 0; i < argc; ++i) {
    args.emplace_back(argv[i]);
  }
  return args;
}

/// @brief Show CLI help message.
auto ShowHelp() -> int {
  std::cerr << "Usage: malware_snitch <API_KEY> <FILE1> <FILE2> ...\n";
  std::cerr << "Example: malware_snitch my_api_key file1.txt file2.txt\n";
  return EXIT_FAILURE;
}

/// @brief Function to fetch the API key and files from the command line arguments.
/// @param args The command line arguments as a vector of strings.
auto FetchArgs(const std::vector<std::string>& args) -> std::optional<AppArgs> {
  AppArgs app_args;
  if (args.size() < 3) {
    return std::nullopt;
  }
  app_args.api_key = args[1];
  for (size_t i = 2; i < args.size(); ++i) {
    app_args.files.emplace_back(args[i]);
  }
  return app_args;
}
} // namespace

/// @brief Function to parse command line arguments and run the scanner.
/// @param argc The number of command line arguments.
/// @param argv The command line arguments.
/// @param callback A callback function to be executed with the parsed arguments.
/// @return An integer indicating the success or failure of the operation.
auto ParseArgsAndRun(int argc, char** argv, CallBackType callback) -> int {
  auto parsedArgs = FetchArgs(ConvertArgsToVector(argc, argv));
  if (!parsedArgs.has_value()) {
    ShowHelp();
    return EXIT_FAILURE;
  }
  return callback(
    parsedArgs.value()
  );
}

/// @brief Main function to run the malware scanner.
/// @param argc The number of command line arguments.
/// @param argv The command line arguments.
/// @return An integer indicating the success or failure of the operation.
auto Main(int argc, char** argv) -> int {
  return ParseArgsAndRun(argc, argv, [](AppArgs& args) -> int {
    auto scanner = Scanner::Singleton(args.files);
    return scanner->CheckFiles(args.api_key);
  });
}
} // namespace malware_snitch

int main(int argc, char** argv) {
  return malware_snitch::Main(argc, argv);
}



================================================
FILE: tools/virustotal-checker/src/scanner.cc
================================================

#include "scanner.h"
#include "hasher.h"

#include <stdio.h>
#include <vector>
#include <string>
#include <iostream>
#include <fstream>
#include <array>

#include <curl/curl.h>

namespace malware_snitch {

namespace {

auto CurlWriteCallback(char *contents, size_t size, size_t nmemb, void *userp) -> size_t{
  ((std::string*)userp)->append((char*)contents, size * nmemb);
  return size * nmemb;
}

auto GetFileName(const std::string& aFile) -> std::string {
  size_t pos = aFile.find_last_of("/\\");
  if (pos == std::string::npos) {
    return aFile; // No path, return the file name
  }
  return aFile.substr(pos + 1);
}

} // namespace

auto Scanner::Singleton(std::vector<std::string> aFiles) -> Scanner* {
  static Scanner* instance = new Scanner(aFiles);
  return instance;
}

auto Scanner::CheckFiles(const std::string& aKey) -> int {
  auto uploadResponses = UploadFile(aKey);
  auto statusResponse = CheckStatus(aKey);
  // Process the responses as needed
  return 0;
}

auto Scanner::UploadFile(const std::string& aKey) -> std::vector<json> {
  auto hashes = CalculateSHA256Files();
  for (uint i = 0; i < mFiles.size(); ++i) {
    auto& file = mFiles[i];
    auto& hash = hashes[i];
    std::cout << "\t[+] Uploading " << file << std::endl;
    CURL *hnd = curl_easy_init();
    curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "POST");
    curl_easy_setopt(hnd, CURLOPT_WRITEDATA, stdout);
    curl_easy_setopt(hnd, CURLOPT_URL, VIRUS_TOTAL_API_URL VIRUS_TOTAL_UPLOAD_ROUTE);

    struct curl_slist *headers = NULL;
    headers = curl_slist_append(headers, "accept: application/json");
    headers = curl_slist_append(headers, ("X-Apikey: " + aKey).c_str());
    headers = curl_slist_append(headers, (
      "Content-Disposition: form-data; name=\"file\"; filename=\"" + 
      GetFileName(file) + 
      "\""
    ).c_str());
    curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);
    std::string response;

    curl_easy_setopt(hnd, CURLOPT_WRITEFUNCTION, CurlWriteCallback);
    curl_easy_setopt(hnd, CURLOPT_WRITEDATA, &response);
    std::ifstream fileStream(file, std::ios::binary);
    if (!fileStream) {
      std::cerr << "Error: Could not open file " << file << std::endl;
      continue;
    }

    std::string fileData((std::istreambuf_iterator<char>(fileStream)), std::istreambuf_iterator<char>());
    curl_easy_setopt(hnd, CURLOPT_POSTFIELDS, fileData.c_str());
    curl_easy_setopt(hnd, CURLOPT_POSTFIELDSIZE, fileData.size());
    CURLcode ret = curl_easy_perform(hnd);

    if (ret != CURLE_OK) {
      std::cerr << "\nError: " << curl_easy_strerror(ret) << std::endl;
      exit(EXIT_FAILURE);
    }

    std::cout << "\t[+] Response: " << response << std::endl;

    auto jsonResponse = json::parse(response);
    auto uploadUrl = jsonResponse["data"];
  }
  return json();
}

auto Scanner::CalculateSHA256Files() -> std::vector<std::string> {
  return Hasher::CalculateSHA256Files(mFiles);
}

auto Scanner::CheckStatus(const std::string& aKey) -> json {
  // Implement the status check logic here
  // Use libcurl to send a GET request to VirusTotal
  // Return the response as a json object
  return json();
}

}; // namespace malware_snitch



================================================
FILE: tools/virustotal-checker/src/scanner.h
================================================

#ifndef __MALWARE_SNITCH_SCANNER_H_
#define __MALWARE_SNITCH_SCANNER_H_

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

#include <vector>
#include <string>
#include <memory>

#include <json.hpp>

#define VIRUS_TOTAL_API_URL "https://www.virustotal.com/api/v3"
#define VIRUS_TOTAL_FILES_ROUTE "/files"
#define VIRUS_TOTAL_UPLOAD_ROUTE VIRUS_TOTAL_FILES_ROUTE "/upload_url"

namespace malware_snitch {
using json = nlohmann::json;

/** 
 * @class Scanner
 * @brief A class that represents a scanner for malware detection.
 * It performs various operations on a set of files. The scanner uploads them to VirusTotal, 
 * checks their status, and downloads the results. It also checks for signatures in the files.
 */
class Scanner {
  public:
    /**
     * @brief Construct or initialize the scanner.
     * @param aFiles A vector of file paths to be scanned.
     */
    static auto Singleton(std::vector<std::string> aFiles) -> Scanner*;
    /**
     * @brief Uploads files to VirusTotal, check for their status, and download results.
     * @param aKey The API key for VirusTotal. 
     */ 
    auto CheckFiles(const std::string& aKey) -> int;

    ~Scanner() = default;
  private:
    Scanner(std::vector<std::string> aFiles) : mFiles(aFiles) {}

    /**
     * @brief Uploads a file to VirusTotal.
     * @return The response from the upload request for each file.
     */
    auto UploadFile(const std::string& aKey) -> std::vector<json>;
    /**
     * @brief Calculates the SHA256 hash of the given files.
     * @return A list of SHA256 hashes.
     */
    auto CalculateSHA256Files() -> std::vector<std::string>;
    /**
     * @brief Checks the status of the uploaded files.
     * @return The response from the status check request.
     */
    auto CheckStatus(const std::string& aKey) -> json;
  protected:
    std::vector<std::string> mFiles; ///< The files to be scanned.
};

} // namespace malware_snitch
#endif // __MALWARE_SNITCH_SCANNER_H_


================================================
FILE: .formal-git/components
================================================
split-view
kbs
folders
workspaces
mods
tests
glance
media
images
vendor
tabs
compact-mode
common
fonts
welcome
scripts
workflows
windows
flatpak
configs
l10n


================================================
FILE: .formal-git/template
================================================
{type}: {message}, b={bugId}, c={components}


================================================
FILE: .github/advanced-issue-labeler.yml
================================================
policy:
  - section:
      - id: [component]
        label:
          # Make sure it's in sync with the dropdown in the issue template
          - name: "component: sync"
            keys: ["Sync"]
          - name: "component: compact-mode"
            keys: ["Compact Mode"]
          - name: "component: workspaces"
            keys: ["Workspaces"]
          - name: "component: mods-themes"
            keys: ["Mods / Themes"]
          - name: "component: bookmarks"
            keys: ["Bookmarks"]
          - name: "component: glance"
            keys: ["Glance"]
          - name: "component: url-bar"
            keys: ["URL Bar"]
          - name: "component: tabs"
            keys: ["Tabs"]
          - name: "component: settings"
            keys: ["Settings"]
          - name: "component: privacy"
            keys: ["Privacy"]
          - name: "component: split-view"
            keys: ["Split View"]
          - name: "component: performance"
            keys: ["Performance"]
          - name: "component: media-controller"
            keys: ["Media Controler"]
          - name: "component: tab-unloading"
            keys: ["Tab unloading"]
          - name: "component: tab-folders"
            keys: ["Tab Folders"]
          - name: "component: keyboard-shortcuts"
            keys: ["Keyboard Shortcuts"]
          - name: "component: security"
            keys: ["Security"]
          - name: "component: extensions"
            keys: ["Extensions"]
          - name: "component: customizable-ui-toolbars"
            keys: ["Customizable UI / Toolbars"]
          - name: "component: localization"
            keys: ["Localization"]
          - name: "component: other"
            keys: ["Other"]

      - id: [platform]
        block-list: ["Other"]
        label:
          # Make sure it's in sync with the dropdown in the issue template
          - name: "platform: linux"
            keys: ["Linux (AppImage)", "Linux (Flatpak)", "Linux (Tarball)"]
          - name: "platform: macOS"
            keys: ["macOS - aarch64", "macOS - Intel"]
          - name: "platform: windows"
            keys: ["Windows - x64", "Windows - aarch64"]



================================================
FILE: .github/ISSUE_TEMPLATE/bug_report.yml
================================================
name: Bug Report
description: File a bug report
body:
  - type: markdown
    attributes:
      value: |
        <p align="center">
          <a href="https://zen-browser.app">
            <picture>
              <source media="(prefers-color-scheme: dark)" srcset="https://raw.githubusercontent.com/zen-browser/desktop/dev/docs/assets/zen-light.svg">
              <source media="(prefers-color-scheme: light)" srcset="https://raw.githubusercontent.com/zen-browser/desktop/dev/docs/assets/zen-dark.svg">
              <img src="https://raw.githubusercontent.com/zen-browser/desktop/dev/docs/assets/zen-light.svg" alt="Zen Logo" width="64" height="64">
            </picture>
            <img src="https://raw.githubusercontent.com/zen-browser/desktop/dev/docs/assets/zen-browser.svg" alt="Zen Browser Text" width="156" height="64">
          </a>
        </p>

        <p align="center"><em>Thank you for filing a bug report!</em></p>

        > [!IMPORTANT]
        > - Please provide descriptive titles. Bad titles do more harm than good.
        > - Please search existing issues to avoid creating duplicates.
        > - For enhancement requests, please use GitHub Discussions.
        > - Please fill out the template below to the best of your ability.
        > - Please describe the issue as much as possible and provide steps to reproduce it along with visual aids if possible.
  - type: checkboxes
    id: captchas
    attributes:
      label: Preliminary Checks
      description: Please confirm the following before submitting a bug report. This helps us triage and resolve issues more efficiently.
      options:
        - label: I have read and understood the important section above.
          required: true
        - label: I have searched existing issues and avoided creating duplicates.
          required: true
        - label: I am not filing an enhancement request.
          required: true
        - label: I have checked that this issue cannot be reproduced on Mozilla Firefox.
          required: true
        - label: I have checked that this issue can be reproduced once I removed all my Mods and Custom CSS.
          required: true
  - type: textarea
    id: what-happened
    attributes:
      label: What happened?
      description: Describe the bug clearly and concisely.
      placeholder: Tell us what you see!
    validations:
      required: true
  - type: input
    id: expected-behavior
    attributes:
      label: Expected behavior
      description: Please write a description of what was supposed to happen.
    validations:
      required: true
  - type: input
    id: actual-behavior
    attributes:
      label: Actual behavior
      description: Please write a description of what actually happened.
    validations:
      required: true
  - type: textarea
    id: how-to-reproduce
    attributes:
      label: Steps to reproduce
      description: Please Provide numbered steps to reproduce this issue so developers can replicate them easily.
    validations:
      required: true
  - type: textarea
    id: screenshots
    attributes:
      label: Screenshots and videos
      description: |
        If applicable, add screenshots or videos to help explain your problem.
  - type: input
    id: version
    attributes:
      label: Version
      description: What version of our software are you running? Please do not use "latest" or "newest" as version numbers. Go to `Help -> About Zen` to find the version number.
      placeholder: 1.0.0b
    validations:
      required: true
  - type: dropdown
    id: platform
    attributes:
      label: What platform are you seeing the problem on?
      multiple: true
      options:
        - Linux (AppImage)
        - Linux (Flatpak)
        - Linux (Tarball)
        - macOS - aarch64
        - macOS - Intel
        - Windows - aarch64
        - Windows - x64
        - Other
    validations:
      required: true
  - type: dropdown
    id: component
    attributes:
      label: What component is this issue related to?
      options:
        - Other
        - Bookmarks
        - Compact Mode
        - Customizable UI / Toolbars
        - Extensions
        - Glance
        - Keyboard Shortcuts
        - Localization
        - Media Controler
        - Mods / Themes
        - Performance
        - Privacy
        - Security
        - Settings
        - Split View
        - Sync
        - Tab Folders
        - Tab unloading
        - Tabs
        - URL Bar
        - Workspaces
    validations:
      required: true

  - type: textarea
    id: logs
    attributes:
      label: Relevant log output if applicable
      description: Please copy and paste any relevant log output. This will be automatically formatted into code, so no need for backticks.
      render: shell



================================================
FILE: .github/ISSUE_TEMPLATE/config.yml
================================================
blank_issues_enabled: false
contact_links:
  - name: Feature Request
    url: https://github.com/zen-browser/desktop/discussions
    about: Please use GitHub discussions for feature requests.



================================================
FILE: .github/workflows/build.yml
================================================
name: Zen Release builds

on:
  workflow_dispatch:
    inputs:
      create_release:
        description: "Create a new release for this build"
        required: false
        default: false
        type: "boolean"
      update_version:
        description: "Update the version number"
        required: false
        default: false
        type: "boolean"
      update_branch:
        description: "Update branch with new version"
        required: true
        default: "release"
        type: "choice"
        options:
          - "release"
          - "twilight"
      use-sccache:
        description: "Use sccache"
        required: true
        type: "boolean"
        default: false
  workflow_call:
    inputs:
      create_release:
        description: "Create a new release for this build"
        required: false
        default: false
        type: "boolean"
      update_version:
        description: "Update the version number"
        required: false
        default: false
        type: "boolean"
      update_branch:
        description: "Update branch with new version"
        required: true
        default: "release"
        type: "string"
      use-sccache:
        description: "Use sccache"
        required: true
        type: "boolean"
        default: false

jobs:
  buildid:
    name: Generate build ID
    runs-on: ubuntu-latest
    outputs:
      buildids: ${{ steps.get.outputs.bid }}
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - id: get
        shell: bash -xe {0}
        run: |
          bdat=`date +"%Y%m%d%I%M%S"`
          echo "bid=${bdat}" >> $GITHUB_OUTPUT

      - name: Debug
        run: |
          echo "create_release: ${{ inputs.create_release }}"
          echo "update_version: ${{ inputs.update_version }}"
          echo "use sccache: ${{ inputs.use-sccache }}"
          echo "update_branch: ${{ inputs.update_branch }}"
          echo "GITHUB_REPOSITORY: ${{ github.repository }}"
          echo "GITHUB_REPOSITORY_OWNER: ${{ github.repository_owner }}"
          echo "GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}"

      - name: Check if correct branch
        if: ${{ inputs.create_release }}
        run: |
          echo "Checking if we are on the correct branch"
          git branch
          git status
          git branch --show-current
          branch="${{ inputs.update_branch }}"
          if [[ $branch == "twilight" ]]; then
            branch="dev"
          elif [[ $branch == "release" ]]; then
            branch="stable"
          fi
          if [[ $(git branch --show-current) != $branch ]]; then
            echo ">>> Branch mismatch"
          # exit 1
          else
            echo ">>> Branch matches"
          fi

  start-self-host:
    runs-on: ubuntu-latest
    steps:
      - name: Download aws-cli
        if: ${{ inputs.create_release && inputs.update_branch == 'release' }}
        run: |
          curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
          unzip awscliv2.zip
          sudo ./aws/install --update

      - name: Start self-hosted runner
        if: ${{ inputs.create_release && inputs.update_branch == 'release' }}
        run: |
          echo "Starting self-hosted runner"
          echo "${{ secrets.SELF_HOSTED_RUNNER_START_SCRIPT }}" | base64 -d > start.sh
          sudo chmod +x start.sh
          bash ./start.sh

      - name: Remove self-hosted runner script
        if: always() && ${{ inputs.create_release && inputs.update_branch == 'release' }}
        run: |
          echo "Removing self-hosted runner script"
          rm start.sh || true

  build-data:
    permissions:
      contents: write
    name: Generate build data
    runs-on: blacksmith-2vcpu-ubuntu-2404
    needs: buildid
    outputs:
      build_date: ${{ steps.data.outputs.builddate }}
      version: ${{ steps.data.outputs.version }}
      build_time: ${{ steps.data.outputs.buildtime }}
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Setup Node.js
        uses: useblacksmith/setup-node@v5
        with:
          node-version-file: ".nvmrc"

      - name: Install dependencies
        run: |
          npm ci

      - name: Setup Surfer
        run: |
          npm i -g @zen-browser/surfer

      - name: Bump version
        if: ${{ inputs.update_version && inputs.update_branch == 'release' }}
        run: |
          npm run surfer -- ci --brand ${{ inputs.update_branch }} --bump prerelease

      - name: Bump version without new version
        if: ${{ !inputs.update_version || inputs.update_branch == 'twilight' }}
        run: |
          npm run surfer -- ci --brand ${{ inputs.update_branch }}

      - name: Debug
        run: |
          surfer get version
          surfer get version | xargs
          echo "$(surfer get version | xargs)"

      - name: Export release date
        id: data
        shell: bash
        run: |
          echo "builddate=$(date +"%Y-%m-%d")" >> $GITHUB_OUTPUT
          echo "version=$(surfer get version | xargs)" >> $GITHUB_OUTPUT
          echo "buildtime=$(date +"%H:%M:%S")" >> $GITHUB_OUTPUT

      - name: Commit
        uses: stefanzweifel/git-auto-commit-action@v5
        if: ${{ inputs.update_version }}
        with:
          commit_message: 🔖 Update version to ${{ steps.data.outputs.version }}
          commit_user_name: Zen Browser Robot
          commit_user_email: zen-browser-auto@users.noreply.github.com

  lint:
    uses: ./.github/workflows/code-linter.yml
    needs: [build-data]
    name: Lint

  check-release:
    runs-on: ubuntu-latest
    needs: [build-data, lint]
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Setup Node.js
        uses: useblacksmith/setup-node@v5
        with:
          node-version-file: ".nvmrc"

      - name: Install dependencies
        run: |
          npm ci

      - name: Setup Surfer
        run: |
          npm i -g @zen-browser/surfer

      - name: Activate Surfer CLI
        run: |
          npm run surfer -- ci --brand ${{ inputs.update_branch }} --display-version ${{ needs.build-data.outputs.version }}

      - name: Check version
        run: |
          echo "$(pwd)"
          echo $(npm run --silent surfer -- get version | xargs)
          echo "version=$(npm run --silent surfer -- get version | xargs)" >> $GITHUB_OUTPUT
          if [[ $(npm run --silent surfer -- get version | xargs) == ${{ needs.build-data.outputs.version }} ]]; then
            echo ">>> Version matches"
          else
            echo ">>> Version mismatch"
            exit 1
          fi

  source:
    permissions:
      contents: write
    runs-on: ubuntu-latest
    needs: [build-data, check-release]

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Setup Node.js
        uses: useblacksmith/setup-node@v5
        with:
          node-version-file: ".nvmrc"

      - name: Setup Git
        run: |
          git config --global user.email "mauro-balades@users.noreply.github.com"
          git config --global user.name "mauro-balades"

      - name: Install dependencies
        run: |
          npm ci

      - name: Load Surfer CI setup
        run: npm run surfer -- ci --brand ${{ inputs.update_branch }} --display-version ${{ needs.build-data.outputs.version }}

      - name: Download Firefox source and dependencies
        run: npm run download --verbose

      - name: Import
        run: npm run import -- --verbose

      - name: Build language packs
        run: sh scripts/download-language-packs.sh

      - name: Compress
        run: |
          tar \
            --exclude='./.git' \
            --use-compress-program=zstd \
            -hcf zen.source.tar.zst \
            -C engine .

      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: zen.source.tar.zst
          path: ./zen.source.tar.zst

  windows-step-1:
    name: Windows build step 1 (PGO build)
    uses: ./.github/workflows/windows-release-build.yml
    needs: [build-data, buildid]
    permissions:
      contents: write
    secrets: inherit
    with:
      use-sccache: ${{ inputs.use-sccache }}
      build-version: ${{ needs.build-data.outputs.version }}
      generate-gpo: true
      profile-data-path-archive: zen-windows-profile-data-and-jarlog.zip
      release-branch: ${{ inputs.update_branch }}
      MOZ_BUILD_DATE: ${{needs.buildid.outputs.buildids}}

  windows-step-2:
    name: Windows build step 2 (Generate profile data)
    uses: ./.github/workflows/windows-profile-build.yml
    permissions:
      contents: write
    secrets: inherit
    needs: [windows-step-1, build-data]
    with:
      build-version: ${{ needs.build-data.outputs.version }}
      profile-data-path-archive: zen.win64-pgo-stage-1.zip
      release-branch: ${{ inputs.update_branch }}

  windows-step-3:
    name: Windows build step 3 (build with profile data)
    uses: ./.github/workflows/windows-release-build.yml
    permissions:
      contents: write
    secrets: inherit
    needs: [build-data, windows-step-2, start-self-host, buildid]
    with:
      build-version: ${{ needs.build-data.outputs.version }}
      generate-gpo: false
      release-branch: ${{ inputs.update_branch }}
      MOZ_BUILD_DATE: ${{needs.buildid.outputs.buildids}}
      use-sccache: ${{ inputs.use-sccache }}

  linux:
    name: Linux build
    uses: ./.github/workflows/linux-release-build.yml
    permissions:
      contents: write
    secrets: inherit
    needs: [build-data, start-self-host, buildid]
    with:
      build-version: ${{ needs.build-data.outputs.version }}
      release-branch: ${{ inputs.update_branch }}
      MOZ_BUILD_DATE: ${{needs.buildid.outputs.buildids}}
      use-sccache: ${{ inputs.use-sccache }}

  mac:
    name: macOS build
    uses: ./.github/workflows/macos-release-build.yml
    permissions:
      contents: write
    secrets: inherit
    needs: [build-data, buildid]
    with:
      build-version: ${{ needs.build-data.outputs.version }}
      release-branch: ${{ inputs.update_branch }}
      MOZ_BUILD_DATE: ${{needs.buildid.outputs.buildids}}
      use-sccache: ${{ inputs.use-sccache }}

  mac-uni:
    name: macOS build (Universal)
    uses: ./.github/workflows/macos-universal-release-build.yml
    permissions:
      contents: write
    secrets: inherit
    needs: [build-data, mac]
    with:
      build-version: ${{ needs.build-data.outputs.version }}
      release-branch: ${{ inputs.update_branch }}

  appimage:
    name: AppImage build - Linux ${{ matrix.arch }}
    permissions:
      contents: write
    runs-on: blacksmith-2vcpu-ubuntu-2404
    strategy:
      matrix:
        arch: [x86_64, aarch64]
    needs: [linux, build-data]
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Setup Node.js
        uses: useblacksmith/setup-node@v5
        with:
          node-version-file: ".nvmrc"

      - name: Install dependencies
        run: |
          npm ci
          sudo apt-get update
          sudo apt-get -y install libfuse2 desktop-file-utils appstream

      - name: Download Linux build
        uses: actions/download-artifact@v4
        with:
          name: zen.linux-${{ matrix.arch }}.tar.xz

      - name: Execute AppImage build
        run: |
          set -eux
          export ARCH=${{ matrix.arch }}
          UPINFO="gh-releases-zsync|$GITHUB_REPOSITORY_OWNER|desktop|latest|zen-$ARCH.AppImage.zsync"
          rm build/AppDir/.DirIcon || true
          cp configs/branding/${{ inputs.update_branch }}/logo128.png build/AppDir/usr/share/icons/hicolor/128x128/apps/zen.png
          cp configs/branding/${{ inputs.update_branch }}/logo128.png build/AppDir/zen.png && ln -s zen.png build/AppDir/.DirIcon

          if [ "${{ inputs.update_branch }}" = "twilight" ]; then
            sed -i -e 's/Name=Zen Browser/Name=Zen Twilight/g' build/AppDir/zen.desktop
            sed -i -e 's/StartupWMClass=zen/StartupWMClass=zen-twilight/g' build/AppDir/zen.desktop
          fi

          sed -i -e 's/\$VERSION/${{ needs.build-data.outputs.version }}/g' build/AppDir/zen.desktop

          APPDIR=build/AppDir
          tar -xvf *.tar.* && rm -rf *.tar.*
          mv zen/* $APPDIR/
          wget "https://github.com/AppImage/appimagetool/releases/download/continuous/appimagetool-x86_64.AppImage"
          wget "https://github.com/VHSgunzo/uruntime/releases/latest/download/uruntime-appimage-squashfs-lite-$ARCH"
          chmod +x *.AppImage
          chmod +x ./uruntime-appimage-squashfs-lite-"$ARCH"
          chmod +x ./build/AppDir/AppRun

          # keep the uruntime mountpoint (massively speeds up launch time)
          sed -i 's|URUNTIME_MOUNT=[0-9]|URUNTIME_MOUNT=0|' ./uruntime-appimage-squashfs-lite-"$ARCH"

          echo "AppDir: $APPDIR"
          ls -al
          find .
          ls -al "$APPDIR"
          ./appimagetool-x86_64.AppImage -u "$UPINFO" "$APPDIR" zen-"$ARCH".AppImage --runtime-file ./uruntime-appimage-squashfs-lite-"$ARCH"
          mkdir dist
          mv zen*AppImage* dist/.
          unset ARCH

      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: zen-${{ matrix.arch }}.AppImage
          path: ./dist/zen-${{ matrix.arch }}.AppImage

      - name: Upload artifact (ZSync)
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: zen-${{ matrix.arch }}.AppImage.zsync
          path: ./dist/zen-${{ matrix.arch }}.AppImage.zsync

  stop-self-hosted:
    runs-on: blacksmith-2vcpu-ubuntu-2404
    needs: [windows-step-3, linux]
    if: always()
    steps:
      - name: Download aws-cli
        if: ${{ inputs.create_release && inputs.update_branch == 'release' }}
        run: |
          curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
          unzip awscliv2.zip
          sudo ./aws/install --update

      - name: Stop self-hosted runner
        if: ${{ inputs.create_release && inputs.update_branch == 'release' }}
        run: |
          echo "Stopping self-hosted runner"
          echo "${{ secrets.SELF_HOSTED_RUNNER_STOP_SCRIPT }}" | base64 -d > stop.sh
          sudo chmod +x stop.sh
          bash ./stop.sh > /dev/null

      - name: Remove self-hosted runner script
        if: always() && ${{ inputs.create_release && inputs.update_branch == 'release' }}
        run: |
          echo "Removing self-hosted runner script"
          rm stop.sh || true

  release:
    if: ${{ inputs.create_release || inputs.update_branch == 'twilight' }}
    permissions: write-all
    name: Release
    needs:
      [
        build-data,
        linux,
        windows-step-3,
        check-release,
        mac-uni,
        appimage,
        source,
        lint,
        stop-self-hosted,
      ]
    runs-on: blacksmith-2vcpu-ubuntu-2404
    environment:
      name: ${{ inputs.update_branch == 'release' && 'Deploy-Release' || 'Deploy-Twilight' }}

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Download artifact
        uses: actions/download-artifact@v4

      - name: Checkout updates repository
        uses: actions/checkout@v4
        with:
          repository: zen-browser/updates-server
          path: updates-server
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Download object files
        if: ${{ inputs.update_branch == 'release' }}
        run: |
          git clone https://github.com/zen-browser/windows-binaries.git .github/workflows/object --depth 1

      - name: Copy update manifests
        env:
          RELEASE_BRANCH: ${{ inputs.update_branch }}
        run: |
          cd updates-server
          mkdir -p updates
          cp -a ../linux_update_manifest_x86_64/.  updates/
          cp -a ../linux_update_manifest_aarch64/.  updates/

          if [[ $RELEASE_BRANCH == 'release' ]]; then
            cp -a ../.github/workflows/object/windows-x64-signed-x86_64/update_manifest/.  updates/
            cp -a ../.github/workflows/object/windows-x64-signed-arm64/update_manifest/.  updates/
          else
            cp -a ../windows_update_manifest_x86_64/.  updates/
            cp -a ../windows_update_manifest_arm64/.  updates/
          fi

          cp -a ../macos_update_manifest/.  updates/

      - name: Commit
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: 🚀 Update update manifests
          commit_user_name: Zen Browser Robot
          commit_user_email: zen-browser-auto@users.noreply.github.com
          repository: ./updates-server

      - name: Generate Release Notes
        env:
          RELEASE_BRANCH: ${{ inputs.update_branch }}
        run: bash .github/workflows/src/generate_release_notes.sh

        # If we are on Twilight, we want to just update the Twilight tag's release
      - name: Update Twilight tag
        if: ${{ inputs.update_branch == 'twilight' }}
        uses: softprops/action-gh-release@v2.2.2
        with:
          body_path: release_notes.md
          files: |
            ./zen.source.tar.zst/*
            ./zen.linux-x86_64.tar.xz/*
            ./zen.linux-aarch64.tar.xz/*
            ./zen-x86_64.AppImage/*
            ./zen-x86_64.AppImage.zsync/*
            ./zen-aarch64.AppImage/*
            ./zen-aarch64.AppImage.zsync/*
            ./zen.win-x86_64.zip/*
            ./zen.win-arm64.zip/*
            ./linux.mar/*
            ./linux-aarch64.mar/*
            ./windows.mar/*
            ./windows-arm64.mar/*
            ./macos.mar/*
            ./zen.installer.exe/*
            ./zen.installer-arm64.exe/*
            ./zen.macos-universal.dmg/*
          tag_name: "twilight"
          name: "Twilight build - ${{ needs.build-data.outputs.version }} (${{ needs.build-data.outputs.build_date }} at ${{ needs.build-data.outputs.build_time }})"
          draft: false
          generate_release_notes: false
          prerelease: true
          token: ${{ secrets.DEPLOY_KEY }}
          fail_on_unmatched_files: false
        env:
          GITHUB_REPOSITORY: ${{ github.repository }}

      - name: Release
        uses: softprops/action-gh-release@v2.2.2
        if: ${{ inputs.update_branch == 'release' }}
        with:
          token: ${{ secrets.DEPLOY_KEY }}
          tag_name: ${{ needs.build-data.outputs.version }}
          prerelease: false
          fail_on_unmatched_files: false
          generate_release_notes: false
          name: "Release build - ${{ needs.build-data.outputs.version }} (${{ needs.build-data.outputs.build_date }})"
          body_path: release_notes.md
          files: |
            ./zen.source.tar.zst/*
            ./zen.linux-x86_64.tar.xz/*
            ./zen.linux-aarch64.tar.xz/*
            ./zen-x86_64.AppImage/*
            ./zen-x86_64.AppImage.zsync/*
            ./zen-aarch64.AppImage/*
            ./zen-aarch64.AppImage.zsync/*
            ./.github/workflows/object/windows-x64-signed-x86_64/zen.win-x86_64.zip
            ./.github/workflows/object/windows-x64-signed-arm64/zen.win-arm64.zip
            ./linux.mar/*
            ./linux-aarch64.mar/*
            ./.github/workflows/object/windows-x64-signed-x86_64/windows.mar
            ./.github/workflows/object/windows-x64-signed-arm64/windows-arm64.mar
            ./macos.mar/*
            ./.github/workflows/object/windows-x64-signed-x86_64/zen.installer.exe
            ./.github/workflows/object/windows-x64-signed-arm64/zen.installer-arm64.exe
            ./zen.macos-universal.dmg/*

  prepare-flatpak:
    if: ${{ inputs.create_release && inputs.update_branch == 'release' }}
    permissions: write-all
    name: Prepare Flatpak
    needs: [release, linux, build-data]
    runs-on: blacksmith-2vcpu-ubuntu-2404

    steps:
      - name: Checkout Flatpak repository
        uses: actions/checkout@v4
        with:
          repository: zen-browser/release-utils
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Install dependencies
        run: |
          git pull
          sudo apt-get update
          npm ci

      - name: Generate new Flatpak release
        run: |
          npm run build-flatpak -- \
            --version ${{ needs.build-data.outputs.version }}

      - name: Commit
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: 🚀 Update releases for Flatpak
          commit_user_name: Zen Browser Robot
          commit_user_email: zen-browser-auto@users.noreply.github.com

      - name: Checkout Flatpak repository
        uses: actions/checkout@v4
        with:
          repository: zen-browser/flatpak
          token: ${{ secrets.DEPLOY_KEY }}
          path: flatpak

      - name: Move releases.xml
        run: |
          pwd
          ls .
          ls ..
          mv releases.xml ./flatpak/app.zen_browser.zen.metainfo.xml
          # output the version to the file
          echo -n ${{ needs.build-data.outputs.version }} > ./flatpak/version

      - name: Commit
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "[release]: Update Flatpak manifest"
          commit_user_name: Zen Browser Robot
          commit_user_email: zen-browser-auto@users.noreply.github.com
          repository: ./flatpak

      - name: Wait 2 minutes for the Flatpak repo to update
        run: sleep 120

  release-flatpak:
    if: ${{ inputs.create_release && inputs.update_branch == 'release' }}
    permissions: write-all
    name: Release Flatpak
    needs: [prepare-flatpak, build-data]
    runs-on: blacksmith-2vcpu-ubuntu-2404

    steps:
      - name: Checkout Flatpak repository
        uses: actions/checkout@v4
        with:
          repository: flathub/app.zen_browser.zen
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Download Linux x86_64 build
        uses: actions/download-artifact@v4
        with:
          name: zen.linux-x86_64.tar.xz

      - name: Download Linux aarch64 build
        uses: actions/download-artifact@v4
        with:
          name: zen.linux-aarch64.tar.xz

      - name: Update repository
        uses: actions/checkout@v4
        with:
          path: zen-browser
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Download Flatpak archive
        run: |
          wget https://github.com/zen-browser/flatpak/releases/latest/download/archive.tar -O archive.tar

      - name: Setup Git
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email "github-actions[bot]@users.noreply.github.com"

      - name: Prepare Flatpak manifest
        run: |
          python3 ./zen-browser/scripts/prepare-flatpak-release.py \
            --flatpak-archive archive.tar \
            --version ${{ needs.build-data.outputs.version }} \
            --linux-archive zen.linux-x86_64.tar.xz \
            --linux-aarch64-archive zen.linux-aarch64.tar.xz \
            --output app.zen_browser.zen.yml \
            --template-root ./zen-browser/build/flatpak

      - name: Commit changes
        run: |
          git add app.zen_browser.zen.yml
          git commit -m "Update to version ${{ needs.build-data.outputs.version }}"

      - name: Clean up
        run: |
          rm -rf zen-browser
          rm -rf archive.tar
          rm -rf zen.linux-x86_64.tar.xz
          rm -rf zen.linux-aarch64.tar.xz

      - name: Upload Flatpak manifest
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: app.zen_browser.zen.yml
          path: ./app.zen_browser.zen.yml

      - name: Create pull request
        uses: peter-evans/create-pull-request@v7
        env:
          GIT_TRACE: 1
          GIT_CURL_VERBOSE: 1
        with:
          token: ${{ secrets.DEPLOY_KEY }}
          commit-message: Update to version `${{ needs.build-data.outputs.version }}`
          title: Update to version `${{ needs.build-data.outputs.version }}`
          body: |
            This PR updates the Zen Browser Flatpak package to version ${{ needs.build-data.outputs.version }}.

            @${{ github.actor }} please review and merge this PR.
          branch: update-to-${{ needs.build-data.outputs.version }}
          base: master
          git-token: ${{ secrets.DEPLOY_KEY }}
          delete-branch: true



================================================
FILE: .github/workflows/check-candidate-release.yml
================================================
name: Check Firefox Candidate Release

on:
  schedule:
    - cron: "59 4 * * 2"
  workflow_dispatch:

permissions:
  contents: read

jobs:
  check_candidates:
    runs-on: ubuntu-latest

    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Check for any updates
        env:
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
          DISCORD_PING_IDS: ${{ secrets.DISCORD_PING_IDS }}
        run: |
          python3 scripts/check_rc_response.py

  sync-upstream:
    name: Sync Upstream
    uses: ./.github/workflows/sync-upstream.yml
    permissions:
      contents: write
    secrets: inherit
    needs: [check_candidates]
    with:
      release_candidate: true



================================================
FILE: .github/workflows/clear-all-cache.yml
================================================
name: Cleanup cache
on:
  workflow_dispatch:

jobs:
  cleanup:
    runs-on: ubuntu-latest
    permissions: write-all
    steps:
      - name: Cleanup
        run: |
          echo "Fetching list of cache key"
          cacheKeysForPR=$(gh cache list --limit 1000 --json id --jq '.[].id')

          ## Setting this to not fail the workflow while deleting cache keys.
          set +e
          echo "Deleting caches..."
          for cacheKey in $cacheKeysForPR
          do
              gh cache delete $cacheKey
          done
          echo "Done"
        env:
          GH_TOKEN: ${{ github.token }}
          GH_REPO: ${{ github.repository }}



================================================
FILE: .github/workflows/code-linter.yml
================================================
name: Code Linter

on:
  push:
    branches:
      - dev
  workflow_call:

permissions:
  contents: read

jobs:
  lint:
    runs-on: ubuntu-latest
    if: ${{ !contains(github.event.head_commit.message, '[no-lint]') }}
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version-file: ".nvmrc"

      - name: Setup and run autopep8
        if: ${{ contains(join(github.event.commits.*.modified, ' '), '.py') || contains(join(github.event.commits.*.added, ' '), '.py') || contains(join(github.event.commits.*.removed, ' '), '.py') }}
        run: |
          sudo apt install python3-autopep8
          autopep8 --diff scripts/ src/

      - name: Install dependencies
        run: npm ci

      - name: Download Firefox
        env:
          ZEN_DOWNLOAD_DONT_INIT_GIT: "1"
        run: |
          npm run download

      - name: Lint
        run: npm run lint



================================================
FILE: .github/workflows/issue-labeler.yml
================================================
name: Issue labeler
on:
  issues:
    types: [opened]

permissions:
  contents: read

jobs:
  label-component:
    runs-on: ubuntu-latest

    permissions:
      # required for all workflows
      issues: write

      # only required for workflows in private repositories
      actions: read
      contents: read

    steps:
      - uses: actions/checkout@v4

      - name: Parse issue form
        uses: stefanbuck/github-issue-parser@v3
        id: issue-parser
        with:
          template-path: .github/ISSUE_TEMPLATE/bug_report.yml

      - name: Set labels based on animals field
        uses: redhat-plumbers-in-action/advanced-issue-labeler@v2
        with:
          issue-form: ${{ steps.issue-parser.outputs.jsonString }}
          token: ${{ secrets.DEPLOY_KEY }}



================================================
FILE: .github/workflows/issue-metrics.yml
================================================
name: Monthly issue metrics
permissions:
  contents: write
  issues: read
on:
  workflow_dispatch:
  schedule:
    - cron: "3 2 1 * *"

jobs:
  build:
    name: issue metrics
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2
        with:
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Get dates for last month
        shell: bash
        run: |
          # Get the current date
          current_date=$(date +'%Y-%m-%d')

          # Calculate the previous month
          previous_date=$(date -d "$current_date -1 month" +'%Y-%m-%d')

          # Extract the year and month from the previous date
          previous_year=$(date -d "$previous_date" +'%Y')
          previous_month=$(date -d "$previous_date" +'%m')

          # Calculate the first day of the previous month
          first_day=$(date -d "$previous_year-$previous_month-01" +'%Y-%m-%d')

          # Calculate the last day of the previous month
          last_day=$(date -d "$first_day +1 month -1 day" +'%Y-%m-%d')

          echo "$first_day..$last_day"
          echo "last_month=$first_day..$last_day" >> "$GITHUB_ENV"
          echo "last_month_year=$previous_year" >> "$GITHUB_ENV"

      - name: Run issue-metrics tool
        uses: github/issue-metrics@v2
        env:
          GH_TOKEN: ${{ secrets.DEPLOY_KEY }}
          HIDE_AUTHOR: true
          HIDE_TIME_TO_ANSWER: true
          SEARCH_QUERY: "repo:zen-browser/desktop is:issue created:${{ env.last_month }}"

      - name: Move metrics to docs folder
        run: |
          mkdir -p docs/issue-metrics
          rm -f docs/issue-metrics/${{ env.last_month_year }}_${{ env.last_month }}.md
          mv issue_metrics.md docs/issue-metrics/${{ env.last_month_year }}_${{ env.last_month }}.md

      - name: Remove metrisc JSON
        run: |
          rm -f issue_metrics.json

      - name: Commit changes
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "docs: Update monthly issue metrics, b=(no bug), c={docs}"
          commit_user_name: Zen Browser Robot
          commit_user_email: zen-browser-auto@users.noreply.github.com



================================================
FILE: .github/workflows/linux-release-build.yml
================================================
name: Linux Release Build

on:
  workflow_call:
    inputs:
      build-version:
        description: "The version to build"
        required: true
        type: string
      release-branch:
        description: "The branch to build"
        required: true
        type: string
      MOZ_BUILD_DATE:
        type: string
        required: true
        default: ""
      use-sccache:
        description: "Use sccache"
        required: true
        type: boolean
        default: false

jobs:
  build-linux:
    permissions:
      contents: write
    # aarch64 does not need full 16x
    runs-on: ${{ (inputs.release-branch == 'release' && matrix.arch == 'x86_64') && 'self-hosted' || 'blacksmith-8vcpu-ubuntu-2404' }}
    strategy:
      fail-fast: false
      matrix:
        arch: [x86_64, aarch64]
    env:
      SCCACHE_GHA_ENABLED: ${{ inputs.use-sccache && 'true' || 'false' }}
      CARGO_TERM_COLOR: always
      RUSTC_WRAPPER: ${{ inputs.use-sccache && 'sccache' || '' }}
      CARGO_INCREMENTAL: 0
    name: Build Linux - ${{ matrix.arch }}

    steps:
      - name: Free Disk Space (Ubuntu)
        uses: jlumbroso/free-disk-space@main
        with:
          tool-cache: false

      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Setup Node.js
        uses: useblacksmith/setup-node@v5
        with:
          node-version-file: ".nvmrc"

      - name: Run sccache-cache
        uses: mozilla-actions/sccache-action@main
        if: ${{ inputs.use-sccache }}
        with:
          disable_annotations: true

      - name: Expose actions cache variables
        uses: actions/github-script@v6
        with:
          script: |
            core.exportVariable('ACTIONS_CACHE_URL', process.env['ACTIONS_CACHE_URL'])
            core.exportVariable('ACTIONS_RUNTIME_TOKEN', process.env['ACTIONS_RUNTIME_TOKEN'])

      - name: Setup Git
        run: |
          git config --global user.email "mauro-balades@users.noreply.github.com"
          git config --global user.name "mauro-balades"

      - name: Install system dependencies
        run: |
          set -x
          sudo apt-get update --fix-missing
          sudo apt-get update
          sudo apt-get install -y python3 python3-pip dos2unix yasm nasm build-essential libgtk2.0-dev libpython3-dev m4 uuid libasound2-dev libcurl4-openssl-dev libdbus-1-dev libdrm-dev libdbus-glib-1-dev libgtk-3-dev libpulse-dev libx11-xcb-dev libxt-dev xvfb lld llvm

      - name: Install dependencies
        run: |
          npm ci

      - name: Load Surfer CI setup
        run: npm run surfer -- ci --brand ${{ inputs.release-branch }} --display-version ${{ inputs.build-version }}

      - name: Download Firefox source and dependencies
        run: npm run download

      - name: Fix Rust version
        run: |
          curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y --default-toolchain $(cat .rust-toolchain)
          source $HOME/.cargo/env

          if test "${{ matrix.arch }}" = "aarch64"; then
            rustup target add aarch64-unknown-linux-gnu
          else
            rustup target add x86_64-unknown-linux-gnu
          fi

      - name: Import
        env:
          SURFER_COMPAT: ${{ matrix.arch }}
        run: |
          . "$HOME/.cargo/env"
          npm run import

      - name: Build language packs
        run: sh scripts/download-language-packs.sh

      - name: Bootstrap
        run: |
          cd engine
          export SURFER_PLATFORM="linux"
          ./mach --no-interactive bootstrap --application-choice browser
          cd ..

      - name: Insert API Keys
        run: |
          mkdir -p ~/.zen-keys
          echo "${{ secrets.ZEN_SAFEBROWSING_API_KEY }}" > ~/.zen-keys/safebrowsing.dat

      - name: Build
        env:
          SURFER_COMPAT: ${{ matrix.arch }}
          ZEN_RELEASE_BRANCH: ${{ inputs.release-branch }}
        continue-on-error: true
        run: |
          export SURFER_PLATFORM="linux"
          if [[ -n ${{ inputs.MOZ_BUILD_DATE }} ]];then
            export MOZ_BUILD_DATE=${{ inputs.MOZ_BUILD_DATE }}
          fi
          bash .github/workflows/src/release-build.sh

      - name: Package
        env:
          SURFER_COMPAT: ${{ matrix.arch }}
          ZEN_GA_DISABLE_PGO: true
        run: |
          export SURFER_PLATFORM="linux"
          export ZEN_RELEASE=1
          npm run package

      - name: Remove API Keys
        run: |
          rm -rf ~/.zen-keys

      - name: Rename artifacts
        run: |
          mv dist/zen-*.tar.xz "zen.linux-${{ matrix.arch }}.tar.xz"
          mv dist/output.mar linux${{ matrix.arch == 'aarch64' && '-aarch64' || '' }}.mar

      - name: Upload build artifact (binary)
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: zen.linux-${{ matrix.arch }}.tar.xz
          path: ./zen.linux-${{ matrix.arch }}.tar.xz

      - name: Upload build artifact (.mar)
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: linux${{ matrix.arch == 'aarch64' && '-aarch64' || '' }}.mar
          path: ./linux${{ matrix.arch == 'aarch64' && '-aarch64' || '' }}.mar

      - name: Upload build artifact (update manifests)
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: linux_update_manifest_${{ matrix.arch }}
          path: ./dist/update



================================================
FILE: .github/workflows/macos-release-build.yml
================================================
name: macOS Release Build
permissions:
  contents: read

on:
  workflow_call:
    inputs:
      build-version:
        description: "The version to build"
        required: true
        type: string
      release-branch:
        description: "The branch to build"
        required: true
        type: string
      MOZ_BUILD_DATE:
        type: string
        required: true
        default: ""
      use-sccache:
        description: "Use sccache"
        required: true
        type: boolean
        default: false

jobs:
  mac-build:
    name: Build macOS - ${{ matrix.arch }}
    runs-on: macos-26

    strategy:
      fail-fast: false
      matrix:
        arch: [x86_64, aarch64]
    env:
      SCCACHE_GHA_ENABLED: ${{ inputs.use-sccache && 'true' || 'false' }}
      CARGO_TERM_COLOR: always
      RUSTC_WRAPPER: ${{ inputs.use-sccache && 'sccache' || '' }}
      CARGO_INCREMENTAL: 0
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version-file: ".nvmrc"

      - name: Run sccache-cache
        uses: mozilla-actions/sccache-action@main
        if: ${{ inputs.use-sccache }}
        with:
          disable_annotations: true

      - name: Expose actions cache variables
        uses: actions/github-script@v6
        with:
          script: |
            core.exportVariable('ACTIONS_CACHE_URL', process.env['ACTIONS_CACHE_URL'])
            core.exportVariable('ACTIONS_RUNTIME_TOKEN', process.env['ACTIONS_RUNTIME_TOKEN'])

      - name: Setup Python
        uses: actions/setup-python@v5
        # note: This will use the version defined in '.python-version' by default

      - name: Setup Git
        run: |
          git config --global user.email "mauro-balades@users.noreply.github.com"
          git config --global user.name "mauro-balades"

      - name: Install system dependencies
        run: |
          brew update
          brew install cairo gnu-tar mercurial
          sudo pip install setuptools

          brew uninstall --ignore-dependencies python3.12 -f

          export PATH="$(python3 -m site --user-base)/bin":$PATH
          python3 -m pip install --user mercurial

          rm '/usr/local/bin/2to3-3.11' '/usr/local/bin/2to3-3.12' '/usr/local/bin/2to3'
          rm '/usr/local/bin/idle3.11' '/usr/local/bin/idle3.12' '/usr/local/bin/idle3'
          rm '/usr/local/bin/pydoc3.11' '/usr/local/bin/pydoc3.12' '/usr/local/bin/pydoc3'
          rm '/usr/local/bin/python3.11' '/usr/local/bin/python3.12' '/usr/local/bin/python3'
          rm '/usr/local/bin/python3.11-config' '/usr/local/bin/python3.12-config' '/usr/local/bin/python3-config'

          brew install watchman

          curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y --default-toolchain $(cat .rust-toolchain)
          source $HOME/.cargo/env

          if test "${{ matrix.arch }}" = "aarch64"; then
            rustup target add aarch64-apple-darwin
          else
            rustup target add x86_64-apple-darwin
          fi

      - name: Force usage of gnu-tar
        run: |
          echo 'export PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH"' >> ~/.bash_profile
          echo 'export PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH"' >> ~/.zsh
          source ~/.bash_profile

      - name: Install dependencies
        run: |
          npm ci

      - name: Load surfer CI setup
        run: npm run surfer -- ci --brand ${{ inputs.release-branch }} --display-version ${{ inputs.build-version }}

      - name: Download Firefox source and dependencies
        run: npm run download

      - name: Import
        env:
          SURFER_COMPAT: ${{ matrix.arch }}
        run: npm run import -- --verbose

      - name: Bootstrap
        run: |
          cd engine
          export SURFER_PLATFORM="darwin"
          export PATH="$(python3 -m site --user-base)/bin":$PATH
          # Always exist with 0, even if bootstrap fails
          ./mach --no-interactive bootstrap --application-choice browser --exclude macos-sdk || true
          cd ..
          ls /Library/Developer/CommandLineTools/SDKs/MacOSX26.2.sdk

      - name: Build language packs
        run: sh scripts/download-language-packs.sh

      - name: Insert API Keys
        run: |
          mkdir -p ~/.zen-keys
          echo "${{ secrets.ZEN_SAFEBROWSING_API_KEY }}" > ~/.zen-keys/safebrowsing.dat

      - name: Build Zen
        env:
          SURFER_COMPAT: ${{ matrix.arch }}
          ZEN_RELEASE_BRANCH: ${{ inputs.release-branch }}
        run: |
          export SURFER_PLATFORM="darwin"
          if [[ -n ${{ inputs.MOZ_BUILD_DATE }} ]];then
            export MOZ_BUILD_DATE=${{ inputs.MOZ_BUILD_DATE }}
          fi
          bash .github/workflows/src/release-build.sh

      - name: Package
        env:
          SURFER_COMPAT: ${{ matrix.arch }}
          ZEN_GA_DISABLE_PGO: true
        run: |
          export SURFER_PLATFORM="darwin"
          export ZEN_RELEASE=1
          npm run package

      - name: Remove API Keys
        run: |
          rm -rf ~/.zen-keys

      - name: Rename artifacts
        run: |
          echo "Tarballing DMG"
          set -ex
          mv ./dist/*.dmg ./zen-${{ matrix.arch }}-apple-darwin-dist.dmg
          mv ./engine/obj-${{ matrix.arch }}-apple-darwin/dist/host/bin/mar ./zen-macos-host-mar
          mv ./engine/obj-${{ matrix.arch }}-apple-darwin/dist/bin/platform.ini ./platform.ini

      - name: Upload dist dmg
        uses: actions/upload-artifact@v4
        with:
          retention-days: 1
          name: zen-${{ matrix.arch }}-apple-darwin-dist.dmg
          path: ./zen-${{ matrix.arch }}-apple-darwin-dist.dmg

      - name: Upload host mar
        uses: actions/upload-artifact@v4
        if: matrix.arch == 'aarch64'
        with:
          retention-days: 1
          name: zen-macos-host-mar
          path: ./zen-macos-host-mar

      - name: Upload platform.ini
        uses: actions/upload-artifact@v4
        if: matrix.arch == 'x86_64'
        with:
          retention-days: 1
          name: platform.ini
          path: ./platform.ini



================================================
FILE: .github/workflows/macos-universal-release-build.yml
================================================
name: macOS Release Build

on:
  workflow_call:
    inputs:
      build-version:
        description: "The version to build"
        required: true
        type: string
      release-branch:
        description: "The branch to build"
        required: true
        type: string

jobs:
  mac-build:
    name: Unify macOS (Universal)
    runs-on: "macos-26"

    strategy:
      fail-fast: false

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version-file: ".nvmrc"

      - name: Setup Python
        uses: actions/setup-python@v5
        # note: This will use the version defined in '.python-version' by default

      - name: Setup Git
        run: |
          git config --global user.email "mauro-balades@users.noreply.github.com"
          git config --global user.name "mauro-balades"

      - name: Install system dependencies
        run: |
          brew update
          brew install cairo gnu-tar mercurial
          sudo pip install setuptools

          brew uninstall --ignore-dependencies python3.12 -f

          export PATH="$(python3 -m site --user-base)/bin":$PATH
          python3 -m pip install --user mercurial

          rm '/usr/local/bin/2to3-3.11' '/usr/local/bin/2to3-3.12' '/usr/local/bin/2to3'
          rm '/usr/local/bin/idle3.11' '/usr/local/bin/idle3.12' '/usr/local/bin/idle3'
          rm '/usr/local/bin/pydoc3.11' '/usr/local/bin/pydoc3.12' '/usr/local/bin/pydoc3'
          rm '/usr/local/bin/python3.11' '/usr/local/bin/python3.12' '/usr/local/bin/python3'
          rm '/usr/local/bin/python3.11-config' '/usr/local/bin/python3.12-config' '/usr/local/bin/python3-config'

          brew install watchman

          cargo install apple-codesign

      - name: Force usage of gnu-tar
        run: |
          echo 'export PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH"' >> ~/.bash_profile
          echo 'export PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH"' >> ~/.zsh
          source ~/.bash_profile

      - name: Install dependencies
        run: |
          npm ci

      - name: Load surfer CI setup
        run: npm run surfer -- ci --brand ${{ inputs.release-branch }} --display-version ${{ inputs.build-version }}

      - name: Download Firefox source and dependencies
        run: npm run download

      - name: Bootstrap
        run: |
          cd engine
          export SURFER_PLATFORM="darwin"
          export PATH="$(python3 -m site --user-base)/bin":$PATH
          ./mach --no-interactive bootstrap --application-choice browser --no-system-changes || true
          cd ..

      - name: Import
        run: npm run import

      - name: Populate mozconfig
        env:
          SURFER_MOZCONFIG_ONLY: true
          ZEN_RELEASE: 1
        run: |
          npm run build
          cd engine
          ./mach configure

      - name: Download x86_64 DMG from artifacts
        uses: actions/download-artifact@v4
        with:
          name: zen-x86_64-apple-darwin-dist.dmg

      - name: Download aarch64 DMG from artifacts
        uses: actions/download-artifact@v4
        with:
          name: zen-aarch64-apple-darwin-dist.dmg

      - name: Remove any existing .app folders
        run: |
          set -x
          cd engine
          rm -rf "./obj-x86_64-apple-darwin/" || true
          rm -rf "./obj-aarch64-apple-darwin/" || true

      - name: Extract .app from dmg
        run: |
          set -ex
          cd engine
          echo "Extracting x86_64 .app from dmg"
          mkdir -p ./obj-x86_64-apple-darwin/dist
          mkdir -p ./obj-aarch64-apple-darwin/dist
          ./mach python -m mozbuild.action.unpack_dmg \
            ../zen-x86_64-apple-darwin-dist.dmg \
            ./obj-x86_64-apple-darwin/dist
          echo "Extracting aarch64 .app from dmg"
          ./mach python -m mozbuild.action.unpack_dmg \
            ../zen-aarch64-apple-darwin-dist.dmg \
            ./obj-aarch64-apple-darwin/dist

      - name: Find first .app folder name
        run: |
          cd engine/obj-x86_64-apple-darwin/dist
          export APP_NAME=${{ inputs.release-branch == 'twilight' && 'Twilight' || 'Zen' }}
          echo "APP_NAME=$APP_NAME" >> $GITHUB_ENV
          echo "APP_NAME=$APP_NAME"

      - name: List .app folders
        run: |
          ls engine/
          echo "--------------------"
          cd engine/obj-x86_64-apple-darwin/dist
          find . -maxdepth 1 -name "*.app" -type d
          cd ../..

      - name: create .p12 for codesign 🖊️
        run: |
          cd engine
          echo "${{ secrets.macOS_CERTIFICATES_P12_For_App_BASE64 }}" > cert.txt
          base64 --decode -i cert.txt -o zenCert.p12
          echo "${{ secrets.macOS_CERTIFICATES_P12_PASSWORD }}" > zenpCertPassword.passwd

      - name: Remove certificate sensitive information
        run: |
          rm engine/cert.txt || true

      - name: Import provisioning profile for .app
        run: |
          echo "${{ secrets.macOS_PROVISIONING_PROFILE }}" | base64 --decode > ./engine/Zen_Browser.provisionprofile
          ls -la

      - name: Unify architectures
        run: |
          cd engine
          ./mach python "./toolkit/mozapps/installer/unify.py" "./obj-x86_64-apple-darwin/dist/${{ env.APP_NAME }}.app" "./obj-aarch64-apple-darwin/dist/${{ env.APP_NAME }}.app"
          echo "Merged aaarch64 into x86_64!"

      - name: Import APPLE DEVELOPER ID CERTIFICATE for .app
        uses: Apple-Actions/import-codesign-certs@v3
        with:
          p12-file-base64: ${{ secrets.macOS_CERTIFICATES_P12_For_App_BASE64 }}
          p12-password: ${{ secrets.macOS_CERTIFICATES_P12_PASSWORD }}

      - name: Copy provisioning profile for .app (embedded in .app)
        run: |
          cd engine
          echo "Copying provisioning profile for .app on both architectures (${{ env.APP_NAME }})"
          cp ./Zen_Browser.provisionprofile "./embedded.provisionprofile"

      - name: Sign .app
        run: |
          cd engine
          # TODO: Change it to "production" once we figure out the issue with the webauth
          ./mach macos-sign -v -r -c "release" -e "production" -a "./obj-x86_64-apple-darwin/dist/${{ env.APP_NAME }}.app" --rcodesign-p12-file zenCert.p12 --rcodesign-p12-password-file zenpCertPassword.passwd

      - name: Create DMG
        run: |
          cd engine
          ./mach python -m mozbuild.action.make_dmg \
            --volume-name "${{ env.APP_NAME }}" \
            --background ./browser/branding/${{ inputs.release-branch }}/background.png \
            --icon ./browser/branding/${{ inputs.release-branch }}/firefox.icns \
            --dsstore ./browser/branding/${{ inputs.release-branch }}/dsstore \
            ./obj-x86_64-apple-darwin/dist/ ../zen-macOS-universal-temp.dmg

      - name: Remove sensitive information
        run: |
          rm -f ./engine/Zen_Browser.provisionprofile

      - name: Sign .dmg
        run: |
          set -ex
          hdiutil convert zen-macOS-universal-temp.dmg -format UDZO -imagekey zlib-level=9 -o zen.macos-universal.dmg
          codesign -s "${{ secrets.macOS_AppleDeveloperId }}" zen.macos-universal.dmg
          xcrun notarytool submit "zen.macos-universal.dmg" \
            --apple-id "${{ secrets.macOS_AppleAccountId }}" \
            --team-id "${{ secrets.macOS_AppleDeveloperIdTeamId }}" \
            --password "${{ secrets.macOS_AppleDeveloperIdPassword }}" \
            --no-s3-acceleration \
            --wait
          xcrun stapler staple "zen.macos-universal.dmg"

      - name: Download host mar
        uses: actions/download-artifact@v4
        with:
          name: zen-macos-host-mar

      - name: Upload build artifact
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: zen.macos-universal.dmg
          path: ./zen.macos-universal.dmg

      - name: Download platform.ini
        uses: actions/download-artifact@v4
        with:
          name: platform.ini

      - name: Package for mar
        env:
          JUST_MAR: true
        run: |
          # we don't need it anymore
          set -ex
          rm -rf ./engine/obj-aarch64-apple-darwin
          mkdir -p ./engine/obj-x86_64-apple-darwin/dist/bin
          mv ./platform.ini ./engine/obj-x86_64-apple-darwin/dist/bin/platform.ini
          export SURFER_PLATFORM="darwin"
          export ZEN_RELEASE=1
          # full path to zen-macos-host-mar
          export MAR=$(pwd)/zen-macos-host-mar
          chmod +x $MAR
          echo "MAR=$MAR"
          npm run package -- --verbose
          mv ./dist/output.mar ./macos.mar

      - name: Upload build artifact (.mar)
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: macos.mar
          path: ./macos.mar

      - name: Upload build artifact (update manifests)
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: macos_update_manifest
          path: ./dist/update



================================================
FILE: .github/workflows/pr-test.yml
================================================
name: Pull request test
permissions:
  contents: read

on:
  pull_request:
    branches:
      - dev

jobs:
  pr-test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version-file: ".nvmrc"

      - name: Install dependencies
        run: npm ci

      - name: Download Firefox and dependencies
        env:
          ZEN_DOWNLOAD_DONT_INIT_GIT: "1"
        run: npm run download

      - name: Import patches
        run: npm run import

      - name: Run linting
        run: npm run lint



================================================
FILE: .github/workflows/sync-upstream.yml
================================================
name: Sync Upstream Firefox Releases

on:
  workflow_dispatch:
    inputs:
      release_candidate:
        description: "Set to true to sync release candidates"
        required: false
        type: boolean
        default: false
  workflow_call:
    inputs:
      release_candidate:
        description: "Set to true to sync release candidates"
        required: false
        type: boolean
        default: false

permissions:
  contents: write

jobs:
  check_candidates:
    name: Sync Upstream
    runs-on: ubuntu-latest

    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Check if upstream branch already exists
        id: check-upstream-branch
        run: |
          if git ls-remote --heads origin chore/upstream-sync | grep -sw "refs/heads/chore/upstream-sync" > /dev/null; then
            echo "branch_exists=true" >> $GITHUB_OUTPUT
          else
            echo "branch_exists=false" >> $GITHUB_OUTPUT
          fi

      - name: Setup Node.js
        uses: actions/setup-node@v4
        if: steps.check-upstream-branch.outputs.branch_exists == 'false'
        with:
          node-version-file: ".nvmrc"

      - name: Install dependencies
        if: steps.check-upstream-branch.outputs.branch_exists == 'false'
        run: npm ci

      - name: Install dependencies
        if: steps.check-upstream-branch.outputs.branch_exists == 'false'
        run: |
          git config --global user.email "mr-cheffy@users.noreply.github.com"
          git config --global user.name "mr-cheffy"

      - name: Setup surfer CI
        if: steps.check-upstream-branch.outputs.branch_exists == 'false'
        run: |
          if [ "${{ github.event.inputs.release_candidate }}" = "false" ]; then
            npm run surfer -- ci --brand release 
          fi

      - name: Download Firefox and dependencies
        if: steps.check-upstream-branch.outputs.branch_exists == 'false'
        run: npm run download

      - name: Sync Upstream Releases
        if: steps.check-upstream-branch.outputs.branch_exists == 'false'
        run: |
          if [ "${{ github.event.inputs.release_candidate }}" = "true" ]; then
            npm run sync:rc
          else
            npm run sync
          fi

      - name: Install autopep8
        run: sudo apt install python3-autopep8

      - name: Check if any files changed
        id: git-check
        run: |
          npm run pretty
          if [ -n "$(git status --porcelain)" ]; then
            echo "files_changed=true" >> $GITHUB_OUTPUT
          else
            echo "files_changed=false" >> $GITHUB_OUTPUT
          fi

      - name: Get Firefox Version
        id: build-data
        if: steps.git-check.outputs.files_changed == 'true'
        run: |
          if [ "${{ github.event.inputs.release_candidate }}" = "true" ]; then
            VERSION=$(node -pe "require('./surfer.json').version.candidate")
          else
            VERSION=$(node -pe "require('./surfer.json').version.version")
          fi
          echo "version=$VERSION" >> $GITHUB_OUTPUT

      - name: Check if patches got applied
        if: steps.git-check.outputs.files_changed == 'true'
        id: check-patches
        continue-on-error: true
        run: |
          echo "Checking if patches apply cleanly..."
          npm run import

      - name: Import external tests
        if: steps.git-check.outputs.files_changed == 'true'
        run: python3 scripts/import_external_tests.py || true

      - name: Import external patches
        if: steps.git-check.outputs.files_changed == 'true'
        run: python3 scripts/import_external_patches.py || true

      - name: Run formatter
        if: steps.check-upstream-branch.outputs.branch_exists == 'false'
        run: |
          npm run pretty

      - name: Create pull request
        uses: peter-evans/create-pull-request@v7
        if: steps.git-check.outputs.files_changed == 'true'
        env:
          GIT_TRACE: 1
          GIT_CURL_VERBOSE: 1
        with:
          token: ${{ secrets.DEPLOY_KEY }}
          commit-message: "chore: Sync upstream to `Firefox ${{ steps.build-data.outputs.version }}`"
          branch: "chore/upstream-sync"
          title: "Sync upstream Firefox to version ${{ steps.build-data.outputs.version }}"
          body: |
            This PR syncs the upstream Firefox to version ${{ steps.build-data.outputs.version }}.

            * ${{ steps.check-patches.outcome == 'failure' && '⚠️ Some patches did not apply cleanly. Please review them carefully.' || '✅ All patches applied cleanly.' }}

            @${{ github.actor }} please review and merge this PR.
          base: dev
          git-token: ${{ secrets.DEPLOY_KEY }}
          delete-branch: true



================================================
FILE: .github/workflows/twilight-release-schedule.yml
================================================
name: Zen Twilight Scheduled Releases

on:
  schedule:
    - cron: "0 23 * * *"
  workflow_dispatch:
    inputs:
      create_release:
        description: "Whether to do a release"
        required: false
        type: boolean
        default: true

jobs:
  twilight-release-schedule:
    name: Twilight Release Schedule
    permissions: write-all
    secrets: inherit
    uses: ./.github/workflows/build.yml
    with:
      create_release: ${{ github.event_name != 'workflow_dispatch' && true || inputs.create_release }}
      update_branch: twilight
      use-sccache: false
      update_version: false

  post-build:
    name: Post Build
    runs-on: ubuntu-latest
    needs: twilight-release-schedule
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version-file: ".nvmrc"



================================================
FILE: .github/workflows/windows-profile-build.yml
================================================
name: Windows PGO Builds

permissions:
  contents: read

on:
  workflow_call:
    inputs:
      build-version:
        description: "The version to build"
        required: true
        type: string
      profile-data-path-archive:
        description: "The path to the zip archive containing the profile data"
        required: false
        type: string
      release-branch:
        description: "The branch to build"
        required: true
        type: string

jobs:
  windows-profile-build:
    name: |
      Windows Profile Build - ${{ matrix.arch }}
    strategy:
      fail-fast: false
      matrix:
        arch: [x86_64, aarch64]

    runs-on: ${{ inputs.release-branch == 'release' && 'windows-latest' || 'windows-latest' }}

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version-file: ".nvmrc"

      - name: Setup Git
        run: |
          git config --global user.email "mauro-balades@users.noreply.github.com"
          git config --global user.name "mauro-balades"

      - name: Install Surfer
        run: npm i -g @zen-browser/surfer

      - name: Load Surfer CI setup
        run: npm run surfer -- ci --brand ${{ inputs.release-branch }} --display-version ${{ inputs.build-version }}

      - name: Download artifact
        if: ${{ matrix.arch == 'x86_64' }}
        uses: actions/download-artifact@v4
        with:
          path: C:\artifact
          name: ${{ matrix.arch == 'aarch64' && 'arm64' || matrix.arch }}-zen-windows-profile-data-and-jarlog.zip

      - name: Unpack artifact
        if: ${{ matrix.arch == 'x86_64' }}
        run: |
          cd C:\artifact
          ls
          Expand-Archive -Path .\${{ inputs.profile-data-path-archive }} -DestinationPath C:\artifact
          ls

      - name: Setup
        run: |
          (New-Object System.Net.WebClient).DownloadFile("https://ftp.mozilla.org/pub/mozilla/libraries/win32/MozillaBuildSetup-Latest.exe", "C:\MozillaBuildSetup-Latest.exe")
          C:\MozillaBuildSetup-Latest.exe /S | out-null

      - name: Download Firefox and dependencies
        if: ${{ matrix.arch == 'x86_64' }}
        run: |
          git config --global core.safecrlf false
          npm run download

      - name: Import patches
        if: ${{ matrix.arch == 'x86_64' }}
        env:
          SURFER_NO_BRANDING_PATCH: true
        run: npm run import

      - name: Generate
        if: ${{ matrix.arch == 'x86_64' }}
        run: |
          ls
          $Env:USE_MINTTY = "0"
          $workspace_dir_current = [regex]::replace($env:GITHUB_WORKSPACE, "^([A-Z]):", { "/" + $args.value.Substring(0, 1).toLower() }) -replace "\\", "/"
          $workspace_dir = $workspace_dir_current + "/engine"
          echo $workspace_dir
          echo "cd $workspace_dir" '' >> mozilla-build-run.sh
          echo 'export PATH=/c/mozilla-build/msys2/usr/bin:$PATH' '' >> mozilla-build-run.sh
          echo './mach --no-interactive bootstrap --application-choice browser' '' >> mozilla-build-run.sh
          echo 'LLVM_PROFDATA=/c/Users/runneradmin/.mozbuild/clang/bin/llvm-profdata.exe JARLOG_FILE=en-US.log ./mach python build/pgo/profileserver.py --binary /c/artifact/zen/zen.exe' '' >> mozilla-build-run.sh
          C:\mozilla-build\start-shell.bat $workspace_dir_current\mozilla-build-run.sh

      - name: Move profile data
        if: ${{ matrix.arch == 'x86_64' }}
        run: |
          dir
          dir engine
          mv engine/merged.profdata merged.profdata
          mv engine/en-US.log en-US.log

      - name: Upload artifacts
        if: ${{ matrix.arch == 'x86_64' }}
        uses: actions/upload-artifact@v4
        with:
          retention-days: 1
          path: |
            merged.profdata
            en-US.log
          name: windows-profdata-${{ matrix.arch == 'aarch64' && 'arm64' || matrix.arch }}



================================================
FILE: .github/workflows/windows-release-build.yml
================================================
name: Windows Release Build

permissions:
  contents: read

on:
  workflow_call:
    inputs:
      generate-gpo:
        required: true
        type: boolean
        default: false
      build-version:
        description: "The version to build"
        required: true
        type: string
      profile-data-path-archive:
        description: "The path to the zip archive containing the profile data"
        type: string
      release-branch:
        description: "The branch to build"
        required: true
        type: string
      MOZ_BUILD_DATE:
        type: string
        required: true
        default: ""
      use-sccache:
        description: "Use sccache"
        required: true
        type: boolean
        default: false

jobs:
  windows-build:
    name: Build Windows - ${{ matrix.arch }}
    # aarch64 does not need full 16x, and we also dont use full LTO when generating GPO
    runs-on: ${{ (inputs.release-branch == 'release' && !inputs.generate-gpo && matrix.arch == 'x86_64') && 'self-hosted' || 'blacksmith-8vcpu-ubuntu-2404' }}
    env:
      SCCACHE_GHA_ENABLED: ${{ inputs.use-sccache && 'true' || 'false' }}
      CARGO_TERM_COLOR: always
      RUSTC_WRAPPER: ${{ inputs.use-sccache && 'sccache' || '' }}
      CARGO_INCREMENTAL: 0
    strategy:
      fail-fast: false
      matrix:
        arch: [x86_64, aarch64]

    steps:
      - name: Free Disk Space (Ubuntu)
        uses: jlumbroso/free-disk-space@main
        if: ${{ !(inputs.generate-gpo && matrix.arch == 'aarch64') }}
        with:
          tool-cache: false

      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: recursive
          token: ${{ secrets.DEPLOY_KEY }}

      - name: Setup Node.js
        uses: useblacksmith/setup-node@v5
        with:
          node-version-file: ".nvmrc"

      - name: Run sccache-cache
        uses: mozilla-actions/sccache-action@main
        if: ${{ inputs.use-sccache }}
        with:
          disable_annotations: true

      - name: Expose actions cache variables
        uses: actions/github-script@v6
        with:
          script: |
            core.exportVariable('ACTIONS_CACHE_URL', process.env['ACTIONS_CACHE_URL'])
            core.exportVariable('ACTIONS_RUNTIME_TOKEN', process.env['ACTIONS_RUNTIME_TOKEN'])

      - name: Setup Git
        run: |
          git config --global user.email "mauro-balades@users.noreply.github.com"
          git config --global user.name "mauro-balades"

      - name: Install dependencies
        run: |
          npm ci
          sudo apt-get update
          sudo apt-get install -y python3 python3-pip dos2unix yasm nasm build-essential libgtk2.0-dev libpython3-dev m4 uuid libasound2-dev libcurl4-openssl-dev libdbus-1-dev libdrm-dev libdbus-glib-1-dev libgtk-3-dev libpulse-dev libx11-xcb-dev libxt-dev xvfb lld llvm --fix-missing

      - name: Load Surfer CI setup
        run: npm run surfer -- ci --brand ${{ inputs.release-branch }} --display-version ${{ inputs.build-version }}

      - name: Download Firefox and dependencies
        if: ${{ !(inputs.generate-gpo && matrix.arch == 'aarch64') }}
        run: npm run download

      - name: win-cross Cache
        env:
          SEGMENT_DOWNLOAD_TIMEOUT_MINS: 5
        id: cache-win-cross
        uses: useblacksmith/cache@v5
        with:
          path: ${HOME}/win-cross
          key: win-cross

      - name: Setup for Windows
        if: steps.cache-win-cross.outputs.cache-hit != 'true' && !(inputs.generate-gpo && matrix.arch == 'aarch64')
        run: |
          set -x
          mkdir -p ~/win-cross
          cd engine/
          sudo apt-get install python3-launchpadlib
          sudo add-apt-repository ppa:savoury1/backports
          sudo apt-get update
          sudo apt-get install -y python3-pip autoconf \
            autoconf2.13 \
            automake \
            bison \
            build-essential \
            cabextract \
            curl \
            cmake \
            flex \
            gawk \
            gcc-multilib \
            git \
            gnupg \
            jq \
            libbz2-dev \
            libexpat1-dev \
            libffi-dev \
            libncursesw5-dev \
            libsqlite3-dev \
            libssl-dev \
            libtool \
            libucl-dev \
            libxml2-dev \
            msitools \
            ninja-build \
            openssh-client \
            p7zip-full \
            pkg-config \
            procps \
            python3-requests \
            python3-toml \
            scons \
            subversion \
            tar \
            unzip \
            uuid \
            uuid-dev \
            wget \
            zip \
            zlib1g-dev \
            aria2
          echo Setup wine
          aria2c "https://firefox-ci-tc.services.mozilla.com/api/index/v1/task/gecko.cache.level-1.toolchains.v3.linux64-wine.latest/artifacts/public%2Fbuild%2Fwine.tar.zst" -o wine.tar.zst
          tar --zstd -xf wine.tar.zst -C ~/win-cross
          rm wine.tar.zst
          echo Setup Visual Studio
          ./mach python --virtualenv build taskcluster/scripts/misc/get_vs.py build/vs/vs2022.yaml ~/win-cross/vs2022

      - name: Import
        if: ${{ !(inputs.generate-gpo && matrix.arch == 'aarch64') }}
        env:
          SURFER_COMPAT: ${{ matrix.arch }}
        run: |
          . "$HOME/.cargo/env"
          npm run import -- --verbose

      - name: Bootstrap
        if: ${{ !(inputs.generate-gpo && matrix.arch == 'aarch64') }}
        run: |
          set -x
          cd engine/
          chmod -R +x "$(echo ~)/win-cross/vs2022" || true
          cd ..
          export SURFER_PLATFORM="win32"
          npm run bootstrap
          cd engine/
          ls ~/.mozbuild/clang/lib/clang/
          echo "export LIB=\"$(cd ~/.mozbuild/clang/lib/clang/* && cd lib/windows && pwd)\"" >> ../configs/common/mozconfig
          cat ../configs/common/mozconfig
          sudo apt-get update
          sudo apt-get install dos2unix
          ls ~/win-cross/wine || true
          ls ~/win-cross/vs2022 || true

      - name: Setup Rust
        if: ${{ !(inputs.generate-gpo && matrix.arch == 'aarch64') }}
        run: |
          curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y --default-toolchain $(cat .rust-toolchain)
          source $HOME/.cargo/env
          if test "${{ matrix.arch }}" = "aarch64"; then
            rustup target add aarch64-pc-windows-msvc
          else
            rustup target add x86_64-pc-windows-msvc
          fi
          # Stored in build/windows/.windows-rs-version
          WINDOWS_RS_VERSION=$(cat build/windows/.windows-rs-version)
          cd engine/
          cargo install cargo-download --locked
          cargo download -x windows=$WINDOWS_RS_VERSION
          export CARGO_INCREMENTAL=0
          echo "" >> ../configs/common/mozconfig
          echo "export MOZ_WINDOWS_RS_DIR=$(pwd)/windows-$WINDOWS_RS_VERSION" >> ../configs/common/mozconfig

      - name: Build language packs
        if: ${{ !(inputs.generate-gpo && matrix.arch == 'aarch64') }}
        run: sh scripts/download-language-packs.sh

      - name: Download artifact (if use profdata)
        uses: actions/download-artifact@v4
        if: ${{ !inputs.generate-gpo && matrix.arch == 'x86_64' }}
        with:
          path: ~/artifact
          name: windows-profdata-${{ matrix.arch == 'aarch64' && 'arm64' || matrix.arch }}

      - name: Show artifact info
        if: ${{ !inputs.generate-gpo && matrix.arch == 'x86_64' }}
        run: |
          ls ~/artifact
          ls ~/artifact/en-US.log
          ls ~/artifact/merged.profdata
          chmod +x ~/artifact/en-US.log
          chmod +x ~/artifact/merged.profdata

      - name: Insert API Keys
        run: |
          mkdir -p ~/.zen-keys
          echo "${{ secrets.ZEN_SAFEBROWSING_API_KEY }}" > ~/.zen-keys/safebrowsing.dat

      - name: Build
        if: ${{ !(inputs.generate-gpo && matrix.arch == 'aarch64') }}
        env:
          SURFER_COMPAT: ${{ matrix.arch }}
          ZEN_RELEASE_BRANCH: ${{ inputs.release-branch }}
        run: |
          set -x
          dos2unix configs/windows/mozconfig
          export SURFER_PLATFORM="win32"
          export ZEN_CROSS_COMPILING=1
          if test ${{ inputs.generate-gpo }} = true; then
            export ZEN_GA_GENERATE_PROFILE=1
          fi
          if [[ -n ${{ inputs.MOZ_BUILD_DATE }} ]];then
            export MOZ_BUILD_DATE=${{ inputs.MOZ_BUILD_DATE }}
          fi
          bash .github/workflows/src/release-build.sh

      - name: Package
        if: ${{ !(inputs.generate-gpo && matrix.arch == 'aarch64') }}
        env:
          SURFER_COMPAT: ${{ matrix.arch }}
          ZEN_GA_DISABLE_PGO: true
        run: |
          set -x
          export SURFER_PLATFORM="win32"
          export ZEN_CROSS_COMPILING=1
          export ZEN_RELEASE=1
          npm run package
          mv ./dist/zen-$(npm run --silent surfer -- get version | xargs).en-US.win64${{ matrix.arch == 'aarch64' && '-aarch64' || '' }}.zip zen.win64.zip
          ls ./dist
          ls .

      - name: Remove API Keys
        run: |
          rm -rf ~/.zen-keys

      - name: Move package for PGO upload
        if: ${{ inputs.generate-gpo && matrix.arch == 'x86_64' }}
        run: |
          set -x
          mv ./zen.win64.zip ./zen.win64-pgo-stage-1.zip

      - name: Rename artifacts
        if: ${{ !inputs.generate-gpo }}
        run: |
          mv ./zen.win64.zip zen.win-${{ matrix.arch == 'aarch64' && 'arm64' || matrix.arch }}.zip
          mv ./dist/output.mar windows${{ matrix.arch == 'aarch64' && '-arm64' || '' }}.mar
          mv ./dist/zen.installer.exe ./zen.installer${{ matrix.arch == 'aarch64' && '-arm64' || '' }}.exe

      - name: Upload artifact (PGO)
        uses: actions/upload-artifact@v4
        if: ${{ inputs.generate-gpo && matrix.arch == 'x86_64' }}
        with:
          retention-days: 5
          name: ${{ matrix.arch == 'aarch64' && 'arm64' || matrix.arch }}-${{ inputs.profile-data-path-archive }}
          path: ./zen.win64-pgo-stage-1.zip

      - name: Remove unnecessary files from obj
        if: ${{ !inputs.generate-gpo }}
        run: |
          set -x
          mkdir obj-${{ matrix.arch }}-pc-windows-msvc/

          rm -rf engine/obj-${{ matrix.arch }}-pc-windows-msvc/_tests
          rm -rf engine/obj-${{ matrix.arch }}-pc-windows-msvc/config/autoconf.mk
          rm -rf engine/obj-${{ matrix.arch }}-pc-windows-msvc/config.statusd/substs/
          rm -rf engine/obj-${{ matrix.arch }}-pc-windows-msvc/dist/install

          find engine/obj-${{ matrix.arch }}-pc-windows-msvc/dist -maxdepth 1 -type f -name "*.zip" -delete

          cp -r --no-dereference engine/obj-${{ matrix.arch }}-pc-windows-msvc/* obj-${{ matrix.arch }}-pc-windows-msvc/ || true

      - name: Upload dist object
        if: ${{ !inputs.generate-gpo }}
        uses: actions/upload-artifact@v4
        with:
          retention-days: 2
          name: windows-x64-obj-${{ matrix.arch == 'aarch64' && 'arm64' || matrix.arch }}
          path: obj-${{ matrix.arch }}-pc-windows-msvc

      - name: Upload artifact (if Twilight branch, binary)
        if: ${{ inputs.release-branch == 'twilight' && !inputs.generate-gpo }}
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: zen.win-${{ matrix.arch == 'aarch64' && 'arm64' || matrix.arch }}.zip
          path: ./zen.win-${{ matrix.arch == 'aarch64' && 'arm64' || matrix.arch }}.zip

      - name: Upload artifact (if Twilight branch, installer)
        if: ${{ inputs.release-branch == 'twilight' && !inputs.generate-gpo }}
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: zen.installer${{ matrix.arch == 'aarch64' && '-arm64' ||  '' }}.exe
          path: ./zen.installer${{ matrix.arch == 'aarch64' && '-arm64' || '' }}.exe

      - name: Upload artifact (if Twilight branch, .mar)
        if: ${{ inputs.release-branch == 'twilight' && !inputs.generate-gpo }}
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: windows${{ matrix.arch == 'aarch64' && '-arm64' || '' }}.mar
          path: ./windows${{ matrix.arch == 'aarch64' && '-arm64' || '' }}.mar

      - name: Upload artifact (if Twilight branch, update manifests)
        if: ${{ inputs.release-branch == 'twilight' && !inputs.generate-gpo }}
        uses: actions/upload-artifact@v4
        with:
          retention-days: 5
          name: windows_update_manifest_${{ matrix.arch == 'aarch64' && 'arm64' || matrix.arch }}
          path: ./dist/update



================================================
FILE: .github/workflows/src/generate_release_notes.sh
================================================
#!/usr/bin/env bash
RELEASE_NOTES_URL="https://raw.githubusercontent.com/zen-browser/www/refs/heads/main/src/release-notes/stable.json"

if [ "$RELEASE_BRANCH" = "release" ]; then
  RELEASE_TYPE="Stable"

  echo "Fetching release notes from GitHub..."
  RELEASE_NOTES_JSON=$(curl -s --retry 5 --retry-delay 5 "$RELEASE_NOTES_URL")

  if [ -z "$RELEASE_NOTES_JSON" ]; then
    echo "Error: Failed to fetch release notes from GitHub"
    exit 1
  fi

  LATEST_RELEASE=$(echo "$RELEASE_NOTES_JSON" | jq -r 'last')
  EXTRA_NOTES=$(echo "$LATEST_RELEASE" | jq -r '.extra // ""')
else
  RELEASE_TYPE="Twilight"
fi

{
  echo "# Zen ${RELEASE_TYPE} Release"

  if [ "$RELEASE_TYPE" = "Twilight" ]; then
    echo
    echo "> [!NOTE]"
    echo "> You're currently in Twilight mode, this means you're downloading the latest experimental features and updates."
    echo ">"
    echo "> If you encounter any issues, please report them on the [issues page](https://github.com/zen-browser/desktop/issues)."
  fi

  if [ "$RELEASE_TYPE" = "Stable" ]; then
    echo "${EXTRA_NOTES}"

    if echo "$LATEST_RELEASE" | jq -e '.security != null and .security != ""' > /dev/null; then
      echo
      echo "## Security"
      echo "[Various security fixes]($(echo "$LATEST_RELEASE" | jq -r '.security'))"
    fi

    if echo "$LATEST_RELEASE" | jq -e '(.features // []) | length > 0' > /dev/null; then
      echo
      echo "## New Features"
      echo "$LATEST_RELEASE" | jq -r '.features[] | "- " + .'
    fi

    if echo "$LATEST_RELEASE" | jq -e '(.fixes // []) | length > 0' > /dev/null; then
      echo
      echo "## Fixes"
      echo "$LATEST_RELEASE" | jq -r '.fixes[] | if type=="object" then "- " + .description + " ([#" + (.issue|tostring) + "](" + "https://github.com/zen-browser/desktop/issues/" + (.issue|tostring) + "))" else "- " + . end'
    fi

    if echo "$LATEST_RELEASE" | jq -e '(.breakingChanges // []) | length > 0' > /dev/null; then
      echo
      echo "## Breaking Changes"
      echo "$LATEST_RELEASE" | jq -r '.breakingChanges[] | if type=="string" then "- " + . else "- " + .description + " [Learn more](" + .link + ")" end'
    fi

    if echo "$LATEST_RELEASE" | jq -e '(.themeChanges // []) | length > 0' > /dev/null; then
      echo
      echo "## Theme Changes"
      echo "$LATEST_RELEASE" | jq -r '.themeChanges[] | "- " + .'
    fi

    if echo "$LATEST_RELEASE" | jq -e '(.changes // []) | length > 0' > /dev/null; then
      echo
      echo "## Changes"
      echo "$LATEST_RELEASE" | jq -r '.changes[] | "- " + .'
    fi

    if echo "$LATEST_RELEASE" | jq -e '(.knownIssues // []) | length > 0' > /dev/null; then
      echo
      echo "## Known Issues"
      echo "$LATEST_RELEASE" | jq -r '.knownIssues[] | "- " + .'
    fi
  fi
} > "release_notes.md"

echo "Release notes generated: release_notes.md"



================================================
FILE: .github/workflows/src/release-build.sh
================================================
#!/bin/bash

set -xe

if command -v apt-get &> /dev/null; then
  sudo apt-get install python3-launchpadlib
  sudo apt-get update
  sudo apt-get install -y xvfb libnvidia-egl-wayland1 mesa-utils libgl1-mesa-dri
fi

. $HOME/.cargo/env

ulimit -n 4096

if command -v Xvfb &> /dev/null; then
  if ! test "$ZEN_CROSS_COMPILING"; then
    Xvfb :2 -nolisten tcp -noreset -screen 0 1024x768x24 &
    export LLVM_PROFDATA=$HOME/.mozbuild/clang/bin/llvm-profdata
    export DISPLAY=:2
  fi
  export ZEN_RELEASE=1
  npm run build
else
  echo "Xvfb could not be found, running without it"
  echo "ASSUMING YOU ARE RUNNING THIS ON MACOS"

  set -v
  export ZEN_RELEASE=1
  npm run build
fi



================================================
FILE: .husky/pre-commit
================================================
npx lint-staged



================================================
FILE: .well-known/funding-manifest-urls
================================================
https://zen-browser.app/funding.json

